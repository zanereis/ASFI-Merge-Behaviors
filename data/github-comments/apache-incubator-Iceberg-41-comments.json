[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664357321","html_url":"https://github.com/apache/iceberg/issues/1144#issuecomment-664357321","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1144","id":664357321,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NDM1NzMyMQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-27T12:08:37Z","updated_at":"2020-07-27T12:08:52Z","author_association":"CONTRIBUTOR","body":"Just submitted a patch for #1253 to document indicating an issue for end users and take a workaround. I see the fix for Spark is non-trivial as well, given there's also v1 table format to handle.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664357321/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664373165","html_url":"https://github.com/apache/iceberg/pull/1237#issuecomment-664373165","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1237","id":664373165,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NDM3MzE2NQ==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-27T12:43:53Z","updated_at":"2020-07-27T12:43:53Z","author_association":"COLLABORATOR","body":"@rdblue , Thanks a lot for your comments. Let me go through the comments and separate the patch.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664373165/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664416548","html_url":"https://github.com/apache/iceberg/pull/1101#issuecomment-664416548","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1101","id":664416548,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NDQxNjU0OA==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-27T14:04:23Z","updated_at":"2020-07-27T14:04:23Z","author_association":"COLLABORATOR","body":"@rdblue , Just updated another round, the left `apply`s should be intended. Would you please take another look? Thanks.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664416548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664433001","html_url":"https://github.com/apache/iceberg/pull/1187#issuecomment-664433001","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1187","id":664433001,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NDQzMzAwMQ==","user":{"login":"fbocse","id":559272,"node_id":"MDQ6VXNlcjU1OTI3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/559272?v=4","gravatar_id":"","url":"https://api.github.com/users/fbocse","html_url":"https://github.com/fbocse","followers_url":"https://api.github.com/users/fbocse/followers","following_url":"https://api.github.com/users/fbocse/following{/other_user}","gists_url":"https://api.github.com/users/fbocse/gists{/gist_id}","starred_url":"https://api.github.com/users/fbocse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fbocse/subscriptions","organizations_url":"https://api.github.com/users/fbocse/orgs","repos_url":"https://api.github.com/users/fbocse/repos","events_url":"https://api.github.com/users/fbocse/events{/privacy}","received_events_url":"https://api.github.com/users/fbocse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-27T14:33:09Z","updated_at":"2020-07-27T14:33:09Z","author_association":"CONTRIBUTOR","body":"@rdblue did I get all the issues right on this one?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664433001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664443529","html_url":"https://github.com/apache/iceberg/pull/1243#issuecomment-664443529","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1243","id":664443529,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NDQ0MzUyOQ==","user":{"login":"massdosage","id":29457,"node_id":"MDQ6VXNlcjI5NDU3","avatar_url":"https://avatars.githubusercontent.com/u/29457?v=4","gravatar_id":"","url":"https://api.github.com/users/massdosage","html_url":"https://github.com/massdosage","followers_url":"https://api.github.com/users/massdosage/followers","following_url":"https://api.github.com/users/massdosage/following{/other_user}","gists_url":"https://api.github.com/users/massdosage/gists{/gist_id}","starred_url":"https://api.github.com/users/massdosage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massdosage/subscriptions","organizations_url":"https://api.github.com/users/massdosage/orgs","repos_url":"https://api.github.com/users/massdosage/repos","events_url":"https://api.github.com/users/massdosage/events{/privacy}","received_events_url":"https://api.github.com/users/massdosage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-27T14:50:39Z","updated_at":"2020-07-27T14:50:53Z","author_association":"CONTRIBUTOR","body":"> This PR adds support for custom catalog to Iceberg StorageHandler as well as Hadoop and Hive catalogs and removes the duplicated logic in `mapreduce.IcebergInputFormat.findTable` and `mapred.TableResolver`.\r\n> \r\n> Ideally, I'd like to run the Hive test suite against all the catalog implementations, but I didn't find a way to combine the `HiveRunner` and `Parameterized` test runners together. Suggestions?\r\n> \r\n> @cmathiesen @massdosage @rdsr\r\n\r\nI've seen this done using JUnit 5 - it would look something like this so it should be possible:\r\n\r\n```\r\n@ExtendWith(HiveRunnerExtension.class)\r\npublic class Params {\r\n  \r\n  @HiveSQL(files = {})\r\n  private HiveShell shell;\r\n\r\n  @ParameterizedTest\r\n  @ValueSource(strings = { \"orc\", \"parquet\", \"avro\" })\r\n  public void fileTypes(String fileType) {\r\n    System.out.println(fileType);\r\n  }\r\n  \r\n}\r\n```\r\nIt's probably not possible with JUnit4 as both mechanisms use a Runner and I don't think you can have multiple Runners on one test class.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664443529/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664444858","html_url":"https://github.com/apache/iceberg/pull/1243#issuecomment-664444858","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1243","id":664444858,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NDQ0NDg1OA==","user":{"login":"massdosage","id":29457,"node_id":"MDQ6VXNlcjI5NDU3","avatar_url":"https://avatars.githubusercontent.com/u/29457?v=4","gravatar_id":"","url":"https://api.github.com/users/massdosage","html_url":"https://github.com/massdosage","followers_url":"https://api.github.com/users/massdosage/followers","following_url":"https://api.github.com/users/massdosage/following{/other_user}","gists_url":"https://api.github.com/users/massdosage/gists{/gist_id}","starred_url":"https://api.github.com/users/massdosage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massdosage/subscriptions","organizations_url":"https://api.github.com/users/massdosage/orgs","repos_url":"https://api.github.com/users/massdosage/repos","events_url":"https://api.github.com/users/massdosage/events{/privacy}","received_events_url":"https://api.github.com/users/massdosage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-27T14:52:55Z","updated_at":"2020-07-27T14:52:55Z","author_association":"CONTRIBUTOR","body":"> > `HiveRunner` is rather slow (I believe each test sets up a new local HMS from scratch) and `TestHiveIcebergInputFormat` takes about 4 minutes to run on my machine (compile time included).\r\n> \r\n> In most of our test cases we spin up HMS once per test file and clean it up in setUp/tearDown. Not an ideal solution, but saves as time/money.\r\n\r\nHiveRunner doesn't currently support that but it has been discussed before - https://github.com/klarna/HiveRunner/issues/69","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664444858/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664494412","html_url":"https://github.com/apache/iceberg/pull/1253#issuecomment-664494412","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1253","id":664494412,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NDQ5NDQxMg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-27T16:16:10Z","updated_at":"2020-07-27T16:16:10Z","author_association":"CONTRIBUTOR","body":"Looks good to me. Thanks for contributing this fix, @HeartSaVioR!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664494412/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664495009","html_url":"https://github.com/apache/iceberg/issues/1144#issuecomment-664495009","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1144","id":664495009,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NDQ5NTAwOQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-27T16:17:22Z","updated_at":"2020-07-27T16:17:22Z","author_association":"CONTRIBUTOR","body":"I merged @HeartSaVioR's patch to the docs.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664495009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664495657","html_url":"https://github.com/apache/iceberg/pull/796#issuecomment-664495657","issue_url":"https://api.github.com/repos/apache/iceberg/issues/796","id":664495657,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NDQ5NTY1Nw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-27T16:18:28Z","updated_at":"2020-07-27T16:18:28Z","author_association":"CONTRIBUTOR","body":"cc @RussellSpitzer","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664495657/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664499245","html_url":"https://github.com/apache/iceberg/issues/954#issuecomment-664499245","issue_url":"https://api.github.com/repos/apache/iceberg/issues/954","id":664499245,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NDQ5OTI0NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-27T16:25:18Z","updated_at":"2020-07-27T16:25:18Z","author_association":"CONTRIBUTOR","body":"Closing this because #1240 was merged. Thanks for the fix @pvary!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664499245/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664502243","html_url":"https://github.com/apache/iceberg/pull/1252#issuecomment-664502243","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1252","id":664502243,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NDUwMjI0Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-27T16:30:47Z","updated_at":"2020-07-27T16:30:47Z","author_association":"CONTRIBUTOR","body":"@kbendick, that sounds good to me.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664502243/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664502847","html_url":"https://github.com/apache/iceberg/issues/1248#issuecomment-664502847","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1248","id":664502847,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NDUwMjg0Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-27T16:31:51Z","updated_at":"2020-07-27T16:31:51Z","author_association":"CONTRIBUTOR","body":"I'm closing this because both #1249 and #1252 are merged. Thanks for fixing this, @kbendick!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664502847/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664503259","html_url":"https://github.com/apache/iceberg/pull/1252#issuecomment-664503259","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1252","id":664503259,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NDUwMzI1OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-27T16:32:38Z","updated_at":"2020-07-27T16:32:38Z","author_association":"CONTRIBUTOR","body":"Thanks for fixing this!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664503259/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664506610","html_url":"https://github.com/apache/iceberg/issues/1257#issuecomment-664506610","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1257","id":664506610,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NDUwNjYxMA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-27T16:39:03Z","updated_at":"2020-07-27T16:39:03Z","author_association":"CONTRIBUTOR","body":"@samarthjain @rdblue could you provide some insights on the best way to fix this?\r\n\r\ncc @RussellSpitzer ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664506610/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664506655","html_url":"https://github.com/apache/iceberg/pull/1244#issuecomment-664506655","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1244","id":664506655,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NDUwNjY1NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-27T16:39:08Z","updated_at":"2020-07-27T16:39:08Z","author_association":"CONTRIBUTOR","body":"Just needs a minor update to tests, I think.\r\n\r\nThanks for taking the time to review, @moulimukherjee!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664506655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664509128","html_url":"https://github.com/apache/iceberg/issues/1257#issuecomment-664509128","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1257","id":664509128,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NDUwOTEyOA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-27T16:44:08Z","updated_at":"2020-07-27T16:44:08Z","author_association":"CONTRIBUTOR","body":"We need to return the `ColumnarBatch` with constant columns. There are two options.\r\n\r\nFirst, we could use [`ConstantColumnVector`](https://github.com/apache/iceberg/blob/master/spark/src/main/java/org/apache/iceberg/spark/data/vectorized/ConstantColumnVector.java) that was added for ORC. That is an implementation of Spark's columnar vector interface that always returns a constant.\r\n\r\nThe second option is to create an Arrow `FieldVector` that contains the data. This would be a little slower because we'd need to create a vector and fill it with copies of the same data value, but then we would have support for other paths that want to consume Arrow.\r\n\r\nThe simpler option is probably the first one.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664509128/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664515006","html_url":"https://github.com/apache/iceberg/pull/1221#issuecomment-664515006","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1221","id":664515006,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NDUxNTAwNg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-27T16:55:04Z","updated_at":"2020-07-27T17:08:56Z","author_association":"CONTRIBUTOR","body":"I made some minor edits:\r\n\r\n* Added whitespace after control flow in `SparkSchemaUtil`\r\n* Updated `testSchema` to `private static final` in `TestSparkSchemaUtil`\r\n* Fixed line length checkstyle problem in `SparkBatchScan`","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664515006/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664520035","html_url":"https://github.com/apache/iceberg/pull/1187#issuecomment-664520035","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1187","id":664520035,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NDUyMDAzNQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-27T17:04:33Z","updated_at":"2020-07-27T17:04:33Z","author_association":"CONTRIBUTOR","body":"@fbocse, yes. Sorry I didn't check back on this yet. I've merged it. Thanks for fixing this!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664520035/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664520394","html_url":"https://github.com/apache/iceberg/pull/1101#issuecomment-664520394","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1101","id":664520394,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NDUyMDM5NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-27T17:05:15Z","updated_at":"2020-07-27T17:05:15Z","author_association":"CONTRIBUTOR","body":"Will do. Thanks for the update, @chenjunjiedada!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664520394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664534763","html_url":"https://github.com/apache/iceberg/pull/1221#issuecomment-664534763","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1221","id":664534763,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NDUzNDc2Mw==","user":{"login":"sudssf","id":10800873,"node_id":"MDQ6VXNlcjEwODAwODcz","avatar_url":"https://avatars.githubusercontent.com/u/10800873?v=4","gravatar_id":"","url":"https://api.github.com/users/sudssf","html_url":"https://github.com/sudssf","followers_url":"https://api.github.com/users/sudssf/followers","following_url":"https://api.github.com/users/sudssf/following{/other_user}","gists_url":"https://api.github.com/users/sudssf/gists{/gist_id}","starred_url":"https://api.github.com/users/sudssf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sudssf/subscriptions","organizations_url":"https://api.github.com/users/sudssf/orgs","repos_url":"https://api.github.com/users/sudssf/repos","events_url":"https://api.github.com/users/sudssf/events{/privacy}","received_events_url":"https://api.github.com/users/sudssf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-27T17:32:33Z","updated_at":"2020-07-27T17:32:33Z","author_association":"CONTRIBUTOR","body":"thanks for fixing checkstyle issue @rdblue my local build was too slow so I waiting for ci build. I will make sure I run checkstyle locally first ( I was hoping intellij was fixing formatting issues automatically) ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664534763/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664536418","html_url":"https://github.com/apache/iceberg/pull/1244#issuecomment-664536418","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1244","id":664536418,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NDUzNjQxOA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-27T17:36:01Z","updated_at":"2020-07-27T17:36:01Z","author_association":"CONTRIBUTOR","body":"Looks like this also needs to be rebased after the changes in #1187.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664536418/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664555734","html_url":"https://github.com/apache/iceberg/issues/1257#issuecomment-664555734","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1257","id":664555734,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NDU1NTczNA==","user":{"login":"samarthjain","id":1642180,"node_id":"MDQ6VXNlcjE2NDIxODA=","avatar_url":"https://avatars.githubusercontent.com/u/1642180?v=4","gravatar_id":"","url":"https://api.github.com/users/samarthjain","html_url":"https://github.com/samarthjain","followers_url":"https://api.github.com/users/samarthjain/followers","following_url":"https://api.github.com/users/samarthjain/following{/other_user}","gists_url":"https://api.github.com/users/samarthjain/gists{/gist_id}","starred_url":"https://api.github.com/users/samarthjain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samarthjain/subscriptions","organizations_url":"https://api.github.com/users/samarthjain/orgs","repos_url":"https://api.github.com/users/samarthjain/repos","events_url":"https://api.github.com/users/samarthjain/events{/privacy}","received_events_url":"https://api.github.com/users/samarthjain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-27T18:12:42Z","updated_at":"2020-07-27T18:12:42Z","author_association":"COLLABORATOR","body":"To add to Ryan's point, the place where we currently disable vectorized\nreads for identity projections is here\n<https://github.com/apache/iceberg/blob/master/spark2/src/main/java/org/apache/iceberg/spark/source/Reader.java#L311>\n.\n<https://github.com/apache/iceberg/blob/master/spark2/src/main/java/org/apache/iceberg/spark/source/Reader.java#L311>\n\n\n\nOn Mon, Jul 27, 2020 at 9:44 AM Ryan Blue <notifications@github.com> wrote:\n\n> We need to return the ColumnarBatch with constant columns. There are two\n> options.\n>\n> First, we could use ConstantColumnVector\n> <https://github.com/apache/iceberg/blob/master/spark/src/main/java/org/apache/iceberg/spark/data/vectorized/ConstantColumnVector.java>\n> that was added for ORC. That is an implementation of Spark's columnar\n> vector interface that always returns a constant.\n>\n> The second option is to create an Arrow FieldVector that contains the\n> data. This would be a little slower because we'd need to create a vector\n> and fill it with copies of the same data value, but then we would have\n> support for other paths that want to consume Arrow.\n>\n> The simpler option is probably the first one.\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/iceberg/issues/1257#issuecomment-664509128>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AAMQ5REVY42WAZQNHGQKKDDR5WVGPANCNFSM4PI62NTA>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664555734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664638390","html_url":"https://github.com/apache/iceberg/pull/796#issuecomment-664638390","issue_url":"https://api.github.com/repos/apache/iceberg/issues/796","id":664638390,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NDYzODM5MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-27T21:06:01Z","updated_at":"2020-07-27T21:06:01Z","author_association":"CONTRIBUTOR","body":"@jerryshao, I gave it another review pass. There are a few issues to fix in the source, and I think it would be great to clean up the tests to use separate cases, context in assertions, and to correct the order of values passed to assertions.\r\n\r\nWe should also consider separating out the MicroBatch code to its own commit. I think that's ready to be committed and we could work on it in parallel. Specifically, the Avro readers now support a `_pos` metadata column that would allow using actual offsets even if the files are filtered. We'd need to add support for it, but we can do that separately and get the review for the structured streaming part done here.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664638390/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664704286","html_url":"https://github.com/apache/iceberg/issues/1258#issuecomment-664704286","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1258","id":664704286,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NDcwNDI4Ng==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-28T00:19:43Z","updated_at":"2020-07-28T00:19:43Z","author_association":"CONTRIBUTOR","body":"One of the things such action should do is to assign name mapping so that we have reliable nested schema pruning for imported tables. Such tables will not have column ids in data files.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664704286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664710661","html_url":"https://github.com/apache/iceberg/pull/1261#issuecomment-664710661","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1261","id":664710661,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NDcxMDY2MQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-28T00:43:17Z","updated_at":"2020-07-28T00:43:17Z","author_association":"CONTRIBUTOR","body":"I guess data compaction is also the thing end users would need to know, to help in read path. I'm hesitate to add it here right now, as there's no doc describing RewriteDataFilesAction (actually no Spark actions are documented yet), and there seems to be some movement to improve the action, as well as expose the action via query statement (which should be awesome).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664710661/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664710905","html_url":"https://github.com/apache/iceberg/pull/1261#issuecomment-664710905","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1261","id":664710905,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NDcxMDkwNQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-28T00:44:08Z","updated_at":"2020-07-28T00:44:08Z","author_association":"CONTRIBUTOR","body":"cc. @aokolnychyi as the original author of the feature.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664710905/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664743990","html_url":"https://github.com/apache/iceberg/pull/1261#issuecomment-664743990","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1261","id":664743990,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NDc0Mzk5MA==","user":{"login":"zhangdove","id":25578853,"node_id":"MDQ6VXNlcjI1NTc4ODUz","avatar_url":"https://avatars.githubusercontent.com/u/25578853?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangdove","html_url":"https://github.com/zhangdove","followers_url":"https://api.github.com/users/zhangdove/followers","following_url":"https://api.github.com/users/zhangdove/following{/other_user}","gists_url":"https://api.github.com/users/zhangdove/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangdove/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangdove/subscriptions","organizations_url":"https://api.github.com/users/zhangdove/orgs","repos_url":"https://api.github.com/users/zhangdove/repos","events_url":"https://api.github.com/users/zhangdove/events{/privacy}","received_events_url":"https://api.github.com/users/zhangdove/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-28T02:47:20Z","updated_at":"2020-07-28T02:47:20Z","author_association":"CONTRIBUTOR","body":"I wonder if there are any examples of `outputMode(\"update\")`.\r\nThere is an example about it. But I'm not sure if it's complete.\r\nhttps://github.com/apache/iceberg/blob/master/spark/src/test/java/org/apache/iceberg/spark/source/TestStructuredStreaming.java#L268","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664743990/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664751291","html_url":"https://github.com/apache/iceberg/pull/1261#issuecomment-664751291","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1261","id":664751291,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NDc1MTI5MQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-28T03:15:13Z","updated_at":"2020-07-28T03:15:13Z","author_association":"CONTRIBUTOR","body":"Iceberg table works with append and complete. I'll add the compatible modes.\r\n\r\nIn test for update mode you can see the first line as `exceptionRule.expect(StreamingQueryException.class);`, which means we are expecting exception for the update mode.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664751291/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664754351","html_url":"https://github.com/apache/iceberg/pull/1261#issuecomment-664754351","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1261","id":664754351,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NDc1NDM1MQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-28T03:26:44Z","updated_at":"2020-07-28T03:26:44Z","author_association":"CONTRIBUTOR","body":"And worth noting about \"known issue\" that update mode in structured streaming is semantically incomplete - Spark should either \"delete and append\" or \"upsert\", but Spark just does \"append\" even for update mode. Spark doesn't provide \"keys\" to the sink which is required to do \"upsert\" or delete the existing record.\r\n\r\nIt only works when end users carefully provide the output into the sink and configure sink to do upsert in given schema (keys must be same as grouped columns). I personally don't think it's feasible to provide anyway and let end users take responsibility.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664754351/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664811179","html_url":"https://github.com/apache/iceberg/pull/1244#issuecomment-664811179","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1244","id":664811179,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NDgxMTE3OQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-28T06:45:35Z","updated_at":"2020-07-28T06:45:35Z","author_association":"CONTRIBUTOR","body":"I find this useful (as it is, even without the possibility of extension), as I realized expiring snapshots take very short period on actual expiration of snapshots (with committing), and bunch of time is taken from removing stale data and manifest files (I'm on 0.9.0 so still single threaded, but even with the recent patch it's limited on single process) and it looks to be shown as stuck, though it is actually doing something.\r\n\r\nIf I understand correctly, as once the snapshots are expired, stale data and manifest can be also removed via RemoveOrphanFilesAction with Spark computation power and resource. It's read-only in point of table's view so no contention on optimistic locking.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664811179/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664820529","html_url":"https://github.com/apache/iceberg/pull/1235#issuecomment-664820529","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1235","id":664820529,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NDgyMDUyOQ==","user":{"login":"JingsongLi","id":9601882,"node_id":"MDQ6VXNlcjk2MDE4ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9601882?v=4","gravatar_id":"","url":"https://api.github.com/users/JingsongLi","html_url":"https://github.com/JingsongLi","followers_url":"https://api.github.com/users/JingsongLi/followers","following_url":"https://api.github.com/users/JingsongLi/following{/other_user}","gists_url":"https://api.github.com/users/JingsongLi/gists{/gist_id}","starred_url":"https://api.github.com/users/JingsongLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JingsongLi/subscriptions","organizations_url":"https://api.github.com/users/JingsongLi/orgs","repos_url":"https://api.github.com/users/JingsongLi/repos","events_url":"https://api.github.com/users/JingsongLi/events{/privacy}","received_events_url":"https://api.github.com/users/JingsongLi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-28T07:09:11Z","updated_at":"2020-07-28T07:09:11Z","author_association":"CONTRIBUTOR","body":"> Thanks @JingsongLi! This looks like a good thing to do, but I would keep the two cases (id- or structure-based traversal) separate to simplify implementations and make it easier to read.\r\n\r\nThanks @rdblue for your review, I think we can keep `AvroSchemaWithTypeVisitor` as it is (No other implementation), and introduce `AvroWithPartnerByStructureVisitor` for Flink implementation.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664820529/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664832213","html_url":"https://github.com/apache/iceberg/pull/1254#issuecomment-664832213","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1254","id":664832213,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NDgzMjIxMw==","user":{"login":"shardulm94","id":6961317,"node_id":"MDQ6VXNlcjY5NjEzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/6961317?v=4","gravatar_id":"","url":"https://api.github.com/users/shardulm94","html_url":"https://github.com/shardulm94","followers_url":"https://api.github.com/users/shardulm94/followers","following_url":"https://api.github.com/users/shardulm94/following{/other_user}","gists_url":"https://api.github.com/users/shardulm94/gists{/gist_id}","starred_url":"https://api.github.com/users/shardulm94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shardulm94/subscriptions","organizations_url":"https://api.github.com/users/shardulm94/orgs","repos_url":"https://api.github.com/users/shardulm94/repos","events_url":"https://api.github.com/users/shardulm94/events{/privacy}","received_events_url":"https://api.github.com/users/shardulm94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-28T07:36:35Z","updated_at":"2020-07-28T07:36:35Z","author_association":"CONTRIBUTOR","body":"This looks good to me! Would be great if someone familiar with Parquet could take a second pass.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664832213/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664855848","html_url":"https://github.com/apache/iceberg/pull/796#issuecomment-664855848","issue_url":"https://api.github.com/repos/apache/iceberg/issues/796","id":664855848,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NDg1NTg0OA==","user":{"login":"jerryshao","id":850797,"node_id":"MDQ6VXNlcjg1MDc5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/850797?v=4","gravatar_id":"","url":"https://api.github.com/users/jerryshao","html_url":"https://github.com/jerryshao","followers_url":"https://api.github.com/users/jerryshao/followers","following_url":"https://api.github.com/users/jerryshao/following{/other_user}","gists_url":"https://api.github.com/users/jerryshao/gists{/gist_id}","starred_url":"https://api.github.com/users/jerryshao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerryshao/subscriptions","organizations_url":"https://api.github.com/users/jerryshao/orgs","repos_url":"https://api.github.com/users/jerryshao/repos","events_url":"https://api.github.com/users/jerryshao/events{/privacy}","received_events_url":"https://api.github.com/users/jerryshao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-28T08:25:49Z","updated_at":"2020-07-28T08:26:21Z","author_association":"CONTRIBUTOR","body":"Thanks for the review. I will separate out `MicroBatch` code to another PR to review firstly.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664855848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664857041","html_url":"https://github.com/apache/iceberg/pull/1239#issuecomment-664857041","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1239","id":664857041,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NDg1NzA0MQ==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-28T08:28:13Z","updated_at":"2020-07-28T08:28:13Z","author_association":"COLLABORATOR","body":"@rdsr , Thanks for your review! I used this when building unit tests for Flink table source since we are using Iceberg generics for Flink. This will be updated if we changed to use Flink internal data model later.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/664857041/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665000943","html_url":"https://github.com/apache/iceberg/pull/1240#issuecomment-665000943","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1240","id":665000943,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTAwMDk0Mw==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-28T12:06:16Z","updated_at":"2020-07-28T12:06:16Z","author_association":"CONTRIBUTOR","body":"Thanks @rdblue, @shardulm94 for the review and the push!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665000943/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665135343","html_url":"https://github.com/apache/iceberg/pull/1244#issuecomment-665135343","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1244","id":665135343,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTEzNTM0Mw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-28T16:17:01Z","updated_at":"2020-07-28T16:17:01Z","author_association":"CONTRIBUTOR","body":"@HeartSaVioR the current solution works well for regular maintenance and when we expire snapshots every day. It is slow once we have a huge list of manifests and snapshots to scan through. For example, when a table with 2-3 million files is compacted and contains only 100-200 thousand files. Our workaround was as you described: we expired snapshots which was quick and left cleanup to `RemoveOrphanFilesAction`. The problem with that action is that it does an expensive list operation. Listing partitions can easily take hours and puts the underlying storage under pressure. Our users don't run that action frequently. Usually, once a month is good enough. Snapshots should be expired regularly to clean up old data and metadata files. That's why @RussellSpitzer is working on an action that will parallelize the scanning. It will be also done after the commit so there is no contention on optimistic locking. That way, we have all the flexibility we need. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665135343/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665139201","html_url":"https://github.com/apache/iceberg/pull/1244#issuecomment-665139201","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1244","id":665139201,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTEzOTIwMQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-28T16:24:11Z","updated_at":"2020-07-28T16:24:11Z","author_association":"MEMBER","body":"Rebased and all comments addressed \r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665139201/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665182709","html_url":"https://github.com/apache/iceberg/issues/1257#issuecomment-665182709","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1257","id":665182709,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTE4MjcwOQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-28T17:48:48Z","updated_at":"2020-07-28T17:48:48Z","author_association":"MEMBER","body":"I'll take a look at this, should be pretty straight forwards 🤞 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665182709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665213735","html_url":"https://github.com/apache/iceberg/pull/1244#issuecomment-665213735","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1244","id":665213735,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTIxMzczNQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-28T18:48:19Z","updated_at":"2020-07-28T18:48:19Z","author_association":"CONTRIBUTOR","body":"@RussellSpitzer seems like there is a style violation after the recent rename as we have two methods with identical names. \r\n\r\n```\r\n[ant:checkstyle] [ERROR] /home/travis/build/apache/iceberg/core/src/main/java/org/apache/iceberg/RemoveSnapshots.java:207: Overload methods should not be split. Previous overloaded method located at line '82'. [OverloadMethodsDeclarationOrder]\r\n```\r\n\r\nI do like the current order of methods, though.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665213735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665215450","html_url":"https://github.com/apache/iceberg/pull/1244#issuecomment-665215450","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1244","id":665215450,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTIxNTQ1MA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-28T18:51:53Z","updated_at":"2020-07-28T18:51:53Z","author_association":"MEMBER","body":"Yeah the issue is the rename of the flag, it now shares a name with the\ninternal file removal method. I'll rename the internal one so there is no\nlonger a collision.\n\nOn Tue, Jul 28, 2020 at 1:48 PM Anton Okolnychyi <notifications@github.com>\nwrote:\n\n> @RussellSpitzer <https://github.com/RussellSpitzer> seems like there is a\n> style violation after the recent rename as we have two methods with\n> identical names.\n>\n> [ant:checkstyle] [ERROR] /home/travis/build/apache/iceberg/core/src/main/java/org/apache/iceberg/RemoveSnapshots.java:207: Overload methods should not be split. Previous overloaded method located at line '82'. [OverloadMethodsDeclarationOrder]\n>\n> I do like the current order of methods, though.\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/iceberg/pull/1244#issuecomment-665213735>, or\n> unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AADE2YIH26UF5QGHEC44KWDR54MQDANCNFSM4PHDMMFA>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665215450/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665232968","html_url":"https://github.com/apache/iceberg/pull/1259#issuecomment-665232968","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1259","id":665232968,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTIzMjk2OA==","user":{"login":"shardulm94","id":6961317,"node_id":"MDQ6VXNlcjY5NjEzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/6961317?v=4","gravatar_id":"","url":"https://api.github.com/users/shardulm94","html_url":"https://github.com/shardulm94","followers_url":"https://api.github.com/users/shardulm94/followers","following_url":"https://api.github.com/users/shardulm94/following{/other_user}","gists_url":"https://api.github.com/users/shardulm94/gists{/gist_id}","starred_url":"https://api.github.com/users/shardulm94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shardulm94/subscriptions","organizations_url":"https://api.github.com/users/shardulm94/orgs","repos_url":"https://api.github.com/users/shardulm94/repos","events_url":"https://api.github.com/users/shardulm94/events{/privacy}","received_events_url":"https://api.github.com/users/shardulm94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-28T19:29:26Z","updated_at":"2020-07-28T19:29:26Z","author_association":"CONTRIBUTOR","body":"Thanks for the PR @skambha!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665232968/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665235680","html_url":"https://github.com/apache/iceberg/pull/1221#issuecomment-665235680","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1221","id":665235680,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTIzNTY4MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-28T19:35:13Z","updated_at":"2020-07-28T19:35:13Z","author_association":"CONTRIBUTOR","body":"Merged. Thanks for fixing this, @sudssf!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665235680/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665237459","html_url":"https://github.com/apache/iceberg/pull/1244#issuecomment-665237459","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1244","id":665237459,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTIzNzQ1OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-28T19:39:17Z","updated_at":"2020-07-28T19:39:17Z","author_association":"CONTRIBUTOR","body":"@aokolnychyi, @RussellSpitzer, should we just disable the `OverloadMethodsDeclarationOrder` rule? I've hit that one a few times, too. I often want to keep methods from a certain interface together, or want to keep static and instance methods in groups. And I'm not sure if it is actually worth the benefit.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665237459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665238361","html_url":"https://github.com/apache/iceberg/pull/1244#issuecomment-665238361","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1244","id":665238361,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTIzODM2MQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-28T19:41:09Z","updated_at":"2020-07-28T19:41:09Z","author_association":"CONTRIBUTOR","body":"Merged. Thanks @RussellSpitzer!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665238361/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665239439","html_url":"https://github.com/apache/iceberg/pull/1244#issuecomment-665239439","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1244","id":665239439,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTIzOTQzOQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-28T19:43:33Z","updated_at":"2020-07-28T19:43:33Z","author_association":"MEMBER","body":"Thanks for the review! Now onto the refactor pr :|","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665239439/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665239667","html_url":"https://github.com/apache/iceberg/pull/1244#issuecomment-665239667","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1244","id":665239667,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTIzOTY2Nw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-28T19:44:05Z","updated_at":"2020-07-28T19:44:05Z","author_association":"CONTRIBUTOR","body":"I am OK disabling `OverloadMethodsDeclarationOrder`.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665239667/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665242700","html_url":"https://github.com/apache/iceberg/pull/1244#issuecomment-665242700","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1244","id":665242700,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTI0MjcwMA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-28T19:50:55Z","updated_at":"2020-07-28T19:50:55Z","author_association":"MEMBER","body":"I think disabling OverloadMethodsDeclarationOrder is fine as well but in this case it wasn't really the same method so it makes more sense to rename the internal method I think :)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665242700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665260613","html_url":"https://github.com/apache/iceberg/pull/1245#issuecomment-665260613","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1245","id":665260613,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTI2MDYxMw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-28T20:19:32Z","updated_at":"2020-07-28T20:19:40Z","author_association":"CONTRIBUTOR","body":"It does not seem like we reduced complexity at this point. In some cases, we actually added it. Quick question: do we want to keep `ExpireSnapshotUtil` and `ManifestExpirationManager` separate? Would it simplify our life if it was one class?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665260613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665274471","html_url":"https://github.com/apache/iceberg/pull/1245#issuecomment-665274471","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1245","id":665274471,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTI3NDQ3MQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-28T20:47:28Z","updated_at":"2020-07-28T20:47:28Z","author_association":"CONTRIBUTOR","body":"I think I get the idea of why we want to have both `ExpireSnapshotUtil` and `ManifestExpirationManager` as separate classes after looking into this more. However, do we need to know `ManifestExpirationChanges` in `ManifestExpirationManager`? Shouldn't this class just accept a list of manifests to scan as method args?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665274471/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665283570","html_url":"https://github.com/apache/iceberg/pull/1245#issuecomment-665283570","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1245","id":665283570,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTI4MzU3MA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-28T21:07:02Z","updated_at":"2020-07-28T21:10:03Z","author_association":"CONTRIBUTOR","body":"For example, I mean something like this:\r\n\r\n```\r\npublic class ManifestExpirationManager {\r\n  private static final Logger LOG = LoggerFactory.getLogger(ManifestExpirationManager.class);\r\n\r\n  private final Set<Long> validSnapshotIds;\r\n  private final Map<Integer, PartitionSpec> specs;\r\n  private final FileIO io;\r\n\r\n  public ManifestExpirationManager(Set<Long> validSnapshotIds, Map<Integer, PartitionSpec> specs, FileIO io) {\r\n    this.validSnapshotIds = validSnapshotIds;\r\n    this.specs = specs;\r\n    this.io = io;\r\n  }\r\n\r\n  public Set<String> findAbandonedDeletedFiles(Set<ManifestFile> manifestsWithDeletes) {\r\n    Set<String> filesToDelete = new HashSet<>();\r\n    Tasks.foreach(manifestsWithDeletes)\r\n        .retry(3).suppressFailureWhenFinished()\r\n        .onFailure((item, exc) -> LOG.warn(\"Failed to get deleted files: this may cause orphaned data files\", exc))\r\n        .run(manifest -> {\r\n          try {\r\n            filesToDelete.addAll(findAbandonedDeletedFiles(manifest));\r\n          } catch (IOException e) {\r\n            throw new UncheckedIOException(String.format(\"Failed to read manifest file: %s\", manifest), e);\r\n          }\r\n        });\r\n    return filesToDelete;\r\n  }\r\n\r\n  private Set<String> findAbandonedDeletedFiles(ManifestFile manifest) throws IOException {\r\n    Set<String> filesToDelete = new HashSet<>();\r\n    try (ManifestReader<?> reader = ManifestFiles.open(manifest, io, specs)) {\r\n      for (ManifestEntry<?> entry : reader.entries()) {\r\n        if (entry.status() == ManifestEntry.Status.DELETED && !validSnapshotIds.contains(entry.snapshotId())) {\r\n          // use toString to ensure the path will not change (Utf8 is reused)\r\n          filesToDelete.add(entry.file().path().toString());\r\n        }\r\n      }\r\n    }\r\n    return filesToDelete;\r\n  }\r\n\r\n...\r\n\r\n}\r\n```\r\n\r\nThis way, we only encapsulate the logic for scanning manifests in `ManifestExpirationManager`. We can either make this class serializable and broadcast or instantiate directly in executors.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665283570/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665295397","html_url":"https://github.com/apache/iceberg/pull/1245#issuecomment-665295397","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1245","id":665295397,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTI5NTM5Nw==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-28T21:34:09Z","updated_at":"2020-07-28T21:34:09Z","author_association":"MEMBER","body":"@rdblue I think I moved a bit in the wrong direction here and I want to make sure we are on the same page as to the end goal of the refactor. I'll be on the call tomorrow if you want to discuss in person or if you want to keep discussing here that is fine as well.\r\n\r\nI think I do want to revert the last commit and maybe concentrate on still isolating the Manifest Scanning code from the Determining which Manifests to Scan code. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665295397/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665306899","html_url":"https://github.com/apache/iceberg/pull/1261#issuecomment-665306899","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1261","id":665306899,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTMwNjg5OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-28T22:03:18Z","updated_at":"2020-07-28T22:03:18Z","author_association":"CONTRIBUTOR","body":"Thanks, @HeartSaVioR! The main thing is that I think that Spark Streaming should probably be on its own page so we can expand what is covered a bit more and have a section for what people need to know about tuning metadata creation and maintaining tables.\r\n\r\nWe should also note how to control the rate of commits, since we probably only recommend once-per-minute to reduce the problems you were hitting.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665306899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665393243","html_url":"https://github.com/apache/iceberg/pull/1261#issuecomment-665393243","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1261","id":665393243,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTM5MzI0Mw==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-29T02:26:24Z","updated_at":"2020-07-29T02:26:24Z","author_association":"CONTRIBUTOR","body":"Ah that's good idea. I agree the page would probably have more and more approaches and best practices on maintaining the table against fast rate write.\r\n\r\nBtw, I see there have been efforts on Flink as well, which I think common guide on committing with fast rate would apply across the engines. The steps to do might be different between engines though: e.g. the way of controlling the rate of commit would differ: trigger in Spark, checkpoint interval (I guess, if the goal of Flink writer is end-to-end exactly once) in Flink.\r\n\r\nThat said, it sounds a valid plan to start with Spark Structured Streaming doc page, and extract the common things once Flink streaming writer is ready (assuming Flink can also take care of the things like Spark actions).\r\n\r\nI'll try to write the new page. Thanks! ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665393243/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665424558","html_url":"https://github.com/apache/iceberg/pull/922#issuecomment-665424558","issue_url":"https://api.github.com/repos/apache/iceberg/issues/922","id":665424558,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTQyNDU1OA==","user":{"login":"jun-he","id":12246263,"node_id":"MDQ6VXNlcjEyMjQ2MjYz","avatar_url":"https://avatars.githubusercontent.com/u/12246263?v=4","gravatar_id":"","url":"https://api.github.com/users/jun-he","html_url":"https://github.com/jun-he","followers_url":"https://api.github.com/users/jun-he/followers","following_url":"https://api.github.com/users/jun-he/following{/other_user}","gists_url":"https://api.github.com/users/jun-he/gists{/gist_id}","starred_url":"https://api.github.com/users/jun-he/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jun-he/subscriptions","organizations_url":"https://api.github.com/users/jun-he/orgs","repos_url":"https://api.github.com/users/jun-he/repos","events_url":"https://api.github.com/users/jun-he/events{/privacy}","received_events_url":"https://api.github.com/users/jun-he/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-29T04:32:37Z","updated_at":"2020-07-29T04:32:37Z","author_association":"COLLABORATOR","body":"@rdblue can you let me know your comments? Thanks.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665424558/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665424579","html_url":"https://github.com/apache/iceberg/pull/1141#issuecomment-665424579","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1141","id":665424579,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTQyNDU3OQ==","user":{"login":"jun-he","id":12246263,"node_id":"MDQ6VXNlcjEyMjQ2MjYz","avatar_url":"https://avatars.githubusercontent.com/u/12246263?v=4","gravatar_id":"","url":"https://api.github.com/users/jun-he","html_url":"https://github.com/jun-he","followers_url":"https://api.github.com/users/jun-he/followers","following_url":"https://api.github.com/users/jun-he/following{/other_user}","gists_url":"https://api.github.com/users/jun-he/gists{/gist_id}","starred_url":"https://api.github.com/users/jun-he/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jun-he/subscriptions","organizations_url":"https://api.github.com/users/jun-he/orgs","repos_url":"https://api.github.com/users/jun-he/repos","events_url":"https://api.github.com/users/jun-he/events{/privacy}","received_events_url":"https://api.github.com/users/jun-he/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-29T04:32:44Z","updated_at":"2020-07-29T04:32:44Z","author_association":"COLLABORATOR","body":"@rdblue can you let me know your comments? Thanks.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665424579/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665434507","html_url":"https://github.com/apache/iceberg/issues/1260#issuecomment-665434507","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1260","id":665434507,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTQzNDUwNw==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-29T05:10:39Z","updated_at":"2020-07-29T15:42:10Z","author_association":"CONTRIBUTOR","body":"I believe this ticket is to address time travel by both `snapshot-id` and `as-of-timestamp`?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665434507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665457977","html_url":"https://github.com/apache/iceberg/pull/1197#issuecomment-665457977","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1197","id":665457977,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTQ1Nzk3Nw==","user":{"login":"simonsssu","id":12323514,"node_id":"MDQ6VXNlcjEyMzIzNTE0","avatar_url":"https://avatars.githubusercontent.com/u/12323514?v=4","gravatar_id":"","url":"https://api.github.com/users/simonsssu","html_url":"https://github.com/simonsssu","followers_url":"https://api.github.com/users/simonsssu/followers","following_url":"https://api.github.com/users/simonsssu/following{/other_user}","gists_url":"https://api.github.com/users/simonsssu/gists{/gist_id}","starred_url":"https://api.github.com/users/simonsssu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simonsssu/subscriptions","organizations_url":"https://api.github.com/users/simonsssu/orgs","repos_url":"https://api.github.com/users/simonsssu/repos","events_url":"https://api.github.com/users/simonsssu/events{/privacy}","received_events_url":"https://api.github.com/users/simonsssu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-29T06:22:00Z","updated_at":"2020-07-29T06:22:00Z","author_association":"CONTRIBUTOR","body":"Can we abstract a BaseOrcWriter in the future ? Then make GenericOrcWriter, FlinkOrcWriter, SparkOrcWriter extends it. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665457977/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665646546","html_url":"https://github.com/apache/iceberg/pull/1237#issuecomment-665646546","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1237","id":665646546,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTY0NjU0Ng==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-29T12:55:08Z","updated_at":"2020-07-29T12:55:08Z","author_association":"COLLABORATOR","body":"@rdblue , I created #1266 for the reader, you may want to take a look. The comments for the reader side are addressed in that PR as well. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665646546/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665656488","html_url":"https://github.com/apache/iceberg/pull/1261#issuecomment-665656488","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1261","id":665656488,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTY1NjQ4OA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-29T13:14:24Z","updated_at":"2020-07-29T13:14:24Z","author_association":"CONTRIBUTOR","body":"I've updated the doc - now the structured streaming support has its own page. Please refer the PR description to see how it would represent.\r\n\r\nI'd like to add the tip on expiring snapshots without cleaning up data and manifest files and executing remove orphaned files separately (@aokolnychyi shared the approach as real world workaround - https://github.com/apache/iceberg/pull/1244#issuecomment-665135343), but given the feature is not released and I'm not clear whether the site doc is following the Iceberg version, I'd like to confirm whether it's safe to add.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665656488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665677818","html_url":"https://github.com/apache/iceberg/pull/1255#issuecomment-665677818","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1255","id":665677818,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTY3NzgxOA==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-29T13:52:53Z","updated_at":"2020-07-29T13:52:53Z","author_association":"MEMBER","body":"I've fixed the broken unit test in the lates patch.  It can be reviewed now and I will remove the `WIP` tag.. let's wait the travis test result.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665677818/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665681586","html_url":"https://github.com/apache/iceberg/pull/1197#issuecomment-665681586","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1197","id":665681586,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTY4MTU4Ng==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-29T13:59:34Z","updated_at":"2020-07-29T13:59:34Z","author_association":"MEMBER","body":"@Simon0806   we won't need to abstract the `BaseOrcWriter` again in this patch because we have [discussed](https://github.com/apache/iceberg/pull/1158#discussion_r451323369) to share the common data type writers in the GenericOrcWriter, FlinkOrcWriter, SparkOrcWriter.  That's helpful to decouple the codes for different compute engine.  Thanks.  \r\n\r\nBTW, ping @rdblue to merge this patch, Thanks. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665681586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665756972","html_url":"https://github.com/apache/iceberg/issues/1257#issuecomment-665756972","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1257","id":665756972,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTc1Njk3Mg==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-29T16:09:36Z","updated_at":"2020-07-29T16:09:36Z","author_association":"MEMBER","body":"I don't believe there are any current tests checking that this path is exercised, I removed the boolean and no tests failed. I'll be sure to add some back in","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665756972/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665760682","html_url":"https://github.com/apache/iceberg/pull/1267#issuecomment-665760682","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1267","id":665760682,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTc2MDY4Mg==","user":{"login":"massdosage","id":29457,"node_id":"MDQ6VXNlcjI5NDU3","avatar_url":"https://avatars.githubusercontent.com/u/29457?v=4","gravatar_id":"","url":"https://api.github.com/users/massdosage","html_url":"https://github.com/massdosage","followers_url":"https://api.github.com/users/massdosage/followers","following_url":"https://api.github.com/users/massdosage/following{/other_user}","gists_url":"https://api.github.com/users/massdosage/gists{/gist_id}","starred_url":"https://api.github.com/users/massdosage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massdosage/subscriptions","organizations_url":"https://api.github.com/users/massdosage/orgs","repos_url":"https://api.github.com/users/massdosage/repos","events_url":"https://api.github.com/users/massdosage/events{/privacy}","received_events_url":"https://api.github.com/users/massdosage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-29T16:16:19Z","updated_at":"2020-07-29T16:16:19Z","author_association":"CONTRIBUTOR","body":"@guilload I've taken the `iceberg-mr-all.jar` that the above produces and added it to a Hive client's classpath by doing the following:\r\n```\r\nhive> add jar /home/hadoop/iceberg/0.9.0-SNAPSHOT/iceberg-mr-all.jar;\r\nAdded [/home/hadoop/iceberg/0.9.0-SNAPSHOT/iceberg-mr-all.jar] to class path\r\n```\r\nI've then created a Hive table on top of an existing Iceberg table by doing the following:\r\n```\r\nCREATE EXTERNAL TABLE default.iceberg_table_a STORED BY 'org.apache.iceberg.mr.hive.HiveIcebergStorageHandler' LOCATION 'hdfs://host:port/hiveberg/table_a';\r\n```\r\nI can successfully perform a `SELECT *` from this but if I add an `ORDER BY` clause to force a Map Reduce job to execute it fails with the following error:\r\n```\r\nError: java.io.IOException: java.lang.NullPointerException: Table cannot be null\r\n        at org.apache.hadoop.hive.io.HiveIOExceptionHandlerChain.handleRecordReaderCreationException(HiveIOExceptionHandlerChain.java:97)\r\n        at org.apache.hadoop.hive.io.HiveIOExceptionHandlerUtil.handleRecordReaderCreationException(HiveIOExceptionHandlerUtil.java:57)\r\n        at org.apache.hadoop.hive.ql.io.HiveInputFormat.getRecordReader(HiveInputFormat.java:379)\r\n        at org.apache.hadoop.hive.ql.io.CombineHiveInputFormat.getRecordReader(CombineHiveInputFormat.java:678)\r\n        at org.apache.hadoop.mapred.MapTask$TrackedRecordReader.<init>(MapTask.java:170)\r\n        at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:433)\r\n        at org.apache.hadoop.mapred.MapTask.run(MapTask.java:344)\r\n        at org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:175)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at javax.security.auth.Subject.doAs(Subject.java:422)\r\n        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1844)\r\n        at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:169)\r\nCaused by: java.lang.NullPointerException: Table cannot be null\r\n        at org.apache.iceberg.relocated.com.google.common.base.Preconditions.checkNotNull(Preconditions.java:897)\r\n        at org.apache.iceberg.mr.hive.HiveIcebergInputFormat.forwardConfigSettings(HiveIcebergInputFormat.java:76)\r\n        at org.apache.iceberg.mr.hive.HiveIcebergInputFormat.getRecordReader(HiveIcebergInputFormat.java:63)\r\n        at org.apache.hadoop.hive.ql.io.HiveInputFormat.getRecordReader(HiveInputFormat.java:376)\r\n        ... 9 more\r\n```\r\nI haven't had time to look into it in depth but I know we had this working in Hiveberg so there is something in the new InputFormat that is failing. I tried removing the null checks and adding \"if not null\" checks in the code below them but the NPE then just moves further down in the code:\r\n```\r\nCaused by: java.lang.NullPointerException\r\n        at java.util.Objects.requireNonNull(Objects.java:203)\r\n        at com.github.benmanes.caffeine.cache.BoundedLocalCache.computeIfAbsent(BoundedLocalCache.java:2296)\r\n        at com.github.benmanes.caffeine.cache.LocalCache.computeIfAbsent(LocalCache.java:111)\r\n        at com.github.benmanes.caffeine.cache.LocalManualCache.get(LocalManualCache.java:54)\r\n        at org.apache.iceberg.SchemaParser.fromJson(SchemaParser.java:247)\r\n        at org.apache.iceberg.mr.mapreduce.IcebergInputFormat$IcebergRecordReader.initialize(IcebergInputFormat.java:181)\r\n        at org.apache.iceberg.mr.mapred.MapredIcebergInputFormat$MapredIcebergRecordReader.<init>(MapredIcebergInputFormat.java:92)\r\n        at org.apache.iceberg.mr.mapred.MapredIcebergInputFormat.getRecordReader(MapredIcebergInputFormat.java:78)\r\n        at org.apache.iceberg.mr.hive.HiveIcebergInputFormat.getRecordReader(HiveIcebergInputFormat.java:64)\r\n        at org.apache.hadoop.hive.ql.io.HiveInputFormat.getRecordReader(HiveInputFormat.java:376)\r\n        ... 26 more\r\n```\r\nYou said you had this working via a Hive client, what have I done differently that I'm running into all these exceptions?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665760682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665818165","html_url":"https://github.com/apache/iceberg/pull/1221#issuecomment-665818165","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1221","id":665818165,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTgxODE2NQ==","user":{"login":"sudssf","id":10800873,"node_id":"MDQ6VXNlcjEwODAwODcz","avatar_url":"https://avatars.githubusercontent.com/u/10800873?v=4","gravatar_id":"","url":"https://api.github.com/users/sudssf","html_url":"https://github.com/sudssf","followers_url":"https://api.github.com/users/sudssf/followers","following_url":"https://api.github.com/users/sudssf/following{/other_user}","gists_url":"https://api.github.com/users/sudssf/gists{/gist_id}","starred_url":"https://api.github.com/users/sudssf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sudssf/subscriptions","organizations_url":"https://api.github.com/users/sudssf/orgs","repos_url":"https://api.github.com/users/sudssf/repos","events_url":"https://api.github.com/users/sudssf/events{/privacy}","received_events_url":"https://api.github.com/users/sudssf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-29T18:10:01Z","updated_at":"2020-07-29T18:10:01Z","author_association":"CONTRIBUTOR","body":"thanks for opportunity and quick turn around !","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665818165/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665845026","html_url":"https://github.com/apache/iceberg/pull/1267#issuecomment-665845026","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1267","id":665845026,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTg0NTAyNg==","user":{"login":"guilload","id":3011588,"node_id":"MDQ6VXNlcjMwMTE1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/3011588?v=4","gravatar_id":"","url":"https://api.github.com/users/guilload","html_url":"https://github.com/guilload","followers_url":"https://api.github.com/users/guilload/followers","following_url":"https://api.github.com/users/guilload/following{/other_user}","gists_url":"https://api.github.com/users/guilload/gists{/gist_id}","starred_url":"https://api.github.com/users/guilload/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guilload/subscriptions","organizations_url":"https://api.github.com/users/guilload/orgs","repos_url":"https://api.github.com/users/guilload/repos","events_url":"https://api.github.com/users/guilload/events{/privacy}","received_events_url":"https://api.github.com/users/guilload/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-29T19:02:23Z","updated_at":"2020-07-29T19:02:23Z","author_association":"CONTRIBUTOR","body":"I run MR in local mode whereas this seems to be running in distributed mode with YARN. I'll have to dig deeper but my guess is that `table` is null because in that case the calls to `getSplits` and then `getRecordReader` happens in two different processes.\r\n\r\nYou mind trying this [branch](https://github.com/guilload/iceberg/tree/guilload--carry-table-schema-and-projection-within-iceberg-split)? I've added a `schema` and a `projection` attribute to `IcebergSplit`, this way we can remove the \"forwarding\" logic in the input format. @rdsr, what do you think of this approach? One downside is the increase in size of the serialized splits.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665845026/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665856176","html_url":"https://github.com/apache/iceberg/pull/1208#issuecomment-665856176","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1208","id":665856176,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTg1NjE3Ng==","user":{"login":"edgarRd","id":266670,"node_id":"MDQ6VXNlcjI2NjY3MA==","avatar_url":"https://avatars.githubusercontent.com/u/266670?v=4","gravatar_id":"","url":"https://api.github.com/users/edgarRd","html_url":"https://github.com/edgarRd","followers_url":"https://api.github.com/users/edgarRd/followers","following_url":"https://api.github.com/users/edgarRd/following{/other_user}","gists_url":"https://api.github.com/users/edgarRd/gists{/gist_id}","starred_url":"https://api.github.com/users/edgarRd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edgarRd/subscriptions","organizations_url":"https://api.github.com/users/edgarRd/orgs","repos_url":"https://api.github.com/users/edgarRd/repos","events_url":"https://api.github.com/users/edgarRd/events{/privacy}","received_events_url":"https://api.github.com/users/edgarRd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-29T19:25:39Z","updated_at":"2020-07-29T19:25:39Z","author_association":"CONTRIBUTOR","body":"@rdsr @shardulm94 I think this is ready for another review. PTAL when you have a chance.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665856176/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665870006","html_url":"https://github.com/apache/iceberg/pull/1267#issuecomment-665870006","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1267","id":665870006,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTg3MDAwNg==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-29T19:52:35Z","updated_at":"2020-07-29T19:58:40Z","author_association":"CONTRIBUTOR","body":"> I run MR in local mode whereas this seems to be running in distributed mode with YARN. I'll have to dig deeper but my guess is that `table` is null because in that case the calls to `getSplits` and then `getRecordReader` happens in two different processes.\r\n> \r\n> You mind trying this [branch](https://github.com/guilload/iceberg/tree/guilload--carry-table-schema-and-projection-within-iceberg-split)? I've added a `schema` and a `projection` attribute to `IcebergSplit`, this way we can remove the \"forwarding\" logic in the input format. @rdsr, what do you think of this approach? One downside is the increase in size of the serialized splits.\r\n\r\nYea, I think that might be the reason","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665870006/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665907735","html_url":"https://github.com/apache/iceberg/issues/1257#issuecomment-665907735","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1257","id":665907735,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTkwNzczNQ==","user":{"login":"shardulm94","id":6961317,"node_id":"MDQ6VXNlcjY5NjEzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/6961317?v=4","gravatar_id":"","url":"https://api.github.com/users/shardulm94","html_url":"https://github.com/shardulm94","followers_url":"https://api.github.com/users/shardulm94/followers","following_url":"https://api.github.com/users/shardulm94/following{/other_user}","gists_url":"https://api.github.com/users/shardulm94/gists{/gist_id}","starred_url":"https://api.github.com/users/shardulm94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shardulm94/subscriptions","organizations_url":"https://api.github.com/users/shardulm94/orgs","repos_url":"https://api.github.com/users/shardulm94/repos","events_url":"https://api.github.com/users/shardulm94/events{/privacy}","received_events_url":"https://api.github.com/users/shardulm94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-29T20:25:34Z","updated_at":"2020-07-29T20:25:34Z","author_association":"CONTRIBUTOR","body":"@RussellSpitzer I believe `TestIdentityPartitionData` is supposed to exercise it but what is probably happening here is that the identity partitioned data columns are read from the data file itself rather than the metadata. We may need to add a test where we intentionally modify the metadata so that identity values from metadata do not match the ones written in the data file so we know where the values are picked from. Maybe theres a less intrusive way to test this?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665907735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665912061","html_url":"https://github.com/apache/iceberg/issues/1257#issuecomment-665912061","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1257","id":665912061,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTkxMjA2MQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-29T20:34:19Z","updated_at":"2020-07-29T20:34:19Z","author_association":"MEMBER","body":"Could you give me an example? I've been staring at this a while trying to figure out what's going wrong. I would have hoped disabling the boolean would have broken that test suite (or others) but it doesn't. I've just been running through it with a debugger and it does correctly build a reader and return rows but you are probably right that it's reading from the data file.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665912061/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665924015","html_url":"https://github.com/apache/iceberg/pull/1197#issuecomment-665924015","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1197","id":665924015,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTkyNDAxNQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-29T20:58:58Z","updated_at":"2020-07-29T20:58:58Z","author_association":"CONTRIBUTOR","body":"Looks good. Thanks, @openinx!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665924015/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665932497","html_url":"https://github.com/apache/iceberg/issues/1257#issuecomment-665932497","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1257","id":665932497,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTkzMjQ5Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-29T21:16:17Z","updated_at":"2020-07-29T21:16:17Z","author_association":"CONTRIBUTOR","body":"I think @shardulm94 is right. Iceberg will write all data columns into every file, unlike Hive that will leave partition columns out of the data. The reason why we write the columns is that we may want to move the files to a different partition spec later (e.g., drop a categorical column, move the files, then compact).\r\n\r\nSo this is probably working because the data files in the tests actually do contain the data columns. What you can do to make the tests fail is generate the data files without the identity-partitioned columns, add them to a table, then validate that you still get those columns when you read. That's basically what happens when we import Hive data into Iceberg tables because the columns aren't present in the data files and we use the values from the file's partition tuple.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665932497/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665939871","html_url":"https://github.com/apache/iceberg/issues/1268#issuecomment-665939871","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1268","id":665939871,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTkzOTg3MQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-29T21:32:09Z","updated_at":"2020-07-29T21:32:09Z","author_association":"CONTRIBUTOR","body":"@shardulm94 @rdsr, FYI","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665939871/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665965877","html_url":"https://github.com/apache/iceberg/issues/1257#issuecomment-665965877","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1257","id":665965877,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTk2NTg3Nw==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-29T22:36:36Z","updated_at":"2020-07-29T22:36:36Z","author_association":"MEMBER","body":"This seems like the right analysis to me, I tried just having the current\ntest code make the tables in Hive and then import them for reading and I\nran into a bunch of other errors (with and without vectorizing) so I'm sure\nI didn't do that right ...\n\nOn Wed, Jul 29, 2020 at 4:16 PM Ryan Blue <notifications@github.com> wrote:\n\n> I think @shardulm94 <https://github.com/shardulm94> is right. Iceberg\n> will write all data columns into every file, unlike Hive that will leave\n> partition columns out of the data. The reason why we write the columns is\n> that we may want to move the files to a different partition spec later\n> (e.g., drop a categorical column, move the files, then compact).\n>\n> So this is probably working because the data files in the tests actually\n> do contain the data columns. What you can do to make the tests fail is\n> generate the data files without the identity-partitioned columns, add them\n> to a table, then validate that you still get those columns when you read.\n> That's basically what happens when we import Hive data into Iceberg tables\n> because the columns aren't present in the data files and we use the values\n> from the file's partition tuple.\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/iceberg/issues/1257#issuecomment-665932497>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AADE2YPWND2OWXBRERLH2TTR6CGTBANCNFSM4PI62NTA>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665965877/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665991975","html_url":"https://github.com/apache/iceberg/pull/1185#issuecomment-665991975","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1185","id":665991975,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTk5MTk3NQ==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-30T00:03:07Z","updated_at":"2020-07-30T00:03:07Z","author_association":"CONTRIBUTOR","body":"Given that https://github.com/apache/iceberg/pull/1180 and https://github.com/apache/iceberg/pull/1175 have been merged, would it be possible for you to merge those commits into this branch to make it easier to review? Or does the dependency on https://github.com/apache/iceberg/pull/1145 make that somewhat burdensome?\r\n\r\nNot a major issue, but it would help me in being able to just review / look through the code that's being proposed for addition and not the code that has already been merged in.\r\n\r\nIf not, no worries. Appreciate all of the work it seems you've put into getting Flink going with Iceberg @openinx. I can see you've submitted quite a number of PRs on the matter so I'm especially looking to learn from you by reading and reviewing these PRs 👍 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665991975/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665997693","html_url":"https://github.com/apache/iceberg/issues/360#issuecomment-665997693","issue_url":"https://api.github.com/repos/apache/iceberg/issues/360","id":665997693,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTk5NzY5Mw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-30T00:20:03Z","updated_at":"2020-07-30T00:20:03Z","author_association":"CONTRIBUTOR","body":"Is [this](https://docs.google.com/document/d/1bBKDD4l-pQFXaMb4nOyVK-Sl3N2NTTG37uOCQx8rKVc/edit#) document up-to-date and discusses how to solve open questions?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/665997693/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666039512","html_url":"https://github.com/apache/iceberg/pull/1255#issuecomment-666039512","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1255","id":666039512,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjAzOTUxMg==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-30T02:11:00Z","updated_at":"2020-07-30T02:11:00Z","author_association":"MEMBER","body":"Rebase to resolve the conflicts with https://github.com/apache/iceberg/pull/1197","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666039512/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666104125","html_url":"https://github.com/apache/iceberg/pull/1239#issuecomment-666104125","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1239","id":666104125,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjEwNDEyNQ==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-30T04:46:10Z","updated_at":"2020-07-30T04:46:10Z","author_association":"CONTRIBUTOR","body":"I merged this. Thanks @chenjunjiedada!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666104125/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666119199","html_url":"https://github.com/apache/iceberg/pull/1261#issuecomment-666119199","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1261","id":666119199,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjExOTE5OQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-30T05:15:12Z","updated_at":"2020-07-30T05:15:12Z","author_association":"CONTRIBUTOR","body":"Just added section about removing orphan files. I stopped updating screenshot though (so PR description is not the final shape), as I guess I would get review comments and reflecting the comments would also trigger updating screenshot.\r\n\r\nI'm not native speaker in English and probably haven't experienced much of Iceberg in details, so there may be lots of spots we'd like to correct. Please feel free to add comments. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666119199/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666208956","html_url":"https://github.com/apache/iceberg/pull/1267#issuecomment-666208956","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1267","id":666208956,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjIwODk1Ng==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-30T08:03:24Z","updated_at":"2020-07-30T08:03:24Z","author_association":"CONTRIBUTOR","body":"> I run MR in local mode whereas this seems to be running in distributed mode with YARN. I'll have to dig deeper but my guess is that `table` is null because in that case the calls to `getSplits` and then `getRecordReader` happens in two different processes.\r\n> @rdsr, what do you think of this approach? One downside is the increase in size of the serialized splits.\r\n\r\nHi @guilload, @massdosage . I was trying out an alternative way of passing the required parameters. It seems instead of setting the `TABLE_PATH`, `SCHEMA` etc in `InputFormat#getsplits` method, which is not being propagate to record readers on worker nodes, I tried setting the required parameters in `org.apache.hadoop.hive.ql.metadata.HiveStorageHandler#configureInputJobProperties`.  From that method's javadoc\r\n  \r\n> /**\r\n>    * This method is called to allow the StorageHandlers the chance\r\n>    * to populate the JobContext.getConfiguration() with properties that\r\n>    * maybe be needed by the handler's bundled artifacts (ie InputFormat, SerDe, etc).\r\n\r\n it looks like that it maybe the right method to do what we are trying to achieve. Below are my modifications.\r\n\r\nhttps://github.com/apache/iceberg/compare/master...rdsr:alternative_conf?expand=1\r\n\r\nI've yet to try this out on a real cluster to see if this works in a distributed YARN mode though. I plan to do this tomorrow.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666208956/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666272344","html_url":"https://github.com/apache/iceberg/pull/1238#issuecomment-666272344","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1238","id":666272344,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjI3MjM0NA==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-30T10:00:28Z","updated_at":"2020-07-30T10:00:28Z","author_association":"MEMBER","body":"Rebase to fix the conflicts, and trigger the travis test. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666272344/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666300951","html_url":"https://github.com/apache/iceberg/pull/1237#issuecomment-666300951","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1237","id":666300951,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjMwMDk1MQ==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-30T11:06:07Z","updated_at":"2020-07-30T11:06:07Z","author_association":"COLLABORATOR","body":"@rdblue, I open #1272 for writer side. The comments for the writer are addressed there. I close this accordingly.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666300951/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666315326","html_url":"https://github.com/apache/iceberg/pull/1273#issuecomment-666315326","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1273","id":666315326,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjMxNTMyNg==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-30T11:42:03Z","updated_at":"2020-07-30T11:42:03Z","author_association":"COLLABORATOR","body":"Hi @rdsr, would you mind to take a look?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666315326/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666338236","html_url":"https://github.com/apache/iceberg/pull/1267#issuecomment-666338236","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1267","id":666338236,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjMzODIzNg==","user":{"login":"massdosage","id":29457,"node_id":"MDQ6VXNlcjI5NDU3","avatar_url":"https://avatars.githubusercontent.com/u/29457?v=4","gravatar_id":"","url":"https://api.github.com/users/massdosage","html_url":"https://github.com/massdosage","followers_url":"https://api.github.com/users/massdosage/followers","following_url":"https://api.github.com/users/massdosage/following{/other_user}","gists_url":"https://api.github.com/users/massdosage/gists{/gist_id}","starred_url":"https://api.github.com/users/massdosage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massdosage/subscriptions","organizations_url":"https://api.github.com/users/massdosage/orgs","repos_url":"https://api.github.com/users/massdosage/repos","events_url":"https://api.github.com/users/massdosage/events{/privacy}","received_events_url":"https://api.github.com/users/massdosage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-30T12:36:47Z","updated_at":"2020-07-30T12:36:57Z","author_association":"CONTRIBUTOR","body":"@rdsr @guilload I tried both your approaches separately by taking just the Java code changes into this branch which does the repackaging and can confirm that both work using mapreduce and tez on a distributed cluster. So that's good news! I think we can move forward with either one, let me know which and I could merge them into this branch and then sort out the contents of the uber jar and then hopefully we have something that works.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666338236/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666357768","html_url":"https://github.com/apache/iceberg/pull/1274#issuecomment-666357768","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1274","id":666357768,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjM1Nzc2OA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-30T13:15:51Z","updated_at":"2020-07-30T13:15:51Z","author_association":"CONTRIBUTOR","body":"Looks OK to me once Travis CI build passes - the usage of Lists is only `newArrayList()` which I normally expect libs provide this won't show major difference.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666357768/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666376849","html_url":"https://github.com/apache/iceberg/issues/1121#issuecomment-666376849","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1121","id":666376849,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjM3Njg0OQ==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-30T13:50:23Z","updated_at":"2020-07-30T13:50:23Z","author_association":"COLLABORATOR","body":"This was addressed by #1128. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666376849/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666378082","html_url":"https://github.com/apache/iceberg/pull/1219#issuecomment-666378082","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1219","id":666378082,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjM3ODA4Mg==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-30T13:52:32Z","updated_at":"2020-07-30T13:52:32Z","author_association":"COLLABORATOR","body":"@rdblue , would you please help to take a look whether this is in the right direction? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666378082/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666400663","html_url":"https://github.com/apache/iceberg/pull/1213#issuecomment-666400663","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1213","id":666400663,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjQwMDY2Mw==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-30T14:29:51Z","updated_at":"2020-07-30T14:29:51Z","author_association":"MEMBER","body":"Ping @rdblue , Mind to take another look ? Thanks.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666400663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666402689","html_url":"https://github.com/apache/iceberg/issues/1257#issuecomment-666402689","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1257","id":666402689,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjQwMjY4OQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-30T14:32:25Z","updated_at":"2020-07-30T14:32:25Z","author_association":"MEMBER","body":"I can get the test to fail if I import from a Hive Table with parquet files and then attempt to use that as the basis for the IdenetityPartition test. So thanks for steering me in the right direction @shardulm94  + @rdblue, I'll try to figure out where to add tests because I can't quite do that same strategy of creating a Spark table and then importing it for Avro (and orc just does something strange)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666402689/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666502889","html_url":"https://github.com/apache/iceberg/issues/1257#issuecomment-666502889","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1257","id":666502889,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjUwMjg4OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-30T16:20:30Z","updated_at":"2020-07-30T16:20:30Z","author_association":"CONTRIBUTOR","body":"You should be able to just write a data file directly with a schema that doesn't include those columns, then append it to the table.\r\n\r\nHere's an example that does it for Parquet: https://github.com/apache/iceberg/blob/master/spark/src/test/java/org/apache/iceberg/spark/source/TestParquetScan.java","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666502889/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666595677","html_url":"https://github.com/apache/iceberg/issues/1257#issuecomment-666595677","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1257","id":666595677,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjU5NTY3Nw==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-30T18:45:07Z","updated_at":"2020-07-30T18:48:25Z","author_association":"MEMBER","body":"~How do you append the file to the correct partition if it doesn't have those columns? Sorry I have a lot of beginner questions.~\r\n\r\nNvm I see it the DataFile API","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666595677/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666694066","html_url":"https://github.com/apache/iceberg/pull/1270#issuecomment-666694066","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1270","id":666694066,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjY5NDA2Ng==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-30T20:58:01Z","updated_at":"2020-07-30T20:58:01Z","author_association":"CONTRIBUTOR","body":"cc @guilload ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666694066/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666708753","html_url":"https://github.com/apache/iceberg/pull/1243#issuecomment-666708753","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1243","id":666708753,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjcwODc1Mw==","user":{"login":"guilload","id":3011588,"node_id":"MDQ6VXNlcjMwMTE1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/3011588?v=4","gravatar_id":"","url":"https://api.github.com/users/guilload","html_url":"https://github.com/guilload","followers_url":"https://api.github.com/users/guilload/followers","following_url":"https://api.github.com/users/guilload/following{/other_user}","gists_url":"https://api.github.com/users/guilload/gists{/gist_id}","starred_url":"https://api.github.com/users/guilload/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guilload/subscriptions","organizations_url":"https://api.github.com/users/guilload/orgs","repos_url":"https://api.github.com/users/guilload/repos","events_url":"https://api.github.com/users/guilload/events{/privacy}","received_events_url":"https://api.github.com/users/guilload/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-30T21:20:43Z","updated_at":"2020-07-30T21:20:43Z","author_association":"CONTRIBUTOR","body":"Hey,\r\n\r\nI've just pushed a commit that adds the changes requested during the first round of review and additionally integrates the modifications suggested by @rdsr in #1267, which clean up the input format nicely and solve the issue reported in #1267.\r\n\r\nI should be able to add the tests for each catalog today or tomorrow.\r\n\r\ncc @massdosage ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666708753/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666709546","html_url":"https://github.com/apache/iceberg/pull/1267#issuecomment-666709546","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1267","id":666709546,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjcwOTU0Ng==","user":{"login":"guilload","id":3011588,"node_id":"MDQ6VXNlcjMwMTE1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/3011588?v=4","gravatar_id":"","url":"https://api.github.com/users/guilload","html_url":"https://github.com/guilload","followers_url":"https://api.github.com/users/guilload/followers","following_url":"https://api.github.com/users/guilload/following{/other_user}","gists_url":"https://api.github.com/users/guilload/gists{/gist_id}","starred_url":"https://api.github.com/users/guilload/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guilload/subscriptions","organizations_url":"https://api.github.com/users/guilload/orgs","repos_url":"https://api.github.com/users/guilload/repos","events_url":"https://api.github.com/users/guilload/events{/privacy}","received_events_url":"https://api.github.com/users/guilload/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-30T21:21:45Z","updated_at":"2020-07-30T21:21:45Z","author_association":"CONTRIBUTOR","body":"@massdosage, @rdsr and I chatted \"offline\" and decided to integrate his changes in #1243.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666709546/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666777050","html_url":"https://github.com/apache/iceberg/issues/1277#issuecomment-666777050","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1277","id":666777050,"node_id":"MDEyOklzc3VlQ29tbWVudDY2Njc3NzA1MA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-30T23:43:57Z","updated_at":"2020-07-30T23:44:20Z","author_association":"CONTRIBUTOR","body":"That sounds exactly same as what Apache Spark project adopted recently, and I see much benefits on auto-labeling so big +1 (non-binding). I think marking PR title is a bit orthogonal though, as it would still help to construct commit title.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666777050/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666824473","html_url":"https://github.com/apache/iceberg/pull/1278#issuecomment-666824473","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1278","id":666824473,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjgyNDQ3Mw==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-31T00:32:01Z","updated_at":"2020-07-31T00:32:25Z","author_association":"CONTRIBUTOR","body":"dup of #1274? (though this PR does more thing)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666824473/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666836112","html_url":"https://github.com/apache/iceberg/pull/1278#issuecomment-666836112","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1278","id":666836112,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjgzNjExMg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-31T00:39:03Z","updated_at":"2020-07-31T00:39:03Z","author_association":"CONTRIBUTOR","body":"Yeah, looks like a duplicate. I'll add @chenjunjiedada as a co-author in the merge message of this one since it has the checkstyle update to prevent this in the future.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666836112/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666852771","html_url":"https://github.com/apache/iceberg/pull/1274#issuecomment-666852771","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1274","id":666852771,"node_id":"MDEyOklzc3VlQ29tbWVudDY2Njg1Mjc3MQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-31T01:06:01Z","updated_at":"2020-07-31T01:06:01Z","author_association":"CONTRIBUTOR","body":"Thanks for fixing this, @chenjunjiedada! I hadn't checked PRs yet today (I attended a conference) so I didn't notice you'd already fixed it and posted a PR myself, #1278. I included an update to ban imports from this package to avoid the problem in the future, so I'd like to merge that one. I've added you as a co-author of it so you'll get credit when it is merged. Is that okay with you?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666852771/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666854635","html_url":"https://github.com/apache/iceberg/pull/1265#issuecomment-666854635","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1265","id":666854635,"node_id":"MDEyOklzc3VlQ29tbWVudDY2Njg1NDYzNQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-31T01:11:17Z","updated_at":"2020-07-31T01:11:17Z","author_association":"CONTRIBUTOR","body":"+1\r\n\r\nThanks @JingsongLi!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666854635/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666855447","html_url":"https://github.com/apache/iceberg/pull/1254#issuecomment-666855447","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1254","id":666855447,"node_id":"MDEyOklzc3VlQ29tbWVudDY2Njg1NTQ0Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-31T01:13:37Z","updated_at":"2020-07-31T01:13:37Z","author_association":"CONTRIBUTOR","body":"+1\r\n\r\nThanks @chenjunjiedada, it looks good now. Nice work catching that the metadata was already filtered using the file range, too.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666855447/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666856567","html_url":"https://github.com/apache/iceberg/pull/1274#issuecomment-666856567","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1274","id":666856567,"node_id":"MDEyOklzc3VlQ29tbWVudDY2Njg1NjU2Nw==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-31T01:16:49Z","updated_at":"2020-07-31T01:16:49Z","author_association":"COLLABORATOR","body":"@rdblue, No problem! Please go ahead.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/666856567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]