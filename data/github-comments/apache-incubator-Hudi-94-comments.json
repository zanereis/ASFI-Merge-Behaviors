[{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744882397","html_url":"https://github.com/apache/hudi/issues/2166#issuecomment-744882397","issue_url":"https://api.github.com/repos/apache/hudi/issues/2166","id":744882397,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDg4MjM5Nw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T00:28:43Z","updated_at":"2020-12-15T00:28:43Z","author_association":"CONTRIBUTOR","body":"@somebol : Please reopen if you are still seeing issues. \r\n\r\nBalaji.V","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744882397/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744885017","html_url":"https://github.com/apache/hudi/issues/2098#issuecomment-744885017","issue_url":"https://api.github.com/repos/apache/hudi/issues/2098","id":744885017,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDg4NTAxNw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T00:30:35Z","updated_at":"2020-12-15T00:30:35Z","author_association":"CONTRIBUTOR","body":"@ShortFinger : Let us know if you need any clarifications.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744885017/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744967971","html_url":"https://github.com/apache/hudi/issues/2255#issuecomment-744967971","issue_url":"https://api.github.com/repos/apache/hudi/issues/2255","id":744967971,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDk2Nzk3MQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T01:30:30Z","updated_at":"2020-12-15T01:30:30Z","author_association":"CONTRIBUTOR","body":"@umehrot2 : Would you mind chiming in here. I haven't worked w/ Athena. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744967971/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744973888","html_url":"https://github.com/apache/hudi/issues/2323#issuecomment-744973888","issue_url":"https://api.github.com/repos/apache/hudi/issues/2323","id":744973888,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDk3Mzg4OA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T01:34:50Z","updated_at":"2020-12-15T01:34:50Z","author_association":"CONTRIBUTOR","body":"@vinothchandar : fyi. author mentioned that he has a requirement to delete records when they migrate to a diff partition and hence using  Global_Bloom. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744973888/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745035487","html_url":"https://github.com/apache/hudi/issues/2323#issuecomment-745035487","issue_url":"https://api.github.com/repos/apache/hudi/issues/2323","id":745035487,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTAzNTQ4Nw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T03:54:33Z","updated_at":"2020-12-15T03:54:33Z","author_association":"MEMBER","body":"@nsivabalan yes noticed that. just that comparison of global vs non-global is little hard to reason with. :) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745035487/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745040175","html_url":"https://github.com/apache/hudi/issues/2265#issuecomment-745040175","issue_url":"https://api.github.com/repos/apache/hudi/issues/2265","id":745040175,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTA0MDE3NQ==","user":{"login":"umehrot2","id":8647012,"node_id":"MDQ6VXNlcjg2NDcwMTI=","avatar_url":"https://avatars.githubusercontent.com/u/8647012?v=4","gravatar_id":"","url":"https://api.github.com/users/umehrot2","html_url":"https://github.com/umehrot2","followers_url":"https://api.github.com/users/umehrot2/followers","following_url":"https://api.github.com/users/umehrot2/following{/other_user}","gists_url":"https://api.github.com/users/umehrot2/gists{/gist_id}","starred_url":"https://api.github.com/users/umehrot2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/umehrot2/subscriptions","organizations_url":"https://api.github.com/users/umehrot2/orgs","repos_url":"https://api.github.com/users/umehrot2/repos","events_url":"https://api.github.com/users/umehrot2/events{/privacy}","received_events_url":"https://api.github.com/users/umehrot2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T04:12:59Z","updated_at":"2020-12-15T04:12:59Z","author_association":"CONTRIBUTOR","body":"I was able to reproduce this issue. The issue indeed seems to be because of the row containing null within the Array. Upon enabling `TRACE` logging I was able to get the actual exception that was failing the hudi job:\r\n\r\n```\r\n20/12/15 03:47:43 TRACE HoodieSparkSqlWriter$: Error for key: HoodieKey { recordKey=4 partitionPath=2020/10/29}\r\njava.lang.NullPointerException: Array contains a null element at 0\r\nSet parquet.avro.write-old-list-structure=false to turn on support for arrays with null elements.\r\n\tat org.apache.parquet.avro.AvroWriteSupport$TwoLevelListWriter.writeCollection(AvroWriteSupport.java:554)\r\n\tat org.apache.parquet.avro.AvroWriteSupport$ListWriter.writeList(AvroWriteSupport.java:395)\r\n\tat org.apache.parquet.avro.AvroWriteSupport.writeValueWithoutConversion(AvroWriteSupport.java:355)\r\n\tat org.apache.parquet.avro.AvroWriteSupport.writeValue(AvroWriteSupport.java:278)\r\n\tat org.apache.parquet.avro.AvroWriteSupport.writeRecordFields(AvroWriteSupport.java:191)\r\n\tat org.apache.parquet.avro.AvroWriteSupport.write(AvroWriteSupport.java:165)\r\n\tat org.apache.parquet.hadoop.InternalParquetRecordWriter.write(InternalParquetRecordWriter.java:128)\r\n\tat org.apache.parquet.hadoop.ParquetWriter.write(ParquetWriter.java:299)\r\n\tat org.apache.hudi.io.storage.HoodieParquetWriter.writeAvroWithMetadata(HoodieParquetWriter.java:83)\r\n\tat org.apache.hudi.io.HoodieCreateHandle.write(HoodieCreateHandle.java:116)\r\n\tat org.apache.hudi.io.HoodieWriteHandle.write(HoodieWriteHandle.java:159)\r\n\tat org.apache.hudi.execution.CopyOnWriteInsertHandler.consumeOneRecord(CopyOnWriteInsertHandler.java:96)\r\n\tat org.apache.hudi.execution.CopyOnWriteInsertHandler.consumeOneRecord(CopyOnWriteInsertHandler.java:40)\r\n\tat org.apache.hudi.common.util.queue.BoundedInMemoryQueueConsumer.consume(BoundedInMemoryQueueConsumer.java:37)\r\n\tat org.apache.hudi.common.util.queue.BoundedInMemoryExecutor.lambda$null$2(BoundedInMemoryExecutor.java:121)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\nSince the job itself does not succeed, Hudi does not find any valid commit at the read time and that is why you see and empty dataframe being returned. Based on the exception above I even tried setting `parquet.avro.write-old-list-structure=false` in the hadoop config, but after that it fails to write even the first row:\r\n\r\n```\r\n20/12/15 04:04:49 TRACE HoodieSparkSqlWriter$: Error for key: HoodieKey { recordKey=1 partitionPath=2020/10/29}\r\njava.lang.ClassCastException: repeated binary array (UTF8) is not a group\r\n\tat org.apache.parquet.schema.Type.asGroupType(Type.java:207)\r\n\tat org.apache.parquet.avro.AvroWriteSupport$ThreeLevelListWriter.writeCollection(AvroWriteSupport.java:610)\r\n\tat org.apache.parquet.avro.AvroWriteSupport$ListWriter.writeList(AvroWriteSupport.java:395)\r\n\tat org.apache.parquet.avro.AvroWriteSupport.writeValueWithoutConversion(AvroWriteSupport.java:355)\r\n\tat org.apache.parquet.avro.AvroWriteSupport.writeValue(AvroWriteSupport.java:278)\r\n\tat org.apache.parquet.avro.AvroWriteSupport.writeRecordFields(AvroWriteSupport.java:191)\r\n\tat org.apache.parquet.avro.AvroWriteSupport.write(AvroWriteSupport.java:165)\r\n\tat org.apache.parquet.hadoop.InternalParquetRecordWriter.write(InternalParquetRecordWriter.java:128)\r\n\tat org.apache.parquet.hadoop.ParquetWriter.write(ParquetWriter.java:299)\r\n\tat org.apache.hudi.io.storage.HoodieParquetWriter.writeAvroWithMetadata(HoodieParquetWriter.java:83)\r\n\tat org.apache.hudi.io.HoodieCreateHandle.write(HoodieCreateHandle.java:116)\r\n\tat org.apache.hudi.io.HoodieWriteHandle.write(HoodieWriteHandle.java:159)\r\n\tat org.apache.hudi.execution.CopyOnWriteInsertHandler.consumeOneRecord(CopyOnWriteInsertHandler.java:96)\r\n\tat org.apache.hudi.execution.CopyOnWriteInsertHandler.consumeOneRecord(CopyOnWriteInsertHandler.java:40)\r\n\tat org.apache.hudi.common.util.queue.BoundedInMemoryQueueConsumer.consume(BoundedInMemoryQueueConsumer.java:37)\r\n\tat org.apache.hudi.common.util.queue.BoundedInMemoryExecutor.lambda$null$2(BoundedInMemoryExecutor.java:121)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745040175/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745043470","html_url":"https://github.com/apache/hudi/issues/2265#issuecomment-745043470","issue_url":"https://api.github.com/repos/apache/hudi/issues/2265","id":745043470,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTA0MzQ3MA==","user":{"login":"umehrot2","id":8647012,"node_id":"MDQ6VXNlcjg2NDcwMTI=","avatar_url":"https://avatars.githubusercontent.com/u/8647012?v=4","gravatar_id":"","url":"https://api.github.com/users/umehrot2","html_url":"https://github.com/umehrot2","followers_url":"https://api.github.com/users/umehrot2/followers","following_url":"https://api.github.com/users/umehrot2/following{/other_user}","gists_url":"https://api.github.com/users/umehrot2/gists{/gist_id}","starred_url":"https://api.github.com/users/umehrot2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/umehrot2/subscriptions","organizations_url":"https://api.github.com/users/umehrot2/orgs","repos_url":"https://api.github.com/users/umehrot2/repos","events_url":"https://api.github.com/users/umehrot2/events{/privacy}","received_events_url":"https://api.github.com/users/umehrot2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T04:25:23Z","updated_at":"2020-12-15T04:25:23Z","author_association":"CONTRIBUTOR","body":"So, on the surface it seems like `parquet-avro` support which Hudi uses to write the data in parquet format no longer supports the scenario for Lists containing nulls:\r\nhttps://github.com/apache/parquet-mr/blob/0a4e3eea991f7588c9c5e056e9d7b32a76eed5da/parquet-avro/src/main/java/org/apache/parquet/avro/AvroWriteSupport.java#L583\r\n\r\nSpark uses its own native writers to write parquet which are able to handle this scenario.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745043470/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745073140","html_url":"https://github.com/apache/hudi/pull/2262#issuecomment-745073140","issue_url":"https://api.github.com/repos/apache/hudi/issues/2262","id":745073140,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTA3MzE0MA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T06:01:17Z","updated_at":"2020-12-15T06:01:17Z","author_association":"MEMBER","body":"@n3nash do you see any reason to keep the sort? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745073140/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745074655","html_url":"https://github.com/apache/hudi/pull/2300#issuecomment-745074655","issue_url":"https://api.github.com/repos/apache/hudi/issues/2300","id":745074655,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTA3NDY1NQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T06:05:15Z","updated_at":"2020-12-15T06:05:15Z","author_association":"MEMBER","body":"@garyli1019 yes. thats also a good idea. we can have one entry per new log file created ? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745074655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745078550","html_url":"https://github.com/apache/hudi/issues/2329#issuecomment-745078550","issue_url":"https://api.github.com/repos/apache/hudi/issues/2329","id":745078550,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTA3ODU1MA==","user":{"login":"HengQian-chaine","id":10129391,"node_id":"MDQ6VXNlcjEwMTI5Mzkx","avatar_url":"https://avatars.githubusercontent.com/u/10129391?v=4","gravatar_id":"","url":"https://api.github.com/users/HengQian-chaine","html_url":"https://github.com/HengQian-chaine","followers_url":"https://api.github.com/users/HengQian-chaine/followers","following_url":"https://api.github.com/users/HengQian-chaine/following{/other_user}","gists_url":"https://api.github.com/users/HengQian-chaine/gists{/gist_id}","starred_url":"https://api.github.com/users/HengQian-chaine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HengQian-chaine/subscriptions","organizations_url":"https://api.github.com/users/HengQian-chaine/orgs","repos_url":"https://api.github.com/users/HengQian-chaine/repos","events_url":"https://api.github.com/users/HengQian-chaine/events{/privacy}","received_events_url":"https://api.github.com/users/HengQian-chaine/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T06:16:19Z","updated_at":"2020-12-15T06:16:19Z","author_association":"NONE","body":"> @sumihehe : Can you provide access to the google docs you shared.\r\n> @n3nash : This is regarding time-travel ability. Can you review the doc when it is available ?\r\n\r\nAlready available, sorry for my mistake","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745078550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745085205","html_url":"https://github.com/apache/hudi/pull/2319#issuecomment-745085205","issue_url":"https://api.github.com/repos/apache/hudi/issues/2319","id":745085205,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTA4NTIwNQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T06:33:46Z","updated_at":"2020-12-15T06:33:46Z","author_association":"MEMBER","body":"Merging. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745085205/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745092249","html_url":"https://github.com/apache/hudi/pull/2316#issuecomment-745092249","issue_url":"https://api.github.com/repos/apache/hudi/issues/2316","id":745092249,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTA5MjI0OQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T06:50:21Z","updated_at":"2020-12-15T06:50:21Z","author_association":"MEMBER","body":"@sbernauer rekicked the tests. \r\n\r\nyes, I was trying to understand whether that's a left over relocation. Seems like we used to include `commons-codec` back in the day, ([link](https://github.com/apache/hudi/blob/93d9c25aee37d36c03e4c0edfc18db7da819ce2d/packaging/hudi-utilities-bundle/pom.xml)), moved away from this [later](https://github.com/apache/hudi/commit/7a973a694488930627028b3175a731a23e3d3f32#diff-cdec730db6d7242f687b15ef0bfcc6bec9d873cea3318e16cf755555ed665512)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745092249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745094057","html_url":"https://github.com/apache/hudi/pull/2316#issuecomment-745094057","issue_url":"https://api.github.com/repos/apache/hudi/issues/2316","id":745094057,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTA5NDA1Nw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T06:54:29Z","updated_at":"2020-12-15T06:54:29Z","author_association":"MEMBER","body":"@sbernauer wanted to clarify if you see this on 0.5.3 or only on master? Coz 0.5.3 has been stable for a while, used with 2.4.0 spark as well. Integ test environment for e.g uses Spark 2.4 with the same bundles. \r\n\r\nI am wondering if we can instead remove the relocation from the bundle pom? it should be working with the existing jars in the spark install. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745094057/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745113318","html_url":"https://github.com/apache/hudi/issues/2323#issuecomment-745113318","issue_url":"https://api.github.com/repos/apache/hudi/issues/2323","id":745113318,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTExMzMxOA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T07:40:05Z","updated_at":"2020-12-15T07:40:05Z","author_association":"CONTRIBUTOR","body":"@kirkuz Just like @vinothchandar pointed out, looks like the BLOOM FILTER is generating a lot of false positives that can result in reading a lot of files unnecessarily to cause the stage to take a lot of time. \r\n\r\nBTW, does GlobalSimpleIndex suffice your use-case ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745113318/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745166974","html_url":"https://github.com/apache/hudi/issues/2323#issuecomment-745166974","issue_url":"https://api.github.com/repos/apache/hudi/issues/2323","id":745166974,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTE2Njk3NA==","user":{"login":"kirqz23","id":22114492,"node_id":"MDQ6VXNlcjIyMTE0NDky","avatar_url":"https://avatars.githubusercontent.com/u/22114492?v=4","gravatar_id":"","url":"https://api.github.com/users/kirqz23","html_url":"https://github.com/kirqz23","followers_url":"https://api.github.com/users/kirqz23/followers","following_url":"https://api.github.com/users/kirqz23/following{/other_user}","gists_url":"https://api.github.com/users/kirqz23/gists{/gist_id}","starred_url":"https://api.github.com/users/kirqz23/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kirqz23/subscriptions","organizations_url":"https://api.github.com/users/kirqz23/orgs","repos_url":"https://api.github.com/users/kirqz23/repos","events_url":"https://api.github.com/users/kirqz23/events{/privacy}","received_events_url":"https://api.github.com/users/kirqz23/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T09:31:13Z","updated_at":"2020-12-15T09:31:13Z","author_association":"NONE","body":"@n3nash \r\n\r\n1. I can't really understand what is the difference between GLOBAL_BLOOM and GLOBAL_SIMPLE. Will the latter solve the problem with updating the partition for me (I mean removing the record from previous partition and adding it to the new one)?\r\nWhere should I use GLOBAL_SIMPLE, in which use-cases?\r\n2. Do you have any recommendation about performance tunning like number of instances, cores, memory etc.?\r\n3. Do you use GLOBAL_BLOOM in your use-cases in Uber? I've learnt on slack channel that you use HBASE index. Does it mean that HBASE index is doing the same as GLOBAL_BLOOM. What I'm wondering is that if my use case is so rare (to delete from old partition and insert into new partition) that nobody has raised that problem so far?\r\n4. Do you think that switching to Kafka and DeltaStreamer (with continuous integration) will solve my issue that I will have less rows to upsert each time? Or it will mean that each upsert with DeltaStreamer it will again have to list all partitions?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745166974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745239498","html_url":"https://github.com/apache/hudi/pull/2286#issuecomment-745239498","issue_url":"https://api.github.com/repos/apache/hudi/issues/2286","id":745239498,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTIzOTQ5OA==","user":{"login":"shenh062326","id":9527867,"node_id":"MDQ6VXNlcjk1Mjc4Njc=","avatar_url":"https://avatars.githubusercontent.com/u/9527867?v=4","gravatar_id":"","url":"https://api.github.com/users/shenh062326","html_url":"https://github.com/shenh062326","followers_url":"https://api.github.com/users/shenh062326/followers","following_url":"https://api.github.com/users/shenh062326/following{/other_user}","gists_url":"https://api.github.com/users/shenh062326/gists{/gist_id}","starred_url":"https://api.github.com/users/shenh062326/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shenh062326/subscriptions","organizations_url":"https://api.github.com/users/shenh062326/orgs","repos_url":"https://api.github.com/users/shenh062326/repos","events_url":"https://api.github.com/users/shenh062326/events{/privacy}","received_events_url":"https://api.github.com/users/shenh062326/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T11:50:28Z","updated_at":"2020-12-15T11:50:28Z","author_association":"CONTRIBUTOR","body":"\"At a high level, we probably should do a second pass and move more code into hudi-client-common over time. but don't want to hold this PR for that, esp given its adding entirely new functionality.\" \r\n\r\nAgree, since there are some code are duplicate,  I also want to move then into hudi-client-common.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745239498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745277619","html_url":"https://github.com/apache/hudi/pull/2320#issuecomment-745277619","issue_url":"https://api.github.com/repos/apache/hudi/issues/2320","id":745277619,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTI3NzYxOQ==","user":{"login":"manijndl7","id":70282609,"node_id":"MDQ6VXNlcjcwMjgyNjA5","avatar_url":"https://avatars.githubusercontent.com/u/70282609?v=4","gravatar_id":"","url":"https://api.github.com/users/manijndl7","html_url":"https://github.com/manijndl7","followers_url":"https://api.github.com/users/manijndl7/followers","following_url":"https://api.github.com/users/manijndl7/following{/other_user}","gists_url":"https://api.github.com/users/manijndl7/gists{/gist_id}","starred_url":"https://api.github.com/users/manijndl7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manijndl7/subscriptions","organizations_url":"https://api.github.com/users/manijndl7/orgs","repos_url":"https://api.github.com/users/manijndl7/repos","events_url":"https://api.github.com/users/manijndl7/events{/privacy}","received_events_url":"https://api.github.com/users/manijndl7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T13:11:09Z","updated_at":"2020-12-15T13:11:09Z","author_association":"NONE","body":"Thanks @garyli1019 for checking this !! yea its in my pipeline , i am currently focusing on writing ORC Reader then i will commit the test cases.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745277619/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745334158","html_url":"https://github.com/apache/hudi/pull/2334#issuecomment-745334158","issue_url":"https://api.github.com/repos/apache/hudi/issues/2334","id":745334158,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTMzNDE1OA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T14:36:50Z","updated_at":"2021-01-14T11:29:52Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2334?src=pr&el=h1) Report\n> Merging [#2334](https://codecov.io/gh/apache/hudi/pull/2334?src=pr&el=desc) (bbb604a) into [master](https://codecov.io/gh/apache/hudi/commit/e926c1a45ca95fa1911f6f88a0577554f2797760?el=desc) (e926c1a) will **increase** coverage by `0.00%`.\n> The diff coverage is `0.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2334/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2334?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##             master    #2334   +/-   ##\n=========================================\n  Coverage     50.73%   50.73%           \n- Complexity     3064     3065    +1     \n=========================================\n  Files           419      419           \n  Lines         18797    18797           \n  Branches       1922     1922           \n=========================================\n+ Hits           9536     9537    +1     \n  Misses         8485     8485           \n+ Partials        776      775    -1     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `37.26% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiclient | `100.00% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudicommon | `52.01% <0.00%> (ø)` | `0.00 <0.00> (ø)` | |\n| hudiflink | `10.20% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudihadoopmr | `33.06% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisparkdatasource | `65.90% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisync | `48.61% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| huditimelineservice | `66.84% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `69.48% <ø> (+0.05%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2334?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [.../apache/hudi/common/table/TableSchemaResolver.java](https://codecov.io/gh/apache/hudi/pull/2334/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL1RhYmxlU2NoZW1hUmVzb2x2ZXIuamF2YQ==) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (ø)` | |\n| [...apache/hudi/utilities/deltastreamer/DeltaSync.java](https://codecov.io/gh/apache/hudi/pull/2334/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvRGVsdGFTeW5jLmphdmE=) | `70.86% <0.00%> (+0.35%)` | `51.00% <0.00%> (+1.00%)` | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745334158/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745398104","html_url":"https://github.com/apache/hudi/pull/2328#issuecomment-745398104","issue_url":"https://api.github.com/repos/apache/hudi/issues/2328","id":745398104,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTM5ODEwNA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T16:17:38Z","updated_at":"2020-12-15T16:17:38Z","author_association":"MEMBER","body":"@nsivabalan can you please jump on this asap? this is a release blocker. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745398104/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745433097","html_url":"https://github.com/apache/hudi/issues/2331#issuecomment-745433097","issue_url":"https://api.github.com/repos/apache/hudi/issues/2331","id":745433097,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTQzMzA5Nw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T17:10:48Z","updated_at":"2020-12-15T17:10:48Z","author_association":"CONTRIBUTOR","body":"@prashantwason @nbalajee @satishkotha : Can you please look into this ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745433097/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745467214","html_url":"https://github.com/apache/hudi/issues/2103#issuecomment-745467214","issue_url":"https://api.github.com/repos/apache/hudi/issues/2103","id":745467214,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTQ2NzIxNA==","user":{"login":"evgeny-bondarenko","id":62563678,"node_id":"MDQ6VXNlcjYyNTYzNjc4","avatar_url":"https://avatars.githubusercontent.com/u/62563678?v=4","gravatar_id":"","url":"https://api.github.com/users/evgeny-bondarenko","html_url":"https://github.com/evgeny-bondarenko","followers_url":"https://api.github.com/users/evgeny-bondarenko/followers","following_url":"https://api.github.com/users/evgeny-bondarenko/following{/other_user}","gists_url":"https://api.github.com/users/evgeny-bondarenko/gists{/gist_id}","starred_url":"https://api.github.com/users/evgeny-bondarenko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/evgeny-bondarenko/subscriptions","organizations_url":"https://api.github.com/users/evgeny-bondarenko/orgs","repos_url":"https://api.github.com/users/evgeny-bondarenko/repos","events_url":"https://api.github.com/users/evgeny-bondarenko/events{/privacy}","received_events_url":"https://api.github.com/users/evgeny-bondarenko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T18:07:26Z","updated_at":"2020-12-15T18:07:26Z","author_association":"NONE","body":"@bvaradar Thank you a lot. It worked.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745467214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745477535","html_url":"https://github.com/apache/hudi/pull/2233#issuecomment-745477535","issue_url":"https://api.github.com/repos/apache/hudi/issues/2233","id":745477535,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTQ3NzUzNQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T18:25:55Z","updated_at":"2020-12-15T18:25:55Z","author_association":"MEMBER","body":"Rebased, will merge once CI passes","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745477535/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745482386","html_url":"https://github.com/apache/hudi/pull/2188#issuecomment-745482386","issue_url":"https://api.github.com/repos/apache/hudi/issues/2188","id":745482386,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTQ4MjM4Ng==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T18:34:30Z","updated_at":"2020-12-15T18:34:30Z","author_association":"MEMBER","body":"@n3nash could you please rebase and take care of landing this? \r\n@v3nkatesh your review would be appreciated, to ensure nothing regresses for you folks at uber","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745482386/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745482578","html_url":"https://github.com/apache/hudi/pull/2188#issuecomment-745482578","issue_url":"https://api.github.com/repos/apache/hudi/issues/2188","id":745482578,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTQ4MjU3OA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T18:34:53Z","updated_at":"2020-12-15T18:34:53Z","author_association":"MEMBER","body":"cc @satishkotha @nbalajee as well, in case one of you have cycles.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745482578/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745557336","html_url":"https://github.com/apache/hudi/issues/2255#issuecomment-745557336","issue_url":"https://api.github.com/repos/apache/hudi/issues/2255","id":745557336,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTU1NzMzNg==","user":{"login":"umehrot2","id":8647012,"node_id":"MDQ6VXNlcjg2NDcwMTI=","avatar_url":"https://avatars.githubusercontent.com/u/8647012?v=4","gravatar_id":"","url":"https://api.github.com/users/umehrot2","html_url":"https://github.com/umehrot2","followers_url":"https://api.github.com/users/umehrot2/followers","following_url":"https://api.github.com/users/umehrot2/following{/other_user}","gists_url":"https://api.github.com/users/umehrot2/gists{/gist_id}","starred_url":"https://api.github.com/users/umehrot2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/umehrot2/subscriptions","organizations_url":"https://api.github.com/users/umehrot2/orgs","repos_url":"https://api.github.com/users/umehrot2/repos","events_url":"https://api.github.com/users/umehrot2/events{/privacy}","received_events_url":"https://api.github.com/users/umehrot2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T20:47:08Z","updated_at":"2020-12-15T20:47:08Z","author_association":"CONTRIBUTOR","body":"@WTa-hash @nsivabalan As you already seem to know that Athena right now only has support for read optimized queries https://docs.aws.amazon.com/athena/latest/ug/querying-hudi.html and also just FYI it is still on an older version of Hudi i.e. 0.5.2. Until Athena adds that support, the only suggested way to have the compaction triggered before running the query if you care for the latest snapshot. Setting `hoodie.compact.inline.max.delta.commits=1` is probably the way to go about it.\r\n\r\nI will try reaching out to Athena team again to kind of push for this feature. Meanwhile, it would help if @WTa-hash as a customer also submits a support ticket requesting this feature with EMR team.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745557336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745613194","html_url":"https://github.com/apache/hudi/pull/2245#issuecomment-745613194","issue_url":"https://api.github.com/repos/apache/hudi/issues/2245","id":745613194,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTYxMzE5NA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T22:41:49Z","updated_at":"2020-12-15T22:41:49Z","author_association":"CONTRIBUTOR","body":"@vinothchandar : feel free to review the patch. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745613194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745711266","html_url":"https://github.com/apache/hudi/issues/2335#issuecomment-745711266","issue_url":"https://api.github.com/repos/apache/hudi/issues/2335","id":745711266,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTcxMTI2Ng==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T01:52:12Z","updated_at":"2020-12-16T01:52:12Z","author_association":"CONTRIBUTOR","body":"@asharma4-lucid : The reason why any processing mechanism (hudi or others) takes longer time is the second order effects that the partitioning style causes. Having too many partitions implies the number of records per partition (per file) is small. and the processing engine needs to create a ton of small files (number of tasks increases).\r\n\r\nThere is no optimal number of partitions that could be suggested. It depends on the workload. To copy from one table to another, you can use spark.read.format(\"hudi\")... and then write to another location in hudi format. I have personally seen datasets with partitions in the range of 10K.\r\n\r\nFor deleting partitions, there is an open PR to support it efficiently without individual records here : https://github.com/apache/hudi/pull/2254\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745711266/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745712219","html_url":"https://github.com/apache/hudi/issues/2335#issuecomment-745712219","issue_url":"https://api.github.com/repos/apache/hudi/issues/2335","id":745712219,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTcxMjIxOQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T01:55:25Z","updated_at":"2020-12-16T01:55:25Z","author_association":"CONTRIBUTOR","body":"Also, the slowdown caused due to file listings should be eliminated in next release when https://github.com/apache/hudi/pull/2189 and related diffs will be available. (https://cwiki.apache.org/confluence/display/HUDI/RFC+-+15%3A+HUDI+File+Listing+and+Query+Planning+Improvements)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745712219/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745713009","html_url":"https://github.com/apache/hudi/issues/2338#issuecomment-745713009","issue_url":"https://api.github.com/repos/apache/hudi/issues/2338","id":745713009,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTcxMzAwOQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T01:58:10Z","updated_at":"2020-12-16T01:58:10Z","author_association":"CONTRIBUTOR","body":"@nsivabalan : Can you take a look at this. \r\n\r\nThanks,\r\nBalaji.V","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745713009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745731566","html_url":"https://github.com/apache/hudi/pull/2227#issuecomment-745731566","issue_url":"https://api.github.com/repos/apache/hudi/issues/2227","id":745731566,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTczMTU2Ng==","user":{"login":"liujinhui1994","id":25769285,"node_id":"MDQ6VXNlcjI1NzY5Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/25769285?v=4","gravatar_id":"","url":"https://api.github.com/users/liujinhui1994","html_url":"https://github.com/liujinhui1994","followers_url":"https://api.github.com/users/liujinhui1994/followers","following_url":"https://api.github.com/users/liujinhui1994/following{/other_user}","gists_url":"https://api.github.com/users/liujinhui1994/gists{/gist_id}","starred_url":"https://api.github.com/users/liujinhui1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujinhui1994/subscriptions","organizations_url":"https://api.github.com/users/liujinhui1994/orgs","repos_url":"https://api.github.com/users/liujinhui1994/repos","events_url":"https://api.github.com/users/liujinhui1994/events{/privacy}","received_events_url":"https://api.github.com/users/liujinhui1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T03:00:17Z","updated_at":"2020-12-16T03:00:17Z","author_association":"CONTRIBUTOR","body":"> What's the status of this PR? @liujinhui1994\r\n\r\nIt should be no problem, I will verify again to ensure correctness","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745731566/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745731611","html_url":"https://github.com/apache/hudi/pull/2227#issuecomment-745731611","issue_url":"https://api.github.com/repos/apache/hudi/issues/2227","id":745731611,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTczMTYxMQ==","user":{"login":"liujinhui1994","id":25769285,"node_id":"MDQ6VXNlcjI1NzY5Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/25769285?v=4","gravatar_id":"","url":"https://api.github.com/users/liujinhui1994","html_url":"https://github.com/liujinhui1994","followers_url":"https://api.github.com/users/liujinhui1994/followers","following_url":"https://api.github.com/users/liujinhui1994/following{/other_user}","gists_url":"https://api.github.com/users/liujinhui1994/gists{/gist_id}","starred_url":"https://api.github.com/users/liujinhui1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujinhui1994/subscriptions","organizations_url":"https://api.github.com/users/liujinhui1994/orgs","repos_url":"https://api.github.com/users/liujinhui1994/repos","events_url":"https://api.github.com/users/liujinhui1994/events{/privacy}","received_events_url":"https://api.github.com/users/liujinhui1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T03:00:29Z","updated_at":"2020-12-16T03:00:29Z","author_association":"CONTRIBUTOR","body":"> Hi @liujinhui1994 is this pr ready for review ?\r\n\r\nIt should be no problem, I will verify again to ensure correctness","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745731611/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745742598","html_url":"https://github.com/apache/hudi/pull/2332#issuecomment-745742598","issue_url":"https://api.github.com/repos/apache/hudi/issues/2332","id":745742598,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTc0MjU5OA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T03:36:18Z","updated_at":"2020-12-16T03:36:18Z","author_association":"MEMBER","body":"I am merging this into the branch to make forward progress. \r\n\r\n@prashantwason any code review comments, can go in a separate PR follow on ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745742598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745748741","html_url":"https://github.com/apache/hudi/issues/2323#issuecomment-745748741","issue_url":"https://api.github.com/repos/apache/hudi/issues/2323","id":745748741,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTc0ODc0MQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T04:01:03Z","updated_at":"2020-12-16T04:01:03Z","author_association":"MEMBER","body":"@kirkuz \r\n1. GLOBAL indexes with the config set to update partition path will solve the problem for you. Either GLOBAL_BLOOM/GLOBAL_SIMPLE. Indexing is not that well explained tbh, but there is a [draft](https://github.com/apache/hudi/pull/2245) of an upcoming blog, which can help you with some context. High level, you use SIMPLE (or GLOBAL_SIMPLE) if you believe the update pattern spreads uniformly across files such that bloom filters/range pruning all will not help much in cutting down the number of files inspected. \r\n\r\n2. I think the issue is more to do with false positives and as a result a lot of data being shuffled.  We can tune the cores/memory etc down the line. Your comparison against SIMPLE was bit apples-oranges coz it only reads 200 odd partitions that are actually affected by the write, as opposed to GLOBAL_BLOOM which inspects all 4000 odd partitions. \r\n\r\n3. GLOBAL_BLOOM works when used with small dimension tables, for large tables, people either use HBase or tune bloom index. We also plan to add record level indexes RFC-08  in the next release, that gives HBase like performance without the external system overhead. but its not there atm. \r\n\r\n4. No I don't think so. Index look up actually likes it when batched, so it can amortize lot of these costs. \r\n\r\nAs concrete next steps, I suggest turning on dynamic bloom filters and get two runs : 1 for BLOOM, 1 for GLOBAL_BLOOM and we go from there. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745748741/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745752910","html_url":"https://github.com/apache/hudi/pull/2300#issuecomment-745752910","issue_url":"https://api.github.com/repos/apache/hudi/issues/2300","id":745752910,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTc1MjkxMA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T04:16:46Z","updated_at":"2020-12-16T04:16:46Z","author_association":"MEMBER","body":"@garyli1019 this is a release blocker for 0.7.0. Do you have cycles to knock this off in the next few days? Please let me know if you need any help","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745752910/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745755294","html_url":"https://github.com/apache/hudi/pull/2136#issuecomment-745755294","issue_url":"https://api.github.com/repos/apache/hudi/issues/2136","id":745755294,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTc1NTI5NA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T04:25:51Z","updated_at":"2020-12-16T04:25:51Z","author_association":"MEMBER","body":"yes. I am also wondering if we should log these to the metadata table in RFC-15. its a much better model in some sense, since it's fully self managed. Do you mind we hang on to this PR for now, until we land RFC-15 into master? \r\n\r\nyou can checkout the `rfc-15` feature branch for now, if you are curious","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745755294/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745758586","html_url":"https://github.com/apache/hudi/pull/2300#issuecomment-745758586","issue_url":"https://api.github.com/repos/apache/hudi/issues/2300","id":745758586,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTc1ODU4Ng==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T04:37:37Z","updated_at":"2020-12-16T04:37:37Z","author_association":"MEMBER","body":"> @garyli1019 this is a release blocker for 0.7.0. Do you have cycles to knock this off in the next few days? Please let me know if you need any help\r\n\r\n@vinothchandar I will try this work on this PR over this weekend. If I can't finish, I will ask for help.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745758586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745769872","html_url":"https://github.com/apache/hudi/pull/2337#issuecomment-745769872","issue_url":"https://api.github.com/repos/apache/hudi/issues/2337","id":745769872,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTc2OTg3Mg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T05:17:01Z","updated_at":"2020-12-16T05:24:09Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2337?src=pr&el=h1) Report\n> Merging [#2337](https://codecov.io/gh/apache/hudi/pull/2337?src=pr&el=desc) (f7bef05) into [master](https://codecov.io/gh/apache/hudi/commit/319b7a58e4773ca51c4ef9b82faf55d03d208e46?el=desc) (319b7a5) will **decrease** coverage by `1.17%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2337/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2337?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2337      +/-   ##\n============================================\n- Coverage     53.52%   52.35%   -1.18%     \n+ Complexity     2789     2631     -158     \n============================================\n  Files           355      329      -26     \n  Lines         16169    14808    -1361     \n  Branches       1650     1484     -166     \n============================================\n- Hits           8654     7752     -902     \n+ Misses         6815     6441     -374     \n+ Partials        700      615      -85     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `38.83% <ø> (+0.32%)` | `0.00 <ø> (ø)` | |\n| hudiclient | `100.00% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudicommon | `55.07% <ø> (-0.07%)` | `0.00 <ø> (ø)` | |\n| hudihadoopmr | `33.29% <ø> (+0.35%)` | `0.00 <ø> (ø)` | |\n| hudispark | `?` | `?` | |\n| huditimelineservice | `65.30% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `70.11% <ø> (+0.01%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2337?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...ache/hudi/common/fs/inline/InMemoryFileSystem.java](https://codecov.io/gh/apache/hudi/pull/2337/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2ZzL2lubGluZS9Jbk1lbW9yeUZpbGVTeXN0ZW0uamF2YQ==) | `79.31% <0.00%> (-10.35%)` | `15.00% <0.00%> (-1.00%)` | |\n| [...e/hudi/common/table/log/HoodieLogFormatWriter.java](https://codecov.io/gh/apache/hudi/pull/2337/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9Ib29kaWVMb2dGb3JtYXRXcml0ZXIuamF2YQ==) | `77.11% <0.00%> (-1.70%)` | `23.00% <0.00%> (ø%)` | |\n| [...i/utilities/deltastreamer/SourceFormatAdapter.java](https://codecov.io/gh/apache/hudi/pull/2337/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvU291cmNlRm9ybWF0QWRhcHRlci5qYXZh) | `86.48% <0.00%> (ø)` | `11.00% <0.00%> (ø%)` | |\n| [...mmon/table/log/HoodieUnMergedLogRecordScanner.java](https://codecov.io/gh/apache/hudi/pull/2337/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9Ib29kaWVVbk1lcmdlZExvZ1JlY29yZFNjYW5uZXIuamF2YQ==) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (ø%)` | |\n| [...nal/HoodieBulkInsertDataInternalWriterFactory.java](https://codecov.io/gh/apache/hudi/pull/2337/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9pbnRlcm5hbC9Ib29kaWVCdWxrSW5zZXJ0RGF0YUludGVybmFsV3JpdGVyRmFjdG9yeS5qYXZh) | | | |\n| [.../java/org/apache/hudi/HoodieDataSourceHelpers.java](https://codecov.io/gh/apache/hudi/pull/2337/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9Ib29kaWVEYXRhU291cmNlSGVscGVycy5qYXZh) | | | |\n| [...src/main/scala/org/apache/hudi/DefaultSource.scala](https://codecov.io/gh/apache/hudi/pull/2337/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9zY2FsYS9vcmcvYXBhY2hlL2h1ZGkvRGVmYXVsdFNvdXJjZS5zY2FsYQ==) | | | |\n| [.../main/scala/org/apache/hudi/HoodieSparkUtils.scala](https://codecov.io/gh/apache/hudi/pull/2337/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9zY2FsYS9vcmcvYXBhY2hlL2h1ZGkvSG9vZGllU3BhcmtVdGlscy5zY2FsYQ==) | | | |\n| [...in/scala/org/apache/hudi/HoodieEmptyRelation.scala](https://codecov.io/gh/apache/hudi/pull/2337/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9zY2FsYS9vcmcvYXBhY2hlL2h1ZGkvSG9vZGllRW1wdHlSZWxhdGlvbi5zY2FsYQ==) | | | |\n| [.../hudi/async/SparkStreamingAsyncCompactService.java](https://codecov.io/gh/apache/hudi/pull/2337/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9hc3luYy9TcGFya1N0cmVhbWluZ0FzeW5jQ29tcGFjdFNlcnZpY2UuamF2YQ==) | | | |\n| ... and [26 more](https://codecov.io/gh/apache/hudi/pull/2337/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745769872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745774960","html_url":"https://github.com/apache/hudi/issues/2338#issuecomment-745774960","issue_url":"https://api.github.com/repos/apache/hudi/issues/2338","id":745774960,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTc3NDk2MA==","user":{"login":"so-lazy","id":56884416,"node_id":"MDQ6VXNlcjU2ODg0NDE2","avatar_url":"https://avatars.githubusercontent.com/u/56884416?v=4","gravatar_id":"","url":"https://api.github.com/users/so-lazy","html_url":"https://github.com/so-lazy","followers_url":"https://api.github.com/users/so-lazy/followers","following_url":"https://api.github.com/users/so-lazy/following{/other_user}","gists_url":"https://api.github.com/users/so-lazy/gists{/gist_id}","starred_url":"https://api.github.com/users/so-lazy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/so-lazy/subscriptions","organizations_url":"https://api.github.com/users/so-lazy/orgs","repos_url":"https://api.github.com/users/so-lazy/repos","events_url":"https://api.github.com/users/so-lazy/events{/privacy}","received_events_url":"https://api.github.com/users/so-lazy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T05:32:15Z","updated_at":"2020-12-16T05:32:15Z","author_association":"NONE","body":"> @nsivabalan : Can you take a look at this.\r\n> \r\n> Thanks,\r\n> Balaji.V\r\n\r\nThanks for your quick reply","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745774960/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745779978","html_url":"https://github.com/apache/hudi/pull/2300#issuecomment-745779978","issue_url":"https://api.github.com/repos/apache/hudi/issues/2300","id":745779978,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTc3OTk3OA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T05:47:01Z","updated_at":"2020-12-16T05:47:01Z","author_association":"MEMBER","body":"Thanks @garyli1019 ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745779978/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745797881","html_url":"https://github.com/apache/hudi/pull/2311#issuecomment-745797881","issue_url":"https://api.github.com/repos/apache/hudi/issues/2311","id":745797881,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTc5Nzg4MQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T06:33:11Z","updated_at":"2020-12-16T06:33:11Z","author_association":"CONTRIBUTOR","body":"yes, you are right. we are **NOT** making this new payload default for now. Have created https://issues.apache.org/jira/browse/HUDI-1464 to track this. \r\nbtw, have addressed all feedback. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745797881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745814067","html_url":"https://github.com/apache/hudi/pull/2328#issuecomment-745814067","issue_url":"https://api.github.com/repos/apache/hudi/issues/2328","id":745814067,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTgxNDA2Nw==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T07:11:39Z","updated_at":"2020-12-16T07:11:39Z","author_association":"CONTRIBUTOR","body":"reviewed source code. yet to review tests. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745814067/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745865254","html_url":"https://github.com/apache/hudi/pull/2337#issuecomment-745865254","issue_url":"https://api.github.com/repos/apache/hudi/issues/2337","id":745865254,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTg2NTI1NA==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T07:57:03Z","updated_at":"2020-12-16T07:57:03Z","author_association":"CONTRIBUTOR","body":"@wangxianghu Would you please review this pr firstly?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745865254/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745890937","html_url":"https://github.com/apache/hudi/pull/2337#issuecomment-745890937","issue_url":"https://api.github.com/repos/apache/hudi/issues/2337","id":745890937,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTg5MDkzNw==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T08:16:03Z","updated_at":"2020-12-16T08:16:03Z","author_association":"CONTRIBUTOR","body":"> @wangxianghu Would you please review this pr firstly?\r\n\r\nack will review soon","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745890937/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745990061","html_url":"https://github.com/apache/hudi/pull/2339#issuecomment-745990061","issue_url":"https://api.github.com/repos/apache/hudi/issues/2339","id":745990061,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTk5MDA2MQ==","user":{"login":"lichang-bd","id":69448640,"node_id":"MDQ6VXNlcjY5NDQ4NjQw","avatar_url":"https://avatars.githubusercontent.com/u/69448640?v=4","gravatar_id":"","url":"https://api.github.com/users/lichang-bd","html_url":"https://github.com/lichang-bd","followers_url":"https://api.github.com/users/lichang-bd/followers","following_url":"https://api.github.com/users/lichang-bd/following{/other_user}","gists_url":"https://api.github.com/users/lichang-bd/gists{/gist_id}","starred_url":"https://api.github.com/users/lichang-bd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lichang-bd/subscriptions","organizations_url":"https://api.github.com/users/lichang-bd/orgs","repos_url":"https://api.github.com/users/lichang-bd/repos","events_url":"https://api.github.com/users/lichang-bd/events{/privacy}","received_events_url":"https://api.github.com/users/lichang-bd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T09:36:04Z","updated_at":"2020-12-16T09:36:04Z","author_association":"CONTRIBUTOR","body":"Change to https://github.com/apache/hudi/pull/2341","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/745990061/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/746001110","html_url":"https://github.com/apache/hudi/issues/2302#issuecomment-746001110","issue_url":"https://api.github.com/repos/apache/hudi/issues/2302","id":746001110,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NjAwMTExMA==","user":{"login":"rahultoall","id":36847272,"node_id":"MDQ6VXNlcjM2ODQ3Mjcy","avatar_url":"https://avatars.githubusercontent.com/u/36847272?v=4","gravatar_id":"","url":"https://api.github.com/users/rahultoall","html_url":"https://github.com/rahultoall","followers_url":"https://api.github.com/users/rahultoall/followers","following_url":"https://api.github.com/users/rahultoall/following{/other_user}","gists_url":"https://api.github.com/users/rahultoall/gists{/gist_id}","starred_url":"https://api.github.com/users/rahultoall/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rahultoall/subscriptions","organizations_url":"https://api.github.com/users/rahultoall/orgs","repos_url":"https://api.github.com/users/rahultoall/repos","events_url":"https://api.github.com/users/rahultoall/events{/privacy}","received_events_url":"https://api.github.com/users/rahultoall/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T09:45:40Z","updated_at":"2020-12-16T09:45:40Z","author_association":"NONE","body":"@bvaradar Thanks for the response its working now. Checked the Hiveserver we had a authentication issue in hive and the port given in HIVE_URL_OPT_KEY was pointing to thrift server and not hiveserver2 which caused the issue, hence closing it.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/746001110/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/746024764","html_url":"https://github.com/apache/hudi/pull/2340#issuecomment-746024764","issue_url":"https://api.github.com/repos/apache/hudi/issues/2340","id":746024764,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NjAyNDc2NA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T10:06:29Z","updated_at":"2020-12-17T02:32:06Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2340?src=pr&el=h1) Report\n> Merging [#2340](https://codecov.io/gh/apache/hudi/pull/2340?src=pr&el=desc) (0aac1b4) into [master](https://codecov.io/gh/apache/hudi/commit/26cdc457f6b2491caf28dcb7e33f03e7a2dac6fa?el=desc) (26cdc45) will **decrease** coverage by `41.94%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2340/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2340?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #2340       +/-   ##\n=============================================\n- Coverage     52.35%   10.40%   -41.95%     \n+ Complexity     2631       48     -2583     \n=============================================\n  Files           329       51      -278     \n  Lines         14808     1787    -13021     \n  Branches       1484      213     -1271     \n=============================================\n- Hits           7752      186     -7566     \n+ Misses         6441     1588     -4853     \n+ Partials        615       13      -602     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `100.00% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudicommon | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `10.40% <ø> (-59.71%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2340?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...va/org/apache/hudi/utilities/IdentitySplitter.java](https://codecov.io/gh/apache/hudi/pull/2340/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL0lkZW50aXR5U3BsaXR0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-2.00%)` | |\n| [...va/org/apache/hudi/utilities/schema/SchemaSet.java](https://codecov.io/gh/apache/hudi/pull/2340/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFTZXQuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-3.00%)` | |\n| [...a/org/apache/hudi/utilities/sources/RowSource.java](https://codecov.io/gh/apache/hudi/pull/2340/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUm93U291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [.../org/apache/hudi/utilities/sources/AvroSource.java](https://codecov.io/gh/apache/hudi/pull/2340/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [.../org/apache/hudi/utilities/sources/JsonSource.java](https://codecov.io/gh/apache/hudi/pull/2340/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvblNvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [...rg/apache/hudi/utilities/sources/CsvDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2340/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQ3N2REZTU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-10.00%)` | |\n| [...g/apache/hudi/utilities/sources/JsonDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2340/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkRGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [...apache/hudi/utilities/sources/JsonKafkaSource.java](https://codecov.io/gh/apache/hudi/pull/2340/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkthZmthU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-6.00%)` | |\n| [...pache/hudi/utilities/sources/ParquetDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2340/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUGFycXVldERGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-5.00%)` | |\n| [...lities/schema/SchemaProviderWithPostProcessor.java](https://codecov.io/gh/apache/hudi/pull/2340/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFQcm92aWRlcldpdGhQb3N0UHJvY2Vzc29yLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| ... and [306 more](https://codecov.io/gh/apache/hudi/pull/2340/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/746024764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/746045049","html_url":"https://github.com/apache/hudi/pull/2341#issuecomment-746045049","issue_url":"https://api.github.com/repos/apache/hudi/issues/2341","id":746045049,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NjA0NTA0OQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T10:22:15Z","updated_at":"2020-12-16T10:22:15Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2341?src=pr&el=h1) Report\n> Merging [#2341](https://codecov.io/gh/apache/hudi/pull/2341?src=pr&el=desc) (6f1cb1a) into [master](https://codecov.io/gh/apache/hudi/commit/26cdc457f6b2491caf28dcb7e33f03e7a2dac6fa?el=desc) (26cdc45) will **decrease** coverage by `41.94%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2341/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2341?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #2341       +/-   ##\n=============================================\n- Coverage     52.35%   10.40%   -41.95%     \n+ Complexity     2631       48     -2583     \n=============================================\n  Files           329       51      -278     \n  Lines         14808     1787    -13021     \n  Branches       1484      213     -1271     \n=============================================\n- Hits           7752      186     -7566     \n+ Misses         6441     1588     -4853     \n+ Partials        615       13      -602     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `10.40% <ø> (-59.71%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2341?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...va/org/apache/hudi/utilities/IdentitySplitter.java](https://codecov.io/gh/apache/hudi/pull/2341/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL0lkZW50aXR5U3BsaXR0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-2.00%)` | |\n| [...va/org/apache/hudi/utilities/schema/SchemaSet.java](https://codecov.io/gh/apache/hudi/pull/2341/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFTZXQuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-3.00%)` | |\n| [...a/org/apache/hudi/utilities/sources/RowSource.java](https://codecov.io/gh/apache/hudi/pull/2341/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUm93U291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [.../org/apache/hudi/utilities/sources/AvroSource.java](https://codecov.io/gh/apache/hudi/pull/2341/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [.../org/apache/hudi/utilities/sources/JsonSource.java](https://codecov.io/gh/apache/hudi/pull/2341/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvblNvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [...rg/apache/hudi/utilities/sources/CsvDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2341/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQ3N2REZTU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-10.00%)` | |\n| [...g/apache/hudi/utilities/sources/JsonDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2341/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkRGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [...apache/hudi/utilities/sources/JsonKafkaSource.java](https://codecov.io/gh/apache/hudi/pull/2341/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkthZmthU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-6.00%)` | |\n| [...pache/hudi/utilities/sources/ParquetDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2341/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUGFycXVldERGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-5.00%)` | |\n| [...lities/schema/SchemaProviderWithPostProcessor.java](https://codecov.io/gh/apache/hudi/pull/2341/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFQcm92aWRlcldpdGhQb3N0UHJvY2Vzc29yLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| ... and [306 more](https://codecov.io/gh/apache/hudi/pull/2341/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/746045049/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/746115712","html_url":"https://github.com/apache/hudi/pull/2340#issuecomment-746115712","issue_url":"https://api.github.com/repos/apache/hudi/issues/2340","id":746115712,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NjExNTcxMg==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T11:07:56Z","updated_at":"2020-12-16T11:07:56Z","author_association":"CONTRIBUTOR","body":"@yanghua  please take a look when free","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/746115712/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/746391209","html_url":"https://github.com/apache/hudi/pull/2322#issuecomment-746391209","issue_url":"https://api.github.com/repos/apache/hudi/issues/2322","id":746391209,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NjM5MTIwOQ==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T14:36:48Z","updated_at":"2020-12-16T14:36:48Z","author_association":"CONTRIBUTOR","body":"@vinothchandar @leesf thanks, have resolved the comments","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/746391209/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/746488630","html_url":"https://github.com/apache/hudi/pull/2136#issuecomment-746488630","issue_url":"https://api.github.com/repos/apache/hudi/issues/2136","id":746488630,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NjQ4ODYzMA==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T15:36:13Z","updated_at":"2020-12-16T15:36:13Z","author_association":"CONTRIBUTOR","body":"> yes. I am also wondering if we should log these to the metadata table in RFC-15. its a much better model in some sense, since it's fully self managed. Do you mind we hang on to this PR for now, until we land RFC-15 into master?\r\n> \r\n> you can checkout the `rfc-15` feature branch for now, if you are curious\r\n\r\nthanks , i will checkout `rfc-15`, and try to  land this feature on `rfc-15` branch, wdyt?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/746488630/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/746959114","html_url":"https://github.com/apache/hudi/issues/2331#issuecomment-746959114","issue_url":"https://api.github.com/repos/apache/hudi/issues/2331","id":746959114,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Njk1OTExNA==","user":{"login":"prashantwason","id":58448203,"node_id":"MDQ6VXNlcjU4NDQ4MjAz","avatar_url":"https://avatars.githubusercontent.com/u/58448203?v=4","gravatar_id":"","url":"https://api.github.com/users/prashantwason","html_url":"https://github.com/prashantwason","followers_url":"https://api.github.com/users/prashantwason/followers","following_url":"https://api.github.com/users/prashantwason/following{/other_user}","gists_url":"https://api.github.com/users/prashantwason/gists{/gist_id}","starred_url":"https://api.github.com/users/prashantwason/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prashantwason/subscriptions","organizations_url":"https://api.github.com/users/prashantwason/orgs","repos_url":"https://api.github.com/users/prashantwason/repos","events_url":"https://api.github.com/users/prashantwason/events{/privacy}","received_events_url":"https://api.github.com/users/prashantwason/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T20:25:38Z","updated_at":"2020-12-16T20:25:38Z","author_association":"MEMBER","body":"I think the distinction is in UPDATE use-cases. Consider this scenario:\r\n\r\nt1: Insert with Schema 1: file1.parquet is created and records have schema1\r\n\r\nt2: Update with Schema 2: Suppose schema 2 has 1 field deleted. A single record is being updated. This will lead to file1.parquet being read and re-written (after update of the single record) into file2.parquet. But all records in file2.parquet would no have the deleted field.\r\n\r\nAnother scenario is possible where the deleted field is later added back with a different incompatible \"type\" (e.g. an int field was deleted and another field with same name but \"string\" type was added). This schema will have issues reading historical data within the dataset which was written with older schema.\r\n\r\nIf you want to delete field within a HUDI dataset, it may be simpler to copy the dataset using a new schema.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/746959114/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/747089261","html_url":"https://github.com/apache/hudi/issues/2335#issuecomment-747089261","issue_url":"https://api.github.com/repos/apache/hudi/issues/2335","id":747089261,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzA4OTI2MQ==","user":{"login":"asharma4-lucid","id":64492084,"node_id":"MDQ6VXNlcjY0NDkyMDg0","avatar_url":"https://avatars.githubusercontent.com/u/64492084?v=4","gravatar_id":"","url":"https://api.github.com/users/asharma4-lucid","html_url":"https://github.com/asharma4-lucid","followers_url":"https://api.github.com/users/asharma4-lucid/followers","following_url":"https://api.github.com/users/asharma4-lucid/following{/other_user}","gists_url":"https://api.github.com/users/asharma4-lucid/gists{/gist_id}","starred_url":"https://api.github.com/users/asharma4-lucid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asharma4-lucid/subscriptions","organizations_url":"https://api.github.com/users/asharma4-lucid/orgs","repos_url":"https://api.github.com/users/asharma4-lucid/repos","events_url":"https://api.github.com/users/asharma4-lucid/events{/privacy}","received_events_url":"https://api.github.com/users/asharma4-lucid/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T22:52:47Z","updated_at":"2020-12-16T22:52:47Z","author_association":"NONE","body":"Thanks @bvaradar for the details. Much appreciated.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/747089261/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/747153111","html_url":"https://github.com/apache/hudi/pull/2254#issuecomment-747153111","issue_url":"https://api.github.com/repos/apache/hudi/issues/2254","id":747153111,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzE1MzExMQ==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T01:55:29Z","updated_at":"2020-12-17T01:55:29Z","author_association":"CONTRIBUTOR","body":"@satishkotha Have resolved the comments. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/747153111/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/747167829","html_url":"https://github.com/apache/hudi/pull/2326#issuecomment-747167829","issue_url":"https://api.github.com/repos/apache/hudi/issues/2326","id":747167829,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzE2NzgyOQ==","user":{"login":"umehrot2","id":8647012,"node_id":"MDQ6VXNlcjg2NDcwMTI=","avatar_url":"https://avatars.githubusercontent.com/u/8647012?v=4","gravatar_id":"","url":"https://api.github.com/users/umehrot2","html_url":"https://github.com/umehrot2","followers_url":"https://api.github.com/users/umehrot2/followers","following_url":"https://api.github.com/users/umehrot2/following{/other_user}","gists_url":"https://api.github.com/users/umehrot2/gists{/gist_id}","starred_url":"https://api.github.com/users/umehrot2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/umehrot2/subscriptions","organizations_url":"https://api.github.com/users/umehrot2/orgs","repos_url":"https://api.github.com/users/umehrot2/repos","events_url":"https://api.github.com/users/umehrot2/events{/privacy}","received_events_url":"https://api.github.com/users/umehrot2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T02:43:46Z","updated_at":"2020-12-17T02:43:46Z","author_association":"CONTRIBUTOR","body":"@prashantwason thanks for the review. Addressed the comments.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/747167829/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/747255133","html_url":"https://github.com/apache/hudi/pull/2263#issuecomment-747255133","issue_url":"https://api.github.com/repos/apache/hudi/issues/2263","id":747255133,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzI1NTEzMw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T07:05:25Z","updated_at":"2020-12-17T07:05:25Z","author_association":"MEMBER","body":"@satishkotha \r\n\r\n>After clustering all new records have a new commit time. I'm trying to see if it's possible to preserve commit_time from original file to support incremental queries.\r\n\r\nthis would be good to do. Can we file a tracking JIRA for this?  we can keep under the same umbrella with 0.8.0 fix version? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/747255133/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/747267314","html_url":"https://github.com/apache/hudi/pull/2337#issuecomment-747267314","issue_url":"https://api.github.com/repos/apache/hudi/issues/2337","id":747267314,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzI2NzMxNA==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T07:33:12Z","updated_at":"2020-12-17T07:33:12Z","author_association":"CONTRIBUTOR","body":"hi @liujinhui1994 thanks for your contributions\r\nSince flink related test suite is under development, it's hard to decide whether your pr is ok.\r\nDo you mind testing it in your cluster env firstly to give us more confidence, then, we can continue the review .\r\nWDYT?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/747267314/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/747486716","html_url":"https://github.com/apache/hudi/pull/2342#issuecomment-747486716","issue_url":"https://api.github.com/repos/apache/hudi/issues/2342","id":747486716,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzQ4NjcxNg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T14:54:58Z","updated_at":"2020-12-17T14:54:58Z","author_association":"MEMBER","body":"@rmpifer could you please rebase this against latest `rfc-15` branch. I ll get started with the review in the meantime","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/747486716/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/747528223","html_url":"https://github.com/apache/hudi/pull/2316#issuecomment-747528223","issue_url":"https://api.github.com/repos/apache/hudi/issues/2316","id":747528223,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzUyODIyMw==","user":{"login":"sbernauer","id":29303194,"node_id":"MDQ6VXNlcjI5MzAzMTk0","avatar_url":"https://avatars.githubusercontent.com/u/29303194?v=4","gravatar_id":"","url":"https://api.github.com/users/sbernauer","html_url":"https://github.com/sbernauer","followers_url":"https://api.github.com/users/sbernauer/followers","following_url":"https://api.github.com/users/sbernauer/following{/other_user}","gists_url":"https://api.github.com/users/sbernauer/gists{/gist_id}","starred_url":"https://api.github.com/users/sbernauer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sbernauer/subscriptions","organizations_url":"https://api.github.com/users/sbernauer/orgs","repos_url":"https://api.github.com/users/sbernauer/repos","events_url":"https://api.github.com/users/sbernauer/events{/privacy}","received_events_url":"https://api.github.com/users/sbernauer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T15:55:38Z","updated_at":"2020-12-17T15:55:38Z","author_association":"CONTRIBUTOR","body":"Im using >= 0.6.0 from master branch and Spark 3.0.1\r\nI'm sorry I can't downgrade to spark 2.4\r\nBut I will try removing the relocation","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/747528223/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/747551023","html_url":"https://github.com/apache/hudi/issues/2331#issuecomment-747551023","issue_url":"https://api.github.com/repos/apache/hudi/issues/2331","id":747551023,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzU1MTAyMw==","user":{"login":"brandon-stanley","id":38012877,"node_id":"MDQ6VXNlcjM4MDEyODc3","avatar_url":"https://avatars.githubusercontent.com/u/38012877?v=4","gravatar_id":"","url":"https://api.github.com/users/brandon-stanley","html_url":"https://github.com/brandon-stanley","followers_url":"https://api.github.com/users/brandon-stanley/followers","following_url":"https://api.github.com/users/brandon-stanley/following{/other_user}","gists_url":"https://api.github.com/users/brandon-stanley/gists{/gist_id}","starred_url":"https://api.github.com/users/brandon-stanley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brandon-stanley/subscriptions","organizations_url":"https://api.github.com/users/brandon-stanley/orgs","repos_url":"https://api.github.com/users/brandon-stanley/repos","events_url":"https://api.github.com/users/brandon-stanley/events{/privacy}","received_events_url":"https://api.github.com/users/brandon-stanley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T16:29:43Z","updated_at":"2020-12-17T16:29:43Z","author_association":"NONE","body":"Thanks for your response @prashantwason. \r\n\r\nDoes this mean that the implementation of maintaining schemas within Hudi is more of a _wrapper_ around Avro which has an additional check to ensure that there are no deletes because of the scenarios you listed above? I just want to confirm because the documentation that I've previously linked states that deletes are supported for `BACKWARDS` compatible schemas within Avro:\r\n\r\n![image](https://user-images.githubusercontent.com/38012877/102514851-ffeeb380-405a-11eb-9c49-fffd7d0dbc7b.png)\r\n\r\nCheers,\r\n\r\nBrandon","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/747551023/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/747667904","html_url":"https://github.com/apache/hudi/pull/2254#issuecomment-747667904","issue_url":"https://api.github.com/repos/apache/hudi/issues/2254","id":747667904,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzY2NzkwNA==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T19:59:18Z","updated_at":"2020-12-17T19:59:18Z","author_association":"MEMBER","body":"@n3nash @bvaradar Can one of you  review as well?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/747667904/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/747676296","html_url":"https://github.com/apache/hudi/issues/2076#issuecomment-747676296","issue_url":"https://api.github.com/repos/apache/hudi/issues/2076","id":747676296,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzY3NjI5Ng==","user":{"login":"AnweshaSen","id":46347468,"node_id":"MDQ6VXNlcjQ2MzQ3NDY4","avatar_url":"https://avatars.githubusercontent.com/u/46347468?v=4","gravatar_id":"","url":"https://api.github.com/users/AnweshaSen","html_url":"https://github.com/AnweshaSen","followers_url":"https://api.github.com/users/AnweshaSen/followers","following_url":"https://api.github.com/users/AnweshaSen/following{/other_user}","gists_url":"https://api.github.com/users/AnweshaSen/gists{/gist_id}","starred_url":"https://api.github.com/users/AnweshaSen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AnweshaSen/subscriptions","organizations_url":"https://api.github.com/users/AnweshaSen/orgs","repos_url":"https://api.github.com/users/AnweshaSen/repos","events_url":"https://api.github.com/users/AnweshaSen/events{/privacy}","received_events_url":"https://api.github.com/users/AnweshaSen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T20:15:24Z","updated_at":"2020-12-17T20:15:24Z","author_association":"NONE","body":"Hi, I am very new to Hudi and I faced similar kind error while dealing with csv.\r\nI tried with a simple csv, having a structure like:\r\n\r\n+---+-----+\r\n|age| Name|\r\n+---+-----+\r\n| 10| Ajay|\r\n| 20|Bijay|\r\n| 30|Ram|\r\n| 40|Shyam|\r\n| 50| Mina|\r\n+---+-----+\r\n\r\nI had \"age\" as \"RECORDKEY\" and \"Name\" as \"PRECOMBINE\"  key but no \"PARTITIONPATH\" key. When I tried to upsert the csv-loaded dataFrame, it shows me the error: \"org.apache.avro.SchemaParseException\". \r\n\r\nCan anyone provide me a solution ?? \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/747676296/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/747703536","html_url":"https://github.com/apache/hudi/pull/2311#issuecomment-747703536","issue_url":"https://api.github.com/repos/apache/hudi/issues/2311","id":747703536,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzcwMzUzNg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T21:09:43Z","updated_at":"2020-12-17T21:09:43Z","author_association":"MEMBER","body":"@nsivabalan could you check the build? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/747703536/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/747741409","html_url":"https://github.com/apache/hudi/pull/2343#issuecomment-747741409","issue_url":"https://api.github.com/repos/apache/hudi/issues/2343","id":747741409,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Nzc0MTQwOQ==","user":{"login":"prashantwason","id":58448203,"node_id":"MDQ6VXNlcjU4NDQ4MjAz","avatar_url":"https://avatars.githubusercontent.com/u/58448203?v=4","gravatar_id":"","url":"https://api.github.com/users/prashantwason","html_url":"https://github.com/prashantwason","followers_url":"https://api.github.com/users/prashantwason/followers","following_url":"https://api.github.com/users/prashantwason/following{/other_user}","gists_url":"https://api.github.com/users/prashantwason/gists{/gist_id}","starred_url":"https://api.github.com/users/prashantwason/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prashantwason/subscriptions","organizations_url":"https://api.github.com/users/prashantwason/orgs","repos_url":"https://api.github.com/users/prashantwason/repos","events_url":"https://api.github.com/users/prashantwason/events{/privacy}","received_events_url":"https://api.github.com/users/prashantwason/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T22:32:06Z","updated_at":"2020-12-17T22:32:06Z","author_association":"MEMBER","body":"@vinothchandar  Please take a look.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/747741409/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/747747412","html_url":"https://github.com/apache/hudi/pull/2343#issuecomment-747747412","issue_url":"https://api.github.com/repos/apache/hudi/issues/2343","id":747747412,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Nzc0NzQxMg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T22:47:04Z","updated_at":"2020-12-17T22:47:04Z","author_association":"MEMBER","body":"Good optimization. Will review ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/747747412/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/747754631","html_url":"https://github.com/apache/hudi/pull/2343#issuecomment-747754631","issue_url":"https://api.github.com/repos/apache/hudi/issues/2343","id":747754631,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Nzc1NDYzMQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T23:05:39Z","updated_at":"2020-12-21T18:34:22Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2343?src=pr&el=h1) Report\n> Merging [#2343](https://codecov.io/gh/apache/hudi/pull/2343?src=pr&el=desc) (d71922d) into [rfc-15](https://codecov.io/gh/apache/hudi/commit/c6c7e18701b4d5a9435451b537b973be05342511?el=desc) (c6c7e18) will **increase** coverage by `3.81%`.\n> The diff coverage is `92.10%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2343/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2343?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             rfc-15    #2343      +/-   ##\n============================================\n+ Coverage     59.25%   63.07%   +3.81%     \n+ Complexity     4591     1779    -2812     \n============================================\n  Files           574      252     -322     \n  Lines         24385     9120   -15265     \n  Branches       2442      828    -1614     \n============================================\n- Hits          14450     5752    -8698     \n+ Misses         8884     3062    -5822     \n+ Partials       1051      306     -745     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `75.35% <92.10%> (-0.01%)` | `0.00 <12.00> (ø)` | |\n| hudicommon | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| hudispark | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `10.53% <ø> (-58.86%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2343?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...hudi/metadata/HoodieBackedTableMetadataWriter.java](https://codecov.io/gh/apache/hudi/pull/2343/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvSG9vZGllQmFja2VkVGFibGVNZXRhZGF0YVdyaXRlci5qYXZh) | `72.92% <91.17%> (+1.92%)` | `59.00 <11.00> (+9.00)` | |\n| [...java/org/apache/hudi/config/HoodieWriteConfig.java](https://codecov.io/gh/apache/hudi/pull/2343/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29uZmlnL0hvb2RpZVdyaXRlQ29uZmlnLmphdmE=) | `80.89% <100.00%> (+0.23%)` | `115.00 <1.00> (+1.00)` | |\n| [...va/org/apache/hudi/utilities/IdentitySplitter.java](https://codecov.io/gh/apache/hudi/pull/2343/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL0lkZW50aXR5U3BsaXR0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-2.00%)` | |\n| [...a/org/apache/hudi/utilities/sources/RowSource.java](https://codecov.io/gh/apache/hudi/pull/2343/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUm93U291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [.../org/apache/hudi/utilities/sources/AvroSource.java](https://codecov.io/gh/apache/hudi/pull/2343/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [.../org/apache/hudi/utilities/sources/JsonSource.java](https://codecov.io/gh/apache/hudi/pull/2343/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvblNvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [...rg/apache/hudi/utilities/sources/CsvDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2343/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQ3N2REZTU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-10.00%)` | |\n| [...g/apache/hudi/utilities/sources/JsonDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2343/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkRGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [...apache/hudi/utilities/sources/JsonKafkaSource.java](https://codecov.io/gh/apache/hudi/pull/2343/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkthZmthU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-6.00%)` | |\n| [...pache/hudi/utilities/sources/ParquetDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2343/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUGFycXVldERGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-5.00%)` | |\n| ... and [352 more](https://codecov.io/gh/apache/hudi/pull/2343/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/747754631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/747755598","html_url":"https://github.com/apache/hudi/pull/2343#issuecomment-747755598","issue_url":"https://api.github.com/repos/apache/hudi/issues/2343","id":747755598,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Nzc1NTU5OA==","user":{"login":"umehrot2","id":8647012,"node_id":"MDQ6VXNlcjg2NDcwMTI=","avatar_url":"https://avatars.githubusercontent.com/u/8647012?v=4","gravatar_id":"","url":"https://api.github.com/users/umehrot2","html_url":"https://github.com/umehrot2","followers_url":"https://api.github.com/users/umehrot2/followers","following_url":"https://api.github.com/users/umehrot2/following{/other_user}","gists_url":"https://api.github.com/users/umehrot2/gists{/gist_id}","starred_url":"https://api.github.com/users/umehrot2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/umehrot2/subscriptions","organizations_url":"https://api.github.com/users/umehrot2/orgs","repos_url":"https://api.github.com/users/umehrot2/repos","events_url":"https://api.github.com/users/umehrot2/events{/privacy}","received_events_url":"https://api.github.com/users/umehrot2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T23:08:15Z","updated_at":"2020-12-17T23:08:15Z","author_association":"CONTRIBUTOR","body":"Its much needed. We should have done this for Hudi in general long time back.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/747755598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/747781069","html_url":"https://github.com/apache/hudi/issues/2076#issuecomment-747781069","issue_url":"https://api.github.com/repos/apache/hudi/issues/2076","id":747781069,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Nzc4MTA2OQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-18T00:01:53Z","updated_at":"2020-12-18T00:01:53Z","author_association":"CONTRIBUTOR","body":"@AnweshaSen : Can you create a new github issue with full exception stack trace and all the configurations that you are passing.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/747781069/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/747810064","html_url":"https://github.com/apache/hudi/pull/2344#issuecomment-747810064","issue_url":"https://api.github.com/repos/apache/hudi/issues/2344","id":747810064,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzgxMDA2NA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-18T01:31:01Z","updated_at":"2020-12-18T01:31:01Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2344?src=pr&el=h1) Report\n> Merging [#2344](https://codecov.io/gh/apache/hudi/pull/2344?src=pr&el=desc) (3649a24) into [master](https://codecov.io/gh/apache/hudi/commit/6a6b772c4980106efe71e3799da9e6a00746dd4e?el=desc) (6a6b772) will **decrease** coverage by `42.32%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2344/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2344?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #2344       +/-   ##\n=============================================\n- Coverage     52.38%   10.05%   -42.33%     \n+ Complexity     2632       48     -2584     \n=============================================\n  Files           329       52      -277     \n  Lines         14808     1850    -12958     \n  Branches       1484      223     -1261     \n=============================================\n- Hits           7757      186     -7571     \n+ Misses         6437     1651     -4786     \n+ Partials        614       13      -601     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `10.05% <ø> (-60.07%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2344?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...va/org/apache/hudi/utilities/IdentitySplitter.java](https://codecov.io/gh/apache/hudi/pull/2344/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL0lkZW50aXR5U3BsaXR0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-2.00%)` | |\n| [...va/org/apache/hudi/utilities/schema/SchemaSet.java](https://codecov.io/gh/apache/hudi/pull/2344/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFTZXQuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-3.00%)` | |\n| [...a/org/apache/hudi/utilities/sources/RowSource.java](https://codecov.io/gh/apache/hudi/pull/2344/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUm93U291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [.../org/apache/hudi/utilities/sources/AvroSource.java](https://codecov.io/gh/apache/hudi/pull/2344/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [.../org/apache/hudi/utilities/sources/JsonSource.java](https://codecov.io/gh/apache/hudi/pull/2344/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvblNvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [...rg/apache/hudi/utilities/sources/CsvDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2344/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQ3N2REZTU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-10.00%)` | |\n| [...g/apache/hudi/utilities/sources/JsonDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2344/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkRGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [...apache/hudi/utilities/sources/JsonKafkaSource.java](https://codecov.io/gh/apache/hudi/pull/2344/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkthZmthU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-6.00%)` | |\n| [...pache/hudi/utilities/sources/ParquetDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2344/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUGFycXVldERGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-5.00%)` | |\n| [...lities/schema/SchemaProviderWithPostProcessor.java](https://codecov.io/gh/apache/hudi/pull/2344/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFQcm92aWRlcldpdGhQb3N0UHJvY2Vzc29yLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| ... and [307 more](https://codecov.io/gh/apache/hudi/pull/2344/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/747810064/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/747850886","html_url":"https://github.com/apache/hudi/pull/2263#issuecomment-747850886","issue_url":"https://api.github.com/repos/apache/hudi/issues/2263","id":747850886,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Nzg1MDg4Ng==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-18T03:50:49Z","updated_at":"2020-12-18T03:50:49Z","author_association":"MEMBER","body":"> @satishkotha\r\n> \r\n> > After clustering all new records have a new commit time. I'm trying to see if it's possible to preserve commit_time from original file to support incremental queries.\r\n> \r\n> this would be good to do. Can we file a tracking JIRA for this? we can keep under the same umbrella with 0.8.0 fix version?\r\n\r\n@vinothchandar I created https://issues.apache.org/jira/browse/HUDI-1468 as suggesed.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/747850886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/747852533","html_url":"https://github.com/apache/hudi/pull/2263#issuecomment-747852533","issue_url":"https://api.github.com/repos/apache/hudi/issues/2263","id":747852533,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Nzg1MjUzMw==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-18T03:57:54Z","updated_at":"2020-12-18T03:57:54Z","author_association":"MEMBER","body":"> This is great, thanks @satishkotha !\r\n> \r\n> I have completed a first pass. Don't have major concerns. May be we can work through these initial comments, as I complete the remainder.\r\n> \r\n> On follow ups\r\n> \r\n> * IIUC inline clustering should work as-is from datasource/deltastreamer paths with this change, by passing necessary configs. We should create two JIRA one each for support for async clustering via datasource and deltastreamer?\r\n> * Can you share how much testing on a production environment has been done for this.\r\n\r\n@vinothchandar \r\n\r\n* Looks like @lw309637554 created https://issues.apache.org/jira/browse/HUDI-1399 for async clustering and there's some good discussion there.\r\n\r\n* I did some basic testing in staging environment mostly with inline clustering. I have another PR for test suite changes to validate async clustering via calling writeClient APIs. I hope to get more production scale tests over next week.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/747852533/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748021824","html_url":"https://github.com/apache/hudi/issues/2076#issuecomment-748021824","issue_url":"https://api.github.com/repos/apache/hudi/issues/2076","id":748021824,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODAyMTgyNA==","user":{"login":"AnweshaSen","id":46347468,"node_id":"MDQ6VXNlcjQ2MzQ3NDY4","avatar_url":"https://avatars.githubusercontent.com/u/46347468?v=4","gravatar_id":"","url":"https://api.github.com/users/AnweshaSen","html_url":"https://github.com/AnweshaSen","followers_url":"https://api.github.com/users/AnweshaSen/followers","following_url":"https://api.github.com/users/AnweshaSen/following{/other_user}","gists_url":"https://api.github.com/users/AnweshaSen/gists{/gist_id}","starred_url":"https://api.github.com/users/AnweshaSen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AnweshaSen/subscriptions","organizations_url":"https://api.github.com/users/AnweshaSen/orgs","repos_url":"https://api.github.com/users/AnweshaSen/repos","events_url":"https://api.github.com/users/AnweshaSen/events{/privacy}","received_events_url":"https://api.github.com/users/AnweshaSen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-18T10:57:18Z","updated_at":"2020-12-18T10:57:18Z","author_association":"NONE","body":"@bvaradar ya sure. I just created an issue [here](https://github.com/apache/hudi/issues/2347). Please give me a way out.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748021824/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748081992","html_url":"https://github.com/apache/hudi/pull/2275#issuecomment-748081992","issue_url":"https://api.github.com/repos/apache/hudi/issues/2275","id":748081992,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODA4MTk5Mg==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-18T13:23:29Z","updated_at":"2020-12-18T13:23:29Z","author_association":"CONTRIBUTOR","body":"have resolved the comments, can you help to review ? @satishkotha @n3nash @vinothchandar  thanks. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748081992/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748228679","html_url":"https://github.com/apache/hudi/issues/2331#issuecomment-748228679","issue_url":"https://api.github.com/repos/apache/hudi/issues/2331","id":748228679,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODIyODY3OQ==","user":{"login":"prashantwason","id":58448203,"node_id":"MDQ6VXNlcjU4NDQ4MjAz","avatar_url":"https://avatars.githubusercontent.com/u/58448203?v=4","gravatar_id":"","url":"https://api.github.com/users/prashantwason","html_url":"https://github.com/prashantwason","followers_url":"https://api.github.com/users/prashantwason/followers","following_url":"https://api.github.com/users/prashantwason/following{/other_user}","gists_url":"https://api.github.com/users/prashantwason/gists{/gist_id}","starred_url":"https://api.github.com/users/prashantwason/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prashantwason/subscriptions","organizations_url":"https://api.github.com/users/prashantwason/orgs","repos_url":"https://api.github.com/users/prashantwason/repos","events_url":"https://api.github.com/users/prashantwason/events{/privacy}","received_events_url":"https://api.github.com/users/prashantwason/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-18T17:50:08Z","updated_at":"2020-12-18T17:50:08Z","author_association":"MEMBER","body":"Thats correct.\r\n\r\nHUDI does not have a full schema management system. The schema to be used is provided at the time of the write where we validate that the schema being used for current write is compatible with the existing schema (from the previous writes). Hence, HUDI schema management is very simplistic compared to the documentation you have referred.\r\n\r\nIn producer-consumer systems, schema compatibility is a simpler job - by upgrading the producer and consumer code with newer schemas the schema can be changed  - as all new data will be generated using a schema which both understand and there is no historical data with older schema version to be processed any longer. But within HUDI there are always versions of data saved with older schema and to continue to provide features like incremental read (which reads data over a time-range) and updates (old data can be changed), we have to restrict the schema modification. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748228679/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748265078","html_url":"https://github.com/apache/hudi/issues/2331#issuecomment-748265078","issue_url":"https://api.github.com/repos/apache/hudi/issues/2331","id":748265078,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODI2NTA3OA==","user":{"login":"tooptoop4","id":33283496,"node_id":"MDQ6VXNlcjMzMjgzNDk2","avatar_url":"https://avatars.githubusercontent.com/u/33283496?v=4","gravatar_id":"","url":"https://api.github.com/users/tooptoop4","html_url":"https://github.com/tooptoop4","followers_url":"https://api.github.com/users/tooptoop4/followers","following_url":"https://api.github.com/users/tooptoop4/following{/other_user}","gists_url":"https://api.github.com/users/tooptoop4/gists{/gist_id}","starred_url":"https://api.github.com/users/tooptoop4/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tooptoop4/subscriptions","organizations_url":"https://api.github.com/users/tooptoop4/orgs","repos_url":"https://api.github.com/users/tooptoop4/repos","events_url":"https://api.github.com/users/tooptoop4/events{/privacy}","received_events_url":"https://api.github.com/users/tooptoop4/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-18T19:03:17Z","updated_at":"2020-12-18T19:03:17Z","author_association":"NONE","body":"@prashantwason does hudi support adding new columns or changing existing columns types (ie long to string) ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748265078/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748296058","html_url":"https://github.com/apache/hudi/pull/2349#issuecomment-748296058","issue_url":"https://api.github.com/repos/apache/hudi/issues/2349","id":748296058,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODI5NjA1OA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-18T20:10:09Z","updated_at":"2020-12-18T20:36:19Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2349?src=pr&el=h1) Report\n> Merging [#2349](https://codecov.io/gh/apache/hudi/pull/2349?src=pr&el=desc) (71df84f) into [master](https://codecov.io/gh/apache/hudi/commit/6a6b772c4980106efe71e3799da9e6a00746dd4e?el=desc) (6a6b772) will **decrease** coverage by `42.32%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2349/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2349?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #2349       +/-   ##\n=============================================\n- Coverage     52.38%   10.05%   -42.33%     \n+ Complexity     2632       48     -2584     \n=============================================\n  Files           329       52      -277     \n  Lines         14808     1850    -12958     \n  Branches       1484      223     -1261     \n=============================================\n- Hits           7757      186     -7571     \n+ Misses         6437     1651     -4786     \n+ Partials        614       13      -601     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `100.00% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudicommon | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `10.05% <ø> (-60.07%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2349?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...va/org/apache/hudi/utilities/IdentitySplitter.java](https://codecov.io/gh/apache/hudi/pull/2349/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL0lkZW50aXR5U3BsaXR0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-2.00%)` | |\n| [...va/org/apache/hudi/utilities/schema/SchemaSet.java](https://codecov.io/gh/apache/hudi/pull/2349/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFTZXQuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-3.00%)` | |\n| [...a/org/apache/hudi/utilities/sources/RowSource.java](https://codecov.io/gh/apache/hudi/pull/2349/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUm93U291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [.../org/apache/hudi/utilities/sources/AvroSource.java](https://codecov.io/gh/apache/hudi/pull/2349/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [.../org/apache/hudi/utilities/sources/JsonSource.java](https://codecov.io/gh/apache/hudi/pull/2349/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvblNvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [...rg/apache/hudi/utilities/sources/CsvDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2349/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQ3N2REZTU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-10.00%)` | |\n| [...g/apache/hudi/utilities/sources/JsonDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2349/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkRGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [...apache/hudi/utilities/sources/JsonKafkaSource.java](https://codecov.io/gh/apache/hudi/pull/2349/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkthZmthU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-6.00%)` | |\n| [...pache/hudi/utilities/sources/ParquetDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2349/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUGFycXVldERGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-5.00%)` | |\n| [...lities/schema/SchemaProviderWithPostProcessor.java](https://codecov.io/gh/apache/hudi/pull/2349/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFQcm92aWRlcldpdGhQb3N0UHJvY2Vzc29yLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| ... and [307 more](https://codecov.io/gh/apache/hudi/pull/2349/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748296058/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748335307","html_url":"https://github.com/apache/hudi/issues/2347#issuecomment-748335307","issue_url":"https://api.github.com/repos/apache/hudi/issues/2347","id":748335307,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODMzNTMwNw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-18T21:47:03Z","updated_at":"2020-12-18T21:47:03Z","author_association":"CONTRIBUTOR","body":"It looks like the csv you are importing does not have the column headers. Spark is treating the first row\r\n\r\n\"10| Ajay\"\r\n\r\nas the header with \"10\" being one of the field name. As Avro field names must begin with an alphabet or  \"_\", it is failing. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748335307/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748337726","html_url":"https://github.com/apache/hudi/pull/2168#issuecomment-748337726","issue_url":"https://api.github.com/repos/apache/hudi/issues/2168","id":748337726,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODMzNzcyNg==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-18T21:53:25Z","updated_at":"2020-12-18T21:53:25Z","author_association":"CONTRIBUTOR","body":"@n3nash : fixed the bug as discussed. you can check it out. Wrt backwards compatability, its just 3 additional configs that one needs to set man. No other changes required. Not sure if we really need to make it backwards compatible. Should be easy to figure it out. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748337726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748340463","html_url":"https://github.com/apache/hudi/issues/2345#issuecomment-748340463","issue_url":"https://api.github.com/repos/apache/hudi/issues/2345","id":748340463,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODM0MDQ2Mw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-18T22:01:14Z","updated_at":"2020-12-18T22:01:14Z","author_association":"CONTRIBUTOR","body":"@kingkongpoon : Actually, preCombine is used to merge duplicate rows in a single batch that are to be ingested together. In your case, if both a.csv and 2.csv were a single file, you will see the preCombine come into effect. \r\n\r\nFor the scenario you have the API that matters is combineAndGetUpdateValue. The default record payload always overwrites the existing row in the dataset with the  incoming record. Hence, the behavior you are seeing. \r\n\r\nI have opened the jira to clarify this in Javadocs https://issues.apache.org/jira/browse/HUDI-1475 ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748340463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748354002","html_url":"https://github.com/apache/hudi/issues/2331#issuecomment-748354002","issue_url":"https://api.github.com/repos/apache/hudi/issues/2331","id":748354002,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODM1NDAwMg==","user":{"login":"prashantwason","id":58448203,"node_id":"MDQ6VXNlcjU4NDQ4MjAz","avatar_url":"https://avatars.githubusercontent.com/u/58448203?v=4","gravatar_id":"","url":"https://api.github.com/users/prashantwason","html_url":"https://github.com/prashantwason","followers_url":"https://api.github.com/users/prashantwason/followers","following_url":"https://api.github.com/users/prashantwason/following{/other_user}","gists_url":"https://api.github.com/users/prashantwason/gists{/gist_id}","starred_url":"https://api.github.com/users/prashantwason/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prashantwason/subscriptions","organizations_url":"https://api.github.com/users/prashantwason/orgs","repos_url":"https://api.github.com/users/prashantwason/repos","events_url":"https://api.github.com/users/prashantwason/events{/privacy}","received_events_url":"https://api.github.com/users/prashantwason/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-18T22:40:56Z","updated_at":"2020-12-18T22:40:56Z","author_association":"MEMBER","body":"Yes, adding new columns (fields in schema) is supported as long as they have default values specified. This is because the new fields will not be present in older records and hence cannot be populated directly on reading records from existing data.\r\n\r\nThe following field type changes are allowed:\r\nold_type ->.  new_type\r\nint                  long\r\nint                  float\r\nint                  double\r\nlong               double\r\nfloat               double\r\nbytes             string\r\nstring             bytes\r\n\r\nCode references:\r\nhttps://github.com/apache/hudi/pull/2350/files\r\nhttps://github.com/rdblue/avro-java/blob/master/avro/src/main/java/org/apache/avro/SchemaCompatibility.java#L359\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748354002/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748357404","html_url":"https://github.com/apache/hudi/pull/2328#issuecomment-748357404","issue_url":"https://api.github.com/repos/apache/hudi/issues/2328","id":748357404,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODM1NzQwNA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-18T22:52:41Z","updated_at":"2020-12-18T22:52:41Z","author_association":"CONTRIBUTOR","body":"@zhedoubushishi : Gentle ping on this. We are targeting to get this landed for upcoming release. Let me know if I can help. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748357404/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748359340","html_url":"https://github.com/apache/hudi/pull/2263#issuecomment-748359340","issue_url":"https://api.github.com/repos/apache/hudi/issues/2263","id":748359340,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODM1OTM0MA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-18T22:57:01Z","updated_at":"2020-12-18T22:57:01Z","author_association":"MEMBER","body":"Renaming suggestions\r\n\r\n`SparkBoundedDayBasedClusteringPlanStrategy` -> `SparkRecentDaysClusteringPlanStrategy`\r\n`RunClusteringStrategy` -> `ClusteringExecutionStrategy` \r\n`SparkBulkInsertBasedRunClusteringStrategy` -> `SparkSortAndSizeExecutionStrategy`\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748359340/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748359526","html_url":"https://github.com/apache/hudi/pull/2328#issuecomment-748359526","issue_url":"https://api.github.com/repos/apache/hudi/issues/2328","id":748359526,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODM1OTUyNg==","user":{"login":"zhedoubushishi","id":31263084,"node_id":"MDQ6VXNlcjMxMjYzMDg0","avatar_url":"https://avatars.githubusercontent.com/u/31263084?v=4","gravatar_id":"","url":"https://api.github.com/users/zhedoubushishi","html_url":"https://github.com/zhedoubushishi","followers_url":"https://api.github.com/users/zhedoubushishi/followers","following_url":"https://api.github.com/users/zhedoubushishi/following{/other_user}","gists_url":"https://api.github.com/users/zhedoubushishi/gists{/gist_id}","starred_url":"https://api.github.com/users/zhedoubushishi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhedoubushishi/subscriptions","organizations_url":"https://api.github.com/users/zhedoubushishi/orgs","repos_url":"https://api.github.com/users/zhedoubushishi/repos","events_url":"https://api.github.com/users/zhedoubushishi/events{/privacy}","received_events_url":"https://api.github.com/users/zhedoubushishi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-18T22:57:23Z","updated_at":"2020-12-18T22:57:23Z","author_association":"CONTRIBUTOR","body":"> @zhedoubushishi : Gentle ping on this. We are targeting to get this landed for upcoming release. Let me know if I can help.\r\n\r\nHey @nsivabalan, thanks for the review! Sorry was working on some operations. I can update this pr in the next few days.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748359526/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748366898","html_url":"https://github.com/apache/hudi/issues/2348#issuecomment-748366898","issue_url":"https://api.github.com/repos/apache/hudi/issues/2348","id":748366898,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODM2Njg5OA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-18T23:12:21Z","updated_at":"2020-12-18T23:12:21Z","author_association":"CONTRIBUTOR","body":"With 0.6.0, you can pass multiple paths \r\n\r\n\r\npartition_paths = ['s3a://analytics/partition1','s3a://analytics/partition2/']\r\ndf = spark.read.format('hudi').option(\"hoodie.datasource.read.paths\", \"s3a://analytics/partition1,s3a://analytics/partition2/\").load()","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748366898/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748384060","html_url":"https://github.com/apache/hudi/pull/2350#issuecomment-748384060","issue_url":"https://api.github.com/repos/apache/hudi/issues/2350","id":748384060,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODM4NDA2MA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-19T00:14:41Z","updated_at":"2020-12-29T23:30:18Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2350?src=pr&el=h1) Report\n> Merging [#2350](https://codecov.io/gh/apache/hudi/pull/2350?src=pr&el=desc) (624d9e8) into [master](https://codecov.io/gh/apache/hudi/commit/14d5d1100c69839d2bcfea26af0efdcd2057650d?el=desc) (14d5d11) will **decrease** coverage by `42.35%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2350/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2350?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #2350       +/-   ##\n=============================================\n- Coverage     52.39%   10.04%   -42.36%     \n+ Complexity     2646       48     -2598     \n=============================================\n  Files           330       52      -278     \n  Lines         14871     1852    -13019     \n  Branches       1494      223     -1271     \n=============================================\n- Hits           7792      186     -7606     \n+ Misses         6463     1653     -4810     \n+ Partials        616       13      -603     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `10.04% <ø> (-59.58%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2350?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...va/org/apache/hudi/utilities/IdentitySplitter.java](https://codecov.io/gh/apache/hudi/pull/2350/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL0lkZW50aXR5U3BsaXR0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-2.00%)` | |\n| [...va/org/apache/hudi/utilities/schema/SchemaSet.java](https://codecov.io/gh/apache/hudi/pull/2350/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFTZXQuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-3.00%)` | |\n| [...a/org/apache/hudi/utilities/sources/RowSource.java](https://codecov.io/gh/apache/hudi/pull/2350/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUm93U291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [.../org/apache/hudi/utilities/sources/AvroSource.java](https://codecov.io/gh/apache/hudi/pull/2350/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [.../org/apache/hudi/utilities/sources/JsonSource.java](https://codecov.io/gh/apache/hudi/pull/2350/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvblNvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [...rg/apache/hudi/utilities/sources/CsvDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2350/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQ3N2REZTU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-10.00%)` | |\n| [...g/apache/hudi/utilities/sources/JsonDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2350/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkRGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [...apache/hudi/utilities/sources/JsonKafkaSource.java](https://codecov.io/gh/apache/hudi/pull/2350/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkthZmthU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-6.00%)` | |\n| [...pache/hudi/utilities/sources/ParquetDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2350/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUGFycXVldERGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-5.00%)` | |\n| [...lities/schema/SchemaProviderWithPostProcessor.java](https://codecov.io/gh/apache/hudi/pull/2350/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFQcm92aWRlcldpdGhQb3N0UHJvY2Vzc29yLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| ... and [306 more](https://codecov.io/gh/apache/hudi/pull/2350/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748384060/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748384966","html_url":"https://github.com/apache/hudi/pull/2351#issuecomment-748384966","issue_url":"https://api.github.com/repos/apache/hudi/issues/2351","id":748384966,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODM4NDk2Ng==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-19T00:18:44Z","updated_at":"2020-12-19T00:18:44Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2351?src=pr&el=h1) Report\n> Merging [#2351](https://codecov.io/gh/apache/hudi/pull/2351?src=pr&el=desc) (0f2ca33) into [rfc-15](https://codecov.io/gh/apache/hudi/commit/3cab54e3b333c17d33b3a97cd543666a8db72b88?el=desc) (3cab54e) will **decrease** coverage by `37.58%`.\n> The diff coverage is `21.42%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2351/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2351?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             rfc-15    #2351       +/-   ##\n=============================================\n- Coverage     59.27%   21.69%   -37.59%     \n+ Complexity     4590      561     -4029     \n=============================================\n  Files           573      252      -321     \n  Lines         24365     9105    -15260     \n  Branches       2441      827     -1614     \n=============================================\n- Hits          14443     1975    -12468     \n+ Misses         8871     6865     -2006     \n+ Partials       1051      265      -786     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `24.30% <15.38%> (-51.05%)` | `0.00 <1.00> (ø)` | |\n| hudicommon | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| hudispark | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `10.53% <100.00%> (-58.86%)` | `0.00 <1.00> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2351?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...pache/hudi/index/bloom/HoodieGlobalBloomIndex.java](https://codecov.io/gh/apache/hudi/pull/2351/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaW5kZXgvYmxvb20vSG9vZGllR2xvYmFsQmxvb21JbmRleC5qYXZh) | `0.00% <0.00%> (-92.11%)` | `0.00 <0.00> (-13.00)` | |\n| [...che/hudi/index/simple/HoodieGlobalSimpleIndex.java](https://codecov.io/gh/apache/hudi/pull/2351/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaW5kZXgvc2ltcGxlL0hvb2RpZUdsb2JhbFNpbXBsZUluZGV4LmphdmE=) | `0.00% <0.00%> (-94.60%)` | `0.00 <0.00> (-13.00)` | |\n| [...hudi/metadata/HoodieBackedTableMetadataWriter.java](https://codecov.io/gh/apache/hudi/pull/2351/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvSG9vZGllQmFja2VkVGFibGVNZXRhZGF0YVdyaXRlci5qYXZh) | `2.20% <0.00%> (-68.71%)` | `2.00 <0.00> (-48.00)` | |\n| [...ction/compact/HoodieMergeOnReadTableCompactor.java](https://codecov.io/gh/apache/hudi/pull/2351/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvYWN0aW9uL2NvbXBhY3QvSG9vZGllTWVyZ2VPblJlYWRUYWJsZUNvbXBhY3Rvci5qYXZh) | `0.00% <0.00%> (-91.49%)` | `0.00 <0.00> (-18.00)` | |\n| [...on/rollback/CopyOnWriteRollbackActionExecutor.java](https://codecov.io/gh/apache/hudi/pull/2351/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvYWN0aW9uL3JvbGxiYWNrL0NvcHlPbldyaXRlUm9sbGJhY2tBY3Rpb25FeGVjdXRvci5qYXZh) | `82.60% <ø> (-17.40%)` | `4.00 <0.00> (-3.00)` | |\n| [...able/action/savepoint/SavepointActionExecutor.java](https://codecov.io/gh/apache/hudi/pull/2351/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvYWN0aW9uL3NhdmVwb2ludC9TYXZlcG9pbnRBY3Rpb25FeGVjdXRvci5qYXZh) | `0.00% <0.00%> (-70.28%)` | `0.00 <0.00> (-4.00)` | |\n| [...he/hudi/table/upgrade/ZeroToOneUpgradeHandler.java](https://codecov.io/gh/apache/hudi/pull/2351/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvdXBncmFkZS9aZXJvVG9PbmVVcGdyYWRlSGFuZGxlci5qYXZh) | `17.07% <0.00%> (-73.18%)` | `2.00 <0.00> (-9.00)` | |\n| [...ache/hudi/table/action/rollback/RollbackUtils.java](https://codecov.io/gh/apache/hudi/pull/2351/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvYWN0aW9uL3JvbGxiYWNrL1JvbGxiYWNrVXRpbHMuamF2YQ==) | `6.25% <66.66%> (-81.10%)` | `2.00 <1.00> (-14.00)` | |\n| [.../apache/hudi/utilities/HoodieSnapshotExporter.java](https://codecov.io/gh/apache/hudi/pull/2351/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL0hvb2RpZVNuYXBzaG90RXhwb3J0ZXIuamF2YQ==) | `82.88% <100.00%> (-5.41%)` | `28.00 <1.00> (ø)` | |\n| [...main/java/org/apache/hudi/metrics/HoodieGauge.java](https://codecov.io/gh/apache/hudi/pull/2351/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0cmljcy9Ib29kaWVHYXVnZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-3.00%)` | |\n| ... and [496 more](https://codecov.io/gh/apache/hudi/pull/2351/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748384966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748426792","html_url":"https://github.com/apache/hudi/pull/2333#issuecomment-748426792","issue_url":"https://api.github.com/repos/apache/hudi/issues/2333","id":748426792,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODQyNjc5Mg==","user":{"login":"liujinhui1994","id":25769285,"node_id":"MDQ6VXNlcjI1NzY5Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/25769285?v=4","gravatar_id":"","url":"https://api.github.com/users/liujinhui1994","html_url":"https://github.com/liujinhui1994","followers_url":"https://api.github.com/users/liujinhui1994/followers","following_url":"https://api.github.com/users/liujinhui1994/following{/other_user}","gists_url":"https://api.github.com/users/liujinhui1994/gists{/gist_id}","starred_url":"https://api.github.com/users/liujinhui1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujinhui1994/subscriptions","organizations_url":"https://api.github.com/users/liujinhui1994/orgs","repos_url":"https://api.github.com/users/liujinhui1994/repos","events_url":"https://api.github.com/users/liujinhui1994/events{/privacy}","received_events_url":"https://api.github.com/users/liujinhui1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-19T06:15:12Z","updated_at":"2020-12-19T06:15:12Z","author_association":"CONTRIBUTOR","body":"This implementation may not be optimal, and there are exceptions in some scenarios, I will re-implement a version later, thanks for review\r\n@yanghua ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748426792/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748466220","html_url":"https://github.com/apache/hudi/pull/2300#issuecomment-748466220","issue_url":"https://api.github.com/repos/apache/hudi/issues/2300","id":748466220,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODQ2NjIyMA==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-19T12:11:53Z","updated_at":"2020-12-19T12:11:53Z","author_association":"MEMBER","body":"![image](https://user-images.githubusercontent.com/23007841/102689059-25410600-41b0-11eb-9b48-84b84f7cdd48.png)\r\n@vinothchandar this is how the .deltacommit file looks like, please review. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748466220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748502713","html_url":"https://github.com/apache/hudi/issues/2348#issuecomment-748502713","issue_url":"https://api.github.com/repos/apache/hudi/issues/2348","id":748502713,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODUwMjcxMw==","user":{"login":"jainpriyansh786","id":15714916,"node_id":"MDQ6VXNlcjE1NzE0OTE2","avatar_url":"https://avatars.githubusercontent.com/u/15714916?v=4","gravatar_id":"","url":"https://api.github.com/users/jainpriyansh786","html_url":"https://github.com/jainpriyansh786","followers_url":"https://api.github.com/users/jainpriyansh786/followers","following_url":"https://api.github.com/users/jainpriyansh786/following{/other_user}","gists_url":"https://api.github.com/users/jainpriyansh786/gists{/gist_id}","starred_url":"https://api.github.com/users/jainpriyansh786/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jainpriyansh786/subscriptions","organizations_url":"https://api.github.com/users/jainpriyansh786/orgs","repos_url":"https://api.github.com/users/jainpriyansh786/repos","events_url":"https://api.github.com/users/jainpriyansh786/events{/privacy}","received_events_url":"https://api.github.com/users/jainpriyansh786/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-19T17:37:08Z","updated_at":"2020-12-19T17:37:08Z","author_association":"NONE","body":"Thanks for the info .\r\nI tried with 0.6.0 and it works.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748502713/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748553074","html_url":"https://github.com/apache/hudi/pull/2286#issuecomment-748553074","issue_url":"https://api.github.com/repos/apache/hudi/issues/2286","id":748553074,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODU1MzA3NA==","user":{"login":"shenh062326","id":9527867,"node_id":"MDQ6VXNlcjk1Mjc4Njc=","avatar_url":"https://avatars.githubusercontent.com/u/9527867?v=4","gravatar_id":"","url":"https://api.github.com/users/shenh062326","html_url":"https://github.com/shenh062326","followers_url":"https://api.github.com/users/shenh062326/followers","following_url":"https://api.github.com/users/shenh062326/following{/other_user}","gists_url":"https://api.github.com/users/shenh062326/gists{/gist_id}","starred_url":"https://api.github.com/users/shenh062326/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shenh062326/subscriptions","organizations_url":"https://api.github.com/users/shenh062326/orgs","repos_url":"https://api.github.com/users/shenh062326/repos","events_url":"https://api.github.com/users/shenh062326/events{/privacy}","received_events_url":"https://api.github.com/users/shenh062326/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-20T02:15:35Z","updated_at":"2020-12-20T02:15:35Z","author_association":"CONTRIBUTOR","body":"@vinothchandar Can you take a look at this PR.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748553074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748554044","html_url":"https://github.com/apache/hudi/pull/2342#issuecomment-748554044","issue_url":"https://api.github.com/repos/apache/hudi/issues/2342","id":748554044,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODU1NDA0NA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-20T02:30:37Z","updated_at":"2020-12-20T02:30:37Z","author_association":"MEMBER","body":"@rmpifer On this point specifically,\r\n\r\n> so there would never be the case where a rollback was being written before an instant earlier on the timeline was already synced. Removed this logic because it created circular dependency when implementing timeline merging\r\n\r\nFollowing situation is technically possible. Timeline has commits c1, c2, c3, c4 and we have synced only upto C2. User decides to restore the table to commit time c2, thus generating rollback metadata for c3, c4 which now have no files in the metadata table. I think we should defensively handle this scenario at the payload merge level i.e if there is a delete for a file that does not exist in the base file or prior instants, we should just do a no-op and continue. What I am saying is : I agree with you that the extra logic need not be present, but we should check the payload once to ensure we can handle the scenario above.  \r\n\r\nLet me know if we are not talking about the same thing :) \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748554044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748557247","html_url":"https://github.com/apache/hudi/pull/2351#issuecomment-748557247","issue_url":"https://api.github.com/repos/apache/hudi/issues/2351","id":748557247,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODU1NzI0Nw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-20T03:20:41Z","updated_at":"2020-12-20T03:20:41Z","author_association":"MEMBER","body":"As discussed, I am taking this over @umehrot2 . Thanks for this. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748557247/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748621425","html_url":"https://github.com/apache/hudi/pull/2353#issuecomment-748621425","issue_url":"https://api.github.com/repos/apache/hudi/issues/2353","id":748621425,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODYyMTQyNQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-20T15:22:21Z","updated_at":"2021-01-03T10:47:38Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2353?src=pr&el=h1) Report\n> Merging [#2353](https://codecov.io/gh/apache/hudi/pull/2353?src=pr&el=desc) (6b5d6bd) into [master](https://codecov.io/gh/apache/hudi/commit/e4e2fbc3bb2c4796c6813114dd1c37ffa5a1e03a?el=desc) (e4e2fbc) will **decrease** coverage by `0.43%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2353/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2353?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2353      +/-   ##\n============================================\n- Coverage     52.46%   52.03%   -0.44%     \n- Complexity     2654     2952     +298     \n============================================\n  Files           332      395      +63     \n  Lines         14892    17652    +2760     \n  Branches       1496     1809     +313     \n============================================\n+ Hits           7813     9185    +1372     \n- Misses         6454     7709    +1255     \n- Partials        625      758     +133     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `38.83% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiclient | `100.00% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudicommon | `54.95% <ø> (-0.27%)` | `0.00 <ø> (ø)` | |\n| hudiflink | `10.20% <ø> (?)` | `0.00 <ø> (?)` | |\n| hudihadoopmr | `33.52% <ø> (+0.23%)` | `0.00 <ø> (ø)` | |\n| hudisparkdatasource | `62.85% <ø> (?)` | `0.00 <ø> (?)` | |\n| hudisync | `48.16% <ø> (?)` | `0.00 <ø> (?)` | |\n| huditimelineservice | `65.30% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `69.65% <ø> (ø)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2353?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...ache/hudi/common/fs/inline/InMemoryFileSystem.java](https://codecov.io/gh/apache/hudi/pull/2353/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2ZzL2lubGluZS9Jbk1lbW9yeUZpbGVTeXN0ZW0uamF2YQ==) | `79.31% <0.00%> (-10.35%)` | `15.00% <0.00%> (-1.00%)` | |\n| [...di/common/table/timeline/HoodieActiveTimeline.java](https://codecov.io/gh/apache/hudi/pull/2353/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3RpbWVsaW5lL0hvb2RpZUFjdGl2ZVRpbWVsaW5lLmphdmE=) | `69.62% <0.00%> (-4.51%)` | `41.00% <0.00%> (ø%)` | |\n| [.../apache/hudi/common/table/log/HoodieLogFormat.java](https://codecov.io/gh/apache/hudi/pull/2353/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9Ib29kaWVMb2dGb3JtYXQuamF2YQ==) | `71.23% <0.00%> (-4.13%)` | `3.00% <0.00%> (ø%)` | |\n| [...che/hudi/common/table/timeline/HoodieTimeline.java](https://codecov.io/gh/apache/hudi/pull/2353/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3RpbWVsaW5lL0hvb2RpZVRpbWVsaW5lLmphdmE=) | `89.13% <0.00%> (-4.06%)` | `43.00% <0.00%> (ø%)` | |\n| [...g/apache/hudi/common/model/WriteOperationType.java](https://codecov.io/gh/apache/hudi/pull/2353/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL1dyaXRlT3BlcmF0aW9uVHlwZS5qYXZh) | `53.12% <0.00%> (-2.05%)` | `2.00% <0.00%> (ø%)` | |\n| [...a/org/apache/hudi/common/util/ClusteringUtils.java](https://codecov.io/gh/apache/hudi/pull/2353/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvQ2x1c3RlcmluZ1V0aWxzLmphdmE=) | `89.06% <0.00%> (-1.42%)` | `18.00% <0.00%> (ø%)` | |\n| [.../java/org/apache/hudi/common/util/StringUtils.java](https://codecov.io/gh/apache/hudi/pull/2353/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvU3RyaW5nVXRpbHMuamF2YQ==) | `66.66% <0.00%> (ø)` | `14.00% <0.00%> (ø%)` | |\n| [.../apache/hudi/common/table/TableSchemaResolver.java](https://codecov.io/gh/apache/hudi/pull/2353/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL1RhYmxlU2NoZW1hUmVzb2x2ZXIuamF2YQ==) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (ø%)` | |\n| [.../scala/org/apache/hudi/Spark2RowDeserializer.scala](https://codecov.io/gh/apache/hudi/pull/2353/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3BhcmsyL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvaHVkaS9TcGFyazJSb3dEZXNlcmlhbGl6ZXIuc2NhbGE=) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (?%)` | |\n| [.../scala/org/apache/hudi/Spark3RowDeserializer.scala](https://codecov.io/gh/apache/hudi/pull/2353/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3BhcmszL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvaHVkaS9TcGFyazNSb3dEZXNlcmlhbGl6ZXIuc2NhbGE=) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (?%)` | |\n| ... and [66 more](https://codecov.io/gh/apache/hudi/pull/2353/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748621425/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748632649","html_url":"https://github.com/apache/hudi/pull/2263#issuecomment-748632649","issue_url":"https://api.github.com/repos/apache/hudi/issues/2263","id":748632649,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODYzMjY0OQ==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-20T16:56:56Z","updated_at":"2020-12-20T16:56:56Z","author_association":"CONTRIBUTOR","body":"> > This is great, thanks @satishkotha !\r\n> > I have completed a first pass. Don't have major concerns. May be we can work through these initial comments, as I complete the remainder.\r\n> > On follow ups\r\n> > \r\n> > * IIUC inline clustering should work as-is from datasource/deltastreamer paths with this change, by passing necessary configs. We should create two JIRA one each for support for async clustering via datasource and deltastreamer?\r\n> > * Can you share how much testing on a production environment has been done for this.\r\n> \r\n> @vinothchandar\r\n> \r\n> * Looks like @lw309637554 created https://issues.apache.org/jira/browse/HUDI-1399 for async clustering and there's some good discussion there.\r\n> * I did some basic testing in staging environment mostly with inline clustering. I have another PR for test suite changes to validate async clustering via calling writeClient APIs. I hope to get more production scale tests over next week.\r\n\r\n@satishkotha  i had added inline clustering unit tests for spark datasource and deltastreamer in my local branch .  When this pr merged , i can open pull request. Then base on the unit tests , will land the independent clustering spark job , then async clustering  via datasource and via deltastreamer.   cc @vinothchandar ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748632649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748636615","html_url":"https://github.com/apache/hudi/pull/2300#issuecomment-748636615","issue_url":"https://api.github.com/repos/apache/hudi/issues/2300","id":748636615,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODYzNjYxNQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-20T17:32:06Z","updated_at":"2020-12-20T17:32:06Z","author_association":"MEMBER","body":"@garyli1019 Thanks, will review tonight ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748636615/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748648640","html_url":"https://github.com/apache/hudi/pull/2351#issuecomment-748648640","issue_url":"https://api.github.com/repos/apache/hudi/issues/2351","id":748648640,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODY0ODY0MA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-20T19:16:00Z","updated_at":"2020-12-20T19:16:00Z","author_association":"MEMBER","body":"Had one more concern. filed https://issues.apache.org/jira/browse/HUDI-1480 for later.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748648640/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748735726","html_url":"https://github.com/apache/hudi/issues/2345#issuecomment-748735726","issue_url":"https://api.github.com/repos/apache/hudi/issues/2345","id":748735726,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODczNTcyNg==","user":{"login":"kingkongpoon","id":24726697,"node_id":"MDQ6VXNlcjI0NzI2Njk3","avatar_url":"https://avatars.githubusercontent.com/u/24726697?v=4","gravatar_id":"","url":"https://api.github.com/users/kingkongpoon","html_url":"https://github.com/kingkongpoon","followers_url":"https://api.github.com/users/kingkongpoon/followers","following_url":"https://api.github.com/users/kingkongpoon/following{/other_user}","gists_url":"https://api.github.com/users/kingkongpoon/gists{/gist_id}","starred_url":"https://api.github.com/users/kingkongpoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kingkongpoon/subscriptions","organizations_url":"https://api.github.com/users/kingkongpoon/orgs","repos_url":"https://api.github.com/users/kingkongpoon/repos","events_url":"https://api.github.com/users/kingkongpoon/events{/privacy}","received_events_url":"https://api.github.com/users/kingkongpoon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-21T03:24:40Z","updated_at":"2020-12-21T07:19:39Z","author_association":"NONE","body":"@bvaradar : Thanks .When I change my data in 2.csv ,that a single batch records are all uuid = 1, ts and value are different.\r\n\r\n    +----+-------------+---+----+----+\r\n    |uuid|partitionpath| ts| _c3| _c4|\r\n    +----+-------------+---+----+----+\r\n    |   1|            2|  2|tttt|tttt|\r\n    |   1|            2|  3|  aa|  aa|\r\n    |   1|            2|  4|  bb|  bb|\r\n    |   1|            2| 10|  dd|  dd|\r\n    +----+-------------+---+----+----+\r\n\r\nThen the result become\r\n\r\n    +-------------------+--------------------+------------------+----------------------+--------------------+----+-------------+---+---+---+\r\n    |_hoodie_commit_time|_hoodie_commit_seqno|_hoodie_record_key|_hoodie_partition_path|   _hoodie_file_name|uuid|partitionpath| ts|_c3|_c4|\r\n    +-------------------+--------------------+------------------+----------------------+--------------------+----+-------------+---+---+---+\r\n    |     20201218181256|  20201218181256_1_2|                 2|                     2|12dbad9a-a443-45c...|   2|            2|  1|  c|  c|\r\n    |     20201218181256|  20201218181256_2_3|                 4|                     5|825dbdc3-1ea6-4d8...|   4|            5|  1|bab|bab|\r\n    |     20201218181256|  20201218181256_3_4|                 7|                     8|77be93a5-3ee5-43a...|   7|            8|  1|bab|bab|\r\n    |     20201221095641|  20201221095641_0_1|                 1|                     2|8d8a6498-116f-4f7...|   1|            2|  4| bb| bb|\r\n    +-------------------+--------------------+------------------+----------------------+--------------------+----+-------------+---+---+---+\r\n\r\nthe data which uuid = 1 and ts = 4, I think that if two record compare with it's timestamp , the record which _hoodie_commit_seqno = 20201221095641_0_1 , maybe   is   |   1|            2| 10|  dd|  dd| ,but now is |   1|            2|  4|  bb|  bb|\r\n\r\nif  compare the data by it's timestamp ,the Object.compareTo(..) maybe can compare by their numberic class\r\n\r\n\r\nAnd my hudi table class is MOR_TABLE_TYPE_OPT_VAL , I think it works like hbase , which timestamp is bigger, then  I can read that record ???","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748735726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748745524","html_url":"https://github.com/apache/hudi/pull/2283#issuecomment-748745524","issue_url":"https://api.github.com/repos/apache/hudi/issues/2283","id":748745524,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODc0NTUyNA==","user":{"login":"pengzhiwei2018","id":42458891,"node_id":"MDQ6VXNlcjQyNDU4ODkx","avatar_url":"https://avatars.githubusercontent.com/u/42458891?v=4","gravatar_id":"","url":"https://api.github.com/users/pengzhiwei2018","html_url":"https://github.com/pengzhiwei2018","followers_url":"https://api.github.com/users/pengzhiwei2018/followers","following_url":"https://api.github.com/users/pengzhiwei2018/following{/other_user}","gists_url":"https://api.github.com/users/pengzhiwei2018/gists{/gist_id}","starred_url":"https://api.github.com/users/pengzhiwei2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pengzhiwei2018/subscriptions","organizations_url":"https://api.github.com/users/pengzhiwei2018/orgs","repos_url":"https://api.github.com/users/pengzhiwei2018/repos","events_url":"https://api.github.com/users/pengzhiwei2018/events{/privacy}","received_events_url":"https://api.github.com/users/pengzhiwei2018/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-21T04:08:34Z","updated_at":"2020-12-21T04:12:31Z","author_association":"NONE","body":"Currently the test case is block by this issue https://issues.apache.org/jira/browse/HUDI-1484 which was reappeared by this PR.I will solve the HUDI-1484 soon.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748745524/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748968961","html_url":"https://github.com/apache/hudi/pull/2309#issuecomment-748968961","issue_url":"https://api.github.com/repos/apache/hudi/issues/2309","id":748968961,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODk2ODk2MQ==","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-21T13:18:28Z","updated_at":"2020-12-21T13:18:28Z","author_association":"CONTRIBUTOR","body":"Thanks for the update @nbalajee , i have left some comments.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/748968961/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/749195029","html_url":"https://github.com/apache/hudi/issues/2355#issuecomment-749195029","issue_url":"https://api.github.com/repos/apache/hudi/issues/2355","id":749195029,"node_id":"MDEyOklzc3VlQ29tbWVudDc0OTE5NTAyOQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-21T21:04:17Z","updated_at":"2020-12-21T21:04:17Z","author_association":"CONTRIBUTOR","body":"@WTa-hash : This sounds like a general spark streaming question. Is it possible to create separate threads within your foreatchbatch after you grouped dataframes and concurrently write to separate hudi tables ?\r\n\r\nAnother option is one spark-stream for each sink table but use the same kinesis stream. The spark stream has to filter records landing to the same sink table. This will be inefficient w.r.t network I/O but it will break the synchronization with other table writes. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/749195029/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/749200972","html_url":"https://github.com/apache/hudi/issues/2347#issuecomment-749200972","issue_url":"https://api.github.com/repos/apache/hudi/issues/2347","id":749200972,"node_id":"MDEyOklzc3VlQ29tbWVudDc0OTIwMDk3Mg==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-21T21:19:39Z","updated_at":"2020-12-21T21:19:39Z","author_association":"CONTRIBUTOR","body":"Please reopen if this is still an issue.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/749200972/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]