[{"url":"https://api.github.com/repos/apache/druid/issues/comments/238876653","html_url":"https://github.com/apache/druid/issues/3346#issuecomment-238876653","issue_url":"https://api.github.com/repos/apache/druid/issues/3346","id":238876653,"node_id":"MDEyOklzc3VlQ29tbWVudDIzODg3NjY1Mw==","user":{"login":"gvsmirnov","id":1493464,"node_id":"MDQ6VXNlcjE0OTM0NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1493464?v=4","gravatar_id":"","url":"https://api.github.com/users/gvsmirnov","html_url":"https://github.com/gvsmirnov","followers_url":"https://api.github.com/users/gvsmirnov/followers","following_url":"https://api.github.com/users/gvsmirnov/following{/other_user}","gists_url":"https://api.github.com/users/gvsmirnov/gists{/gist_id}","starred_url":"https://api.github.com/users/gvsmirnov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gvsmirnov/subscriptions","organizations_url":"https://api.github.com/users/gvsmirnov/orgs","repos_url":"https://api.github.com/users/gvsmirnov/repos","events_url":"https://api.github.com/users/gvsmirnov/events{/privacy}","received_events_url":"https://api.github.com/users/gvsmirnov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-10T14:04:29Z","updated_at":"2016-08-10T14:04:29Z","author_association":"CONTRIBUTOR","body":"Part of the problem is that `shutdownNow()` interrupts the worker thread, but there is nobody there to consume the interrupted status, so the when `finally` block is entered, the thread interrupted flag is up. The consumer connector's `shutdown()` does not expect this, and, when attempting to `await()` on something, it throws the `InterruptedException` before managing to shut down properly.\n\nIn my case, I did not end up with the `Error cancelling future for topic [...]`, but I do see that some other cases may trigger this, including the one you just linked.\n\nMy idea is also to change the loop condition, but with the additional interrupts this calls for a bit of refactoring. I'm doing this now. I hope I don't get too deep into it :D\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/238876653/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/238883366","html_url":"https://github.com/apache/druid/issues/3346#issuecomment-238883366","issue_url":"https://api.github.com/repos/apache/druid/issues/3346","id":238883366,"node_id":"MDEyOklzc3VlQ29tbWVudDIzODg4MzM2Ng==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-10T14:26:21Z","updated_at":"2016-08-10T14:26:21Z","author_association":"CONTRIBUTOR","body":"@gvsmirnov If you think you can get a reasonable handling of interrupt status (with tests would kick a**) then it would be worth changing shutdown to only do the interrupt once\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/238883366/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/238891110","html_url":"https://github.com/apache/druid/pull/3345#issuecomment-238891110","issue_url":"https://api.github.com/repos/apache/druid/issues/3345","id":238891110,"node_id":"MDEyOklzc3VlQ29tbWVudDIzODg5MTExMA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-10T14:50:01Z","updated_at":"2016-08-10T14:50:01Z","author_association":"CONTRIBUTOR","body":"üëç \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/238891110/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/238894224","html_url":"https://github.com/apache/druid/pull/3345#issuecomment-238894224","issue_url":"https://api.github.com/repos/apache/druid/issues/3345","id":238894224,"node_id":"MDEyOklzc3VlQ29tbWVudDIzODg5NDIyNA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-10T14:59:14Z","updated_at":"2016-08-10T14:59:14Z","author_association":"CONTRIBUTOR","body":":+1:\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/238894224/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/238900010","html_url":"https://github.com/apache/druid/issues/3346#issuecomment-238900010","issue_url":"https://api.github.com/repos/apache/druid/issues/3346","id":238900010,"node_id":"MDEyOklzc3VlQ29tbWVudDIzODkwMDAxMA==","user":{"login":"gvsmirnov","id":1493464,"node_id":"MDQ6VXNlcjE0OTM0NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1493464?v=4","gravatar_id":"","url":"https://api.github.com/users/gvsmirnov","html_url":"https://github.com/gvsmirnov","followers_url":"https://api.github.com/users/gvsmirnov/followers","following_url":"https://api.github.com/users/gvsmirnov/following{/other_user}","gists_url":"https://api.github.com/users/gvsmirnov/gists{/gist_id}","starred_url":"https://api.github.com/users/gvsmirnov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gvsmirnov/subscriptions","organizations_url":"https://api.github.com/users/gvsmirnov/orgs","repos_url":"https://api.github.com/users/gvsmirnov/repos","events_url":"https://api.github.com/users/gvsmirnov/events{/privacy}","received_events_url":"https://api.github.com/users/gvsmirnov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-10T15:17:00Z","updated_at":"2016-08-10T15:17:20Z","author_association":"CONTRIBUTOR","body":"@drcrallen Yep, I think I can do that. However, I think I accidentally got carried away. I started by just extracting one method, and the next thing I know is this: https://github.com/druid-io/druid/compare/master...Plumbr:kafka-lookups?expand=1\n\nThe functionality was not changed, this was only meant to increase maintainability. The main pain points were:\n- Splitting up the `start()` method into smaller methods\n- Removing code duplication\n- Incapsulating internal state better, and avoiding directly depending on it in unit tests\n\nBut now I realized that this is quite a large overhaul to accept from an unknown person. Should I continue refactoring the kafka lookups in this spirit? Or do you think there's little chance of getting something like that merged, and it would be better to scratch it and simply fix the bug, without addressing any of the non-functional issues?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/238900010/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/238904287","html_url":"https://github.com/apache/druid/issues/3346#issuecomment-238904287","issue_url":"https://api.github.com/repos/apache/druid/issues/3346","id":238904287,"node_id":"MDEyOklzc3VlQ29tbWVudDIzODkwNDI4Nw==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-10T15:29:45Z","updated_at":"2016-08-10T15:33:56Z","author_association":"CONTRIBUTOR","body":"@gvsmirnov its a modification to only one file in an extension that is still considered experimental. It's totally clobber-able by new collaborators. I try to write as extensive unit tests as I can think of just for such things.\n\nThe criteria I'll be considering in the review is:\n1. Does it fix the problem\n2. Does it prove that it fixes the problem (unit tests and \"real\" test by reporter if possible)\n3. Does it retain prior functionality\n4. Is it maintainable (well formatted, correctly named variables, adheres to both explicit and implicit code standards, etc)\n5. Are changes germane to the issue\n\nEDIT: missed one\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/238904287/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/238904624","html_url":"https://github.com/apache/druid/issues/3346#issuecomment-238904624","issue_url":"https://api.github.com/repos/apache/druid/issues/3346","id":238904624,"node_id":"MDEyOklzc3VlQ29tbWVudDIzODkwNDYyNA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-10T15:30:47Z","updated_at":"2016-08-10T15:30:47Z","author_association":"CONTRIBUTOR","body":"As a general FYI though, if you have more ideas for fixes be sure to declare them in advance, and also try to minimize individual patches. 5 PRs at 500 lines is much better than a 2500 line patch.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/238904624/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/238904766","html_url":"https://github.com/apache/druid/issues/3346#issuecomment-238904766","issue_url":"https://api.github.com/repos/apache/druid/issues/3346","id":238904766,"node_id":"MDEyOklzc3VlQ29tbWVudDIzODkwNDc2Ng==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-10T15:31:10Z","updated_at":"2016-08-10T15:31:10Z","author_association":"CONTRIBUTOR","body":"But sometimes splitting things out is not feasible.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/238904766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/238909971","html_url":"https://github.com/apache/druid/pull/3344#issuecomment-238909971","issue_url":"https://api.github.com/repos/apache/druid/issues/3344","id":238909971,"node_id":"MDEyOklzc3VlQ29tbWVudDIzODkwOTk3MQ==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-10T15:47:22Z","updated_at":"2016-08-10T15:47:22Z","author_association":"CONTRIBUTOR","body":"üëç \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/238909971/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/238911894","html_url":"https://github.com/apache/druid/pull/3343#issuecomment-238911894","issue_url":"https://api.github.com/repos/apache/druid/issues/3343","id":238911894,"node_id":"MDEyOklzc3VlQ29tbWVudDIzODkxMTg5NA==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-10T15:53:04Z","updated_at":"2016-08-10T15:53:04Z","author_association":"CONTRIBUTOR","body":"üëç \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/238911894/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/238943188","html_url":"https://github.com/apache/druid/pull/2708#issuecomment-238943188","issue_url":"https://api.github.com/repos/apache/druid/issues/2708","id":238943188,"node_id":"MDEyOklzc3VlQ29tbWVudDIzODk0MzE4OA==","user":{"login":"hamlet-lee","id":12079531,"node_id":"MDQ6VXNlcjEyMDc5NTMx","avatar_url":"https://avatars.githubusercontent.com/u/12079531?v=4","gravatar_id":"","url":"https://api.github.com/users/hamlet-lee","html_url":"https://github.com/hamlet-lee","followers_url":"https://api.github.com/users/hamlet-lee/followers","following_url":"https://api.github.com/users/hamlet-lee/following{/other_user}","gists_url":"https://api.github.com/users/hamlet-lee/gists{/gist_id}","starred_url":"https://api.github.com/users/hamlet-lee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hamlet-lee/subscriptions","organizations_url":"https://api.github.com/users/hamlet-lee/orgs","repos_url":"https://api.github.com/users/hamlet-lee/repos","events_url":"https://api.github.com/users/hamlet-lee/events{/privacy}","received_events_url":"https://api.github.com/users/hamlet-lee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-10T17:36:39Z","updated_at":"2016-08-10T17:38:34Z","author_association":"CONTRIBUTOR","body":"@drcrallen this is a current-time-related bug, not easily reproduce.\nSo I created a bug reproducing version from recent master code.\n\nIn two places I aligned `current time string` to 10 seconds granularity by calling `HadoopTuningConfig.getEasilyConflictVersion()`.\n\nissue demonstrate: https://github.com/hamlet-lee/druid/tree/demo_iss_2707\nfix on demonstrate: https://github.com/hamlet-lee/druid/tree/fix_iss_2707_on_demo\n\nindex task json:\n[localtest-daily_json.txt](https://github.com/druid-io/druid/files/411699/localtest-daily_json.txt)\n\nfail log:\n[task_fail_log.txt](https://github.com/druid-io/druid/files/411707/task_fail_log.txt)\n[overlord_fail_log.txt](https://github.com/druid-io/druid/files/411708/overlord_fail_log.txt)\n\nfixed log:\n[task_success_log.txt](https://github.com/druid-io/druid/files/411709/task_success_log.txt)\n[overlord_success_log.txt](https://github.com/druid-io/druid/files/411713/overlord_success_log.txt)\n\nThis is a bug only ocurrs when:\n1) using snapshot version\n2) hadoop index task have at least 2 jobs: determine, indexing\n3) machine runs very fast\n\nNot very common, but some people may meet when they have these 3 conditions true.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/238943188/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/238945969","html_url":"https://github.com/apache/druid/pull/3341#issuecomment-238945969","issue_url":"https://api.github.com/repos/apache/druid/issues/3341","id":238945969,"node_id":"MDEyOklzc3VlQ29tbWVudDIzODk0NTk2OQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-10T17:46:02Z","updated_at":"2016-08-10T17:46:02Z","author_association":"CONTRIBUTOR","body":"@gianm ComplexMetrics.getSerdeForType(metricDesc.getType()) should always work where metricDesc.getType() is the value for appropriate ComplexMetricSerde.getTypeName() or else segment load/read will be broken.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/238945969/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/238946405","html_url":"https://github.com/apache/druid/pull/3249#issuecomment-238946405","issue_url":"https://api.github.com/repos/apache/druid/issues/3249","id":238946405,"node_id":"MDEyOklzc3VlQ29tbWVudDIzODk0NjQwNQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-10T17:47:31Z","updated_at":"2016-08-10T17:47:31Z","author_association":"CONTRIBUTOR","body":"@skoppar glad to know that it worked out for you and thanks for testing the patch.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/238946405/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/238946984","html_url":"https://github.com/apache/druid/pull/3249#issuecomment-238946984","issue_url":"https://api.github.com/repos/apache/druid/issues/3249","id":238946984,"node_id":"MDEyOklzc3VlQ29tbWVudDIzODk0Njk4NA==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-10T17:49:17Z","updated_at":"2016-08-10T17:49:17Z","author_association":"CONTRIBUTOR","body":"üëç \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/238946984/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/238947310","html_url":"https://github.com/apache/druid/pull/3249#issuecomment-238947310","issue_url":"https://api.github.com/repos/apache/druid/issues/3249","id":238947310,"node_id":"MDEyOklzc3VlQ29tbWVudDIzODk0NzMxMA==","user":{"login":"skoppar","id":17836233,"node_id":"MDQ6VXNlcjE3ODM2MjMz","avatar_url":"https://avatars.githubusercontent.com/u/17836233?v=4","gravatar_id":"","url":"https://api.github.com/users/skoppar","html_url":"https://github.com/skoppar","followers_url":"https://api.github.com/users/skoppar/followers","following_url":"https://api.github.com/users/skoppar/following{/other_user}","gists_url":"https://api.github.com/users/skoppar/gists{/gist_id}","starred_url":"https://api.github.com/users/skoppar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/skoppar/subscriptions","organizations_url":"https://api.github.com/users/skoppar/orgs","repos_url":"https://api.github.com/users/skoppar/repos","events_url":"https://api.github.com/users/skoppar/events{/privacy}","received_events_url":"https://api.github.com/users/skoppar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-10T17:50:24Z","updated_at":"2016-08-10T17:50:24Z","author_association":"NONE","body":"Well not completely. Trying to figure out why segments are not getting\ncreated. But the patch did work well. This must be something else I am\nmissing. I have 800 messages received and unparseableCount=800. I tried\nchanging timestamp to be current, but still get the same results.\nAppreciate any inputs you have on this, however, it does not seem to be\nrelated to the changes in the PR.\n\nOn Aug 10, 2016, at 10:47 AM, Himanshu notifications@github.com wrote:\n\n@skoppar https://github.com/skoppar glad to know that it worked out for\nyou and thanks for testing the patch.\n\n‚Äî\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/druid-io/druid/pull/3249#issuecomment-238946405, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/ARAoyTP1qdVFbw4wClZT9FgayJfKcbtOks5qeg7BgaJpZM4JNFH8\n.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/238947310/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/238947911","html_url":"https://github.com/apache/druid/pull/3249#issuecomment-238947911","issue_url":"https://api.github.com/repos/apache/druid/issues/3249","id":238947911,"node_id":"MDEyOklzc3VlQ29tbWVudDIzODk0NzkxMQ==","user":{"login":"skoppar","id":17836233,"node_id":"MDQ6VXNlcjE3ODM2MjMz","avatar_url":"https://avatars.githubusercontent.com/u/17836233?v=4","gravatar_id":"","url":"https://api.github.com/users/skoppar","html_url":"https://github.com/skoppar","followers_url":"https://api.github.com/users/skoppar/followers","following_url":"https://api.github.com/users/skoppar/following{/other_user}","gists_url":"https://api.github.com/users/skoppar/gists{/gist_id}","starred_url":"https://api.github.com/users/skoppar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/skoppar/subscriptions","organizations_url":"https://api.github.com/users/skoppar/orgs","repos_url":"https://api.github.com/users/skoppar/repos","events_url":"https://api.github.com/users/skoppar/events{/privacy}","received_events_url":"https://api.github.com/users/skoppar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-10T17:52:20Z","updated_at":"2016-08-10T17:55:35Z","author_association":"NONE","body":"Well not completely. Trying to figure out why segments are not getting\ncreated. But the patch did work well in terms of pulling the schema and\ngetting right count of events. This must be something else I am missing. I\nhave 800 messages received and unparseableCount=800. I tried changing\ntimestamp to be current, but still get the same results. Appreciate any\ninputs you have on this, however, it probably is not related to the changes\nin the PR.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/238947911/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/238950605","html_url":"https://github.com/apache/druid/pull/3341#issuecomment-238950605","issue_url":"https://api.github.com/repos/apache/druid/issues/3341","id":238950605,"node_id":"MDEyOklzc3VlQ29tbWVudDIzODk1MDYwNQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-10T18:00:58Z","updated_at":"2016-08-10T18:00:58Z","author_association":"CONTRIBUTOR","body":"Okay, I think you convinced me. In my understanding aggFactory.getTypeName() is the serde type used for extraction, and ComplexMetrics.getSerdeForType(aggFactory.getTypeName()).getTypeName() is the serde type used for query and storage. So it makes sense that the metricDesc should have the latter one.\n\nok, looks good üëç \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/238950605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/238951325","html_url":"https://github.com/apache/druid/pull/3341#issuecomment-238951325","issue_url":"https://api.github.com/repos/apache/druid/issues/3341","id":238951325,"node_id":"MDEyOklzc3VlQ29tbWVudDIzODk1MTMyNQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-10T18:03:24Z","updated_at":"2016-08-10T18:03:24Z","author_association":"CONTRIBUTOR","body":"üëç \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/238951325/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/238957064","html_url":"https://github.com/apache/druid/pull/3205#issuecomment-238957064","issue_url":"https://api.github.com/repos/apache/druid/issues/3205","id":238957064,"node_id":"MDEyOklzc3VlQ29tbWVudDIzODk1NzA2NA==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-10T18:22:06Z","updated_at":"2016-08-10T18:22:06Z","author_association":"CONTRIBUTOR","body":"üëç \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/238957064/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/238958115","html_url":"https://github.com/apache/druid/pull/3249#issuecomment-238958115","issue_url":"https://api.github.com/repos/apache/druid/issues/3249","id":238958115,"node_id":"MDEyOklzc3VlQ29tbWVudDIzODk1ODExNQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-10T18:25:25Z","updated_at":"2016-08-10T18:25:25Z","author_association":"CONTRIBUTOR","body":"@skoppar enable debug logging and that would show you more info.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/238958115/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239004594","html_url":"https://github.com/apache/druid/pull/3249#issuecomment-239004594","issue_url":"https://api.github.com/repos/apache/druid/issues/3249","id":239004594,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTAwNDU5NA==","user":{"login":"skoppar","id":17836233,"node_id":"MDQ6VXNlcjE3ODM2MjMz","avatar_url":"https://avatars.githubusercontent.com/u/17836233?v=4","gravatar_id":"","url":"https://api.github.com/users/skoppar","html_url":"https://github.com/skoppar","followers_url":"https://api.github.com/users/skoppar/followers","following_url":"https://api.github.com/users/skoppar/following{/other_user}","gists_url":"https://api.github.com/users/skoppar/gists{/gist_id}","starred_url":"https://api.github.com/users/skoppar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/skoppar/subscriptions","organizations_url":"https://api.github.com/users/skoppar/orgs","repos_url":"https://api.github.com/users/skoppar/repos","events_url":"https://api.github.com/users/skoppar/events{/privacy}","received_events_url":"https://api.github.com/users/skoppar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-10T21:06:56Z","updated_at":"2016-08-10T21:06:56Z","author_association":"NONE","body":"Figured it out with the help of a kafka consumer class. The console consumer showed data just fine, so couldn't spot the error. The rootcause is, I was sending the avro message using StringEncoder. Using DefaultEncoder on producer side fixed the issue. Thanks @himanshug and @gianm. Awaiting 9.2 release :) üëç \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239004594/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239024013","html_url":"https://github.com/apache/druid/pull/2458#issuecomment-239024013","issue_url":"https://api.github.com/repos/apache/druid/issues/2458","id":239024013,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTAyNDAxMw==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-10T22:26:29Z","updated_at":"2016-08-10T22:26:29Z","author_association":"CONTRIBUTOR","body":"@erikdubbelboer is this still WIP?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239024013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239052252","html_url":"https://github.com/apache/druid/pull/3149#issuecomment-239052252","issue_url":"https://api.github.com/repos/apache/druid/issues/3149","id":239052252,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTA1MjI1Mg==","user":{"login":"jianran","id":4075383,"node_id":"MDQ6VXNlcjQwNzUzODM=","avatar_url":"https://avatars.githubusercontent.com/u/4075383?v=4","gravatar_id":"","url":"https://api.github.com/users/jianran","html_url":"https://github.com/jianran","followers_url":"https://api.github.com/users/jianran/followers","following_url":"https://api.github.com/users/jianran/following{/other_user}","gists_url":"https://api.github.com/users/jianran/gists{/gist_id}","starred_url":"https://api.github.com/users/jianran/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jianran/subscriptions","organizations_url":"https://api.github.com/users/jianran/orgs","repos_url":"https://api.github.com/users/jianran/repos","events_url":"https://api.github.com/users/jianran/events{/privacy}","received_events_url":"https://api.github.com/users/jianran/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-11T01:27:41Z","updated_at":"2016-08-11T01:27:41Z","author_association":"CONTRIBUTOR","body":"change the title \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239052252/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239052307","html_url":"https://github.com/apache/druid/pull/3149#issuecomment-239052307","issue_url":"https://api.github.com/repos/apache/druid/issues/3149","id":239052307,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTA1MjMwNw==","user":{"login":"jianran","id":4075383,"node_id":"MDQ6VXNlcjQwNzUzODM=","avatar_url":"https://avatars.githubusercontent.com/u/4075383?v=4","gravatar_id":"","url":"https://api.github.com/users/jianran","html_url":"https://github.com/jianran","followers_url":"https://api.github.com/users/jianran/followers","following_url":"https://api.github.com/users/jianran/following{/other_user}","gists_url":"https://api.github.com/users/jianran/gists{/gist_id}","starred_url":"https://api.github.com/users/jianran/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jianran/subscriptions","organizations_url":"https://api.github.com/users/jianran/orgs","repos_url":"https://api.github.com/users/jianran/repos","events_url":"https://api.github.com/users/jianran/events{/privacy}","received_events_url":"https://api.github.com/users/jianran/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-11T01:28:05Z","updated_at":"2016-08-11T01:28:05Z","author_association":"CONTRIBUTOR","body":"change the title\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239052307/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239119387","html_url":"https://github.com/apache/druid/pull/3349#issuecomment-239119387","issue_url":"https://api.github.com/repos/apache/druid/issues/3349","id":239119387,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTExOTM4Nw==","user":{"login":"gvsmirnov","id":1493464,"node_id":"MDQ6VXNlcjE0OTM0NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1493464?v=4","gravatar_id":"","url":"https://api.github.com/users/gvsmirnov","html_url":"https://github.com/gvsmirnov","followers_url":"https://api.github.com/users/gvsmirnov/followers","following_url":"https://api.github.com/users/gvsmirnov/following{/other_user}","gists_url":"https://api.github.com/users/gvsmirnov/gists{/gist_id}","starred_url":"https://api.github.com/users/gvsmirnov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gvsmirnov/subscriptions","organizations_url":"https://api.github.com/users/gvsmirnov/orgs","repos_url":"https://api.github.com/users/gvsmirnov/repos","events_url":"https://api.github.com/users/gvsmirnov/events{/privacy}","received_events_url":"https://api.github.com/users/gvsmirnov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-11T09:58:35Z","updated_at":"2016-08-11T09:58:35Z","author_association":"CONTRIBUTOR","body":"Hmm, some upstream merge commits got in here, too. Should I get rid of them, or is this ok?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239119387/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239130600","html_url":"https://github.com/apache/druid/issues/3346#issuecomment-239130600","issue_url":"https://api.github.com/repos/apache/druid/issues/3346","id":239130600,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTEzMDYwMA==","user":{"login":"gvsmirnov","id":1493464,"node_id":"MDQ6VXNlcjE0OTM0NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1493464?v=4","gravatar_id":"","url":"https://api.github.com/users/gvsmirnov","html_url":"https://github.com/gvsmirnov","followers_url":"https://api.github.com/users/gvsmirnov/followers","following_url":"https://api.github.com/users/gvsmirnov/following{/other_user}","gists_url":"https://api.github.com/users/gvsmirnov/gists{/gist_id}","starred_url":"https://api.github.com/users/gvsmirnov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gvsmirnov/subscriptions","organizations_url":"https://api.github.com/users/gvsmirnov/orgs","repos_url":"https://api.github.com/users/gvsmirnov/repos","events_url":"https://api.github.com/users/gvsmirnov/events{/privacy}","received_events_url":"https://api.github.com/users/gvsmirnov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-11T11:00:00Z","updated_at":"2016-08-11T11:00:00Z","author_association":"CONTRIBUTOR","body":"Got that, thank you for the detailed explanation. I'll go on with these guidelines in mind, and submit a PR soon.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239130600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239176295","html_url":"https://github.com/apache/druid/pull/3168#issuecomment-239176295","issue_url":"https://api.github.com/repos/apache/druid/issues/3168","id":239176295,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTE3NjI5NQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-11T14:24:40Z","updated_at":"2016-08-11T14:24:40Z","author_association":"CONTRIBUTOR","body":"@rajk-tetration\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239176295/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239181318","html_url":"https://github.com/apache/druid/issues/3348#issuecomment-239181318","issue_url":"https://api.github.com/repos/apache/druid/issues/3348","id":239181318,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTE4MTMxOA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-11T14:40:45Z","updated_at":"2016-08-11T14:40:45Z","author_association":"CONTRIBUTOR","body":"Haha, yes! Thanks robots!\n\nPR: #3352\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239181318/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239182419","html_url":"https://github.com/apache/druid/pull/3352#issuecomment-239182419","issue_url":"https://api.github.com/repos/apache/druid/issues/3352","id":239182419,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTE4MjQxOQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-11T14:44:08Z","updated_at":"2016-08-11T14:44:08Z","author_association":"CONTRIBUTOR","body":"üëç \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239182419/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239182905","html_url":"https://github.com/apache/druid/pull/3349#issuecomment-239182905","issue_url":"https://api.github.com/repos/apache/druid/issues/3349","id":239182905,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTE4MjkwNQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-11T14:45:33Z","updated_at":"2016-08-11T14:45:33Z","author_association":"CONTRIBUTOR","body":"Does this make the table columns no longer sortable? If possible, I think ideally the table would start out in the order returned by the server, but then be re-sortable after that.\n\nWe just want 1 commit, but I think github would squash the commits on merge, so that might happen automatically. If you do it that's cool too.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239182905/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239218989","html_url":"https://github.com/apache/druid/pull/3319#issuecomment-239218989","issue_url":"https://api.github.com/repos/apache/druid/issues/3319","id":239218989,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTIxODk4OQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-11T16:44:44Z","updated_at":"2016-08-11T16:44:44Z","author_association":"CONTRIBUTOR","body":"moved to 0.9.3 to unblock 0.9.2\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239218989/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239219052","html_url":"https://github.com/apache/druid/pull/2458#issuecomment-239219052","issue_url":"https://api.github.com/repos/apache/druid/issues/2458","id":239219052,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTIxOTA1Mg==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-11T16:45:00Z","updated_at":"2016-08-11T16:45:00Z","author_association":"CONTRIBUTOR","body":"Moving this to 0.9.3 to allow for more time for review\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239219052/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239222596","html_url":"https://github.com/apache/druid/issues/3354#issuecomment-239222596","issue_url":"https://api.github.com/repos/apache/druid/issues/3354","id":239222596,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTIyMjU5Ng==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-11T16:57:29Z","updated_at":"2016-08-11T16:57:29Z","author_association":"CONTRIBUTOR","body":"This is a known day-1 issue\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239222596/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239223040","html_url":"https://github.com/apache/druid/issues/3354#issuecomment-239223040","issue_url":"https://api.github.com/repos/apache/druid/issues/3354","id":239223040,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTIyMzA0MA==","user":{"login":"sascha-coenen","id":1635350,"node_id":"MDQ6VXNlcjE2MzUzNTA=","avatar_url":"https://avatars.githubusercontent.com/u/1635350?v=4","gravatar_id":"","url":"https://api.github.com/users/sascha-coenen","html_url":"https://github.com/sascha-coenen","followers_url":"https://api.github.com/users/sascha-coenen/followers","following_url":"https://api.github.com/users/sascha-coenen/following{/other_user}","gists_url":"https://api.github.com/users/sascha-coenen/gists{/gist_id}","starred_url":"https://api.github.com/users/sascha-coenen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sascha-coenen/subscriptions","organizations_url":"https://api.github.com/users/sascha-coenen/orgs","repos_url":"https://api.github.com/users/sascha-coenen/repos","events_url":"https://api.github.com/users/sascha-coenen/events{/privacy}","received_events_url":"https://api.github.com/users/sascha-coenen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-11T16:58:57Z","updated_at":"2016-08-11T16:58:57Z","author_association":"NONE","body":"what is a \"day-1 issue\" ?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239223040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239225771","html_url":"https://github.com/apache/druid/issues/3354#issuecomment-239225771","issue_url":"https://api.github.com/repos/apache/druid/issues/3354","id":239225771,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTIyNTc3MQ==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-11T17:08:46Z","updated_at":"2016-08-11T17:08:46Z","author_association":"MEMBER","body":"there has been some related work to add a steady state here - https://github.com/druid-io/druid/pull/2806\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239225771/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239226576","html_url":"https://github.com/apache/druid/issues/3354#issuecomment-239226576","issue_url":"https://api.github.com/repos/apache/druid/issues/3354","id":239226576,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTIyNjU3Ng==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-11T17:11:34Z","updated_at":"2016-08-11T17:11:34Z","author_association":"MEMBER","body":"as a workaround, you can throttle the segment movement across nodes by setting maxSegmentsToMove to a very low value. \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239226576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239238294","html_url":"https://github.com/apache/druid/pull/3355#issuecomment-239238294","issue_url":"https://api.github.com/repos/apache/druid/issues/3355","id":239238294,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTIzODI5NA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-11T17:53:00Z","updated_at":"2016-08-11T17:53:00Z","author_association":"CONTRIBUTOR","body":"@kaijianding this seems reasonable, have you verified that it works?\n\nAlso have you looked into the Kafka indexing service (http://druid.io/docs/latest/development/extensions-core/kafka-ingestion.html) at all? It has some advantages over the simple consumer firehose:\n- the Firehose/Plumber setup has design flaws that prevent exactly once ingestion, even with commitMetadata; the Kafka indexing service uses a new Appenderator setup meant to address those flaws.\n- the Kafka indexing service can scale up and down without losing metadata.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239238294/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239239307","html_url":"https://github.com/apache/druid/issues/764#issuecomment-239239307","issue_url":"https://api.github.com/repos/apache/druid/issues/764","id":239239307,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTIzOTMwNw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-11T17:56:16Z","updated_at":"2016-08-11T17:56:16Z","author_association":"CONTRIBUTOR","body":"fixed in 0.9.1.1, using the mythical consumer redesign:\n\nhttp://druid.io/docs/0.9.1.1/development/extensions-core/kafka-ingestion.html.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239239307/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239240653","html_url":"https://github.com/apache/druid/pull/3355#issuecomment-239240653","issue_url":"https://api.github.com/repos/apache/druid/issues/3355","id":239240653,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTI0MDY1Mw==","user":{"login":"kaijianding","id":8663725,"node_id":"MDQ6VXNlcjg2NjM3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/8663725?v=4","gravatar_id":"","url":"https://api.github.com/users/kaijianding","html_url":"https://github.com/kaijianding","followers_url":"https://api.github.com/users/kaijianding/followers","following_url":"https://api.github.com/users/kaijianding/following{/other_user}","gists_url":"https://api.github.com/users/kaijianding/gists{/gist_id}","starred_url":"https://api.github.com/users/kaijianding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaijianding/subscriptions","organizations_url":"https://api.github.com/users/kaijianding/orgs","repos_url":"https://api.github.com/users/kaijianding/repos","events_url":"https://api.github.com/users/kaijianding/events{/privacy}","received_events_url":"https://api.github.com/users/kaijianding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-11T18:00:58Z","updated_at":"2016-08-11T18:00:58Z","author_association":"CONTRIBUTOR","body":"yes, I have verified that works.\n\nI have read the \"Kafka indexing service\".\nBut We're still using 0.9.0, we have some modifications only for company inner usage on 0.9.0. We'd like to migrate to 0.9.2 when it is released.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239240653/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239243150","html_url":"https://github.com/apache/druid/pull/3355#issuecomment-239243150","issue_url":"https://api.github.com/repos/apache/druid/issues/3355","id":239243150,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTI0MzE1MA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-11T18:09:52Z","updated_at":"2016-08-11T18:09:52Z","author_association":"CONTRIBUTOR","body":"Ok, fair enough.\n\nüëç  from me, this change looks good.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239243150/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239243567","html_url":"https://github.com/apache/druid/pull/3355#issuecomment-239243567","issue_url":"https://api.github.com/repos/apache/druid/issues/3355","id":239243567,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTI0MzU2Nw==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-11T18:11:20Z","updated_at":"2016-08-11T18:11:20Z","author_association":"CONTRIBUTOR","body":"üëç \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239243567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239244076","html_url":"https://github.com/apache/druid/pull/2491#issuecomment-239244076","issue_url":"https://api.github.com/repos/apache/druid/issues/2491","id":239244076,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTI0NDA3Ng==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-11T18:12:59Z","updated_at":"2016-08-11T18:12:59Z","author_association":"CONTRIBUTOR","body":"üëç \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239244076/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239283766","html_url":"https://github.com/apache/druid/pull/2480#issuecomment-239283766","issue_url":"https://api.github.com/repos/apache/druid/issues/2480","id":239283766,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTI4Mzc2Ng==","user":{"login":"ryryguy","id":1960939,"node_id":"MDQ6VXNlcjE5NjA5Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1960939?v=4","gravatar_id":"","url":"https://api.github.com/users/ryryguy","html_url":"https://github.com/ryryguy","followers_url":"https://api.github.com/users/ryryguy/followers","following_url":"https://api.github.com/users/ryryguy/following{/other_user}","gists_url":"https://api.github.com/users/ryryguy/gists{/gist_id}","starred_url":"https://api.github.com/users/ryryguy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ryryguy/subscriptions","organizations_url":"https://api.github.com/users/ryryguy/orgs","repos_url":"https://api.github.com/users/ryryguy/repos","events_url":"https://api.github.com/users/ryryguy/events{/privacy}","received_events_url":"https://api.github.com/users/ryryguy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-11T20:35:14Z","updated_at":"2016-08-11T20:35:14Z","author_association":"NONE","body":"I finally figured out that we only see this behavior under 0.9.1.1 when querying a historical node directly. When we send the same queries to the broker, the bug fix holds and we see the desired behavior.\n\nI posted about this here: https://groups.google.com/forum/#!topic/druid-user/M5i51SfDJL0 and may open a new bug to cover the historical node issue.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239283766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239323214","html_url":"https://github.com/apache/druid/pull/3356#issuecomment-239323214","issue_url":"https://api.github.com/repos/apache/druid/issues/3356","id":239323214,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTMyMzIxNA==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-11T23:25:12Z","updated_at":"2016-08-11T23:25:12Z","author_association":"CONTRIBUTOR","body":"it'd be nice if we forced case sensitivity in Druid and didn't have to think about distinctions anywhere\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239323214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239335448","html_url":"https://github.com/apache/druid/pull/3356#issuecomment-239335448","issue_url":"https://api.github.com/repos/apache/druid/issues/3356","id":239335448,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTMzNTQ0OA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-12T00:49:30Z","updated_at":"2016-08-12T00:49:30Z","author_association":"CONTRIBUTOR","body":"I'm üëç  on this since it used to work, and it'd be good to not break existing callers.\n\nWould also be down with making it case sensitive in 0.10.0.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239335448/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239336831","html_url":"https://github.com/apache/druid/pull/3356#issuecomment-239336831","issue_url":"https://api.github.com/repos/apache/druid/issues/3356","id":239336831,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTMzNjgzMQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-12T01:00:03Z","updated_at":"2016-08-12T01:00:03Z","author_association":"CONTRIBUTOR","body":"@gianm okay, üëç \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239336831/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239337140","html_url":"https://github.com/apache/druid/pull/3148#issuecomment-239337140","issue_url":"https://api.github.com/repos/apache/druid/issues/3148","id":239337140,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTMzNzE0MA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-12T01:02:37Z","updated_at":"2016-08-12T01:03:21Z","author_association":"CONTRIBUTOR","body":"@acslk sweet, those benchmarks look nice. The general theme seems to be,\n- longs+lz4 is the current default encoding\n- delta+lz4 is always smallest and is roughly similar speed to longs+lz4; maybe this'd be a nice default in the future\n- delta+none size varies quite a bit relative to longs+lz4, but is always faster, especially when skipping\n- longs+none is silly üòÑ \n\nCould you put the benchmarks and storage numbers in the top comment too for ease of reference?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239337140/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239343219","html_url":"https://github.com/apache/druid/pull/3148#issuecomment-239343219","issue_url":"https://api.github.com/repos/apache/druid/issues/3148","id":239343219,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTM0MzIxOQ==","user":{"login":"acslk","id":11131839,"node_id":"MDQ6VXNlcjExMTMxODM5","avatar_url":"https://avatars.githubusercontent.com/u/11131839?v=4","gravatar_id":"","url":"https://api.github.com/users/acslk","html_url":"https://github.com/acslk","followers_url":"https://api.github.com/users/acslk/followers","following_url":"https://api.github.com/users/acslk/following{/other_user}","gists_url":"https://api.github.com/users/acslk/gists{/gist_id}","starred_url":"https://api.github.com/users/acslk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acslk/subscriptions","organizations_url":"https://api.github.com/users/acslk/orgs","repos_url":"https://api.github.com/users/acslk/repos","events_url":"https://api.github.com/users/acslk/events{/privacy}","received_events_url":"https://api.github.com/users/acslk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-12T01:53:14Z","updated_at":"2016-08-12T01:56:22Z","author_association":"CONTRIBUTOR","body":"I've added some basic float encoding stuff that supports non block based float compression in another branch, and hoping to get it merged together with this branch. \nhttps://github.com/acslk/druid/compare/feature-compress...acslk:feature-floatcompress?expand=1\n\nThe reason is that Long metric and Float metric share the same CompressionStrategy in IndexSpec, and updating only Long would cause Long to compress NONE strategy in one way while Float compress it in another way, which is awkward for future Float encoding implementation.\n\nThe float changes are mostly symmetrical to changes in this PR.\n\nBenchmark show no major difference for lz4 performance\n\nBranch:\n\n```\nFloatCompressionBenchmark.readContinuous   enumerate    floats         lz4  avgt   25  20.103 ¬± 0.397  ms/op\nFloatCompressionBenchmark.readContinuous     zipfLow    floats         lz4  avgt   25  30.654 ¬± 1.185  ms/op\nFloatCompressionBenchmark.readContinuous    zipfHigh    floats         lz4  avgt   25  23.951 ¬± 1.096  ms/op\nFloatCompressionBenchmark.readContinuous  sequential    floats         lz4  avgt   25  21.819 ¬± 1.445  ms/op\nFloatCompressionBenchmark.readContinuous     uniform    floats         lz4  avgt   25  19.355 ¬± 1.145  ms/op\nFloatCompressionBenchmark.readSkipping     enumerate    floats         lz4  avgt   25   3.823 ¬± 1.195  ms/op\nFloatCompressionBenchmark.readSkipping       zipfLow    floats         lz4  avgt   25  13.979 ¬± 0.789  ms/op\nFloatCompressionBenchmark.readSkipping      zipfHigh    floats         lz4  avgt   25   6.527 ¬± 0.483  ms/op\nFloatCompressionBenchmark.readSkipping    sequential    floats         lz4  avgt   25   4.735 ¬± 0.842  ms/op\nFloatCompressionBenchmark.readSkipping       uniform    floats         lz4  avgt   25   1.698 ¬± 0.384  ms/op\n\n```\n\nMaster:\n\n```\nFloatCompressionBenchmark.readContinuous   enumerate    floats         lz4  avgt   25  21.318 ¬± 1.295  ms/op\nFloatCompressionBenchmark.readContinuous     zipfLow    floats         lz4  avgt   25  30.676 ¬± 1.611  ms/op\nFloatCompressionBenchmark.readContinuous    zipfHigh    floats         lz4  avgt   25  23.263 ¬± 1.011  ms/op\nFloatCompressionBenchmark.readContinuous  sequential    floats         lz4  avgt   25  22.076 ¬± 1.451  ms/op\nFloatCompressionBenchmark.readContinuous     uniform    floats         lz4  avgt   25  19.194 ¬± 1.224  ms/op\nFloatCompressionBenchmark.readSkipping     enumerate    floats         lz4  avgt   25   3.728 ¬± 0.477  ms/op\nFloatCompressionBenchmark.readSkipping       zipfLow    floats         lz4  avgt   25  13.650 ¬± 0.819  ms/op\nFloatCompressionBenchmark.readSkipping      zipfHigh    floats         lz4  avgt   25   6.279 ¬± 0.342  ms/op\nFloatCompressionBenchmark.readSkipping    sequential    floats         lz4  avgt   25   5.073 ¬± 1.712  ms/op\nFloatCompressionBenchmark.readSkipping       uniform    floats         lz4  avgt   25   1.866 ¬± 0.918  ms/op\n```\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239343219/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239345461","html_url":"https://github.com/apache/druid/pull/3148#issuecomment-239345461","issue_url":"https://api.github.com/repos/apache/druid/issues/3148","id":239345461,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTM0NTQ2MQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-12T02:12:04Z","updated_at":"2016-08-12T02:12:04Z","author_association":"CONTRIBUTOR","body":"@acslk hmm, it probably makes sense to build real \"none\" compression support for floats in this PR, since that'll remove the awkwardness in IndexMerger / IndexMergerV9, and make the migration path better later. Good call.\n\nBut I don't think we need the floatEncoding stuff - generally I'd prefer to add that interface when we actually need it. Right now we don't since there's only one float encoding (and I'm not creative enough to think of a different one we might want to do in the near future). So if removing that would simplify the float stuff, let's remove it.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239345461/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239354841","html_url":"https://github.com/apache/druid/pull/3148#issuecomment-239354841","issue_url":"https://api.github.com/repos/apache/druid/issues/3148","id":239354841,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTM1NDg0MQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-12T03:46:50Z","updated_at":"2016-08-12T03:48:16Z","author_association":"CONTRIBUTOR","body":"@acslk Okay, whew, finally finished reading through :)\n\nI wrote some comments on specific areas but the general structure looks good to me. The benchmarks and storage numbers look good too!\n\nOther than that, like I said in the previous comment, I do think it makes sense to include \"none\" compression for floats, minus the probably unnecessary floatEncoding stuff.\n\nAnyone else have a chance to take a look at this now that it's been edited a bunch? @xvrl @jon-wei \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239354841/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239379448","html_url":"https://github.com/apache/druid/pull/3321#issuecomment-239379448","issue_url":"https://api.github.com/repos/apache/druid/issues/3321","id":239379448,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTM3OTQ0OA==","user":{"login":"navis","id":809395,"node_id":"MDQ6VXNlcjgwOTM5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/809395?v=4","gravatar_id":"","url":"https://api.github.com/users/navis","html_url":"https://github.com/navis","followers_url":"https://api.github.com/users/navis/followers","following_url":"https://api.github.com/users/navis/following{/other_user}","gists_url":"https://api.github.com/users/navis/gists{/gist_id}","starred_url":"https://api.github.com/users/navis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/navis/subscriptions","organizations_url":"https://api.github.com/users/navis/orgs","repos_url":"https://api.github.com/users/navis/repos","events_url":"https://api.github.com/users/navis/events{/privacy}","received_events_url":"https://api.github.com/users/navis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-12T07:27:26Z","updated_at":"2016-08-12T07:27:26Z","author_association":"CONTRIBUTOR","body":"@drcrallen I can only see one or two swapping case from 1000+ rows merging and seemed not possible to make any improvement on performance under varied data / conditions. I can definitely say that we can ignore this.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239379448/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239400575","html_url":"https://github.com/apache/druid/pull/2458#issuecomment-239400575","issue_url":"https://api.github.com/repos/apache/druid/issues/2458","id":239400575,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTQwMDU3NQ==","user":{"login":"erikdubbelboer","id":522870,"node_id":"MDQ6VXNlcjUyMjg3MA==","avatar_url":"https://avatars.githubusercontent.com/u/522870?v=4","gravatar_id":"","url":"https://api.github.com/users/erikdubbelboer","html_url":"https://github.com/erikdubbelboer","followers_url":"https://api.github.com/users/erikdubbelboer/followers","following_url":"https://api.github.com/users/erikdubbelboer/following{/other_user}","gists_url":"https://api.github.com/users/erikdubbelboer/gists{/gist_id}","starred_url":"https://api.github.com/users/erikdubbelboer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erikdubbelboer/subscriptions","organizations_url":"https://api.github.com/users/erikdubbelboer/orgs","repos_url":"https://api.github.com/users/erikdubbelboer/repos","events_url":"https://api.github.com/users/erikdubbelboer/events{/privacy}","received_events_url":"https://api.github.com/users/erikdubbelboer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-12T09:21:15Z","updated_at":"2016-08-12T09:21:15Z","author_association":"CONTRIBUTOR","body":"We have been using this in production for two weeks now without issues so it seems to be fine. I removed the WIP.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239400575/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239493853","html_url":"https://github.com/apache/druid/issues/3358#issuecomment-239493853","issue_url":"https://api.github.com/repos/apache/druid/issues/3358","id":239493853,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTQ5Mzg1Mw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-12T16:29:56Z","updated_at":"2016-08-12T16:29:56Z","author_association":"CONTRIBUTOR","body":"@dclim Looks like this is coming from the Kafka index tasks announcing themselves with the chat handler provider ‚Äì¬†do you know if that's really necessary? IIRC the supervisor finds them without that, using the overlord's builtin task location finding stuff (which doesn't leave \"presents\" in ZK).\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239493853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239493930","html_url":"https://github.com/apache/druid/issues/3358#issuecomment-239493930","issue_url":"https://api.github.com/repos/apache/druid/issues/3358","id":239493930,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTQ5MzkzMA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-12T16:30:16Z","updated_at":"2016-08-12T16:30:16Z","author_association":"CONTRIBUTOR","body":"@sixtus thanks for the report\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239493930/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239494842","html_url":"https://github.com/apache/druid/issues/3164#issuecomment-239494842","issue_url":"https://api.github.com/repos/apache/druid/issues/3164","id":239494842,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTQ5NDg0Mg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-12T16:34:06Z","updated_at":"2016-08-12T16:34:06Z","author_association":"CONTRIBUTOR","body":"Fixed by #3312 \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239494842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239499101","html_url":"https://github.com/apache/druid/issues/3358#issuecomment-239499101","issue_url":"https://api.github.com/repos/apache/druid/issues/3358","id":239499101,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTQ5OTEwMQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-12T16:50:57Z","updated_at":"2016-08-12T16:50:57Z","author_association":"CONTRIBUTOR","body":"Answering my own question: yes, registering with the chat handler provider is necessary to expose the servlet. But, the provider should have an option on registration to opt of announcing. Realtime tasks still need to announce (for compat with older tranquillity versions) but Kafka tasks should never need to announce.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239499101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239511616","html_url":"https://github.com/apache/druid/issues/3358#issuecomment-239511616","issue_url":"https://api.github.com/repos/apache/druid/issues/3358","id":239511616,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTUxMTYxNg==","user":{"login":"sixtus","id":91857,"node_id":"MDQ6VXNlcjkxODU3","avatar_url":"https://avatars.githubusercontent.com/u/91857?v=4","gravatar_id":"","url":"https://api.github.com/users/sixtus","html_url":"https://github.com/sixtus","followers_url":"https://api.github.com/users/sixtus/followers","following_url":"https://api.github.com/users/sixtus/following{/other_user}","gists_url":"https://api.github.com/users/sixtus/gists{/gist_id}","starred_url":"https://api.github.com/users/sixtus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sixtus/subscriptions","organizations_url":"https://api.github.com/users/sixtus/orgs","repos_url":"https://api.github.com/users/sixtus/repos","events_url":"https://api.github.com/users/sixtus/events{/privacy}","received_events_url":"https://api.github.com/users/sixtus/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-12T17:39:29Z","updated_at":"2016-08-12T17:39:29Z","author_association":"CONTRIBUTOR","body":"Can you hint me what to patch? I'd love to deploy this asap, but zk bloat is a show stopper. \n\nThanks!\nHagen\n\n> Am 12.08.2016 um 18:51 schrieb Gian Merlino notifications@github.com:\n> \n> Answering my own question: yes, registering with the chat handler provider is necessary to expose the servlet. But, the provider should have an option on registration to opt of announcing. Realtime tasks still need to announce (for compat with older tranquillity versions) but Kafka tasks should never need to announce.\n> \n> ‚Äî\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub, or mute the thread.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239511616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239512236","html_url":"https://github.com/apache/druid/issues/3358#issuecomment-239512236","issue_url":"https://api.github.com/repos/apache/druid/issues/3358","id":239512236,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTUxMjIzNg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-12T17:41:48Z","updated_at":"2016-08-12T17:41:48Z","author_association":"CONTRIBUTOR","body":"@sixtus if you aren't using tranquility (and therefore don't need service discovery to work there) then you should be able to comment out `serviceAnnouncer.announce(node);` and `serviceAnnouncer.unannounce(makeDruidNode(service));` in ServiceAnnouncingChatHandlerProvider.java.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239512236/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239519119","html_url":"https://github.com/apache/druid/issues/3358#issuecomment-239519119","issue_url":"https://api.github.com/repos/apache/druid/issues/3358","id":239519119,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTUxOTExOQ==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-12T18:08:43Z","updated_at":"2016-08-12T18:08:43Z","author_association":"CONTRIBUTOR","body":"@gianm thanks Gian, I'll submit a patch for a SimpleChatHandlerProvider that doesn't do the unnecessary service discovery announcement.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239519119/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239520062","html_url":"https://github.com/apache/druid/issues/3358#issuecomment-239520062","issue_url":"https://api.github.com/repos/apache/druid/issues/3358","id":239520062,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTUyMDA2Mg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-12T18:12:38Z","updated_at":"2016-08-12T18:12:38Z","author_association":"CONTRIBUTOR","body":"@dclim IMO it'd be better to have a flag on `register` about whether or not announcing is needed; it's a little goofy, but it would let us hard-code \"false\" in Kafka index task and \"true\" in the Realtime task, meaning legacy tranquility and kafka indexing can co-exist in the same cluster. That'd help people migrate from the former to the latter.\n\nThat'd also mean the default behavior is better. we wouldn't want to switch the default chat provider away from the service announcing one, and if we don't do that, we'll have to have another step for Kafka indexing service users (set the chat handler to simple). That'd work but it's better to avoid extra steps if we can.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239520062/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239520764","html_url":"https://github.com/apache/druid/issues/3358#issuecomment-239520764","issue_url":"https://api.github.com/repos/apache/druid/issues/3358","id":239520764,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTUyMDc2NA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-12T18:15:23Z","updated_at":"2016-08-12T18:15:23Z","author_association":"CONTRIBUTOR","body":"I think this is telling us that the chat handler provider is not a great abstraction. Combining service announcing and servlet registration was a bad idea, and we are needing to work around that now. So I think the goofiness is acceptable since it's really just working around the sins of our forebears.\n\nWhich I think is me since I think I made that thing in the first place :P\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239520764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239520937","html_url":"https://github.com/apache/druid/issues/3358#issuecomment-239520937","issue_url":"https://api.github.com/repos/apache/druid/issues/3358","id":239520937,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTUyMDkzNw==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-12T18:16:06Z","updated_at":"2016-08-12T18:16:06Z","author_association":"CONTRIBUTOR","body":"Hah, sounds good.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239520937/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239534388","html_url":"https://github.com/apache/druid/issues/3358#issuecomment-239534388","issue_url":"https://api.github.com/repos/apache/druid/issues/3358","id":239534388,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTUzNDM4OA==","user":{"login":"sixtus","id":91857,"node_id":"MDQ6VXNlcjkxODU3","avatar_url":"https://avatars.githubusercontent.com/u/91857?v=4","gravatar_id":"","url":"https://api.github.com/users/sixtus","html_url":"https://github.com/sixtus","followers_url":"https://api.github.com/users/sixtus/followers","following_url":"https://api.github.com/users/sixtus/following{/other_user}","gists_url":"https://api.github.com/users/sixtus/gists{/gist_id}","starred_url":"https://api.github.com/users/sixtus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sixtus/subscriptions","organizations_url":"https://api.github.com/users/sixtus/orgs","repos_url":"https://api.github.com/users/sixtus/repos","events_url":"https://api.github.com/users/sixtus/events{/privacy}","received_events_url":"https://api.github.com/users/sixtus/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-12T19:09:17Z","updated_at":"2016-08-12T19:09:17Z","author_association":"CONTRIBUTOR","body":"ruby-druid relies on brokers announcing themselves. The rest, I don't have nor care for, still on standalone rt.\n\nI.e. if this doesn't break broker, I'll try on Monday. \n\nThanks for the quick help!\nHagen\n\n> Am 12.08.2016 um 19:42 schrieb Gian Merlino notifications@github.com:\n> \n> @sixtus if you aren't using tranquility (and therefore don't need service discovery to work there) then you should be able to comment out serviceAnnouncer.announce(node); and serviceAnnouncer.unannounce(makeDruidNode(service)); in ServiceAnnouncingChatHandlerProvider.java.\n> \n> ‚Äî\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub, or mute the thread.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239534388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239534985","html_url":"https://github.com/apache/druid/issues/3358#issuecomment-239534985","issue_url":"https://api.github.com/repos/apache/druid/issues/3358","id":239534985,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTUzNDk4NQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-12T19:11:48Z","updated_at":"2016-08-12T19:11:48Z","author_association":"CONTRIBUTOR","body":"@sixtus It won't break the broker, this will only affect task announcement.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239534985/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239562174","html_url":"https://github.com/apache/druid/pull/3148#issuecomment-239562174","issue_url":"https://api.github.com/repos/apache/druid/issues/3148","id":239562174,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTU2MjE3NA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-12T21:18:17Z","updated_at":"2016-08-12T21:18:17Z","author_association":"CONTRIBUTOR","body":"@acslk @gianm reviewing again\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239562174/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239572211","html_url":"https://github.com/apache/druid/pull/3217#issuecomment-239572211","issue_url":"https://api.github.com/repos/apache/druid/issues/3217","id":239572211,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTU3MjIxMQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-12T22:12:08Z","updated_at":"2016-08-12T22:12:08Z","author_association":"CONTRIBUTOR","body":"rebasing again...\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239572211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239573979","html_url":"https://github.com/apache/druid/pull/3359#issuecomment-239573979","issue_url":"https://api.github.com/repos/apache/druid/issues/3359","id":239573979,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTU3Mzk3OQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-12T22:22:34Z","updated_at":"2016-08-12T22:22:34Z","author_association":"CONTRIBUTOR","body":"üëç \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239573979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239574235","html_url":"https://github.com/apache/druid/pull/3357#issuecomment-239574235","issue_url":"https://api.github.com/repos/apache/druid/issues/3357","id":239574235,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTU3NDIzNQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-12T22:24:01Z","updated_at":"2016-08-12T22:24:01Z","author_association":"CONTRIBUTOR","body":"@yuusaku-t Thanks for the contrib. We'll take a look.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239574235/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239577316","html_url":"https://github.com/apache/druid/pull/3148#issuecomment-239577316","issue_url":"https://api.github.com/repos/apache/druid/issues/3148","id":239577316,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTU3NzMxNg==","user":{"login":"acslk","id":11131839,"node_id":"MDQ6VXNlcjExMTMxODM5","avatar_url":"https://avatars.githubusercontent.com/u/11131839?v=4","gravatar_id":"","url":"https://api.github.com/users/acslk","html_url":"https://github.com/acslk","followers_url":"https://api.github.com/users/acslk/followers","following_url":"https://api.github.com/users/acslk/following{/other_user}","gists_url":"https://api.github.com/users/acslk/gists{/gist_id}","starred_url":"https://api.github.com/users/acslk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acslk/subscriptions","organizations_url":"https://api.github.com/users/acslk/orgs","repos_url":"https://api.github.com/users/acslk/repos","events_url":"https://api.github.com/users/acslk/events{/privacy}","received_events_url":"https://api.github.com/users/acslk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-12T22:43:50Z","updated_at":"2016-08-12T22:43:50Z","author_association":"CONTRIBUTOR","body":"Added the float support for \"none\" compression strategy. It uses the same BlockLayout/EntireLayout pattern as long compression, but does not have any encoding strategy/format.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239577316/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239584337","html_url":"https://github.com/apache/druid/pull/3217#issuecomment-239584337","issue_url":"https://api.github.com/repos/apache/druid/issues/3217","id":239584337,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTU4NDMzNw==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-12T23:36:01Z","updated_at":"2016-08-12T23:36:01Z","author_association":"CONTRIBUTOR","body":"rebased and addressed comments from @acslk \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239584337/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239585160","html_url":"https://github.com/apache/druid/pull/3148#issuecomment-239585160","issue_url":"https://api.github.com/repos/apache/druid/issues/3148","id":239585160,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTU4NTE2MA==","user":{"login":"xvrl","id":815147,"node_id":"MDQ6VXNlcjgxNTE0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/815147?v=4","gravatar_id":"","url":"https://api.github.com/users/xvrl","html_url":"https://github.com/xvrl","followers_url":"https://api.github.com/users/xvrl/followers","following_url":"https://api.github.com/users/xvrl/following{/other_user}","gists_url":"https://api.github.com/users/xvrl/gists{/gist_id}","starred_url":"https://api.github.com/users/xvrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xvrl/subscriptions","organizations_url":"https://api.github.com/users/xvrl/orgs","repos_url":"https://api.github.com/users/xvrl/repos","events_url":"https://api.github.com/users/xvrl/events{/privacy}","received_events_url":"https://api.github.com/users/xvrl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-12T23:43:26Z","updated_at":"2016-08-12T23:43:26Z","author_association":"MEMBER","body":"@acslk I'm a bit puzzled by some of the benchmark numbers. `longs + lz4` seems to be really standing out in the readSkipping benchmarks compared to `delta + lz4`. The difference is much less pronounced in readContinous. I wonder it it would make sense to understand what's causing this, especially give that the compressed sizes are not that much different.\n\n@gianm As far as making `delta+lz4` the default in the future, it still seems to be up to 3x slower compared to `longs + lz4` for some full column scans, so we might want to experiment with real-world data before making that decision.\n\nOverall I'm on board with this PR, I haven't had a chance to read the code much yet, but the approach is the description seems reasonable.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239585160/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239588783","html_url":"https://github.com/apache/druid/pull/3226#issuecomment-239588783","issue_url":"https://api.github.com/repos/apache/druid/issues/3226","id":239588783,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTU4ODc4Mw==","user":{"login":"acslk","id":11131839,"node_id":"MDQ6VXNlcjExMTMxODM5","avatar_url":"https://avatars.githubusercontent.com/u/11131839?v=4","gravatar_id":"","url":"https://api.github.com/users/acslk","html_url":"https://github.com/acslk","followers_url":"https://api.github.com/users/acslk/followers","following_url":"https://api.github.com/users/acslk/following{/other_user}","gists_url":"https://api.github.com/users/acslk/gists{/gist_id}","starred_url":"https://api.github.com/users/acslk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acslk/subscriptions","organizations_url":"https://api.github.com/users/acslk/orgs","repos_url":"https://api.github.com/users/acslk/repos","events_url":"https://api.github.com/users/acslk/events{/privacy}","received_events_url":"https://api.github.com/users/acslk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-13T00:19:44Z","updated_at":"2016-08-13T00:19:44Z","author_association":"CONTRIBUTOR","body":"Added option to finalize inner query, and also slightly changed how v1 build inner incrementalIndex. v1 strategy process inner query result by building IncrementalIndex on query result with aggregators from AggregatorFactory.getRequiredColumn(). When building IncrementalIndex, getCombiningFactory is called for the passed in aggregators. This makes sense for the merging runners that uses IncrementalIndex, but not so much for copying value from results. I parameterized whether or not to use combining factory so indexing inner query does not use combining factory.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239588783/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239588808","html_url":"https://github.com/apache/druid/pull/3217#issuecomment-239588808","issue_url":"https://api.github.com/repos/apache/druid/issues/3217","id":239588808,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTU4ODgwOA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-13T00:20:01Z","updated_at":"2016-08-13T00:20:01Z","author_association":"CONTRIBUTOR","body":"latest rebase changed the incrementalindex reading path slightly due to rebasing on top of #3344, re-ran IncrementalIndexReadBenchmark and performance hasn't changed:\n\n```\nBenchmark                                      (rollup)  (rowsPerSegment)  (schema)  Mode  Cnt       Score       Error  Units\nIncrementalIndexReadBenchmark.read                 true            750000     basic  avgt   50  334866.077 ¬±  5572.233  us/op\nIncrementalIndexReadBenchmark.read                false            750000     basic  avgt   50  377260.561 ¬± 29860.209  us/op\nIncrementalIndexReadBenchmark.readWithFilters      true            750000     basic  avgt   50  279812.716 ¬±  3370.998  us/op\nIncrementalIndexReadBenchmark.readWithFilters     false            750000     basic  avgt   50  326096.952 ¬±  2870.442  us/op\n```\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239588808/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239638704","html_url":"https://github.com/apache/druid/pull/3168#issuecomment-239638704","issue_url":"https://api.github.com/repos/apache/druid/issues/3168","id":239638704,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTYzODcwNA==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-13T19:58:55Z","updated_at":"2016-08-13T19:58:55Z","author_association":"NONE","body":"@fjy did you receive the CLA by e-mail?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239638704/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239670804","html_url":"https://github.com/apache/druid/pull/3226#issuecomment-239670804","issue_url":"https://api.github.com/repos/apache/druid/issues/3226","id":239670804,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTY3MDgwNA==","user":{"login":"gauravkumar37","id":2500570,"node_id":"MDQ6VXNlcjI1MDA1NzA=","avatar_url":"https://avatars.githubusercontent.com/u/2500570?v=4","gravatar_id":"","url":"https://api.github.com/users/gauravkumar37","html_url":"https://github.com/gauravkumar37","followers_url":"https://api.github.com/users/gauravkumar37/followers","following_url":"https://api.github.com/users/gauravkumar37/following{/other_user}","gists_url":"https://api.github.com/users/gauravkumar37/gists{/gist_id}","starred_url":"https://api.github.com/users/gauravkumar37/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gauravkumar37/subscriptions","organizations_url":"https://api.github.com/users/gauravkumar37/orgs","repos_url":"https://api.github.com/users/gauravkumar37/repos","events_url":"https://api.github.com/users/gauravkumar37/events{/privacy}","received_events_url":"https://api.github.com/users/gauravkumar37/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-14T12:21:50Z","updated_at":"2016-08-14T12:48:26Z","author_association":"CONTRIBUTOR","body":"@acslk Thanks for putting in the effort to make this possible. I tried this pull request on the latest master code branch. Though it works for aggregators, I have 3 issues:\n- It does not work if the aggregator's output is fed to a having clause. Group by strategy used was v1. Error:\n\n```\n{\n  \"error\": \"Unknown exception\",\n  \"errorMessage\": \"Unknown type[class io.druid.collections.SerializablePair]\",\n  \"errorClass\": \"com.metamx.common.parsers.ParseException\",\n  \"host\": null\n}\n```\n- It may be obvious but the first/last aggregators can only work on the output of the merged/stored data in druid. That is, within a single index-time query granularity, this cannot work and will give random results. I believe this should be highlighted in the docs as well.\n- In a nested group by query (v1 strategy), if the aggregator is used in the inner group by query, it is not accessible to the outer group by query. The error thrown is `Encountered parse error for aggregator[last_agg]`.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239670804/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239776402","html_url":"https://github.com/apache/druid/pull/2090#issuecomment-239776402","issue_url":"https://api.github.com/repos/apache/druid/issues/2090","id":239776402,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTc3NjQwMg==","user":{"login":"giaosudau","id":539238,"node_id":"MDQ6VXNlcjUzOTIzOA==","avatar_url":"https://avatars.githubusercontent.com/u/539238?v=4","gravatar_id":"","url":"https://api.github.com/users/giaosudau","html_url":"https://github.com/giaosudau","followers_url":"https://api.github.com/users/giaosudau/followers","following_url":"https://api.github.com/users/giaosudau/following{/other_user}","gists_url":"https://api.github.com/users/giaosudau/gists{/gist_id}","starred_url":"https://api.github.com/users/giaosudau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/giaosudau/subscriptions","organizations_url":"https://api.github.com/users/giaosudau/orgs","repos_url":"https://api.github.com/users/giaosudau/repos","events_url":"https://api.github.com/users/giaosudau/events{/privacy}","received_events_url":"https://api.github.com/users/giaosudau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-15T10:52:30Z","updated_at":"2016-08-15T10:52:30Z","author_association":"CONTRIBUTOR","body":"This PR delete ExprLexer and ExprParser and those classes still a dependency of alot of components.\nFor example in: package io.druid.math.expr.Parser\n\n```\nimport com.google.common.collect.ImmutableMap;\nimport com.google.common.collect.Maps;\nimport com.metamx.common.logger.Logger;\nimport io.druid.math.expr.antlr.ExprLexer;\nimport io.druid.math.expr.antlr.ExprParser;\nimport org.antlr.v4.runtime.ANTLRInputStream;\nimport org.antlr.v4.runtime.CommonTokenStream;\nimport org.antlr.v4.runtime.tree.ParseTree;\nimport org.antlr.v4.runtime.tree.ParseTreeWalker;\n```\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239776402/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239784456","html_url":"https://github.com/apache/druid/issues/3241#issuecomment-239784456","issue_url":"https://api.github.com/repos/apache/druid/issues/3241","id":239784456,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTc4NDQ1Ng==","user":{"login":"sixtus","id":91857,"node_id":"MDQ6VXNlcjkxODU3","avatar_url":"https://avatars.githubusercontent.com/u/91857?v=4","gravatar_id":"","url":"https://api.github.com/users/sixtus","html_url":"https://github.com/sixtus","followers_url":"https://api.github.com/users/sixtus/followers","following_url":"https://api.github.com/users/sixtus/following{/other_user}","gists_url":"https://api.github.com/users/sixtus/gists{/gist_id}","starred_url":"https://api.github.com/users/sixtus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sixtus/subscriptions","organizations_url":"https://api.github.com/users/sixtus/orgs","repos_url":"https://api.github.com/users/sixtus/repos","events_url":"https://api.github.com/users/sixtus/events{/privacy}","received_events_url":"https://api.github.com/users/sixtus/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-15T11:48:34Z","updated_at":"2016-08-15T11:48:34Z","author_association":"CONTRIBUTOR","body":"The same is true for IndexTask btw.\n\nI guess https://github.com/druid-io/druid/blob/master/indexing-service/src/main/java/io/druid/indexing/common/task/IndexTask.java#L303-L309 can be replaced by the code in the else block, right?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239784456/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239863110","html_url":"https://github.com/apache/druid/pull/3364#issuecomment-239863110","issue_url":"https://api.github.com/repos/apache/druid/issues/3364","id":239863110,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTg2MzExMA==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-15T17:09:51Z","updated_at":"2016-08-15T17:09:51Z","author_association":"CONTRIBUTOR","body":"i guess this is like if the cup is half full or half empty.\n@gauravkumar37 according to this [wiki page](https://en.wikipedia.org/wiki/Upper_and_lower_bounds), the comparison is done as `bound : operator : value` thus this will be `<` for lower bound case and `>` for upper bound case.  \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239863110/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239865738","html_url":"https://github.com/apache/druid/issues/3353#issuecomment-239865738","issue_url":"https://api.github.com/repos/apache/druid/issues/3353","id":239865738,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTg2NTczOA==","user":{"login":"sascha-coenen","id":1635350,"node_id":"MDQ6VXNlcjE2MzUzNTA=","avatar_url":"https://avatars.githubusercontent.com/u/1635350?v=4","gravatar_id":"","url":"https://api.github.com/users/sascha-coenen","html_url":"https://github.com/sascha-coenen","followers_url":"https://api.github.com/users/sascha-coenen/followers","following_url":"https://api.github.com/users/sascha-coenen/following{/other_user}","gists_url":"https://api.github.com/users/sascha-coenen/gists{/gist_id}","starred_url":"https://api.github.com/users/sascha-coenen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sascha-coenen/subscriptions","organizations_url":"https://api.github.com/users/sascha-coenen/orgs","repos_url":"https://api.github.com/users/sascha-coenen/repos","events_url":"https://api.github.com/users/sascha-coenen/events{/privacy}","received_events_url":"https://api.github.com/users/sascha-coenen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-15T17:19:30Z","updated_at":"2016-08-15T17:19:30Z","author_association":"NONE","body":"correction: the DELETE or POST actions do not actually hang. this was unrelated to Druid, but the snapshot files still only get updated in some situations.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239865738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239865748","html_url":"https://github.com/apache/druid/pull/3363#issuecomment-239865748","issue_url":"https://api.github.com/repos/apache/druid/issues/3363","id":239865748,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTg2NTc0OA==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-15T17:19:31Z","updated_at":"2016-08-15T17:19:31Z","author_association":"CONTRIBUTOR","body":"üëç \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239865748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239867325","html_url":"https://github.com/apache/druid/pull/3168#issuecomment-239867325","issue_url":"https://api.github.com/repos/apache/druid/issues/3168","id":239867325,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTg2NzMyNQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-15T17:25:21Z","updated_at":"2016-08-15T17:25:21Z","author_association":"CONTRIBUTOR","body":"Got CLA. We are good üëç \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239867325/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239872773","html_url":"https://github.com/apache/druid/pull/3360#issuecomment-239872773","issue_url":"https://api.github.com/repos/apache/druid/issues/3360","id":239872773,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTg3Mjc3Mw==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-15T17:44:47Z","updated_at":"2016-08-15T17:44:47Z","author_association":"CONTRIBUTOR","body":"üëç  just a few minor comments\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239872773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239913764","html_url":"https://github.com/apache/druid/pull/2708#issuecomment-239913764","issue_url":"https://api.github.com/repos/apache/druid/issues/2708","id":239913764,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTkxMzc2NA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-15T20:09:03Z","updated_at":"2016-08-15T20:20:19Z","author_association":"CONTRIBUTOR","body":"@hamlet-lee thanks for the perseverance and I think proposed solution will fix the problem you faced.\n\nhowever, i think fundamental problem is that \"existing\" map in JobHelper does not represent true state of the file system as things are deleted. so, in addition to the changes already done, i think we should also remove that map and rely on fs.exists(jarPath) instead .\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239913764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239974277","html_url":"https://github.com/apache/druid/pull/3360#issuecomment-239974277","issue_url":"https://api.github.com/repos/apache/druid/issues/3360","id":239974277,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTk3NDI3Nw==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-16T01:02:54Z","updated_at":"2016-08-16T01:02:54Z","author_association":"CONTRIBUTOR","body":"üëç \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239974277/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/239978115","html_url":"https://github.com/apache/druid/issues/3298#issuecomment-239978115","issue_url":"https://api.github.com/repos/apache/druid/issues/3298","id":239978115,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTk3ODExNQ==","user":{"login":"sirpkt","id":4968993,"node_id":"MDQ6VXNlcjQ5Njg5OTM=","avatar_url":"https://avatars.githubusercontent.com/u/4968993?v=4","gravatar_id":"","url":"https://api.github.com/users/sirpkt","html_url":"https://github.com/sirpkt","followers_url":"https://api.github.com/users/sirpkt/followers","following_url":"https://api.github.com/users/sirpkt/following{/other_user}","gists_url":"https://api.github.com/users/sirpkt/gists{/gist_id}","starred_url":"https://api.github.com/users/sirpkt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sirpkt/subscriptions","organizations_url":"https://api.github.com/users/sirpkt/orgs","repos_url":"https://api.github.com/users/sirpkt/repos","events_url":"https://api.github.com/users/sirpkt/events{/privacy}","received_events_url":"https://api.github.com/users/sirpkt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-16T01:32:05Z","updated_at":"2016-08-16T01:32:05Z","author_association":"CONTRIBUTOR","body":"@gianm Thank you for the comment.\nYou're right. I can get the same value with your suggestion.\nBut, someones do not like to see long value as a result and feel inconvenient to convert that long to timestamp.\nI don't think what I did is the best solution because it shows timestamp value only with group by query as internal data type is still long, \nand it would be best if timestamp data type is supported.  \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/239978115/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/240001712","html_url":"https://github.com/apache/druid/pull/3148#issuecomment-240001712","issue_url":"https://api.github.com/repos/apache/druid/issues/3148","id":240001712,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MDAwMTcxMg==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-16T05:02:12Z","updated_at":"2016-08-16T05:02:12Z","author_association":"CONTRIBUTOR","body":"done reviewing the new changes, had a few comments but looks good overall\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/240001712/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/240003801","html_url":"https://github.com/apache/druid/pull/3360#issuecomment-240003801","issue_url":"https://api.github.com/repos/apache/druid/issues/3360","id":240003801,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MDAwMzgwMQ==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-16T05:21:26Z","updated_at":"2016-08-16T05:21:26Z","author_association":"MEMBER","body":"üëç \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/240003801/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/240004177","html_url":"https://github.com/apache/druid/issues/3174#issuecomment-240004177","issue_url":"https://api.github.com/repos/apache/druid/issues/3174","id":240004177,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MDAwNDE3Nw==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-16T05:24:48Z","updated_at":"2016-08-16T05:24:48Z","author_association":"MEMBER","body":"fixed by #3205 \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/240004177/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/240092814","html_url":"https://github.com/apache/druid/pull/3091#issuecomment-240092814","issue_url":"https://api.github.com/repos/apache/druid/issues/3091","id":240092814,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MDA5MjgxNA==","user":{"login":"sirpkt","id":4968993,"node_id":"MDQ6VXNlcjQ5Njg5OTM=","avatar_url":"https://avatars.githubusercontent.com/u/4968993?v=4","gravatar_id":"","url":"https://api.github.com/users/sirpkt","html_url":"https://github.com/sirpkt","followers_url":"https://api.github.com/users/sirpkt/followers","following_url":"https://api.github.com/users/sirpkt/following{/other_user}","gists_url":"https://api.github.com/users/sirpkt/gists{/gist_id}","starred_url":"https://api.github.com/users/sirpkt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sirpkt/subscriptions","organizations_url":"https://api.github.com/users/sirpkt/orgs","repos_url":"https://api.github.com/users/sirpkt/repos","events_url":"https://api.github.com/users/sirpkt/events{/privacy}","received_events_url":"https://api.github.com/users/sirpkt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-16T12:55:17Z","updated_at":"2016-08-16T12:55:17Z","author_association":"CONTRIBUTOR","body":"updated based on the review comments and also addressed #3000 just for concat case.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/240092814/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/240126828","html_url":"https://github.com/apache/druid/pull/3365#issuecomment-240126828","issue_url":"https://api.github.com/repos/apache/druid/issues/3365","id":240126828,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MDEyNjgyOA==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-16T14:52:51Z","updated_at":"2016-08-16T14:52:51Z","author_association":"CONTRIBUTOR","body":"@kaijianding can we add a test?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/240126828/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/240127089","html_url":"https://github.com/apache/druid/pull/3361#issuecomment-240127089","issue_url":"https://api.github.com/repos/apache/druid/issues/3361","id":240127089,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MDEyNzA4OQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-16T14:53:35Z","updated_at":"2016-08-16T14:53:35Z","author_association":"CONTRIBUTOR","body":"Thanks @giaosudau. Can you sign the CLA @ http://druid.io/community/cla.html?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/240127089/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/240134124","html_url":"https://github.com/apache/druid/pull/3361#issuecomment-240134124","issue_url":"https://api.github.com/repos/apache/druid/issues/3361","id":240134124,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MDEzNDEyNA==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-16T15:14:52Z","updated_at":"2016-08-16T15:14:52Z","author_association":"CONTRIBUTOR","body":"@giaosudau thanks, can you fix the one at line 102 as well.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/240134124/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/240143668","html_url":"https://github.com/apache/druid/pull/2708#issuecomment-240143668","issue_url":"https://api.github.com/repos/apache/druid/issues/2708","id":240143668,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MDE0MzY2OA==","user":{"login":"hamlet-lee","id":12079531,"node_id":"MDQ6VXNlcjEyMDc5NTMx","avatar_url":"https://avatars.githubusercontent.com/u/12079531?v=4","gravatar_id":"","url":"https://api.github.com/users/hamlet-lee","html_url":"https://github.com/hamlet-lee","followers_url":"https://api.github.com/users/hamlet-lee/followers","following_url":"https://api.github.com/users/hamlet-lee/following{/other_user}","gists_url":"https://api.github.com/users/hamlet-lee/gists{/gist_id}","starred_url":"https://api.github.com/users/hamlet-lee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hamlet-lee/subscriptions","organizations_url":"https://api.github.com/users/hamlet-lee/orgs","repos_url":"https://api.github.com/users/hamlet-lee/repos","events_url":"https://api.github.com/users/hamlet-lee/events{/privacy}","received_events_url":"https://api.github.com/users/hamlet-lee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-16T15:44:16Z","updated_at":"2016-08-16T15:44:16Z","author_association":"CONTRIBUTOR","body":"@himanshug I think renaming the `new Path(config.makeIntermediatePath(), \"xxx\")`  is unnecessary.   And I think we should revert these changes and just fix logic in JobHelper.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/240143668/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/240145898","html_url":"https://github.com/apache/druid/pull/2708#issuecomment-240145898","issue_url":"https://api.github.com/repos/apache/druid/issues/2708","id":240145898,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MDE0NTg5OA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-16T15:51:02Z","updated_at":"2016-08-16T15:51:02Z","author_association":"CONTRIBUTOR","body":"@hamlet-lee yes , removing \"existing\" map in JobHelper and using fs.exists(..) would fix the issue.\n\nI did not ask removal of proposed code to change intermediatePath as having unique path wouldn't hurt but not necessary to fix the issue at hand.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/240145898/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/240153605","html_url":"https://github.com/apache/druid/pull/2708#issuecomment-240153605","issue_url":"https://api.github.com/repos/apache/druid/issues/2708","id":240153605,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MDE1MzYwNQ==","user":{"login":"hamlet-lee","id":12079531,"node_id":"MDQ6VXNlcjEyMDc5NTMx","avatar_url":"https://avatars.githubusercontent.com/u/12079531?v=4","gravatar_id":"","url":"https://api.github.com/users/hamlet-lee","html_url":"https://github.com/hamlet-lee","followers_url":"https://api.github.com/users/hamlet-lee/followers","following_url":"https://api.github.com/users/hamlet-lee/following{/other_user}","gists_url":"https://api.github.com/users/hamlet-lee/gists{/gist_id}","starred_url":"https://api.github.com/users/hamlet-lee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hamlet-lee/subscriptions","organizations_url":"https://api.github.com/users/hamlet-lee/orgs","repos_url":"https://api.github.com/users/hamlet-lee/repos","events_url":"https://api.github.com/users/hamlet-lee/events{/privacy}","received_events_url":"https://api.github.com/users/hamlet-lee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-16T16:15:31Z","updated_at":"2016-08-16T16:15:50Z","author_association":"CONTRIBUTOR","body":"@himanshug I have fixed JobHelper as the way you said.\nTried the fix on bug demo version.\ndemo version: https://github.com/hamlet-lee/druid/tree/demo_iss_2707\nfix on demo: https://github.com/hamlet-lee/druid/tree/fix_iss_2707_on_demo2\n\nsuccess log: \n[task_success_log2.txt](https://github.com/druid-io/druid/files/420743/task_success_log2.txt)\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/240153605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/240154407","html_url":"https://github.com/apache/druid/pull/3364#issuecomment-240154407","issue_url":"https://api.github.com/repos/apache/druid/issues/3364","id":240154407,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MDE1NDQwNw==","user":{"login":"gauravkumar37","id":2500570,"node_id":"MDQ6VXNlcjI1MDA1NzA=","avatar_url":"https://avatars.githubusercontent.com/u/2500570?v=4","gravatar_id":"","url":"https://api.github.com/users/gauravkumar37","html_url":"https://github.com/gauravkumar37","followers_url":"https://api.github.com/users/gauravkumar37/followers","following_url":"https://api.github.com/users/gauravkumar37/following{/other_user}","gists_url":"https://api.github.com/users/gauravkumar37/gists{/gist_id}","starred_url":"https://api.github.com/users/gauravkumar37/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gauravkumar37/subscriptions","organizations_url":"https://api.github.com/users/gauravkumar37/orgs","repos_url":"https://api.github.com/users/gauravkumar37/repos","events_url":"https://api.github.com/users/gauravkumar37/events{/privacy}","received_events_url":"https://api.github.com/users/gauravkumar37/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-16T16:18:03Z","updated_at":"2016-08-16T16:18:03Z","author_association":"CONTRIBUTOR","body":"As per mathematical notation, you're right. As a layman, that seemed confusing at first :+1: \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/240154407/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/240156087","html_url":"https://github.com/apache/druid/pull/2708#issuecomment-240156087","issue_url":"https://api.github.com/repos/apache/druid/issues/2708","id":240156087,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MDE1NjA4Nw==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-16T16:23:33Z","updated_at":"2016-08-16T16:23:33Z","author_association":"CONTRIBUTOR","body":":+1:\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/240156087/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/240158619","html_url":"https://github.com/apache/druid/issues/3367#issuecomment-240158619","issue_url":"https://api.github.com/repos/apache/druid/issues/3367","id":240158619,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MDE1ODYxOQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-16T16:31:32Z","updated_at":"2016-08-16T16:31:32Z","author_association":"CONTRIBUTOR","body":"See https://groups.google.com/d/msg/druid-user/PDYW2TjOaAc/Q29y1Z7JAwAJ for related discussion\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/240158619/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/240161691","html_url":"https://github.com/apache/druid/pull/2708#issuecomment-240161691","issue_url":"https://api.github.com/repos/apache/druid/issues/2708","id":240161691,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MDE2MTY5MQ==","user":{"login":"hamlet-lee","id":12079531,"node_id":"MDQ6VXNlcjEyMDc5NTMx","avatar_url":"https://avatars.githubusercontent.com/u/12079531?v=4","gravatar_id":"","url":"https://api.github.com/users/hamlet-lee","html_url":"https://github.com/hamlet-lee","followers_url":"https://api.github.com/users/hamlet-lee/followers","following_url":"https://api.github.com/users/hamlet-lee/following{/other_user}","gists_url":"https://api.github.com/users/hamlet-lee/gists{/gist_id}","starred_url":"https://api.github.com/users/hamlet-lee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hamlet-lee/subscriptions","organizations_url":"https://api.github.com/users/hamlet-lee/orgs","repos_url":"https://api.github.com/users/hamlet-lee/repos","events_url":"https://api.github.com/users/hamlet-lee/events{/privacy}","received_events_url":"https://api.github.com/users/hamlet-lee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-16T16:42:16Z","updated_at":"2016-08-16T16:42:16Z","author_association":"CONTRIBUTOR","body":"@fjy fixed comments too\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/240161691/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/240165861","html_url":"https://github.com/apache/druid/pull/3365#issuecomment-240165861","issue_url":"https://api.github.com/repos/apache/druid/issues/3365","id":240165861,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MDE2NTg2MQ==","user":{"login":"kaijianding","id":8663725,"node_id":"MDQ6VXNlcjg2NjM3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/8663725?v=4","gravatar_id":"","url":"https://api.github.com/users/kaijianding","html_url":"https://github.com/kaijianding","followers_url":"https://api.github.com/users/kaijianding/followers","following_url":"https://api.github.com/users/kaijianding/following{/other_user}","gists_url":"https://api.github.com/users/kaijianding/gists{/gist_id}","starred_url":"https://api.github.com/users/kaijianding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaijianding/subscriptions","organizations_url":"https://api.github.com/users/kaijianding/orgs","repos_url":"https://api.github.com/users/kaijianding/repos","events_url":"https://api.github.com/users/kaijianding/events{/privacy}","received_events_url":"https://api.github.com/users/kaijianding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-16T16:56:14Z","updated_at":"2016-08-16T16:56:14Z","author_association":"CONTRIBUTOR","body":"There is no need to add new test, the DataSchemaTest has all the needed test.\n\nActually, this bug isn't really a bug, the later code, especially the `Sets.difference(dimensionExclusions, dimSet)`\n\n```\n            inputRowParser.getParseSpec()\n                          .withDimensionsSpec(\n                              dimensionsSpec\n                                  .withDimensionExclusions(\n                                      Sets.difference(dimensionExclusions, dimSet)\n                                  )\n                          )\n```\n\nmakes things right even when the dimensionExclusions is incorrect, that's the reason why it passed the UT before I fixed this bug.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/240165861/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]