[{"url":"https://api.github.com/repos/apache/drill/issues/comments/342038402","html_url":"https://github.com/apache/drill/pull/978#issuecomment-342038402","issue_url":"https://api.github.com/repos/apache/drill/issues/978","id":342038402,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MjAzODQwMg==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-06T03:37:51Z","updated_at":"2017-11-06T03:37:51Z","author_association":"CONTRIBUTOR","body":"@sohami, pushed a commit that addresses your PR comments.\r\n\r\nRegarding the \"one stop shop\" comment. This PR removes the `OperExecContextImpl` class. That class was an earlier attempt to combine the three items into one. Additional experience showed that the existing operator context could do that task instead.\r\n\r\nThis PR did not change existing operators to avoid passing around multiple items. Instead, it allows new code (for the batch size limitation project) to pass just the operator context, and use that to obtain the other two items. The external sort had to be changed because it used the old `OperExecContextImpl` for that purpose, and so the code had to be updated when `OperExecContextImpl` was removed.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/342038402/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/342044425","html_url":"https://github.com/apache/drill/pull/970#issuecomment-342044425","issue_url":"https://api.github.com/repos/apache/drill/issues/970","id":342044425,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MjA0NDQyNQ==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-06T04:34:54Z","updated_at":"2017-11-06T04:34:54Z","author_association":"CONTRIBUTOR","body":"Addressed comments. Rebased on master. Resolved merge conflicts. Squashed commits.\r\n\r\n@ilooner, @sachouche please do a quick final review to check for loose ends.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/342044425/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/342045410","html_url":"https://github.com/apache/drill/pull/978#issuecomment-342045410","issue_url":"https://api.github.com/repos/apache/drill/issues/978","id":342045410,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MjA0NTQxMA==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-06T04:44:24Z","updated_at":"2017-11-06T04:44:24Z","author_association":"CONTRIBUTOR","body":"Rebased and squashed commits.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/342045410/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/342048705","html_url":"https://github.com/apache/drill/pull/1015#issuecomment-342048705","issue_url":"https://api.github.com/repos/apache/drill/issues/1015","id":342048705,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MjA0ODcwNQ==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-06T05:15:46Z","updated_at":"2017-11-06T05:15:46Z","author_association":"CONTRIBUTOR","body":"Second long list of detailed comments sent privately to keep dev list traffic down.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/342048705/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/342056006","html_url":"https://github.com/apache/drill/pull/990#issuecomment-342056006","issue_url":"https://api.github.com/repos/apache/drill/issues/990","id":342056006,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MjA1NjAwNg==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-06T06:14:17Z","updated_at":"2017-11-06T06:14:17Z","author_association":"CONTRIBUTOR","body":"Fixed in planner, so closing this.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/342056006/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/342240071","html_url":"https://github.com/apache/drill/pull/978#issuecomment-342240071","issue_url":"https://api.github.com/repos/apache/drill/issues/978","id":342240071,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MjI0MDA3MQ==","user":{"login":"sohami","id":22159459,"node_id":"MDQ6VXNlcjIyMTU5NDU5","avatar_url":"https://avatars.githubusercontent.com/u/22159459?v=4","gravatar_id":"","url":"https://api.github.com/users/sohami","html_url":"https://github.com/sohami","followers_url":"https://api.github.com/users/sohami/followers","following_url":"https://api.github.com/users/sohami/following{/other_user}","gists_url":"https://api.github.com/users/sohami/gists{/gist_id}","starred_url":"https://api.github.com/users/sohami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sohami/subscriptions","organizations_url":"https://api.github.com/users/sohami/orgs","repos_url":"https://api.github.com/users/sohami/repos","events_url":"https://api.github.com/users/sohami/events{/privacy}","received_events_url":"https://api.github.com/users/sohami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-06T18:25:59Z","updated_at":"2017-11-06T18:25:59Z","author_association":"CONTRIBUTOR","body":"+1 LGTM. \r\nThanks for clarification.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/342240071/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/342269752","html_url":"https://github.com/apache/drill/pull/1023#issuecomment-342269752","issue_url":"https://api.github.com/repos/apache/drill/issues/1023","id":342269752,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MjI2OTc1Mg==","user":{"login":"ilooner","id":8020165,"node_id":"MDQ6VXNlcjgwMjAxNjU=","avatar_url":"https://avatars.githubusercontent.com/u/8020165?v=4","gravatar_id":"","url":"https://api.github.com/users/ilooner","html_url":"https://github.com/ilooner","followers_url":"https://api.github.com/users/ilooner/followers","following_url":"https://api.github.com/users/ilooner/following{/other_user}","gists_url":"https://api.github.com/users/ilooner/gists{/gist_id}","starred_url":"https://api.github.com/users/ilooner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilooner/subscriptions","organizations_url":"https://api.github.com/users/ilooner/orgs","repos_url":"https://api.github.com/users/ilooner/repos","events_url":"https://api.github.com/users/ilooner/events{/privacy}","received_events_url":"https://api.github.com/users/ilooner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-06T20:05:21Z","updated_at":"2017-11-06T20:05:21Z","author_association":"CONTRIBUTOR","body":"@arina-ielchiieva Please let me know if you have any additional comments.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/342269752/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/342342039","html_url":"https://github.com/apache/drill/pull/1021#issuecomment-342342039","issue_url":"https://api.github.com/repos/apache/drill/issues/1021","id":342342039,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MjM0MjAzOQ==","user":{"login":"prasadns14","id":4907022,"node_id":"MDQ6VXNlcjQ5MDcwMjI=","avatar_url":"https://avatars.githubusercontent.com/u/4907022?v=4","gravatar_id":"","url":"https://api.github.com/users/prasadns14","html_url":"https://github.com/prasadns14","followers_url":"https://api.github.com/users/prasadns14/followers","following_url":"https://api.github.com/users/prasadns14/following{/other_user}","gists_url":"https://api.github.com/users/prasadns14/gists{/gist_id}","starred_url":"https://api.github.com/users/prasadns14/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prasadns14/subscriptions","organizations_url":"https://api.github.com/users/prasadns14/orgs","repos_url":"https://api.github.com/users/prasadns14/repos","events_url":"https://api.github.com/users/prasadns14/events{/privacy}","received_events_url":"https://api.github.com/users/prasadns14/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-07T01:09:44Z","updated_at":"2017-11-07T01:09:44Z","author_association":"CONTRIBUTOR","body":"@arina-ielchiieva, made changes to avoid display name duplication. Please review","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/342342039/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/342353052","html_url":"https://github.com/apache/drill/pull/1023#issuecomment-342353052","issue_url":"https://api.github.com/repos/apache/drill/issues/1023","id":342353052,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MjM1MzA1Mg==","user":{"login":"ilooner","id":8020165,"node_id":"MDQ6VXNlcjgwMjAxNjU=","avatar_url":"https://avatars.githubusercontent.com/u/8020165?v=4","gravatar_id":"","url":"https://api.github.com/users/ilooner","html_url":"https://github.com/ilooner","followers_url":"https://api.github.com/users/ilooner/followers","following_url":"https://api.github.com/users/ilooner/following{/other_user}","gists_url":"https://api.github.com/users/ilooner/gists{/gist_id}","starred_url":"https://api.github.com/users/ilooner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilooner/subscriptions","organizations_url":"https://api.github.com/users/ilooner/orgs","repos_url":"https://api.github.com/users/ilooner/repos","events_url":"https://api.github.com/users/ilooner/events{/privacy}","received_events_url":"https://api.github.com/users/ilooner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-07T02:11:31Z","updated_at":"2017-11-07T02:11:31Z","author_association":"CONTRIBUTOR","body":"Applied review comments","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/342353052/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/342448647","html_url":"https://github.com/apache/drill/pull/1021#issuecomment-342448647","issue_url":"https://api.github.com/repos/apache/drill/issues/1021","id":342448647,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MjQ0ODY0Nw==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-07T11:02:29Z","updated_at":"2017-11-07T11:02:29Z","author_association":"MEMBER","body":"@prasadns14 as far as I understood, you made all these changes to replace `completed` with `succeeded`. What if you just make changes in State enum itself, refactor some code and thus no changes in rest part will be required? \r\nFrom UserBitShared.proto\r\n```\r\n\tenum QueryState {\r\n\t  STARTING = 0; // query has been scheduled for execution. This is post-enqueued.\r\n\t  RUNNING = 1;\r\n\t  COMPLETED = 2; // query has completed successfully\r\n\t  CANCELED = 3; // query has been cancelled, and all cleanup is complete\r\n\t  FAILED = 4;\r\n\t  CANCELLATION_REQUESTED = 5; // cancellation has been requested, and is being processed\r\n\t  ENQUEUED = 6; // query has been enqueued. this is pre-starting.\r\n\t}\r\n```\r\nAfter the renaming, please don't forget to regenerate protobuf.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/342448647/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/342648956","html_url":"https://github.com/apache/drill/pull/1015#issuecomment-342648956","issue_url":"https://api.github.com/repos/apache/drill/issues/1015","id":342648956,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MjY0ODk1Ng==","user":{"login":"ppadma","id":1904860,"node_id":"MDQ6VXNlcjE5MDQ4NjA=","avatar_url":"https://avatars.githubusercontent.com/u/1904860?v=4","gravatar_id":"","url":"https://api.github.com/users/ppadma","html_url":"https://github.com/ppadma","followers_url":"https://api.github.com/users/ppadma/followers","following_url":"https://api.github.com/users/ppadma/following{/other_user}","gists_url":"https://api.github.com/users/ppadma/gists{/gist_id}","starred_url":"https://api.github.com/users/ppadma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppadma/subscriptions","organizations_url":"https://api.github.com/users/ppadma/orgs","repos_url":"https://api.github.com/users/ppadma/repos","events_url":"https://api.github.com/users/ppadma/events{/privacy}","received_events_url":"https://api.github.com/users/ppadma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-07T22:44:07Z","updated_at":"2017-11-07T22:44:07Z","author_association":"CONTRIBUTOR","body":"@paul-rogers Thanks a lot for the review. Updated the PR with code review comments. Please take a look. \r\n\r\nOverall, good improvement with this change. Here are the numbers.\r\n\r\nselect count(*) from `/Users/ppenumarthy/MAPRTECH/padma/testdata` where l_comment like '%a' \r\n1.4 sec vs 7 sec\r\n\r\nselect count(*) from `/Users/ppenumarthy/MAPRTECH/padma/testdata` where l_comment like '%a%' \r\n6.5 sec vs 13.5 sec\r\n\r\nselect count(*) from `/Users/ppenumarthy/MAPRTECH/padma/testdata` where l_comment like 'a%' \r\n1.4 sec vs 5.8 sec\r\n\r\nselect count(*) from `/Users/ppenumarthy/MAPRTECH/padma/testdata` where l_comment like 'a' \r\n1.1.65 sec vs 5.8 sec\r\n\r\n\r\nI think for \"contains\", improvement is not as much as others, probably because of nested for loops. @sachouche changes on top of these changes can improve further. \r\n","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/342648956/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/342664242","html_url":"https://github.com/apache/drill/pull/1024#issuecomment-342664242","issue_url":"https://api.github.com/repos/apache/drill/issues/1024","id":342664242,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MjY2NDI0Mg==","user":{"login":"kkhatua","id":4335237,"node_id":"MDQ6VXNlcjQzMzUyMzc=","avatar_url":"https://avatars.githubusercontent.com/u/4335237?v=4","gravatar_id":"","url":"https://api.github.com/users/kkhatua","html_url":"https://github.com/kkhatua","followers_url":"https://api.github.com/users/kkhatua/followers","following_url":"https://api.github.com/users/kkhatua/following{/other_user}","gists_url":"https://api.github.com/users/kkhatua/gists{/gist_id}","starred_url":"https://api.github.com/users/kkhatua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kkhatua/subscriptions","organizations_url":"https://api.github.com/users/kkhatua/orgs","repos_url":"https://api.github.com/users/kkhatua/repos","events_url":"https://api.github.com/users/kkhatua/events{/privacy}","received_events_url":"https://api.github.com/users/kkhatua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-07T23:57:34Z","updated_at":"2017-11-07T23:57:34Z","author_association":"CONTRIBUTOR","body":"@laurentgo Done the changes... ready for review. ","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/342664242/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/342669694","html_url":"https://github.com/apache/drill/pull/904#issuecomment-342669694","issue_url":"https://api.github.com/repos/apache/drill/issues/904","id":342669694,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MjY2OTY5NA==","user":{"login":"weijietong","id":728692,"node_id":"MDQ6VXNlcjcyODY5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/728692?v=4","gravatar_id":"","url":"https://api.github.com/users/weijietong","html_url":"https://github.com/weijietong","followers_url":"https://api.github.com/users/weijietong/followers","following_url":"https://api.github.com/users/weijietong/following{/other_user}","gists_url":"https://api.github.com/users/weijietong/gists{/gist_id}","starred_url":"https://api.github.com/users/weijietong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weijietong/subscriptions","organizations_url":"https://api.github.com/users/weijietong/orgs","repos_url":"https://api.github.com/users/weijietong/repos","events_url":"https://api.github.com/users/weijietong/events{/privacy}","received_events_url":"https://api.github.com/users/weijietong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-08T00:28:40Z","updated_at":"2017-11-08T00:28:40Z","author_association":"NONE","body":"applied the review comments","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/342669694/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/342677212","html_url":"https://github.com/apache/drill/pull/1021#issuecomment-342677212","issue_url":"https://api.github.com/repos/apache/drill/issues/1021","id":342677212,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MjY3NzIxMg==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-08T01:12:09Z","updated_at":"2017-11-08T01:12:09Z","author_association":"CONTRIBUTOR","body":"@arina-ielchiieva, @prasadns14, here is my two cents.\r\n\r\nThe names and numbers used in the protobuf definitions are part of Drill's public network API. This API is not versioned, so we can't really change it. If we changed the names, then, say, C-code or Java code that expects the old names will break. Being part of the public API, that code may not even be in the Drill source tree; perhaps someone has generated, say, a Python binding. So, can't change the public API.\r\n\r\nFor purely aesthetic reasons, the contributor wishes to change the message displayed in the UI. This is purely a UI decision (the user is not expected to map the display names to the Protobuf enums.) And, the display name is subject to change. Maybe other UIs want to use other names. Maybe we want to show icons, or abbreviate the names (\"Fail\", \"OK\", etc.) And, of course, what if the display name should have spaces other characters: \"In Progress\", \"In Queue\" or \"Didn't Work!\". Can't put those in enum names. You get the idea.\r\n\r\nFor this reason, the mapping from enum values to display names should be part of the UI, not the network protocol definition. The present change provides a UI-specific mapping from API Protobuf enum values to display strings, which seems like a good idea.\r\n\r\nSo, the key questions are:\r\n\r\n* Should we use display strings other than the Protobuf constants (seems a good idea.)\r\n* Should we do the mapping in Java or in Freemarker? (Java seems simpler.)\r\n\r\nThoughts?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/342677212/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/342677296","html_url":"https://github.com/apache/drill/pull/1028#issuecomment-342677296","issue_url":"https://api.github.com/repos/apache/drill/issues/1028","id":342677296,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MjY3NzI5Ng==","user":{"login":"sohami","id":22159459,"node_id":"MDQ6VXNlcjIyMTU5NDU5","avatar_url":"https://avatars.githubusercontent.com/u/22159459?v=4","gravatar_id":"","url":"https://api.github.com/users/sohami","html_url":"https://github.com/sohami","followers_url":"https://api.github.com/users/sohami/followers","following_url":"https://api.github.com/users/sohami/following{/other_user}","gists_url":"https://api.github.com/users/sohami/gists{/gist_id}","starred_url":"https://api.github.com/users/sohami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sohami/subscriptions","organizations_url":"https://api.github.com/users/sohami/orgs","repos_url":"https://api.github.com/users/sohami/repos","events_url":"https://api.github.com/users/sohami/events{/privacy}","received_events_url":"https://api.github.com/users/sohami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-08T01:12:36Z","updated_at":"2017-11-08T01:12:36Z","author_association":"CONTRIBUTOR","body":"@parthchandra & @laurentgo - Please help to review this PR.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/342677296/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/342695344","html_url":"https://github.com/apache/drill/pull/1015#issuecomment-342695344","issue_url":"https://api.github.com/repos/apache/drill/issues/1015","id":342695344,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MjY5NTM0NA==","user":{"login":"ppadma","id":1904860,"node_id":"MDQ6VXNlcjE5MDQ4NjA=","avatar_url":"https://avatars.githubusercontent.com/u/1904860?v=4","gravatar_id":"","url":"https://api.github.com/users/ppadma","html_url":"https://github.com/ppadma","followers_url":"https://api.github.com/users/ppadma/followers","following_url":"https://api.github.com/users/ppadma/following{/other_user}","gists_url":"https://api.github.com/users/ppadma/gists{/gist_id}","starred_url":"https://api.github.com/users/ppadma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppadma/subscriptions","organizations_url":"https://api.github.com/users/ppadma/orgs","repos_url":"https://api.github.com/users/ppadma/repos","events_url":"https://api.github.com/users/ppadma/events{/privacy}","received_events_url":"https://api.github.com/users/ppadma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-08T02:59:12Z","updated_at":"2017-11-08T02:59:12Z","author_association":"CONTRIBUTOR","body":"@paul-rogers updated with latest review comments taken care of. Please take a look.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/342695344/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/342742865","html_url":"https://github.com/apache/drill/pull/1021#issuecomment-342742865","issue_url":"https://api.github.com/repos/apache/drill/issues/1021","id":342742865,"node_id":"MDEyOklzc3VlQ29tbWVudDM0Mjc0Mjg2NQ==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-08T08:16:33Z","updated_at":"2017-11-08T08:16:33Z","author_association":"MEMBER","body":"@paul-rogers totally agree with your comments about public API (slipped from my mind when I was writing comment yesterday). I guess then it's fine to go with changes Prasad suggests, I just have left a couple of suggestions to make code clearer.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/342742865/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/342927717","html_url":"https://github.com/apache/drill/pull/889#issuecomment-342927717","issue_url":"https://api.github.com/repos/apache/drill/issues/889","id":342927717,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MjkyNzcxNw==","user":{"login":"amansinha100","id":6034475,"node_id":"MDQ6VXNlcjYwMzQ0NzU=","avatar_url":"https://avatars.githubusercontent.com/u/6034475?v=4","gravatar_id":"","url":"https://api.github.com/users/amansinha100","html_url":"https://github.com/amansinha100","followers_url":"https://api.github.com/users/amansinha100/followers","following_url":"https://api.github.com/users/amansinha100/following{/other_user}","gists_url":"https://api.github.com/users/amansinha100/gists{/gist_id}","starred_url":"https://api.github.com/users/amansinha100/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amansinha100/subscriptions","organizations_url":"https://api.github.com/users/amansinha100/orgs","repos_url":"https://api.github.com/users/amansinha100/repos","events_url":"https://api.github.com/users/amansinha100/events{/privacy}","received_events_url":"https://api.github.com/users/amansinha100/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-08T19:14:05Z","updated_at":"2017-11-08T19:14:05Z","author_association":"NONE","body":"@weijietong I ran the functional tests with the PR and saw some failures.  While debugging those failures, I found the simple scalar aggregate case works but anything with compound aggregate expressions  throws a CannotPlanException, for example:  \r\n\r\nexplain plan for select count(*) from cp.`tpch/lineitem.parquet` l where l_quantity < (select max(l2.l_quantity) + 1 from cp.`tpch/lineitem.parquet` l2)\r\n \r\nHere, the right side of the inequality join is actually a scalar but the JoinUtils.isScalar() method does not detect it correctly.  The reason is the right side is a DrillProjectRel whose input is a RelSubSet.  The RelSubSet has a DrillAggregateRel but it looks like currently Calcite does not detect this is a scalar aggregate if it occurs as part of a RelSubSet.   I see Calcite has a comment in [1] which points to an open JIRA CALCITE-1048.  \r\n\r\n[1] https://github.com/apache/calcite/blob/master/core/src/main/java/org/apache/calcite/rel/metadata/RelMdMaxRowCount.java#L165","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/342927717/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/342934561","html_url":"https://github.com/apache/drill/pull/889#issuecomment-342934561","issue_url":"https://api.github.com/repos/apache/drill/issues/889","id":342934561,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MjkzNDU2MQ==","user":{"login":"amansinha100","id":6034475,"node_id":"MDQ6VXNlcjYwMzQ0NzU=","avatar_url":"https://avatars.githubusercontent.com/u/6034475?v=4","gravatar_id":"","url":"https://api.github.com/users/amansinha100","html_url":"https://github.com/amansinha100","followers_url":"https://api.github.com/users/amansinha100/followers","following_url":"https://api.github.com/users/amansinha100/following{/other_user}","gists_url":"https://api.github.com/users/amansinha100/gists{/gist_id}","starred_url":"https://api.github.com/users/amansinha100/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amansinha100/subscriptions","organizations_url":"https://api.github.com/users/amansinha100/orgs","repos_url":"https://api.github.com/users/amansinha100/repos","events_url":"https://api.github.com/users/amansinha100/events{/privacy}","received_events_url":"https://api.github.com/users/amansinha100/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-08T19:37:38Z","updated_at":"2017-11-08T19:37:38Z","author_association":"NONE","body":"@weijietong I am interested in getting your basic changes in.  It is unfortunate we are running into this issue with RelSubSet.  Let me see if I can make some changes on top of your changes  (I will keep your authorship) and have it pass all our functional regression tests. ","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/342934561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/343028659","html_url":"https://github.com/apache/drill/pull/1029#issuecomment-343028659","issue_url":"https://api.github.com/repos/apache/drill/issues/1029","id":343028659,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzAyODY1OQ==","user":{"login":"kkhatua","id":4335237,"node_id":"MDQ6VXNlcjQzMzUyMzc=","avatar_url":"https://avatars.githubusercontent.com/u/4335237?v=4","gravatar_id":"","url":"https://api.github.com/users/kkhatua","html_url":"https://github.com/kkhatua","followers_url":"https://api.github.com/users/kkhatua/followers","following_url":"https://api.github.com/users/kkhatua/following{/other_user}","gists_url":"https://api.github.com/users/kkhatua/gists{/gist_id}","starred_url":"https://api.github.com/users/kkhatua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kkhatua/subscriptions","organizations_url":"https://api.github.com/users/kkhatua/orgs","repos_url":"https://api.github.com/users/kkhatua/repos","events_url":"https://api.github.com/users/kkhatua/events{/privacy}","received_events_url":"https://api.github.com/users/kkhatua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-09T02:31:38Z","updated_at":"2017-11-09T02:31:38Z","author_association":"CONTRIBUTOR","body":"@arina-ielchiieva / @paul-rogers Please review this.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/343028659/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/343068167","html_url":"https://github.com/apache/drill/pull/1021#issuecomment-343068167","issue_url":"https://api.github.com/repos/apache/drill/issues/1021","id":343068167,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzA2ODE2Nw==","user":{"login":"prasadns14","id":4907022,"node_id":"MDQ6VXNlcjQ5MDcwMjI=","avatar_url":"https://avatars.githubusercontent.com/u/4907022?v=4","gravatar_id":"","url":"https://api.github.com/users/prasadns14","html_url":"https://github.com/prasadns14","followers_url":"https://api.github.com/users/prasadns14/followers","following_url":"https://api.github.com/users/prasadns14/following{/other_user}","gists_url":"https://api.github.com/users/prasadns14/gists{/gist_id}","starred_url":"https://api.github.com/users/prasadns14/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prasadns14/subscriptions","organizations_url":"https://api.github.com/users/prasadns14/orgs","repos_url":"https://api.github.com/users/prasadns14/repos","events_url":"https://api.github.com/users/prasadns14/events{/privacy}","received_events_url":"https://api.github.com/users/prasadns14/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-09T07:19:29Z","updated_at":"2017-11-09T07:19:29Z","author_association":"CONTRIBUTOR","body":"@arina-ielchiieva, please review","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/343068167/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/343143738","html_url":"https://github.com/apache/drill/pull/1026#issuecomment-343143738","issue_url":"https://api.github.com/repos/apache/drill/issues/1026","id":343143738,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzE0MzczOA==","user":{"login":"vladimirtkach","id":10295844,"node_id":"MDQ6VXNlcjEwMjk1ODQ0","avatar_url":"https://avatars.githubusercontent.com/u/10295844?v=4","gravatar_id":"","url":"https://api.github.com/users/vladimirtkach","html_url":"https://github.com/vladimirtkach","followers_url":"https://api.github.com/users/vladimirtkach/followers","following_url":"https://api.github.com/users/vladimirtkach/following{/other_user}","gists_url":"https://api.github.com/users/vladimirtkach/gists{/gist_id}","starred_url":"https://api.github.com/users/vladimirtkach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vladimirtkach/subscriptions","organizations_url":"https://api.github.com/users/vladimirtkach/orgs","repos_url":"https://api.github.com/users/vladimirtkach/repos","events_url":"https://api.github.com/users/vladimirtkach/events{/privacy}","received_events_url":"https://api.github.com/users/vladimirtkach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-09T12:44:49Z","updated_at":"2017-11-09T12:44:49Z","author_association":"CONTRIBUTOR","body":"@arina-ielchiieva made code changes according to your comments.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/343143738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/343151995","html_url":"https://github.com/apache/drill/pull/904#issuecomment-343151995","issue_url":"https://api.github.com/repos/apache/drill/issues/904","id":343151995,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzE1MTk5NQ==","user":{"login":"weijietong","id":728692,"node_id":"MDQ6VXNlcjcyODY5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/728692?v=4","gravatar_id":"","url":"https://api.github.com/users/weijietong","html_url":"https://github.com/weijietong","followers_url":"https://api.github.com/users/weijietong/followers","following_url":"https://api.github.com/users/weijietong/following{/other_user}","gists_url":"https://api.github.com/users/weijietong/gists{/gist_id}","starred_url":"https://api.github.com/users/weijietong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weijietong/subscriptions","organizations_url":"https://api.github.com/users/weijietong/orgs","repos_url":"https://api.github.com/users/weijietong/repos","events_url":"https://api.github.com/users/weijietong/events{/privacy}","received_events_url":"https://api.github.com/users/weijietong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-09T13:19:43Z","updated_at":"2017-11-09T13:19:43Z","author_association":"NONE","body":"done","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/343151995/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/343156708","html_url":"https://github.com/apache/drill/pull/1026#issuecomment-343156708","issue_url":"https://api.github.com/repos/apache/drill/issues/1026","id":343156708,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzE1NjcwOA==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-09T13:38:50Z","updated_at":"2017-11-09T13:38:50Z","author_association":"MEMBER","body":"Thanks, +1, LGTM.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/343156708/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/343180163","html_url":"https://github.com/apache/drill/pull/1030#issuecomment-343180163","issue_url":"https://api.github.com/repos/apache/drill/issues/1030","id":343180163,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzE4MDE2Mw==","user":{"login":"priteshm","id":1015719,"node_id":"MDQ6VXNlcjEwMTU3MTk=","avatar_url":"https://avatars.githubusercontent.com/u/1015719?v=4","gravatar_id":"","url":"https://api.github.com/users/priteshm","html_url":"https://github.com/priteshm","followers_url":"https://api.github.com/users/priteshm/followers","following_url":"https://api.github.com/users/priteshm/following{/other_user}","gists_url":"https://api.github.com/users/priteshm/gists{/gist_id}","starred_url":"https://api.github.com/users/priteshm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/priteshm/subscriptions","organizations_url":"https://api.github.com/users/priteshm/orgs","repos_url":"https://api.github.com/users/priteshm/repos","events_url":"https://api.github.com/users/priteshm/events{/privacy}","received_events_url":"https://api.github.com/users/priteshm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-09T14:59:14Z","updated_at":"2017-11-09T14:59:14Z","author_association":"NONE","body":"@ppadma can you review this?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/343180163/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/343180967","html_url":"https://github.com/apache/drill/pull/1014#issuecomment-343180967","issue_url":"https://api.github.com/repos/apache/drill/issues/1014","id":343180967,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzE4MDk2Nw==","user":{"login":"priteshm","id":1015719,"node_id":"MDQ6VXNlcjEwMTU3MTk=","avatar_url":"https://avatars.githubusercontent.com/u/1015719?v=4","gravatar_id":"","url":"https://api.github.com/users/priteshm","html_url":"https://github.com/priteshm","followers_url":"https://api.github.com/users/priteshm/followers","following_url":"https://api.github.com/users/priteshm/following{/other_user}","gists_url":"https://api.github.com/users/priteshm/gists{/gist_id}","starred_url":"https://api.github.com/users/priteshm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/priteshm/subscriptions","organizations_url":"https://api.github.com/users/priteshm/orgs","repos_url":"https://api.github.com/users/priteshm/repos","events_url":"https://api.github.com/users/priteshm/events{/privacy}","received_events_url":"https://api.github.com/users/priteshm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-09T15:01:32Z","updated_at":"2017-11-09T15:01:32Z","author_association":"NONE","body":"@ilooner can you please review this?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/343180967/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/343190676","html_url":"https://github.com/apache/drill/pull/1020#issuecomment-343190676","issue_url":"https://api.github.com/repos/apache/drill/issues/1020","id":343190676,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzE5MDY3Ng==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-09T15:31:19Z","updated_at":"2017-11-09T15:31:19Z","author_association":"MEMBER","body":"+1, LGTM.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/343190676/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/343190681","html_url":"https://github.com/apache/drill/pull/904#issuecomment-343190681","issue_url":"https://api.github.com/repos/apache/drill/issues/904","id":343190681,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzE5MDY4MQ==","user":{"login":"vvysotskyi","id":20928429,"node_id":"MDQ6VXNlcjIwOTI4NDI5","avatar_url":"https://avatars.githubusercontent.com/u/20928429?v=4","gravatar_id":"","url":"https://api.github.com/users/vvysotskyi","html_url":"https://github.com/vvysotskyi","followers_url":"https://api.github.com/users/vvysotskyi/followers","following_url":"https://api.github.com/users/vvysotskyi/following{/other_user}","gists_url":"https://api.github.com/users/vvysotskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/vvysotskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvysotskyi/subscriptions","organizations_url":"https://api.github.com/users/vvysotskyi/orgs","repos_url":"https://api.github.com/users/vvysotskyi/repos","events_url":"https://api.github.com/users/vvysotskyi/events{/privacy}","received_events_url":"https://api.github.com/users/vvysotskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-09T15:31:20Z","updated_at":"2017-11-09T15:31:20Z","author_association":"MEMBER","body":"@weijietong, thanks for the pull request, +1","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/343190681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/343241974","html_url":"https://github.com/apache/drill/pull/1029#issuecomment-343241974","issue_url":"https://api.github.com/repos/apache/drill/issues/1029","id":343241974,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzI0MTk3NA==","user":{"login":"kkhatua","id":4335237,"node_id":"MDQ6VXNlcjQzMzUyMzc=","avatar_url":"https://avatars.githubusercontent.com/u/4335237?v=4","gravatar_id":"","url":"https://api.github.com/users/kkhatua","html_url":"https://github.com/kkhatua","followers_url":"https://api.github.com/users/kkhatua/followers","following_url":"https://api.github.com/users/kkhatua/following{/other_user}","gists_url":"https://api.github.com/users/kkhatua/gists{/gist_id}","starred_url":"https://api.github.com/users/kkhatua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kkhatua/subscriptions","organizations_url":"https://api.github.com/users/kkhatua/orgs","repos_url":"https://api.github.com/users/kkhatua/repos","events_url":"https://api.github.com/users/kkhatua/events{/privacy}","received_events_url":"https://api.github.com/users/kkhatua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-09T18:11:55Z","updated_at":"2017-11-09T18:11:55Z","author_association":"CONTRIBUTOR","body":"Snapshot when rendering the defaults (10 per page) from a pre-loaded set of the latest 123 profiles\r\n![image](https://user-images.githubusercontent.com/4335237/32621917-412a90ba-c536-11e7-9d51-83220ce072d3.png)\r\nThe query snippet is restricted to 8 lines at most and indicates if there is more to the query text with a trailing set of `...`","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/343241974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/343242597","html_url":"https://github.com/apache/drill/pull/1029#issuecomment-343242597","issue_url":"https://api.github.com/repos/apache/drill/issues/1029","id":343242597,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzI0MjU5Nw==","user":{"login":"kkhatua","id":4335237,"node_id":"MDQ6VXNlcjQzMzUyMzc=","avatar_url":"https://avatars.githubusercontent.com/u/4335237?v=4","gravatar_id":"","url":"https://api.github.com/users/kkhatua","html_url":"https://github.com/kkhatua","followers_url":"https://api.github.com/users/kkhatua/followers","following_url":"https://api.github.com/users/kkhatua/following{/other_user}","gists_url":"https://api.github.com/users/kkhatua/gists{/gist_id}","starred_url":"https://api.github.com/users/kkhatua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kkhatua/subscriptions","organizations_url":"https://api.github.com/users/kkhatua/orgs","repos_url":"https://api.github.com/users/kkhatua/repos","events_url":"https://api.github.com/users/kkhatua/events{/privacy}","received_events_url":"https://api.github.com/users/kkhatua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-09T18:13:48Z","updated_at":"2017-11-09T18:13:48Z","author_association":"CONTRIBUTOR","body":"Snapshot when testing with search filter for FAILED queries and navigating to page 2 of that list. Information about the number of filtered items, etc is also provided.\r\n![image](https://user-images.githubusercontent.com/4335237/32622085-a8826c56-c536-11e7-9a18-7a09142b250e.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/343242597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/343257086","html_url":"https://github.com/apache/drill/pull/1021#issuecomment-343257086","issue_url":"https://api.github.com/repos/apache/drill/issues/1021","id":343257086,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzI1NzA4Ng==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-09T19:02:47Z","updated_at":"2017-11-09T19:02:47Z","author_association":"CONTRIBUTOR","body":"@arina-ielchiieva, it helps to think about the source of the enum. This is a Protobuf enum. The ordinal values cannot change; they are a contract between sender and receiver. We can add new ones, or retire old ones, but otherwise the values are frozen in time.\r\n\r\nThe array approach captures this reality. We could document the array better:\r\n```\r\nString displayNames[] = {\r\n  \"First Value\", // FIRST_VALUE = 0\r\n  \"Second Value\", // SECOND_VALUE = 1\r\n  ...\r\n};\r\n```\r\nWe can also do a bounds check:\r\n```\r\nif (enumValue.ordinal() >= displayNames.length) {\r\n  return enumValue.toString();\r\nelse\r\n  return displayNames[enumValue.ordinal());\r\n}\r\n```\r\nBut, IMHO a map seems overkill for such a simple task. Yes, it works, but is unnecessary. As they say, \"make it as simple as possible (but no simpler).\"","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/343257086/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/343290194","html_url":"https://github.com/apache/drill/pull/1021#issuecomment-343290194","issue_url":"https://api.github.com/repos/apache/drill/issues/1021","id":343290194,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzI5MDE5NA==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-09T21:02:05Z","updated_at":"2017-11-09T21:02:05Z","author_association":"MEMBER","body":"Well, I don't have strong preference here, we can use array, as long as Prasad makes it nicely documented as in your example rather then in one line.\r\n```\r\nString displayNames[] = {\r\n  \"First Value\", // FIRST_VALUE = 0\r\n  \"Second Value\", // SECOND_VALUE = 1\r\n  ...\r\n};\r\n```","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/343290194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/343338127","html_url":"https://github.com/apache/drill/pull/1025#issuecomment-343338127","issue_url":"https://api.github.com/repos/apache/drill/issues/1025","id":343338127,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzMzODEyNw==","user":{"login":"priteshm","id":1015719,"node_id":"MDQ6VXNlcjEwMTU3MTk=","avatar_url":"https://avatars.githubusercontent.com/u/1015719?v=4","gravatar_id":"","url":"https://api.github.com/users/priteshm","html_url":"https://github.com/priteshm","followers_url":"https://api.github.com/users/priteshm/followers","following_url":"https://api.github.com/users/priteshm/following{/other_user}","gists_url":"https://api.github.com/users/priteshm/gists{/gist_id}","starred_url":"https://api.github.com/users/priteshm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/priteshm/subscriptions","organizations_url":"https://api.github.com/users/priteshm/orgs","repos_url":"https://api.github.com/users/priteshm/repos","events_url":"https://api.github.com/users/priteshm/events{/privacy}","received_events_url":"https://api.github.com/users/priteshm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-10T00:37:10Z","updated_at":"2017-11-10T00:37:10Z","author_association":"NONE","body":"@amansinha100 can you review this change?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/343338127/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/343347185","html_url":"https://github.com/apache/drill/pull/1014#issuecomment-343347185","issue_url":"https://api.github.com/repos/apache/drill/issues/1014","id":343347185,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzM0NzE4NQ==","user":{"login":"ilooner","id":8020165,"node_id":"MDQ6VXNlcjgwMjAxNjU=","avatar_url":"https://avatars.githubusercontent.com/u/8020165?v=4","gravatar_id":"","url":"https://api.github.com/users/ilooner","html_url":"https://github.com/ilooner","followers_url":"https://api.github.com/users/ilooner/followers","following_url":"https://api.github.com/users/ilooner/following{/other_user}","gists_url":"https://api.github.com/users/ilooner/gists{/gist_id}","starred_url":"https://api.github.com/users/ilooner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilooner/subscriptions","organizations_url":"https://api.github.com/users/ilooner/orgs","repos_url":"https://api.github.com/users/ilooner/repos","events_url":"https://api.github.com/users/ilooner/events{/privacy}","received_events_url":"https://api.github.com/users/ilooner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-10T01:29:07Z","updated_at":"2017-11-10T01:29:45Z","author_association":"CONTRIBUTOR","body":"@arina-ielchiieva \r\n\r\n- The parts addressing DRILL-4640 and DRILL-5166 LGTM\r\n- I think the fix for DRILL-5771 LGTM but I would like write down what I think is happening and confirm with you that my understanding is correct. This is mostly just a learning exercise for me since I am not very familiar with this part of the code :).\r\n\r\nIn DRILL-5771 there were two issues.\r\n\r\n## Race Conditions With Format Plugins\r\n\r\n### Issue\r\n\r\nThe following used to happen before the fix:\r\n\r\n  1. When using an existing format plugin, the **FormatPlugin** would create a **DrillTable** with a **NamedFormatPluginConfig** which only contains the name of the format plugin to use.\r\n  1. The **ScanOperator** created for a **DrillTable** will contain the **NamedFormatPluginConfig**\r\n  1. When the **ScanOperators** are serialized in to the physical plan the serialized **ScanOperator** will only contain the name of the format plugin to use.\r\n  1. When a worker deserializes the physical plan to do a scan, he gets the name of the **FormatPluginConfig** to use.\r\n  1. The worker then looks up the correct **FormatPlugin** in the **FormatCreator** using the name he has.\r\n  1. The worker can get into trouble if the **FormatPlugins** he has cached in his **FormatCreator** is out of sync with the rest of the cluster.\r\n\r\n### Fix\r\n\r\nRace conditions are eliminated because the **DrillTables** returned by the **FormatPlugins** no longer contain a **NamedFormatPluginConfig**, they contain the full **FormatPluginConfig** not just a name alias. So when a query is executed:\r\n  1. The ScanOperator contains the complete **FormatPluginConfig**\r\n  1. When the physical plan is serialized it contains the complete **FormatPluginConfig** for each scan operator.\r\n  1. When a worker node deserializes the ScanOperator it also has the complete **FormatPluginConfig** so it can reconstruct the **FormatPlugin** correctly, whereas previously the worker would have to do a lookup using the **FormatPlugin** name in the **FormatCreator** when the cache in the **FormatCreator** may be out of sync with the rest of the cluster. \r\n\r\n## FormatPluginConfig Equals and HashCode\r\n\r\n### Issue\r\n\r\nThe **FileSystemPlugin** looks up **FormatPlugins** corresponding to a **FormatPluginConfig** in formatPluginsByConfig. However, the **FormatPluginConfig** implementations didn't override equals and hashCode.\r\n\r\nPlease let me know if this looks right or if I misunderstood something :)","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/343347185/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/343349079","html_url":"https://github.com/apache/drill/pull/1014#issuecomment-343349079","issue_url":"https://api.github.com/repos/apache/drill/issues/1014","id":343349079,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzM0OTA3OQ==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-10T01:40:07Z","updated_at":"2017-11-10T01:44:47Z","author_association":"CONTRIBUTOR","body":"Not sure the description here is entirely correct. Let's separate two concepts: the plugin (code) and the plugin definition (the stuff in JSON.)\r\n\r\nPlugin definitions are stored in ZK and retrieved by the Foreman. There may be some form of race condition in the Foreman, but that's not my focus here.\r\n\r\nThe plugin *definition* is read by the Forman and (unless I'm mistaken) serialized into the physical plan. Each worker reads the definition from the physical plan. For this reason, the worker's definition can never be out of date: it is the definition used when serializing the plan.\r\n\r\nFurther, Drill allows table functions which provide query-time name/value pair settings for format plugin properties. The only way these can work is to be serialized along with the query. So, the actual serialized format plugin definition, included with the query, includes both the ZK information and the table function information.\r\n\r\nSo, the definitions can never be out of date on a worker relative to the cluster. In fact, this solution gracefully handles the following sequence:\r\n\r\n* Query Q is submitted that refers to plugin definition D.\r\n* Another user changes plugin definition D.\r\n* Query Q starts executing on workers.\r\n\r\nThe definition that query Q uses is the one found when Q was planned, not the updated version.\r\n\r\nNow, let's consider code. Plugin code is part of the Drill distribution. At present, Drill does not allow dynamically adding plugins. Drill also does not allow mixed-version clusters. So, there is no concern about node N1 using version x of a plugin code, and node N2 using version y. Drill simply does not support anything that would allow the system to get into this state. (Though, perhaps Drill should to allow rolling upgrades, but that is another topic.)","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/343349079/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/343354010","html_url":"https://github.com/apache/drill/pull/1028#issuecomment-343354010","issue_url":"https://api.github.com/repos/apache/drill/issues/1028","id":343354010,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzM1NDAxMA==","user":{"login":"sohami","id":22159459,"node_id":"MDQ6VXNlcjIyMTU5NDU5","avatar_url":"https://avatars.githubusercontent.com/u/22159459?v=4","gravatar_id":"","url":"https://api.github.com/users/sohami","html_url":"https://github.com/sohami","followers_url":"https://api.github.com/users/sohami/followers","following_url":"https://api.github.com/users/sohami/following{/other_user}","gists_url":"https://api.github.com/users/sohami/gists{/gist_id}","starred_url":"https://api.github.com/users/sohami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sohami/subscriptions","organizations_url":"https://api.github.com/users/sohami/orgs","repos_url":"https://api.github.com/users/sohami/repos","events_url":"https://api.github.com/users/sohami/events{/privacy}","received_events_url":"https://api.github.com/users/sohami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-10T02:11:35Z","updated_at":"2017-11-10T02:11:35Z","author_association":"CONTRIBUTOR","body":"@laurentgo  - Thanks for the review. Updated PR based on comment.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/343354010/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/343363566","html_url":"https://github.com/apache/drill/pull/1021#issuecomment-343363566","issue_url":"https://api.github.com/repos/apache/drill/issues/1021","id":343363566,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzM2MzU2Ng==","user":{"login":"prasadns14","id":4907022,"node_id":"MDQ6VXNlcjQ5MDcwMjI=","avatar_url":"https://avatars.githubusercontent.com/u/4907022?v=4","gravatar_id":"","url":"https://api.github.com/users/prasadns14","html_url":"https://github.com/prasadns14","followers_url":"https://api.github.com/users/prasadns14/followers","following_url":"https://api.github.com/users/prasadns14/following{/other_user}","gists_url":"https://api.github.com/users/prasadns14/gists{/gist_id}","starred_url":"https://api.github.com/users/prasadns14/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prasadns14/subscriptions","organizations_url":"https://api.github.com/users/prasadns14/orgs","repos_url":"https://api.github.com/users/prasadns14/repos","events_url":"https://api.github.com/users/prasadns14/events{/privacy}","received_events_url":"https://api.github.com/users/prasadns14/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-10T03:18:18Z","updated_at":"2017-11-10T03:18:18Z","author_association":"CONTRIBUTOR","body":"@arina-ielchiieva, @paul-rogers \r\nReverted to the array approach, also added documentation.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/343363566/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/343379729","html_url":"https://github.com/apache/drill/pull/889#issuecomment-343379729","issue_url":"https://api.github.com/repos/apache/drill/issues/889","id":343379729,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzM3OTcyOQ==","user":{"login":"weijietong","id":728692,"node_id":"MDQ6VXNlcjcyODY5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/728692?v=4","gravatar_id":"","url":"https://api.github.com/users/weijietong","html_url":"https://github.com/weijietong","followers_url":"https://api.github.com/users/weijietong/followers","following_url":"https://api.github.com/users/weijietong/following{/other_user}","gists_url":"https://api.github.com/users/weijietong/gists{/gist_id}","starred_url":"https://api.github.com/users/weijietong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weijietong/subscriptions","organizations_url":"https://api.github.com/users/weijietong/orgs","repos_url":"https://api.github.com/users/weijietong/repos","events_url":"https://api.github.com/users/weijietong/events{/privacy}","received_events_url":"https://api.github.com/users/weijietong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-10T05:38:23Z","updated_at":"2017-11-10T05:38:23Z","author_association":"NONE","body":"@amansinha100 thanks for sharing the information.  Got your point. I think your propose on  [CALCITE-1048](https://issues.apache.org/jira/browse/CALCITE-1048) is possible. Since [CALCITE-794](https://issues.apache.org/jira/browse/CALCITE-794) has completed at version 1.6 ,it seems there's a more perfect solution( to get the least max number of all the rels of the RelSubSet). But due to Drill's Caclite version is still based on 1.4 , I support your current temp solution. Only wonder that whether the explicitly searched RelNode's (such as DrillAggregateRel) maxRowCount can represent the best RelNode's maxRowCount ?  ","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/343379729/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/343552795","html_url":"https://github.com/apache/drill/pull/1014#issuecomment-343552795","issue_url":"https://api.github.com/repos/apache/drill/issues/1014","id":343552795,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzU1Mjc5NQ==","user":{"login":"ilooner","id":8020165,"node_id":"MDQ6VXNlcjgwMjAxNjU=","avatar_url":"https://avatars.githubusercontent.com/u/8020165?v=4","gravatar_id":"","url":"https://api.github.com/users/ilooner","html_url":"https://github.com/ilooner","followers_url":"https://api.github.com/users/ilooner/followers","following_url":"https://api.github.com/users/ilooner/following{/other_user}","gists_url":"https://api.github.com/users/ilooner/gists{/gist_id}","starred_url":"https://api.github.com/users/ilooner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilooner/subscriptions","organizations_url":"https://api.github.com/users/ilooner/orgs","repos_url":"https://api.github.com/users/ilooner/repos","events_url":"https://api.github.com/users/ilooner/events{/privacy}","received_events_url":"https://api.github.com/users/ilooner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-10T18:39:23Z","updated_at":"2017-11-10T18:39:23Z","author_association":"CONTRIBUTOR","body":"@paul-rogers I follow your explanation except for the last paragraph.\r\n\r\nThe Drill UI let's me update storage plugins and their formatters at runtime (at least on my laptop) by going to **Storage** tab and clicking on **Update** for a plugin. It also let's me add storage plugins provided the necessary jars are in the classpath. I thought the goal of this change was to address the fact that such a runtime update cannot be propagated to the cluster atomically, so it is unreliable to reference a FormatPluginConfig by name (which was done previously). It is, however, safe to copy the entire FormatPluginConfig into the query plan as you said. Is this accurate?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/343552795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/343561822","html_url":"https://github.com/apache/drill/pull/1025#issuecomment-343561822","issue_url":"https://api.github.com/repos/apache/drill/issues/1025","id":343561822,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzU2MTgyMg==","user":{"login":"amansinha100","id":6034475,"node_id":"MDQ6VXNlcjYwMzQ0NzU=","avatar_url":"https://avatars.githubusercontent.com/u/6034475?v=4","gravatar_id":"","url":"https://api.github.com/users/amansinha100","html_url":"https://github.com/amansinha100","followers_url":"https://api.github.com/users/amansinha100/followers","following_url":"https://api.github.com/users/amansinha100/following{/other_user}","gists_url":"https://api.github.com/users/amansinha100/gists{/gist_id}","starred_url":"https://api.github.com/users/amansinha100/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amansinha100/subscriptions","organizations_url":"https://api.github.com/users/amansinha100/orgs","repos_url":"https://api.github.com/users/amansinha100/repos","events_url":"https://api.github.com/users/amansinha100/events{/privacy}","received_events_url":"https://api.github.com/users/amansinha100/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-10T19:18:35Z","updated_at":"2017-11-10T19:18:35Z","author_association":"NONE","body":"+1  with a minor comment.   In the commit message and JIRA it would be better to say 'code inspection'  instead of code review which may be interpreted to mean the normal code review process. ","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/343561822/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/343566718","html_url":"https://github.com/apache/drill/pull/1014#issuecomment-343566718","issue_url":"https://api.github.com/repos/apache/drill/issues/1014","id":343566718,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzU2NjcxOA==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-10T19:39:23Z","updated_at":"2017-11-10T19:39:23Z","author_association":"CONTRIBUTOR","body":"@ilooner, there are two phases of issues. The problem is in the planner, but we've been talking about serialization out to the workers.\r\n\r\nHere, we can learn from the work Arina did with dynamic UDFs, especially in the synchronization aspects as it has potential challenges similar to what we have here.\r\n\r\nLet's walk through the lifecycle.\r\n\r\n* User A defines a storage plugin config, call it P.\r\n* User B else runs a query Q that references P.\r\n* At the same time, user A changes P to P'.\r\n* Query Q is distributed to nodes.\r\n* At the same time, user A changes P again to produce P''.\r\n\r\nThis is a classic distributed system synchronization problem. As we discussed, once the query is planned, the contents of the plugin definition are serialized as part of the physical plan for each fragment. As a result we \"freeze\" the contents of P at the time of serialization.\r\n\r\nThe problem that Arina seems to be describing is during planning. Rather than taking a copy of P at some fixed point in time, then always using that copy; we seem to be holding a named reference to P. This introduces the obvious synchronization issues.\r\n\r\nSo, what we should do is, once a query resolves P, the query takes a copy and uses that copy for the rest of query planning and execution.\r\n\r\nThis resolves race conditions by saying that a query (on all nodes) uses the version of the plugin definition that existed at the moment that the reference to the plugin definition was first resolved by that query. The query will be oblivious to all subsequent updates.\r\n\r\nSince plugin definition is done as part of workspace and table definition in Calcite, this is likely to be a tricky change; it is not clear that Calcite offers a per-query context to hold such information. Arina probably can offer advice on this front.\r\n","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/343566718/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/343594145","html_url":"https://github.com/apache/drill/pull/1014#issuecomment-343594145","issue_url":"https://api.github.com/repos/apache/drill/issues/1014","id":343594145,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzU5NDE0NQ==","user":{"login":"ilooner","id":8020165,"node_id":"MDQ6VXNlcjgwMjAxNjU=","avatar_url":"https://avatars.githubusercontent.com/u/8020165?v=4","gravatar_id":"","url":"https://api.github.com/users/ilooner","html_url":"https://github.com/ilooner","followers_url":"https://api.github.com/users/ilooner/followers","following_url":"https://api.github.com/users/ilooner/following{/other_user}","gists_url":"https://api.github.com/users/ilooner/gists{/gist_id}","starred_url":"https://api.github.com/users/ilooner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilooner/subscriptions","organizations_url":"https://api.github.com/users/ilooner/orgs","repos_url":"https://api.github.com/users/ilooner/repos","events_url":"https://api.github.com/users/ilooner/events{/privacy}","received_events_url":"https://api.github.com/users/ilooner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-10T21:38:09Z","updated_at":"2017-11-10T21:38:09Z","author_association":"CONTRIBUTOR","body":"@paul-rogers Thanks for the explanation. Your explanation is in sync with Arina's descriptions in the ticket and with the code changes. The only point of confusion I have now is with regards to the Calcite things changes you mentioned. I was under the impression that the following happened:\r\n\r\n  1. FormatPlugins created a DrillTable, which held the format configuration. \r\n  1. The DrillTable is then encapsulated in a ScanOperator\r\n  1. The ScanOperator automagically gets serialized into the PhysicalPlan with the DrillTable and corresponding format configuration correctly.\r\n\r\nBut it seems like there are more Calcite things at work here. @arina-ielchiieva could you please point me to the general flow I need to look at in order to understand how the FormatPluginConfig interacts with Calcite and gets serialized into the PhysicalPlan?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/343594145/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/343607475","html_url":"https://github.com/apache/drill/pull/1023#issuecomment-343607475","issue_url":"https://api.github.com/repos/apache/drill/issues/1023","id":343607475,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzYwNzQ3NQ==","user":{"login":"ilooner","id":8020165,"node_id":"MDQ6VXNlcjgwMjAxNjU=","avatar_url":"https://avatars.githubusercontent.com/u/8020165?v=4","gravatar_id":"","url":"https://api.github.com/users/ilooner","html_url":"https://github.com/ilooner","followers_url":"https://api.github.com/users/ilooner/followers","following_url":"https://api.github.com/users/ilooner/following{/other_user}","gists_url":"https://api.github.com/users/ilooner/gists{/gist_id}","starred_url":"https://api.github.com/users/ilooner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilooner/subscriptions","organizations_url":"https://api.github.com/users/ilooner/orgs","repos_url":"https://api.github.com/users/ilooner/repos","events_url":"https://api.github.com/users/ilooner/events{/privacy}","received_events_url":"https://api.github.com/users/ilooner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-10T22:47:46Z","updated_at":"2017-11-10T22:47:46Z","author_association":"CONTRIBUTOR","body":"*Note for batch committer:* Please do not squash the two commits in this PR. Please see the discussion on **pom.xml** for details.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/343607475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/343628485","html_url":"https://github.com/apache/drill/pull/1023#issuecomment-343628485","issue_url":"https://api.github.com/repos/apache/drill/issues/1023","id":343628485,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzYyODQ4NQ==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-11T01:23:07Z","updated_at":"2017-11-11T01:23:07Z","author_association":"CONTRIBUTOR","body":"For commit, let's do this:\r\n\r\n* With luck, Arina will commit two PRs this week that may conflict: PR #970, and PR #978.\r\n* Tim should rebase this PR on top of those changes once they are committed.\r\n* If the changes are non-trivial, they may require additional review. If so, Paul to do that early the week of the 13th.\r\n* If there is time to squeeze in this commit before Arina starts the 1.12, release, Paul will do a one-off commit.\r\n* Otherwise, since Arina wants to do the release during that week, this commit may have to wait until after that release.\r\n* Once this commit is in, Paul to rebase the PR #914, as it changed some of the same files.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/343628485/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/343629542","html_url":"https://github.com/apache/drill/pull/1030#issuecomment-343629542","issue_url":"https://api.github.com/repos/apache/drill/issues/1030","id":343629542,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzYyOTU0Mg==","user":{"login":"ppadma","id":1904860,"node_id":"MDQ6VXNlcjE5MDQ4NjA=","avatar_url":"https://avatars.githubusercontent.com/u/1904860?v=4","gravatar_id":"","url":"https://api.github.com/users/ppadma","html_url":"https://github.com/ppadma","followers_url":"https://api.github.com/users/ppadma/followers","following_url":"https://api.github.com/users/ppadma/following{/other_user}","gists_url":"https://api.github.com/users/ppadma/gists{/gist_id}","starred_url":"https://api.github.com/users/ppadma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppadma/subscriptions","organizations_url":"https://api.github.com/users/ppadma/orgs","repos_url":"https://api.github.com/users/ppadma/repos","events_url":"https://api.github.com/users/ppadma/events{/privacy}","received_events_url":"https://api.github.com/users/ppadma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-11T01:34:00Z","updated_at":"2017-11-11T01:34:00Z","author_association":"CONTRIBUTOR","body":"@arina-ielchiieva I have a question. If the splits for a file are spread across multiple fragments, does this logic work ?\r\n","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/343629542/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/343630760","html_url":"https://github.com/apache/drill/pull/1026#issuecomment-343630760","issue_url":"https://api.github.com/repos/apache/drill/issues/1026","id":343630760,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzYzMDc2MA==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-11T01:47:44Z","updated_at":"2017-11-11T01:47:44Z","author_association":"CONTRIBUTOR","body":"Further, is the extra option to `convertFromJSON` really needed? Can't we just accept `NaN` and `Infinity` by default?\r\n\r\nConsider. If the option is off by default, users without `NaN` or `Infinity` data will see no difference. But, users will this data will get an error and have to hunt down the option to make their data work.\r\n\r\nIf the option is on by default, users without `NaN` or `Infinity` data will see no difference. But, users will this data will also have their queries work by default.\r\n\r\nSo, seems no harm in making the `NaN` and `Infinity` support turned on by default.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/343630760/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/343634877","html_url":"https://github.com/apache/drill/pull/984#issuecomment-343634877","issue_url":"https://api.github.com/repos/apache/drill/issues/984","id":343634877,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzYzNDg3Nw==","user":{"login":"ilooner","id":8020165,"node_id":"MDQ6VXNlcjgwMjAxNjU=","avatar_url":"https://avatars.githubusercontent.com/u/8020165?v=4","gravatar_id":"","url":"https://api.github.com/users/ilooner","html_url":"https://github.com/ilooner","followers_url":"https://api.github.com/users/ilooner/followers","following_url":"https://api.github.com/users/ilooner/following{/other_user}","gists_url":"https://api.github.com/users/ilooner/gists{/gist_id}","starred_url":"https://api.github.com/users/ilooner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilooner/subscriptions","organizations_url":"https://api.github.com/users/ilooner/orgs","repos_url":"https://api.github.com/users/ilooner/repos","events_url":"https://api.github.com/users/ilooner/events{/privacy}","received_events_url":"https://api.github.com/users/ilooner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-11T02:47:54Z","updated_at":"2017-11-11T02:47:54Z","author_association":"CONTRIBUTOR","body":"After squashing the commits and rebasing I noticed the windows functional tests were failing. The issue was caused by replacing the '/' constant in FileUtils (now renamed to DrillFileUtils) in **ClassTransformer** and **FunctionInitializer** with File.separator. This broke the build because File.separator is '\\' on windows and in the context of **ClassTransformer** and **FunctionInitializer** the separator is used to look things up in the classpath. Looking things up in the classpath requires '/' on both windows and linux, hence I added back the '/' constant to DrillFileUtils along with a comment explaining its purpose and used it in **ClassTransformer** and **FunctionInitializer**. *Note:* this was a minor fix that impacted only a few lines.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/343634877/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/343693243","html_url":"https://github.com/apache/drill/pull/518#issuecomment-343693243","issue_url":"https://api.github.com/repos/apache/drill/issues/518","id":343693243,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzY5MzI0Mw==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-11T20:49:55Z","updated_at":"2017-11-11T20:49:55Z","author_association":"CONTRIBUTOR","body":"Further testing revealed limitations in the underlying Jackson parser. That parser will not recover from other errors such as:\r\n```\r\n{ a: }\r\n```\r\nSee [DRILL-5953](https://issues.apache.org/jira/browse/DRILL-5953) for details.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/343693243/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/343798874","html_url":"https://github.com/apache/drill/pull/1027#issuecomment-343798874","issue_url":"https://api.github.com/repos/apache/drill/issues/1027","id":343798874,"node_id":"MDEyOklzc3VlQ29tbWVudDM0Mzc5ODg3NA==","user":{"login":"kameshb","id":1027026,"node_id":"MDQ6VXNlcjEwMjcwMjY=","avatar_url":"https://avatars.githubusercontent.com/u/1027026?v=4","gravatar_id":"","url":"https://api.github.com/users/kameshb","html_url":"https://github.com/kameshb","followers_url":"https://api.github.com/users/kameshb/followers","following_url":"https://api.github.com/users/kameshb/following{/other_user}","gists_url":"https://api.github.com/users/kameshb/gists{/gist_id}","starred_url":"https://api.github.com/users/kameshb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kameshb/subscriptions","organizations_url":"https://api.github.com/users/kameshb/orgs","repos_url":"https://api.github.com/users/kameshb/repos","events_url":"https://api.github.com/users/kameshb/events{/privacy}","received_events_url":"https://api.github.com/users/kameshb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-13T03:14:50Z","updated_at":"2017-11-13T03:14:50Z","author_association":"CONTRIBUTOR","body":"@paul-rogers @arina-ielchiieva @vrozov \r\nThanks for reviewing.  Anil & I have addressed review comments. Could you please go through the changes and also rest of the Kafka storage codebase.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/343798874/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/343816218","html_url":"https://github.com/apache/drill/pull/1016#issuecomment-343816218","issue_url":"https://api.github.com/repos/apache/drill/issues/1016","id":343816218,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzgxNjIxOA==","user":{"login":"weijietong","id":728692,"node_id":"MDQ6VXNlcjcyODY5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/728692?v=4","gravatar_id":"","url":"https://api.github.com/users/weijietong","html_url":"https://github.com/weijietong","followers_url":"https://api.github.com/users/weijietong/followers","following_url":"https://api.github.com/users/weijietong/following{/other_user}","gists_url":"https://api.github.com/users/weijietong/gists{/gist_id}","starred_url":"https://api.github.com/users/weijietong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weijietong/subscriptions","organizations_url":"https://api.github.com/users/weijietong/orgs","repos_url":"https://api.github.com/users/weijietong/repos","events_url":"https://api.github.com/users/weijietong/events{/privacy}","received_events_url":"https://api.github.com/users/weijietong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-13T05:16:45Z","updated_at":"2017-11-13T05:16:45Z","author_association":"NONE","body":"@amansinha100 maybe you are familiar with this part of codes .  Could you give a review ? anyone else will also be welcome.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/343816218/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/343842134","html_url":"https://github.com/apache/drill/pull/774#issuecomment-343842134","issue_url":"https://api.github.com/repos/apache/drill/issues/774","id":343842134,"node_id":"MDEyOklzc3VlQ29tbWVudDM0Mzg0MjEzNA==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-13T08:07:12Z","updated_at":"2017-11-13T08:07:12Z","author_association":"MEMBER","body":"+1, LGTM.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/343842134/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/343844643","html_url":"https://github.com/apache/drill/pull/904#issuecomment-343844643","issue_url":"https://api.github.com/repos/apache/drill/issues/904","id":343844643,"node_id":"MDEyOklzc3VlQ29tbWVudDM0Mzg0NDY0Mw==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-13T08:20:17Z","updated_at":"2017-11-13T08:20:17Z","author_association":"MEMBER","body":"+1, LGTM.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/343844643/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/343876480","html_url":"https://github.com/apache/drill/pull/1014#issuecomment-343876480","issue_url":"https://api.github.com/repos/apache/drill/issues/1014","id":343876480,"node_id":"MDEyOklzc3VlQ29tbWVudDM0Mzg3NjQ4MA==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-13T10:27:17Z","updated_at":"2017-11-13T10:27:17Z","author_association":"MEMBER","body":"@ilooner Paul has correctly described race condition issue. At planning time when we have defined plugin configuration we want to make sure it would stay the same during query execution. Relying on plugin configuration name is unsafe since config under this particular name can change and it can be that one fragment of the query is executed with one configuration and another with different (typical race condition issue).\r\n\r\nRegarding your last question, during physical plan creation I don't think we deserialize DrillTable, we rather deserialize query fragments (it can be seen from json profile). Also you can start looking, for example, from here:\r\nhttps://github.com/apache/drill/blob/master/exec/java-exec/src/main/java/org/apache/drill/exec/work/QueryWorkUnit.java#L59\r\n","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/343876480/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/343901806","html_url":"https://github.com/apache/drill/pull/1031#issuecomment-343901806","issue_url":"https://api.github.com/repos/apache/drill/issues/1031","id":343901806,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzkwMTgwNg==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-13T12:16:19Z","updated_at":"2017-11-13T12:16:19Z","author_association":"MEMBER","body":"@vrozov when I have deployed Drill with your changes on test cluster, Drill start up failed with the following error:\r\n```\r\n2017-11-13 01:30:12,3367 ERROR JniCommon fs/client/fileclient/cc/jni_MapRClient.cc:616 Thread: 26996 Mismatch found for java and native libraries java build version 5.2.2.44680GA, native build version 5.2.2.44680.GA java patch vserion $Id: mapr-version: 5.2.2.44680GA 44680:b0ba7dcefd80b9aaf39f05f3, native patch version $Id: mapr-version: 5.2.2.44680.GA 44680:b0ba7dcefd80b9aaf39f05f\r\n2017-11-13 01:30:12,3368 ERROR JniCommon fs/client/fileclient/cc/jni_MapRClient.cc:626 Thread: 26996 Client initialization failed.\r\nException in thread \"main\" org.apache.drill.exec.exception.DrillbitStartupException: Failure during initial startup of Drillbit.\r\n\tat org.apache.drill.exec.server.Drillbit.start(Drillbit.java:353)\r\n\tat org.apache.drill.exec.server.Drillbit.start(Drillbit.java:323)\r\n\tat org.apache.drill.exec.server.Drillbit.main(Drillbit.java:319)\r\nCaused by: org.apache.drill.common.exceptions.DrillRuntimeException: Error during udf area creation [/user/root/drill/udf/registry] on file system [maprfs:///]\r\n\tat org.apache.drill.common.exceptions.DrillRuntimeException.format(DrillRuntimeException.java:49)\r\n\tat org.apache.drill.exec.expr.fn.registry.RemoteFunctionRegistry.createArea(RemoteFunctionRegistry.java:277)\r\n\tat org.apache.drill.exec.expr.fn.registry.RemoteFunctionRegistry.prepareAreas(RemoteFunctionRegistry.java:234)\r\n\tat org.apache.drill.exec.expr.fn.registry.RemoteFunctionRegistry.init(RemoteFunctionRegistry.java:105)\r\n\tat org.apache.drill.exec.server.Drillbit.run(Drillbit.java:167)\r\n\tat org.apache.drill.exec.server.Drillbit.start(Drillbit.java:349)\r\n\t... 2 more\r\nCaused by: java.io.IOException: Could not create FileClient\r\n\tat com.mapr.fs.MapRFileSystem.lookupClient(MapRFileSystem.java:626)\r\n\tat com.mapr.fs.MapRFileSystem.lookupClient(MapRFileSystem.java:679)\r\n\tat com.mapr.fs.MapRFileSystem.makeDir(MapRFileSystem.java:1239)\r\n\tat com.mapr.fs.MapRFileSystem.mkdirs(MapRFileSystem.java:1276)\r\n\tat org.apache.hadoop.fs.FileSystem.mkdirs(FileSystem.java:1917)\r\n\tat org.apache.drill.exec.expr.fn.registry.RemoteFunctionRegistry.createArea(RemoteFunctionRegistry.java:254)\r\n\t... 6 more\r\n```\r\nWithout your changes start up was successful.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/343901806/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/343903325","html_url":"https://github.com/apache/drill/pull/984#issuecomment-343903325","issue_url":"https://api.github.com/repos/apache/drill/issues/984","id":343903325,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzkwMzMyNQ==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-13T12:23:37Z","updated_at":"2017-11-13T12:23:37Z","author_association":"MEMBER","body":"@ilooner changes in 361 files seems to be too much :) I suggest you split this PR at least at three according to the addressed issues. So we try to merge smaller chunks.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/343903325/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/343929372","html_url":"https://github.com/apache/drill/pull/970#issuecomment-343929372","issue_url":"https://api.github.com/repos/apache/drill/issues/970","id":343929372,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzkyOTM3Mg==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-13T14:09:17Z","updated_at":"2017-11-13T14:09:17Z","author_association":"MEMBER","body":"+1, LGTM.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/343929372/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/343929601","html_url":"https://github.com/apache/drill/pull/978#issuecomment-343929601","issue_url":"https://api.github.com/repos/apache/drill/issues/978","id":343929601,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzkyOTYwMQ==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-13T14:10:04Z","updated_at":"2017-11-13T14:10:04Z","author_association":"MEMBER","body":"+1, LGTM.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/343929601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/343969256","html_url":"https://github.com/apache/drill/pull/1030#issuecomment-343969256","issue_url":"https://api.github.com/repos/apache/drill/issues/1030","id":343969256,"node_id":"MDEyOklzc3VlQ29tbWVudDM0Mzk2OTI1Ng==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-13T16:12:45Z","updated_at":"2017-11-13T16:12:45Z","author_association":"MEMBER","body":"@ppadma really good point! I did not realize that when creating readers input splits can be already distributed among several drillbits. So I guess we should make sure that when we have skip header / footer logic in table input splits of the same file reside in one `HiveSubScan` during planning stage. I'll have to make some changes and let you know once done.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/343969256/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/343970056","html_url":"https://github.com/apache/drill/pull/1031#issuecomment-343970056","issue_url":"https://api.github.com/repos/apache/drill/issues/1031","id":343970056,"node_id":"MDEyOklzc3VlQ29tbWVudDM0Mzk3MDA1Ng==","user":{"login":"vrozov","id":12200381,"node_id":"MDQ6VXNlcjEyMjAwMzgx","avatar_url":"https://avatars.githubusercontent.com/u/12200381?v=4","gravatar_id":"","url":"https://api.github.com/users/vrozov","html_url":"https://github.com/vrozov","followers_url":"https://api.github.com/users/vrozov/followers","following_url":"https://api.github.com/users/vrozov/following{/other_user}","gists_url":"https://api.github.com/users/vrozov/gists{/gist_id}","starred_url":"https://api.github.com/users/vrozov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vrozov/subscriptions","organizations_url":"https://api.github.com/users/vrozov/orgs","repos_url":"https://api.github.com/users/vrozov/repos","events_url":"https://api.github.com/users/vrozov/events{/privacy}","received_events_url":"https://api.github.com/users/vrozov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-13T16:15:08Z","updated_at":"2017-11-13T16:15:08Z","author_association":"MEMBER","body":"@arina-ielchiieva Please attach the full log to JIRA.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/343970056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/343975267","html_url":"https://github.com/apache/drill/pull/1031#issuecomment-343975267","issue_url":"https://api.github.com/repos/apache/drill/issues/1031","id":343975267,"node_id":"MDEyOklzc3VlQ29tbWVudDM0Mzk3NTI2Nw==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-13T16:30:10Z","updated_at":"2017-11-13T16:30:10Z","author_association":"MEMBER","body":"@vrozov I have posted all content of drillbit.out. drillbit.log just had information that could not create remote function registry directory.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/343975267/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/344014818","html_url":"https://github.com/apache/drill/pull/984#issuecomment-344014818","issue_url":"https://api.github.com/repos/apache/drill/issues/984","id":344014818,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDAxNDgxOA==","user":{"login":"ilooner","id":8020165,"node_id":"MDQ6VXNlcjgwMjAxNjU=","avatar_url":"https://avatars.githubusercontent.com/u/8020165?v=4","gravatar_id":"","url":"https://api.github.com/users/ilooner","html_url":"https://github.com/ilooner","followers_url":"https://api.github.com/users/ilooner/followers","following_url":"https://api.github.com/users/ilooner/following{/other_user}","gists_url":"https://api.github.com/users/ilooner/gists{/gist_id}","starred_url":"https://api.github.com/users/ilooner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilooner/subscriptions","organizations_url":"https://api.github.com/users/ilooner/orgs","repos_url":"https://api.github.com/users/ilooner/repos","events_url":"https://api.github.com/users/ilooner/events{/privacy}","received_events_url":"https://api.github.com/users/ilooner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-13T18:36:36Z","updated_at":"2017-11-13T18:36:36Z","author_association":"CONTRIBUTOR","body":"@arina-ielchiieva I can put **DRILL-5783** in a separate PR **DRILL-5841** and **DRILL-5894** are however tightly coupled and must be in the same PR. Unfortunately **DRILL-5841** and **DRILL-5894** touched many files because all the unit tests were updated so the PR will still remain large. ","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/344014818/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/344022063","html_url":"https://github.com/apache/drill/pull/1031#issuecomment-344022063","issue_url":"https://api.github.com/repos/apache/drill/issues/1031","id":344022063,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDAyMjA2Mw==","user":{"login":"vrozov","id":12200381,"node_id":"MDQ6VXNlcjEyMjAwMzgx","avatar_url":"https://avatars.githubusercontent.com/u/12200381?v=4","gravatar_id":"","url":"https://api.github.com/users/vrozov","html_url":"https://github.com/vrozov","followers_url":"https://api.github.com/users/vrozov/followers","following_url":"https://api.github.com/users/vrozov/following{/other_user}","gists_url":"https://api.github.com/users/vrozov/gists{/gist_id}","starred_url":"https://api.github.com/users/vrozov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vrozov/subscriptions","organizations_url":"https://api.github.com/users/vrozov/orgs","repos_url":"https://api.github.com/users/vrozov/repos","events_url":"https://api.github.com/users/vrozov/events{/privacy}","received_events_url":"https://api.github.com/users/vrozov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-13T19:01:18Z","updated_at":"2017-11-13T19:01:18Z","author_association":"MEMBER","body":"@arina-ielchiieva Please test with the latest commit. I changed mapr version back to 5.2.1, note that 2.7.0-mapr-1707 is compiled with 5.2.2","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/344022063/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/344022107","html_url":"https://github.com/apache/drill/pull/1030#issuecomment-344022107","issue_url":"https://api.github.com/repos/apache/drill/issues/1030","id":344022107,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDAyMjEwNw==","user":{"login":"ppadma","id":1904860,"node_id":"MDQ6VXNlcjE5MDQ4NjA=","avatar_url":"https://avatars.githubusercontent.com/u/1904860?v=4","gravatar_id":"","url":"https://api.github.com/users/ppadma","html_url":"https://github.com/ppadma","followers_url":"https://api.github.com/users/ppadma/followers","following_url":"https://api.github.com/users/ppadma/following{/other_user}","gists_url":"https://api.github.com/users/ppadma/gists{/gist_id}","starred_url":"https://api.github.com/users/ppadma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppadma/subscriptions","organizations_url":"https://api.github.com/users/ppadma/orgs","repos_url":"https://api.github.com/users/ppadma/repos","events_url":"https://api.github.com/users/ppadma/events{/privacy}","received_events_url":"https://api.github.com/users/ppadma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-13T19:01:27Z","updated_at":"2017-11-13T19:01:27Z","author_association":"CONTRIBUTOR","body":"@arina-ielchiieva That will have performance impact.  Better way would be to keep one reader per split and see if we can figure out a way to tell readers how many rows they should skip (for header or footer).","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/344022107/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/344035841","html_url":"https://github.com/apache/drill/pull/1030#issuecomment-344035841","issue_url":"https://api.github.com/repos/apache/drill/issues/1030","id":344035841,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDAzNTg0MQ==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-13T19:47:07Z","updated_at":"2017-11-13T19:47:07Z","author_association":"CONTRIBUTOR","body":"For FWIW, the native CSV reader does the following:\r\n\r\n* To read the header, it seeks to offset 0 in the file, regardless of the block being read, then reads the header, which may be a remote read.\r\n* The reader then seeks to the start of its block. If this is the first block, it skips the header, else it searches for the start of the next record.\r\n\r\nSince Hive has the same challenges, Hive must have solved this, we have only to research that existing solution.\r\n\r\nOne simple solution is:\r\n\r\n* If block number is 0, skip the header.\r\n* If block number is 1 or larger, look for the next record separator.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/344035841/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/344062017","html_url":"https://github.com/apache/drill/pull/1026#issuecomment-344062017","issue_url":"https://api.github.com/repos/apache/drill/issues/1026","id":344062017,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDA2MjAxNw==","user":{"login":"vladimirtkach","id":10295844,"node_id":"MDQ6VXNlcjEwMjk1ODQ0","avatar_url":"https://avatars.githubusercontent.com/u/10295844?v=4","gravatar_id":"","url":"https://api.github.com/users/vladimirtkach","html_url":"https://github.com/vladimirtkach","followers_url":"https://api.github.com/users/vladimirtkach/followers","following_url":"https://api.github.com/users/vladimirtkach/following{/other_user}","gists_url":"https://api.github.com/users/vladimirtkach/gists{/gist_id}","starred_url":"https://api.github.com/users/vladimirtkach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vladimirtkach/subscriptions","organizations_url":"https://api.github.com/users/vladimirtkach/orgs","repos_url":"https://api.github.com/users/vladimirtkach/repos","events_url":"https://api.github.com/users/vladimirtkach/events{/privacy}","received_events_url":"https://api.github.com/users/vladimirtkach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-13T21:20:37Z","updated_at":"2017-11-13T21:20:37Z","author_association":"CONTRIBUTOR","body":"what do you think about having two functions instead: convertFromJSON and convertFromJSON+some suffix. Second will be able to convert  NaN, Infinity","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/344062017/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/344086438","html_url":"https://github.com/apache/drill/pull/1026#issuecomment-344086438","issue_url":"https://api.github.com/repos/apache/drill/issues/1026","id":344086438,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDA4NjQzOA==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-13T22:52:13Z","updated_at":"2017-11-13T22:52:13Z","author_association":"CONTRIBUTOR","body":"On the two functions... Maybe just have one function that handles the Nan/Infinity case. As noted earlier, no matter what we do, JSON without these symbols will work. So, we need only consider JSON with the symbols. Either:\r\n\r\n* The NaN/Infinity cases always work, or\r\n* The NaN/Infinity cases work sometimes, fail others, depending on some option or argument.\r\n\r\nI would vote for the first case: it is simpler. I just can't see how anyone would use Drill to valid JSON and would want a query to fail if it contains NaN or Infinity. Can you suggest a case where failing the query would be of help to the user?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/344086438/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/344109204","html_url":"https://github.com/apache/drill/pull/1014#issuecomment-344109204","issue_url":"https://api.github.com/repos/apache/drill/issues/1014","id":344109204,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDEwOTIwNA==","user":{"login":"ilooner","id":8020165,"node_id":"MDQ6VXNlcjgwMjAxNjU=","avatar_url":"https://avatars.githubusercontent.com/u/8020165?v=4","gravatar_id":"","url":"https://api.github.com/users/ilooner","html_url":"https://github.com/ilooner","followers_url":"https://api.github.com/users/ilooner/followers","following_url":"https://api.github.com/users/ilooner/following{/other_user}","gists_url":"https://api.github.com/users/ilooner/gists{/gist_id}","starred_url":"https://api.github.com/users/ilooner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilooner/subscriptions","organizations_url":"https://api.github.com/users/ilooner/orgs","repos_url":"https://api.github.com/users/ilooner/repos","events_url":"https://api.github.com/users/ilooner/events{/privacy}","received_events_url":"https://api.github.com/users/ilooner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-14T00:52:10Z","updated_at":"2017-11-14T00:52:10Z","author_association":"CONTRIBUTOR","body":"Thanks I took a look.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/344109204/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/344128357","html_url":"https://github.com/apache/drill/pull/914#issuecomment-344128357","issue_url":"https://api.github.com/repos/apache/drill/issues/914","id":344128357,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDEyODM1Nw==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-14T02:42:25Z","updated_at":"2017-11-14T02:42:25Z","author_association":"CONTRIBUTOR","body":"Thank you, @bitblender, for your in-person review. I've pushed a commit that reflects your comments. ","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/344128357/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/344251332","html_url":"https://github.com/apache/drill/pull/984#issuecomment-344251332","issue_url":"https://api.github.com/repos/apache/drill/issues/984","id":344251332,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDI1MTMzMg==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-14T12:58:39Z","updated_at":"2017-11-14T12:58:39Z","author_association":"MEMBER","body":"@ilooner as far as know you are doing presentation today connected with this pull request. If overall approach will be accepted, then we'll try to merge this pull request. Please resolve the conflicts as well.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/344251332/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/344337518","html_url":"https://github.com/apache/drill/pull/1030#issuecomment-344337518","issue_url":"https://api.github.com/repos/apache/drill/issues/1030","id":344337518,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDMzNzUxOA==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-14T17:38:44Z","updated_at":"2017-11-14T17:38:44Z","author_association":"MEMBER","body":"@ppadma \r\nTo create reader for each input split and maintain skip header / footer functionality we need to know how many rows are in input split. Unfortunately, input split does not hold such information, only number of bytes. [1] We can't apply skip header functionality for the first input split and skip footer for the last input either since we don't know how many rows will be skipped, it can be the situation that we need to skip the whole first input split and partially second.\r\n\r\n@paul-rogers \r\nTo read from hive we actually use Hadoop reader [2, 3] so if I am not mistaken unfortunately the described above approach can be applied.\r\n\r\n[1] https://hadoop.apache.org/docs/r2.7.0/api/org/apache/hadoop/mapred/FileSplit.html\r\n[2] https://github.com/apache/drill/blob/master/contrib/storage-hive/core/src/main/java/org/apache/drill/exec/store/hive/HiveAbstractReader.java#L234\r\n[3] https://hadoop.apache.org/docs/r2.7.0/api/org/apache/hadoop/mapred/RecordReader.html","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/344337518/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/344362490","html_url":"https://github.com/apache/drill/pull/1035#issuecomment-344362490","issue_url":"https://api.github.com/repos/apache/drill/issues/1035","id":344362490,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDM2MjQ5MA==","user":{"login":"kkhatua","id":4335237,"node_id":"MDQ6VXNlcjQzMzUyMzc=","avatar_url":"https://avatars.githubusercontent.com/u/4335237?v=4","gravatar_id":"","url":"https://api.github.com/users/kkhatua","html_url":"https://github.com/kkhatua","followers_url":"https://api.github.com/users/kkhatua/followers","following_url":"https://api.github.com/users/kkhatua/following{/other_user}","gists_url":"https://api.github.com/users/kkhatua/gists{/gist_id}","starred_url":"https://api.github.com/users/kkhatua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kkhatua/subscriptions","organizations_url":"https://api.github.com/users/kkhatua/orgs","repos_url":"https://api.github.com/users/kkhatua/repos","events_url":"https://api.github.com/users/kkhatua/events{/privacy}","received_events_url":"https://api.github.com/users/kkhatua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-14T19:02:02Z","updated_at":"2017-11-14T19:02:02Z","author_association":"CONTRIBUTOR","body":"@paul-rogers (cc: @arina-ielchiieva ) since this was your ask, please review the PR.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/344362490/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/344366996","html_url":"https://github.com/apache/drill/pull/914#issuecomment-344366996","issue_url":"https://api.github.com/repos/apache/drill/issues/914","id":344366996,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDM2Njk5Ng==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-14T19:17:24Z","updated_at":"2017-11-14T19:17:24Z","author_association":"CONTRIBUTOR","body":"@parthchandra, thank you for taking the time to review this large chunk of code. Thanks for noticing the tests; I see those as the only way to ensure that a change of this size actually works; expecting a human to \"mentally execute\" the code is not practical at this scale.\r\n\r\nI did incorporate the change you suggested for grabbing the chunk size from `PooledByteBufAllocatorL` via a new static method in `AllocationManager`. Very good suggestion; thanks.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/344366996/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/344367251","html_url":"https://github.com/apache/drill/pull/914#issuecomment-344367251","issue_url":"https://api.github.com/repos/apache/drill/issues/914","id":344367251,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDM2NzI1MQ==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-14T19:18:15Z","updated_at":"2017-11-14T19:18:15Z","author_association":"CONTRIBUTOR","body":"Finally, a note on the fragmentation issue. As you noted, this is a subtle issue. It is true that Netty maintains a memory pool, based on binary allocations, that minimizes the normal kind of fragmentation that results from random sized allocations from a common pool.\r\n\r\nThe cost of the binary structure is _internal_ fragmentation. Today, Drill vectors have, on average, 25% internal fragmentation. This PR does not address this issue per-se, but sets us on the road toward a solution.\r\n\r\nThe key fragmentation issue that this PR _does_ deal with is that which occurs when allocations exceed the 16 MB (default) Netty block size. In that case, Netty does, in fact, go to the OS. The OS does a fine job of coalescing large blocks to prevent fragmentation. The problem, however, is that, over time, more and more memory resides in the Netty free list. Eventually, there simply is not enough memory left outside of Netty to service a jumbo (> 16MB) block. Drill gets an OOM error though Netty has many GB of memory free; just none available in the 32+ MB size we want.\r\n\r\nWe could force Netty to release unused memory. In fact, the original [JE-Malloc paper](https://people.freebsd.org/~jasone/jemalloc/bsdcan2006/jemalloc.pdf) (that you provided way back when, thanks) points out that the allocator should monitor its pools and release memory back to the system when a pool usage drops to zero. It does not appear that `PooledByteBufAllocatorL` implemented this feature, so the allocator never releases memory once it lands in the allocator's free list. We could certainly fix this; the JE-Malloc paper provides suggestions.\r\n\r\nStill, however, we could end up with usage patterns in which some slice of memory is used from each chunk, blocking any chunk from being released to the OS, and thereby blocking a \"jumbo\" block allocation, again though much memory is free on the free list. This is yet another form of fragmentation.\r\n\r\nFinally, as you point out, all of this assumes that we want to continue to allocate \"jumbo\" blocks. But, as we discovered in the managed sort work, and the hash agg spill work, Drill has two conflicting tendencies. On the one hand, \"managed\" operators wish to operate within a constrained memory footprint. (Which seems to often end up being on the order of 30 MB for the sort for various reasons.) If the scan operator, say, decides to allocate a batch that contains 32 MB vectors, then the sort can't accept even one of those batches an an OOM ensues.\r\n\r\nSo, rather than solve our memory fragmentation issues by mucking with Netty (force free of unused chunks, increase chunk size, etc.) The preferred solution is to live within a budget: both the constraints of the Netty chunk size *and* the constraints placed on Drill operator memory usage.\r\n\r\nIn short, we started by wanting to solve the fragmentation issue, but we realized that the best solution is to also solve the unlimited-batch-size issue, hence this PR.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/344367251/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/344367643","html_url":"https://github.com/apache/drill/pull/914#issuecomment-344367643","issue_url":"https://api.github.com/repos/apache/drill/issues/914","id":344367643,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDM2NzY0Mw==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-14T19:19:30Z","updated_at":"2017-11-14T19:19:30Z","author_association":"CONTRIBUTOR","body":"Pushed a commit with the changes suggested by Parth's review comments. @parthchandra, please review.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/344367643/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/344405670","html_url":"https://github.com/apache/drill/pull/914#issuecomment-344405670","issue_url":"https://api.github.com/repos/apache/drill/issues/914","id":344405670,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDQwNTY3MA==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-14T21:32:07Z","updated_at":"2017-11-14T21:32:07Z","author_association":"CONTRIBUTOR","body":"Rebased on master. Squashed all previous commits; left code review revisions separate for now.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/344405670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/344431690","html_url":"https://github.com/apache/drill/pull/976#issuecomment-344431690","issue_url":"https://api.github.com/repos/apache/drill/issues/976","id":344431690,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDQzMTY5MA==","user":{"login":"priteshm","id":1015719,"node_id":"MDQ6VXNlcjEwMTU3MTk=","avatar_url":"https://avatars.githubusercontent.com/u/1015719?v=4","gravatar_id":"","url":"https://api.github.com/users/priteshm","html_url":"https://github.com/priteshm","followers_url":"https://api.github.com/users/priteshm/followers","following_url":"https://api.github.com/users/priteshm/following{/other_user}","gists_url":"https://api.github.com/users/priteshm/gists{/gist_id}","starred_url":"https://api.github.com/users/priteshm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/priteshm/subscriptions","organizations_url":"https://api.github.com/users/priteshm/orgs","repos_url":"https://api.github.com/users/priteshm/repos","events_url":"https://api.github.com/users/priteshm/events{/privacy}","received_events_url":"https://api.github.com/users/priteshm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-14T23:13:11Z","updated_at":"2018-02-23T06:34:01Z","author_association":"NONE","body":"@dprofeta please address the issues soon for this PR to be included in the 1.13.0 release.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/344431690/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/344437261","html_url":"https://github.com/apache/drill/pull/1028#issuecomment-344437261","issue_url":"https://api.github.com/repos/apache/drill/issues/1028","id":344437261,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDQzNzI2MQ==","user":{"login":"priteshm","id":1015719,"node_id":"MDQ6VXNlcjEwMTU3MTk=","avatar_url":"https://avatars.githubusercontent.com/u/1015719?v=4","gravatar_id":"","url":"https://api.github.com/users/priteshm","html_url":"https://github.com/priteshm","followers_url":"https://api.github.com/users/priteshm/followers","following_url":"https://api.github.com/users/priteshm/following{/other_user}","gists_url":"https://api.github.com/users/priteshm/gists{/gist_id}","starred_url":"https://api.github.com/users/priteshm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/priteshm/subscriptions","organizations_url":"https://api.github.com/users/priteshm/orgs","repos_url":"https://api.github.com/users/priteshm/repos","events_url":"https://api.github.com/users/priteshm/events{/privacy}","received_events_url":"https://api.github.com/users/priteshm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-14T23:40:20Z","updated_at":"2017-11-14T23:40:20Z","author_association":"NONE","body":"@parthchandra can you please review this?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/344437261/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/344445389","html_url":"https://github.com/apache/drill/pull/984#issuecomment-344445389","issue_url":"https://api.github.com/repos/apache/drill/issues/984","id":344445389,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDQ0NTM4OQ==","user":{"login":"ilooner","id":8020165,"node_id":"MDQ6VXNlcjgwMjAxNjU=","avatar_url":"https://avatars.githubusercontent.com/u/8020165?v=4","gravatar_id":"","url":"https://api.github.com/users/ilooner","html_url":"https://github.com/ilooner","followers_url":"https://api.github.com/users/ilooner/followers","following_url":"https://api.github.com/users/ilooner/following{/other_user}","gists_url":"https://api.github.com/users/ilooner/gists{/gist_id}","starred_url":"https://api.github.com/users/ilooner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilooner/subscriptions","organizations_url":"https://api.github.com/users/ilooner/orgs","repos_url":"https://api.github.com/users/ilooner/repos","events_url":"https://api.github.com/users/ilooner/events{/privacy}","received_events_url":"https://api.github.com/users/ilooner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-15T00:23:42Z","updated_at":"2017-11-15T00:23:42Z","author_association":"CONTRIBUTOR","body":"Resolved conflicts.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/344445389/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/344455674","html_url":"https://github.com/apache/drill/pull/984#issuecomment-344455674","issue_url":"https://api.github.com/repos/apache/drill/issues/984","id":344455674,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDQ1NTY3NA==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-15T01:24:21Z","updated_at":"2017-11-15T01:24:21Z","author_association":"CONTRIBUTOR","body":"Discussed in person. Conflicts are resolved. We have a plan for merging with other in-flight PRs.\r\n+1 (again)","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/344455674/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/344462542","html_url":"https://github.com/apache/drill/pull/652#issuecomment-344462542","issue_url":"https://api.github.com/repos/apache/drill/issues/652","id":344462542,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDQ2MjU0Mg==","user":{"login":"sohami","id":22159459,"node_id":"MDQ6VXNlcjIyMTU5NDU5","avatar_url":"https://avatars.githubusercontent.com/u/22159459?v=4","gravatar_id":"","url":"https://api.github.com/users/sohami","html_url":"https://github.com/sohami","followers_url":"https://api.github.com/users/sohami/followers","following_url":"https://api.github.com/users/sohami/following{/other_user}","gists_url":"https://api.github.com/users/sohami/gists{/gist_id}","starred_url":"https://api.github.com/users/sohami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sohami/subscriptions","organizations_url":"https://api.github.com/users/sohami/orgs","repos_url":"https://api.github.com/users/sohami/repos","events_url":"https://api.github.com/users/sohami/events{/privacy}","received_events_url":"https://api.github.com/users/sohami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-15T02:04:27Z","updated_at":"2017-11-15T02:04:27Z","author_association":"CONTRIBUTOR","body":"Based on the last in-person discussion it was decided to further look into why the test was failing on Windows platform. Is it the test environment setup issue or an actual issue w.r.t platform implementation of access method ? ","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/344462542/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/344558334","html_url":"https://github.com/apache/drill/pull/1029#issuecomment-344558334","issue_url":"https://api.github.com/repos/apache/drill/issues/1029","id":344558334,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDU1ODMzNA==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-15T10:58:43Z","updated_at":"2017-11-15T10:58:43Z","author_association":"MEMBER","body":"+1, LGTM.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/344558334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/344566358","html_url":"https://github.com/apache/drill/pull/1023#issuecomment-344566358","issue_url":"https://api.github.com/repos/apache/drill/issues/1023","id":344566358,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDU2NjM1OA==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-15T11:33:39Z","updated_at":"2017-11-15T11:33:39Z","author_association":"MEMBER","body":"@ilooner please resolve conflicts.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/344566358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/344704680","html_url":"https://github.com/apache/drill/pull/1023#issuecomment-344704680","issue_url":"https://api.github.com/repos/apache/drill/issues/1023","id":344704680,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDcwNDY4MA==","user":{"login":"ilooner","id":8020165,"node_id":"MDQ6VXNlcjgwMjAxNjU=","avatar_url":"https://avatars.githubusercontent.com/u/8020165?v=4","gravatar_id":"","url":"https://api.github.com/users/ilooner","html_url":"https://github.com/ilooner","followers_url":"https://api.github.com/users/ilooner/followers","following_url":"https://api.github.com/users/ilooner/following{/other_user}","gists_url":"https://api.github.com/users/ilooner/gists{/gist_id}","starred_url":"https://api.github.com/users/ilooner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilooner/subscriptions","organizations_url":"https://api.github.com/users/ilooner/orgs","repos_url":"https://api.github.com/users/ilooner/repos","events_url":"https://api.github.com/users/ilooner/events{/privacy}","received_events_url":"https://api.github.com/users/ilooner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-15T19:38:25Z","updated_at":"2017-11-15T19:38:25Z","author_association":"CONTRIBUTOR","body":"@arina-ielchiieva Spoke with @paul-rogers . This will likely introduce some conflicts for https://github.com/apache/drill/pull/921 . In an effort to lighten the workload for that contributor we'll delay merging this change. I'll remove the ready-to-commit label on the jira until the other PR is merged. After https://github.com/apache/drill/pull/921 is merged I'll rebase and mark this as read-to-commit once more.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/344704680/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/344933529","html_url":"https://github.com/apache/drill/pull/1030#issuecomment-344933529","issue_url":"https://api.github.com/repos/apache/drill/issues/1030","id":344933529,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDkzMzUyOQ==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-16T14:10:44Z","updated_at":"2017-11-16T14:10:44Z","author_association":"MEMBER","body":"@ppadma pull request is updated to handle header / footer logic in distributed environment. Comment with PR description in the beginning of the pull request is updated. Please review when possible.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/344933529/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/345009796","html_url":"https://github.com/apache/drill/pull/1038#issuecomment-345009796","issue_url":"https://api.github.com/repos/apache/drill/issues/1038","id":345009796,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NTAwOTc5Ng==","user":{"login":"priteshm","id":1015719,"node_id":"MDQ6VXNlcjEwMTU3MTk=","avatar_url":"https://avatars.githubusercontent.com/u/1015719?v=4","gravatar_id":"","url":"https://api.github.com/users/priteshm","html_url":"https://github.com/priteshm","followers_url":"https://api.github.com/users/priteshm/followers","following_url":"https://api.github.com/users/priteshm/following{/other_user}","gists_url":"https://api.github.com/users/priteshm/gists{/gist_id}","starred_url":"https://api.github.com/users/priteshm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/priteshm/subscriptions","organizations_url":"https://api.github.com/users/priteshm/orgs","repos_url":"https://api.github.com/users/priteshm/repos","events_url":"https://api.github.com/users/priteshm/events{/privacy}","received_events_url":"https://api.github.com/users/priteshm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-16T18:12:18Z","updated_at":"2017-11-16T18:12:18Z","author_association":"NONE","body":"@parthchandra can you please review this?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/345009796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/345030114","html_url":"https://github.com/apache/drill/pull/914#issuecomment-345030114","issue_url":"https://api.github.com/repos/apache/drill/issues/914","id":345030114,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NTAzMDExNA==","user":{"login":"parthchandra","id":6529136,"node_id":"MDQ6VXNlcjY1MjkxMzY=","avatar_url":"https://avatars.githubusercontent.com/u/6529136?v=4","gravatar_id":"","url":"https://api.github.com/users/parthchandra","html_url":"https://github.com/parthchandra","followers_url":"https://api.github.com/users/parthchandra/followers","following_url":"https://api.github.com/users/parthchandra/following{/other_user}","gists_url":"https://api.github.com/users/parthchandra/gists{/gist_id}","starred_url":"https://api.github.com/users/parthchandra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/parthchandra/subscriptions","organizations_url":"https://api.github.com/users/parthchandra/orgs","repos_url":"https://api.github.com/users/parthchandra/repos","events_url":"https://api.github.com/users/parthchandra/events{/privacy}","received_events_url":"https://api.github.com/users/parthchandra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-16T19:07:48Z","updated_at":"2017-11-16T19:07:48Z","author_association":"CONTRIBUTOR","body":"Just FYI, this (https://github.com/d-t-w/netty-buffers) seems to indicate that some of Netty's internal fragmentation issues seem to have been addressed since 4.0.37","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/345030114/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/345039292","html_url":"https://github.com/apache/drill/pull/1037#issuecomment-345039292","issue_url":"https://api.github.com/repos/apache/drill/issues/1037","id":345039292,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NTAzOTI5Mg==","user":{"login":"superbstreak","id":6262024,"node_id":"MDQ6VXNlcjYyNjIwMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/6262024?v=4","gravatar_id":"","url":"https://api.github.com/users/superbstreak","html_url":"https://github.com/superbstreak","followers_url":"https://api.github.com/users/superbstreak/followers","following_url":"https://api.github.com/users/superbstreak/following{/other_user}","gists_url":"https://api.github.com/users/superbstreak/gists{/gist_id}","starred_url":"https://api.github.com/users/superbstreak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/superbstreak/subscriptions","organizations_url":"https://api.github.com/users/superbstreak/orgs","repos_url":"https://api.github.com/users/superbstreak/repos","events_url":"https://api.github.com/users/superbstreak/events{/privacy}","received_events_url":"https://api.github.com/users/superbstreak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-16T19:39:20Z","updated_at":"2017-11-16T19:39:20Z","author_association":"CONTRIBUTOR","body":"@parthchandra  We should get this in for 1.12?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/345039292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/345107735","html_url":"https://github.com/apache/drill/pull/1037#issuecomment-345107735","issue_url":"https://api.github.com/repos/apache/drill/issues/1037","id":345107735,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NTEwNzczNQ==","user":{"login":"parthchandra","id":6529136,"node_id":"MDQ6VXNlcjY1MjkxMzY=","avatar_url":"https://avatars.githubusercontent.com/u/6529136?v=4","gravatar_id":"","url":"https://api.github.com/users/parthchandra","html_url":"https://github.com/parthchandra","followers_url":"https://api.github.com/users/parthchandra/followers","following_url":"https://api.github.com/users/parthchandra/following{/other_user}","gists_url":"https://api.github.com/users/parthchandra/gists{/gist_id}","starred_url":"https://api.github.com/users/parthchandra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/parthchandra/subscriptions","organizations_url":"https://api.github.com/users/parthchandra/orgs","repos_url":"https://api.github.com/users/parthchandra/repos","events_url":"https://api.github.com/users/parthchandra/events{/privacy}","received_events_url":"https://api.github.com/users/parthchandra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-17T00:29:34Z","updated_at":"2017-11-17T00:29:34Z","author_association":"CONTRIBUTOR","body":"LGTM. (Yes, let's merge this in before 1.12.)","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/345107735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/345108990","html_url":"https://github.com/apache/drill/pull/944#issuecomment-345108990","issue_url":"https://api.github.com/repos/apache/drill/issues/944","id":345108990,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NTEwODk5MA==","user":{"login":"sohami","id":22159459,"node_id":"MDQ6VXNlcjIyMTU5NDU5","avatar_url":"https://avatars.githubusercontent.com/u/22159459?v=4","gravatar_id":"","url":"https://api.github.com/users/sohami","html_url":"https://github.com/sohami","followers_url":"https://api.github.com/users/sohami/followers","following_url":"https://api.github.com/users/sohami/following{/other_user}","gists_url":"https://api.github.com/users/sohami/gists{/gist_id}","starred_url":"https://api.github.com/users/sohami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sohami/subscriptions","organizations_url":"https://api.github.com/users/sohami/orgs","repos_url":"https://api.github.com/users/sohami/repos","events_url":"https://api.github.com/users/sohami/events{/privacy}","received_events_url":"https://api.github.com/users/sohami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-17T00:37:09Z","updated_at":"2017-11-17T00:37:09Z","author_association":"CONTRIBUTOR","body":"Created a separate PR for this JIRA: https://github.com/apache/drill/pull/1040\r\n1) I have kept the initial commit with the new PR and added new changes as separate commit.\r\n2) Changes include refactoring of the code, added new tests and fixes done for the issues.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/345108990/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/345111932","html_url":"https://github.com/apache/drill/pull/1037#issuecomment-345111932","issue_url":"https://api.github.com/repos/apache/drill/issues/1037","id":345111932,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NTExMTkzMg==","user":{"login":"superbstreak","id":6262024,"node_id":"MDQ6VXNlcjYyNjIwMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/6262024?v=4","gravatar_id":"","url":"https://api.github.com/users/superbstreak","html_url":"https://github.com/superbstreak","followers_url":"https://api.github.com/users/superbstreak/followers","following_url":"https://api.github.com/users/superbstreak/following{/other_user}","gists_url":"https://api.github.com/users/superbstreak/gists{/gist_id}","starred_url":"https://api.github.com/users/superbstreak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/superbstreak/subscriptions","organizations_url":"https://api.github.com/users/superbstreak/orgs","repos_url":"https://api.github.com/users/superbstreak/repos","events_url":"https://api.github.com/users/superbstreak/events{/privacy}","received_events_url":"https://api.github.com/users/superbstreak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-17T00:54:45Z","updated_at":"2017-11-17T00:54:45Z","author_association":"CONTRIBUTOR","body":"Thanks, @parthchandra !","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/345111932/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/345116050","html_url":"https://github.com/apache/drill/pull/1040#issuecomment-345116050","issue_url":"https://api.github.com/repos/apache/drill/issues/1040","id":345116050,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NTExNjA1MA==","user":{"login":"priteshm","id":1015719,"node_id":"MDQ6VXNlcjEwMTU3MTk=","avatar_url":"https://avatars.githubusercontent.com/u/1015719?v=4","gravatar_id":"","url":"https://api.github.com/users/priteshm","html_url":"https://github.com/priteshm","followers_url":"https://api.github.com/users/priteshm/followers","following_url":"https://api.github.com/users/priteshm/following{/other_user}","gists_url":"https://api.github.com/users/priteshm/gists{/gist_id}","starred_url":"https://api.github.com/users/priteshm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/priteshm/subscriptions","organizations_url":"https://api.github.com/users/priteshm/orgs","repos_url":"https://api.github.com/users/priteshm/repos","events_url":"https://api.github.com/users/priteshm/events{/privacy}","received_events_url":"https://api.github.com/users/priteshm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-17T01:19:48Z","updated_at":"2017-11-17T01:19:48Z","author_association":"NONE","body":"@arina-ielchiieva can you please review this?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/345116050/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/345119549","html_url":"https://github.com/apache/drill/pull/1041#issuecomment-345119549","issue_url":"https://api.github.com/repos/apache/drill/issues/1041","id":345119549,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NTExOTU0OQ==","user":{"login":"priteshm","id":1015719,"node_id":"MDQ6VXNlcjEwMTU3MTk=","avatar_url":"https://avatars.githubusercontent.com/u/1015719?v=4","gravatar_id":"","url":"https://api.github.com/users/priteshm","html_url":"https://github.com/priteshm","followers_url":"https://api.github.com/users/priteshm/followers","following_url":"https://api.github.com/users/priteshm/following{/other_user}","gists_url":"https://api.github.com/users/priteshm/gists{/gist_id}","starred_url":"https://api.github.com/users/priteshm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/priteshm/subscriptions","organizations_url":"https://api.github.com/users/priteshm/orgs","repos_url":"https://api.github.com/users/priteshm/repos","events_url":"https://api.github.com/users/priteshm/events{/privacy}","received_events_url":"https://api.github.com/users/priteshm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-17T01:41:52Z","updated_at":"2017-11-17T01:41:52Z","author_association":"NONE","body":"@parthchandra or @adityakishore since you'll have made changes to these files before, can you review the changes here?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/345119549/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/345146674","html_url":"https://github.com/apache/drill/pull/1001#issuecomment-345146674","issue_url":"https://api.github.com/repos/apache/drill/issues/1001","id":345146674,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NTE0NjY3NA==","user":{"login":"priteshm","id":1015719,"node_id":"MDQ6VXNlcjEwMTU3MTk=","avatar_url":"https://avatars.githubusercontent.com/u/1015719?v=4","gravatar_id":"","url":"https://api.github.com/users/priteshm","html_url":"https://github.com/priteshm","followers_url":"https://api.github.com/users/priteshm/followers","following_url":"https://api.github.com/users/priteshm/following{/other_user}","gists_url":"https://api.github.com/users/priteshm/gists{/gist_id}","starred_url":"https://api.github.com/users/priteshm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/priteshm/subscriptions","organizations_url":"https://api.github.com/users/priteshm/orgs","repos_url":"https://api.github.com/users/priteshm/repos","events_url":"https://api.github.com/users/priteshm/events{/privacy}","received_events_url":"https://api.github.com/users/priteshm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-17T05:06:53Z","updated_at":"2017-11-17T05:06:53Z","author_association":"NONE","body":"@ppadma @paul-rogers I see that @sachouche addressed the comments in the JIRA - is this one ready to merge?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/345146674/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/345148221","html_url":"https://github.com/apache/drill/pull/1001#issuecomment-345148221","issue_url":"https://api.github.com/repos/apache/drill/issues/1001","id":345148221,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NTE0ODIyMQ==","user":{"login":"ppadma","id":1904860,"node_id":"MDQ6VXNlcjE5MDQ4NjA=","avatar_url":"https://avatars.githubusercontent.com/u/1904860?v=4","gravatar_id":"","url":"https://api.github.com/users/ppadma","html_url":"https://github.com/ppadma","followers_url":"https://api.github.com/users/ppadma/followers","following_url":"https://api.github.com/users/ppadma/following{/other_user}","gists_url":"https://api.github.com/users/ppadma/gists{/gist_id}","starred_url":"https://api.github.com/users/ppadma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppadma/subscriptions","organizations_url":"https://api.github.com/users/ppadma/orgs","repos_url":"https://api.github.com/users/ppadma/repos","events_url":"https://api.github.com/users/ppadma/events{/privacy}","received_events_url":"https://api.github.com/users/ppadma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-17T05:20:24Z","updated_at":"2017-11-17T05:20:24Z","author_association":"CONTRIBUTOR","body":"@priteshm @sachouche This PR needs to be updated on top of changes made for DRILL-5899.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/345148221/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/345164727","html_url":"https://github.com/apache/drill/pull/914#issuecomment-345164727","issue_url":"https://api.github.com/repos/apache/drill/issues/914","id":345164727,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NTE2NDcyNw==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-17T07:17:15Z","updated_at":"2017-11-17T07:17:15Z","author_association":"CONTRIBUTOR","body":"Regarding the use of memory addresses. The only reason to do so is performance. To show the benefit of using addresses, I reran the `PerformanceTool` class to test the original code, the code using addresses, and a version that uses DrillBuf as @parthchandra suggested. I expected to see that using addresses was a winner. That's not at all what happened.\r\n\r\nThe code contains a class, `PerformanceTool` that compares the column writers with the original vector mutators. It loads a vector to 16 MB in size, repeated 300 times. The following are the run times, in ms.\r\n\r\nVector Type | Original  | New w/Address | New w/Drillbuf\r\n------------ | --------  | ------------  | ------------- \r\nRequired | 5703 | 4034 | 1461\r\nNullable | 12743 | 3645 | 3411\r\nRepeated | 20430 | 7226 | 2669\r\n\r\nHere:\r\n\r\n* \"Original\" column uses the original int vector mutator class.\r\n* \"New w/Address\" shows the same exercise, using the version of the vector writers based on a direct memory address.\r\n* \"New w/Drillbuf\" shows the vector writers, but using the technique Parth suggested to create \"unsafe\" methods on the `Drillbuf` class.\r\n\r\nThe test is run with a pre-allocated vector (no double-and-copy operations). See `PerformanceTool` for details.\r\n\r\nI have no explanation for why the `Drillbuf` version should be faster at all, let alone far faster; but I'll take it. The latest commit contains the code after this revision.\r\n\r\nSo, thank you Parth, you were right again with what turned out to be an outstanding performance boost.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/345164727/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/345277180","html_url":"https://github.com/apache/drill/pull/1031#issuecomment-345277180","issue_url":"https://api.github.com/repos/apache/drill/issues/1031","id":345277180,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NTI3NzE4MA==","user":{"login":"vrozov","id":12200381,"node_id":"MDQ6VXNlcjEyMjAwMzgx","avatar_url":"https://avatars.githubusercontent.com/u/12200381?v=4","gravatar_id":"","url":"https://api.github.com/users/vrozov","html_url":"https://github.com/vrozov","followers_url":"https://api.github.com/users/vrozov/followers","following_url":"https://api.github.com/users/vrozov/following{/other_user}","gists_url":"https://api.github.com/users/vrozov/gists{/gist_id}","starred_url":"https://api.github.com/users/vrozov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vrozov/subscriptions","organizations_url":"https://api.github.com/users/vrozov/orgs","repos_url":"https://api.github.com/users/vrozov/repos","events_url":"https://api.github.com/users/vrozov/events{/privacy}","received_events_url":"https://api.github.com/users/vrozov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-17T15:37:29Z","updated_at":"2017-11-17T15:37:29Z","author_association":"MEMBER","body":"@arina-ielchiieva Please test","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/345277180/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/345278124","html_url":"https://github.com/apache/drill/pull/1031#issuecomment-345278124","issue_url":"https://api.github.com/repos/apache/drill/issues/1031","id":345278124,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NTI3ODEyNA==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-17T15:40:56Z","updated_at":"2017-11-17T15:41:07Z","author_association":"MEMBER","body":"Test cluster is down for the weekend. You can test it locally, just run `mvn clean install -Pmapr`.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/345278124/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/345289586","html_url":"https://github.com/apache/drill/pull/1031#issuecomment-345289586","issue_url":"https://api.github.com/repos/apache/drill/issues/1031","id":345289586,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NTI4OTU4Ng==","user":{"login":"vrozov","id":12200381,"node_id":"MDQ6VXNlcjEyMjAwMzgx","avatar_url":"https://avatars.githubusercontent.com/u/12200381?v=4","gravatar_id":"","url":"https://api.github.com/users/vrozov","html_url":"https://github.com/vrozov","followers_url":"https://api.github.com/users/vrozov/followers","following_url":"https://api.github.com/users/vrozov/following{/other_user}","gists_url":"https://api.github.com/users/vrozov/gists{/gist_id}","starred_url":"https://api.github.com/users/vrozov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vrozov/subscriptions","organizations_url":"https://api.github.com/users/vrozov/orgs","repos_url":"https://api.github.com/users/vrozov/repos","events_url":"https://api.github.com/users/vrozov/events{/privacy}","received_events_url":"https://api.github.com/users/vrozov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-17T16:20:36Z","updated_at":"2017-11-17T16:20:36Z","author_association":"MEMBER","body":"I already tested mapr and default profile locally. Once test pass on your cluster, let me know and I'll squash commits.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/345289586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/345314594","html_url":"https://github.com/apache/drill/pull/335#issuecomment-345314594","issue_url":"https://api.github.com/repos/apache/drill/issues/335","id":345314594,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NTMxNDU5NA==","user":{"login":"cgivre","id":5513150,"node_id":"MDQ6VXNlcjU1MTMxNTA=","avatar_url":"https://avatars.githubusercontent.com/u/5513150?v=4","gravatar_id":"","url":"https://api.github.com/users/cgivre","html_url":"https://github.com/cgivre","followers_url":"https://api.github.com/users/cgivre/followers","following_url":"https://api.github.com/users/cgivre/following{/other_user}","gists_url":"https://api.github.com/users/cgivre/gists{/gist_id}","starred_url":"https://api.github.com/users/cgivre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cgivre/subscriptions","organizations_url":"https://api.github.com/users/cgivre/orgs","repos_url":"https://api.github.com/users/cgivre/repos","events_url":"https://api.github.com/users/cgivre/events{/privacy}","received_events_url":"https://api.github.com/users/cgivre/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-17T17:49:28Z","updated_at":"2017-11-17T17:49:28Z","author_association":"CONTRIBUTOR","body":"HI @k255 \r\nAre you still interested in this?  I think if we're going to get the GIS functions into Drill, we really should get this in as well and I'm happy to help.  For whatever reason, I didn't see this until this morning.  Anyway, if you'd be willing to rebase this, I can help shepherd it through the review process.\r\n-- C","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/345314594/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/345335687","html_url":"https://github.com/apache/drill/pull/914#issuecomment-345335687","issue_url":"https://api.github.com/repos/apache/drill/issues/914","id":345335687,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NTMzNTY4Nw==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-17T19:05:27Z","updated_at":"2017-11-17T19:05:27Z","author_association":"CONTRIBUTOR","body":"There has been discussion recently on Drill's goal of integrating with Arrow. The work to use the `Drillbuf` highlights how we can integrate with Arrow. Simply replace the `Drillbuf` usage with `ArrowBuf`, make the required changes in vector names, add a few methods to the Arrow API, and this entire mechanism can be easily ported over to use Arrow.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/345335687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]