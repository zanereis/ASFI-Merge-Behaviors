[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200055755","html_url":"https://github.com/apache/iceberg/pull/5050#issuecomment-1200055755","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5050","id":1200055755,"node_id":"IC_kwDOCW7NX85Hh2XL","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-30T01:06:13Z","updated_at":"2022-07-30T01:06:13Z","author_association":"CONTRIBUTOR","body":"Doc updated.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200055755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200061898","html_url":"https://github.com/apache/iceberg/pull/5382#issuecomment-1200061898","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5382","id":1200061898,"node_id":"IC_kwDOCW7NX85Hh33K","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-30T01:43:02Z","updated_at":"2022-07-30T01:46:22Z","author_association":"CONTRIBUTOR","body":"cc @flyrain @rdblue @stevenzwu @karuppayya @szehon-ho @RussellSpitzer @anuragmantri @kbendick ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200061898/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200064123","html_url":"https://github.com/apache/iceberg/issues/5371#issuecomment-1200064123","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5371","id":1200064123,"node_id":"IC_kwDOCW7NX85Hh4Z7","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-30T01:59:11Z","updated_at":"2022-07-30T01:59:11Z","author_association":"COLLABORATOR","body":"Yea you are right, in @flyrain  scenario the eviction time was set to 0, causing the Caffeine eviction + removal_listener thread to spawn immediately and close the client.  It is probably not a common issue if the eviction is set to 5 minutes, unless you have a custom user call run on the pool and waits awhile before using the client. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200064123/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200073253","html_url":"https://github.com/apache/iceberg/pull/5377#issuecomment-1200073253","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5377","id":1200073253,"node_id":"IC_kwDOCW7NX85Hh6ol","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-30T02:52:07Z","updated_at":"2022-07-30T02:52:07Z","author_association":"CONTRIBUTOR","body":"> Looks good to me. I had a few minor suggestions. Thanks for working on this, @kbendick!\r\n\r\nThanks for the review @aokolnychyi! I made those changes and rebased. This will hopefully help unblock parallelizing work on storage partitioned joins and things.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200073253/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200075292","html_url":"https://github.com/apache/iceberg/issues/5216#issuecomment-1200075292","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5216","id":1200075292,"node_id":"IC_kwDOCW7NX85Hh7Ic","user":{"login":"Initial-neko","id":40999666,"node_id":"MDQ6VXNlcjQwOTk5NjY2","avatar_url":"https://avatars.githubusercontent.com/u/40999666?v=4","gravatar_id":"","url":"https://api.github.com/users/Initial-neko","html_url":"https://github.com/Initial-neko","followers_url":"https://api.github.com/users/Initial-neko/followers","following_url":"https://api.github.com/users/Initial-neko/following{/other_user}","gists_url":"https://api.github.com/users/Initial-neko/gists{/gist_id}","starred_url":"https://api.github.com/users/Initial-neko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Initial-neko/subscriptions","organizations_url":"https://api.github.com/users/Initial-neko/orgs","repos_url":"https://api.github.com/users/Initial-neko/repos","events_url":"https://api.github.com/users/Initial-neko/events{/privacy}","received_events_url":"https://api.github.com/users/Initial-neko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-30T03:05:02Z","updated_at":"2022-07-30T03:05:02Z","author_association":"NONE","body":"@RussellSpitzer mean that this statistical total-delete-files item is not accurate yet, but the query efficiency will not be affected after action done","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200075292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200089524","html_url":"https://github.com/apache/iceberg/issues/5370#issuecomment-1200089524","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5370","id":1200089524,"node_id":"IC_kwDOCW7NX85Hh-m0","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-30T04:53:08Z","updated_at":"2022-07-30T04:53:46Z","author_association":"CONTRIBUTOR","body":"Now that I have implemented `FunctionCatalog` In https://github.com/apache/iceberg/pull/5377. (or once it's merged and useable), we can implement many functions with included codegen etc.\r\n\r\nThis could be a great / efficient use case for this eventually.\r\n\r\nMy priorities right now are `bucket`, and `zorder` for writing out partition transforms but re we raw a function `system.from_binary(typeID, value)` or something it could be pretty efficiently codegenned.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200089524/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200089666","html_url":"https://github.com/apache/iceberg/issues/5370#issuecomment-1200089666","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5370","id":1200089666,"node_id":"IC_kwDOCW7NX85Hh-pC","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-30T04:54:34Z","updated_at":"2022-07-30T04:54:34Z","author_association":"CONTRIBUTOR","body":"These functions will be useable from SparkSQL without any user registration needed and different function definitions can be made based on the input types (which spark will resolve).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200089666/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200089858","html_url":"https://github.com/apache/iceberg/issues/5370#issuecomment-1200089858","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5370","id":1200089858,"node_id":"IC_kwDOCW7NX85Hh-sC","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-30T04:56:35Z","updated_at":"2022-08-02T18:20:14Z","author_association":"CONTRIBUTOR","body":"But for now, the UDF or code from https://github.com/apache/iceberg/pull/4362 or https://github.com/apache/iceberg/pull/5376 should be potentially implemented as FunctionCatalog only goes back to Spark 3.2 anyways.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200089858/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200101656","html_url":"https://github.com/apache/iceberg/issues/5371#issuecomment-1200101656","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5371","id":1200101656,"node_id":"IC_kwDOCW7NX85HiBkY","user":{"login":"szlta","id":40628386,"node_id":"MDQ6VXNlcjQwNjI4Mzg2","avatar_url":"https://avatars.githubusercontent.com/u/40628386?v=4","gravatar_id":"","url":"https://api.github.com/users/szlta","html_url":"https://github.com/szlta","followers_url":"https://api.github.com/users/szlta/followers","following_url":"https://api.github.com/users/szlta/following{/other_user}","gists_url":"https://api.github.com/users/szlta/gists{/gist_id}","starred_url":"https://api.github.com/users/szlta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szlta/subscriptions","organizations_url":"https://api.github.com/users/szlta/orgs","repos_url":"https://api.github.com/users/szlta/repos","events_url":"https://api.github.com/users/szlta/events{/privacy}","received_events_url":"https://api.github.com/users/szlta/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-30T06:29:51Z","updated_at":"2022-07-30T06:30:01Z","author_association":"CONTRIBUTOR","body":">  the eviction time was set to 0\r\n\r\nOh! Well that explains it, I guess all bets are off in that case as JVM's thread scheduling will decide..\r\n\r\nShould we perhaps throw an IllegalArgumentException if CachedClientPool is attempted to be configured with 0 eviction time? Or maybe even define a larger minimum, let's say 1 second?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200101656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200116054","html_url":"https://github.com/apache/iceberg/pull/5392#issuecomment-1200116054","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5392","id":1200116054,"node_id":"IC_kwDOCW7NX85HiFFW","user":{"login":"manuzhang","id":1191767,"node_id":"MDQ6VXNlcjExOTE3Njc=","avatar_url":"https://avatars.githubusercontent.com/u/1191767?v=4","gravatar_id":"","url":"https://api.github.com/users/manuzhang","html_url":"https://github.com/manuzhang","followers_url":"https://api.github.com/users/manuzhang/followers","following_url":"https://api.github.com/users/manuzhang/following{/other_user}","gists_url":"https://api.github.com/users/manuzhang/gists{/gist_id}","starred_url":"https://api.github.com/users/manuzhang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manuzhang/subscriptions","organizations_url":"https://api.github.com/users/manuzhang/orgs","repos_url":"https://api.github.com/users/manuzhang/repos","events_url":"https://api.github.com/users/manuzhang/events{/privacy}","received_events_url":"https://api.github.com/users/manuzhang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-30T08:24:51Z","updated_at":"2022-07-30T08:25:33Z","author_association":"COLLABORATOR","body":"@rdblue @aokolnychyi @kbendick Please help review and suggest where to add a UT. I haven't found a proper place.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200116054/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200273043","html_url":"https://github.com/apache/iceberg/pull/5386#issuecomment-1200273043","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5386","id":1200273043,"node_id":"IC_kwDOCW7NX85HiraT","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-30T18:30:30Z","updated_at":"2022-07-30T18:30:30Z","author_association":"CONTRIBUTOR","body":"Thanks, @nastra!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200273043/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200274162","html_url":"https://github.com/apache/iceberg/pull/5230#issuecomment-1200274162","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5230","id":1200274162,"node_id":"IC_kwDOCW7NX85Hirry","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-30T18:37:48Z","updated_at":"2022-07-30T18:38:19Z","author_association":"CONTRIBUTOR","body":"> > They are intended for information to configure reading or writing a table.\r\n> \r\n> Time to evolve? :)\r\n\r\nI think this is a great demonstration of why we want to be strict. This would be a convenient place to stash properties, but then you run into situations like this one where properties don't provide the behavior guarantees that you want for another use case. If we think about implementing those behaviors, then we need to consider things like how to make assertions on the state of table properties in the REST API so that concurrent updates will fail and the client can retry. That's a lot of work and it makes the REST spec more difficult to implement.\r\n\r\nI think it is best to continue with the current behavior, especially given that there is a reasonable work-around.\r\n\r\nI'm going to close this, but if other people are interested we can revisit it later and reopen it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200274162/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200275092","html_url":"https://github.com/apache/iceberg/pull/5392#issuecomment-1200275092","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5392","id":1200275092,"node_id":"IC_kwDOCW7NX85Hir6U","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-30T18:43:40Z","updated_at":"2022-07-30T18:43:40Z","author_association":"CONTRIBUTOR","body":"I'm interested to hear what @szehon-ho and @RussellSpitzer think about this.\r\n\r\nMy initial reaction is that this is not something that we should change. We don't want to disable AQE for other Spark work, which is a side-effect of this change. I also don't like that we need to create a new Spark session for each rewrite, but I don't think there is much we can do to avoid it if we want to disable AQE. We could also fail if AQE is on or just accept the AQE results.\r\n\r\nAlso, is a separate table cache a bug? Since it is only used once, what is the problem with doing it this way? Sure, this won't cache the rewritten table, but is there a behavior problem or are loads just slightly slower?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200275092/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200283164","html_url":"https://github.com/apache/iceberg/pull/5287#issuecomment-1200283164","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5287","id":1200283164,"node_id":"IC_kwDOCW7NX85Hit4c","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-30T19:41:23Z","updated_at":"2022-07-30T19:41:23Z","author_association":"CONTRIBUTOR","body":"Awesome work, @Fokko! There are still a few minor comments, but there are no blockers so I merged this. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200283164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200283981","html_url":"https://github.com/apache/iceberg/pull/5275#issuecomment-1200283981","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5275","id":1200283981,"node_id":"IC_kwDOCW7NX85HiuFN","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-30T19:47:40Z","updated_at":"2022-07-30T19:47:40Z","author_association":"CONTRIBUTOR","body":"@Fokko, do you think we should move forward with this? As Kyle mentioned, if you use the included `RESTObjectMapper.mapper()` then the fields are sent and parsed correctly (as `metadata-location`). Did that solve the issue you ran into?\r\n\r\nWe were thinking that it wouldn't be necessary to add hand-coded parsers for each request/response class if we can ensure that the right mapper is always used. We do that in at least the client code.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200283981/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200298004","html_url":"https://github.com/apache/iceberg/pull/5393#issuecomment-1200298004","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5393","id":1200298004,"node_id":"IC_kwDOCW7NX85HixgU","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-30T21:35:59Z","updated_at":"2022-07-30T21:35:59Z","author_association":"CONTRIBUTOR","body":"Thanks, @stevenzwu!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200298004/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200325517","html_url":"https://github.com/apache/iceberg/pull/5392#issuecomment-1200325517","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5392","id":1200325517,"node_id":"IC_kwDOCW7NX85Hi4ON","user":{"login":"manuzhang","id":1191767,"node_id":"MDQ6VXNlcjExOTE3Njc=","avatar_url":"https://avatars.githubusercontent.com/u/1191767?v=4","gravatar_id":"","url":"https://api.github.com/users/manuzhang","html_url":"https://github.com/manuzhang","followers_url":"https://api.github.com/users/manuzhang/followers","following_url":"https://api.github.com/users/manuzhang/following{/other_user}","gists_url":"https://api.github.com/users/manuzhang/gists{/gist_id}","starred_url":"https://api.github.com/users/manuzhang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manuzhang/subscriptions","organizations_url":"https://api.github.com/users/manuzhang/orgs","repos_url":"https://api.github.com/users/manuzhang/repos","events_url":"https://api.github.com/users/manuzhang/events{/privacy}","received_events_url":"https://api.github.com/users/manuzhang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-31T01:19:08Z","updated_at":"2022-07-31T05:02:31Z","author_association":"COLLABORATOR","body":"@rdblue I've moved cloning session and disabling AQE into `RewriteDataFilesSparkAction`.\r\n\r\nWhen multiple rewrite actions are submitted concurrently as follows, they will block each other when loading table due to locks in shared `HiveExternalCatalog`. That hurts the overall performance of rewrite actions.\r\n\r\n```\r\nCALL spark_catalog.system.rewrite_data_files(table => 'default.table', options => map('max-concurrent-file-group-rewrites', '200'));\r\n```\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200325517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200341801","html_url":"https://github.com/apache/iceberg/pull/4401#issuecomment-1200341801","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4401","id":1200341801,"node_id":"IC_kwDOCW7NX85Hi8Mp","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-31T03:44:51Z","updated_at":"2022-07-31T03:44:51Z","author_association":"CONTRIBUTOR","body":"\r\n> @jackye1995 Is there a way to do the same thing using Java API? How can we read the location for all of data files given tableId and snapshotId?\r\n\r\n@prashantgohel1 You may have already gotten it, but  If you're looking for getting the data files for a table at a given snapshot, going through the Table APIs table.snapshot to get the snapshot, and then using snapshot's data manifest API to get all the data file manifests should work.https://github.com/apache/iceberg/blob/master/api/src/main/java/org/apache/iceberg/Snapshot.java#L101  Then it's a matter of using the Java library to read the manifest file.  https://github.com/apache/iceberg/blob/master/core/src/main/java/org/apache/iceberg/ManifestFiles.java#L71\r\n\r\nAnother way is to query the data files metadata table.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200341801/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200342190","html_url":"https://github.com/apache/iceberg/pull/4401#issuecomment-1200342190","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4401","id":1200342190,"node_id":"IC_kwDOCW7NX85Hi8Su","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-31T03:48:55Z","updated_at":"2022-07-31T03:59:10Z","author_association":"CONTRIBUTOR","body":"Discussed offline with @jackye1995 I'll be carrying this PR forward. So my thinking is the following:\r\n\r\n1.) I do think we need to have an explicit flag for ignoring deletes, it makes sense to me that the operation fails if there are deletes. This is because as a user, by default, I expect the actual state of the table to be represented in the symlink file. If the operation fails, it does force a user to do a compaction prior to running this procedure but I think that makes sense. And then if they really don't want this behavior they can pass in the flag to ignore deletes @kbendick @jackye1995 let me know your thinking or we can discuss on the PRs I plan on raising. \r\n\r\n2.) Looks like there's interest in having this be an actual Spark Action, I will add that. \r\n\r\n@jackye1995 Feel free to close this, I will add you as a co-author on the PR for the procedure implementation. Thanks!\r\n\r\n\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200342190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200355207","html_url":"https://github.com/apache/iceberg/pull/5392#issuecomment-1200355207","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5392","id":1200355207,"node_id":"IC_kwDOCW7NX85Hi_eH","user":{"login":"manuzhang","id":1191767,"node_id":"MDQ6VXNlcjExOTE3Njc=","avatar_url":"https://avatars.githubusercontent.com/u/1191767?v=4","gravatar_id":"","url":"https://api.github.com/users/manuzhang","html_url":"https://github.com/manuzhang","followers_url":"https://api.github.com/users/manuzhang/followers","following_url":"https://api.github.com/users/manuzhang/following{/other_user}","gists_url":"https://api.github.com/users/manuzhang/gists{/gist_id}","starred_url":"https://api.github.com/users/manuzhang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manuzhang/subscriptions","organizations_url":"https://api.github.com/users/manuzhang/orgs","repos_url":"https://api.github.com/users/manuzhang/repos","events_url":"https://api.github.com/users/manuzhang/events{/privacy}","received_events_url":"https://api.github.com/users/manuzhang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-31T05:57:04Z","updated_at":"2022-07-31T05:57:04Z","author_association":"COLLABORATOR","body":"There is another lock in `SessionCatalog#tableExists` for Spark versions before https://github.com/apache/spark/pull/31891 since sessionCatalog is also shared.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200355207/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200357123","html_url":"https://github.com/apache/iceberg/pull/5392#issuecomment-1200357123","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5392","id":1200357123,"node_id":"IC_kwDOCW7NX85Hi_8D","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-31T06:11:21Z","updated_at":"2022-07-31T06:11:21Z","author_association":"CONTRIBUTOR","body":"Ignore my previous comments I had the caches mistaken.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200357123/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200357545","html_url":"https://github.com/apache/iceberg/pull/5392#issuecomment-1200357545","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5392","id":1200357545,"node_id":"IC_kwDOCW7NX85HjACp","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-31T06:15:08Z","updated_at":"2022-07-31T06:15:08Z","author_association":"CONTRIBUTOR","body":"I will say that I don't love the idea of asking users to disable AQE (e.g. not cloning the session and ensuring AQE is disabled), as much as cloning the session is somewhat of a pain.\r\n\r\nPeople use these statements at the end of queries and disabling AQE would be a bummer.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200357545/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200459064","html_url":"https://github.com/apache/iceberg/pull/5327#issuecomment-1200459064","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5327","id":1200459064,"node_id":"IC_kwDOCW7NX85HjY04","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-31T16:39:24Z","updated_at":"2022-07-31T16:39:24Z","author_association":"CONTRIBUTOR","body":"I think we should be very careful about introducing new methods to the `Catalog` API. There needs to be a strong justification for adding to it, and I don't think merging this PR is a good idea.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200459064/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200459641","html_url":"https://github.com/apache/iceberg/pull/5392#issuecomment-1200459641","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5392","id":1200459641,"node_id":"IC_kwDOCW7NX85HjY95","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-31T16:43:31Z","updated_at":"2022-07-31T16:43:31Z","author_association":"CONTRIBUTOR","body":"@manuzhang, it seems reasonable to create a session for the entire rewrite, not just each Spark submission. Is that what was happening before?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200459641/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200459765","html_url":"https://github.com/apache/iceberg/pull/5396#issuecomment-1200459765","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5396","id":1200459765,"node_id":"IC_kwDOCW7NX85HjY_1","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-31T16:44:26Z","updated_at":"2022-07-31T16:44:26Z","author_association":"CONTRIBUTOR","body":"Thanks, @dependabot!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200459765/reactions","total_count":1,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200460042","html_url":"https://github.com/apache/iceberg/pull/5395#issuecomment-1200460042","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5395","id":1200460042,"node_id":"IC_kwDOCW7NX85HjZEK","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-31T16:46:35Z","updated_at":"2022-07-31T16:46:35Z","author_association":"CONTRIBUTOR","body":"@karuppayya, can you add a description to this PR that documents the problem and how this fixes it?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200460042/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200466401","html_url":"https://github.com/apache/iceberg/pull/5401#issuecomment-1200466401","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5401","id":1200466401,"node_id":"IC_kwDOCW7NX85Hjanh","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-31T17:26:05Z","updated_at":"2022-08-01T05:38:53Z","author_association":"CONTRIBUTOR","body":"@rdblue I just realized that my last PR missed the metric group. Also add full table name to metric group so that we can distinguish metrics for different sources/tables.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200466401/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200494761","html_url":"https://github.com/apache/iceberg/pull/4867#issuecomment-1200494761","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4867","id":1200494761,"node_id":"IC_kwDOCW7NX85Hjhip","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-31T20:31:10Z","updated_at":"2022-07-31T20:31:10Z","author_association":"CONTRIBUTOR","body":"Merged! Thanks for getting this done, @Fokko!\r\n\r\nI didn't wait for CI because this doesn't change any code.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200494761/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200528737","html_url":"https://github.com/apache/iceberg/pull/5377#issuecomment-1200528737","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5377","id":1200528737,"node_id":"IC_kwDOCW7NX85Hjp1h","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-31T23:41:18Z","updated_at":"2022-07-31T23:41:18Z","author_association":"CONTRIBUTOR","body":"@rdblue I addressed your most recent comments. Can you please take a look?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200528737/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200537163","html_url":"https://github.com/apache/iceberg/issues/4015#issuecomment-1200537163","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4015","id":1200537163,"node_id":"IC_kwDOCW7NX85Hjr5L","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T00:14:04Z","updated_at":"2022-08-01T00:14:04Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200537163/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200537173","html_url":"https://github.com/apache/iceberg/issues/4002#issuecomment-1200537173","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4002","id":1200537173,"node_id":"IC_kwDOCW7NX85Hjr5V","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T00:14:06Z","updated_at":"2022-08-01T00:14:06Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200537173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200537185","html_url":"https://github.com/apache/iceberg/issues/4000#issuecomment-1200537185","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4000","id":1200537185,"node_id":"IC_kwDOCW7NX85Hjr5h","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T00:14:07Z","updated_at":"2022-08-01T00:14:07Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200537185/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200537192","html_url":"https://github.com/apache/iceberg/issues/3995#issuecomment-1200537192","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3995","id":1200537192,"node_id":"IC_kwDOCW7NX85Hjr5o","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T00:14:09Z","updated_at":"2022-08-01T00:14:09Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200537192/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200537203","html_url":"https://github.com/apache/iceberg/issues/3963#issuecomment-1200537203","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3963","id":1200537203,"node_id":"IC_kwDOCW7NX85Hjr5z","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T00:14:10Z","updated_at":"2022-08-01T00:14:10Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200537203/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200537211","html_url":"https://github.com/apache/iceberg/issues/3962#issuecomment-1200537211","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3962","id":1200537211,"node_id":"IC_kwDOCW7NX85Hjr57","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T00:14:11Z","updated_at":"2022-08-01T00:14:11Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200537211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200537221","html_url":"https://github.com/apache/iceberg/issues/3960#issuecomment-1200537221","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3960","id":1200537221,"node_id":"IC_kwDOCW7NX85Hjr6F","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T00:14:12Z","updated_at":"2022-08-01T00:14:12Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200537221/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200564145","html_url":"https://github.com/apache/iceberg/issues/5384#issuecomment-1200564145","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5384","id":1200564145,"node_id":"IC_kwDOCW7NX85Hjyex","user":{"login":"Cqz666","id":50294123,"node_id":"MDQ6VXNlcjUwMjk0MTIz","avatar_url":"https://avatars.githubusercontent.com/u/50294123?v=4","gravatar_id":"","url":"https://api.github.com/users/Cqz666","html_url":"https://github.com/Cqz666","followers_url":"https://api.github.com/users/Cqz666/followers","following_url":"https://api.github.com/users/Cqz666/following{/other_user}","gists_url":"https://api.github.com/users/Cqz666/gists{/gist_id}","starred_url":"https://api.github.com/users/Cqz666/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Cqz666/subscriptions","organizations_url":"https://api.github.com/users/Cqz666/orgs","repos_url":"https://api.github.com/users/Cqz666/repos","events_url":"https://api.github.com/users/Cqz666/events{/privacy}","received_events_url":"https://api.github.com/users/Cqz666/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T01:11:02Z","updated_at":"2022-08-01T01:11:02Z","author_association":"NONE","body":"Thanks, It works.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200564145/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200572035","html_url":"https://github.com/apache/iceberg/pull/5392#issuecomment-1200572035","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5392","id":1200572035,"node_id":"IC_kwDOCW7NX85Hj0aD","user":{"login":"manuzhang","id":1191767,"node_id":"MDQ6VXNlcjExOTE3Njc=","avatar_url":"https://avatars.githubusercontent.com/u/1191767?v=4","gravatar_id":"","url":"https://api.github.com/users/manuzhang","html_url":"https://github.com/manuzhang","followers_url":"https://api.github.com/users/manuzhang/followers","following_url":"https://api.github.com/users/manuzhang/following{/other_user}","gists_url":"https://api.github.com/users/manuzhang/gists{/gist_id}","starred_url":"https://api.github.com/users/manuzhang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manuzhang/subscriptions","organizations_url":"https://api.github.com/users/manuzhang/orgs","repos_url":"https://api.github.com/users/manuzhang/repos","events_url":"https://api.github.com/users/manuzhang/events{/privacy}","received_events_url":"https://api.github.com/users/manuzhang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T01:24:19Z","updated_at":"2022-08-01T01:24:19Z","author_association":"COLLABORATOR","body":"> Is that what was happening before?\r\n\r\nDo you mean session was created for the entire rewrite before? \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200572035/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200655713","html_url":"https://github.com/apache/iceberg/pull/5327#issuecomment-1200655713","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5327","id":1200655713,"node_id":"IC_kwDOCW7NX85HkI1h","user":{"login":"yabola","id":31469905,"node_id":"MDQ6VXNlcjMxNDY5OTA1","avatar_url":"https://avatars.githubusercontent.com/u/31469905?v=4","gravatar_id":"","url":"https://api.github.com/users/yabola","html_url":"https://github.com/yabola","followers_url":"https://api.github.com/users/yabola/followers","following_url":"https://api.github.com/users/yabola/following{/other_user}","gists_url":"https://api.github.com/users/yabola/gists{/gist_id}","starred_url":"https://api.github.com/users/yabola/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yabola/subscriptions","organizations_url":"https://api.github.com/users/yabola/orgs","repos_url":"https://api.github.com/users/yabola/repos","events_url":"https://api.github.com/users/yabola/events{/privacy}","received_events_url":"https://api.github.com/users/yabola/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T03:32:50Z","updated_at":"2022-08-01T03:32:50Z","author_association":"CONTRIBUTOR","body":"> I think we should be very careful about introducing new methods to the `Catalog` API. There needs to be a strong justification for adding to it, and I don't think merging this PR is a good idea.\r\n\r\nHow about reuse `registerTable` procedure?\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200655713/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200849416","html_url":"https://github.com/apache/iceberg/pull/5312#issuecomment-1200849416","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5312","id":1200849416,"node_id":"IC_kwDOCW7NX85Hk4II","user":{"login":"zinking","id":118241,"node_id":"MDQ6VXNlcjExODI0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/118241?v=4","gravatar_id":"","url":"https://api.github.com/users/zinking","html_url":"https://github.com/zinking","followers_url":"https://api.github.com/users/zinking/followers","following_url":"https://api.github.com/users/zinking/following{/other_user}","gists_url":"https://api.github.com/users/zinking/gists{/gist_id}","starred_url":"https://api.github.com/users/zinking/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zinking/subscriptions","organizations_url":"https://api.github.com/users/zinking/orgs","repos_url":"https://api.github.com/users/zinking/repos","events_url":"https://api.github.com/users/zinking/events{/privacy}","received_events_url":"https://api.github.com/users/zinking/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T07:57:32Z","updated_at":"2022-08-01T07:57:32Z","author_association":"CONTRIBUTOR","body":"@nastra  why the default width is required to be changed?  you are causing so much trouble for downstream to merge these conflicts. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200849416/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200879863","html_url":"https://github.com/apache/iceberg/pull/5312#issuecomment-1200879863","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5312","id":1200879863,"node_id":"IC_kwDOCW7NX85Hk_j3","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T08:23:06Z","updated_at":"2022-08-01T08:23:06Z","author_association":"CONTRIBUTOR","body":"@zinking we had to pick one format that produce the same format and can be enforced across cmd line / Eclipse / Intellij and we went with the *google-java-format*, which has a line length of 100 (and is not customizable unfortunately). \r\nWe had to do this short-term disruption for the sake of long-term consistency and to overall improve the project. For some context about why Spotless + *google-java-format* was chosen, please refer to the [ML thread](https://lists.apache.org/thread/rkv5omc5hfpyx9w87frhdyggbgvpv6sw).\r\n\r\nIn order to reduce the amount of conflicts, please follow the below steps:\r\n\r\n1. Rebase your PR branch against the commit before the „Big Bang“\r\n2. Run `./gradlew spotlessApply`\r\n3. Squash all commits\r\n4. Rebase against the latest HEAD of the master branch\r\n5. Force-push your branch\r\n\r\nAdditionally, make sure to install the *google-java-format* plugin for your IDE as outlined in https://github.com/apache/iceberg-docs/pull/125 so that you can format code inside the IDE as well.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200879863/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200988931","html_url":"https://github.com/apache/iceberg/issues/5404#issuecomment-1200988931","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5404","id":1200988931,"node_id":"IC_kwDOCW7NX85HlaMD","user":{"login":"zhushanwei","id":53216479,"node_id":"MDQ6VXNlcjUzMjE2NDc5","avatar_url":"https://avatars.githubusercontent.com/u/53216479?v=4","gravatar_id":"","url":"https://api.github.com/users/zhushanwei","html_url":"https://github.com/zhushanwei","followers_url":"https://api.github.com/users/zhushanwei/followers","following_url":"https://api.github.com/users/zhushanwei/following{/other_user}","gists_url":"https://api.github.com/users/zhushanwei/gists{/gist_id}","starred_url":"https://api.github.com/users/zhushanwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhushanwei/subscriptions","organizations_url":"https://api.github.com/users/zhushanwei/orgs","repos_url":"https://api.github.com/users/zhushanwei/repos","events_url":"https://api.github.com/users/zhushanwei/events{/privacy}","received_events_url":"https://api.github.com/users/zhushanwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T10:04:04Z","updated_at":"2022-08-01T10:04:04Z","author_association":"NONE","body":"I used the upsert mode","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1200988931/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201162112","html_url":"https://github.com/apache/iceberg/pull/5405#issuecomment-1201162112","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5405","id":1201162112,"node_id":"IC_kwDOCW7NX85HmEeA","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T12:52:30Z","updated_at":"2022-08-01T12:52:30Z","author_association":"CONTRIBUTOR","body":"Would using a different warehouse uri help here?\r\nIf we absolute need this change, could we add a test case so there will be no regressions later?\r\n\r\nThanks,\r\nPeter","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201162112/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201385884","html_url":"https://github.com/apache/iceberg/pull/5021#issuecomment-1201385884","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5021","id":1201385884,"node_id":"IC_kwDOCW7NX85Hm7Gc","user":{"login":"findepi","id":144328,"node_id":"MDQ6VXNlcjE0NDMyOA==","avatar_url":"https://avatars.githubusercontent.com/u/144328?v=4","gravatar_id":"","url":"https://api.github.com/users/findepi","html_url":"https://github.com/findepi","followers_url":"https://api.github.com/users/findepi/followers","following_url":"https://api.github.com/users/findepi/following{/other_user}","gists_url":"https://api.github.com/users/findepi/gists{/gist_id}","starred_url":"https://api.github.com/users/findepi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/findepi/subscriptions","organizations_url":"https://api.github.com/users/findepi/orgs","repos_url":"https://api.github.com/users/findepi/repos","events_url":"https://api.github.com/users/findepi/events{/privacy}","received_events_url":"https://api.github.com/users/findepi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T15:54:02Z","updated_at":"2022-08-01T15:54:02Z","author_association":"MEMBER","body":"Updated after merge of https://github.com/apache/iceberg/pull/4945.\r\n\r\n@rdblue can you please take a look?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201385884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201391911","html_url":"https://github.com/apache/iceberg/issues/5399#issuecomment-1201391911","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5399","id":1201391911,"node_id":"IC_kwDOCW7NX85Hm8kn","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T15:58:54Z","updated_at":"2022-08-01T15:58:54Z","author_association":"MEMBER","body":"@lvyanquan:\r\n\r\nDo you have a testcase or sample SQL to reproduce this? \r\nAs I want to know when do we build the `history partition-specs`","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201391911/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201446677","html_url":"https://github.com/apache/iceberg/pull/5409#issuecomment-1201446677","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5409","id":1201446677,"node_id":"IC_kwDOCW7NX85HnJ8V","user":{"login":"karuppayya","id":5082742,"node_id":"MDQ6VXNlcjUwODI3NDI=","avatar_url":"https://avatars.githubusercontent.com/u/5082742?v=4","gravatar_id":"","url":"https://api.github.com/users/karuppayya","html_url":"https://github.com/karuppayya","followers_url":"https://api.github.com/users/karuppayya/followers","following_url":"https://api.github.com/users/karuppayya/following{/other_user}","gists_url":"https://api.github.com/users/karuppayya/gists{/gist_id}","starred_url":"https://api.github.com/users/karuppayya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karuppayya/subscriptions","organizations_url":"https://api.github.com/users/karuppayya/orgs","repos_url":"https://api.github.com/users/karuppayya/repos","events_url":"https://api.github.com/users/karuppayya/events{/privacy}","received_events_url":"https://api.github.com/users/karuppayya/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T16:38:41Z","updated_at":"2022-08-01T16:38:41Z","author_association":"CONTRIBUTOR","body":"cc: @RussellSpitzer @aokolnychyi @flyrain @szehon-ho @rdblue ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201446677/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201456060","html_url":"https://github.com/apache/iceberg/pull/5050#issuecomment-1201456060","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5050","id":1201456060,"node_id":"IC_kwDOCW7NX85HnMO8","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T16:47:24Z","updated_at":"2022-08-01T16:47:24Z","author_association":"CONTRIBUTOR","body":"Thanks, @hililiwei!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201456060/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201514298","html_url":"https://github.com/apache/iceberg/pull/5367#issuecomment-1201514298","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5367","id":1201514298,"node_id":"IC_kwDOCW7NX85Hnac6","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T17:42:12Z","updated_at":"2022-08-01T17:42:12Z","author_association":"COLLABORATOR","body":"Lets give a day or two for other comment, will merge the name change and doc if there is none","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201514298/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201545507","html_url":"https://github.com/apache/iceberg/pull/4518#issuecomment-1201545507","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4518","id":1201545507,"node_id":"IC_kwDOCW7NX85HniEj","user":{"login":"rizaon","id":6033430,"node_id":"MDQ6VXNlcjYwMzM0MzA=","avatar_url":"https://avatars.githubusercontent.com/u/6033430?v=4","gravatar_id":"","url":"https://api.github.com/users/rizaon","html_url":"https://github.com/rizaon","followers_url":"https://api.github.com/users/rizaon/followers","following_url":"https://api.github.com/users/rizaon/following{/other_user}","gists_url":"https://api.github.com/users/rizaon/gists{/gist_id}","starred_url":"https://api.github.com/users/rizaon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rizaon/subscriptions","organizations_url":"https://api.github.com/users/rizaon/orgs","repos_url":"https://api.github.com/users/rizaon/repos","events_url":"https://api.github.com/users/rizaon/events{/privacy}","received_events_url":"https://api.github.com/users/rizaon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T18:14:27Z","updated_at":"2022-08-01T18:14:27Z","author_association":"CONTRIBUTOR","body":"337bfe8 is a rebase + `spotlessApply` of 4d4c4fa ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201545507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201556939","html_url":"https://github.com/apache/iceberg/pull/5395#issuecomment-1201556939","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5395","id":1201556939,"node_id":"IC_kwDOCW7NX85Hnk3L","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T18:26:40Z","updated_at":"2022-08-01T18:28:15Z","author_association":"MEMBER","body":"@rdblue Just to note this is still actually incorrect as we are using the `table.currentSchema.highestId` and not `table.allschemas.highestId`. But that fix is going to take a bit more refactoring. I originally guessed the issue was related to dropped fields when this got reported to us.\r\n\r\nImagine I have \r\n`{A: 1, B: 2, C:3}`\r\n\r\nAnd then a user drops C so I have\r\n`{A: 1, B: 2} Highest Field ID = 3`\r\n\r\nThen we do a mergeSchema with\r\n`{A, B, D}`\r\n\r\nI will end up assigning (highestId({A:1, B:2}) + 1) to D (3)\r\nThe table would then have schemas : \r\n```\r\nSchemas {\r\n{A: 1, B: 2, C: 3}\r\n{A: 1, B: 2}\r\n{A: 1, B :2, D: 3}\r\n}\r\n```\r\n\r\nI still think we should merge this fix first as it corrects monotonically changing tables","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201556939/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201563545","html_url":"https://github.com/apache/iceberg/pull/5395#issuecomment-1201563545","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5395","id":1201563545,"node_id":"IC_kwDOCW7NX85HnmeZ","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T18:29:31Z","updated_at":"2022-08-01T18:29:31Z","author_association":"MEMBER","body":"Known Test Failure, https://github.com/apache/iceberg/pull/5366/files#diff-7883582b4a4aa07e2c25d94e55959d23cfc2ad8e2721b5c1881a2cd2a5205a44","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201563545/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201564797","html_url":"https://github.com/apache/iceberg/pull/5327#issuecomment-1201564797","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5327","id":1201564797,"node_id":"IC_kwDOCW7NX85Hnmx9","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T18:31:03Z","updated_at":"2022-08-01T18:31:03Z","author_association":"CONTRIBUTOR","body":"> How about reuse registerTable procedure?\r\n\r\nIf you mean to add more arguments to `registerTable` so that it is an atomic operation, I don't really see much point to it. If this is a recovery operation for cases like the ones @szehon-ho listed in the issues, then why does it need to be atomic? The table is already broken.\r\n\r\nWe added `registerTable` as a way to migrate to a new metastore. At the time, there were concerns about people misusing it to fork tables and do other unreliable things. I still have that concern for this operation. Reusing `registerTable` as-is seems like the best way to avoid those problems.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201564797/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201566177","html_url":"https://github.com/apache/iceberg/pull/5366#issuecomment-1201566177","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5366","id":1201566177,"node_id":"IC_kwDOCW7NX85HnnHh","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T18:32:45Z","updated_at":"2022-08-01T18:32:45Z","author_association":"MEMBER","body":"Thanks @singhpk234  and thanks @saswata-dutta for review!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201566177/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201567914","html_url":"https://github.com/apache/iceberg/pull/5395#issuecomment-1201567914","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5395","id":1201567914,"node_id":"IC_kwDOCW7NX85Hnniq","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T18:34:53Z","updated_at":"2022-08-01T18:34:53Z","author_association":"CONTRIBUTOR","body":"Re-running failed CI jobs","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201567914/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201575072","html_url":"https://github.com/apache/iceberg/pull/5377#issuecomment-1201575072","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5377","id":1201575072,"node_id":"IC_kwDOCW7NX85HnpSg","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T18:43:21Z","updated_at":"2022-08-01T18:43:21Z","author_association":"CONTRIBUTOR","body":"Merged. @kbendick, can you backport this to 3.2 as well?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201575072/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201576505","html_url":"https://github.com/apache/iceberg/pull/5373#issuecomment-1201576505","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5373","id":1201576505,"node_id":"IC_kwDOCW7NX85Hnpo5","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T18:45:02Z","updated_at":"2022-08-01T18:45:02Z","author_association":"CONTRIBUTOR","body":"@szehon-ho @dramaticlly @aokolnychyi also for this PR, I'll just focus on spark 3.3, and we can copy the implementation changes to other versions in separate PRs.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201576505/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201578469","html_url":"https://github.com/apache/iceberg/pull/5373#issuecomment-1201578469","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5373","id":1201578469,"node_id":"IC_kwDOCW7NX85HnqHl","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T18:47:14Z","updated_at":"2022-08-01T18:47:14Z","author_association":"CONTRIBUTOR","body":"> LGTM, I was thinking about adding one for expire snapshots as well. But looking at this change, I noticed there's no test coverage included, can we add any unit tests for this ?\r\n\r\nYeah for sure, I still need to add tests for this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201578469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201598332","html_url":"https://github.com/apache/iceberg/pull/5377#issuecomment-1201598332","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5377","id":1201598332,"node_id":"IC_kwDOCW7NX85Hnu98","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T19:07:30Z","updated_at":"2022-08-01T19:07:30Z","author_association":"CONTRIBUTOR","body":"> Merged. @kbendick, can you backport this to 3.2 as well?\r\n\r\nWorking on it now!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201598332/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201618089","html_url":"https://github.com/apache/iceberg/pull/5377#issuecomment-1201618089","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5377","id":1201618089,"node_id":"IC_kwDOCW7NX85Hnzyp","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T19:23:36Z","updated_at":"2022-08-01T19:23:51Z","author_association":"CONTRIBUTOR","body":"New PR for Spark 3.2: https://github.com/apache/iceberg/pull/5411\r\n\r\nI'll ping people on it once unit tests have finished passing.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201618089/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201658556","html_url":"https://github.com/apache/iceberg/pull/5411#issuecomment-1201658556","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5411","id":1201658556,"node_id":"IC_kwDOCW7NX85Hn9q8","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T20:07:23Z","updated_at":"2022-08-01T20:07:23Z","author_association":"CONTRIBUTOR","body":"cc @rdblue @aokolnychyi I backported `FunctionCatalog` to Spark 3.2","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201658556/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201666183","html_url":"https://github.com/apache/iceberg/pull/5395#issuecomment-1201666183","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5395","id":1201666183,"node_id":"IC_kwDOCW7NX85Hn_iH","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T20:14:42Z","updated_at":"2022-08-01T20:14:42Z","author_association":"CONTRIBUTOR","body":"Merged. Thanks, @karuppayya! I've also marked this for inclusion in the next patch release.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201666183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201713531","html_url":"https://github.com/apache/iceberg/pull/5373#issuecomment-1201713531","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5373","id":1201713531,"node_id":"IC_kwDOCW7NX85HoLF7","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T20:58:46Z","updated_at":"2022-08-01T21:03:44Z","author_association":"CONTRIBUTOR","body":"I've updated this PR to be based off my change here: https://github.com/apache/iceberg/pull/5379/files\r\nThat change should go in first (if we decide it's the right way to go) and then this PR can just focus on the integration with the procedure.\r\n\r\nIn the updated logic for the procedure, we will always use the delete func if it's specified. \r\n\r\nIf a delete function is not specified and the file io does not support bulk operations we would use the default delete function. Otherwise the bulk delete is used by default.\r\n\r\nWhat this means is bulk operations will always be used (if the file io supports it) without considering user input. I was discussing with @dramaticlly perhaps we want more control over this and it should be specified in the action (something like useBulkDelete())?\r\n\r\nAlso now we are delegating task management to the file IO, which I think makes sense but there's another argument that each procedure should control this since failure handling or retries would depend on the desired behavior for the procedure. What are peoples thoughts here? @dramaticlly @aokolnychyi @RussellSpitzer @karuppayya \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201713531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201746636","html_url":"https://github.com/apache/iceberg/pull/4871#issuecomment-1201746636","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4871","id":1201746636,"node_id":"IC_kwDOCW7NX85HoTLM","user":{"login":"rzhang10","id":75445426,"node_id":"MDQ6VXNlcjc1NDQ1NDI2","avatar_url":"https://avatars.githubusercontent.com/u/75445426?v=4","gravatar_id":"","url":"https://api.github.com/users/rzhang10","html_url":"https://github.com/rzhang10","followers_url":"https://api.github.com/users/rzhang10/followers","following_url":"https://api.github.com/users/rzhang10/following{/other_user}","gists_url":"https://api.github.com/users/rzhang10/gists{/gist_id}","starred_url":"https://api.github.com/users/rzhang10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rzhang10/subscriptions","organizations_url":"https://api.github.com/users/rzhang10/orgs","repos_url":"https://api.github.com/users/rzhang10/repos","events_url":"https://api.github.com/users/rzhang10/events{/privacy}","received_events_url":"https://api.github.com/users/rzhang10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T21:34:13Z","updated_at":"2022-08-01T21:34:13Z","author_association":"CONTRIBUTOR","body":"@rdblue I've addressed the comments and rebased on master and also did a `spotlessApply`, could you review again?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201746636/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201791214","html_url":"https://github.com/apache/iceberg/pull/5411#issuecomment-1201791214","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5411","id":1201791214,"node_id":"IC_kwDOCW7NX85HoeDu","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T22:22:37Z","updated_at":"2022-08-01T22:22:37Z","author_association":"CONTRIBUTOR","body":"Thanks, @kbendick!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201791214/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201826444","html_url":"https://github.com/apache/iceberg/pull/5331#issuecomment-1201826444","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5331","id":1201826444,"node_id":"IC_kwDOCW7NX85HomqM","user":{"login":"ericlgoodman","id":6923972,"node_id":"MDQ6VXNlcjY5MjM5NzI=","avatar_url":"https://avatars.githubusercontent.com/u/6923972?v=4","gravatar_id":"","url":"https://api.github.com/users/ericlgoodman","html_url":"https://github.com/ericlgoodman","followers_url":"https://api.github.com/users/ericlgoodman/followers","following_url":"https://api.github.com/users/ericlgoodman/following{/other_user}","gists_url":"https://api.github.com/users/ericlgoodman/gists{/gist_id}","starred_url":"https://api.github.com/users/ericlgoodman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ericlgoodman/subscriptions","organizations_url":"https://api.github.com/users/ericlgoodman/orgs","repos_url":"https://api.github.com/users/ericlgoodman/repos","events_url":"https://api.github.com/users/ericlgoodman/events{/privacy}","received_events_url":"https://api.github.com/users/ericlgoodman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T23:11:35Z","updated_at":"2022-08-01T23:11:35Z","author_association":"CONTRIBUTOR","body":"Adding here my primary concern with this PR - and in general a concern going forward with Spark and using multiple tables such as Delta Lake and Iceberg.\r\n\r\nSpark reads tables through whatever catalog is located at the first part of a table's identifier. There can only be 1 catalog per identifier, and different catalogs have different capabilities. For example, the `DeltaCatalog` can read Delta Lake and generic Hive tables, and the `SparkSessionCatalog` can read Iceberg + Hive tables.\r\n\r\nIn theory, in order to read from multiple table types in one Spark session, a user would initialize a `DeltaCatalog`, at say, `delta` and then the `SparkSessionCatalog` at `iceberg`. Then all their Delta Lake tables would be located at `delta.my_delta_database.my_delta_lake_table` and all their Iceberg tables at `iceberg.my_iceberg_database.my_iceberg_table`. Unfortunately, this doesn't work out of the box. Both of these catalog implementations are designed to be used by overriding the default Spark catalog, which is located at `spark_catalog`. `CatalogExtension`, from which `DeltaCatalog` and `SparkSessionCatalog` both inherit from, contains a method `setDelegateCatalog(CatalogPlugin delegate)`. As the Javadoc reads:\r\n\r\n```java\r\n /**\r\n   * This will be called only once by Spark to pass in the Spark built-in session catalog, after\r\n   * {@link #initialize(String, CaseInsensitiveStringMap)} is called.\r\n   */\r\n  void setDelegateCatalog(CatalogPlugin delegate);\r\n```\r\n\r\nA user can fix this issue by manually calling this method during Spark setup and setting the delegate to the one in the default Spark catalog. But most users presumably are not doing this, and some users might face difficulty depending on their service provider and how much abstraction/configuration has been taken away from them during setup.\r\n\r\nThis basically means that in today's world, it doesn't seem realistic that users currently have a simple way to use one Spark session to read/migrate between different table types. This solution might make make sense to implement first, as users may find that a Delta/Iceberg/Hudi table makes sense for them in one context but another one is preferable in another.\r\n\r\nWhen it comes to migration, there are basically two options:\r\n1. Create a more abstract Catalog implementation that can read Iceberg/Delta/Hudi/Hive tables dynamically, similar to what happens in the Trino Hive connector. The connector inspects the table properties and determines at runtime whether to redirect to another connector. Similarly, a Spark catalog could simply delegate to specific catalogs if it sees certain table type specific properties.\r\n2. Provide an easier method for users to not have to override the default catalog for these table type specific catalog implementations. If the Delta catalog was located at `delta`, and Iceberg at `iceberg`, then users could just keep their different table types in different catalogs and migration could take an optional parameter of the new desired catalog.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201826444/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201838481","html_url":"https://github.com/apache/iceberg/pull/5402#issuecomment-1201838481","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5402","id":1201838481,"node_id":"IC_kwDOCW7NX85HopmR","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T23:30:16Z","updated_at":"2022-08-01T23:30:16Z","author_association":"CONTRIBUTOR","body":"Thanks, @Fokko!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201838481/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201838950","html_url":"https://github.com/apache/iceberg/pull/5392#issuecomment-1201838950","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5392","id":1201838950,"node_id":"IC_kwDOCW7NX85Hoptm","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T23:30:57Z","updated_at":"2022-08-01T23:30:57Z","author_association":"CONTRIBUTOR","body":"> Do you mean session was created for the entire rewrite before?\r\n\r\nI'm asking you what the behavior was before this change that you want to fix.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201838950/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201846597","html_url":"https://github.com/apache/iceberg/pull/5391#issuecomment-1201846597","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5391","id":1201846597,"node_id":"IC_kwDOCW7NX85HorlF","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T23:43:50Z","updated_at":"2022-08-01T23:43:50Z","author_association":"CONTRIBUTOR","body":"Looking great! Just a few more things and I think this will be ready to go.\r\n\r\nAlso, did you see my comment about removing the CLI utilities? I don't think that we should include those in the vendored code.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201846597/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201849380","html_url":"https://github.com/apache/iceberg/pull/5375#issuecomment-1201849380","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5375","id":1201849380,"node_id":"IC_kwDOCW7NX85HosQk","user":{"login":"dramaticlly","id":5961173,"node_id":"MDQ6VXNlcjU5NjExNzM=","avatar_url":"https://avatars.githubusercontent.com/u/5961173?v=4","gravatar_id":"","url":"https://api.github.com/users/dramaticlly","html_url":"https://github.com/dramaticlly","followers_url":"https://api.github.com/users/dramaticlly/followers","following_url":"https://api.github.com/users/dramaticlly/following{/other_user}","gists_url":"https://api.github.com/users/dramaticlly/gists{/gist_id}","starred_url":"https://api.github.com/users/dramaticlly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dramaticlly/subscriptions","organizations_url":"https://api.github.com/users/dramaticlly/orgs","repos_url":"https://api.github.com/users/dramaticlly/repos","events_url":"https://api.github.com/users/dramaticlly/events{/privacy}","received_events_url":"https://api.github.com/users/dramaticlly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T23:49:29Z","updated_at":"2022-08-01T23:49:29Z","author_association":"CONTRIBUTOR","body":"Also want to share a similar change for expire-snapshots to use BulkDeleton: https://github.com/apache/iceberg/pull/5412","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201849380/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201862697","html_url":"https://github.com/apache/iceberg/issues/3958#issuecomment-1201862697","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3958","id":1201862697,"node_id":"IC_kwDOCW7NX85Hovgp","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-08-02T00:13:18Z","updated_at":"2022-08-02T00:13:18Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201862697/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201862720","html_url":"https://github.com/apache/iceberg/issues/3939#issuecomment-1201862720","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3939","id":1201862720,"node_id":"IC_kwDOCW7NX85HovhA","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-08-02T00:13:20Z","updated_at":"2022-08-02T00:13:20Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201862720/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201862736","html_url":"https://github.com/apache/iceberg/issues/3932#issuecomment-1201862736","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3932","id":1201862736,"node_id":"IC_kwDOCW7NX85HovhQ","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-08-02T00:13:22Z","updated_at":"2022-08-02T00:13:22Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201862736/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201862750","html_url":"https://github.com/apache/iceberg/issues/3928#issuecomment-1201862750","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3928","id":1201862750,"node_id":"IC_kwDOCW7NX85Hovhe","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-08-02T00:13:24Z","updated_at":"2022-08-02T00:13:24Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201862750/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201864253","html_url":"https://github.com/apache/iceberg/issues/3958#issuecomment-1201864253","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3958","id":1201864253,"node_id":"IC_kwDOCW7NX85Hov49","user":{"login":"sfc-gh-pbennes","id":64023893,"node_id":"MDQ6VXNlcjY0MDIzODkz","avatar_url":"https://avatars.githubusercontent.com/u/64023893?v=4","gravatar_id":"","url":"https://api.github.com/users/sfc-gh-pbennes","html_url":"https://github.com/sfc-gh-pbennes","followers_url":"https://api.github.com/users/sfc-gh-pbennes/followers","following_url":"https://api.github.com/users/sfc-gh-pbennes/following{/other_user}","gists_url":"https://api.github.com/users/sfc-gh-pbennes/gists{/gist_id}","starred_url":"https://api.github.com/users/sfc-gh-pbennes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sfc-gh-pbennes/subscriptions","organizations_url":"https://api.github.com/users/sfc-gh-pbennes/orgs","repos_url":"https://api.github.com/users/sfc-gh-pbennes/repos","events_url":"https://api.github.com/users/sfc-gh-pbennes/events{/privacy}","received_events_url":"https://api.github.com/users/sfc-gh-pbennes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-02T00:16:16Z","updated_at":"2022-08-02T00:16:16Z","author_association":"NONE","body":"Bump","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201864253/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201876458","html_url":"https://github.com/apache/iceberg/pull/5373#issuecomment-1201876458","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5373","id":1201876458,"node_id":"IC_kwDOCW7NX85Hoy3q","user":{"login":"dramaticlly","id":5961173,"node_id":"MDQ6VXNlcjU5NjExNzM=","avatar_url":"https://avatars.githubusercontent.com/u/5961173?v=4","gravatar_id":"","url":"https://api.github.com/users/dramaticlly","html_url":"https://github.com/dramaticlly","followers_url":"https://api.github.com/users/dramaticlly/followers","following_url":"https://api.github.com/users/dramaticlly/following{/other_user}","gists_url":"https://api.github.com/users/dramaticlly/gists{/gist_id}","starred_url":"https://api.github.com/users/dramaticlly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dramaticlly/subscriptions","organizations_url":"https://api.github.com/users/dramaticlly/orgs","repos_url":"https://api.github.com/users/dramaticlly/repos","events_url":"https://api.github.com/users/dramaticlly/events{/privacy}","received_events_url":"https://api.github.com/users/dramaticlly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-02T00:39:34Z","updated_at":"2022-08-02T00:39:34Z","author_association":"CONTRIBUTOR","body":"> In the updated logic for the procedure, we will always use the delete func if it's specified.\r\n> \r\n> If a delete function is not specified and the file io does not support bulk operations we would use the default delete function. Otherwise the bulk delete is used by default.\r\n> \r\n> What this means is bulk operations will always be used (if the file io supports it) without considering user input. I was discussing with @dramaticlly perhaps we want more control over this and it should be specified in the action (something like useBulkDelete())?\r\n> \r\n\r\nThanks @amogh-jahagirdar , I was mostly thinking about this along the same line for #5412. In ideal case, we shall try to use Bulk operation if available to us (by inspecting the fileIO of given table, S3FileIO is the only supported one as of now ). On the other side, I think we need to maintain the backward compatibility, if some iceberg user already provide custom `deleteFunc` to the SparkAction in the past, everything shall work as expected.\r\n\r\nIn my change, I added a new public method called `bulkDeleteFunc` to allow overrides if needed, this provides a way for customization even for tables on S3fileIO, or it can be used to disable the Bulk deletion for some troubleshooting and debugging needs. \r\n\r\n\r\n> Also now we are delegating task management to the file IO, which I think makes sense but there's another argument that each procedure should control this since failure handling or retries would depend on the desired behavior for the procedure. What are peoples thoughts here?\r\n\r\nPersonally I think delegate to fileIO for batching make sense to me, add additional parameter like batchSize in procedure call might cause confusion and hard to make it right. The downside I saw is about test hardness, wish for more inputs around it for test between classess. Current test class are all using Hadooptables and pick HiveTable with fileIO support SupportsBulkOperations seem to be overkill for unit tests","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201876458/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201922270","html_url":"https://github.com/apache/iceberg/pull/5327#issuecomment-1201922270","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5327","id":1201922270,"node_id":"IC_kwDOCW7NX85Ho-De","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-02T01:49:29Z","updated_at":"2022-08-02T01:49:29Z","author_association":"COLLABORATOR","body":"I think that's a great idea, to have the Catalog's regiserTable just first call dropTable (purge=false) , instead of throw an error, if table exists, it could be a very simple way to do this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201922270/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201931070","html_url":"https://github.com/apache/iceberg/issues/5399#issuecomment-1201931070","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5399","id":1201931070,"node_id":"IC_kwDOCW7NX85HpAM-","user":{"login":"lvyanquan","id":38547014,"node_id":"MDQ6VXNlcjM4NTQ3MDE0","avatar_url":"https://avatars.githubusercontent.com/u/38547014?v=4","gravatar_id":"","url":"https://api.github.com/users/lvyanquan","html_url":"https://github.com/lvyanquan","followers_url":"https://api.github.com/users/lvyanquan/followers","following_url":"https://api.github.com/users/lvyanquan/following{/other_user}","gists_url":"https://api.github.com/users/lvyanquan/gists{/gist_id}","starred_url":"https://api.github.com/users/lvyanquan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lvyanquan/subscriptions","organizations_url":"https://api.github.com/users/lvyanquan/orgs","repos_url":"https://api.github.com/users/lvyanquan/repos","events_url":"https://api.github.com/users/lvyanquan/events{/privacy}","received_events_url":"https://api.github.com/users/lvyanquan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-02T02:04:25Z","updated_at":"2022-08-02T02:04:25Z","author_association":"CONTRIBUTOR","body":"> @lvyanquan:\r\n> \r\n> Do you have a testcase or sample SQL to reproduce this? As I want to know when do we build the `history partition-specs`\r\n\r\nwe can reproduce this error using the following sql (spark3.2, iceberg0.13 or 0.14), prod is the name of catalog:\r\n\r\nCREATE TABLE prod.db.sample (id bigint, data string, category string) USING iceberg PARTITIONED BY (category) TBLPROPERTIES('format-version' = '2');\r\n\r\nALTER TABLE prod.db.sample DROP PARTITION FIELD category;\r\n\r\nALTER TABLE  prod.db.sample DROP COLUMN category;\r\nEven though I deleted this column using JAVA API, I met NullPointerException when using this table.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201931070/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201931976","html_url":"https://github.com/apache/iceberg/pull/5373#issuecomment-1201931976","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5373","id":1201931976,"node_id":"IC_kwDOCW7NX85HpAbI","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-02T02:06:08Z","updated_at":"2022-08-02T02:06:08Z","author_association":"COLLABORATOR","body":"> If a delete function is not specified and the file io does not support bulk operations we would use the default delete function. Otherwise the bulk delete is used by default.\r\n\r\nI think that's a good simplification too, if the user wants customization then they can deal with a non-bulk (slower) one, but we throw an exception if they want a customized delete function AND bulk.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201931976/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201932898","html_url":"https://github.com/apache/iceberg/pull/5379#issuecomment-1201932898","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5379","id":1201932898,"node_id":"IC_kwDOCW7NX85HpApi","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-02T02:07:59Z","updated_at":"2022-08-02T02:09:17Z","author_association":"CONTRIBUTOR","body":"> I think this is probably a valid change, but as of now it doesnt seem to match the pr description ? The pr description is about using an executor service. Can you clarify the pr description?\r\n\r\nUpdated the description so it reflects the new approach. I also removed the integ test fixes, and moved them here https://github.com/apache/iceberg/pull/5413 . Thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201932898/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201962463","html_url":"https://github.com/apache/iceberg/pull/3095#issuecomment-1201962463","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3095","id":1201962463,"node_id":"IC_kwDOCW7NX85HpH3f","user":{"login":"iflytek-hmwang5","id":32082095,"node_id":"MDQ6VXNlcjMyMDgyMDk1","avatar_url":"https://avatars.githubusercontent.com/u/32082095?v=4","gravatar_id":"","url":"https://api.github.com/users/iflytek-hmwang5","html_url":"https://github.com/iflytek-hmwang5","followers_url":"https://api.github.com/users/iflytek-hmwang5/followers","following_url":"https://api.github.com/users/iflytek-hmwang5/following{/other_user}","gists_url":"https://api.github.com/users/iflytek-hmwang5/gists{/gist_id}","starred_url":"https://api.github.com/users/iflytek-hmwang5/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iflytek-hmwang5/subscriptions","organizations_url":"https://api.github.com/users/iflytek-hmwang5/orgs","repos_url":"https://api.github.com/users/iflytek-hmwang5/repos","events_url":"https://api.github.com/users/iflytek-hmwang5/events{/privacy}","received_events_url":"https://api.github.com/users/iflytek-hmwang5/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-02T03:06:03Z","updated_at":"2022-08-02T03:06:03Z","author_association":"NONE","body":"> > @hameizi hihi, is there any plan for this PR? i saw the PR [#4580](https://github.com/apache/iceberg/pull/4580) already get merge d into master,\r\n> \r\n> I will work on this these days.\r\n[hameizi](https://github.com/hameizi) how about this PR?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201962463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201969319","html_url":"https://github.com/apache/iceberg/pull/5373#issuecomment-1201969319","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5373","id":1201969319,"node_id":"IC_kwDOCW7NX85HpJin","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-02T03:19:49Z","updated_at":"2022-08-02T03:36:26Z","author_association":"CONTRIBUTOR","body":"> but we throw an exception if they want a customized delete function AND bulk.\r\n\r\nI'm not sure about throwing an exception if a user specify delete function and if the file io supports bulk delete is the way to go, because then we're changing the behavior of the exposed deleteFunc API. I think if deleteFunc is set, the procedure continues to use that as a source of truth regardless of bulk delete support or not. If we throw an exception, that would mean user's code would need to get rewritten if it's using S3FileIO and running this procedure with custom delete. Let me know if i'm misunderstanding!\r\n\r\nThat being said, now we are changing the behavior if they do not specify a delete func and if it supports bulk delete. This change is less intrusive because it changes internally how the procedure runs and is not really exposed to a user. Let me know what you think. \r\n\r\n> The downside I saw is about test hardness, wish for more inputs around it for test between classes. Current test class are all using Hadooptables and pick HiveTable with fileIO support SupportsBulkOperations seem to be overkill for unit tests\r\n\r\nYeah, this is the tricky part. My thinking on the testing is the following:\r\n\r\n1.) We should validate at the procedure level that we are guaranteeing the existing behavior  (failing at the expected points, using the parameters right etc). For the supports bulk delete case, I think we can accomplish hitting that case through a spy object? Although not particularly clean way. \r\n\r\n2.) Then we should guarantee that the file IO which supports bulk delete (in this case, S3FileIO) has good test coverage to make sure it's deleteFiles works properly.\r\n\r\nIf we do 1 and 2 we can get better confidence","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1201969319/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1202016126","html_url":"https://github.com/apache/iceberg/pull/5311#issuecomment-1202016126","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5311","id":1202016126,"node_id":"IC_kwDOCW7NX85HpU9-","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-02T04:54:23Z","updated_at":"2022-08-02T04:54:23Z","author_association":"CONTRIBUTOR","body":"@abmo-x Based on the description, it seems to me that application shouldn't have caught and swallowed all exceptions in the process function. I know it tries to catch \"bad\" record and route to a dead-letter table. It probably should just catch and handle the serialization specific exceptions.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1202016126/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1202030169","html_url":"https://github.com/apache/iceberg/pull/5311#issuecomment-1202030169","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5311","id":1202030169,"node_id":"IC_kwDOCW7NX85HpYZZ","user":{"login":"abmo-x","id":69539469,"node_id":"MDQ6VXNlcjY5NTM5NDY5","avatar_url":"https://avatars.githubusercontent.com/u/69539469?v=4","gravatar_id":"","url":"https://api.github.com/users/abmo-x","html_url":"https://github.com/abmo-x","followers_url":"https://api.github.com/users/abmo-x/followers","following_url":"https://api.github.com/users/abmo-x/following{/other_user}","gists_url":"https://api.github.com/users/abmo-x/gists{/gist_id}","starred_url":"https://api.github.com/users/abmo-x/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abmo-x/subscriptions","organizations_url":"https://api.github.com/users/abmo-x/orgs","repos_url":"https://api.github.com/users/abmo-x/repos","events_url":"https://api.github.com/users/abmo-x/events{/privacy}","received_events_url":"https://api.github.com/users/abmo-x/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-02T05:22:24Z","updated_at":"2022-08-02T05:22:24Z","author_association":"CONTRIBUTOR","body":"> @abmo-x Based on the description, it seems to me that application shouldn't have caught and swallowed all exceptions in the process function. I know it tries to catch \"bad\" record and route to a dead-letter table. It probably should just catch and handle the serialization specific exceptions.\r\n\r\nYes, the application code will be updated to handle exceptions correctly as well. As there are [other cases](https://github.com/apache/iceberg/pull/1749) where the S3 output stream can be still used after its closed I think this defensive code helps enforce bad data files are not added to metadata. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1202030169/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1202031301","html_url":"https://github.com/apache/iceberg/pull/5405#issuecomment-1202031301","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5405","id":1202031301,"node_id":"IC_kwDOCW7NX85HpYrF","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-02T05:24:21Z","updated_at":"2022-08-02T05:24:21Z","author_association":"CONTRIBUTOR","body":"@Fokko: It seems, I wasn't clear enough in my review. Sorry for that. The path, which ends with `.db` is a `databaseLocation`, so we should use `getDatabaseLocation` and `databaseName` respectively.\r\nThanks, Peter ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1202031301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1202056847","html_url":"https://github.com/apache/iceberg/pull/5366#issuecomment-1202056847","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5366","id":1202056847,"node_id":"IC_kwDOCW7NX85Hpe6P","user":{"login":"singhpk234","id":35593236,"node_id":"MDQ6VXNlcjM1NTkzMjM2","avatar_url":"https://avatars.githubusercontent.com/u/35593236?v=4","gravatar_id":"","url":"https://api.github.com/users/singhpk234","html_url":"https://github.com/singhpk234","followers_url":"https://api.github.com/users/singhpk234/followers","following_url":"https://api.github.com/users/singhpk234/following{/other_user}","gists_url":"https://api.github.com/users/singhpk234/gists{/gist_id}","starred_url":"https://api.github.com/users/singhpk234/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/singhpk234/subscriptions","organizations_url":"https://api.github.com/users/singhpk234/orgs","repos_url":"https://api.github.com/users/singhpk234/repos","events_url":"https://api.github.com/users/singhpk234/events{/privacy}","received_events_url":"https://api.github.com/users/singhpk234/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-02T06:06:54Z","updated_at":"2022-08-02T06:07:48Z","author_association":"CONTRIBUTOR","body":"Thanks @saswata-dutta , @RussellSpitzer for the review :) !","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1202056847/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1202062930","html_url":"https://github.com/apache/iceberg/issues/5414#issuecomment-1202062930","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5414","id":1202062930,"node_id":"IC_kwDOCW7NX85HpgZS","user":{"login":"singhpk234","id":35593236,"node_id":"MDQ6VXNlcjM1NTkzMjM2","avatar_url":"https://avatars.githubusercontent.com/u/35593236?v=4","gravatar_id":"","url":"https://api.github.com/users/singhpk234","html_url":"https://github.com/singhpk234","followers_url":"https://api.github.com/users/singhpk234/followers","following_url":"https://api.github.com/users/singhpk234/following{/other_user}","gists_url":"https://api.github.com/users/singhpk234/gists{/gist_id}","starred_url":"https://api.github.com/users/singhpk234/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/singhpk234/subscriptions","organizations_url":"https://api.github.com/users/singhpk234/orgs","repos_url":"https://api.github.com/users/singhpk234/repos","events_url":"https://api.github.com/users/singhpk234/events{/privacy}","received_events_url":"https://api.github.com/users/singhpk234/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-02T06:15:54Z","updated_at":"2022-08-02T06:15:54Z","author_association":"CONTRIBUTOR","body":"can you please try once with `AssumeRoleAwsClientFactory` and creating cross-account IAM role.\r\nref : https://iceberg.apache.org/docs/latest/aws/#cross-account-and-cross-region-access \r\nfor more details.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1202062930/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1202113164","html_url":"https://github.com/apache/iceberg/issues/5404#issuecomment-1202113164","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5404","id":1202113164,"node_id":"IC_kwDOCW7NX85HpsqM","user":{"login":"hzluting","id":5558252,"node_id":"MDQ6VXNlcjU1NTgyNTI=","avatar_url":"https://avatars.githubusercontent.com/u/5558252?v=4","gravatar_id":"","url":"https://api.github.com/users/hzluting","html_url":"https://github.com/hzluting","followers_url":"https://api.github.com/users/hzluting/followers","following_url":"https://api.github.com/users/hzluting/following{/other_user}","gists_url":"https://api.github.com/users/hzluting/gists{/gist_id}","starred_url":"https://api.github.com/users/hzluting/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hzluting/subscriptions","organizations_url":"https://api.github.com/users/hzluting/orgs","repos_url":"https://api.github.com/users/hzluting/repos","events_url":"https://api.github.com/users/hzluting/events{/privacy}","received_events_url":"https://api.github.com/users/hzluting/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-02T07:20:45Z","updated_at":"2022-08-02T07:20:45Z","author_association":"CONTRIBUTOR","body":"The reason is Iceberg find some delete files associated with the data file that you want to rewrite.\r\nCan you show me your case?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1202113164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1202128835","html_url":"https://github.com/apache/iceberg/pull/5405#issuecomment-1202128835","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5405","id":1202128835,"node_id":"IC_kwDOCW7NX85HpwfD","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-02T07:37:21Z","updated_at":"2022-08-02T07:37:21Z","author_association":"CONTRIBUTOR","body":"Sorry about that @pvary. I've just pushed a fix. Don't forget, that naming things is one of the hardest things in computer science :)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1202128835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1202230605","html_url":"https://github.com/apache/iceberg/issues/4190#issuecomment-1202230605","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4190","id":1202230605,"node_id":"IC_kwDOCW7NX85HqJVN","user":{"login":"lintingbin","id":5699014,"node_id":"MDQ6VXNlcjU2OTkwMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/5699014?v=4","gravatar_id":"","url":"https://api.github.com/users/lintingbin","html_url":"https://github.com/lintingbin","followers_url":"https://api.github.com/users/lintingbin/followers","following_url":"https://api.github.com/users/lintingbin/following{/other_user}","gists_url":"https://api.github.com/users/lintingbin/gists{/gist_id}","starred_url":"https://api.github.com/users/lintingbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lintingbin/subscriptions","organizations_url":"https://api.github.com/users/lintingbin/orgs","repos_url":"https://api.github.com/users/lintingbin/repos","events_url":"https://api.github.com/users/lintingbin/events{/privacy}","received_events_url":"https://api.github.com/users/lintingbin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-02T09:16:06Z","updated_at":"2022-08-02T09:16:06Z","author_association":"CONTRIBUTOR","body":"We have internally implemented modifying columns, adding columns after the last column, and deleting the last column without restarting the flink program. Our processing logic is as follows: DataStream<Map<String, String>> -> map -> DataStream<RowData> -> FlinkSink. In the implementation of map, we will refresh the table schema to generate the latest RowData after each checkpoint is done. At the same time, we have also modified the implementation of FlinkSink. Every time newAppender is called, we will refresh the table schema and use the latest table schema to write the data file. Is anyone interested in this feature? I can contribute our modifications to FlinkSink if needed.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1202230605/reactions","total_count":5,"+1":5,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1202236737","html_url":"https://github.com/apache/iceberg/pull/5327#issuecomment-1202236737","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5327","id":1202236737,"node_id":"IC_kwDOCW7NX85HqK1B","user":{"login":"yabola","id":31469905,"node_id":"MDQ6VXNlcjMxNDY5OTA1","avatar_url":"https://avatars.githubusercontent.com/u/31469905?v=4","gravatar_id":"","url":"https://api.github.com/users/yabola","html_url":"https://github.com/yabola","followers_url":"https://api.github.com/users/yabola/followers","following_url":"https://api.github.com/users/yabola/following{/other_user}","gists_url":"https://api.github.com/users/yabola/gists{/gist_id}","starred_url":"https://api.github.com/users/yabola/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yabola/subscriptions","organizations_url":"https://api.github.com/users/yabola/orgs","repos_url":"https://api.github.com/users/yabola/repos","events_url":"https://api.github.com/users/yabola/events{/privacy}","received_events_url":"https://api.github.com/users/yabola/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-02T09:21:43Z","updated_at":"2022-08-02T09:26:35Z","author_association":"CONTRIBUTOR","body":"@szehon-ho I don't quite understand. I think @rdblue  means don't change the existing logic. Do you mean `registerTable` can be changed to drop first(if existed) and then register (this can really avoid many other changes)? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1202236737/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1202309760","html_url":"https://github.com/apache/iceberg/issues/5404#issuecomment-1202309760","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5404","id":1202309760,"node_id":"IC_kwDOCW7NX85HqcqA","user":{"login":"zhushanwei","id":53216479,"node_id":"MDQ6VXNlcjUzMjE2NDc5","avatar_url":"https://avatars.githubusercontent.com/u/53216479?v=4","gravatar_id":"","url":"https://api.github.com/users/zhushanwei","html_url":"https://github.com/zhushanwei","followers_url":"https://api.github.com/users/zhushanwei/followers","following_url":"https://api.github.com/users/zhushanwei/following{/other_user}","gists_url":"https://api.github.com/users/zhushanwei/gists{/gist_id}","starred_url":"https://api.github.com/users/zhushanwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhushanwei/subscriptions","organizations_url":"https://api.github.com/users/zhushanwei/orgs","repos_url":"https://api.github.com/users/zhushanwei/repos","events_url":"https://api.github.com/users/zhushanwei/events{/privacy}","received_events_url":"https://api.github.com/users/zhushanwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-02T10:33:43Z","updated_at":"2022-08-02T10:33:43Z","author_association":"NONE","body":"> The reason is Iceberg find some delete files associated with the data file that you want to rewrite. Can you show me your case?\r\n\r\n//writer data\r\nConfiguration conf = new Configuration();\r\nMap<String, String> properties = new HashMap<>();\r\nCatalogLoader catalogLoader = CatalogLoader.hive(Constants.CATALOG_NAME, conf, properties);\r\nTableIdentifier tableIdentifier = TableIdentifier.of(Constants.DATABASE_NAME, Constants.TABLE_NAME);\r\nTableLoader tableLoader = TableLoader.fromCatalog(catalogLoader, tableIdentifier);\r\nFlinkSink.forRowData(input)\r\n\t\t.writeParallelism(parallelism)\r\n\t\t.tableLoader(tableLoader)\r\n\t\t.upsert(true)\r\n\t\t.overwrite(false)\r\n\t\t.append();\r\n\r\n//rewriteDataFiles\r\nStreamExecutionEnvironment env = FlinkEnvironment.getEnvironment(parallelism);\r\ntableLoader.open();\r\nTable table = tableLoader.loadTable();\r\n\r\nActions.forTable(env, table)\r\n\t\t.rewriteDataFiles()\r\n\t\t.maxParallelism(parallelism)\r\n\t\t.targetSizeInBytes(256 * 1024 * 1024)\r\n\t\t.filter(Expressions.equal(\"news_postdate\", newsPostdate))\r\n\t\t.execute();\r\nIs there any other way to solve this problem？Thanks\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1202309760/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1202397549","html_url":"https://github.com/apache/iceberg/pull/5050#issuecomment-1202397549","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5050","id":1202397549,"node_id":"IC_kwDOCW7NX85HqyFt","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-02T12:04:48Z","updated_at":"2022-08-02T12:04:48Z","author_association":"CONTRIBUTOR","body":"Thanks @rdblue @stevenzwu @chenjunjiedada @kbendick \r\nI will port it to 13&14. \r\n\r\nI also created an [issuse ](https://github.com/apache/iceberg/issues/5418) for https://github.com/apache/iceberg/pull/5050#discussion_r933426976, which i think it's good for beginners to start with. If you can, maybe we could tag an 'beginner' for it? @rdblue \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1202397549/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1202400209","html_url":"https://github.com/apache/iceberg/issues/5418#issuecomment-1202400209","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5418","id":1202400209,"node_id":"IC_kwDOCW7NX85HqyvR","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-02T12:07:14Z","updated_at":"2022-08-02T12:07:14Z","author_association":"CONTRIBUTOR","body":"I think it's friendly to beginners. Of course, if no one wants to take the ticket for a long time, I will work for it.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1202400209/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1202492175","html_url":"https://github.com/apache/iceberg/issues/5370#issuecomment-1202492175","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5370","id":1202492175,"node_id":"IC_kwDOCW7NX85HrJMP","user":{"login":"cccs-jc","id":56140112,"node_id":"MDQ6VXNlcjU2MTQwMTEy","avatar_url":"https://avatars.githubusercontent.com/u/56140112?v=4","gravatar_id":"","url":"https://api.github.com/users/cccs-jc","html_url":"https://github.com/cccs-jc","followers_url":"https://api.github.com/users/cccs-jc/followers","following_url":"https://api.github.com/users/cccs-jc/following{/other_user}","gists_url":"https://api.github.com/users/cccs-jc/gists{/gist_id}","starred_url":"https://api.github.com/users/cccs-jc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cccs-jc/subscriptions","organizations_url":"https://api.github.com/users/cccs-jc/orgs","repos_url":"https://api.github.com/users/cccs-jc/repos","events_url":"https://api.github.com/users/cccs-jc/events{/privacy}","received_events_url":"https://api.github.com/users/cccs-jc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-02T12:59:06Z","updated_at":"2022-08-02T12:59:06Z","author_association":"CONTRIBUTOR","body":"@kbendick I'm rather interested in that `zorder` function. Is this `zorder` like the databricks zorder. https://databricks.com/blog/2018/07/31/processing-petabytes-of-data-in-seconds-with-databricks-delta.html\r\n\r\nWe've implemented such a method to sort IP 5 tuples.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1202492175/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1202890150","html_url":"https://github.com/apache/iceberg/pull/5375#issuecomment-1202890150","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5375","id":1202890150,"node_id":"IC_kwDOCW7NX85HsqWm","user":{"login":"dungdm93","id":6848311,"node_id":"MDQ6VXNlcjY4NDgzMTE=","avatar_url":"https://avatars.githubusercontent.com/u/6848311?v=4","gravatar_id":"","url":"https://api.github.com/users/dungdm93","html_url":"https://github.com/dungdm93","followers_url":"https://api.github.com/users/dungdm93/followers","following_url":"https://api.github.com/users/dungdm93/following{/other_user}","gists_url":"https://api.github.com/users/dungdm93/gists{/gist_id}","starred_url":"https://api.github.com/users/dungdm93/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dungdm93/subscriptions","organizations_url":"https://api.github.com/users/dungdm93/orgs","repos_url":"https://api.github.com/users/dungdm93/repos","events_url":"https://api.github.com/users/dungdm93/events{/privacy}","received_events_url":"https://api.github.com/users/dungdm93/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-02T15:56:02Z","updated_at":"2022-08-02T16:02:33Z","author_association":"CONTRIBUTOR","body":"@szehon-ho I'm also thinking about **retry** and **service pool** mechanism for bulkDelete.\r\nThere are 2 ways:\r\n* First option is let caller split delete files into chunks, and pass each chunk to bulkDelete API as the same way as normal delete.\r\n    ```java\r\n    Iteratable<List<String>> deleteFileChunked = ....\r\n    Tasks.foreach(files)\r\n        .retry(3)\r\n        .executeWith(service)\r\n        .run(io::deleteFiles);\r\n    ````\r\n   The drawback of this approach is\r\n      * chunk is calculate twice, one in the caller, one in FileIO (as S3FileIO implementation)\r\n      * other cons is if a request fails, there is noway to retry only failed files\r\n* Second option is bulkDelete API return a `TaskLike` object, then let caller decided how it should run (no of retry, executor service, error handler, etc...). Something like this\r\n    ```java\r\n    io.deleteFiles(files) // return a TaskLike object\r\n      .retry(3)\r\n      .executeWith(service)\r\n      .onFailure(...)\r\n      .execute()  // now the task will be executed\r\n    ```\r\n\r\nSecond option will introduce a breaking change in bulkDelete API. However I still prefer this because it's using in no-where now.\r\nWDTY?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1202890150/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1202920968","html_url":"https://github.com/apache/iceberg/issues/5370#issuecomment-1202920968","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5370","id":1202920968,"node_id":"IC_kwDOCW7NX85Hsx4I","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-02T16:07:43Z","updated_at":"2022-08-02T16:07:43Z","author_association":"MEMBER","body":"> @kbendick I'm rather interested in that `zorder` function. Is this `zorder` like the databricks zorder. https://databricks.com/blog/2018/07/31/processing-petabytes-of-data-in-seconds-with-databricks-delta.html\r\n> \r\n> We've implemented such a method to sort IP 5 tuples.\r\n\r\nYep, although I haven't looked at their implementation i'm betting it's pretty similar since the math is pretty old.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1202920968/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1202921190","html_url":"https://github.com/apache/iceberg/pull/5305#issuecomment-1202921190","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5305","id":1202921190,"node_id":"IC_kwDOCW7NX85Hsx7m","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-02T16:07:51Z","updated_at":"2022-08-02T16:07:51Z","author_association":"CONTRIBUTOR","body":"This PR is closed in favor of https://github.com/apache/iceberg/pull/5377 and https://github.com/apache/iceberg/pull/5411.\r\n\r\nI'll open a PR for `Truncate` and link it shortly.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1202921190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1202939788","html_url":"https://github.com/apache/iceberg/issues/4002#issuecomment-1202939788","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4002","id":1202939788,"node_id":"IC_kwDOCW7NX85Hs2eM","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-02T16:16:07Z","updated_at":"2022-08-02T16:16:07Z","author_association":"CONTRIBUTOR","body":"Closing this as all places where we intended to do this have been done using `additionalProperties`, which is the way to make a string to string map without predefined keys in OpenAPI.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1202939788/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1202941741","html_url":"https://github.com/apache/iceberg/issues/3962#issuecomment-1202941741","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3962","id":1202941741,"node_id":"IC_kwDOCW7NX85Hs28t","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-02T16:16:57Z","updated_at":"2022-08-02T16:16:57Z","author_association":"CONTRIBUTOR","body":"Commenting so this doesn't go stale as I don't believe this is currently possible for normal writes.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1202941741/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1202949762","html_url":"https://github.com/apache/iceberg/issues/3928#issuecomment-1202949762","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3928","id":1202949762,"node_id":"IC_kwDOCW7NX85Hs46C","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-02T16:23:10Z","updated_at":"2022-08-02T16:23:10Z","author_association":"CONTRIBUTOR","body":"Commenting on this issue to see if stalebot marks it as unstale based solely on my comment.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1202949762/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]