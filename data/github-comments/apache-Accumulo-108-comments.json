[{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1507126735","html_url":"https://github.com/apache/accumulo/pull/3292#issuecomment-1507126735","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3292","id":1507126735,"node_id":"IC_kwDOACaFSM5Z1O3P","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T14:59:47Z","updated_at":"2023-04-13T14:59:47Z","author_association":"CONTRIBUTOR","body":"> Some of the things in the PR may not be necessary given the changes that I am working on to make all user tables on-demand by default. I'm close to being ready to create a PR for that, I have some things I need to finish first (looking at tests, testing locally, etc.). If you want an early look at my changes, see https://github.com/apache/accumulo/compare/elasticity...dlmarion:accumulo:elasticity-ondemand-feature-changes2?expand=1.\r\n\r\nThere will be conflicts.   I took a look and had some thoughts, it you post a draft PR I could make a few comments.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1507126735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1507144819","html_url":"https://github.com/apache/accumulo/pull/3292#issuecomment-1507144819","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3292","id":1507144819,"node_id":"IC_kwDOACaFSM5Z1TRz","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T15:10:35Z","updated_at":"2023-04-13T15:10:35Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/accumulo/pull/3294","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1507144819/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1507322277","html_url":"https://github.com/apache/accumulo/pull/3294#issuecomment-1507322277","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3294","id":1507322277,"node_id":"IC_kwDOACaFSM5Z1-ml","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T17:13:22Z","updated_at":"2023-04-13T17:13:22Z","author_association":"CONTRIBUTOR","body":"Users should be able to set the hosting goal in [NewTableConfiguration](https://github.com/apache/accumulo/blob/main/core/src/main/java/org/apache/accumulo/core/client/admin/NewTableConfiguration.java) and have all the tablets in the table start with that goal.  This could be a follow on PR.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1507322277/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1507359007","html_url":"https://github.com/apache/accumulo/pull/3294#issuecomment-1507359007","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3294","id":1507359007,"node_id":"IC_kwDOACaFSM5Z2Hkf","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T17:34:27Z","updated_at":"2023-04-13T17:34:27Z","author_association":"CONTRIBUTOR","body":"We will need to do something for merging tablets, but not sure what.  Poking around in the code I found this where [tablets are actually merged](https://github.com/apache/accumulo/blob/149b65ce242901ed9a579a8d2b0badc53c24ae04/server/manager/src/main/java/org/apache/accumulo/manager/TabletGroupWatcher.java#L712).  Will need to set the hosting goal for the new tablet based on the hosting goals of the merged tablets. Maybe the merge operation can fail if the hosting goal of the all of the tablets being merged is not the same.  Dealing with merge could be a follow on PR.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1507359007/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1507691940","html_url":"https://github.com/apache/accumulo/issues/3208#issuecomment-1507691940","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3208","id":1507691940,"node_id":"IC_kwDOACaFSM5Z3Y2k","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T22:37:23Z","updated_at":"2023-04-13T22:37:34Z","author_association":"MEMBER","body":"@ddanielr The metadata has a few distinct sections. The tablets section is first, and covers all the metadata for tablets. After that, there is a separate entire section starting with `~` that is for metadata that is not part of a particular tablet. That's where the `~del` entries exist for the accumulo-gc to pick up files that are candidates for deletion, and I guess the `~err` section also exists in there. Those regions of the metadata table are independent of the schema for tablet metadata.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1507691940/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1507842193","html_url":"https://github.com/apache/accumulo/pull/3286#issuecomment-1507842193","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3286","id":1507842193,"node_id":"IC_kwDOACaFSM5Z39iR","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-14T02:29:23Z","updated_at":"2023-04-14T02:29:23Z","author_association":"CONTRIBUTOR","body":"> Will those values stay as they currently are (size and numEntries for the entire file) or do we need to set those values based on the Ranges provided?\r\n\r\nWe can probably just keep a number per file, possibly summing it on merge.  If we have the following\r\n\r\n * Tablet T1 covering range R1 has file F1 with est size S1\r\n * Tablet T2 covering range R2 has file F1 with est size S2\r\n\r\nIf we merge T1 and T2 into T3 then T3 could have an estimated size of (S1+S2) for file F1 and ranges R1,R2 for F1.  One case I can think of where may want to store S1 and S2 instead of summing them is future splits of a merged tablet. Like if we split T3, how will we estimate its size?\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1507842193/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1507869678","html_url":"https://github.com/apache/accumulo/pull/3246#issuecomment-1507869678","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3246","id":1507869678,"node_id":"IC_kwDOACaFSM5Z4EPu","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-14T03:12:03Z","updated_at":"2023-04-14T03:12:42Z","author_association":"CONTRIBUTOR","body":"The VisibilityFilter has an optimization where it instantiates different iterator classes bases on the parameters at creation time.  Not sure if that optimization is applicable here, but its good strategy to be aware of.  This optimization moved some checks from being done per key/value to being done once at iterator creation time which gave a huge speedup.\r\n\r\nhttps://github.com/apache/accumulo/blob/30d823def879234b4f390f7b816cef670d477f88/core/src/main/java/org/apache/accumulo/core/iteratorsImpl/system/VisibilityFilter.java#L112-L119","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1507869678/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1508795272","html_url":"https://github.com/apache/accumulo/pull/3297#issuecomment-1508795272","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3297","id":1508795272,"node_id":"IC_kwDOACaFSM5Z7mOI","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-14T15:28:40Z","updated_at":"2023-04-14T15:28:40Z","author_association":"CONTRIBUTOR","body":"What was the reason for removing the thread tag?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1508795272/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1508859008","html_url":"https://github.com/apache/accumulo/pull/3297#issuecomment-1508859008","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3297","id":1508859008,"node_id":"IC_kwDOACaFSM5Z71yA","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-14T15:53:00Z","updated_at":"2023-04-14T15:53:00Z","author_association":"CONTRIBUTOR","body":"Over-all it seemed that it was not providing information that was not already there - its a thrift metric, the process is identified so repeating that it was in the client server handler could be inferred.  From the samples seen, the tag was appearing as either `thread=Thrift Client Server` or `Manager Client Service Handler`\r\n\r\nIf it could take on different values, it also seemed unlikely that it would be something that end-users would need to trend / watch by specific thread.  Monitoring thift times could provide a view into the health of the processes - knowing it was a specific thread seemed like something that would be needed by developers that were profiling specific code sections and metrics may not be the best way to determine that specific thrift thread timing. \r\n\r\nEach different tag value increase the number of time-series that need to be tracked. It did not seem necessary to potentially increase the number of time-series than need to be tracked (assuming it could take different values) - but I can restore it if there is a use-case that I am unaware of.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1508859008/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1509017048","html_url":"https://github.com/apache/accumulo/pull/3294#issuecomment-1509017048","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3294","id":1509017048,"node_id":"IC_kwDOACaFSM5Z8cXY","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-14T17:48:54Z","updated_at":"2023-04-17T13:41:23Z","author_association":"CONTRIBUTOR","body":"Summary of follow-on work mentioned in comments.\r\n\r\n  1. Add api method for getting Tablet hosting goals (see [comment](https://github.com/apache/accumulo/pull/3294#discussion_r1165696295))\r\n  2. Modify user tablet hosting method to use FaTe (see [comment](https://github.com/apache/accumulo/pull/3294#discussion_r1165704928))\r\n  3. TabletLocatorImpl reduce reads on metadata table (see [comment](https://github.com/apache/accumulo/pull/3294#discussion_r1165712183))\r\n  4. Set ONDEMAND hosting goal for all user tables in upgrade code (see [comment](https://github.com/apache/accumulo/pull/3294#discussion_r1165817363))\r\n  5. Set hosting goal in NewTableConfiguration (see [comment](https://github.com/apache/accumulo/pull/3294#issuecomment-1507322277))\r\n  6. Handle tablet hosting goal when merging (see [comment](https://github.com/apache/accumulo/pull/3294#issuecomment-1507359007))\r\n  7. Create a public RowRange object with start/end rows and inclusivity/exclusivity booleans (see [comment](https://github.com/apache/accumulo/pull/3294#discussion_r1167115920))\r\n  8. It appears that clients interact with tablets in a serial manner. For example, a Scanner or BatchWriter will interact with a Tablet and then when done it will interact with the next Tablet. Watching the output from the tests the TabletLocator will request that a Tablet be hosted in the same manner. I wonder if this could be optimized up front, where the client tells the TabletLocator that it's going to be working with a Range, and then the TabletLocator in another thread ensures that those Tablets are hosted. In the case where the TabletLocator is waiting for a Tablet to be loaded, it might be possible to return a Future to the caller when the hosting has been completed vs constant metadata table lookups.\r\n  9. Resolve todo at line 236 in Tablet.java. The hostingGoal could be updated by a user (ALWAYS <-> ONDEMAND) while the Tablet is hosted and in-memory. I don't think we need to worry about the NEVER case, as that would cause the Tablet to become unhosted.\r\n  10. ManagerAssignmentIT wait code could be shortened using new Wait class.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1509017048/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1509165407","html_url":"https://github.com/apache/accumulo/pull/3296#issuecomment-1509165407","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3296","id":1509165407,"node_id":"IC_kwDOACaFSM5Z9Alf","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-14T20:01:12Z","updated_at":"2023-04-14T20:01:12Z","author_association":"CONTRIBUTOR","body":"I include the fix in #3297 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1509165407/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1509174746","html_url":"https://github.com/apache/accumulo/issues/1327#issuecomment-1509174746","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1327","id":1509174746,"node_id":"IC_kwDOACaFSM5Z9C3a","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-14T20:05:26Z","updated_at":"2023-04-14T20:05:26Z","author_association":"CONTRIBUTOR","body":"I talked to @keith-turner about this quite a bit today and we came up with a bit of an alternative strategy to what I was trying with my original two draft PRs (#3246 and #3286) where I was trying to handle multiple ranges per file with fencing and still just storing a single file metadata entry per RFile. \r\n\r\nAfter talking through everything I am going to try the following in one or more new PRs to handle both the reading/fencing case and then the storing of metadata ranges.\r\n\r\n1. After going through the scenarios with how fencing off rfiles might be used with merges, splits, scans, etc we think it might be better to go with treating each range as its own file. (Basically a variation of option 1 I detailed in my post [here](https://github.com/apache/accumulo/issues/1327#issuecomment-1427102074)). The idea being that if we can treat each range as its own file the rest of the code wouldn't need as much modification as it's still just dealing with file abstractions.\r\n2. We would only need to create a Fenced Rfile iterator to handle a single range (wouldn't need an iterator to handle multiple ranges anymore). It's to be determined if the fencing iterator can just implement SortedKeyValueIterator or needs to also implement FileSKVIterator.  We may also need to fence the index as well.\r\n3. For storing files and ranges in the metadata table (DataFileValue) we realized that it may be better to associate a file metadata entry per range and not try and store multiple ranges for a single file entry.  This should work better because after thinking about how the the metadata is used for splits, etc we realized that the current DataFileValue fields of size, numEntries, and time really should be associated per Range and not per file. To accomplish this we think it could work to change the DataFile column qualifier (StoredTabletFile) to also include an optional range instead of just the URI to make it unique per range so you'd end up with 1 to many entries per file stored (just 1 entry still if no range or range that covers the entire file).\r\n4. The code (file operations, scans, etc) that deal with StoredTableFiles would hopefully not need a lot of modification if we can encapsulate the fencing and range handling in the iterator and encapsulate the range in StoredTabletFile so that they are just treated like normal files. In other words (for example) if we do it right hopefully the code that iterates/scans over 10 unique files vs 10 \"files\" that are really just 10 unique ranges of 1 file would be identical as the code scanning wouldn't know or care about the difference.\r\n\r\nAnyways, I'm going to work on it and see how it goes. It may not work as well in practice or could run into some roadblocks but if it works it could make things a lot cleaner. As I said, I'll do the work in a new PR(s) and keep the current ones open so we can compare the difference.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1509174746/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1509338370","html_url":"https://github.com/apache/accumulo/issues/1327#issuecomment-1509338370","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1327","id":1509338370,"node_id":"IC_kwDOACaFSM5Z9q0C","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-14T22:07:28Z","updated_at":"2023-04-14T22:10:12Z","author_association":"CONTRIBUTOR","body":"Very nice summary @cshannon.  One additional thing we realized is that having a virtual file per range will help spur compaction when  there are lots of ranges for a single file.  For example if a tablet has 30 ranges for a singe file, when treating each range as a file then the compaction algorithm would probably compact this and prioritize it (by default compactions prioritize jobs with more files).  This is nice because we would probably want a single file with lots of ranges to compact, and with each range being treated as a file this will cause that to happen w/o specialized code. In addition to avoiding specialized code for the compaction case, it also avoids specialized config that would go with the specialized code.  The existing compaction ratio config will work nicely with virtual files per range.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1509338370/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1509472723","html_url":"https://github.com/apache/accumulo/pull/3297#issuecomment-1509472723","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3297","id":1509472723,"node_id":"IC_kwDOACaFSM5Z-LnT","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-15T02:31:55Z","updated_at":"2023-04-15T02:31:55Z","author_association":"CONTRIBUTOR","body":"Overall the changes look good! Thanks for including my changes from #3296. \r\n\r\n> If it could take on different values, it also seemed unlikely that it would be something that end-users would need to trend / watch by specific thread. Monitoring thift times could provide a view into the health of the processes - knowing it was a specific thread seemed like something that would be needed by developers that were profiling specific code sections and metrics may not be the best way to determine that specific thrift thread timing.\r\n\r\nAgreed! If profiling specific code sections is required then we should focus on adding traceability support as a separate feature vs attempting to combine that data into the existing metrics store.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1509472723/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1511378526","html_url":"https://github.com/apache/accumulo/pull/3292#issuecomment-1511378526","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3292","id":1511378526,"node_id":"IC_kwDOACaFSM5aFc5e","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-17T13:43:46Z","updated_at":"2023-04-17T13:43:46Z","author_association":"CONTRIBUTOR","body":"Full IT build completed successfully","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1511378526/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1511939831","html_url":"https://github.com/apache/accumulo/issues/3156#issuecomment-1511939831","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3156","id":1511939831,"node_id":"IC_kwDOACaFSM5aHl73","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-17T19:08:39Z","updated_at":"2023-04-17T19:08:39Z","author_association":"MEMBER","body":"Given what I have gathered from the feedback above, it doesn't seem like there is much to do here. The plugins that are in the codebase now are mostly just examples that are used to test that custom plugins can be created and take affect.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1511939831/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1512055672","html_url":"https://github.com/apache/accumulo/issues/3213#issuecomment-1512055672","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3213","id":1512055672,"node_id":"IC_kwDOACaFSM5aICN4","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-17T20:38:43Z","updated_at":"2023-04-17T20:38:43Z","author_association":"CONTRIBUTOR","body":"#3294 included a capability that allows a user to specify a range of tablets that should always be hosted.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1512055672/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1512256822","html_url":"https://github.com/apache/accumulo/issues/3310#issuecomment-1512256822","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3310","id":1512256822,"node_id":"IC_kwDOACaFSM5aIzU2","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T00:03:42Z","updated_at":"2023-04-18T00:03:42Z","author_association":"CONTRIBUTOR","body":"May be easier to work on this after functionality is removed from the tablet server.  Then we will only need to update the code that is left behind in the tablet server.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1512256822/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1512821900","html_url":"https://github.com/apache/accumulo/issues/3156#issuecomment-1512821900","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3156","id":1512821900,"node_id":"IC_kwDOACaFSM5aK9SM","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T10:18:52Z","updated_at":"2023-04-18T10:18:52Z","author_association":"CONTRIBUTOR","body":"I went ahead and closed this as it doesn't seem like there's much to do as Dom pointed out.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1512821900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1513523194","html_url":"https://github.com/apache/accumulo/issues/3314#issuecomment-1513523194","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3314","id":1513523194,"node_id":"IC_kwDOACaFSM5aNof6","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T17:12:17Z","updated_at":"2023-04-18T17:12:17Z","author_association":"CONTRIBUTOR","body":"TabletLocationState objects passed to the unsuspend method have a state of SUSPENDED\r\n\r\nhttps://github.com/apache/accumulo/blob/15c9f55280f4ce28a80b800f1e05128f33c85db3/server/manager/src/main/java/org/apache/accumulo/manager/TabletGroupWatcher.java#L296\r\n\r\nTo have a state of SUSPENDED, suspend must be non-null\r\n\r\nhttps://github.com/apache/accumulo/blob/15c9f55280f4ce28a80b800f1e05128f33c85db3/core/src/main/java/org/apache/accumulo/core/metadata/TabletLocationState.java#L133-L149","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1513523194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1513634400","html_url":"https://github.com/apache/accumulo/pull/3315#issuecomment-1513634400","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3315","id":1513634400,"node_id":"IC_kwDOACaFSM5aODpg","user":{"login":"jmark99","id":31573345,"node_id":"MDQ6VXNlcjMxNTczMzQ1","avatar_url":"https://avatars.githubusercontent.com/u/31573345?v=4","gravatar_id":"","url":"https://api.github.com/users/jmark99","html_url":"https://github.com/jmark99","followers_url":"https://api.github.com/users/jmark99/followers","following_url":"https://api.github.com/users/jmark99/following{/other_user}","gists_url":"https://api.github.com/users/jmark99/gists{/gist_id}","starred_url":"https://api.github.com/users/jmark99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmark99/subscriptions","organizations_url":"https://api.github.com/users/jmark99/orgs","repos_url":"https://api.github.com/users/jmark99/repos","events_url":"https://api.github.com/users/jmark99/events{/privacy}","received_events_url":"https://api.github.com/users/jmark99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T18:40:59Z","updated_at":"2023-04-18T18:44:14Z","author_association":"CONTRIBUTOR","body":"Successfully ran Accumulo via fluo-uno for both 2.1.1-SNAPSHOT and 3.0.0-SNAPSHOT.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1513634400/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1513641725","html_url":"https://github.com/apache/accumulo/pull/3316#issuecomment-1513641725","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3316","id":1513641725,"node_id":"IC_kwDOACaFSM5aOFb9","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T18:47:42Z","updated_at":"2023-04-18T18:47:42Z","author_association":"CONTRIBUTOR","body":"Did you look through the properties to see if any bulk properties are no longer used?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1513641725/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1513673824","html_url":"https://github.com/apache/accumulo/issues/3314#issuecomment-1513673824","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3314","id":1513673824,"node_id":"IC_kwDOACaFSM5aONRg","user":{"login":"ivakegg","id":347158,"node_id":"MDQ6VXNlcjM0NzE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/347158?v=4","gravatar_id":"","url":"https://api.github.com/users/ivakegg","html_url":"https://github.com/ivakegg","followers_url":"https://api.github.com/users/ivakegg/followers","following_url":"https://api.github.com/users/ivakegg/following{/other_user}","gists_url":"https://api.github.com/users/ivakegg/gists{/gist_id}","starred_url":"https://api.github.com/users/ivakegg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivakegg/subscriptions","organizations_url":"https://api.github.com/users/ivakegg/orgs","repos_url":"https://api.github.com/users/ivakegg/repos","events_url":"https://api.github.com/users/ivakegg/events{/privacy}","received_events_url":"https://api.github.com/users/ivakegg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T19:15:15Z","updated_at":"2023-04-18T19:15:56Z","author_association":"CONTRIBUTOR","body":"As far as I can tell you are absolutely correct.  If the suspend is set, then the tablet is suspended and hence that check for != null is exactly the opposite of what it should be.  I hate to say this but \"How did this ever work?\"","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1513673824/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1513673974","html_url":"https://github.com/apache/accumulo/pull/3316#issuecomment-1513673974","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3316","id":1513673974,"node_id":"IC_kwDOACaFSM5aONT2","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T19:15:22Z","updated_at":"2023-04-18T19:15:22Z","author_association":"MEMBER","body":"This should target the main branch, not the elasticity branch. This should be removed in 3.0.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1513673974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1513919912","html_url":"https://github.com/apache/accumulo/issues/3314#issuecomment-1513919912","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3314","id":1513919912,"node_id":"IC_kwDOACaFSM5aPJWo","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T23:50:03Z","updated_at":"2023-04-18T23:50:03Z","author_association":"CONTRIBUTOR","body":"> I hate to say this but \"How did this ever work?\"\r\n\r\nIt feels like the intention of this code may be to remove the suspended indicator in the metadata table when a tablet is suspended but has no current or future location.  But not completely sure about that, need to look into to it some more.\r\n\r\nIt seems the code has always behaved this way, so not sure what that means.  Does that mean there is some rare edges case that is not being properly handled?  Or does something else compensate for what this code was trying to do?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1513919912/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1514579053","html_url":"https://github.com/apache/accumulo/pull/3316#issuecomment-1514579053","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3316","id":1514579053,"node_id":"IC_kwDOACaFSM5aRqRt","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T11:36:35Z","updated_at":"2023-04-19T11:36:35Z","author_association":"CONTRIBUTOR","body":"Closing in favor of #3319 which removes BulkImport from the 3.0.0 version","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1514579053/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1514673601","html_url":"https://github.com/apache/accumulo/issues/3314#issuecomment-1514673601","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3314","id":1514673601,"node_id":"IC_kwDOACaFSM5aSBXB","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T12:46:23Z","updated_at":"2023-04-19T12:46:23Z","author_association":"CONTRIBUTOR","body":"> I hate to say this but \"How did this ever work?\"\r\n\r\nI tried to track through this. This code is pretty convoluted.  While the tablet is in a suspended state, the TabletGroupWatcher continues to [call](https://github.com/apache/accumulo/blob/2.1/server/manager/src/main/java/org/apache/accumulo/manager/TabletGroupWatcher.java#L282) `hostSuspendedTablet`.  After the suspension time has passed `hostSuspendedTablet` [adds](https://github.com/apache/accumulo/blob/2.1/server/manager/src/main/java/org/apache/accumulo/manager/TabletGroupWatcher.java#L424) the tablet to the `unassigned` map so that it can be assigned. I can't see anywhere in the assignment process where the suspension flag is removed from the tablet metadata. So, I assume that the tablet gets assigned and hosted, and the suspend information still exists. Once hosted, `TabletLocationState.getState()` will return `HOSTED` instead of `SUSPENDED`. The next time the Tablet gets [unloaded](https://github.com/apache/accumulo/blob/2.1/server/tserver/src/main/java/org/apache/accumulo/tserver/UnloadTabletHandler.java#L123) from a TabletServer the code goes down a path of passing `-1` for the `suspensionTimestamp` and ends up deleting the suspension tablet metadata information [here](https://github.com/apache/accumulo/blob/2.1/server/base/src/main/java/org/apache/accumulo/server/manager/state/MetaDataStateStore.java#L127).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1514673601/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1514835417","html_url":"https://github.com/apache/accumulo/issues/3314#issuecomment-1514835417","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3314","id":1514835417,"node_id":"IC_kwDOACaFSM5aSo3Z","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T14:25:51Z","updated_at":"2023-04-19T14:25:51Z","author_association":"CONTRIBUTOR","body":"> I tried to track through this.\r\n\r\nBased on that analysis, it seems like the code not working results in a possibly longer delay in some cases.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1514835417/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1514841993","html_url":"https://github.com/apache/accumulo/issues/3314#issuecomment-1514841993","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3314","id":1514841993,"node_id":"IC_kwDOACaFSM5aSqeJ","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T14:29:43Z","updated_at":"2023-04-19T14:29:43Z","author_association":"CONTRIBUTOR","body":"> Based on that analysis, it seems like the code not working results in a possibly longer delay in some cases.\r\n\r\nI'm not sure about that. I think it gets hosted when the suspension timeout is passed like it's supposed to. It's just that the removal of the suspension state in the Tablet metadata does not get removed until the next time the Tablet is unloaded successfully. I think the change you suggested in the description is still valid and should be made.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1514841993/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1515130490","html_url":"https://github.com/apache/accumulo/pull/3322#issuecomment-1515130490","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3322","id":1515130490,"node_id":"IC_kwDOACaFSM5aTw56","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T17:46:04Z","updated_at":"2023-04-19T17:46:04Z","author_association":"CONTRIBUTOR","body":"@EdColeman - this seems pretty straightforward, would be interested in your thoughts on a test.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1515130490/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1515218785","html_url":"https://github.com/apache/accumulo/pull/3230#issuecomment-1515218785","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3230","id":1515218785,"node_id":"IC_kwDOACaFSM5aUGdh","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T18:56:02Z","updated_at":"2023-04-19T18:56:02Z","author_association":"CONTRIBUTOR","body":"I'd rather see this be a hard failure when there are old servers running. From a user perspective, I would rather know that I need to stop old servers or manually delete their ZK paths before proceeding with an upgrade. It's possible that I believe I stopped everything, but some stop commands in a distributed environment failed for some reason or another. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1515218785/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1515319564","html_url":"https://github.com/apache/accumulo/issues/3308#issuecomment-1515319564","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3308","id":1515319564,"node_id":"IC_kwDOACaFSM5aUfEM","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T20:12:25Z","updated_at":"2023-04-19T20:12:25Z","author_association":"MEMBER","body":"@dlmarion do you think this change should be targeting the `elasticity` branch directly? Or should this new object be created and used in `main` and then merged into `elasticity`?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1515319564/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1515324167","html_url":"https://github.com/apache/accumulo/issues/3308#issuecomment-1515324167","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3308","id":1515324167,"node_id":"IC_kwDOACaFSM5aUgMH","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T20:16:23Z","updated_at":"2023-04-19T20:16:23Z","author_association":"CONTRIBUTOR","body":"I think it depends on the implementation. I think you might be able to do the following and target `main`:\r\n\r\n1. Create new RowRange public API object\r\n2. Everywhere in the API where Text start/stop row values are being used, deprecate that method and create a new method that uses the new API object.\r\n\r\nIt's yet to be determined how/where the inclusivity arguments are used in the existing methods.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1515324167/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1515617496","html_url":"https://github.com/apache/accumulo/pull/3143#issuecomment-1515617496","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3143","id":1515617496,"node_id":"IC_kwDOACaFSM5aVnzY","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-20T02:18:52Z","updated_at":"2023-04-20T02:18:52Z","author_association":"CONTRIBUTOR","body":"This is succeeded by #3292.  I need to look over the test in this PR and see if any should be used, after that it can be closed. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1515617496/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1515720826","html_url":"https://github.com/apache/accumulo/issues/3298#issuecomment-1515720826","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3298","id":1515720826,"node_id":"IC_kwDOACaFSM5aWBB6","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-20T05:07:25Z","updated_at":"2023-04-20T05:07:25Z","author_association":"MEMBER","body":"I think this is premature. We use semver for versioning. A major version bump communicates a breaking change. While there may a compelling reason to go straight to 4.0 without semver breaking changes, we should decide that on the mailing list. This does not need to be decided now, though. It can wait until closer to a release. I just think that doing it in the branch before that decision is premature.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1515720826/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1515735552","html_url":"https://github.com/apache/accumulo/issues/3287#issuecomment-1515735552","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3287","id":1515735552,"node_id":"IC_kwDOACaFSM5aWEoA","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-20T05:28:16Z","updated_at":"2023-04-20T05:28:16Z","author_association":"MEMBER","body":"Fixed for 2.x docs on the website in https://github.com/apache/accumulo-website/pull/383","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1515735552/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1515737827","html_url":"https://github.com/apache/accumulo/pull/3290#issuecomment-1515737827","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3290","id":1515737827,"node_id":"IC_kwDOACaFSM5aWFLj","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-20T05:31:27Z","updated_at":"2023-04-20T05:31:27Z","author_association":"MEMBER","body":"Is there more work being done here? Is this still WIP?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1515737827/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1516260311","html_url":"https://github.com/apache/accumulo/issues/3298#issuecomment-1516260311","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3298","id":1516260311,"node_id":"IC_kwDOACaFSM5aYEvX","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-20T12:42:01Z","updated_at":"2023-04-20T12:42:01Z","author_association":"CONTRIBUTOR","body":"The version is easy to change should we decide to make it something else. Semver tells us when we must change certain parts of the version number, it doesn't say that we can't change the version number for other reasons. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1516260311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1516335052","html_url":"https://github.com/apache/accumulo/issues/3298#issuecomment-1516335052","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3298","id":1516335052,"node_id":"IC_kwDOACaFSM5aYW_M","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-20T13:30:37Z","updated_at":"2023-04-20T13:30:37Z","author_association":"CONTRIBUTOR","body":"I agree the since version should be reevaluated before the elasticity branch is merged to main.  I doubt we will forget, but it may be good to create a follow on issue with so many things to remember. I will add something to the project.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1516335052/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1516341772","html_url":"https://github.com/apache/accumulo/issues/3298#issuecomment-1516341772","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3298","id":1516341772,"node_id":"IC_kwDOACaFSM5aYYoM","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-20T13:34:57Z","updated_at":"2023-04-20T13:34:57Z","author_association":"CONTRIBUTOR","body":"Created this project item so we do not forget.\r\n\r\nhttps://github.com/orgs/apache/projects/164/views/1?pane=issue&itemId=26194355","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1516341772/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1516518272","html_url":"https://github.com/apache/accumulo/pull/3324#issuecomment-1516518272","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3324","id":1516518272,"node_id":"IC_kwDOACaFSM5aZDuA","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-20T15:17:39Z","updated_at":"2023-04-20T15:17:39Z","author_association":"CONTRIBUTOR","body":"I have no issue with merging with `TabletCache`, but I wonder if `TabletLocationCache` is a better name. Not that `TabletCache` is a bad name, but there are other classes (e.g. `MetadataLocationObtainer`) and variables (e.g. `locator`) that imply location.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1516518272/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1516613217","html_url":"https://github.com/apache/accumulo/pull/3324#issuecomment-1516613217","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3324","id":1516613217,"node_id":"IC_kwDOACaFSM5aZa5h","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-20T16:21:38Z","updated_at":"2023-04-20T16:21:38Z","author_association":"CONTRIBUTOR","body":"> I have no issue with merging with TabletCache, but I wonder if TabletLocationCache is a better name. Not that TabletCache is a bad name, but there are other classes (e.g. MetadataLocationObtainer) and variables (e.g. locator) that imply location.\r\n\r\nI don't like location in the name since the location is optional.  Was thinking the name needed more specificity though after reading the comment,  changed the name to ClientTabletCache to make it more specific.  I realized I had another todo in the code for doing a rename, so I did that.  I also renamed MetadataLocationObtainer.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1516613217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1516642469","html_url":"https://github.com/apache/accumulo/pull/3324#issuecomment-1516642469","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3324","id":1516642469,"node_id":"IC_kwDOACaFSM5aZiCl","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-20T16:44:55Z","updated_at":"2023-04-20T16:44:55Z","author_association":"CONTRIBUTOR","body":"@dlmarion I made some renames that were internal to the class after your approval in 9941b4d.  Let me know of there is anything of concern with that change.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1516642469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1516763949","html_url":"https://github.com/apache/accumulo/pull/3288#issuecomment-1516763949","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3288","id":1516763949,"node_id":"IC_kwDOACaFSM5aZ_st","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-20T18:25:34Z","updated_at":"2023-04-20T18:25:34Z","author_association":"CONTRIBUTOR","body":"@dlmarion can you see if 49b93b349e contains the changes you requested?  Or do you think there should be additional improvements?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1516763949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1516825782","html_url":"https://github.com/apache/accumulo/pull/3230#issuecomment-1516825782","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3230","id":1516825782,"node_id":"IC_kwDOACaFSM5aaOy2","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-20T19:18:24Z","updated_at":"2023-04-20T19:18:24Z","author_association":"CONTRIBUTOR","body":"94b8f8b5d8 changes the logging to provide list of lock that were deleted as well as the locks that failed to be removed.\r\n\r\nThe timeout was increased to virtually block - and if it does timeout the check throws an exception to stop the upgrade.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1516825782/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1516828509","html_url":"https://github.com/apache/accumulo/pull/3230#issuecomment-1516828509","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3230","id":1516828509,"node_id":"IC_kwDOACaFSM5aaPdd","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-20T19:21:00Z","updated_at":"2023-04-20T19:21:00Z","author_association":"CONTRIBUTOR","body":"@ivakegg - wonder if you'd like to chime in on this.  Do you think this is a good check to perform?   Also, is it better to have it fail hard, or should it allow the upgrade to continue?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1516828509/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1516893266","html_url":"https://github.com/apache/accumulo/pull/3321#issuecomment-1516893266","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3321","id":1516893266,"node_id":"IC_kwDOACaFSM5aafRS","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-20T20:16:41Z","updated_at":"2023-04-20T20:16:41Z","author_association":"CONTRIBUTOR","body":"> I wonder if some of these APIs have a String equivalent, so we don't have to wrap them all with `new Text`. That could be another slight improvement that would go nicely along with this change (if they are equivalent).\r\n\r\nThat's a great idea! I just added the changes to remove the Text wrappers. \r\nMutation already had a CharSequence method signature to use. I didn't think we needed to add a method for Strings, but happy to do so if that's desired. \r\n \r\nI also had to modify the Encoding util to support a byte array for full removal of the Hadoop Text wrappers.\r\n\r\nThis change seemed minimal as Encoding was only being used by ProblemReport and its test class and immediately generated a byte array from the Text object. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1516893266/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1517722281","html_url":"https://github.com/apache/accumulo/pull/3288#issuecomment-1517722281","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3288","id":1517722281,"node_id":"IC_kwDOACaFSM5adpqp","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-21T12:06:37Z","updated_at":"2023-04-21T12:06:37Z","author_association":"CONTRIBUTOR","body":"I think with these changes overall, all subclasses of AbstractServer need to call MetricsUtil.initializeProducers, passing in `this` at a minimum. I think that CompactionCoordinator is missing this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1517722281/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1518261046","html_url":"https://github.com/apache/accumulo/pull/3328#issuecomment-1518261046","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3328","id":1518261046,"node_id":"IC_kwDOACaFSM5aftM2","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-21T19:40:31Z","updated_at":"2023-04-21T19:40:31Z","author_association":"CONTRIBUTOR","body":"Having a RowRange object would be useful in 3.1 and not just elasticity. As part of #1327 I need to use a range for fencing off table files. Right now in my prototypes I'm just using the Range object and leaving cq/cf, etc null/empty but really we just need to fence off by rows.\r\n\r\nIt would need to support some of the original methods though of Range for it to be used. There are some very useful methods in Range like [mergeOverlapping](https://github.com/cshannon/accumulo/blob/9a31c4257b54ed890f02ab9aafe6d99a9638dac6/core/src/main/java/org/apache/accumulo/core/data/Range.java#L418) and [clip](https://github.com/cshannon/accumulo/blob/9a31c4257b54ed890f02ab9aafe6d99a9638dac6/core/src/main/java/org/apache/accumulo/core/data/Range.java#L511) that would need to exist.\r\n\r\nAfter I talked about this with @keith-turner last week I was thinking a one approach would be to do some refactoring and move things just for rows into RowRange and then have Range extend RowRange and add CF, CQ, etc.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1518261046/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1518263272","html_url":"https://github.com/apache/accumulo/pull/3328#issuecomment-1518263272","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3328","id":1518263272,"node_id":"IC_kwDOACaFSM5aftvo","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-21T19:43:39Z","updated_at":"2023-04-21T19:43:39Z","author_association":"MEMBER","body":"@cshannon, interesting ideas. I am planning to move these changes to target 3.1. I will also look into the other ideas as I go.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1518263272/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1518267246","html_url":"https://github.com/apache/accumulo/pull/3328#issuecomment-1518267246","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3328","id":1518267246,"node_id":"IC_kwDOACaFSM5afutu","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-21T19:49:07Z","updated_at":"2023-04-21T19:49:07Z","author_association":"CONTRIBUTOR","body":"> @cshannon, interesting ideas. I am planning to move these changes to target 3.1. I will also look into the other ideas as I go.\r\n\r\nSounds good, there's no rush. I can and will keep using Range in my no-chop merge prototype for now as it would be easy to swap it out if/when a RowRange object is ready if it supported all the utility methods as I said. I can also review this too and look more at it to help out. \r\n\r\nIn theory this object should be able to be re-worked from the existing Range object and support the existing methods (even if it's just a shared interface or something and not inheritance) because supporting only rows should be simpler logic to implement than the existing object that handles an entire Key.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1518267246/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1518408423","html_url":"https://github.com/apache/accumulo/issues/3301#issuecomment-1518408423","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3301","id":1518408423,"node_id":"IC_kwDOACaFSM5agRLn","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-21T22:59:17Z","updated_at":"2023-04-21T22:59:17Z","author_association":"CONTRIBUTOR","body":"I've started looking at this today and will work on a PR.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1518408423/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1518695637","html_url":"https://github.com/apache/accumulo/pull/3331#issuecomment-1518695637","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3331","id":1518695637,"node_id":"IC_kwDOACaFSM5ahXTV","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-22T16:17:15Z","updated_at":"2023-04-22T16:17:15Z","author_association":"CONTRIBUTOR","body":"@keith-turner - It seemed like the best thing to do here was to add a new field to the `Assignment` class to pass the previously read last location data if known. This was nice as I didn't have to change method signatures and also works for the case where a list of assignments are passed. I added a bunch of mock tests to verify that the new behavior is correct in terms of when the update will do a metadata read or skip it. I ran through the sunny tests and they all passed but I will also kick off a full IT build.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1518695637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1518719516","html_url":"https://github.com/apache/accumulo/pull/3332#issuecomment-1518719516","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3332","id":1518719516,"node_id":"IC_kwDOACaFSM5ahdIc","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-22T18:08:59Z","updated_at":"2023-04-22T18:08:59Z","author_association":"CONTRIBUTOR","body":"@keith-turner - As I noted there is still plenty more work to do here but I wanted to submit what I had so far to get your thoughts before I go too much further. I ended up doing most of the changes to load up the fenced iterators in `FileManager` as that was where most of the tracking was done for caching of files so I had to change everything there to track unique files by Range as well. I didn't actually use the `wrapFileIterator()` method inside of `DataFileValue` as it made more sense to me to handle it in `RFileOperations` when building a reader based on how the current design was.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1518719516/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1519963789","html_url":"https://github.com/apache/accumulo/pull/3319#issuecomment-1519963789","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3319","id":1519963789,"node_id":"IC_kwDOACaFSM5amM6N","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-24T11:31:02Z","updated_at":"2023-04-24T11:31:02Z","author_association":"CONTRIBUTOR","body":"Full IT build passed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1519963789/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1520878660","html_url":"https://github.com/apache/accumulo/pull/3336#issuecomment-1520878660","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3336","id":1520878660,"node_id":"IC_kwDOACaFSM5apsRE","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-24T21:52:58Z","updated_at":"2023-04-24T21:52:58Z","author_association":"CONTRIBUTOR","body":"Noticed this issue again while working on #3337 and created a fix for it.  Thinking this fix may be good for 2.1, it could offer nice performance benefits for bulk imports into really large tables.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1520878660/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1520923805","html_url":"https://github.com/apache/accumulo/issues/3333#issuecomment-1520923805","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3333","id":1520923805,"node_id":"IC_kwDOACaFSM5ap3Sd","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-24T22:54:12Z","updated_at":"2023-04-24T22:56:51Z","author_association":"CONTRIBUTOR","body":"I looked into this and opened #3338.  We could have probably just changed the logging from info to debug, but looking at the code I thought switching to use Ample had a few advantages.  The Ample code will not retry on really unexpected cases and when there is a concurrent split it backtracks to the last good tablet instead of rescanning the entire table.  The Ample code is shorter also.  We may be able to have a follow on issue to replace all calls MetadataServicer.getTabletLocations with Ample","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1520923805/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1520924263","html_url":"https://github.com/apache/accumulo/issues/3334#issuecomment-1520924263","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3334","id":1520924263,"node_id":"IC_kwDOACaFSM5ap3Zn","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-24T22:54:53Z","updated_at":"2023-04-24T22:54:53Z","author_association":"MEMBER","body":"I believe glassfish is in the stack for Jersey. As the reference implementation for Jersey, the glassfish implementation seemed to be the best supported and easiest to use. That was added to support the REST/AJAX based site that provides a more responsive user experience when running with many servers (no longer required to do full page reloads, and better retaining client-side state, like table sorting). It's definitely a far cry better than the manual servlets we used to maintain before. I don't think we'll want to go backwards and get rid of that, but there might be some trade-offs we're making here where we can afford to improve, or maybe there's an implementation that has a smaller footprint.\r\n\r\nIf I understand you correctly, this pertains to the optional feature to forward warnings/error messages to the monitor? For some of that, our hands were tied in the implementation, because we had to switch to using an implementation that sent messages using the REST endpoint, in order to avoid severe CVEs in log4j's socket receiver.\r\n\r\nI'm not sure exactly how you have logging configured, but by default, our config ships using log4j2's async loggers. There may be some configuration to tweak their send behavior to throttle them, so they don't overwhelm the monitor: https://logging.apache.org/log4j/2.x/manual/async.html\r\n\r\nFor example, you have the option to configure filters to log4j2 to deduplicate repeated messages or to control bursts (you can also write a custom filter for your specific needs). See https://logging.apache.org/log4j/2.x/manual/filters.html\r\n\r\nYou can also choose to completely turn off the monitor appender, and rely on some other more robust log collection/analysis that is suitable for a large system. That's probably what I would recommend anyway, because the monitor will only keep a small window of recent warnings/errors, and on a large system, important things can easily scroll out and be missed.\r\n\r\nGiven that a lot of this is based on the environment, and tweakable by users, I don't think I would characterize this as a bug (it has the flavor of being susceptible to a denial-of-service attack, rather than an explicit bug). There seems to be many options on the log sending side, but I'm not sure what we can do on the log receiving side inside the monitor to avoid being overwhelmed. If there's something specific we can achieve within the monitor to avoid being overwhelmed, I'd be interested, but I'm not sure what options are available to us on the server-side. We definitely can't go back to the socket appender from log4j 1.2, since that's no longer available to us. We could run a separate Thrift service on the monitor, but that comes with its own problems/trade-offs, and I'm not sure it would ultimately fix the problem, since that too could be overwhelmed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1520924263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1520928354","html_url":"https://github.com/apache/accumulo/pull/3338#issuecomment-1520928354","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3338","id":1520928354,"node_id":"IC_kwDOACaFSM5ap4Zi","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-24T23:00:09Z","updated_at":"2023-04-24T23:00:09Z","author_association":"MEMBER","body":"Would this benefit 2.1?\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1520928354/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1520932276","html_url":"https://github.com/apache/accumulo/pull/3336#issuecomment-1520932276","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3336","id":1520932276,"node_id":"IC_kwDOACaFSM5ap5W0","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-24T23:04:06Z","updated_at":"2023-04-24T23:04:06Z","author_association":"MEMBER","body":"> Noticed this issue again while working on #3337 and created a fix for it. Thinking this fix may be good for 2.1, it could offer nice performance benefits for bulk imports into really large tables.\r\n\r\nIf you decide to do this against 2.1 instead, and update the PR, then please also update the target version project to 2.1.1 from 3.0.0.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1520932276/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1521035909","html_url":"https://github.com/apache/accumulo/pull/3331#issuecomment-1521035909","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3331","id":1521035909,"node_id":"IC_kwDOACaFSM5aqSqF","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-25T01:36:31Z","updated_at":"2023-04-25T01:36:31Z","author_association":"MEMBER","body":"The original ticket was targeting 2.1.1, but this PR was made against the main branch instead of the 2.1 branch. I'm not sure what the desired intent is, but these should probably match, or we'll need another PR to backport it if they remain different. If you want to avoid creating a new PR, this PR can be updated by editing the base branch to 2.1, and then rebasing (cherry-picking) the commits from the HEAD of the main branch onto the head of the 2.1 branch and force pushing the branch that backs this PR.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1521035909/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1521671841","html_url":"https://github.com/apache/accumulo/pull/3327#issuecomment-1521671841","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3327","id":1521671841,"node_id":"IC_kwDOACaFSM5ast6h","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-25T12:02:48Z","updated_at":"2023-04-25T12:02:48Z","author_association":"CONTRIBUTOR","body":"Draft follow-on issue created in the Elasticity project","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1521671841/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1521708333","html_url":"https://github.com/apache/accumulo/issues/3252#issuecomment-1521708333","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3252","id":1521708333,"node_id":"IC_kwDOACaFSM5as20t","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-25T12:30:33Z","updated_at":"2023-04-25T12:30:33Z","author_association":"CONTRIBUTOR","body":"@keith-turner - can this be closed?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1521708333/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1521812429","html_url":"https://github.com/apache/accumulo/pull/3338#issuecomment-1521812429","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3338","id":1521812429,"node_id":"IC_kwDOACaFSM5atQPN","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-25T13:41:32Z","updated_at":"2023-04-25T13:41:32Z","author_association":"CONTRIBUTOR","body":"> Would this benefit 2.1?\r\n\r\nThere are some benefits in edge cases.  My only concern w/ landing it in 2.x is causing new bugs.  We could just change the code in to 2.x to log at debug and get a lot of the benefit of this PR.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1521812429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1521872627","html_url":"https://github.com/apache/accumulo/issues/3333#issuecomment-1521872627","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3333","id":1521872627,"node_id":"IC_kwDOACaFSM5ate7z","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-25T14:17:59Z","updated_at":"2023-04-25T14:17:59Z","author_association":"MEMBER","body":"@keith-turner, were you able to reproduce this? If so, which branch were you running on.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1521872627/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1521923650","html_url":"https://github.com/apache/accumulo/issues/3333#issuecomment-1521923650","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3333","id":1521923650,"node_id":"IC_kwDOACaFSM5atrZC","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-25T14:47:41Z","updated_at":"2023-04-25T14:47:41Z","author_association":"MEMBER","body":"I was originally seeing this bug in 2.1 but have also been able to reproduce it on `main`. When running an instance with the changes from #3338, I do not see this occurring.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1521923650/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1521925037","html_url":"https://github.com/apache/accumulo/pull/3338#issuecomment-1521925037","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3338","id":1521925037,"node_id":"IC_kwDOACaFSM5atrut","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-25T14:48:32Z","updated_at":"2023-04-25T14:48:32Z","author_association":"MEMBER","body":"I have tried running the script that provoked the bug on this branch and I do not see the exceptions occurring","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1521925037/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1522044193","html_url":"https://github.com/apache/accumulo/pull/3336#issuecomment-1522044193","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3336","id":1522044193,"node_id":"IC_kwDOACaFSM5auI0h","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-25T15:57:59Z","updated_at":"2023-04-25T15:57:59Z","author_association":"CONTRIBUTOR","body":"I asked for thoughts about merging this to 2.1 [in slack](https://the-asf.slack.com/archives/CERNB8NDC/p1682433432911449).  Ed brought up a good point there.  I need to investigate what if any impact the changes have on the bulkv1 code.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1522044193/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1522066593","html_url":"https://github.com/apache/accumulo/pull/3338#issuecomment-1522066593","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3338","id":1522066593,"node_id":"IC_kwDOACaFSM5auOSh","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-25T16:13:38Z","updated_at":"2023-04-25T16:13:38Z","author_association":"MEMBER","body":"After running the script (outlined in #3333) I no longer see the exceptions and instead see these logs (after enabling debug logging):\r\n```\r\n2023-04-25T12:04:57,128 [schema.LinkingIterator] DEBUG: Tablets end row and prev end row not equals s;1674;1337 s;235;2011 \r\n2023-04-25T12:04:57,382 [schema.LinkingIterator] DEBUG: Resetting scanner to [s;1674%00; : [] 9223372036854775807 false,s<%00; : [] 9223372036854775807 false)\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1522066593/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1522108469","html_url":"https://github.com/apache/accumulo/pull/3339#issuecomment-1522108469","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3339","id":1522108469,"node_id":"IC_kwDOACaFSM5auYg1","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-25T16:46:17Z","updated_at":"2023-04-25T16:46:17Z","author_association":"CONTRIBUTOR","body":"LGTM.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1522108469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1522363662","html_url":"https://github.com/apache/accumulo/pull/3321#issuecomment-1522363662","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3321","id":1522363662,"node_id":"IC_kwDOACaFSM5avW0O","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-25T20:18:52Z","updated_at":"2023-04-25T20:18:52Z","author_association":"MEMBER","body":"Thanks, @ddanielr . This can be merged once CI checks are finished.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1522363662/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1522370926","html_url":"https://github.com/apache/accumulo/pull/3328#issuecomment-1522370926","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3328","id":1522370926,"node_id":"IC_kwDOACaFSM5avYlu","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-25T20:25:36Z","updated_at":"2023-04-25T20:25:36Z","author_association":"MEMBER","body":"Superseded by #3342","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1522370926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1522772259","html_url":"https://github.com/apache/accumulo/pull/3344#issuecomment-1522772259","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3344","id":1522772259,"node_id":"IC_kwDOACaFSM5aw6kj","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-26T04:42:39Z","updated_at":"2023-04-26T04:42:39Z","author_association":"MEMBER","body":"The updated errorprone found a legitimate bug in the Precondition pattern message added in https://github.com/apache/accumulo/commit/57ed0ec503159e23d608628aa856ca8a3f164465#diff-23a22b999a2787a6c8a0be675465f31b71067f68de3ba5f633c0a73da8780b2fR328-R330 for #1389 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1522772259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1522799852","html_url":"https://github.com/apache/accumulo/pull/3265#issuecomment-1522799852","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3265","id":1522799852,"node_id":"IC_kwDOACaFSM5axBTs","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-26T05:17:43Z","updated_at":"2023-04-26T05:17:43Z","author_association":"MEMBER","body":"ShellIT is fixed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1522799852/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1523544037","html_url":"https://github.com/apache/accumulo/pull/3344#issuecomment-1523544037","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3344","id":1523544037,"node_id":"IC_kwDOACaFSM5az2_l","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-26T14:43:21Z","updated_at":"2023-04-26T14:43:21Z","author_association":"CONTRIBUTOR","body":"Created https://github.com/apache/accumulo/pull/3345 to fix errorprone build error.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1523544037/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1523711286","html_url":"https://github.com/apache/accumulo/pull/3343#issuecomment-1523711286","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3343","id":1523711286,"node_id":"IC_kwDOACaFSM5a0f02","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-26T16:26:41Z","updated_at":"2023-04-26T16:26:41Z","author_association":"MEMBER","body":"@DomGarguilo I went ahead and merged this into 2.1 and main, since I was merging forward other stuff already. The only slight trouble was the change in javadoc formatting, but it wasn't that big of a change, so it wasn't too much trouble to resolve the conflicts in the merge commit.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1523711286/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1523811246","html_url":"https://github.com/apache/accumulo/issues/3346#issuecomment-1523811246","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3346","id":1523811246,"node_id":"IC_kwDOACaFSM5a04Ou","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-26T17:39:16Z","updated_at":"2023-04-26T17:39:16Z","author_association":"MEMBER","body":"What Accumulo version?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1523811246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1523816632","html_url":"https://github.com/apache/accumulo/issues/3346#issuecomment-1523816632","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3346","id":1523816632,"node_id":"IC_kwDOACaFSM5a05i4","user":{"login":"ivakegg","id":347158,"node_id":"MDQ6VXNlcjM0NzE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/347158?v=4","gravatar_id":"","url":"https://api.github.com/users/ivakegg","html_url":"https://github.com/ivakegg","followers_url":"https://api.github.com/users/ivakegg/followers","following_url":"https://api.github.com/users/ivakegg/following{/other_user}","gists_url":"https://api.github.com/users/ivakegg/gists{/gist_id}","starred_url":"https://api.github.com/users/ivakegg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivakegg/subscriptions","organizations_url":"https://api.github.com/users/ivakegg/orgs","repos_url":"https://api.github.com/users/ivakegg/repos","events_url":"https://api.github.com/users/ivakegg/events{/privacy}","received_events_url":"https://api.github.com/users/ivakegg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-26T17:43:46Z","updated_at":"2023-04-26T17:50:26Z","author_association":"CONTRIBUTOR","body":"This type of exception happens frequently on the RemoteHost, and only one of them may have been correlated with one of the tservers halting (occurred 17 seconds prior):\r\n```\r\n[scan.NextBatchTask] WARN : exception while scanning tablet !0;... for <ip>:<port>\r\njava.lang.IllegalStateException: Tried to use scanner after it was closed.\r\n    at org.apache.accumulo.tserver.tablet.Scanner.read(Scanner.java:87)\r\n    at org.apache.accumulo.tserver.scan.NextBatchTask.run(NextBatchTask.java:78)\r\n    at org.apache.accumulo.tserver.session.ScanSession$ScanMeasurer.run(ScanSession.java:62)\r\n    ...  \r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1523816632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1523817528","html_url":"https://github.com/apache/accumulo/issues/3346#issuecomment-1523817528","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3346","id":1523817528,"node_id":"IC_kwDOACaFSM5a05w4","user":{"login":"ivakegg","id":347158,"node_id":"MDQ6VXNlcjM0NzE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/347158?v=4","gravatar_id":"","url":"https://api.github.com/users/ivakegg","html_url":"https://github.com/ivakegg","followers_url":"https://api.github.com/users/ivakegg/followers","following_url":"https://api.github.com/users/ivakegg/following{/other_user}","gists_url":"https://api.github.com/users/ivakegg/gists{/gist_id}","starred_url":"https://api.github.com/users/ivakegg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivakegg/subscriptions","organizations_url":"https://api.github.com/users/ivakegg/orgs","repos_url":"https://api.github.com/users/ivakegg/repos","events_url":"https://api.github.com/users/ivakegg/events{/privacy}","received_events_url":"https://api.github.com/users/ivakegg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-26T17:44:36Z","updated_at":"2023-04-26T17:44:36Z","author_association":"CONTRIBUTOR","body":"accumulo 2.1.1-SNAPSHOT","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1523817528/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1523888328","html_url":"https://github.com/apache/accumulo/issues/3346#issuecomment-1523888328","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3346","id":1523888328,"node_id":"IC_kwDOACaFSM5a1LDI","user":{"login":"ivakegg","id":347158,"node_id":"MDQ6VXNlcjM0NzE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/347158?v=4","gravatar_id":"","url":"https://api.github.com/users/ivakegg","html_url":"https://github.com/ivakegg","followers_url":"https://api.github.com/users/ivakegg/followers","following_url":"https://api.github.com/users/ivakegg/following{/other_user}","gists_url":"https://api.github.com/users/ivakegg/gists{/gist_id}","starred_url":"https://api.github.com/users/ivakegg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivakegg/subscriptions","organizations_url":"https://api.github.com/users/ivakegg/orgs","repos_url":"https://api.github.com/users/ivakegg/repos","events_url":"https://api.github.com/users/ivakegg/events{/privacy}","received_events_url":"https://api.github.com/users/ivakegg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-26T18:47:03Z","updated_at":"2023-04-26T18:47:03Z","author_association":"CONTRIBUTOR","body":"What's probably more disturbing than anything else is that I am not seeing the exceptions in the RemoteHost logs.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1523888328/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1523950785","html_url":"https://github.com/apache/accumulo/pull/3347#issuecomment-1523950785","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3347","id":1523950785,"node_id":"IC_kwDOACaFSM5a1aTB","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-26T19:43:25Z","updated_at":"2023-04-26T19:43:25Z","author_association":"MEMBER","body":"Already fixed in e1127daf0ba6a47fa30072b730c843a7752303f5","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1523950785/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1525636031","html_url":"https://github.com/apache/accumulo/issues/3346#issuecomment-1525636031","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3346","id":1525636031,"node_id":"IC_kwDOACaFSM5a71u_","user":{"login":"ivakegg","id":347158,"node_id":"MDQ6VXNlcjM0NzE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/347158?v=4","gravatar_id":"","url":"https://api.github.com/users/ivakegg","html_url":"https://github.com/ivakegg","followers_url":"https://api.github.com/users/ivakegg/followers","following_url":"https://api.github.com/users/ivakegg/following{/other_user}","gists_url":"https://api.github.com/users/ivakegg/gists{/gist_id}","starred_url":"https://api.github.com/users/ivakegg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivakegg/subscriptions","organizations_url":"https://api.github.com/users/ivakegg/orgs","repos_url":"https://api.github.com/users/ivakegg/repos","events_url":"https://api.github.com/users/ivakegg/events{/privacy}","received_events_url":"https://api.github.com/users/ivakegg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T12:46:55Z","updated_at":"2023-04-27T12:46:55Z","author_association":"CONTRIBUTOR","body":"This same situation happened 5 times last night.  This time it was a different RemoteHost being communicated with which was not hosting the accumulo.root.  The only thing I saw in this situation were Slow sync cost messages on the RemoteHost around the time the hosts fell over.  I am guessing in this case the tservers must have been doing accumulo.metadata scans since the accumulo root was not being hosted there.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1525636031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1525667597","html_url":"https://github.com/apache/accumulo/issues/3346#issuecomment-1525667597","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3346","id":1525667597,"node_id":"IC_kwDOACaFSM5a79cN","user":{"login":"ivakegg","id":347158,"node_id":"MDQ6VXNlcjM0NzE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/347158?v=4","gravatar_id":"","url":"https://api.github.com/users/ivakegg","html_url":"https://github.com/ivakegg","followers_url":"https://api.github.com/users/ivakegg/followers","following_url":"https://api.github.com/users/ivakegg/following{/other_user}","gists_url":"https://api.github.com/users/ivakegg/gists{/gist_id}","starred_url":"https://api.github.com/users/ivakegg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivakegg/subscriptions","organizations_url":"https://api.github.com/users/ivakegg/orgs","repos_url":"https://api.github.com/users/ivakegg/repos","events_url":"https://api.github.com/users/ivakegg/events{/privacy}","received_events_url":"https://api.github.com/users/ivakegg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T13:07:57Z","updated_at":"2023-04-27T13:07:57Z","author_association":"CONTRIBUTOR","body":"Now I think I am indeed seeing some exceptions in the RemoteHost logs, however they are being displayed in the RemoteHost log many seconds or even a few minutes after the time the tservers had received the exception via thrift.  They are all EOFExceptions while reading an rfile (potential hdfs issues).  So I am no longer concerned about the exceptions being logged.  However I am concerned that this is toppling tservers when they could do some sort or retry or exponential backoff.  If that is already the case and we are missing configuration then please let me know.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1525667597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1526189043","html_url":"https://github.com/apache/accumulo/issues/3346#issuecomment-1526189043","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3346","id":1526189043,"node_id":"IC_kwDOACaFSM5a98vz","user":{"login":"ivakegg","id":347158,"node_id":"MDQ6VXNlcjM0NzE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/347158?v=4","gravatar_id":"","url":"https://api.github.com/users/ivakegg","html_url":"https://github.com/ivakegg","followers_url":"https://api.github.com/users/ivakegg/followers","following_url":"https://api.github.com/users/ivakegg/following{/other_user}","gists_url":"https://api.github.com/users/ivakegg/gists{/gist_id}","starred_url":"https://api.github.com/users/ivakegg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivakegg/subscriptions","organizations_url":"https://api.github.com/users/ivakegg/orgs","repos_url":"https://api.github.com/users/ivakegg/repos","events_url":"https://api.github.com/users/ivakegg/events{/privacy}","received_events_url":"https://api.github.com/users/ivakegg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T19:02:19Z","updated_at":"2023-04-27T19:02:19Z","author_association":"CONTRIBUTOR","body":"It appears that I did not add enough of the stack trace.  The critical task that failed is the lamda in TabletServer at line 826","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1526189043/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1526368453","html_url":"https://github.com/apache/accumulo/issues/3346#issuecomment-1526368453","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3346","id":1526368453,"node_id":"IC_kwDOACaFSM5a-ojF","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T20:20:30Z","updated_at":"2023-04-27T20:20:30Z","author_association":"CONTRIBUTOR","body":"> It appears that I did not add enough of the stack trace. The critical task that failed is the lamda in TabletServer at line 826\r\n\r\nSo this is code in question?\r\nhttps://github.com/apache/accumulo/blob/74009a505667c5a181d74e84cdc6d190d6cda6a9/server/tserver/src/main/java/org/apache/accumulo/tserver/TabletServer.java#L826-L858\r\n\r\nIs there anymore relevant information in the stack trace after the critical task failed in TabletServer:826? \r\n\r\nSpecifically anything related to TabletsMetadata?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1526368453/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1526630191","html_url":"https://github.com/apache/accumulo/pull/3342#issuecomment-1526630191","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3342","id":1526630191,"node_id":"IC_kwDOACaFSM5a_ocv","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T22:25:48Z","updated_at":"2023-04-27T22:25:48Z","author_association":"MEMBER","body":"When this is done, the key Range object could also be a improved with some similar API changes. Although, we might want to wait until we have a better ByteSequence public API to use instead of Text so we're not churning the old API so much.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1526630191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1526799184","html_url":"https://github.com/apache/accumulo/pull/3355#issuecomment-1526799184","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3355","id":1526799184,"node_id":"IC_kwDOACaFSM5bARtQ","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T00:10:57Z","updated_at":"2023-04-28T00:10:57Z","author_association":"MEMBER","body":"I have no idea how to test this change, because I don't even know where I'd start trying to create a bunch of old map files in a recent version of Accumulo and then to try to force a deepCopy in the iterator stack with this reader active. Using the DefaultIteratorEnvironment implementation may be perfectly acceptable in all cases. I'm not sure if there are any pitfalls to be aware of because of the TabletIteratorEnvironment's implementation no longer being used. (And it's not possible to use that without a much bigger refactor that moves this class from the core module to the server module, or by doing a bunch of reflection to try to use the implementation from the server code.)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1526799184/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1526888969","html_url":"https://github.com/apache/accumulo/pull/3355#issuecomment-1526888969","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3355","id":1526888969,"node_id":"IC_kwDOACaFSM5bAnoJ","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T02:25:10Z","updated_at":"2023-04-28T02:25:10Z","author_association":"MEMBER","body":"See related #3359","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1526888969/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1526982098","html_url":"https://github.com/apache/accumulo/pull/3360#issuecomment-1526982098","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3360","id":1526982098,"node_id":"IC_kwDOACaFSM5bA-XS","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T04:40:40Z","updated_at":"2023-04-28T04:40:40Z","author_association":"MEMBER","body":"This completes the work started in #1798 to improve our password security.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1526982098/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1527173152","html_url":"https://github.com/apache/accumulo/pull/2488#issuecomment-1527173152","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2488","id":1527173152,"node_id":"IC_kwDOACaFSM5bBtAg","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T08:18:27Z","updated_at":"2023-04-28T08:18:27Z","author_association":"MEMBER","body":"This is superseded by #3361","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1527173152/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1527329173","html_url":"https://github.com/apache/accumulo/pull/3362#issuecomment-1527329173","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3362","id":1527329173,"node_id":"IC_kwDOACaFSM5bCTGV","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T10:16:37Z","updated_at":"2023-04-28T10:16:37Z","author_association":"MEMBER","body":"I'm just glad that the binary I built in Fedora worked on the Ubuntu image... for the first few commits in this PR, I wasn't sure. But it turned out I was just forgetting to `chmod +x` the file. But, I'm glad those first few failed, because the end result is better for having to troubleshoot that.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1527329173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1527334613","html_url":"https://github.com/apache/accumulo/pull/3362#issuecomment-1527334613","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3362","id":1527334613,"node_id":"IC_kwDOACaFSM5bCUbV","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T10:21:19Z","updated_at":"2023-04-28T10:21:19Z","author_association":"MEMBER","body":"I'm only committing this to main, because I don't expect any thrift changes in earlier branches. But it works the same across all branches... just need to upload a different version of thrift for the different branches. This is actually a variation on what I use locally to resolve the different built versions of Thrift for the different maintenance branches.\r\n\r\nIf anybody is curious, that script is:\r\n\r\n```bash\r\n#! /usr/bin/bash\r\n\r\nthriftroot=$HOME/apps/thrift\r\nset -e\r\nthriftdefault=\"0.16.0\"\r\nrootDir=$(git rev-parse --show-toplevel 2>/dev/null ) || ver=$thriftdefault\r\nver=$({ xmllint --shell \"$rootDir/pom.xml\" <<<'xpath /*[local-name()=\"project\"]/*[local-name()=\"properties\"]/*[local-name()=\"thrift.version\"]/text()' | grep content= | cut -f2 -d=; } 2>/dev/null || echo \"$thriftdefault\")\r\nver=${ver%%-*}\r\n\r\nthrift=$thriftroot/thrift-$ver/compiler/cpp/thrift\r\n[[ ! -x $thrift ]] && thrift=$thriftroot/thrift-$thriftdefault/compiler/cpp/thrift\r\n\r\n$thrift \"$@\"\r\n```\r\n\r\nI just put this in my local PATH (in `~/bin/thrift`) and I extract copies of thrift releases into `~/apps/thrift` in separate directories. And I build them there, until they fail (they usually fail), but by then the thrift code generator is compiled... and that's all you really need.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1527334613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1527416134","html_url":"https://github.com/apache/accumulo/pull/3331#issuecomment-1527416134","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3331","id":1527416134,"node_id":"IC_kwDOACaFSM5bCoVG","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T11:20:38Z","updated_at":"2023-04-28T11:20:38Z","author_association":"CONTRIBUTOR","body":"> The original ticket was targeting 2.1.1, but this PR was made against the main branch instead of the 2.1 branch. I'm not sure what the desired intent is, but these should probably match, or we'll need another PR to backport it if they remain different. If you want to avoid creating a new PR, this PR can be updated by editing the base branch to 2.1, and then rebasing (cherry-picking) the commits from the HEAD of the main branch onto the head of the 2.1 branch and force pushing the branch that backs this PR.\r\n\r\nI actually didn't need to do anything here but switch the target merge branch in my PR to 2.1. I actually already did base this PR off the 2.1 branch (I thought I did) but when I created the PR I just mistakenly picked the wrong target as it defaulted to main and I didn't notice.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1527416134/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1527535228","html_url":"https://github.com/apache/accumulo/issues/3295#issuecomment-1527535228","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3295","id":1527535228,"node_id":"IC_kwDOACaFSM5bDFZ8","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T13:04:58Z","updated_at":"2023-04-28T13:04:58Z","author_association":"MEMBER","body":"Unable to Tweet. Seems I somehow lost all TweetDeck access to ApacheAccumulo and ApacheFluo. Not sure if it's Twitter's fault or mine. I'll close up the rest of the issue, though.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1527535228/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1527561720","html_url":"https://github.com/apache/accumulo/pull/3360#issuecomment-1527561720","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3360","id":1527561720,"node_id":"IC_kwDOACaFSM5bDL34","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T13:25:31Z","updated_at":"2023-04-28T13:25:31Z","author_association":"CONTRIBUTOR","body":"Would it be worth adding a utility that could check that passwords were correct format - something that an admin could run either before, or post-upgrade that would flag accounts that have issues? That would eliminate surprises, the utility could be targeted for 2.1.x so that it would be there before they might jump to 3.0+  \r\n\r\nIf not desired for 2.1, even having in in 3.0 would allow a post-upgrade check - this would permit an affirmative check instead of just needing to wait for a problem to be reported.\r\n\r\nThe utility could be a separate issue / PR.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1527561720/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1527580974","html_url":"https://github.com/apache/accumulo/issues/3359#issuecomment-1527580974","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3359","id":1527580974,"node_id":"IC_kwDOACaFSM5bDQku","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T13:39:43Z","updated_at":"2023-04-28T13:39:43Z","author_association":"CONTRIBUTOR","body":"If I understand things correctly, It may be possible to read the root tablet outside of the manager and with only ZooKeeper running - the root tablet data is stored as a json blog under /accumulo/x/root_tablet and it is trivial to read / decode that and look for the file names / extensions.  That should be able to provide a pre-start check that at least the root and metadata tables are rfiles and could be brought online.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1527580974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1527595427","html_url":"https://github.com/apache/accumulo/pull/3331#issuecomment-1527595427","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3331","id":1527595427,"node_id":"IC_kwDOACaFSM5bDUGj","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T13:49:27Z","updated_at":"2023-04-28T13:49:27Z","author_association":"CONTRIBUTOR","body":"@keith-turner - This is ready for another review, I simplified things and removed the attempt to read the metadata if the passed in lastLocation value is null and updated the Assignment class to only have one constructor that requires lastLocation now so we don't miss passing in the value. All the sunny tests passed and I kicked off another full IT build as well.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1527595427/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1527635534","html_url":"https://github.com/apache/accumulo/issues/3340#issuecomment-1527635534","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3340","id":1527635534,"node_id":"IC_kwDOACaFSM5bDd5O","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T14:12:45Z","updated_at":"2023-04-28T14:12:45Z","author_association":"CONTRIBUTOR","body":"I noticed BulkSplitOptimizationIT was failing when I was running the bulk ITs for #3350.  I wonder if this is why.  Fixing this could wait unti lthe split code is moved out of the tserver.  I am planning to start working on moving the split code soon, I have already experimented with this a few weeks ago.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1527635534/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1527647818","html_url":"https://github.com/apache/accumulo/pull/3355#issuecomment-1527647818","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3355","id":1527647818,"node_id":"IC_kwDOACaFSM5bDg5K","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T14:22:22Z","updated_at":"2023-04-28T14:22:22Z","author_association":"MEMBER","body":"@keith-turner Do you see any pitfalls due to not using the TabletIteratorEnvironment's implementation? (See previous comments)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1527647818/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1527662007","html_url":"https://github.com/apache/accumulo/pull/3360#issuecomment-1527662007","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3360","id":1527662007,"node_id":"IC_kwDOACaFSM5bDkW3","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T14:33:12Z","updated_at":"2023-04-28T14:33:12Z","author_association":"MEMBER","body":"> Would it be worth adding a utility that could check that passwords were correct format - something that an admin could run either before, or post-upgrade that would flag accounts that have issues? That would eliminate surprises, the utility could be targeted for 2.1.x so that it would be there before they might jump to 3.0+\r\n\r\nThat utility is 2.1 itself. 2.1 has been logging warnings about any accounts in this situation already.\r\n\r\n> \r\n> If not desired for 2.1, even having in in 3.0 would allow a post-upgrade check - this would permit an affirmative check instead of just needing to wait for a problem to be reported.\r\n> \r\n> The utility could be a separate issue / PR.\r\n\r\nI don't think it's worth adding any such utility. That's why I wrote as much as I did in the commit message. This basically only affects infrequently used accounts, and only if the repeated warnings were ignored while running 2.1, and is no different than a \"forgot my password\" situation, which I think is a completely acceptable outcome for inactive or infrequently used accounts. It would be very unusual if the problem was reported back to us as a problem. As I stated above, there's plenty of workarounds to mitigate the impact for this. Specifically, the \"hey admin, I forgot my password, can you reset it for me?\" workaround. We can also call it out in the release notes to add extra emphasis, but the point was to remove code we don't need... not to replace it with more code to be removed later.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1527662007/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]