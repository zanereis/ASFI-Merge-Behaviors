[{"url":"https://api.github.com/repos/apache/hudi/issues/comments/411305924","html_url":"https://github.com/apache/hudi/pull/435#issuecomment-411305924","issue_url":"https://api.github.com/repos/apache/hudi/issues/435","id":411305924,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTMwNTkyNA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-08T06:55:59Z","updated_at":"2018-08-08T06:55:59Z","author_association":"CONTRIBUTOR","body":"I am of similar opinion that we should move java.util.Optional to Guava Optional. As long as no client facing API's / payloads required java optional, this change should not affect anyone.\r\n\r\nThis diff LGTM","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/411305924/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/411389142","html_url":"https://github.com/apache/hudi/issues/143#issuecomment-411389142","issue_url":"https://api.github.com/repos/apache/hudi/issues/143","id":411389142,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTM4OTE0Mg==","user":{"login":"mshtelma","id":2151050,"node_id":"MDQ6VXNlcjIxNTEwNTA=","avatar_url":"https://avatars.githubusercontent.com/u/2151050?v=4","gravatar_id":"","url":"https://api.github.com/users/mshtelma","html_url":"https://github.com/mshtelma","followers_url":"https://api.github.com/users/mshtelma/followers","following_url":"https://api.github.com/users/mshtelma/following{/other_user}","gists_url":"https://api.github.com/users/mshtelma/gists{/gist_id}","starred_url":"https://api.github.com/users/mshtelma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mshtelma/subscriptions","organizations_url":"https://api.github.com/users/mshtelma/orgs","repos_url":"https://api.github.com/users/mshtelma/repos","events_url":"https://api.github.com/users/mshtelma/events{/privacy}","received_events_url":"https://api.github.com/users/mshtelma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-08T12:34:00Z","updated_at":"2018-08-09T07:53:02Z","author_association":"NONE","body":"@vinothchandar Can you add @mshtelma please ? My email is mshtelma@gmail.com","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/411389142/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/411635103","html_url":"https://github.com/apache/hudi/pull/434#issuecomment-411635103","issue_url":"https://api.github.com/repos/apache/hudi/issues/434","id":411635103,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTYzNTEwMw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-09T04:45:38Z","updated_at":"2018-08-09T04:46:03Z","author_association":"MEMBER","body":">>Alternatively, we could change the meaning of updatedRecordsWritten to exclude counting any inserts converted into updates\r\n\r\nI think this is the right thing to do. Otherwise we are making things more complex for the future.. the contract must be simple and canonical. \r\nClients should be able to do a simple addition to get the old behavior right? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/411635103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/411842046","html_url":"https://github.com/apache/hudi/pull/434#issuecomment-411842046","issue_url":"https://api.github.com/repos/apache/hudi/issues/434","id":411842046,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTg0MjA0Ng==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-09T17:51:28Z","updated_at":"2018-08-09T17:53:01Z","author_association":"CONTRIBUTOR","body":"@vinothchandar Yes, people can do that just this will be break backwards compatibility and we need to call this out in the release. I think it is okay to break compatibility here to preserve simplicity. If we are okay with this, I can make necessary changes. \r\n@bvaradar ^","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/411842046/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/411904117","html_url":"https://github.com/apache/hudi/pull/427#issuecomment-411904117","issue_url":"https://api.github.com/repos/apache/hudi/issues/427","id":411904117,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTkwNDExNw==","user":{"login":"kaushikd49","id":1446360,"node_id":"MDQ6VXNlcjE0NDYzNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1446360?v=4","gravatar_id":"","url":"https://api.github.com/users/kaushikd49","html_url":"https://github.com/kaushikd49","followers_url":"https://api.github.com/users/kaushikd49/followers","following_url":"https://api.github.com/users/kaushikd49/following{/other_user}","gists_url":"https://api.github.com/users/kaushikd49/gists{/gist_id}","starred_url":"https://api.github.com/users/kaushikd49/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaushikd49/subscriptions","organizations_url":"https://api.github.com/users/kaushikd49/orgs","repos_url":"https://api.github.com/users/kaushikd49/repos","events_url":"https://api.github.com/users/kaushikd49/events{/privacy}","received_events_url":"https://api.github.com/users/kaushikd49/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-09T21:31:11Z","updated_at":"2018-08-09T21:31:11Z","author_association":"CONTRIBUTOR","body":"@n3nash incorporated the comments, squashed commits and re-pushed","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/411904117/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/411917629","html_url":"https://github.com/apache/hudi/pull/427#issuecomment-411917629","issue_url":"https://api.github.com/repos/apache/hudi/issues/427","id":411917629,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTkxNzYyOQ==","user":{"login":"kaushikd49","id":1446360,"node_id":"MDQ6VXNlcjE0NDYzNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1446360?v=4","gravatar_id":"","url":"https://api.github.com/users/kaushikd49","html_url":"https://github.com/kaushikd49","followers_url":"https://api.github.com/users/kaushikd49/followers","following_url":"https://api.github.com/users/kaushikd49/following{/other_user}","gists_url":"https://api.github.com/users/kaushikd49/gists{/gist_id}","starred_url":"https://api.github.com/users/kaushikd49/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaushikd49/subscriptions","organizations_url":"https://api.github.com/users/kaushikd49/orgs","repos_url":"https://api.github.com/users/kaushikd49/repos","events_url":"https://api.github.com/users/kaushikd49/events{/privacy}","received_events_url":"https://api.github.com/users/kaushikd49/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-09T22:25:38Z","updated_at":"2018-08-09T22:25:38Z","author_association":"CONTRIBUTOR","body":"@n3nash following test fails in Jenkins, although locally all tests are passing\r\n\r\n```\r\nTests run: 11, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 40.029 sec <<< FAILURE! - in com.uber.hoodie.table.TestMergeOnReadTable\r\ntestInsertsGeneratedIntoLogFilesRollback(com.uber.hoodie.table.TestMergeOnReadTable)  Time elapsed: 1.031 sec  <<< ERROR!\r\ncom.uber.hoodie.exception.HoodieIOException: Could not rename /tmp/junit6364045164891746173/.hoodie/20180809214424.rollback.inflight to /tmp/junit6364045164891746173/.hoodie/20180809214424.rollback\r\n\tat com.uber.hoodie.table.TestMergeOnReadTable.testInsertsGeneratedIntoLogFilesRollback(TestMergeOnReadTable.java:832)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/411917629/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/412700106","html_url":"https://github.com/apache/hudi/pull/434#issuecomment-412700106","issue_url":"https://api.github.com/repos/apache/hudi/issues/434","id":412700106,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMjcwMDEwNg==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-13T23:28:45Z","updated_at":"2018-08-13T23:28:45Z","author_association":"CONTRIBUTOR","body":"@n3nash : I agree. Its better in this case to bit the bullet and fix the semantics of updatedRecordsWritten rather than preserving backwards compatibility.\r\n\r\nRest looks good to me.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/412700106/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/412715469","html_url":"https://github.com/apache/hudi/pull/438#issuecomment-412715469","issue_url":"https://api.github.com/repos/apache/hudi/issues/438","id":412715469,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMjcxNTQ2OQ==","user":{"login":"CLAassistant","id":11571300,"node_id":"MDQ6VXNlcjExNTcxMzAw","avatar_url":"https://avatars.githubusercontent.com/u/11571300?v=4","gravatar_id":"","url":"https://api.github.com/users/CLAassistant","html_url":"https://github.com/CLAassistant","followers_url":"https://api.github.com/users/CLAassistant/followers","following_url":"https://api.github.com/users/CLAassistant/following{/other_user}","gists_url":"https://api.github.com/users/CLAassistant/gists{/gist_id}","starred_url":"https://api.github.com/users/CLAassistant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CLAassistant/subscriptions","organizations_url":"https://api.github.com/users/CLAassistant/orgs","repos_url":"https://api.github.com/users/CLAassistant/repos","events_url":"https://api.github.com/users/CLAassistant/events{/privacy}","received_events_url":"https://api.github.com/users/CLAassistant/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-14T00:49:41Z","updated_at":"2018-09-29T14:19:48Z","author_association":"NONE","body":"[![CLA assistant check](https://cla-assistant.io/pull/badge/signed)](https://cla-assistant.io/uber/hudi?pullRequest=438) <br/>All committers have signed the CLA.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/412715469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/412869595","html_url":"https://github.com/apache/hudi/pull/434#issuecomment-412869595","issue_url":"https://api.github.com/repos/apache/hudi/issues/434","id":412869595,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMjg2OTU5NQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-14T13:22:13Z","updated_at":"2018-08-14T13:22:13Z","author_association":"MEMBER","body":"@n3nash lgtm. merging. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/412869595/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/412919797","html_url":"https://github.com/apache/hudi/pull/427#issuecomment-412919797","issue_url":"https://api.github.com/repos/apache/hudi/issues/427","id":412919797,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMjkxOTc5Nw==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-14T15:48:11Z","updated_at":"2018-08-14T15:55:44Z","author_association":"CONTRIBUTOR","body":"@kaushikd49 please re-base your diff, the test case should be fixed now. Also, this commit : https://github.com/uber/hudi/commit/88274b82617b8f8880bf913a2670e7fcf308216c addresses the concern around incorrectly throttling the hbase writes due to not enough information around updates vs inserts. You may want to incorporate the changes around a custom calculation of numPartitions() using this info in this diff itself.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/412919797/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/412920615","html_url":"https://github.com/apache/hudi/pull/438#issuecomment-412920615","issue_url":"https://api.github.com/repos/apache/hudi/issues/438","id":412920615,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMjkyMDYxNQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-14T15:50:38Z","updated_at":"2018-08-14T15:50:38Z","author_association":"CONTRIBUTOR","body":"In general, very concise PR @leletan, just what was needed!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/412920615/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/412955875","html_url":"https://github.com/apache/hudi/pull/438#issuecomment-412955875","issue_url":"https://api.github.com/repos/apache/hudi/issues/438","id":412955875,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMjk1NTg3NQ==","user":{"login":"leletan","id":6158502,"node_id":"MDQ6VXNlcjYxNTg1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/6158502?v=4","gravatar_id":"","url":"https://api.github.com/users/leletan","html_url":"https://github.com/leletan","followers_url":"https://api.github.com/users/leletan/followers","following_url":"https://api.github.com/users/leletan/following{/other_user}","gists_url":"https://api.github.com/users/leletan/gists{/gist_id}","starred_url":"https://api.github.com/users/leletan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leletan/subscriptions","organizations_url":"https://api.github.com/users/leletan/orgs","repos_url":"https://api.github.com/users/leletan/repos","events_url":"https://api.github.com/users/leletan/events{/privacy}","received_events_url":"https://api.github.com/users/leletan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-14T17:40:46Z","updated_at":"2018-08-14T17:51:18Z","author_association":"CONTRIBUTOR","body":"@vinothchandar @n3nash Thanks for the advices, will make change accordingly. Not yet validated with data set, will do it.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/412955875/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/413024955","html_url":"https://github.com/apache/hudi/pull/438#issuecomment-413024955","issue_url":"https://api.github.com/repos/apache/hudi/issues/438","id":413024955,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMzAyNDk1NQ==","user":{"login":"leletan","id":6158502,"node_id":"MDQ6VXNlcjYxNTg1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/6158502?v=4","gravatar_id":"","url":"https://api.github.com/users/leletan","html_url":"https://github.com/leletan","followers_url":"https://api.github.com/users/leletan/followers","following_url":"https://api.github.com/users/leletan/following{/other_user}","gists_url":"https://api.github.com/users/leletan/gists{/gist_id}","starred_url":"https://api.github.com/users/leletan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leletan/subscriptions","organizations_url":"https://api.github.com/users/leletan/orgs","repos_url":"https://api.github.com/users/leletan/repos","events_url":"https://api.github.com/users/leletan/events{/privacy}","received_events_url":"https://api.github.com/users/leletan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-14T21:38:34Z","updated_at":"2018-08-14T21:49:52Z","author_association":"CONTRIBUTOR","body":"A quick small data set test indicates sometimes the cross partition deduping is not working, will dig deeper.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/413024955/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/413048268","html_url":"https://github.com/apache/hudi/pull/427#issuecomment-413048268","issue_url":"https://api.github.com/repos/apache/hudi/issues/427","id":413048268,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMzA0ODI2OA==","user":{"login":"kaushikd49","id":1446360,"node_id":"MDQ6VXNlcjE0NDYzNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1446360?v=4","gravatar_id":"","url":"https://api.github.com/users/kaushikd49","html_url":"https://github.com/kaushikd49","followers_url":"https://api.github.com/users/kaushikd49/followers","following_url":"https://api.github.com/users/kaushikd49/following{/other_user}","gists_url":"https://api.github.com/users/kaushikd49/gists{/gist_id}","starred_url":"https://api.github.com/users/kaushikd49/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaushikd49/subscriptions","organizations_url":"https://api.github.com/users/kaushikd49/orgs","repos_url":"https://api.github.com/users/kaushikd49/repos","events_url":"https://api.github.com/users/kaushikd49/events{/privacy}","received_events_url":"https://api.github.com/users/kaushikd49/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-14T23:30:57Z","updated_at":"2018-08-14T23:30:57Z","author_association":"CONTRIBUTOR","body":"@n3nash Thanks, done. The test below is still failing\r\n\r\n```\r\nTests in error: \r\n  TestMergeOnReadTable.testInsertsGeneratedIntoLogFilesRollback:832 Â» HoodieIO C...\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/413048268/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/413306802","html_url":"https://github.com/apache/hudi/pull/427#issuecomment-413306802","issue_url":"https://api.github.com/repos/apache/hudi/issues/427","id":413306802,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMzMwNjgwMg==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-15T19:22:55Z","updated_at":"2018-08-15T19:22:55Z","author_association":"CONTRIBUTOR","body":"@kaushikd49 I think the build was failing due to rat missing license issue, after that change the build is fine. Let me know if you see other issues.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/413306802/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/413339059","html_url":"https://github.com/apache/hudi/pull/427#issuecomment-413339059","issue_url":"https://api.github.com/repos/apache/hudi/issues/427","id":413339059,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMzMzOTA1OQ==","user":{"login":"kaushikd49","id":1446360,"node_id":"MDQ6VXNlcjE0NDYzNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1446360?v=4","gravatar_id":"","url":"https://api.github.com/users/kaushikd49","html_url":"https://github.com/kaushikd49","followers_url":"https://api.github.com/users/kaushikd49/followers","following_url":"https://api.github.com/users/kaushikd49/following{/other_user}","gists_url":"https://api.github.com/users/kaushikd49/gists{/gist_id}","starred_url":"https://api.github.com/users/kaushikd49/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaushikd49/subscriptions","organizations_url":"https://api.github.com/users/kaushikd49/orgs","repos_url":"https://api.github.com/users/kaushikd49/repos","events_url":"https://api.github.com/users/kaushikd49/events{/privacy}","received_events_url":"https://api.github.com/users/kaushikd49/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-15T21:13:35Z","updated_at":"2018-08-15T21:14:44Z","author_association":"CONTRIBUTOR","body":"@n3nash Thanks, yea it was the rat license issue this time. It is working now. Incorporated the changes","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/413339059/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/413351501","html_url":"https://github.com/apache/hudi/pull/427#issuecomment-413351501","issue_url":"https://api.github.com/repos/apache/hudi/issues/427","id":413351501,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMzM1MTUwMQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-15T21:58:05Z","updated_at":"2018-08-15T21:58:05Z","author_association":"CONTRIBUTOR","body":"@kaushikd49 Minor comment, rest looks good.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/413351501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/414196083","html_url":"https://github.com/apache/hudi/pull/438#issuecomment-414196083","issue_url":"https://api.github.com/repos/apache/hudi/issues/438","id":414196083,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNDE5NjA4Mw==","user":{"login":"leletan","id":6158502,"node_id":"MDQ6VXNlcjYxNTg1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/6158502?v=4","gravatar_id":"","url":"https://api.github.com/users/leletan","html_url":"https://github.com/leletan","followers_url":"https://api.github.com/users/leletan/followers","following_url":"https://api.github.com/users/leletan/following{/other_user}","gists_url":"https://api.github.com/users/leletan/gists{/gist_id}","starred_url":"https://api.github.com/users/leletan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leletan/subscriptions","organizations_url":"https://api.github.com/users/leletan/orgs","repos_url":"https://api.github.com/users/leletan/repos","events_url":"https://api.github.com/users/leletan/events{/privacy}","received_events_url":"https://api.github.com/users/leletan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-20T04:45:58Z","updated_at":"2018-08-20T04:45:58Z","author_association":"CONTRIBUTOR","body":"@vinothchandar wondering if there is any use case I may run some dataset to test this PR, other than cross partition deduping.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/414196083/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/414335534","html_url":"https://github.com/apache/hudi/pull/438#issuecomment-414335534","issue_url":"https://api.github.com/repos/apache/hudi/issues/438","id":414335534,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNDMzNTUzNA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-20T14:27:53Z","updated_at":"2018-08-20T14:27:53Z","author_association":"MEMBER","body":"Thats the main use-case.. Can't think of anything else top of my head. \r\n\r\nbut there can be several corner cases like \r\n- ensuring the partitionpath supplied in the RDD<HoodieRecord>, has no bearing - i.e all keys checked against all files.. \r\n- generate input such that partition paths in input RDD<HoodieRecord> are a subset of total partitions in dataset (HoodieTestDataGenerator may have them to be same by default)..","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/414335534/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/414336814","html_url":"https://github.com/apache/hudi/issues/143#issuecomment-414336814","issue_url":"https://api.github.com/repos/apache/hudi/issues/143","id":414336814,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNDMzNjgxNA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-20T14:31:46Z","updated_at":"2018-08-20T14:31:46Z","author_association":"MEMBER","body":"done.. sorry for the delay. missed this notification somehow.. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/414336814/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/414347417","html_url":"https://github.com/apache/hudi/pull/438#issuecomment-414347417","issue_url":"https://api.github.com/repos/apache/hudi/issues/438","id":414347417,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNDM0NzQxNw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-20T14:59:57Z","updated_at":"2018-08-20T14:59:57Z","author_association":"MEMBER","body":"@leletan @n3nash I think I may know why global de-duping may not be working as expected\r\n\r\n```\r\n/**\r\n   * For each incoming record, produce N output records, 1 each for each file against which the\r\n   * record's key needs to be checked. For datasets, where the keys have a definite insert order\r\n   * (e.g: timestamp as prefix), the number of files to be compared gets cut down a lot from range\r\n   * pruning.\r\n   */\r\n  // sub-partition to ensure the records can be looked up against files & also prune\r\n  // file<=>record comparisons based on recordKey\r\n  // ranges in the index info.\r\n  @VisibleForTesting\r\n  JavaPairRDD<String, Tuple2<String, HoodieKey>> explodeRecordRDDWithFileComparisons(\r\n``` \r\n\r\nthis method still only joins input records using the partitionpath supplied in the HoodieKey, this needs to be overridden and fixed as well..\r\n\r\n@n3nash are you able to take a pass here and provide a path for @leletan ? Also please take a look at usages of `HoodieIndex::isGlobal` and see if they will still be okay.. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/414347417/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/414490727","html_url":"https://github.com/apache/hudi/pull/438#issuecomment-414490727","issue_url":"https://api.github.com/repos/apache/hudi/issues/438","id":414490727,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNDQ5MDcyNw==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-20T22:58:42Z","updated_at":"2018-08-20T22:59:08Z","author_association":"CONTRIBUTOR","body":"@vinothchandar Yes, I can drive this. You are right, `JavaPairRDD<String, Tuple2<String, HoodieKey>> explodeRecordRDDWithFileComparisons(`, this needs to be overloaded for 2 reasons 1) To be able to `autoComputeParallelism` correctly and 2) For finding the correct matching files (which in this case should be all). \r\n\r\n@leletan Please override that method as well. Also, I took a closer look at `HoodieIndex::isGlobal`, I think it's best to return **false** here. There are couple of places in the code which has assumptions about what `isGlobal=true` means and this implementation does not either satisfy those or does not apply to that assumption. There should be no side-effect of setting it to false. \r\n\r\n@vinothchandar We need to remove those assumptions from the code (they are specifically there because of HbaseIndex), that would make isGlobal understanding clean.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/414490727/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/414817903","html_url":"https://github.com/apache/hudi/pull/427#issuecomment-414817903","issue_url":"https://api.github.com/repos/apache/hudi/issues/427","id":414817903,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNDgxNzkwMw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-21T20:52:38Z","updated_at":"2018-08-21T20:52:38Z","author_association":"MEMBER","body":"@n3nash @bvaradar anything pending here for approval? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/414817903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/414850000","html_url":"https://github.com/apache/hudi/pull/427#issuecomment-414850000","issue_url":"https://api.github.com/repos/apache/hudi/issues/427","id":414850000,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNDg1MDAwMA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-21T23:06:17Z","updated_at":"2018-08-21T23:06:17Z","author_association":"CONTRIBUTOR","body":"@vinothchandar : I am ok with this change","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/414850000/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/414865796","html_url":"https://github.com/apache/hudi/pull/440#issuecomment-414865796","issue_url":"https://api.github.com/repos/apache/hudi/issues/440","id":414865796,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNDg2NTc5Ng==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-22T00:30:39Z","updated_at":"2018-08-22T00:30:39Z","author_association":"CONTRIBUTOR","body":"@vinothchandar Need this before cutting the release.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/414865796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/414867079","html_url":"https://github.com/apache/hudi/pull/427#issuecomment-414867079","issue_url":"https://api.github.com/repos/apache/hudi/issues/427","id":414867079,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNDg2NzA3OQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-22T00:38:10Z","updated_at":"2018-08-22T00:38:10Z","author_association":"CONTRIBUTOR","body":"@vinothchandar looks okay to me","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/414867079/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/414900655","html_url":"https://github.com/apache/hudi/issues/422#issuecomment-414900655","issue_url":"https://api.github.com/repos/apache/hudi/issues/422","id":414900655,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNDkwMDY1NQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-22T03:46:57Z","updated_at":"2018-08-22T03:46:57Z","author_association":"MEMBER","body":"Goal here is to : come up with docker compose based framework to spin up hive metastore, hive, spark, hdfs containers of different apache/cdh versions and then we able to run HoodieJavaApp on them.. \r\nand then a standard combination of this becomes the new quickstart.  ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/414900655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/414901038","html_url":"https://github.com/apache/hudi/issues/406#issuecomment-414901038","issue_url":"https://api.github.com/repos/apache/hudi/issues/406","id":414901038,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNDkwMTAzOA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-22T03:49:26Z","updated_at":"2018-08-22T03:49:26Z","author_association":"MEMBER","body":"per discussion with @bvaradar , we can punt on this for a bit.. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/414901038/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/414926555","html_url":"https://github.com/apache/hudi/issues/254#issuecomment-414926555","issue_url":"https://api.github.com/repos/apache/hudi/issues/254","id":414926555,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNDkyNjU1NQ==","user":{"login":"leletan","id":6158502,"node_id":"MDQ6VXNlcjYxNTg1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/6158502?v=4","gravatar_id":"","url":"https://api.github.com/users/leletan","html_url":"https://github.com/leletan","followers_url":"https://api.github.com/users/leletan/followers","following_url":"https://api.github.com/users/leletan/following{/other_user}","gists_url":"https://api.github.com/users/leletan/gists{/gist_id}","starred_url":"https://api.github.com/users/leletan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leletan/subscriptions","organizations_url":"https://api.github.com/users/leletan/orgs","repos_url":"https://api.github.com/users/leletan/repos","events_url":"https://api.github.com/users/leletan/events{/privacy}","received_events_url":"https://api.github.com/users/leletan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-22T06:32:22Z","updated_at":"2018-08-23T05:24:02Z","author_association":"CONTRIBUTOR","body":"This might just be more than testing impacted.\r\n\r\nRunning a spark job with multi-core executors and seeing the same behavior.\r\n\r\n`fs.create()` fails due to some other threads closes the connection pool\r\n\r\n```\r\n18/08/21 18:06:29 INFO ExternalSpillableMap: Estimated Payload size => 22800\r\n18/08/21 18:06:29 INFO HoodieMergeHandle: Number of entries in MemoryBasedMap => 58Total size in bytes of MemoryBasedMap => 1322400Number of entries in DiskBasedMap => 0Size of file spilled to disk => 0\r\n18/08/21 18:06:30 INFO HoodieMergeHandle: Merging new data into oldPath s3a://vungle2-dataeng/jiale/as-deliveries/stage/as-deliveries-batch-test/0/081d7eae-47bd-4e1a-9139-d36bff8293cd_0_20180821084358.parquet, as newPath s3a://vungle2-dataeng/jiale/as-deliveries/stage/as-deliveries-batch-test/0/081d7eae-47bd-4e1a-9139-d36bff8293cd_18_20180821180357.parquet\r\n18/08/21 18:06:30 INFO FSUtils: Hadoop Configuration: fs.defaultFS: [file:///], Config:[Configuration: ], FileSystem: [org.apache.hadoop.fs.s3a.S3AFileSystem@d0b934c]\r\n18/08/21 18:06:30 INFO FSUtils: Hadoop Configuration: fs.defaultFS: [file:///], Config:[Configuration: ], FileSystem: [org.apache.hadoop.fs.s3a.S3AFileSystem@d0b934c]\r\n18/08/21 18:06:30 ERROR Executor: Exception in task 18.6 in stage 28.0 (TID 4146)\r\ncom.uber.hoodie.exception.HoodieUpsertException: Error upserting bucketType UPDATE for partition :18\r\n    at com.uber.hoodie.table.HoodieCopyOnWriteTable.handleUpsertPartition(HoodieCopyOnWriteTable.java:277)\r\n    at com.uber.hoodie.HoodieWriteClient.lambda$upsertRecordsInternal$7ef77fd$1(HoodieWriteClient.java:433)\r\n    at org.apache.spark.api.java.JavaRDDLike$$anonfun$mapPartitionsWithIndex$1.apply(JavaRDDLike.scala:102)\r\n    at org.apache.spark.api.java.JavaRDDLike$$anonfun$mapPartitionsWithIndex$1.apply(JavaRDDLike.scala:102)\r\n    at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsWithIndex$1$$anonfun$apply$26.apply(RDD.scala:847)\r\n    at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsWithIndex$1$$anonfun$apply$26.apply(RDD.scala:847)\r\n    at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)\r\n    at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:324)\r\n    at org.apache.spark.rdd.RDD.iterator(RDD.scala:288)\r\n    at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)\r\n    at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:324)\r\n    at org.apache.spark.rdd.RDD$$anonfun$7.apply(RDD.scala:337)\r\n    at org.apache.spark.rdd.RDD$$anonfun$7.apply(RDD.scala:335)\r\n    at org.apache.spark.storage.BlockManager$$anonfun$doPutIterator$1.apply(BlockManager.scala:1109)\r\n    at org.apache.spark.storage.BlockManager$$anonfun$doPutIterator$1.apply(BlockManager.scala:1083)\r\n    at org.apache.spark.storage.BlockManager.doPut(BlockManager.scala:1018)\r\n    at org.apache.spark.storage.BlockManager.doPutIterator(BlockManager.scala:1083)\r\n    at org.apache.spark.storage.BlockManager.getOrElseUpdate(BlockManager.scala:809)\r\n    at org.apache.spark.rdd.RDD.getOrCompute(RDD.scala:335)\r\n    at org.apache.spark.rdd.RDD.iterator(RDD.scala:286)\r\n    at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)\r\n    at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:324)\r\n    at org.apache.spark.rdd.RDD.iterator(RDD.scala:288)\r\n    at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:87)\r\n    at org.apache.spark.scheduler.Task.run(Task.scala:109)\r\n    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:345)\r\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    at java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.lang.IllegalStateException: Connection pool shut down\r\n    at org.apache.http.util.Asserts.check(Asserts.java:34)\r\n    at org.apache.http.pool.AbstractConnPool.lease(AbstractConnPool.java:191)\r\n    at org.apache.http.pool.AbstractConnPool.lease(AbstractConnPool.java:294)\r\n    at org.apache.http.impl.conn.PoolingClientConnectionManager.requestConnection(PoolingClientConnectionManager.java:187)\r\n    at sun.reflect.GeneratedMethodAccessor51.invoke(Unknown Source)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke(Method.java:498)\r\n    at com.amazonaws.http.conn.ClientConnectionManagerFactory$Handler.invoke(ClientConnectionManagerFactory.java:72)\r\n    at com.amazonaws.http.conn.$Proxy9.requestConnection(Unknown Source)\r\n    at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:414)\r\n    at org.apache.http.impl.client.AbstractHttpClient.doExecute(AbstractHttpClient.java:835)\r\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\r\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\r\n    at com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:384)\r\n    at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:232)\r\n    at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:3528)\r\n    at com.amazonaws.services.s3.AmazonS3Client.getObjectMetadata(AmazonS3Client.java:976)\r\n    at com.amazonaws.services.s3.AmazonS3Client.getObjectMetadata(AmazonS3Client.java:956)\r\n    at org.apache.hadoop.fs.s3a.S3AFileSystem.getFileStatus(S3AFileSystem.java:892)\r\n    at org.apache.hadoop.fs.s3a.S3AFileSystem.getFileStatus(S3AFileSystem.java:77)\r\n    at org.apache.hadoop.fs.FileSystem.exists(FileSystem.java:1426)\r\n    at org.apache.hadoop.fs.s3a.S3AFileSystem.create(S3AFileSystem.java:400)\r\n    at org.apache.hadoop.fs.FileSystem.create(FileSystem.java:911)\r\n    at org.apache.hadoop.fs.FileSystem.create(FileSystem.java:892)\r\n    at org.apache.hadoop.fs.FileSystem.create(FileSystem.java:789)\r\n    at com.uber.hoodie.io.storage.HoodieWrapperFileSystem.create(HoodieWrapperFileSystem.java:170)\r\n    at org.apache.parquet.hadoop.ParquetFileWriter.(ParquetFileWriter.java:241)\r\n    at org.apache.parquet.hadoop.ParquetWriter.(ParquetWriter.java:273)\r\n    at org.apache.parquet.hadoop.ParquetWriter.(ParquetWriter.java:222)\r\n    at com.uber.hoodie.io.storage.HoodieParquetWriter.(HoodieParquetWriter.java:54)\r\n    at com.uber.hoodie.io.storage.HoodieStorageWriterFactory.newParquetStorageWriter(HoodieStorageWriterFactory.java:56)\r\n    at com.uber.hoodie.io.storage.HoodieStorageWriterFactory.getStorageWriter(HoodieStorageWriterFactory.java:38)\r\n    at com.uber.hoodie.io.HoodieMergeHandle.init(HoodieMergeHandle.java:121)\r\n    at com.uber.hoodie.io.HoodieMergeHandle.(HoodieMergeHandle.java:68)\r\n    at com.uber.hoodie.table.HoodieCopyOnWriteTable.getUpdateHandle(HoodieCopyOnWriteTable.java:245)\r\n    at com.uber.hoodie.table.HoodieCopyOnWriteTable.handleUpdate(HoodieCopyOnWriteTable.java:174)\r\n    at com.uber.hoodie.table.HoodieCopyOnWriteTable.handleUpsertPartition(HoodieCopyOnWriteTable.java:269)\r\n    ... 28 more\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/414926555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/414928913","html_url":"https://github.com/apache/hudi/issues/254#issuecomment-414928913","issue_url":"https://api.github.com/repos/apache/hudi/issues/254","id":414928913,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNDkyODkxMw==","user":{"login":"leletan","id":6158502,"node_id":"MDQ6VXNlcjYxNTg1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/6158502?v=4","gravatar_id":"","url":"https://api.github.com/users/leletan","html_url":"https://github.com/leletan","followers_url":"https://api.github.com/users/leletan/followers","following_url":"https://api.github.com/users/leletan/following{/other_user}","gists_url":"https://api.github.com/users/leletan/gists{/gist_id}","starred_url":"https://api.github.com/users/leletan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leletan/subscriptions","organizations_url":"https://api.github.com/users/leletan/orgs","repos_url":"https://api.github.com/users/leletan/repos","events_url":"https://api.github.com/users/leletan/events{/privacy}","received_events_url":"https://api.github.com/users/leletan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-22T06:45:00Z","updated_at":"2018-08-23T05:24:43Z","author_association":"CONTRIBUTOR","body":"With more digging I got the call stack from a thread to reach `fs.close();` same as mentioned #241 was triggered upon creating a new ParquetWriter\r\n\r\n```\r\n  at com.uber.hoodie.io.storage.HoodieWrapperFileSystem.close(HoodieWrapperFileSystem.java:566)\r\n    at org.apache.hadoop.fs.FileSystem$Cache.getInternal(FileSystem.java:2707)\r\n    at org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:2685)\r\n    at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:373)\r\n    at org.apache.hadoop.fs.Path.getFileSystem(Path.java:295)\r\n    at org.apache.parquet.hadoop.ParquetFileWriter.(ParquetFileWriter.java:227)\r\n    at org.apache.parquet.hadoop.ParquetWriter.(ParquetWriter.java:273)\r\n    at org.apache.parquet.hadoop.ParquetWriter.(ParquetWriter.java:222)\r\n    at com.uber.hoodie.io.storage.HoodieParquetWriter.(HoodieParquetWriter.java:54)\r\n    at com.uber.hoodie.io.storage.HoodieStorageWriterFactory.newParquetStorageWriter(HoodieStorageWriterFactory.java:56)\r\n    at com.uber.hoodie.io.storage.HoodieStorageWriterFactory.getStorageWriter(HoodieStorageWriterFactory.java:38)\r\n    at com.uber.hoodie.io.HoodieMergeHandle.init(HoodieMergeHandle.java:121)\r\n    at com.uber.hoodie.io.HoodieMergeHandle.(HoodieMergeHandle.java:68)\r\n    at com.uber.hoodie.table.HoodieCopyOnWriteTable.getUpdateHandle(HoodieCopyOnWriteTable.java:245)\r\n    at com.uber.hoodie.table.HoodieCopyOnWriteTable.handleUpdate(HoodieCopyOnWriteTable.java:174)\r\n    at com.uber.hoodie.table.HoodieCopyOnWriteTable.handleUpsertPartition(HoodieCopyOnWriteTable.java:269)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/414928913/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/415097872","html_url":"https://github.com/apache/hudi/issues/254#issuecomment-415097872","issue_url":"https://api.github.com/repos/apache/hudi/issues/254","id":415097872,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNTA5Nzg3Mg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-22T16:40:18Z","updated_at":"2018-08-22T16:40:18Z","author_association":"MEMBER","body":"yes this is a general spark quirk. we have nt found a compelling case to run with num_cores > 1. This is typically done with ML workloads, to get more locality of memory per host.. Do you see a strong reason for supporting this for ingestion/etl use-cases? \r\n\r\nHappy to explore fixes around this..  @n3nash can you chime in as well ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/415097872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/415119325","html_url":"https://github.com/apache/hudi/issues/254#issuecomment-415119325","issue_url":"https://api.github.com/repos/apache/hudi/issues/254","id":415119325,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNTExOTMyNQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-22T17:47:41Z","updated_at":"2018-08-22T17:47:41Z","author_association":"MEMBER","body":"@leletan https://stackoverflow.com/questions/4354677/cost-of-synchronization sheds some light. In general, with contention synchronized blocks will drag per fown. However, the code snipped you pasted may be okay, since its only done once per file creation. so perf is less of a concern here.. \r\n\r\nCould you please explain how protecting that line would alleviate the issue? I am not following fully. I thought the issue is due to the shared fs instance already being closed. no? are you suggesting adding a check around filesystem status within the block?\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/415119325/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/415122344","html_url":"https://github.com/apache/hudi/issues/254#issuecomment-415122344","issue_url":"https://api.github.com/repos/apache/hudi/issues/254","id":415122344,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNTEyMjM0NA==","user":{"login":"leletan","id":6158502,"node_id":"MDQ6VXNlcjYxNTg1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/6158502?v=4","gravatar_id":"","url":"https://api.github.com/users/leletan","html_url":"https://github.com/leletan","followers_url":"https://api.github.com/users/leletan/followers","following_url":"https://api.github.com/users/leletan/following{/other_user}","gists_url":"https://api.github.com/users/leletan/gists{/gist_id}","starred_url":"https://api.github.com/users/leletan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leletan/subscriptions","organizations_url":"https://api.github.com/users/leletan/orgs","repos_url":"https://api.github.com/users/leletan/repos","events_url":"https://api.github.com/users/leletan/events{/privacy}","received_events_url":"https://api.github.com/users/leletan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-22T17:56:36Z","updated_at":"2018-08-22T18:27:29Z","author_association":"CONTRIBUTOR","body":"Thanks @vinothchandar. \r\nI took that code snippet back since synchronized(this) block does not work with static functions, might need to dig a little deeper (trying to wrap `new HoodieParquetWriter<>(commitTime, path, parquetConfig, schema);` with a synchronized block in `com.uber.hoodie.io.storage.HoodieStorageWriterFactory.newParquetStorageWriter(..)`).\r\n\r\nThe high level idea was to remove the race condition between different threads to call `org.apache.hadoop.fs.FileSystem$Cache.getInternal(FileSystem.java:2707)` at the same time, during which each thread will try to close the fs as following:\r\n\r\n```  /** Caching FileSystem objects */\r\n  static class Cache {\r\n    private final ClientFinalizer clientFinalizer = new ClientFinalizer();\r\n\r\n    private final Map<Key, FileSystem> map = new HashMap<Key, FileSystem>();\r\n    private final Set<Key> toAutoClose = new HashSet<Key>();\r\n\r\n    /** A variable that makes all objects in the cache unique */\r\n    private static AtomicLong unique = new AtomicLong(1);\r\n\r\n    FileSystem get(URI uri, Configuration conf) throws IOException{\r\n      Key key = new Key(uri, conf);\r\n      return getInternal(uri, conf, key);\r\n    }\r\n\r\n    /** The objects inserted into the cache using this method are all unique */\r\n    FileSystem getUnique(URI uri, Configuration conf) throws IOException{\r\n      Key key = new Key(uri, conf, unique.getAndIncrement());\r\n      return getInternal(uri, conf, key);\r\n    }\r\n\r\n    private FileSystem getInternal(URI uri, Configuration conf, Key key) throws IOException{\r\n      FileSystem fs;\r\n      synchronized (this) {\r\n        fs = map.get(key);\r\n      }\r\n      if (fs != null) {\r\n        return fs;\r\n      }\r\n\r\n      fs = createFileSystem(uri, conf);\r\n      synchronized (this) { // refetch the lock again\r\n        FileSystem oldfs = map.get(key);\r\n        if (oldfs != null) { // a file system is created while lock is releasing\r\n          fs.close(); // close the new file system\r\n          return oldfs;  // return the old file system\r\n        }\r\n        \r\n        // now insert the new file system into the map\r\n        if (map.isEmpty()\r\n                && !ShutdownHookManager.get().isShutdownInProgress()) {\r\n          ShutdownHookManager.get().addShutdownHook(clientFinalizer, SHUTDOWN_HOOK_PRIORITY);\r\n        }\r\n        fs.key = key;\r\n        map.put(key, fs);\r\n        if (conf.getBoolean(\"fs.automatic.close\", true)) {\r\n          toAutoClose.add(key);\r\n        }\r\n        return fs;\r\n      }\r\n    }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/415122344/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/415123852","html_url":"https://github.com/apache/hudi/issues/254#issuecomment-415123852","issue_url":"https://api.github.com/repos/apache/hudi/issues/254","id":415123852,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNTEyMzg1Mg==","user":{"login":"leletan","id":6158502,"node_id":"MDQ6VXNlcjYxNTg1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/6158502?v=4","gravatar_id":"","url":"https://api.github.com/users/leletan","html_url":"https://github.com/leletan","followers_url":"https://api.github.com/users/leletan/followers","following_url":"https://api.github.com/users/leletan/following{/other_user}","gists_url":"https://api.github.com/users/leletan/gists{/gist_id}","starred_url":"https://api.github.com/users/leletan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leletan/subscriptions","organizations_url":"https://api.github.com/users/leletan/orgs","repos_url":"https://api.github.com/users/leletan/repos","events_url":"https://api.github.com/users/leletan/events{/privacy}","received_events_url":"https://api.github.com/users/leletan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-22T18:00:40Z","updated_at":"2018-08-22T18:00:40Z","author_association":"CONTRIBUTOR","body":"Unless we want to change hadoop / parquet code, the first available control hoodie has is `com.uber.hoodie.io.storage.HoodieParquetWriter.(HoodieParquetWriter.java:54)`. However java class constructor does not allow you to wrap synchronized block around the `super()` call, so next easiest thing to do is try to control who calls that constructor, which is `com.uber.hoodie.io.storage.HoodieStorageWriterFactory.newParquetStorageWriter(HoodieStorageWriterFactory.java:56)`","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/415123852/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/415125019","html_url":"https://github.com/apache/hudi/issues/254#issuecomment-415125019","issue_url":"https://api.github.com/repos/apache/hudi/issues/254","id":415125019,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNTEyNTAxOQ==","user":{"login":"leletan","id":6158502,"node_id":"MDQ6VXNlcjYxNTg1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/6158502?v=4","gravatar_id":"","url":"https://api.github.com/users/leletan","html_url":"https://github.com/leletan","followers_url":"https://api.github.com/users/leletan/followers","following_url":"https://api.github.com/users/leletan/following{/other_user}","gists_url":"https://api.github.com/users/leletan/gists{/gist_id}","starred_url":"https://api.github.com/users/leletan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leletan/subscriptions","organizations_url":"https://api.github.com/users/leletan/orgs","repos_url":"https://api.github.com/users/leletan/repos","events_url":"https://api.github.com/users/leletan/events{/privacy}","received_events_url":"https://api.github.com/users/leletan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-22T18:04:34Z","updated_at":"2018-08-22T18:04:34Z","author_association":"CONTRIBUTOR","body":"We do not have an immediate concern about executor core number as 1. \r\nNot sure if it is valid - my concern is around extra jvm overhead (now we have more jvms) and shuffling cost between executors, especially if we have lots of executors and complicated join / shuffling workload before we write to hoodie table.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/415125019/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/415135319","html_url":"https://github.com/apache/hudi/issues/254#issuecomment-415135319","issue_url":"https://api.github.com/repos/apache/hudi/issues/254","id":415135319,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNTEzNTMxOQ==","user":{"login":"leletan","id":6158502,"node_id":"MDQ6VXNlcjYxNTg1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/6158502?v=4","gravatar_id":"","url":"https://api.github.com/users/leletan","html_url":"https://github.com/leletan","followers_url":"https://api.github.com/users/leletan/followers","following_url":"https://api.github.com/users/leletan/following{/other_user}","gists_url":"https://api.github.com/users/leletan/gists{/gist_id}","starred_url":"https://api.github.com/users/leletan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leletan/subscriptions","organizations_url":"https://api.github.com/users/leletan/orgs","repos_url":"https://api.github.com/users/leletan/repos","events_url":"https://api.github.com/users/leletan/events{/privacy}","received_events_url":"https://api.github.com/users/leletan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-22T18:36:57Z","updated_at":"2018-08-22T18:37:34Z","author_association":"CONTRIBUTOR","body":"this seems to compile: \r\n```    \r\nHoodieParquetWriter ret;\r\nsynchronized (HoodieStorageWriterFactory.class) {\r\n    ret = new HoodieParquetWriter<>(commitTime, path, parquetConfig, schema);\r\n}\r\nreturn ret;\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/415135319/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/415220162","html_url":"https://github.com/apache/hudi/issues/254#issuecomment-415220162","issue_url":"https://api.github.com/repos/apache/hudi/issues/254","id":415220162,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNTIyMDE2Mg==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-22T23:27:21Z","updated_at":"2018-08-22T23:27:21Z","author_association":"CONTRIBUTOR","body":"@leletan There can be multiple executors (JVMs) started on the same node and if most tasks run on those jvm's running on the same node, shuffling cost should be minimal (or may not matter at all) but obviously cannot be said with certainty. \r\n\r\nWe know this problem's scope is more than the tests, this first arose as a change to a test and hence is documented here. Just like @vinothchandar mentioned, I'm also not following how this code alleviates the shared fs problem. Could you please elaborate ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/415220162/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/415293297","html_url":"https://github.com/apache/hudi/issues/254#issuecomment-415293297","issue_url":"https://api.github.com/repos/apache/hudi/issues/254","id":415293297,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNTI5MzI5Nw==","user":{"login":"leletan","id":6158502,"node_id":"MDQ6VXNlcjYxNTg1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/6158502?v=4","gravatar_id":"","url":"https://api.github.com/users/leletan","html_url":"https://github.com/leletan","followers_url":"https://api.github.com/users/leletan/followers","following_url":"https://api.github.com/users/leletan/following{/other_user}","gists_url":"https://api.github.com/users/leletan/gists{/gist_id}","starred_url":"https://api.github.com/users/leletan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leletan/subscriptions","organizations_url":"https://api.github.com/users/leletan/orgs","repos_url":"https://api.github.com/users/leletan/repos","events_url":"https://api.github.com/users/leletan/events{/privacy}","received_events_url":"https://api.github.com/users/leletan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-23T05:12:04Z","updated_at":"2018-08-23T05:17:31Z","author_association":"CONTRIBUTOR","body":"Sure. Here is my understanding, please feel free to correct me:\r\nIn the same executor (jvm), let's say there are 2 cores, here is the when the race condition cause the issue mentioned in this ticket:\r\n```\r\npartition 0 (thread 0) -... -> HoodieStorageWriterFactory.newParquetStorageWriter -........-> fs.close()\r\n```\r\n```\r\npartition 1 (thread 1) -... -> HoodieStorageWriterFactory.newParquetStorageWriter -. -> fs.close() -.-> fs.create()\r\n```\r\nThe fs.close() will (in my case) shutdown the s3 client connection pool which is a singleton in the same jvm and cause fs.create() to fail in another thread.\r\n\r\nSo if we can alway enforce no threads interleaving between ` fs.close() -.-> fs.create()`, then there should be no race condition triggering the issue in this ticket.\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/415293297/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/415293980","html_url":"https://github.com/apache/hudi/issues/254#issuecomment-415293980","issue_url":"https://api.github.com/repos/apache/hudi/issues/254","id":415293980,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNTI5Mzk4MA==","user":{"login":"leletan","id":6158502,"node_id":"MDQ6VXNlcjYxNTg1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/6158502?v=4","gravatar_id":"","url":"https://api.github.com/users/leletan","html_url":"https://github.com/leletan","followers_url":"https://api.github.com/users/leletan/followers","following_url":"https://api.github.com/users/leletan/following{/other_user}","gists_url":"https://api.github.com/users/leletan/gists{/gist_id}","starred_url":"https://api.github.com/users/leletan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leletan/subscriptions","organizations_url":"https://api.github.com/users/leletan/orgs","repos_url":"https://api.github.com/users/leletan/repos","events_url":"https://api.github.com/users/leletan/events{/privacy}","received_events_url":"https://api.github.com/users/leletan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-23T05:16:02Z","updated_at":"2018-08-23T05:22:48Z","author_association":"CONTRIBUTOR","body":"Of course ideally we might want to just wrap synchronized brackets around just `fs.close() -> fs.create()`, but that will need to change code in hadoop package. So if you take a closer look at the call stacks of the threads I pasted above, you might find the `HoodieStorageWriterFactory.newParquetStorageWriter` is closest place available in hoodie code to make this change.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/415293980/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/415306759","html_url":"https://github.com/apache/hudi/issues/254#issuecomment-415306759","issue_url":"https://api.github.com/repos/apache/hudi/issues/254","id":415306759,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNTMwNjc1OQ==","user":{"login":"leletan","id":6158502,"node_id":"MDQ6VXNlcjYxNTg1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/6158502?v=4","gravatar_id":"","url":"https://api.github.com/users/leletan","html_url":"https://github.com/leletan","followers_url":"https://api.github.com/users/leletan/followers","following_url":"https://api.github.com/users/leletan/following{/other_user}","gists_url":"https://api.github.com/users/leletan/gists{/gist_id}","starred_url":"https://api.github.com/users/leletan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leletan/subscriptions","organizations_url":"https://api.github.com/users/leletan/orgs","repos_url":"https://api.github.com/users/leletan/repos","events_url":"https://api.github.com/users/leletan/events{/privacy}","received_events_url":"https://api.github.com/users/leletan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-23T06:30:09Z","updated_at":"2018-08-23T06:30:09Z","author_association":"CONTRIBUTOR","body":"Please let me know if I may help providing more details.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/415306759/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/416779684","html_url":"https://github.com/apache/hudi/issues/254#issuecomment-416779684","issue_url":"https://api.github.com/repos/apache/hudi/issues/254","id":416779684,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNjc3OTY4NA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-29T00:05:58Z","updated_at":"2018-08-29T00:05:58Z","author_association":"CONTRIBUTOR","body":"@leletan So the fs object is shared between all instances of the writer. Are you suggesting we instantiate only one writer at a time ? Because there is no control on how fs.close() is called once the stream completes so the synchronization block will have to just wait till that happens, is that what you are suggesting ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/416779684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/416928643","html_url":"https://github.com/apache/hudi/issues/143#issuecomment-416928643","issue_url":"https://api.github.com/repos/apache/hudi/issues/143","id":416928643,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNjkyODY0Mw==","user":{"login":"saravsars","id":3000143,"node_id":"MDQ6VXNlcjMwMDAxNDM=","avatar_url":"https://avatars.githubusercontent.com/u/3000143?v=4","gravatar_id":"","url":"https://api.github.com/users/saravsars","html_url":"https://github.com/saravsars","followers_url":"https://api.github.com/users/saravsars/followers","following_url":"https://api.github.com/users/saravsars/following{/other_user}","gists_url":"https://api.github.com/users/saravsars/gists{/gist_id}","starred_url":"https://api.github.com/users/saravsars/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saravsars/subscriptions","organizations_url":"https://api.github.com/users/saravsars/orgs","repos_url":"https://api.github.com/users/saravsars/repos","events_url":"https://api.github.com/users/saravsars/events{/privacy}","received_events_url":"https://api.github.com/users/saravsars/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-29T12:06:03Z","updated_at":"2018-08-29T12:06:03Z","author_association":"CONTRIBUTOR","body":"@vinothchandar can you add me to the slack group please? My email is sarav.sars@gmail.com","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/416928643/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/417000004","html_url":"https://github.com/apache/hudi/issues/143#issuecomment-417000004","issue_url":"https://api.github.com/repos/apache/hudi/issues/143","id":417000004,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNzAwMDAwNA==","user":{"login":"arw357","id":8440059,"node_id":"MDQ6VXNlcjg0NDAwNTk=","avatar_url":"https://avatars.githubusercontent.com/u/8440059?v=4","gravatar_id":"","url":"https://api.github.com/users/arw357","html_url":"https://github.com/arw357","followers_url":"https://api.github.com/users/arw357/followers","following_url":"https://api.github.com/users/arw357/following{/other_user}","gists_url":"https://api.github.com/users/arw357/gists{/gist_id}","starred_url":"https://api.github.com/users/arw357/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arw357/subscriptions","organizations_url":"https://api.github.com/users/arw357/orgs","repos_url":"https://api.github.com/users/arw357/repos","events_url":"https://api.github.com/users/arw357/events{/privacy}","received_events_url":"https://api.github.com/users/arw357/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-29T15:40:19Z","updated_at":"2018-08-29T15:40:19Z","author_association":"NONE","body":"Hi, please add me to slack  kaetter@gmail.com","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/417000004/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/417056213","html_url":"https://github.com/apache/hudi/pull/443#issuecomment-417056213","issue_url":"https://api.github.com/repos/apache/hudi/issues/443","id":417056213,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNzA1NjIxMw==","user":{"login":"CLAassistant","id":11571300,"node_id":"MDQ6VXNlcjExNTcxMzAw","avatar_url":"https://avatars.githubusercontent.com/u/11571300?v=4","gravatar_id":"","url":"https://api.github.com/users/CLAassistant","html_url":"https://github.com/CLAassistant","followers_url":"https://api.github.com/users/CLAassistant/followers","following_url":"https://api.github.com/users/CLAassistant/following{/other_user}","gists_url":"https://api.github.com/users/CLAassistant/gists{/gist_id}","starred_url":"https://api.github.com/users/CLAassistant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CLAassistant/subscriptions","organizations_url":"https://api.github.com/users/CLAassistant/orgs","repos_url":"https://api.github.com/users/CLAassistant/repos","events_url":"https://api.github.com/users/CLAassistant/events{/privacy}","received_events_url":"https://api.github.com/users/CLAassistant/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-29T18:25:47Z","updated_at":"2018-08-30T04:34:57Z","author_association":"NONE","body":"[![CLA assistant check](https://cla-assistant.io/pull/badge/signed)](https://cla-assistant.io/uber/hudi?pullRequest=443) <br/>All committers have signed the CLA.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/417056213/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/417076733","html_url":"https://github.com/apache/hudi/issues/254#issuecomment-417076733","issue_url":"https://api.github.com/repos/apache/hudi/issues/254","id":417076733,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNzA3NjczMw==","user":{"login":"leletan","id":6158502,"node_id":"MDQ6VXNlcjYxNTg1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/6158502?v=4","gravatar_id":"","url":"https://api.github.com/users/leletan","html_url":"https://github.com/leletan","followers_url":"https://api.github.com/users/leletan/followers","following_url":"https://api.github.com/users/leletan/following{/other_user}","gists_url":"https://api.github.com/users/leletan/gists{/gist_id}","starred_url":"https://api.github.com/users/leletan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leletan/subscriptions","organizations_url":"https://api.github.com/users/leletan/orgs","repos_url":"https://api.github.com/users/leletan/repos","events_url":"https://api.github.com/users/leletan/events{/privacy}","received_events_url":"https://api.github.com/users/leletan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-29T19:31:28Z","updated_at":"2018-08-29T19:31:28Z","author_association":"CONTRIBUTOR","body":"@n3nash correct.  By no control, we mean not going to modify where `fs.close()` in the hadoop parquet code (as shown above).","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/417076733/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/417084613","html_url":"https://github.com/apache/hudi/issues/441#issuecomment-417084613","issue_url":"https://api.github.com/repos/apache/hudi/issues/441","id":417084613,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNzA4NDYxMw==","user":{"login":"leletan","id":6158502,"node_id":"MDQ6VXNlcjYxNTg1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/6158502?v=4","gravatar_id":"","url":"https://api.github.com/users/leletan","html_url":"https://github.com/leletan","followers_url":"https://api.github.com/users/leletan/followers","following_url":"https://api.github.com/users/leletan/following{/other_user}","gists_url":"https://api.github.com/users/leletan/gists{/gist_id}","starred_url":"https://api.github.com/users/leletan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leletan/subscriptions","organizations_url":"https://api.github.com/users/leletan/orgs","repos_url":"https://api.github.com/users/leletan/repos","events_url":"https://api.github.com/users/leletan/events{/privacy}","received_events_url":"https://api.github.com/users/leletan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-29T19:56:30Z","updated_at":"2018-08-29T20:23:38Z","author_association":"CONTRIBUTOR","body":"Did some digging into 1st way - there maybe 2 ways to deal with the commit time -\r\n1. Put a new flag field in the HoodieRecord reading from HoodieRecordPayload meta data to indicate if a copyOldRecord is needed during writing\r\n2. Pass down a flag during dataframe options to enforce this entire job will be copyOldRecord\r\n\r\nIt seems there are trade off in design and usabilities. Wondering if and which one matches hoodie's design philosophy better.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/417084613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/417127665","html_url":"https://github.com/apache/hudi/pull/443#issuecomment-417127665","issue_url":"https://api.github.com/repos/apache/hudi/issues/443","id":417127665,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNzEyNzY2NQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-29T22:28:50Z","updated_at":"2018-08-29T22:29:28Z","author_association":"CONTRIBUTOR","body":"@saravsars Thanks for your contribution. Are you able to produce NPE with the current version consistently and fix it with the updated version ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/417127665/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/417128276","html_url":"https://github.com/apache/hudi/pull/438#issuecomment-417128276","issue_url":"https://api.github.com/repos/apache/hudi/issues/438","id":417128276,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNzEyODI3Ng==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-29T22:31:21Z","updated_at":"2018-08-29T22:31:35Z","author_association":"CONTRIBUTOR","body":"@leletan Just checking back here, were you able to make any progress on this ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/417128276/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/417196410","html_url":"https://github.com/apache/hudi/pull/443#issuecomment-417196410","issue_url":"https://api.github.com/repos/apache/hudi/issues/443","id":417196410,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNzE5NjQxMA==","user":{"login":"saravsars","id":3000143,"node_id":"MDQ6VXNlcjMwMDAxNDM=","avatar_url":"https://avatars.githubusercontent.com/u/3000143?v=4","gravatar_id":"","url":"https://api.github.com/users/saravsars","html_url":"https://github.com/saravsars","followers_url":"https://api.github.com/users/saravsars/followers","following_url":"https://api.github.com/users/saravsars/following{/other_user}","gists_url":"https://api.github.com/users/saravsars/gists{/gist_id}","starred_url":"https://api.github.com/users/saravsars/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saravsars/subscriptions","organizations_url":"https://api.github.com/users/saravsars/orgs","repos_url":"https://api.github.com/users/saravsars/repos","events_url":"https://api.github.com/users/saravsars/events{/privacy}","received_events_url":"https://api.github.com/users/saravsars/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-30T05:41:25Z","updated_at":"2018-08-30T05:41:25Z","author_association":"CONTRIBUTOR","body":"@n3nash able to reproduce NPE consistently with version 1.48 and fixed with the latest version","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/417196410/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/417200919","html_url":"https://github.com/apache/hudi/pull/438#issuecomment-417200919","issue_url":"https://api.github.com/repos/apache/hudi/issues/438","id":417200919,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNzIwMDkxOQ==","user":{"login":"leletan","id":6158502,"node_id":"MDQ6VXNlcjYxNTg1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/6158502?v=4","gravatar_id":"","url":"https://api.github.com/users/leletan","html_url":"https://github.com/leletan","followers_url":"https://api.github.com/users/leletan/followers","following_url":"https://api.github.com/users/leletan/following{/other_user}","gists_url":"https://api.github.com/users/leletan/gists{/gist_id}","starred_url":"https://api.github.com/users/leletan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leletan/subscriptions","organizations_url":"https://api.github.com/users/leletan/orgs","repos_url":"https://api.github.com/users/leletan/repos","events_url":"https://api.github.com/users/leletan/events{/privacy}","received_events_url":"https://api.github.com/users/leletan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-30T06:08:02Z","updated_at":"2018-08-30T06:41:38Z","author_association":"CONTRIBUTOR","body":"@n3nash Was still in the progress of making the end-to-end data test work. \r\nFirst was stuck by [this](https://github.com/uber/hudi/issues/254) and found a work around in that ticket. \r\n\r\nThen I was kind of stuck but just found a way to do a dedup later record [here](https://github.com/leletan/hudi/commit/8ce5524af5b89d2dbf212d56a37a51d79ec65ab7) to make sure the cross partition dedup in this PR will keep the record in the old partition in my end-to-end testing.\r\n\r\nAnd next step (likely tomorrow) I am going to continue this work based on your latest input.\r\n\r\nBut eventually my test will be based on changes on top of [this branch which is based on 0.4.2-SNAPSHOT](https://github.com/bvaradar/hudi/commit/e189734a07b8782ea1d21b3c780dfc61c2ab8f2b) since we are using spark 2.3 in our production. \r\n\r\nWondering if you guys have any suggestions for end-to-end testing for this PR against master or maybe just running the PR against `HoodieJavaApp` is good enough","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/417200919/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/417258238","html_url":"https://github.com/apache/hudi/issues/441#issuecomment-417258238","issue_url":"https://api.github.com/repos/apache/hudi/issues/441","id":417258238,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNzI1ODIzOA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-30T09:42:31Z","updated_at":"2018-08-30T09:42:31Z","author_association":"MEMBER","body":"For very similar use-case (de-duping kafka tables), we do something like approach 2. Approach 1 will incur these side-effects you mentioned and also needlessly incurs write I/O for just writing out the same data again. \r\n\r\nAssuming you have the GlobalBloomIndex, you could use the `HoodieReadClient::tagLocation` which hands back location of each key (should be faster than a full left join) and you can use that to apply your custom late filters and then issue a normal write.. Right now, these key lookup methods are not integrated into the datasource, since its not very clear how to support all of his functionaliy within DataSource apis. Happy to hear more feedback on this, in general you can checkout HoodieReadClient for methods like these. \r\n\r\nHope that helps. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/417258238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/417511237","html_url":"https://github.com/apache/hudi/issues/441#issuecomment-417511237","issue_url":"https://api.github.com/repos/apache/hudi/issues/441","id":417511237,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNzUxMTIzNw==","user":{"login":"leletan","id":6158502,"node_id":"MDQ6VXNlcjYxNTg1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/6158502?v=4","gravatar_id":"","url":"https://api.github.com/users/leletan","html_url":"https://github.com/leletan","followers_url":"https://api.github.com/users/leletan/followers","following_url":"https://api.github.com/users/leletan/following{/other_user}","gists_url":"https://api.github.com/users/leletan/gists{/gist_id}","starred_url":"https://api.github.com/users/leletan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leletan/subscriptions","organizations_url":"https://api.github.com/users/leletan/orgs","repos_url":"https://api.github.com/users/leletan/repos","events_url":"https://api.github.com/users/leletan/events{/privacy}","received_events_url":"https://api.github.com/users/leletan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-31T00:31:22Z","updated_at":"2018-08-31T00:31:22Z","author_association":"CONTRIBUTOR","body":"Thanks @vinothchandar. Will take a closer look.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/417511237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/417681321","html_url":"https://github.com/apache/hudi/pull/413#issuecomment-417681321","issue_url":"https://api.github.com/repos/apache/hudi/issues/413","id":417681321,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNzY4MTMyMQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-31T14:27:32Z","updated_at":"2018-08-31T14:27:32Z","author_association":"MEMBER","body":"@n3nash can you rebase this one? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/417681321/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/417681662","html_url":"https://github.com/apache/hudi/pull/443#issuecomment-417681662","issue_url":"https://api.github.com/repos/apache/hudi/issues/443","id":417681662,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNzY4MTY2Mg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-31T14:28:53Z","updated_at":"2018-08-31T14:28:53Z","author_association":"MEMBER","body":"Thanks!  https://github.com/vinothchandar/hoodie/commits/delta-streamer has some changes I have been working on around making delta-streamer better and robust. planning a PR next week. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/417681662/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/417684766","html_url":"https://github.com/apache/hudi/issues/143#issuecomment-417684766","issue_url":"https://api.github.com/repos/apache/hudi/issues/143","id":417684766,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNzY4NDc2Ng==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-31T14:39:26Z","updated_at":"2018-08-31T14:39:26Z","author_association":"MEMBER","body":"Done! ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/417684766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/417745863","html_url":"https://github.com/apache/hudi/pull/438#issuecomment-417745863","issue_url":"https://api.github.com/repos/apache/hudi/issues/438","id":417745863,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNzc0NTg2Mw==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-31T18:04:44Z","updated_at":"2018-08-31T18:04:44Z","author_association":"CONTRIBUTOR","body":"@leletan thanks for the update. Definitely run the PR against HoodieJavaApp, also if you can try to run the PR against some dataset internally, that will help vet the PR more. May be run the dataset against the latest release (without your PR) and then with your PR, you can validate if your dataset behaves correctly in both scenarios; that's a good way to vet your code.\r\n\r\nWe don't have an exhaustive set of end to end testing as such (as we discussed f2f) but unit tests should capture most of the quirks.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/417745863/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/417748917","html_url":"https://github.com/apache/hudi/issues/254#issuecomment-417748917","issue_url":"https://api.github.com/repos/apache/hudi/issues/254","id":417748917,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNzc0ODkxNw==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-31T18:15:41Z","updated_at":"2018-08-31T18:15:50Z","author_association":"CONTRIBUTOR","body":"@leletan I see, have you tried this fix ? Does it give you true multi-core parallelism for the write phase in the same executor without causing the `fs.close()` issues ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/417748917/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/417820120","html_url":"https://github.com/apache/hudi/pull/438#issuecomment-417820120","issue_url":"https://api.github.com/repos/apache/hudi/issues/438","id":417820120,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNzgyMDEyMA==","user":{"login":"leletan","id":6158502,"node_id":"MDQ6VXNlcjYxNTg1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/6158502?v=4","gravatar_id":"","url":"https://api.github.com/users/leletan","html_url":"https://github.com/leletan","followers_url":"https://api.github.com/users/leletan/followers","following_url":"https://api.github.com/users/leletan/following{/other_user}","gists_url":"https://api.github.com/users/leletan/gists{/gist_id}","starred_url":"https://api.github.com/users/leletan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leletan/subscriptions","organizations_url":"https://api.github.com/users/leletan/orgs","repos_url":"https://api.github.com/users/leletan/repos","events_url":"https://api.github.com/users/leletan/events{/privacy}","received_events_url":"https://api.github.com/users/leletan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-01T00:38:03Z","updated_at":"2018-09-01T00:38:03Z","author_association":"CONTRIBUTOR","body":"Made some new modification based on comments and also added some unit tests. Will continue to do some real data testing later.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/417820120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/418293246","html_url":"https://github.com/apache/hudi/pull/413#issuecomment-418293246","issue_url":"https://api.github.com/repos/apache/hudi/issues/413","id":418293246,"node_id":"MDEyOklzc3VlQ29tbWVudDQxODI5MzI0Ng==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-04T08:58:30Z","updated_at":"2018-09-04T08:58:30Z","author_association":"CONTRIBUTOR","body":"@vinothchandar rebased, please take a pass on HoodieMergeOnReadTable and HoodieAppendHandle since I've made a few new changes there.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/418293246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/418296141","html_url":"https://github.com/apache/hudi/pull/444#issuecomment-418296141","issue_url":"https://api.github.com/repos/apache/hudi/issues/444","id":418296141,"node_id":"MDEyOklzc3VlQ29tbWVudDQxODI5NjE0MQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-04T09:08:33Z","updated_at":"2018-09-04T09:08:33Z","author_association":"CONTRIBUTOR","body":"@vinothchandar @bvaradar Please take a pass at this","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/418296141/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/418529714","html_url":"https://github.com/apache/hudi/pull/413#issuecomment-418529714","issue_url":"https://api.github.com/repos/apache/hudi/issues/413","id":418529714,"node_id":"MDEyOklzc3VlQ29tbWVudDQxODUyOTcxNA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-04T21:50:23Z","updated_at":"2018-09-04T21:50:23Z","author_association":"MEMBER","body":"@n3nash can you briefly describe your delta, HoodieMergeOnReadTable is pretty big. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/418529714/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/418837404","html_url":"https://github.com/apache/hudi/pull/413#issuecomment-418837404","issue_url":"https://api.github.com/repos/apache/hudi/issues/413","id":418837404,"node_id":"MDEyOklzc3VlQ29tbWVudDQxODgzNzQwNA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-05T18:41:18Z","updated_at":"2018-09-05T18:41:18Z","author_association":"CONTRIBUTOR","body":"@vinothchandar Tagged you in the places where changes have happened","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/418837404/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/418840142","html_url":"https://github.com/apache/hudi/pull/444#issuecomment-418840142","issue_url":"https://api.github.com/repos/apache/hudi/issues/444","id":418840142,"node_id":"MDEyOklzc3VlQ29tbWVudDQxODg0MDE0Mg==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-05T18:49:24Z","updated_at":"2018-09-05T18:49:24Z","author_association":"CONTRIBUTOR","body":"@vinothchandar updated the diff","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/418840142/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/418860816","html_url":"https://github.com/apache/hudi/issues/439#issuecomment-418860816","issue_url":"https://api.github.com/repos/apache/hudi/issues/439","id":418860816,"node_id":"MDEyOklzc3VlQ29tbWVudDQxODg2MDgxNg==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-05T19:56:02Z","updated_at":"2018-09-05T19:56:02Z","author_association":"CONTRIBUTOR","body":"Note that this query works well  under Spark","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/418860816/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/418891976","html_url":"https://github.com/apache/hudi/pull/420#issuecomment-418891976","issue_url":"https://api.github.com/repos/apache/hudi/issues/420","id":418891976,"node_id":"MDEyOklzc3VlQ29tbWVudDQxODg5MTk3Ng==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-05T21:45:41Z","updated_at":"2018-09-05T21:45:41Z","author_association":"CONTRIBUTOR","body":"@vinothchandar Can you rebase this diff and update it please ? I can then take a look at the failing test case, at the moment this diff has compilation errors against master and difficult to fix the test.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/418891976/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/418927561","html_url":"https://github.com/apache/hudi/pull/413#issuecomment-418927561","issue_url":"https://api.github.com/repos/apache/hudi/issues/413","id":418927561,"node_id":"MDEyOklzc3VlQ29tbWVudDQxODkyNzU2MQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-06T00:52:03Z","updated_at":"2018-09-06T00:52:03Z","author_association":"MEMBER","body":"thanks.. Assuming you have already thoroughly tested this, looks okay to me. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/418927561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/419001127","html_url":"https://github.com/apache/hudi/pull/445#issuecomment-419001127","issue_url":"https://api.github.com/repos/apache/hudi/issues/445","id":419001127,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTAwMTEyNw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-06T07:56:47Z","updated_at":"2018-09-06T07:56:47Z","author_association":"CONTRIBUTOR","body":"@n3nash : Can you take a first look at it to see if this is ok.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/419001127/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/419176383","html_url":"https://github.com/apache/hudi/pull/446#issuecomment-419176383","issue_url":"https://api.github.com/repos/apache/hudi/issues/446","id":419176383,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTE3NjM4Mw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-06T17:27:27Z","updated_at":"2018-09-06T17:27:27Z","author_association":"CONTRIBUTOR","body":"@n3nash @vinothchandar : Please review when you get a chance. Planning to use this as part of demo.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/419176383/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/419235616","html_url":"https://github.com/apache/hudi/pull/447#issuecomment-419235616","issue_url":"https://api.github.com/repos/apache/hudi/issues/447","id":419235616,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTIzNTYxNg==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-06T20:46:27Z","updated_at":"2018-09-06T20:46:27Z","author_association":"CONTRIBUTOR","body":"@n3nash: Can also please take a pass at this. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/419235616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/419238500","html_url":"https://github.com/apache/hudi/pull/446#issuecomment-419238500","issue_url":"https://api.github.com/repos/apache/hudi/issues/446","id":419238500,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTIzODUwMA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-06T20:56:04Z","updated_at":"2018-09-06T20:56:04Z","author_association":"CONTRIBUTOR","body":"@n3nash : Updated diff with your comments.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/419238500/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/419277558","html_url":"https://github.com/apache/hudi/pull/446#issuecomment-419277558","issue_url":"https://api.github.com/repos/apache/hudi/issues/446","id":419277558,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTI3NzU1OA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-06T23:54:03Z","updated_at":"2018-09-06T23:54:03Z","author_association":"CONTRIBUTOR","body":"@n3nash @vinothchandar : ready for review again. Related doc change in https://github.com/uber/hudi/pull/445","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/419277558/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/419296769","html_url":"https://github.com/apache/hudi/pull/445#issuecomment-419296769","issue_url":"https://api.github.com/repos/apache/hudi/issues/445","id":419296769,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTI5Njc2OQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-07T02:02:37Z","updated_at":"2018-09-07T02:02:37Z","author_association":"CONTRIBUTOR","body":"@vinothchandar LGTM","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/419296769/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/419296837","html_url":"https://github.com/apache/hudi/pull/446#issuecomment-419296837","issue_url":"https://api.github.com/repos/apache/hudi/issues/446","id":419296837,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTI5NjgzNw==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-07T02:03:08Z","updated_at":"2018-09-07T02:03:08Z","author_association":"CONTRIBUTOR","body":"@vinothchandar LGTM","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/419296837/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/419296944","html_url":"https://github.com/apache/hudi/issues/442#issuecomment-419296944","issue_url":"https://api.github.com/repos/apache/hudi/issues/442","id":419296944,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTI5Njk0NA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-07T02:03:55Z","updated_at":"2018-09-07T02:03:55Z","author_association":"CONTRIBUTOR","body":"Addressed here : https://github.com/uber/hudi/pull/444","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/419296944/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/419371406","html_url":"https://github.com/apache/hudi/pull/449#issuecomment-419371406","issue_url":"https://api.github.com/repos/apache/hudi/issues/449","id":419371406,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTM3MTQwNg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-07T08:54:58Z","updated_at":"2018-09-07T09:02:57Z","author_association":"MEMBER","body":"Same `testRollbackWithDeltaAndCompactionCommit` test failure as before in #420 \r\n\r\n```\r\nFailed tests: \r\n  TestMergeOnReadTable.testRollbackWithDeltaAndCompactionCommit:469 expected:<1> but was:<0>\r\n```\r\n\r\n@n3nash this should be enough to look at whats going on.. cant repro this locally.. can you ? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/419371406/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/419443637","html_url":"https://github.com/apache/hudi/pull/449#issuecomment-419443637","issue_url":"https://api.github.com/repos/apache/hudi/issues/449","id":419443637,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTQ0MzYzNw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-07T13:43:59Z","updated_at":"2018-09-07T13:43:59Z","author_association":"MEMBER","body":"@n3nash that is one flaky test for some reason.. Rerunning passed. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/419443637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/419532925","html_url":"https://github.com/apache/hudi/pull/448#issuecomment-419532925","issue_url":"https://api.github.com/repos/apache/hudi/issues/448","id":419532925,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTUzMjkyNQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-07T18:53:06Z","updated_at":"2018-09-07T18:53:06Z","author_association":"CONTRIBUTOR","body":"@vinothchandar pinging to re-surface","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/419532925/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/419533036","html_url":"https://github.com/apache/hudi/pull/449#issuecomment-419533036","issue_url":"https://api.github.com/repos/apache/hudi/issues/449","id":419533036,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTUzMzAzNg==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-07T18:53:29Z","updated_at":"2018-09-07T18:53:29Z","author_association":"CONTRIBUTOR","body":"@vinothchandar created another diff to address it","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/419533036/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/419538603","html_url":"https://github.com/apache/hudi/pull/448#issuecomment-419538603","issue_url":"https://api.github.com/repos/apache/hudi/issues/448","id":419538603,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTUzODYwMw==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-07T19:15:47Z","updated_at":"2018-09-07T19:15:47Z","author_association":"CONTRIBUTOR","body":"Will add a test case soon to concretely add this case : https://github.com/uber/hudi/issues/450","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/419538603/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/419591042","html_url":"https://github.com/apache/hudi/pull/420#issuecomment-419591042","issue_url":"https://api.github.com/repos/apache/hudi/issues/420","id":419591042,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTU5MTA0Mg==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-07T23:20:47Z","updated_at":"2018-09-07T23:20:47Z","author_association":"CONTRIBUTOR","body":"@vinothchandar I see that the you rebased it, I tried compiling using `mvn clean install -Dmaven.test.skip=true -Dhive11` but it doesn't work, let me know how to compile it and will look into the other failing test case.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/419591042/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/419604936","html_url":"https://github.com/apache/hudi/pull/220#issuecomment-419604936","issue_url":"https://api.github.com/repos/apache/hudi/issues/220","id":419604936,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTYwNDkzNg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-08T02:04:20Z","updated_at":"2018-09-08T02:04:20Z","author_association":"MEMBER","body":"Closing this in favor of #420 \r\n\r\n@alunarbeach hive2 support finally here. :) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/419604936/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/419604961","html_url":"https://github.com/apache/hudi/pull/445#issuecomment-419604961","issue_url":"https://api.github.com/repos/apache/hudi/issues/445","id":419604961,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTYwNDk2MQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-08T02:04:43Z","updated_at":"2018-09-08T02:04:43Z","author_association":"MEMBER","body":"@bvaradar CI failures? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/419604961/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/419661611","html_url":"https://github.com/apache/hudi/pull/449#issuecomment-419661611","issue_url":"https://api.github.com/repos/apache/hudi/issues/449","id":419661611,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTY2MTYxMQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-08T18:00:50Z","updated_at":"2018-09-08T18:00:50Z","author_association":"CONTRIBUTOR","body":"@vinothchandar Reviewed the diff except `KafkaSource`, will do that soon, left a few comments.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/419661611/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/419695249","html_url":"https://github.com/apache/hudi/pull/445#issuecomment-419695249","issue_url":"https://api.github.com/repos/apache/hudi/issues/445","id":419695249,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTY5NTI0OQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-09T06:58:07Z","updated_at":"2018-09-09T06:58:07Z","author_association":"CONTRIBUTOR","body":"@vinothchandar : Passes locally. The failure was because of memory allocation failure. Could be because of travis box issue ?\r\n\r\n I have rebased and updated this branch\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/419695249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/419725639","html_url":"https://github.com/apache/hudi/pull/451#issuecomment-419725639","issue_url":"https://api.github.com/repos/apache/hudi/issues/451","id":419725639,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTcyNTYzOQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-09T15:59:12Z","updated_at":"2018-09-09T15:59:12Z","author_association":"MEMBER","body":"@n3nash still a WIP?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/419725639/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/419769770","html_url":"https://github.com/apache/hudi/pull/420#issuecomment-419769770","issue_url":"https://api.github.com/repos/apache/hudi/issues/420","id":419769770,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTc2OTc3MA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-10T02:29:04Z","updated_at":"2018-09-10T02:29:04Z","author_association":"CONTRIBUTOR","body":"@vinothchandar I have put out a PR for the issue you described in the chat but the current build seems to be failing for some other reason. I'm going to rebase and try to run this PR with my fix, could you do the same when you get a chance ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/419769770/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/419823374","html_url":"https://github.com/apache/hudi/pull/420#issuecomment-419823374","issue_url":"https://api.github.com/repos/apache/hudi/issues/420","id":419823374,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTgyMzM3NA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-10T08:02:09Z","updated_at":"2018-09-10T08:02:09Z","author_association":"CONTRIBUTOR","body":"@vinothchandar compiles for me locally.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/419823374/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/420005639","html_url":"https://github.com/apache/hudi/pull/452#issuecomment-420005639","issue_url":"https://api.github.com/repos/apache/hudi/issues/452","id":420005639,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMDAwNTYzOQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-10T18:03:32Z","updated_at":"2018-09-10T18:03:32Z","author_association":"CONTRIBUTOR","body":"@n3nash @vinothchandar : Please take a look.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/420005639/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/420054927","html_url":"https://github.com/apache/hudi/pull/438#issuecomment-420054927","issue_url":"https://api.github.com/repos/apache/hudi/issues/438","id":420054927,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMDA1NDkyNw==","user":{"login":"leletan","id":6158502,"node_id":"MDQ6VXNlcjYxNTg1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/6158502?v=4","gravatar_id":"","url":"https://api.github.com/users/leletan","html_url":"https://github.com/leletan","followers_url":"https://api.github.com/users/leletan/followers","following_url":"https://api.github.com/users/leletan/following{/other_user}","gists_url":"https://api.github.com/users/leletan/gists{/gist_id}","starred_url":"https://api.github.com/users/leletan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leletan/subscriptions","organizations_url":"https://api.github.com/users/leletan/orgs","repos_url":"https://api.github.com/users/leletan/repos","events_url":"https://api.github.com/users/leletan/events{/privacy}","received_events_url":"https://api.github.com/users/leletan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-10T20:46:14Z","updated_at":"2018-09-10T20:46:14Z","author_association":"CONTRIBUTOR","body":"Ran data with HoodieJavaApp - seems working fine as expected. Now will put this into real spark ETL job for a test","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/420054927/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/420056113","html_url":"https://github.com/apache/hudi/issues/441#issuecomment-420056113","issue_url":"https://api.github.com/repos/apache/hudi/issues/441","id":420056113,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMDA1NjExMw==","user":{"login":"leletan","id":6158502,"node_id":"MDQ6VXNlcjYxNTg1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/6158502?v=4","gravatar_id":"","url":"https://api.github.com/users/leletan","html_url":"https://github.com/leletan","followers_url":"https://api.github.com/users/leletan/followers","following_url":"https://api.github.com/users/leletan/following{/other_user}","gists_url":"https://api.github.com/users/leletan/gists{/gist_id}","starred_url":"https://api.github.com/users/leletan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leletan/subscriptions","organizations_url":"https://api.github.com/users/leletan/orgs","repos_url":"https://api.github.com/users/leletan/repos","events_url":"https://api.github.com/users/leletan/events{/privacy}","received_events_url":"https://api.github.com/users/leletan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-10T20:50:02Z","updated_at":"2018-09-10T22:30:23Z","author_association":"CONTRIBUTOR","body":"@vinothchandar I was able to leverage global bloom filter to build approach 2.  \r\nHowever, in order to convert back and forth `DataFrame` between `RDD[HoodieRecord[_ <: HoodieRecordPayload[_]]]`, I copied some code from `DefaultSource.createRelation`  into a helper function of a `DefaultSource` companion object, with which I can call to convert the incoming dataframe into a JavaRDD of HoodieRecord so I can `tagLocation` it. \r\nMeanwhile, it does not seem to be too a good idea to push this piece of logic to spark ETL jobs.\r\n\r\nWondering how this is done in uber and if there any other more elegant approach to do this? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/420056113/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/420063383","html_url":"https://github.com/apache/hudi/pull/453#issuecomment-420063383","issue_url":"https://api.github.com/repos/apache/hudi/issues/453","id":420063383,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMDA2MzM4Mw==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-10T21:14:23Z","updated_at":"2018-09-10T21:14:23Z","author_association":"CONTRIBUTOR","body":"@bvaradar It's difficult to add async compaction code path using SparkLauncher since one needs a spark installation for that. For now, I've just added schedule() and compact(), another way is to start 2 threads doing ingest and compact but that's not the preferred way to use our API's so haven't added that anyways.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/420063383/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/420091607","html_url":"https://github.com/apache/hudi/pull/438#issuecomment-420091607","issue_url":"https://api.github.com/repos/apache/hudi/issues/438","id":420091607,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMDA5MTYwNw==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-10T23:13:48Z","updated_at":"2018-09-10T23:13:48Z","author_association":"CONTRIBUTOR","body":"@leletan sounds great, let me know how it goes.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/420091607/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/420151959","html_url":"https://github.com/apache/hudi/issues/441#issuecomment-420151959","issue_url":"https://api.github.com/repos/apache/hudi/issues/441","id":420151959,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMDE1MTk1OQ==","user":{"login":"leletan","id":6158502,"node_id":"MDQ6VXNlcjYxNTg1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/6158502?v=4","gravatar_id":"","url":"https://api.github.com/users/leletan","html_url":"https://github.com/leletan","followers_url":"https://api.github.com/users/leletan/followers","following_url":"https://api.github.com/users/leletan/following{/other_user}","gists_url":"https://api.github.com/users/leletan/gists{/gist_id}","starred_url":"https://api.github.com/users/leletan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leletan/subscriptions","organizations_url":"https://api.github.com/users/leletan/orgs","repos_url":"https://api.github.com/users/leletan/repos","events_url":"https://api.github.com/users/leletan/events{/privacy}","received_events_url":"https://api.github.com/users/leletan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-11T05:32:16Z","updated_at":"2018-09-11T05:42:11Z","author_association":"CONTRIBUTOR","body":"Thinking of maybe \r\n\r\nin the `com.uber.hoodie.DefaultSource.createRelation(...)` ,\r\n\r\n1. add an extra option to write parameter like `hoodie.datasource.write.drop.later` (boolean false by default), to indicate to run optional logic to `HoodieReadClient::tagLocation` the incoming df and `.filter(_.getCurrentLocation == null)` before writing to disk.\r\n\r\n2. also we can add another option `hoodie.datasource.write.dedup.global` to indicate if we want to tag it with global bloom index or just bloom index for the tagging read client.\r\n\r\nWe can come up with better naming for those options for sure, but I think the idea is here.\r\n\r\nIn this case we might just integrate this into spark DataSource Api - \r\n```\r\ndf\r\n.write()\r\n.format(\"com.uber.hoodie\")\r\n.(\"hoodie.datasource.write.drop.later\", \"true\")\r\n.(\"hoodie.datasource.write.dedup.global\", \"true\")\r\n...\r\n```\r\n What do you think @vinothchandar ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/420151959/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/420152288","html_url":"https://github.com/apache/hudi/pull/438#issuecomment-420152288","issue_url":"https://api.github.com/repos/apache/hudi/issues/438","id":420152288,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMDE1MjI4OA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-11T05:34:29Z","updated_at":"2018-09-11T05:34:29Z","author_association":"MEMBER","body":"nicee! ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/420152288/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/420154373","html_url":"https://github.com/apache/hudi/issues/441#issuecomment-420154373","issue_url":"https://api.github.com/repos/apache/hudi/issues/441","id":420154373,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMDE1NDM3Mw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-11T05:47:52Z","updated_at":"2018-09-11T05:47:52Z","author_association":"MEMBER","body":"at uber, our ingest system uses the RDD apis (see https://github.com/uber/marmaray), so we don't have this issue. \r\n\r\nWhat you are suggesting makes sense. Let me repeat it, to see if we are on the same page\r\n\r\n1. Add a flag to drop duplicate data, for insert operations (INSERT/BULK_INSERT)?  This way de-duping is something supported as a first class citizen.\r\n2. Optionally support global deduping.. I think this is best accomplished by simply specifying the `HoodieGlobalBloomIndex` as the index type? do we need a param here? \r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/420154373/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/420156207","html_url":"https://github.com/apache/hudi/issues/441#issuecomment-420156207","issue_url":"https://api.github.com/repos/apache/hudi/issues/441","id":420156207,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMDE1NjIwNw==","user":{"login":"leletan","id":6158502,"node_id":"MDQ6VXNlcjYxNTg1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/6158502?v=4","gravatar_id":"","url":"https://api.github.com/users/leletan","html_url":"https://github.com/leletan","followers_url":"https://api.github.com/users/leletan/followers","following_url":"https://api.github.com/users/leletan/following{/other_user}","gists_url":"https://api.github.com/users/leletan/gists{/gist_id}","starred_url":"https://api.github.com/users/leletan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leletan/subscriptions","organizations_url":"https://api.github.com/users/leletan/orgs","repos_url":"https://api.github.com/users/leletan/repos","events_url":"https://api.github.com/users/leletan/events{/privacy}","received_events_url":"https://api.github.com/users/leletan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-11T05:59:00Z","updated_at":"2018-09-11T06:11:31Z","author_association":"CONTRIBUTOR","body":"Thanks for the info @vinothchandar \r\nSame page for 1\r\nFor 2 - I kind of thought of the same approach, just one thing want to clarify - \r\nNot sure if it makes sense to extend this deduping to more index types than HoodieGlobalBloomIndex or HoodieBloomIndex if we expose this option to user?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/420156207/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/420160008","html_url":"https://github.com/apache/hudi/issues/441#issuecomment-420160008","issue_url":"https://api.github.com/repos/apache/hudi/issues/441","id":420160008,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMDE2MDAwOA==","user":{"login":"leletan","id":6158502,"node_id":"MDQ6VXNlcjYxNTg1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/6158502?v=4","gravatar_id":"","url":"https://api.github.com/users/leletan","html_url":"https://github.com/leletan","followers_url":"https://api.github.com/users/leletan/followers","following_url":"https://api.github.com/users/leletan/following{/other_user}","gists_url":"https://api.github.com/users/leletan/gists{/gist_id}","starred_url":"https://api.github.com/users/leletan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leletan/subscriptions","organizations_url":"https://api.github.com/users/leletan/orgs","repos_url":"https://api.github.com/users/leletan/repos","events_url":"https://api.github.com/users/leletan/events{/privacy}","received_events_url":"https://api.github.com/users/leletan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-11T06:19:50Z","updated_at":"2018-09-11T06:19:50Z","author_association":"CONTRIBUTOR","body":"[Marmaray](https://github.com/uber/marmaray) is amazing, wondering how many more of those big data tools are there open sourced by uber so far? What are the most used combo of frameworks?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/420160008/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/420273284","html_url":"https://github.com/apache/hudi/pull/455#issuecomment-420273284","issue_url":"https://api.github.com/repos/apache/hudi/issues/455","id":420273284,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMDI3MzI4NA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-11T13:24:43Z","updated_at":"2018-09-11T13:24:43Z","author_association":"CONTRIBUTOR","body":"@vinothchandar @n3nash : Rebased this branch against master. Tests passes locally. Please use this instead of https://github.com/vinothchandar/hoodie/pull/4 \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/420273284/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/420288320","html_url":"https://github.com/apache/hudi/pull/455#issuecomment-420288320","issue_url":"https://api.github.com/repos/apache/hudi/issues/455","id":420288320,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMDI4ODMyMA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-11T14:11:02Z","updated_at":"2018-09-11T14:11:02Z","author_association":"CONTRIBUTOR","body":"@vinothchandar : The build is failing here \r\n\r\n---------------------\r\n[ERROR] Failed to execute goal on project hoodie-hadoop-base-docker: Could not resolve dependencies for project com.uber.hoodie:hoodie-hadoop-base-docker:pom:0.4.4-SNAPSHOT: Could not transfer artifact com.uber.hoodie:hoodie-hadoop-docker:jar:0.4.4-SNAPSHOT from/to Maven repository (https://central.maven.org/maven2/): Host name 'central.maven.org' does not match the certificate subject provided by the peer (CN=repo1.maven.org, O=\"Sonatype, Inc\", L=Fulton, ST=MD, C=US) -> [Help 1]\r\n[ERROR]\r\n===============\r\n\r\n\r\nThis is a brand new module. If I run \"mvn clean package\", it passes but \"mvn clean install\", it fails. Have you noticed this before when new modules were added to hudi ? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/420288320/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/420290170","html_url":"https://github.com/apache/hudi/pull/453#issuecomment-420290170","issue_url":"https://api.github.com/repos/apache/hudi/issues/453","id":420290170,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMDI5MDE3MA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-11T14:16:33Z","updated_at":"2018-09-11T14:16:33Z","author_association":"CONTRIBUTOR","body":"@n3nash : This should be good. We can merge it after the checks are green.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/420290170/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]