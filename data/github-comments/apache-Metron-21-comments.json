[{"url":"https://api.github.com/repos/apache/metron/issues/comments/278761080","html_url":"https://github.com/apache/metron/pull/438#issuecomment-278761080","issue_url":"https://api.github.com/repos/apache/metron/issues/438","id":278761080,"node_id":"MDEyOklzc3VlQ29tbWVudDI3ODc2MTA4MA==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-09T20:20:37Z","updated_at":"2017-02-09T20:20:37Z","author_association":"CONTRIBUTOR","body":"I saw some odd behavior I think is unrelated to this PR itself while testing.\r\n\r\nI tried to remove the threat triage rule, messed up, fixed it, and then borked my conf variable.  After recovering I was able to successfully test (and run THREAT_TRIAGE_REMOVE without breaking conf).\r\n\r\n```\r\n[Stellar]>>> conf\r\n{\r\n  \"enrichment\" : {\r\n    \"fieldMap\" : {\r\n      \"geo\" : [ \"ip_dst_addr\", \"ip_src_addr\" ],\r\n      \"host\" : [ \"host\" ],\r\n      \"stellar\" : {\r\n        \"config\" : {\r\n          \"is_alert\" : \"source.type == 'bro'\"\r\n        }\r\n      }\r\n    },\r\n    \"fieldToTypeMap\" : { },\r\n    \"config\" : { }\r\n  },\r\n  \"threatIntel\" : {\r\n    \"fieldMap\" : {\r\n      \"hbaseThreatIntel\" : [ \"ip_src_addr\", \"ip_dst_addr\" ]\r\n    },\r\n    \"fieldToTypeMap\" : {\r\n      \"ip_src_addr\" : [ \"malicious_ip\" ],\r\n      \"ip_dst_addr\" : [ \"malicious_ip\" ]\r\n    },\r\n    \"config\" : { },\r\n    \"triageConfig\" : {\r\n      \"riskLevelRules\" : [ {\r\n        \"name\" : \"Abnormal DNS Port\",\r\n        \"rule\" : \"source.type == \\\"bro\\\" and protocol == \\\"dns\\\" and ip_dst_port != 53\",\r\n        \"score\" : 10.0\r\n      } ],\r\n      \"aggregator\" : \"MAX\",\r\n      \"aggregationConfig\" : { }\r\n    }\r\n  },\r\n  \"configuration\" : { }\r\n}\r\n[Stellar]>>> conf := THREAT_TRIAGE_REMOVE(conf, 'Abnormal DNS Port')\r\n[!] Unable to execute: java.lang.String cannot be cast to java.util.List\r\norg.apache.metron.common.dsl.ParseException: Unable to execute: java.lang.String cannot be cast to java.util.List\r\n\tat org.apache.metron.common.stellar.StellarCompiler.getResult(StellarCompiler.java:409)\r\n\tat org.apache.metron.common.stellar.BaseStellarProcessor.parse(BaseStellarProcessor.java:127)\r\n\tat org.apache.metron.common.stellar.shell.StellarExecutor.execute(StellarExecutor.java:275)\r\n\tat org.apache.metron.common.stellar.shell.StellarShell.executeStellar(StellarShell.java:373)\r\n\tat org.apache.metron.common.stellar.shell.StellarShell.handleStellar(StellarShell.java:276)\r\n\tat org.apache.metron.common.stellar.shell.StellarShell.execute(StellarShell.java:412)\r\n\tat org.jboss.aesh.console.AeshProcess.run(AeshProcess.java:53)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: java.lang.ClassCastException: java.lang.String cannot be cast to java.util.List\r\n\tat org.apache.metron.management.ThreatTriageFunctions$RemoveStellarTransformation.apply(ThreatTriageFunctions.java:232)\r\n\tat org.apache.metron.common.stellar.StellarCompiler.exitTransformationFunc(StellarCompiler.java:267)\r\n\tat org.apache.metron.common.stellar.generated.StellarParser$TransformationFuncContext.exitRule(StellarParser.java:1689)\r\n\tat org.antlr.v4.runtime.Parser.triggerExitRuleEvent(Parser.java:422)\r\n\tat org.antlr.v4.runtime.Parser.exitRule(Parser.java:632)\r\n\tat org.apache.metron.common.stellar.generated.StellarParser.functions(StellarParser.java:1712)\r\n\tat org.apache.metron.common.stellar.generated.StellarParser.arithmetic_operands(StellarParser.java:1846)\r\n\tat org.apache.metron.common.stellar.generated.StellarParser.arithmetic_expr_mul(StellarParser.java:1609)\r\n\tat org.apache.metron.common.stellar.generated.StellarParser.arithmetic_expr(StellarParser.java:1469)\r\n\tat org.apache.metron.common.stellar.generated.StellarParser.transformation_expr(StellarParser.java:308)\r\n\tat org.apache.metron.common.stellar.generated.StellarParser.transformation(StellarParser.java:149)\r\n\tat org.apache.metron.common.stellar.BaseStellarProcessor.parse(BaseStellarProcessor.java:126)\r\n\t... 8 more\r\n[Stellar]>>> conf := THREAT_TRIAGE_REMOVE(conf, ['Abnormal DNS Port'])\r\n[Stellar]>>> conf\r\n{\r\n  \"enrichment\" : {\r\n    \"fieldMap\" : { },\r\n    \"fieldToTypeMap\" : { },\r\n    \"config\" : { }\r\n  },\r\n  \"threatIntel\" : {\r\n    \"fieldMap\" : { },\r\n    \"fieldToTypeMap\" : { },\r\n    \"config\" : { },\r\n    \"triageConfig\" : {\r\n      \"riskLevelRules\" : [ ],\r\n      \"aggregator\" : \"MAX\",\r\n      \"aggregationConfig\" : { }\r\n    }\r\n  },\r\n  \"configuration\" : { }\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/278761080/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/278766082","html_url":"https://github.com/apache/metron/pull/438#issuecomment-278766082","issue_url":"https://api.github.com/repos/apache/metron/issues/438","id":278766082,"node_id":"MDEyOklzc3VlQ29tbWVudDI3ODc2NjA4Mg==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-09T20:38:04Z","updated_at":"2017-02-09T20:38:04Z","author_association":"CONTRIBUTOR","body":"@nickwallen I've been able to repeat this, by leaving reason undefined.  Any idea why that would cause the configs to go haywire?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/278766082/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/278767144","html_url":"https://github.com/apache/metron/pull/438#issuecomment-278767144","issue_url":"https://api.github.com/repos/apache/metron/issues/438","id":278767144,"node_id":"MDEyOklzc3VlQ29tbWVudDI3ODc2NzE0NA==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-09T20:42:20Z","updated_at":"2017-02-09T20:42:20Z","author_association":"CONTRIBUTOR","body":"Seems like THREAT_TRIAGE_REMOVE just behaves really badly\r\n\r\n```\r\n[Stellar]>>> conf := THREAT_TRIAGE_ADD(conf, [triage])\r\n[Stellar]>>> conf := THREAT_TRIAGE_REMOVE(conf, 'Abnormal DNS Port')\r\n[!] Unable to execute: java.lang.String cannot be cast to java.util.List\r\norg.apache.metron.common.dsl.ParseException: Unable to execute: java.lang.String cannot be cast to java.util.List\r\n\tat org.apache.metron.common.stellar.StellarCompiler.getResult(StellarCompiler.java:409)\r\n\tat org.apache.metron.common.stellar.BaseStellarProcessor.parse(BaseStellarProcessor.java:127)\r\n\tat org.apache.metron.common.stellar.shell.StellarExecutor.execute(StellarExecutor.java:275)\r\n\tat org.apache.metron.common.stellar.shell.StellarShell.executeStellar(StellarShell.java:373)\r\n\tat org.apache.metron.common.stellar.shell.StellarShell.handleStellar(StellarShell.java:276)\r\n\tat org.apache.metron.common.stellar.shell.StellarShell.execute(StellarShell.java:412)\r\n\tat org.jboss.aesh.console.AeshProcess.run(AeshProcess.java:53)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: java.lang.ClassCastException: java.lang.String cannot be cast to java.util.List\r\n\tat org.apache.metron.management.ThreatTriageFunctions$RemoveStellarTransformation.apply(ThreatTriageFunctions.java:232)\r\n\tat org.apache.metron.common.stellar.StellarCompiler.exitTransformationFunc(StellarCompiler.java:267)\r\n\tat org.apache.metron.common.stellar.generated.StellarParser$TransformationFuncContext.exitRule(StellarParser.java:1689)\r\n\tat org.antlr.v4.runtime.Parser.triggerExitRuleEvent(Parser.java:422)\r\n\tat org.antlr.v4.runtime.Parser.exitRule(Parser.java:632)\r\n\tat org.apache.metron.common.stellar.generated.StellarParser.functions(StellarParser.java:1712)\r\n\tat org.apache.metron.common.stellar.generated.StellarParser.arithmetic_operands(StellarParser.java:1846)\r\n\tat org.apache.metron.common.stellar.generated.StellarParser.arithmetic_expr_mul(StellarParser.java:1609)\r\n\tat org.apache.metron.common.stellar.generated.StellarParser.arithmetic_expr(StellarParser.java:1469)\r\n\tat org.apache.metron.common.stellar.generated.StellarParser.transformation_expr(StellarParser.java:308)\r\n\tat org.apache.metron.common.stellar.generated.StellarParser.transformation(StellarParser.java:149)\r\n\tat org.apache.metron.common.stellar.BaseStellarProcessor.parse(BaseStellarProcessor.java:126)\r\n\t... 8 more\r\n[Stellar]>>> conf\r\n[Stellar]>>> conf\r\n[Stellar]>>> conf := THREAT_TRIAGE_REMOVE(conf, ['Abnormal DNS Port'])\r\n[Stellar]>>> conf\r\n{\r\n  \"enrichment\" : {\r\n    \"fieldMap\" : { },\r\n    \"fieldToTypeMap\" : { },\r\n    \"config\" : { }\r\n  },\r\n  \"threatIntel\" : {\r\n    \"fieldMap\" : { },\r\n    \"fieldToTypeMap\" : { },\r\n    \"config\" : { },\r\n    \"triageConfig\" : {\r\n      \"riskLevelRules\" : [ ],\r\n      \"aggregator\" : \"MAX\",\r\n      \"aggregationConfig\" : { }\r\n    }\r\n  },\r\n  \"configuration\" : { }\r\n}\r\n```\r\n\r\nI'd have to check if the same thing happens on master.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/278767144/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/278768481","html_url":"https://github.com/apache/metron/pull/438#issuecomment-278768481","issue_url":"https://api.github.com/repos/apache/metron/issues/438","id":278768481,"node_id":"MDEyOklzc3VlQ29tbWVudDI3ODc2ODQ4MQ==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-09T20:47:19Z","updated_at":"2017-02-09T20:47:19Z","author_association":"CONTRIBUTOR","body":"After talking with Casey, it's an issue with StellarShell, not this PR.  I'll make a ticket and get it done.  So feel free to ignore this issue, @nickwallen ","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/278768481/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/278782025","html_url":"https://github.com/apache/metron/pull/448#issuecomment-278782025","issue_url":"https://api.github.com/repos/apache/metron/issues/448","id":278782025,"node_id":"MDEyOklzc3VlQ29tbWVudDI3ODc4MjAyNQ==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-09T21:38:19Z","updated_at":"2017-02-09T21:38:19Z","author_association":"CONTRIBUTOR","body":"Went through the Ambari steps to point where install started running.  Version numbers look good throughout.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/278782025/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/278783308","html_url":"https://github.com/apache/metron/pull/447#issuecomment-278783308","issue_url":"https://api.github.com/repos/apache/metron/issues/447","id":278783308,"node_id":"MDEyOklzc3VlQ29tbWVudDI3ODc4MzMwOA==","user":{"login":"JonZeolla","id":1385510,"node_id":"MDQ6VXNlcjEzODU1MTA=","avatar_url":"https://avatars.githubusercontent.com/u/1385510?v=4","gravatar_id":"","url":"https://api.github.com/users/JonZeolla","html_url":"https://github.com/JonZeolla","followers_url":"https://api.github.com/users/JonZeolla/followers","following_url":"https://api.github.com/users/JonZeolla/following{/other_user}","gists_url":"https://api.github.com/users/JonZeolla/gists{/gist_id}","starred_url":"https://api.github.com/users/JonZeolla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JonZeolla/subscriptions","organizations_url":"https://api.github.com/users/JonZeolla/orgs","repos_url":"https://api.github.com/users/JonZeolla/repos","events_url":"https://api.github.com/users/JonZeolla/events{/privacy}","received_events_url":"https://api.github.com/users/JonZeolla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-09T21:43:13Z","updated_at":"2017-02-09T21:43:13Z","author_association":"MEMBER","body":"Would anybody be willing to update [this picture](https://github.com/apache/incubator-metron/blob/001b5cc5bc9ecece648730d99285de056319a07c/metron-platform/metron-enrichment/enrichment_arch.png)?  I don't believe we have MySQL doing the enrich as of [this commit](https://github.com/apache/incubator-metron/commit/fa6f3df51b881e84aa7a9525f24c627fa28ca62ecommit).","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/278783308/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/278841287","html_url":"https://github.com/apache/metron/pull/450#issuecomment-278841287","issue_url":"https://api.github.com/repos/apache/metron/issues/450","id":278841287,"node_id":"MDEyOklzc3VlQ29tbWVudDI3ODg0MTI4Nw==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-10T02:32:53Z","updated_at":"2017-02-10T02:32:53Z","author_association":"MEMBER","body":"For reviewers, please note that as this is an antlr DSL, you may skip the generated code (the java files in the `org.apache.metron.profiler.client.window.generated` package , which is the bulk of this PR.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/278841287/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/278952725","html_url":"https://github.com/apache/metron/pull/448#issuecomment-278952725","issue_url":"https://api.github.com/repos/apache/metron/issues/448","id":278952725,"node_id":"MDEyOklzc3VlQ29tbWVudDI3ODk1MjcyNQ==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-10T14:20:47Z","updated_at":"2017-02-10T14:20:47Z","author_association":"MEMBER","body":"+1 by inspection","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/278952725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/278953249","html_url":"https://github.com/apache/metron/pull/447#issuecomment-278953249","issue_url":"https://api.github.com/repos/apache/metron/issues/447","id":278953249,"node_id":"MDEyOklzc3VlQ29tbWVudDI3ODk1MzI0OQ==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-10T14:23:02Z","updated_at":"2017-02-10T14:23:02Z","author_association":"MEMBER","body":"@JonZeolla Good contribution!  Thanks a lot.  \r\n\r\nI'd go ahead and document the workaround you proposed in the dev list regarding ansible 2.0.0.2.  Also, if you don't want to modify the picture directly, I'd recommend making a separate JIRA for it and mentioning it independently on the dev list so it doesn't hold up your JIRA.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/278953249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/278954841","html_url":"https://github.com/apache/metron/pull/438#issuecomment-278954841","issue_url":"https://api.github.com/repos/apache/metron/issues/438","id":278954841,"node_id":"MDEyOklzc3VlQ29tbWVudDI3ODk1NDg0MQ==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-10T14:29:45Z","updated_at":"2017-02-10T14:29:45Z","author_association":"CONTRIBUTOR","body":"+1, Everything looks good.  As noted above, both the issue I had and the review comment were addressed by adding new Jiras and aren't needed here.\r\n\r\nThanks a lot, Nick. This is really helpful.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/278954841/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/278955449","html_url":"https://github.com/apache/metron/pull/450#issuecomment-278955449","issue_url":"https://api.github.com/repos/apache/metron/issues/450","id":278955449,"node_id":"MDEyOklzc3VlQ29tbWVudDI3ODk1NTQ0OQ==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-10T14:32:17Z","updated_at":"2017-02-10T14:32:17Z","author_association":"MEMBER","body":"I wanted to point out one thing; while this is a DSL called from a DSL (stellar), the way the parser is written, we cache the output of the parser and can reuse them for evaluation, thus saving us much of the impact of the parsing of this DSL.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/278955449/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279017123","html_url":"https://github.com/apache/metron/pull/447#issuecomment-279017123","issue_url":"https://api.github.com/repos/apache/metron/issues/447","id":279017123,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTAxNzEyMw==","user":{"login":"mattf-apache","id":908957,"node_id":"MDQ6VXNlcjkwODk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/908957?v=4","gravatar_id":"","url":"https://api.github.com/users/mattf-apache","html_url":"https://github.com/mattf-apache","followers_url":"https://api.github.com/users/mattf-apache/followers","following_url":"https://api.github.com/users/mattf-apache/following{/other_user}","gists_url":"https://api.github.com/users/mattf-apache/gists{/gist_id}","starred_url":"https://api.github.com/users/mattf-apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattf-apache/subscriptions","organizations_url":"https://api.github.com/users/mattf-apache/orgs","repos_url":"https://api.github.com/users/mattf-apache/repos","events_url":"https://api.github.com/users/mattf-apache/events{/privacy}","received_events_url":"https://api.github.com/users/mattf-apache/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-10T17:56:49Z","updated_at":"2017-02-10T17:56:49Z","author_association":"MEMBER","body":"+1 on the changes so far, by inspection.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279017123/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279023218","html_url":"https://github.com/apache/metron/pull/447#issuecomment-279023218","issue_url":"https://api.github.com/repos/apache/metron/issues/447","id":279023218,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTAyMzIxOA==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-10T18:19:42Z","updated_at":"2017-02-10T18:19:42Z","author_association":"MEMBER","body":"@JonZeolla I suggest treating the PR as it stands to be complete and tracking the ansible and image portion in a follow-on JIRA.  I'm +1 on it as it stands.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279023218/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279028354","html_url":"https://github.com/apache/metron/pull/447#issuecomment-279028354","issue_url":"https://api.github.com/repos/apache/metron/issues/447","id":279028354,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTAyODM1NA==","user":{"login":"JonZeolla","id":1385510,"node_id":"MDQ6VXNlcjEzODU1MTA=","avatar_url":"https://avatars.githubusercontent.com/u/1385510?v=4","gravatar_id":"","url":"https://api.github.com/users/JonZeolla","html_url":"https://github.com/JonZeolla","followers_url":"https://api.github.com/users/JonZeolla/followers","following_url":"https://api.github.com/users/JonZeolla/following{/other_user}","gists_url":"https://api.github.com/users/JonZeolla/gists{/gist_id}","starred_url":"https://api.github.com/users/JonZeolla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JonZeolla/subscriptions","organizations_url":"https://api.github.com/users/JonZeolla/orgs","repos_url":"https://api.github.com/users/JonZeolla/repos","events_url":"https://api.github.com/users/JonZeolla/events{/privacy}","received_events_url":"https://api.github.com/users/JonZeolla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-10T18:39:15Z","updated_at":"2017-02-10T18:39:15Z","author_association":"MEMBER","body":"Ok sounds good to me, I will split those items out to a follow-on.  This can be merged - thanks.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279028354/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279030262","html_url":"https://github.com/apache/metron/pull/438#issuecomment-279030262","issue_url":"https://api.github.com/repos/apache/metron/issues/438","id":279030262,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTAzMDI2Mg==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-10T18:45:18Z","updated_at":"2017-02-10T18:45:18Z","author_association":"MEMBER","body":"I think the only thing that's concerning me here is that we have avoided complex types in values in the past.  I believe it had to do with ES performance and the fact that not all indexes (i.e. Solr) support it.  \r\n\r\nI'd suggest flattening that `threat.triage.level` map into\r\n* `threat.triage.level.score`\r\n* `threat.triage.level.name`\r\n* `threat.triage.level.comment`\r\n* `threat.triage.level.reason`\r\n\r\nOr, alternatively, just drop the level and make it `threat.triage.score`, etc.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279030262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279034026","html_url":"https://github.com/apache/metron/pull/438#issuecomment-279034026","issue_url":"https://api.github.com/repos/apache/metron/issues/438","id":279034026,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTAzNDAyNg==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-10T18:58:32Z","updated_at":"2017-02-10T18:58:32Z","author_association":"MEMBER","body":"It occurs to me that one thing we might consider going forward is to flatten the map upon writing to the index.  We could configure the message flattening as a capability on a per-writer basis.  This would let us adjust the message representation to the index.\r\n\r\nWe already have a hook to transform the messages (the `FieldNameConverter` class). That being said, we'd have to have different hooks than just `FieldNameConverter`, which just operates on field names.  Instead, you'd need a `FieldValueConverter` as well.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279034026/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279064212","html_url":"https://github.com/apache/metron/pull/316#issuecomment-279064212","issue_url":"https://api.github.com/repos/apache/metron/issues/316","id":279064212,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTA2NDIxMg==","user":{"login":"jjmeyer0","id":721593,"node_id":"MDQ6VXNlcjcyMTU5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/721593?v=4","gravatar_id":"","url":"https://api.github.com/users/jjmeyer0","html_url":"https://github.com/jjmeyer0","followers_url":"https://api.github.com/users/jjmeyer0/followers","following_url":"https://api.github.com/users/jjmeyer0/following{/other_user}","gists_url":"https://api.github.com/users/jjmeyer0/gists{/gist_id}","starred_url":"https://api.github.com/users/jjmeyer0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jjmeyer0/subscriptions","organizations_url":"https://api.github.com/users/jjmeyer0/orgs","repos_url":"https://api.github.com/users/jjmeyer0/repos","events_url":"https://api.github.com/users/jjmeyer0/events{/privacy}","received_events_url":"https://api.github.com/users/jjmeyer0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-10T20:59:11Z","updated_at":"2017-02-10T20:59:11Z","author_association":"CONTRIBUTOR","body":"@merrimanr the builds failing due to the `Cli to CLI` change. I've hit this before. I think it's because mac is case insensitive and gets confused. To fix it, I've had to manually change the file name in github.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279064212/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279168441","html_url":"https://github.com/apache/metron/pull/451#issuecomment-279168441","issue_url":"https://api.github.com/repos/apache/metron/issues/451","id":279168441,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTE2ODQ0MQ==","user":{"login":"kylerichardson","id":10392029,"node_id":"MDQ6VXNlcjEwMzkyMDI5","avatar_url":"https://avatars.githubusercontent.com/u/10392029?v=4","gravatar_id":"","url":"https://api.github.com/users/kylerichardson","html_url":"https://github.com/kylerichardson","followers_url":"https://api.github.com/users/kylerichardson/followers","following_url":"https://api.github.com/users/kylerichardson/following{/other_user}","gists_url":"https://api.github.com/users/kylerichardson/gists{/gist_id}","starred_url":"https://api.github.com/users/kylerichardson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kylerichardson/subscriptions","organizations_url":"https://api.github.com/users/kylerichardson/orgs","repos_url":"https://api.github.com/users/kylerichardson/repos","events_url":"https://api.github.com/users/kylerichardson/events{/privacy}","received_events_url":"https://api.github.com/users/kylerichardson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-11T19:09:16Z","updated_at":"2017-02-11T19:09:16Z","author_association":"CONTRIBUTOR","body":"@simonellistonball, thanks for picking this one up! I have unassigned the JIRA from myself as I've clearly not had the time to work on it recently.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279168441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279184568","html_url":"https://github.com/apache/metron/pull/451#issuecomment-279184568","issue_url":"https://api.github.com/repos/apache/metron/issues/451","id":279184568,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTE4NDU2OA==","user":{"login":"simonellistonball","id":1217895,"node_id":"MDQ6VXNlcjEyMTc4OTU=","avatar_url":"https://avatars.githubusercontent.com/u/1217895?v=4","gravatar_id":"","url":"https://api.github.com/users/simonellistonball","html_url":"https://github.com/simonellistonball","followers_url":"https://api.github.com/users/simonellistonball/followers","following_url":"https://api.github.com/users/simonellistonball/following{/other_user}","gists_url":"https://api.github.com/users/simonellistonball/gists{/gist_id}","starred_url":"https://api.github.com/users/simonellistonball/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simonellistonball/subscriptions","organizations_url":"https://api.github.com/users/simonellistonball/orgs","repos_url":"https://api.github.com/users/simonellistonball/repos","events_url":"https://api.github.com/users/simonellistonball/events{/privacy}","received_events_url":"https://api.github.com/users/simonellistonball/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-11T23:46:02Z","updated_at":"2017-02-11T23:46:02Z","author_association":"CONTRIBUTOR","body":"@kylerichardson no problem at all, would really appreciate it if you could review, and add anything from any work you have on this. ","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279184568/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279185963","html_url":"https://github.com/apache/metron/pull/451#issuecomment-279185963","issue_url":"https://api.github.com/repos/apache/metron/issues/451","id":279185963,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTE4NTk2Mw==","user":{"login":"trixpan","id":3108527,"node_id":"MDQ6VXNlcjMxMDg1Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/3108527?v=4","gravatar_id":"","url":"https://api.github.com/users/trixpan","html_url":"https://github.com/trixpan","followers_url":"https://api.github.com/users/trixpan/followers","following_url":"https://api.github.com/users/trixpan/following{/other_user}","gists_url":"https://api.github.com/users/trixpan/gists{/gist_id}","starred_url":"https://api.github.com/users/trixpan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trixpan/subscriptions","organizations_url":"https://api.github.com/users/trixpan/orgs","repos_url":"https://api.github.com/users/trixpan/repos","events_url":"https://api.github.com/users/trixpan/events{/privacy}","received_events_url":"https://api.github.com/users/trixpan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-12T00:14:36Z","updated_at":"2017-02-12T00:14:36Z","author_association":"NONE","body":"@simonellistonball seems like the code will hit the same issue we hit in NIFI-3466? The CEF spec doesn mention but it seems like ArcSight behavior is to be able to MMM even when MMM is written with localised values for \"Short Month Name\"","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279185963/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279210404","html_url":"https://github.com/apache/metron/pull/451#issuecomment-279210404","issue_url":"https://api.github.com/repos/apache/metron/issues/451","id":279210404,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTIxMDQwNA==","user":{"login":"simonellistonball","id":1217895,"node_id":"MDQ6VXNlcjEyMTc4OTU=","avatar_url":"https://avatars.githubusercontent.com/u/1217895?v=4","gravatar_id":"","url":"https://api.github.com/users/simonellistonball","html_url":"https://github.com/simonellistonball","followers_url":"https://api.github.com/users/simonellistonball/followers","following_url":"https://api.github.com/users/simonellistonball/following{/other_user}","gists_url":"https://api.github.com/users/simonellistonball/gists{/gist_id}","starred_url":"https://api.github.com/users/simonellistonball/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simonellistonball/subscriptions","organizations_url":"https://api.github.com/users/simonellistonball/orgs","repos_url":"https://api.github.com/users/simonellistonball/repos","events_url":"https://api.github.com/users/simonellistonball/events{/privacy}","received_events_url":"https://api.github.com/users/simonellistonball/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-12T10:54:15Z","updated_at":"2017-02-12T10:54:15Z","author_association":"CONTRIBUTOR","body":"Syslog timestamp capture looks to be locale sensitive here, though all other date parsing is SimpleDateFormat based, so should be robust to locale. Do you see this issue on syslog headers?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279210404/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279211923","html_url":"https://github.com/apache/metron/pull/451#issuecomment-279211923","issue_url":"https://api.github.com/repos/apache/metron/issues/451","id":279211923,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTIxMTkyMw==","user":{"login":"trixpan","id":3108527,"node_id":"MDQ6VXNlcjMxMDg1Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/3108527?v=4","gravatar_id":"","url":"https://api.github.com/users/trixpan","html_url":"https://github.com/trixpan","followers_url":"https://api.github.com/users/trixpan/followers","following_url":"https://api.github.com/users/trixpan/following{/other_user}","gists_url":"https://api.github.com/users/trixpan/gists{/gist_id}","starred_url":"https://api.github.com/users/trixpan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trixpan/subscriptions","organizations_url":"https://api.github.com/users/trixpan/orgs","repos_url":"https://api.github.com/users/trixpan/repos","events_url":"https://api.github.com/users/trixpan/events{/privacy}","received_events_url":"https://api.github.com/users/trixpan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-12T11:25:10Z","updated_at":"2017-02-12T11:25:10Z","author_association":"NONE","body":"No.  And under RFC 3164, Syslog's Mmm is English only but this certainty is not present in the CEF spec states MMM as SimpleDateFormat and makes no reference over locale. This in theory means it should be locale agnostic. \r\n\r\n If they adopt the syslog approach, locale should not be an issue but being CEF God knows. :-) \r\n\r\nRegarding robustness, SDF should not be able to automatically recognise MMM in French on  metron cluster running under user.language=en. From the top of my head for this to occur, the code must invoke SDF specifying the locale used for parsing. \r\n\r\nThis whole localised dates shouldn't be an issue for servers, as they frequently run without locale settings but its particularly complex within multinationals operating under multiple languages. Think about all those agents insisting in using local settings when crafting CEF messages...\r\n\r\nShouldn't happen but after witnessing vendors violating their own standards I lost faith :-) \r\n\r\nBTW, I am happy to forward you whatever I get back from HPE around this issue.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279211923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279212333","html_url":"https://github.com/apache/metron/pull/451#issuecomment-279212333","issue_url":"https://api.github.com/repos/apache/metron/issues/451","id":279212333,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTIxMjMzMw==","user":{"login":"simonellistonball","id":1217895,"node_id":"MDQ6VXNlcjEyMTc4OTU=","avatar_url":"https://avatars.githubusercontent.com/u/1217895?v=4","gravatar_id":"","url":"https://api.github.com/users/simonellistonball","html_url":"https://github.com/simonellistonball","followers_url":"https://api.github.com/users/simonellistonball/followers","following_url":"https://api.github.com/users/simonellistonball/following{/other_user}","gists_url":"https://api.github.com/users/simonellistonball/gists{/gist_id}","starred_url":"https://api.github.com/users/simonellistonball/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simonellistonball/subscriptions","organizations_url":"https://api.github.com/users/simonellistonball/orgs","repos_url":"https://api.github.com/users/simonellistonball/repos","events_url":"https://api.github.com/users/simonellistonball/events{/privacy}","received_events_url":"https://api.github.com/users/simonellistonball/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-12T11:33:18Z","updated_at":"2017-02-12T11:33:18Z","author_association":"CONTRIBUTOR","body":"The joys of international date parsing, right? Seems like a the CEF standard is not the most well read among device vendors. A number of the 'from the wild' examples we've got in the tests already violate the rt standard set down by HPE, hence the DateUtils class separating the list of \"according to the standard\" and \"found in the wild\".\r\n\r\nThis feels like a much wider issue we should handle elsewhere, maybe in the new DateUtils class I introduced here. To do so properly we would have to have a way of feeding the source locale for the log feed into the parser. We should really open a discuss on the best way to do that in general, but maybe it's something bound to a general parser config (i.e. each parser can specify date locale) and this can be propagated on a general basis rather than parser to parser.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279212333/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279213521","html_url":"https://github.com/apache/metron/pull/451#issuecomment-279213521","issue_url":"https://api.github.com/repos/apache/metron/issues/451","id":279213521,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTIxMzUyMQ==","user":{"login":"trixpan","id":3108527,"node_id":"MDQ6VXNlcjMxMDg1Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/3108527?v=4","gravatar_id":"","url":"https://api.github.com/users/trixpan","html_url":"https://github.com/trixpan","followers_url":"https://api.github.com/users/trixpan/followers","following_url":"https://api.github.com/users/trixpan/following{/other_user}","gists_url":"https://api.github.com/users/trixpan/gists{/gist_id}","starred_url":"https://api.github.com/users/trixpan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trixpan/subscriptions","organizations_url":"https://api.github.com/users/trixpan/orgs","repos_url":"https://api.github.com/users/trixpan/repos","events_url":"https://api.github.com/users/trixpan/events{/privacy}","received_events_url":"https://api.github.com/users/trixpan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-12T11:56:28Z","updated_at":"2017-02-12T11:56:28Z","author_association":"NONE","body":"Yep. I would say unless HPE clarifies Mmm being English only, providing the parsers with the ability to set locale would be ideal. \r\n\r\nAnd I didn't even mentioned that they use Zzz aka the timezone representation from hell... :-) \r\n\r\nOne my favourite posts on the subject is:\r\n\r\nhttp://stackoverflow.com/a/28554443/888876\r\n\r\nWhich could be summarised by the question BST which of them? (also kindly illustrated here https://www.timeanddate.com/time/zones/) ","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279213521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279224225","html_url":"https://github.com/apache/metron/pull/451#issuecomment-279224225","issue_url":"https://api.github.com/repos/apache/metron/issues/451","id":279224225,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTIyNDIyNQ==","user":{"login":"simonellistonball","id":1217895,"node_id":"MDQ6VXNlcjEyMTc4OTU=","avatar_url":"https://avatars.githubusercontent.com/u/1217895?v=4","gravatar_id":"","url":"https://api.github.com/users/simonellistonball","html_url":"https://github.com/simonellistonball","followers_url":"https://api.github.com/users/simonellistonball/followers","following_url":"https://api.github.com/users/simonellistonball/following{/other_user}","gists_url":"https://api.github.com/users/simonellistonball/gists{/gist_id}","starred_url":"https://api.github.com/users/simonellistonball/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simonellistonball/subscriptions","organizations_url":"https://api.github.com/users/simonellistonball/orgs","repos_url":"https://api.github.com/users/simonellistonball/repos","events_url":"https://api.github.com/users/simonellistonball/events{/privacy}","received_events_url":"https://api.github.com/users/simonellistonball/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-12T15:03:41Z","updated_at":"2017-02-12T15:03:41Z","author_association":"CONTRIBUTOR","body":"Agreed, let's pull the date discussion into a wider forum. Apart from this, is there anything else you see in this parser specifically to block merging?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279224225/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279232149","html_url":"https://github.com/apache/metron/pull/447#issuecomment-279232149","issue_url":"https://api.github.com/repos/apache/metron/issues/447","id":279232149,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTIzMjE0OQ==","user":{"login":"simonellistonball","id":1217895,"node_id":"MDQ6VXNlcjEyMTc4OTU=","avatar_url":"https://avatars.githubusercontent.com/u/1217895?v=4","gravatar_id":"","url":"https://api.github.com/users/simonellistonball","html_url":"https://github.com/simonellistonball","followers_url":"https://api.github.com/users/simonellistonball/followers","following_url":"https://api.github.com/users/simonellistonball/following{/other_user}","gists_url":"https://api.github.com/users/simonellistonball/gists{/gist_id}","starred_url":"https://api.github.com/users/simonellistonball/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simonellistonball/subscriptions","organizations_url":"https://api.github.com/users/simonellistonball/orgs","repos_url":"https://api.github.com/users/simonellistonball/repos","events_url":"https://api.github.com/users/simonellistonball/events{/privacy}","received_events_url":"https://api.github.com/users/simonellistonball/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-12T17:05:14Z","updated_at":"2017-02-12T17:05:14Z","author_association":"CONTRIBUTOR","body":"Diagram updated in https://github.com/apache/incubator-metron/pull/452","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279232149/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279268058","html_url":"https://github.com/apache/metron/pull/451#issuecomment-279268058","issue_url":"https://api.github.com/repos/apache/metron/issues/451","id":279268058,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTI2ODA1OA==","user":{"login":"trixpan","id":3108527,"node_id":"MDQ6VXNlcjMxMDg1Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/3108527?v=4","gravatar_id":"","url":"https://api.github.com/users/trixpan","html_url":"https://github.com/trixpan","followers_url":"https://api.github.com/users/trixpan/followers","following_url":"https://api.github.com/users/trixpan/following{/other_user}","gists_url":"https://api.github.com/users/trixpan/gists{/gist_id}","starred_url":"https://api.github.com/users/trixpan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trixpan/subscriptions","organizations_url":"https://api.github.com/users/trixpan/orgs","repos_url":"https://api.github.com/users/trixpan/repos","events_url":"https://api.github.com/users/trixpan/events{/privacy}","received_events_url":"https://api.github.com/users/trixpan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-13T00:14:16Z","updated_at":"2017-02-13T00:14:31Z","author_association":"NONE","body":"Seems ok to me.\r\n\r\nThe only last comment that certainly is not a blocker (and if I read the code correctly, is already addressed [here](https://github.com/apache/incubator-metron/pull/451/files#diff-5100b5d781b88b14f7335b604268905aR44) ) is to add escaped '='  to one of extension fields used in test as this is a quite common pattern and covered by specific escaping rules:\r\n\r\n> If an equal sign (=) is used in the extensions, it has to be escaped with a backslash (\\). Equal signs in\r\n> the header need no escaping. ","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279268058/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279278337","html_url":"https://github.com/apache/metron/pull/452#issuecomment-279278337","issue_url":"https://api.github.com/repos/apache/metron/issues/452","id":279278337,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTI3ODMzNw==","user":{"login":"james-sirota","id":4854764,"node_id":"MDQ6VXNlcjQ4NTQ3NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/4854764?v=4","gravatar_id":"","url":"https://api.github.com/users/james-sirota","html_url":"https://github.com/james-sirota","followers_url":"https://api.github.com/users/james-sirota/followers","following_url":"https://api.github.com/users/james-sirota/following{/other_user}","gists_url":"https://api.github.com/users/james-sirota/gists{/gist_id}","starred_url":"https://api.github.com/users/james-sirota/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/james-sirota/subscriptions","organizations_url":"https://api.github.com/users/james-sirota/orgs","repos_url":"https://api.github.com/users/james-sirota/repos","events_url":"https://api.github.com/users/james-sirota/events{/privacy}","received_events_url":"https://api.github.com/users/james-sirota/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-13T02:13:13Z","updated_at":"2017-02-13T02:13:13Z","author_association":"NONE","body":"+1 by inspection. thanks for catching this, simon ","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279278337/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279281609","html_url":"https://github.com/apache/metron/pull/451#issuecomment-279281609","issue_url":"https://api.github.com/repos/apache/metron/issues/451","id":279281609,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTI4MTYwOQ==","user":{"login":"james-sirota","id":4854764,"node_id":"MDQ6VXNlcjQ4NTQ3NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/4854764?v=4","gravatar_id":"","url":"https://api.github.com/users/james-sirota","html_url":"https://github.com/james-sirota","followers_url":"https://api.github.com/users/james-sirota/followers","following_url":"https://api.github.com/users/james-sirota/following{/other_user}","gists_url":"https://api.github.com/users/james-sirota/gists{/gist_id}","starred_url":"https://api.github.com/users/james-sirota/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/james-sirota/subscriptions","organizations_url":"https://api.github.com/users/james-sirota/orgs","repos_url":"https://api.github.com/users/james-sirota/repos","events_url":"https://api.github.com/users/james-sirota/events{/privacy}","received_events_url":"https://api.github.com/users/james-sirota/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-13T02:42:26Z","updated_at":"2017-02-13T02:42:26Z","author_association":"NONE","body":"+1 via inspection.  This is a great contribution. Thanks, Simon.  I think it would be nice to get more test data from different instances of Arcsight.  Does anyone in the community have access to this data set?  This is the official CEF spec. chrome-extension://ihgdgpjankaehldoaimdlekdidkjfghe/viewer.html#https://www.protect724.hpe.com/servlet/JiveServlet/downloadBody/1072-102-9-20354/CommonEventFormatv23.pdf Would be nice to find a test set that covers most of this. ","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279281609/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279282782","html_url":"https://github.com/apache/metron/pull/450#issuecomment-279282782","issue_url":"https://api.github.com/repos/apache/metron/issues/450","id":279282782,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTI4Mjc4Mg==","user":{"login":"james-sirota","id":4854764,"node_id":"MDQ6VXNlcjQ4NTQ3NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/4854764?v=4","gravatar_id":"","url":"https://api.github.com/users/james-sirota","html_url":"https://github.com/james-sirota","followers_url":"https://api.github.com/users/james-sirota/followers","following_url":"https://api.github.com/users/james-sirota/following{/other_user}","gists_url":"https://api.github.com/users/james-sirota/gists{/gist_id}","starred_url":"https://api.github.com/users/james-sirota/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/james-sirota/subscriptions","organizations_url":"https://api.github.com/users/james-sirota/orgs","repos_url":"https://api.github.com/users/james-sirota/repos","events_url":"https://api.github.com/users/james-sirota/events{/privacy}","received_events_url":"https://api.github.com/users/james-sirota/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-13T02:52:45Z","updated_at":"2017-02-13T02:53:03Z","author_association":"NONE","body":"I think the API looks great.  Can we provide a grammar in the README for constructing the PROFILE_WINDOW function?  I think the API is so flexible that it may be hard to wrap your head around how to construct the profile retrieve string ","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279282782/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279283258","html_url":"https://github.com/apache/metron/pull/450#issuecomment-279283258","issue_url":"https://api.github.com/repos/apache/metron/issues/450","id":279283258,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTI4MzI1OA==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-13T02:57:18Z","updated_at":"2017-02-13T02:57:18Z","author_association":"MEMBER","body":"The Readme additions were intended to break the expressions down into the possible phrases.  Do you think those sections need to be structured differently?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279283258/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279285190","html_url":"https://github.com/apache/metron/pull/450#issuecomment-279285190","issue_url":"https://api.github.com/repos/apache/metron/issues/450","id":279285190,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTI4NTE5MA==","user":{"login":"james-sirota","id":4854764,"node_id":"MDQ6VXNlcjQ4NTQ3NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/4854764?v=4","gravatar_id":"","url":"https://api.github.com/users/james-sirota","html_url":"https://github.com/james-sirota","followers_url":"https://api.github.com/users/james-sirota/followers","following_url":"https://api.github.com/users/james-sirota/following{/other_user}","gists_url":"https://api.github.com/users/james-sirota/gists{/gist_id}","starred_url":"https://api.github.com/users/james-sirota/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/james-sirota/subscriptions","organizations_url":"https://api.github.com/users/james-sirota/orgs","repos_url":"https://api.github.com/users/james-sirota/repos","events_url":"https://api.github.com/users/james-sirota/events{/privacy}","received_events_url":"https://api.github.com/users/james-sirota/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-13T03:15:33Z","updated_at":"2017-02-13T03:16:15Z","author_association":"NONE","body":"I think taking the string as an argument is really powerful, but it's also really flexible.  \"1 hour window every 24 hours starting from 14 days ago including the current day of the week excluding weekends, holidays:us\" is a really long string.  I was thinking maybe define a grammar to look something like:\r\n\r\n cmd = <window_duration> <window_period> <window_limit> <window_inclusions> <window_exlcusions> <holidays_spec>\r\n<window_duration> = number <unit_spec>\r\n<unit_spec> = MINUTS|HOURS|DAYS\r\n\r\n...or something like that...a grammar for constructing this string ","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279285190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279286728","html_url":"https://github.com/apache/metron/pull/438#issuecomment-279286728","issue_url":"https://api.github.com/repos/apache/metron/issues/438","id":279286728,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTI4NjcyOA==","user":{"login":"james-sirota","id":4854764,"node_id":"MDQ6VXNlcjQ4NTQ3NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/4854764?v=4","gravatar_id":"","url":"https://api.github.com/users/james-sirota","html_url":"https://github.com/james-sirota","followers_url":"https://api.github.com/users/james-sirota/followers","following_url":"https://api.github.com/users/james-sirota/following{/other_user}","gists_url":"https://api.github.com/users/james-sirota/gists{/gist_id}","starred_url":"https://api.github.com/users/james-sirota/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/james-sirota/subscriptions","organizations_url":"https://api.github.com/users/james-sirota/orgs","repos_url":"https://api.github.com/users/james-sirota/repos","events_url":"https://api.github.com/users/james-sirota/events{/privacy}","received_events_url":"https://api.github.com/users/james-sirota/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-13T03:30:20Z","updated_at":"2017-02-13T03:30:20Z","author_association":"NONE","body":"I think a better approach is to bake in an enforcement layer within Metron to only allow flat maps (key-value pairs where the value cannot be a complex object).  You would enforce that in the parsers as well as enrichers. ","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279286728/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279300359","html_url":"https://github.com/apache/metron/pull/451#issuecomment-279300359","issue_url":"https://api.github.com/repos/apache/metron/issues/451","id":279300359,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTMwMDM1OQ==","user":{"login":"trixpan","id":3108527,"node_id":"MDQ6VXNlcjMxMDg1Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/3108527?v=4","gravatar_id":"","url":"https://api.github.com/users/trixpan","html_url":"https://github.com/trixpan","followers_url":"https://api.github.com/users/trixpan/followers","following_url":"https://api.github.com/users/trixpan/following{/other_user}","gists_url":"https://api.github.com/users/trixpan/gists{/gist_id}","starred_url":"https://api.github.com/users/trixpan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trixpan/subscriptions","organizations_url":"https://api.github.com/users/trixpan/orgs","repos_url":"https://api.github.com/users/trixpan/repos","events_url":"https://api.github.com/users/trixpan/events{/privacy}","received_events_url":"https://api.github.com/users/trixpan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-13T05:53:52Z","updated_at":"2017-02-13T05:53:52Z","author_association":"NONE","body":"@james-sirota these are synthetic but should cover all valid field types:\r\n\r\nhttps://github.com/apache/nifi/blob/master/nifi-nar-bundles/nifi-standard-bundle/nifi-standard-processors/src/test/java/org/apache/nifi/processors/standard/TestParseCEF.java#L37\r\n\r\nhttps://github.com/apache/nifi/blob/master/nifi-nar-bundles/nifi-standard-bundle/nifi-standard-processors/src/test/java/org/apache/nifi/processors/standard/TestParseCEF.java#L51\r\n\r\nAnd this may help you as well, although if I recall correctly, the fireeye CMS had some minor non compliances to the CEF spec.\r\n\r\nhttps://github.com/apache/incubator-metron/blob/4a4cb8b117dbb66bbfb4915bca9d871a06682c28/metron-platform/metron-integration-test/src/main/sample/data/SampleInput/FireeyeExampleOutput#L6\r\n\r\nWorth of notice:\r\n\r\n1. Be mindfull that downstream ArcSight data will contain fields not present in the CEF specficiation. These are internal to ArcSight and to the best of my knowledge not openly documented. \r\n\r\nAn example of such fields can be found [here](https://my.vertica.com/docs/7.1.x/HTML/Content/Authoring/FlexTables/LoadCEFData.htm):\r\n\r\n```\r\nCEF:0|ArcSight|ArcSight|6.0.3.6664.0|agent:030|Agent [test] type [testalertng] started|Low| \r\neventId=1 mrt=1396328238973 categorySignificance=/Normal categoryBehavior=/Execute/Start \r\ncategoryDeviceGroup=/Application catdt=Security Mangement categoryOutcome=/Success \r\ncategoryObject=/Host/Application/Service art=1396328241038 cat=/Agent/Started \r\ndeviceSeverity=Warning rt=1396328238937 fileType=Agent \r\ncs2=<Resource ID\\=\"3DxKlG0UBABCAA0cXXAZIwA\\=\\=\"/> c6a4=fe80:0:0:0:495d:cc3c:db1a:de71 \r\ncs2Label=Configuration Resource c6a4Label=Agent \r\nIPv6 Address ahost=SKEELES10 agt=888.99.100.1 agentZoneURI=/All Zones/ArcSight \r\nSystem/Private Address Space \r\nZones/RFC1918: 888.99.0.0-888.200.255.255 av=6.0.3.6664.0 atz=Australia/Sydney \r\naid=3DxKlG0UBABCAA0cXXAZIwA\\=\\= at=testalertng dvchost=SKEELES10 dvc=888.99.100.1 \r\ndeviceZoneURI=/All Zones/ArcSight System/Private Address Space Zones/RFC1918: \r\n888.99.0.0-888.200.255.255 dtz=Australia/Sydney _cefVer=0.1\r\n```\r\n\r\n\r\n2. Nearly every CEF extension field has both type and length requirements which we may want to address in due course. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279300359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279359518","html_url":"https://github.com/apache/metron/pull/400#issuecomment-279359518","issue_url":"https://api.github.com/repos/apache/metron/issues/400","id":279359518,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTM1OTUxOA==","user":{"login":"anandsubbu","id":20395490,"node_id":"MDQ6VXNlcjIwMzk1NDkw","avatar_url":"https://avatars.githubusercontent.com/u/20395490?v=4","gravatar_id":"","url":"https://api.github.com/users/anandsubbu","html_url":"https://github.com/anandsubbu","followers_url":"https://api.github.com/users/anandsubbu/followers","following_url":"https://api.github.com/users/anandsubbu/following{/other_user}","gists_url":"https://api.github.com/users/anandsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/anandsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anandsubbu/subscriptions","organizations_url":"https://api.github.com/users/anandsubbu/orgs","repos_url":"https://api.github.com/users/anandsubbu/repos","events_url":"https://api.github.com/users/anandsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/anandsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-13T11:19:48Z","updated_at":"2017-02-13T11:19:48Z","author_association":"CONTRIBUTOR","body":"Hi @JonZeolla , sure. I will go ahead and revert the change that you did for the case block, just the if-else block per my earlier change and then you could create a separate PR.  Please let me know if that works.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279359518/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279360585","html_url":"https://github.com/apache/metron/pull/400#issuecomment-279360585","issue_url":"https://api.github.com/repos/apache/metron/issues/400","id":279360585,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTM2MDU4NQ==","user":{"login":"JonZeolla","id":1385510,"node_id":"MDQ6VXNlcjEzODU1MTA=","avatar_url":"https://avatars.githubusercontent.com/u/1385510?v=4","gravatar_id":"","url":"https://api.github.com/users/JonZeolla","html_url":"https://github.com/JonZeolla","followers_url":"https://api.github.com/users/JonZeolla/followers","following_url":"https://api.github.com/users/JonZeolla/following{/other_user}","gists_url":"https://api.github.com/users/JonZeolla/gists{/gist_id}","starred_url":"https://api.github.com/users/JonZeolla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JonZeolla/subscriptions","organizations_url":"https://api.github.com/users/JonZeolla/orgs","repos_url":"https://api.github.com/users/JonZeolla/repos","events_url":"https://api.github.com/users/JonZeolla/events{/privacy}","received_events_url":"https://api.github.com/users/JonZeolla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-13T11:25:15Z","updated_at":"2017-02-13T11:25:15Z","author_association":"MEMBER","body":"If it's OK with the mentors, I don't mind if you just co-opt that commit.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279360585/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279390439","html_url":"https://github.com/apache/metron/pull/453#issuecomment-279390439","issue_url":"https://api.github.com/repos/apache/metron/issues/453","id":279390439,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTM5MDQzOQ==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-13T13:21:00Z","updated_at":"2017-02-13T13:21:00Z","author_association":"MEMBER","body":"Did you name this PR correctly?  Should it be METRON-695?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279390439/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279391537","html_url":"https://github.com/apache/metron/pull/453#issuecomment-279391537","issue_url":"https://api.github.com/repos/apache/metron/issues/453","id":279391537,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTM5MTUzNw==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-13T13:26:12Z","updated_at":"2017-02-13T13:26:12Z","author_association":"CONTRIBUTOR","body":"METRON-694 includes both the topology changes and the Ambari MPack changes.  I started on METRON-695 but decided to include both in a single PR, hence the branch being named METRON-695 but the PR name referencing METRON-694.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279391537/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279393600","html_url":"https://github.com/apache/metron/pull/453#issuecomment-279393600","issue_url":"https://api.github.com/repos/apache/metron/issues/453","id":279393600,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTM5MzYwMA==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-13T13:33:53Z","updated_at":"2017-02-13T13:33:53Z","author_association":"MEMBER","body":"Can you provide an acceptance test plan for validation on vagrant or a cluster?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279393600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279394077","html_url":"https://github.com/apache/metron/pull/453#issuecomment-279394077","issue_url":"https://api.github.com/repos/apache/metron/issues/453","id":279394077,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTM5NDA3Nw==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-13T13:35:44Z","updated_at":"2017-02-13T13:35:44Z","author_association":"MEMBER","body":"Whoops sorry I see that you did mention a way to test it out.  Sorry, on a phone ;)","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279394077/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279395381","html_url":"https://github.com/apache/metron/pull/453#issuecomment-279395381","issue_url":"https://api.github.com/repos/apache/metron/issues/453","id":279395381,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTM5NTM4MQ==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-13T13:41:56Z","updated_at":"2017-02-13T13:41:56Z","author_association":"MEMBER","body":"So from what I see we have a new topology and every error message has a source type of \"error\", correct?  Is there any reason we didn't just use the normal indexing topology and index errors with the usual messages?  Presumably their volume will be small.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279395381/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279396406","html_url":"https://github.com/apache/metron/pull/453#issuecomment-279396406","issue_url":"https://api.github.com/repos/apache/metron/issues/453","id":279396406,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTM5NjQwNg==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-13T13:46:46Z","updated_at":"2017-02-13T13:46:46Z","author_association":"CONTRIBUTOR","body":"No you are correct, we need a more comprehensive test plan.  I'm still thinking about it.  Triggering errors at each point in the topologies is not straightforward.  Sending in a message that won't parse is an easy one and will cover a lot but it won't test everything.  \n\n> On Feb 13, 2017, at 7:35 AM, Casey Stella <notifications@github.com> wrote:\n> \n> Whoops sorry I see that you did mention a way to test it out. Sorry, on a phone ;)\n> \n> \n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub, or mute the thread.\n> \n","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279396406/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279397343","html_url":"https://github.com/apache/metron/pull/453#issuecomment-279397343","issue_url":"https://api.github.com/repos/apache/metron/issues/453","id":279397343,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTM5NzM0Mw==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-13T13:50:48Z","updated_at":"2017-02-13T13:50:48Z","author_association":"MEMBER","body":"Based on this PR, what I'd probably do is:\r\n* Walk through setting up the CSV parser\r\n* Set up a field validation\r\n* Send valid data through, make sure it works and is in the index\r\n* Send data which is syntactically correct but fails validation verify that it handles that correctly\r\n  * where does invalid data go in this new setup?  I notice some changes in that part of the code.\r\n* Send syntactically incorrect data through and verify that it fails that\r\n  * send 4 messages through and verify nothing is written\r\n  * send the 5th and verify that it is written and that the write configs are honored for indexing","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279397343/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279397350","html_url":"https://github.com/apache/metron/pull/452#issuecomment-279397350","issue_url":"https://api.github.com/repos/apache/metron/issues/452","id":279397350,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTM5NzM1MA==","user":{"login":"JonZeolla","id":1385510,"node_id":"MDQ6VXNlcjEzODU1MTA=","avatar_url":"https://avatars.githubusercontent.com/u/1385510?v=4","gravatar_id":"","url":"https://api.github.com/users/JonZeolla","html_url":"https://github.com/JonZeolla","followers_url":"https://api.github.com/users/JonZeolla/followers","following_url":"https://api.github.com/users/JonZeolla/following{/other_user}","gists_url":"https://api.github.com/users/JonZeolla/gists{/gist_id}","starred_url":"https://api.github.com/users/JonZeolla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JonZeolla/subscriptions","organizations_url":"https://api.github.com/users/JonZeolla/orgs","repos_url":"https://api.github.com/users/JonZeolla/repos","events_url":"https://api.github.com/users/JonZeolla/events{/privacy}","received_events_url":"https://api.github.com/users/JonZeolla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-13T13:50:51Z","updated_at":"2017-02-14T03:41:35Z","author_association":"MEMBER","body":"Please rename the PR to \"Metron-715: Enrichment Diagram still includes MySQL, which is no longer used\".  Also +1 (non-binding) by inspection after the name change","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279397350/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279403996","html_url":"https://github.com/apache/metron/pull/453#issuecomment-279403996","issue_url":"https://api.github.com/repos/apache/metron/issues/453","id":279403996,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTQwMzk5Ng==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-13T14:17:41Z","updated_at":"2017-02-13T14:17:41Z","author_association":"CONTRIBUTOR","body":"Just real quick before I start to review:\r\n\r\n- What are the performance implications of this?  How can we measure that?\r\n- What is the effect of running this on quick dev?  is it to be enabled by default or disabled for load/performance?\r\n- Does this run in Docker?\r\n- I don't see any documentation changes. What needs to be done, should it be in this or another PR? \r\n","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279403996/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279460009","html_url":"https://github.com/apache/metron/pull/453#issuecomment-279460009","issue_url":"https://api.github.com/repos/apache/metron/issues/453","id":279460009,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTQ2MDAwOQ==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-13T17:23:19Z","updated_at":"2017-02-13T17:23:19Z","author_association":"CONTRIBUTOR","body":"Sorry I should have included this in the original description.  I still need to update the various READMEs, that task is outstanding and this should not be merged until that is done.  This is a big PR so I want to get further along in the review process so I don't have to rewrite the documentation several times.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279460009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279463784","html_url":"https://github.com/apache/metron/pull/453#issuecomment-279463784","issue_url":"https://api.github.com/repos/apache/metron/issues/453","id":279463784,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTQ2Mzc4NA==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-13T17:36:42Z","updated_at":"2017-02-13T17:36:42Z","author_association":"CONTRIBUTOR","body":"That makes complete sense, we should call that stuff out pre-review.  I think what we are seeing is that folks have some really good ideas and are willing to contribute to documentation on this project, we should take advantage.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279463784/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279466688","html_url":"https://github.com/apache/metron/pull/453#issuecomment-279466688","issue_url":"https://api.github.com/repos/apache/metron/issues/453","id":279466688,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTQ2NjY4OA==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-13T17:46:43Z","updated_at":"2017-02-13T17:46:43Z","author_association":"CONTRIBUTOR","body":"In response to \"Is there any reason we didn't just use the normal indexing topology\".  Here are the issues I see with doing that.  First, I think we should be careful about putting additional load on the indexing topology.  For parser errors I think it's a wash, an error gets indexed with the original message instead of the parsed message.  But for enrichment errors, new error messages are generated and passed along.  If we send all errors and messages to the same indexing topology a burst of errors could affect the latency of other messages.\r\n\r\nHere is another scenario that could cause problems.  Imagine a message fails to index and an error is thrown in the indexing topology.  If we send all errors and messages to the same topology, that error could be replayed in the indexing topology over and over.  We could add some logic to keep that from happening but now writer bolts are more complex and specific to the indexing topology.  You will notice the error indexing topology is different in that it does not write back out to Kafka.\r\n\r\nI feel like by mixing error messages and legitimate messages we are asking for trouble.  Having them separate allows us to tune the topologies separately and avoid the problems I mention above. Tuning the indexing topology as it stands now is challenging enough.  I can understand not wanting to allocate additional worker slots though.  Maybe I am being too conservative.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279466688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279467666","html_url":"https://github.com/apache/metron/pull/453#issuecomment-279467666","issue_url":"https://api.github.com/repos/apache/metron/issues/453","id":279467666,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTQ2NzY2Ng==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-13T17:50:13Z","updated_at":"2017-02-13T17:50:13Z","author_association":"CONTRIBUTOR","body":"On the topic of invalid messages, they are now treated as error messages.  They can still be distinguished as invalid message though.  Is there any reason they should be treated differently?  As mentioned above, it's easy enough to change the source.type and add an indexing config.\r\n\r\nIs there a case where source.type is not error?  If so then that is a mistake.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279467666/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279472811","html_url":"https://github.com/apache/metron/pull/453#issuecomment-279472811","issue_url":"https://api.github.com/repos/apache/metron/issues/453","id":279472811,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTQ3MjgxMQ==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-13T18:07:32Z","updated_at":"2017-02-13T18:07:32Z","author_association":"CONTRIBUTOR","body":"What comes to mind is the 'source' of an error.  Is this error wrong because METRON thinks it is invalid, or it it wrong because of some other configuration specific evaluation.  I don't think we do this now with stellar   (   IF (BUSINESS_RULE(rule_valid_field,field1) == FALSE) DROP_ERROR()) however.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279472811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279493617","html_url":"https://github.com/apache/metron/pull/453#issuecomment-279493617","issue_url":"https://api.github.com/repos/apache/metron/issues/453","id":279493617,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTQ5MzYxNw==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-13T19:20:20Z","updated_at":"2017-02-13T19:20:20Z","author_association":"CONTRIBUTOR","body":"@cestella - how can we utilize the error indexing if we were going to say - output errors or warnings that there were deprecated stellar statements?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279493617/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279523435","html_url":"https://github.com/apache/metron/pull/438#issuecomment-279523435","issue_url":"https://api.github.com/repos/apache/metron/issues/438","id":279523435,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTUyMzQzNQ==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-13T21:10:51Z","updated_at":"2017-02-13T21:10:51Z","author_association":"CONTRIBUTOR","body":"I think it is much cleaner to transform at the indexer, per the requirements of the index destination. Otherwise, we will be forced to adhere to the lowest common denominator of index destinations that we happen to support at any point in time.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279523435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279528502","html_url":"https://github.com/apache/metron/pull/438#issuecomment-279528502","issue_url":"https://api.github.com/repos/apache/metron/issues/438","id":279528502,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTUyODUwMg==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-13T21:30:00Z","updated_at":"2017-02-13T21:30:00Z","author_association":"CONTRIBUTOR","body":"I would be open to flattening if we have some sort of convention, but it's just not ideal. Much easier to grok like it is in my opinion.\r\n\r\nQ: If we do have this convention, is it documented somewhere? I want to make sure I am not breaking other conventions.\r\n\r\nQ. Is it worthwhile to move in the direction of supporting complex types?\r\n\r\nQ. Is Solr the only problem with complex types that we know of? I would like to open a JIRA to move toward complex types (assuming we agree that complex types are a good thing.)","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279528502/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279599774","html_url":"https://github.com/apache/metron/pull/454#issuecomment-279599774","issue_url":"https://api.github.com/repos/apache/metron/issues/454","id":279599774,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTU5OTc3NA==","user":{"login":"JonZeolla","id":1385510,"node_id":"MDQ6VXNlcjEzODU1MTA=","avatar_url":"https://avatars.githubusercontent.com/u/1385510?v=4","gravatar_id":"","url":"https://api.github.com/users/JonZeolla","html_url":"https://github.com/JonZeolla","followers_url":"https://api.github.com/users/JonZeolla/followers","following_url":"https://api.github.com/users/JonZeolla/following{/other_user}","gists_url":"https://api.github.com/users/JonZeolla/gists{/gist_id}","starred_url":"https://api.github.com/users/JonZeolla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JonZeolla/subscriptions","organizations_url":"https://api.github.com/users/JonZeolla/orgs","repos_url":"https://api.github.com/users/JonZeolla/repos","events_url":"https://api.github.com/users/JonZeolla/events{/privacy}","received_events_url":"https://api.github.com/users/JonZeolla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-14T03:44:11Z","updated_at":"2017-02-14T17:41:34Z","author_association":"MEMBER","body":"+1 (non-binding) by inspection.  Thanks for putting this together Otto, good catch.\r\n\r\nOn a related note, it looks like Travis is either backed up or having an issue.  Another PR which is a couple of hours old also hasn't started yet.\r\n\r\n*EDIT*:  It appears there were no issues with the build, it just took a little while.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279599774/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279623199","html_url":"https://github.com/apache/metron/pull/400#issuecomment-279623199","issue_url":"https://api.github.com/repos/apache/metron/issues/400","id":279623199,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTYyMzE5OQ==","user":{"login":"anandsubbu","id":20395490,"node_id":"MDQ6VXNlcjIwMzk1NDkw","avatar_url":"https://avatars.githubusercontent.com/u/20395490?v=4","gravatar_id":"","url":"https://api.github.com/users/anandsubbu","html_url":"https://github.com/anandsubbu","followers_url":"https://api.github.com/users/anandsubbu/followers","following_url":"https://api.github.com/users/anandsubbu/following{/other_user}","gists_url":"https://api.github.com/users/anandsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/anandsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anandsubbu/subscriptions","organizations_url":"https://api.github.com/users/anandsubbu/orgs","repos_url":"https://api.github.com/users/anandsubbu/repos","events_url":"https://api.github.com/users/anandsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/anandsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-14T06:53:29Z","updated_at":"2017-02-14T06:53:29Z","author_association":"CONTRIBUTOR","body":"Hi @nickwallen , could you please merge the PR by retaining @JonZeolla as the co-opt for this commit?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279623199/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279676002","html_url":"https://github.com/apache/metron/pull/400#issuecomment-279676002","issue_url":"https://api.github.com/repos/apache/metron/issues/400","id":279676002,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTY3NjAwMg==","user":{"login":"JonZeolla","id":1385510,"node_id":"MDQ6VXNlcjEzODU1MTA=","avatar_url":"https://avatars.githubusercontent.com/u/1385510?v=4","gravatar_id":"","url":"https://api.github.com/users/JonZeolla","html_url":"https://github.com/JonZeolla","followers_url":"https://api.github.com/users/JonZeolla/followers","following_url":"https://api.github.com/users/JonZeolla/following{/other_user}","gists_url":"https://api.github.com/users/JonZeolla/gists{/gist_id}","starred_url":"https://api.github.com/users/JonZeolla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JonZeolla/subscriptions","organizations_url":"https://api.github.com/users/JonZeolla/orgs","repos_url":"https://api.github.com/users/JonZeolla/repos","events_url":"https://api.github.com/users/JonZeolla/events{/privacy}","received_events_url":"https://api.github.com/users/JonZeolla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-14T10:57:21Z","updated_at":"2017-02-14T10:57:21Z","author_association":"MEMBER","body":"To clarify, I'm giving permission to merge and squash everything into a commit from @anandsubbu without attributing anything to me.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279676002/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279788459","html_url":"https://github.com/apache/metron/pull/454#issuecomment-279788459","issue_url":"https://api.github.com/repos/apache/metron/issues/454","id":279788459,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTc4ODQ1OQ==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-14T18:12:47Z","updated_at":"2017-02-14T18:12:47Z","author_association":"CONTRIBUTOR","body":"@mattf-horton are you ok on this after the revisions?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279788459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279917364","html_url":"https://github.com/apache/metron/pull/454#issuecomment-279917364","issue_url":"https://api.github.com/repos/apache/metron/issues/454","id":279917364,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTkxNzM2NA==","user":{"login":"mattf-apache","id":908957,"node_id":"MDQ6VXNlcjkwODk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/908957?v=4","gravatar_id":"","url":"https://api.github.com/users/mattf-apache","html_url":"https://github.com/mattf-apache","followers_url":"https://api.github.com/users/mattf-apache/followers","following_url":"https://api.github.com/users/mattf-apache/following{/other_user}","gists_url":"https://api.github.com/users/mattf-apache/gists{/gist_id}","starred_url":"https://api.github.com/users/mattf-apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattf-apache/subscriptions","organizations_url":"https://api.github.com/users/mattf-apache/orgs","repos_url":"https://api.github.com/users/mattf-apache/repos","events_url":"https://api.github.com/users/mattf-apache/events{/privacy}","received_events_url":"https://api.github.com/users/mattf-apache/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-15T04:58:45Z","updated_at":"2017-02-15T04:58:45Z","author_association":"MEMBER","body":"+1 More than okay!  This is great, thanks for doing it.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279917364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279983369","html_url":"https://github.com/apache/metron/pull/455#issuecomment-279983369","issue_url":"https://api.github.com/repos/apache/metron/issues/455","id":279983369,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTk4MzM2OQ==","user":{"login":"JonZeolla","id":1385510,"node_id":"MDQ6VXNlcjEzODU1MTA=","avatar_url":"https://avatars.githubusercontent.com/u/1385510?v=4","gravatar_id":"","url":"https://api.github.com/users/JonZeolla","html_url":"https://github.com/JonZeolla","followers_url":"https://api.github.com/users/JonZeolla/followers","following_url":"https://api.github.com/users/JonZeolla/following{/other_user}","gists_url":"https://api.github.com/users/JonZeolla/gists{/gist_id}","starred_url":"https://api.github.com/users/JonZeolla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JonZeolla/subscriptions","organizations_url":"https://api.github.com/users/JonZeolla/orgs","repos_url":"https://api.github.com/users/JonZeolla/repos","events_url":"https://api.github.com/users/JonZeolla/events{/privacy}","received_events_url":"https://api.github.com/users/JonZeolla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-15T11:11:37Z","updated_at":"2017-02-15T11:11:37Z","author_association":"MEMBER","body":"Nice catch.  When I get to my laptop I'll throw you a PR with some of my standard bash script features, since it's getting modified anyway.  Just a couple of minor things.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279983369/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/279985274","html_url":"https://github.com/apache/metron/pull/452#issuecomment-279985274","issue_url":"https://api.github.com/repos/apache/metron/issues/452","id":279985274,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTk4NTI3NA==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-15T11:21:17Z","updated_at":"2017-02-15T11:21:17Z","author_association":"CONTRIBUTOR","body":"Please rename the PR to start with \"METRON-715\".  Then we can land this","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/279985274/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/280023650","html_url":"https://github.com/apache/metron/pull/456#issuecomment-280023650","issue_url":"https://api.github.com/repos/apache/metron/issues/456","id":280023650,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDAyMzY1MA==","user":{"login":"jjmeyer0","id":721593,"node_id":"MDQ6VXNlcjcyMTU5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/721593?v=4","gravatar_id":"","url":"https://api.github.com/users/jjmeyer0","html_url":"https://github.com/jjmeyer0","followers_url":"https://api.github.com/users/jjmeyer0/followers","following_url":"https://api.github.com/users/jjmeyer0/following{/other_user}","gists_url":"https://api.github.com/users/jjmeyer0/gists{/gist_id}","starred_url":"https://api.github.com/users/jjmeyer0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jjmeyer0/subscriptions","organizations_url":"https://api.github.com/users/jjmeyer0/orgs","repos_url":"https://api.github.com/users/jjmeyer0/repos","events_url":"https://api.github.com/users/jjmeyer0/events{/privacy}","received_events_url":"https://api.github.com/users/jjmeyer0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-15T14:24:13Z","updated_at":"2017-02-15T14:24:13Z","author_association":"CONTRIBUTOR","body":"Also, what do you think about adding a check box for verifying builds? https://cwiki.apache.org/confluence/display/METRON/Verifying+Builds","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/280023650/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/280028683","html_url":"https://github.com/apache/metron/pull/456#issuecomment-280028683","issue_url":"https://api.github.com/repos/apache/metron/issues/456","id":280028683,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDAyODY4Mw==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-15T14:43:05Z","updated_at":"2017-02-15T14:43:05Z","author_association":"CONTRIBUTOR","body":"Thanks for the review!\r\n\r\nI am not sure about verifying builds.  I don't think we should put everything that is in the Dev Guide or the Verification in the PR template, there is some balance to be had there.  I don't think we expect every PR to have validated the builds anyways.\r\n\r\nI did make the jira change.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/280028683/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/280043880","html_url":"https://github.com/apache/metron/pull/456#issuecomment-280043880","issue_url":"https://api.github.com/repos/apache/metron/issues/456","id":280043880,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDA0Mzg4MA==","user":{"login":"jjmeyer0","id":721593,"node_id":"MDQ6VXNlcjcyMTU5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/721593?v=4","gravatar_id":"","url":"https://api.github.com/users/jjmeyer0","html_url":"https://github.com/jjmeyer0","followers_url":"https://api.github.com/users/jjmeyer0/followers","following_url":"https://api.github.com/users/jjmeyer0/following{/other_user}","gists_url":"https://api.github.com/users/jjmeyer0/gists{/gist_id}","starred_url":"https://api.github.com/users/jjmeyer0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jjmeyer0/subscriptions","organizations_url":"https://api.github.com/users/jjmeyer0/orgs","repos_url":"https://api.github.com/users/jjmeyer0/repos","events_url":"https://api.github.com/users/jjmeyer0/events{/privacy}","received_events_url":"https://api.github.com/users/jjmeyer0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-15T15:35:28Z","updated_at":"2017-02-15T15:35:28Z","author_association":"CONTRIBUTOR","body":"I agree it shouldn't be a duplicate of the dev guide. My thought on the verify builds was that quite a few PRs state they've done it. That being said, I'm not hung up on it. I'll defer to you. Other than that, I agree this is a great idea, and looks good.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/280043880/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/280046283","html_url":"https://github.com/apache/metron/pull/456#issuecomment-280046283","issue_url":"https://api.github.com/repos/apache/metron/issues/456","id":280046283,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDA0NjI4Mw==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-15T15:43:14Z","updated_at":"2017-02-15T15:43:14Z","author_association":"CONTRIBUTOR","body":"So - why don't we come up with a cut down version of that, maybe restricted to trying quick or full dev?  or reference and link like we do with the full dev guide?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/280046283/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/280047184","html_url":"https://github.com/apache/metron/pull/456#issuecomment-280047184","issue_url":"https://api.github.com/repos/apache/metron/issues/456","id":280047184,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDA0NzE4NA==","user":{"login":"jjmeyer0","id":721593,"node_id":"MDQ6VXNlcjcyMTU5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/721593?v=4","gravatar_id":"","url":"https://api.github.com/users/jjmeyer0","html_url":"https://github.com/jjmeyer0","followers_url":"https://api.github.com/users/jjmeyer0/followers","following_url":"https://api.github.com/users/jjmeyer0/following{/other_user}","gists_url":"https://api.github.com/users/jjmeyer0/gists{/gist_id}","starred_url":"https://api.github.com/users/jjmeyer0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jjmeyer0/subscriptions","organizations_url":"https://api.github.com/users/jjmeyer0/orgs","repos_url":"https://api.github.com/users/jjmeyer0/repos","events_url":"https://api.github.com/users/jjmeyer0/events{/privacy}","received_events_url":"https://api.github.com/users/jjmeyer0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-15T15:46:02Z","updated_at":"2017-02-15T15:46:02Z","author_association":"CONTRIBUTOR","body":"Oh, absolutely. Sorry, I didn't mean to suggest to add the whole page. I just meant a check box that says something like: Have verified building and running locally by creating `full-dev` environment.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/280047184/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/280047202","html_url":"https://github.com/apache/metron/pull/456#issuecomment-280047202","issue_url":"https://api.github.com/repos/apache/metron/issues/456","id":280047202,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDA0NzIwMg==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-15T15:46:05Z","updated_at":"2017-02-15T15:46:05Z","author_association":"MEMBER","body":"Yeah I think that a smoke test on vagrant is sufficient.  A smoke test being that data flows through the topologies and into ES and is viewable by kibana.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/280047202/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/280047841","html_url":"https://github.com/apache/metron/pull/456#issuecomment-280047841","issue_url":"https://api.github.com/repos/apache/metron/issues/456","id":280047841,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDA0Nzg0MQ==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-15T15:48:04Z","updated_at":"2017-02-15T15:48:04Z","author_association":"MEMBER","body":"Ok this isn't awesome work, Otto!  I love this idea.  I'll let it percolate for a bit but my +1 is imminent. :)","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/280047841/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":1,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/280047985","html_url":"https://github.com/apache/metron/pull/456#issuecomment-280047985","issue_url":"https://api.github.com/repos/apache/metron/issues/456","id":280047985,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDA0Nzk4NQ==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-15T15:48:31Z","updated_at":"2017-02-15T15:48:31Z","author_association":"MEMBER","body":"Err is awesome work.  Sorry phone keyboards. ;)","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/280047985/reactions","total_count":2,"+1":0,"-1":0,"laugh":2,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/280050486","html_url":"https://github.com/apache/metron/pull/456#issuecomment-280050486","issue_url":"https://api.github.com/repos/apache/metron/issues/456","id":280050486,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDA1MDQ4Ng==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-15T15:56:41Z","updated_at":"2017-02-15T15:56:41Z","author_association":"CONTRIBUTOR","body":"I put a reference to the verification doc at the top ' for smoke test guide ' and then put a checkbox for running in vagrant - how's that?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/280050486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/280055003","html_url":"https://github.com/apache/metron/pull/455#issuecomment-280055003","issue_url":"https://api.github.com/repos/apache/metron/issues/455","id":280055003,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDA1NTAwMw==","user":{"login":"JonZeolla","id":1385510,"node_id":"MDQ6VXNlcjEzODU1MTA=","avatar_url":"https://avatars.githubusercontent.com/u/1385510?v=4","gravatar_id":"","url":"https://api.github.com/users/JonZeolla","html_url":"https://github.com/JonZeolla","followers_url":"https://api.github.com/users/JonZeolla/followers","following_url":"https://api.github.com/users/JonZeolla/following{/other_user}","gists_url":"https://api.github.com/users/JonZeolla/gists{/gist_id}","starred_url":"https://api.github.com/users/JonZeolla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JonZeolla/subscriptions","organizations_url":"https://api.github.com/users/JonZeolla/orgs","repos_url":"https://api.github.com/users/JonZeolla/repos","events_url":"https://api.github.com/users/JonZeolla/events{/privacy}","received_events_url":"https://api.github.com/users/JonZeolla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-15T16:11:38Z","updated_at":"2017-02-15T16:11:38Z","author_association":"MEMBER","body":"PR to your branch is open.  Feel free to merge --squash without attribution, or not merge and go forward without it.  +1 (non-binding) the current state by inspection.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/280055003/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/280078889","html_url":"https://github.com/apache/metron/pull/456#issuecomment-280078889","issue_url":"https://api.github.com/repos/apache/metron/issues/456","id":280078889,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDA3ODg4OQ==","user":{"login":"jjmeyer0","id":721593,"node_id":"MDQ6VXNlcjcyMTU5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/721593?v=4","gravatar_id":"","url":"https://api.github.com/users/jjmeyer0","html_url":"https://github.com/jjmeyer0","followers_url":"https://api.github.com/users/jjmeyer0/followers","following_url":"https://api.github.com/users/jjmeyer0/following{/other_user}","gists_url":"https://api.github.com/users/jjmeyer0/gists{/gist_id}","starred_url":"https://api.github.com/users/jjmeyer0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jjmeyer0/subscriptions","organizations_url":"https://api.github.com/users/jjmeyer0/orgs","repos_url":"https://api.github.com/users/jjmeyer0/repos","events_url":"https://api.github.com/users/jjmeyer0/events{/privacy}","received_events_url":"https://api.github.com/users/jjmeyer0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-15T17:29:19Z","updated_at":"2017-02-15T17:29:19Z","author_association":"CONTRIBUTOR","body":"@ottobackwards looks good to me. Again, great idea. I think it's ready to be merged.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/280078889/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/280416713","html_url":"https://github.com/apache/metron/pull/455#issuecomment-280416713","issue_url":"https://api.github.com/repos/apache/metron/issues/455","id":280416713,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDQxNjcxMw==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-16T18:30:33Z","updated_at":"2017-02-16T18:30:33Z","author_association":"CONTRIBUTOR","body":"Tested branch locally, with and without 4 backticks. Looks good to me. +1\r\n\r\nSide note, I noticed that the sensors link doesn't go anywhere.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/280416713/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/280422311","html_url":"https://github.com/apache/metron/pull/455#issuecomment-280422311","issue_url":"https://api.github.com/repos/apache/metron/issues/455","id":280422311,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDQyMjMxMQ==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-16T18:49:57Z","updated_at":"2017-02-16T22:52:16Z","author_association":"CONTRIBUTOR","body":"Hm, that's only when building with the bin scripts. re sensor links\r\n\r\nEDIT: nevermind - found the problem was something local. Looks good.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/280422311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/280485855","html_url":"https://github.com/apache/metron/pull/455#issuecomment-280485855","issue_url":"https://api.github.com/repos/apache/metron/issues/455","id":280485855,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDQ4NTg1NQ==","user":{"login":"mattf-apache","id":908957,"node_id":"MDQ6VXNlcjkwODk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/908957?v=4","gravatar_id":"","url":"https://api.github.com/users/mattf-apache","html_url":"https://github.com/mattf-apache","followers_url":"https://api.github.com/users/mattf-apache/followers","following_url":"https://api.github.com/users/mattf-apache/following{/other_user}","gists_url":"https://api.github.com/users/mattf-apache/gists{/gist_id}","starred_url":"https://api.github.com/users/mattf-apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattf-apache/subscriptions","organizations_url":"https://api.github.com/users/mattf-apache/orgs","repos_url":"https://api.github.com/users/mattf-apache/repos","events_url":"https://api.github.com/users/mattf-apache/events{/privacy}","received_events_url":"https://api.github.com/users/mattf-apache/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-16T22:38:20Z","updated_at":"2017-02-16T22:38:20Z","author_association":"MEMBER","body":"@JonZeolla , sorry traveling yesterday.  Will look at it this evening.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/280485855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/280577920","html_url":"https://github.com/apache/metron/pull/455#issuecomment-280577920","issue_url":"https://api.github.com/repos/apache/metron/issues/455","id":280577920,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDU3NzkyMA==","user":{"login":"mattf-apache","id":908957,"node_id":"MDQ6VXNlcjkwODk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/908957?v=4","gravatar_id":"","url":"https://api.github.com/users/mattf-apache","html_url":"https://github.com/mattf-apache","followers_url":"https://api.github.com/users/mattf-apache/followers","following_url":"https://api.github.com/users/mattf-apache/following{/other_user}","gists_url":"https://api.github.com/users/mattf-apache/gists{/gist_id}","starred_url":"https://api.github.com/users/mattf-apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattf-apache/subscriptions","organizations_url":"https://api.github.com/users/mattf-apache/orgs","repos_url":"https://api.github.com/users/mattf-apache/repos","events_url":"https://api.github.com/users/mattf-apache/events{/privacy}","received_events_url":"https://api.github.com/users/mattf-apache/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T07:42:57Z","updated_at":"2017-02-17T07:42:57Z","author_association":"MEMBER","body":"@JonZeolla , thanks for the suggestions.  Incorporated the SIG traps and better exit codes, as well as improvements to the 'find -exec' error catching logic.  Also added 'set -e' and trap on ERR, and fixed an exit code in the fix-md-dialect.py script.\r\n\r\nChanges related to $() vs ``, and explicit declaration of array variables that are being initialized on first use, are valid alternative syntax, but my usages are equivalent.  I consider the variants I used to be less cluttered, so I kept them.\r\n\r\nWhile I was at it, I also fixed METRON-717, splitting site.xml into a tracked template file and an untracked auto-generated portion, in git.\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/280577920/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/280625539","html_url":"https://github.com/apache/metron/pull/455#issuecomment-280625539","issue_url":"https://api.github.com/repos/apache/metron/issues/455","id":280625539,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDYyNTUzOQ==","user":{"login":"JonZeolla","id":1385510,"node_id":"MDQ6VXNlcjEzODU1MTA=","avatar_url":"https://avatars.githubusercontent.com/u/1385510?v=4","gravatar_id":"","url":"https://api.github.com/users/JonZeolla","html_url":"https://github.com/JonZeolla","followers_url":"https://api.github.com/users/JonZeolla/followers","following_url":"https://api.github.com/users/JonZeolla/following{/other_user}","gists_url":"https://api.github.com/users/JonZeolla/gists{/gist_id}","starred_url":"https://api.github.com/users/JonZeolla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JonZeolla/subscriptions","organizations_url":"https://api.github.com/users/JonZeolla/orgs","repos_url":"https://api.github.com/users/JonZeolla/repos","events_url":"https://api.github.com/users/JonZeolla/events{/privacy}","received_events_url":"https://api.github.com/users/JonZeolla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T11:25:36Z","updated_at":"2017-02-17T11:25:36Z","author_association":"MEMBER","body":"Sounds good to me.  I typically use declare for all variables just to be explicit and obvious with my intent, and use $() as a standard for readability and easy nesting as opposed to \\`\\`.  That said, as you mentioned, they are definitely equivalent to what you have across the board.\r\n\r\nI did a quick review on my phone, but there are enough changes it probably merits a run up and validation on a screen larger than 5\".  That said, I would consider adding something like:\r\n\r\n```\r\nIf [ -e $fullpath/site.xml.bak ]; then\r\n    mv $fullpath/site.xml.bak $fullpath/site.xml\r\nfi\r\n```\r\n\r\nTo the quit function to reinstate the prior site.xml (replacing `$fullpath` appropriately).  I'll try to spin this up today if I can because I'm gone all next week without access to the real world (i.e. Internet).","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/280625539/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/280680149","html_url":"https://github.com/apache/metron/pull/456#issuecomment-280680149","issue_url":"https://api.github.com/repos/apache/metron/issues/456","id":280680149,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDY4MDE0OQ==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T15:28:19Z","updated_at":"2017-02-17T15:28:19Z","author_association":"MEMBER","body":"+1 from me by inspection.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/280680149/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/280687567","html_url":"https://github.com/apache/metron/pull/450#issuecomment-280687567","issue_url":"https://api.github.com/repos/apache/metron/issues/450","id":280687567,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDY4NzU2Nw==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T15:54:39Z","updated_at":"2017-02-17T15:54:39Z","author_association":"MEMBER","body":"@james-sirota Yep, agreed.  I'll modify the docs.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/280687567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/280698828","html_url":"https://github.com/apache/metron/pull/316#issuecomment-280698828","issue_url":"https://api.github.com/repos/apache/metron/issues/316","id":280698828,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDY5ODgyOA==","user":{"login":"jjmeyer0","id":721593,"node_id":"MDQ6VXNlcjcyMTU5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/721593?v=4","gravatar_id":"","url":"https://api.github.com/users/jjmeyer0","html_url":"https://github.com/jjmeyer0","followers_url":"https://api.github.com/users/jjmeyer0/followers","following_url":"https://api.github.com/users/jjmeyer0/following{/other_user}","gists_url":"https://api.github.com/users/jjmeyer0/gists{/gist_id}","starred_url":"https://api.github.com/users/jjmeyer0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jjmeyer0/subscriptions","organizations_url":"https://api.github.com/users/jjmeyer0/orgs","repos_url":"https://api.github.com/users/jjmeyer0/repos","events_url":"https://api.github.com/users/jjmeyer0/events{/privacy}","received_events_url":"https://api.github.com/users/jjmeyer0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T16:33:38Z","updated_at":"2017-02-17T16:33:38Z","author_association":"CONTRIBUTOR","body":"@merrimanr sorry for not commenting earlier. I think this is in a pretty good state. I do want to review this again from beginning to end after you finish the MySQL stuff. After that I'll either +1 or add some comments. It's looking good though!","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/280698828/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/280713217","html_url":"https://github.com/apache/metron/pull/455#issuecomment-280713217","issue_url":"https://api.github.com/repos/apache/metron/issues/455","id":280713217,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDcxMzIxNw==","user":{"login":"JonZeolla","id":1385510,"node_id":"MDQ6VXNlcjEzODU1MTA=","avatar_url":"https://avatars.githubusercontent.com/u/1385510?v=4","gravatar_id":"","url":"https://api.github.com/users/JonZeolla","html_url":"https://github.com/JonZeolla","followers_url":"https://api.github.com/users/JonZeolla/followers","following_url":"https://api.github.com/users/JonZeolla/following{/other_user}","gists_url":"https://api.github.com/users/JonZeolla/gists{/gist_id}","starred_url":"https://api.github.com/users/JonZeolla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JonZeolla/subscriptions","organizations_url":"https://api.github.com/users/JonZeolla/orgs","repos_url":"https://api.github.com/users/JonZeolla/repos","events_url":"https://api.github.com/users/JonZeolla/events{/privacy}","received_events_url":"https://api.github.com/users/JonZeolla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T17:26:15Z","updated_at":"2017-02-17T17:28:16Z","author_association":"MEMBER","body":"I'm not going to have time to review this more than I already have.  +1 (non-binding) via inspection, pending an addition of my last post's `if` statement to the `quit` function.  If the PR is still open in 1 1/2 weeks I can take another stab at a review, but don't wait on me.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/280713217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/280713671","html_url":"https://github.com/apache/metron/pull/316#issuecomment-280713671","issue_url":"https://api.github.com/repos/apache/metron/issues/316","id":280713671,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDcxMzY3MQ==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T17:28:08Z","updated_at":"2017-02-17T17:28:08Z","author_association":"CONTRIBUTOR","body":"The latest commit includes removing MySQL as the security credential store and replacing with H2.  I also updated the documentation with instructions on configuring a production database (like MySQL) for this purpose.\r\n\r\nUnit and integration tests are passing.  I tested this on both the metron-docker and Quick Dev environment.  This can be tested on metron-docker with the spring boot maven plugin and docker profile:\r\n\r\n//navigate to metron-rest\r\nmvn spring-boot:run -Drun.profiles=docker,dev\r\n\r\nI also added a vagrant profile for testing on Quick Dev.  To test this on Quick Dev, scp the metron-rest archive to node1 and extract the archive.   Then start the application with the vagrant profile and change the port so that it doesn't conflict with Ambari:\r\n\r\njava -jar ./lib/metron-rest-0.3.0.jar --spring.profiles.active=vagrant,dev --server.port=8082\r\n\r\nI did a fairly comprehensive tests and all endpoints are working.  Once we are satisfied with this I will take another pass and fix the minor style issues (spacing, adherence to checkstyle, etc).","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/280713671/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/280722566","html_url":"https://github.com/apache/metron/pull/450#issuecomment-280722566","issue_url":"https://api.github.com/repos/apache/metron/issues/450","id":280722566,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDcyMjU2Ng==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T18:02:42Z","updated_at":"2017-02-17T18:07:19Z","author_association":"MEMBER","body":"Testing Instructions beyond the normal smoke test (i.e. letting data\r\nflow through to the indices and checking them).\r\n\r\n## Free Up Space on the virtual machine\r\n\r\nFirst, let's free up some headroom on the virtual machine.  If you are running this on a\r\nmultinode cluster, you would not have to do this.\r\n* Kill monit via `service monit stop`\r\n* Kill tcpreplay via `for i in $(ps -ef | grep tcpreplay | awk '{print $2}');do kill -9 $i;done`\r\n* Kill existing parser topologies via \r\n   * `storm kill snort`\r\n   * `storm kill bro`\r\n* Kill yaf via `for i in $(ps -ef | grep yaf | awk '{print $2}');do kill -9 $i;done`\r\n* Kill bro via `for i in $(ps -ef | grep bro | awk '{print $2}');do kill -9 $i;done`\r\n\r\n## Preliminaries\r\n* Set an environment variable to indicate `METRON_HOME`:\r\n`export METRON_HOME=/usr/metron/0.3.1` \r\n\r\n* Create the profiler hbase table\r\n`echo \"create 'profiler', 'P'\" | hbase shell`\r\n\r\n* Open `~/rand_gen.py` and paste the following:\r\n```\r\n#!/usr/bin/python\r\nimport random\r\nimport sys\r\nimport time\r\ndef main():\r\n  mu = float(sys.argv[1])\r\n  sigma = float(sys.argv[2])\r\n  freq_s = int(sys.argv[3])\r\n  while True:\r\n    out = '{ \"value\" : ' + str(random.gauss(mu, sigma)) + ' }'\r\n    print out\r\n    sys.stdout.flush()\r\n    time.sleep(freq_s)\r\n\r\nif __name__ == '__main__':\r\n  main()\r\n```\r\nThis will generate random JSON maps with a numeric field called `value`\r\n\r\n* Set the profiler to use 1 minute tick durations:\r\n  * Edit `$METRON_HOME/config/profiler.properties` to adjust the capture duration by changing `profiler.period.duration=15` to `profiler.period.duration=1`\r\n  * Edit `$METRON_HOME/config/zookeeper/global.json` and add the following properties:\r\n```\r\n\"profiler.client.period.duration\" : \"1\",\r\n\"profiler.client.period.duration.units\" : \"MINUTES\"\r\n```\r\n\r\n## Deploy the custom parser\r\n* Edit the value parser config at `$METRON_HOME/config/zookeeper/parsers/value.json`:\r\n```\r\n{\r\n  \"parserClassName\":\"org.apache.metron.parsers.json.JSONMapParser\",\r\n  \"sensorTopic\":\"value\",\r\n  \"fieldTransformations\" : [\r\n    {\r\n    \"transformation\" : \"STELLAR\"\r\n   ,\"output\" : [ \"num_profiles_parser\", \"mean_parser\" ]\r\n   ,\"config\" : {\r\n      \"num_profiles_parser\" : \"LENGTH(PROFILE_GET('stat', 'global', PROFILE_WINDOW('5 minute window every 10 minutes starting from 2 minutes ago until 32 minutes ago excluding holidays:us')))\",\r\n      \"mean_parser\" : \"STATS_MEAN(STATS_MERGE(PROFILE_GET('stat', 'global', PROFILE_WINDOW('5 minute window every 10 minutes starting from 2 minutes ago until 32 minutes ago excluding holidays:us'))))\"\r\n               }\r\n    }\r\n                           ]\r\n}\r\n```\r\n\r\n* Edit the value enrichment config at `$METRON_HOME/config/zookeeper/enrichments/value.json`:\r\n```\r\n{\r\n  \"enrichment\" : {\r\n   \"fieldMap\": {\r\n      \"stellar\" : {\r\n        \"config\" : {\r\n        \"num_profiles_enrichment\" : \"LENGTH(PROFILE_GET('stat', 'global', PROFILE_WINDOW('5 minute window every 10 minutes starting from 2 minutes ago until 32 minutes ago excluding holidays:us')))\",\r\n        \"mean_enrichment\" : \"STATS_MEAN(STATS_MERGE(PROFILE_GET('stat', 'global', PROFILE_WINDOW('5 minute window every 10 minutes starting from 2 minutes ago until 32 minutes ago excluding holidays:us'))))\"\r\n                  }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n* Create the value kafka topic:\r\n  `/usr/hdp/current/kafka-broker/bin/kafka-topics.sh --zookeeper node1:2181 --create --topic value --partitions 1 --replication-factor 1`\r\n* Push the configs via `$METRON_HOME/bin/zk_load_configs.sh -m PUSH -i $METRON_HOME/config/zookeeper -z node1:2181`\r\n* Start via `$METRON_HOME/bin/start_parser_topology.sh -k node1:6667 -z node1:2181 -s value`\r\n\r\n\r\n## Start the profiler\r\n\r\n* Edit `$METRON_HOME/config/zookeeper/profiler.json` and paste in the following:\r\n```\r\n{\r\n  \"profiles\": [\r\n    {\r\n      \"profile\": \"stat\",\r\n      \"foreach\": \"'global'\",\r\n      \"onlyif\": \"true\",\r\n      \"init\" : {\r\n               },\r\n      \"update\": {\r\n        \"s\": \"STATS_ADD(s, value)\"\r\n                },\r\n      \"result\": \"s\"\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n* `$METRON_HOME/bin/start_profiler_topology.sh`\r\n\r\n## Test Case\r\n\r\n* Set up a profile to accept some synthetic data with a numeric `value` field and persist a stats summary of the data\r\n\r\n* Send some synthetic data directly to the profiler:\r\n`python ~/rand_gen.py 0 1 1 | /usr/hdp/current/kafka-broker/bin/kafka-console-producer.sh --broker-list node1:6667 --topic value`\r\n* Wait for at least 32 minutes and execute the following via the Stellar REPL:\r\n```\r\n# Grab the profiles from 1 minute ago to 8 minutes ago\r\nLENGTH(PROFILE_GET('stat', 'global', PROFILE_WINDOW('from 1 minute ago to 8 minutes ago')))\r\n# Looks like 7 were returned, great.  Now try something more complex\r\n# Grab the profiles in 5 minute windows every 10 minutes from 2 minutes ago to 32 minutes ago:\r\n#  32 minutes ago til 27 minutes ago should be 5 profiles\r\n#  22 minutes ago til 17 minutes ago should be 5 profiles\r\n#  12 minutes ago til 7 minutes ago should be 5 profiles\r\n# for a total of 15 profiles\r\nLENGTH(PROFILE_GET('stat', 'global', PROFILE_WINDOW('5 minute window every 10 minutes starting from 2 minutes ago until 32 minutes ago excluding holidays:us')))\r\nSTATS_MEAN(STATS_MERGE(PROFILE_GET('stat', 'global', PROFILE_WINDOW('5 minute window every 10 minutes starting from 2 minutes ago until 32 minutes ago excluding holidays:us'))))\r\n```\r\nFor me, the following was the result:\r\n```\r\nStellar, Go!\r\nPlease note that functions are loading lazily in the background and will be unavailable until loaded fully.\r\n{es.clustername=metron, es.ip=node1, es.port=9300, es.date.format=yyyy.MM.dd.HH, profiler.client.period.duration=1, profiler.client.period.duration.units=MINUTES}\r\n[Stellar]>>> # Grab the profiles from 1 minute ago to 8 minutes ago\r\n[Stellar]>>> LENGTH(PROFILE_GET('stat', 'global', PROFILE_WINDOW('from 1 minute ago to 8 minutes ago')))\r\nFunctions loaded, you may refer to functions now...\r\n7\r\n[Stellar]>>> # Looks like 7 were returned, great.\r\n[Stellar]>>> # Grab the profiles from 2 minutes ago to 32 minutes ago\r\n[Stellar]>>> LENGTH(PROFILE_GET('stat', 'global', PROFILE_WINDOW('from 2 minutes ago to 32 minutes ago')))\r\n30\r\n[Stellar]>>> # Looks like 30 were returned, great.\r\n[Stellar]>>> # Now try something more complex\r\n[Stellar]>>> # Grab the profiles in 5 minute windows every 10 minutes from 2 minutes ago to 32 minutes ago:\r\n[Stellar]>>> #  32 minutes ago til 27 minutes ago should be 5 profiles\r\n[Stellar]>>> #  22 minutes ago til 17 minutes ago should be 5 profiles\r\n[Stellar]>>> #  12 minutes ago til 7 minutes ago should be 5 profiles\r\n[Stellar]>>> # for a total of 15 profiles\r\n[Stellar]>>> LENGTH(PROFILE_GET('stat', 'global', PROFILE_WINDOW('5 minute window every 10 minutes starting from 2 minutes ago until 32 minutes ago excluding holidays:us')))\r\n15\r\n[Stellar]>>> STATS_MEAN(STATS_MERGE(PROFILE_GET('stat', 'global', PROFILE_WINDOW('5 minute window every 10 minutes starting from 2 minutes ago until 32 minutes ago excluding holidays:us'))))\r\n0.028019658637877063\r\n[Stellar]>>>\r\n```\r\n* Delete any value index that currently exists (if any do) via `curl -XDELETE \"http://localhost:9200/value*\"`\r\n* Wait for a couple of seconds and run \r\n  * `curl \"http://localhost:9200/value*/_search?pretty=true&q=*:*\" 2> /dev/null` \r\n  * You should see values in the index with non-zero fields:\r\n     * `num_profiles_enrichment` should be 15\r\n     * `num_profiles_parser` should be 15\r\n     * `mean_enrichment` should be a non-zero double\r\n     * `mean_parser` should be a non-zero double\r\nFor reference, a sample message for me is:\r\n```\r\n \"_index\" : \"value_index_2017.02.17.18\",\r\n      \"_type\" : \"value_doc\",\r\n      \"_id\" : \"AVpNPI8JQV00TRR_I4zn\",\r\n      \"_score\" : 1.0,\r\n      \"_source\" : {\r\n        \"adapter:stellaradapter:end:ts\" : \"1487354498620\",\r\n        \"threatinteljoinbolt:joiner:ts\" : \"1487354498628\",\r\n        \"enrichmentsplitterbolt:splitter:end:ts\" : \"1487354498576\",\r\n        \"num_profiles_parser\" : 15,\r\n        \"enrichmentsplitterbolt:splitter:begin:ts\" : \"1487354498571\",\r\n        \"enrichmentjoinbolt:joiner:ts\" : \"1487354498622\",\r\n        \"mean_enrichment\" : 0.025770908095283665,\r\n        \"adapter:stellaradapter:begin:ts\" : \"1487354498578\",\r\n        \"source:type\" : \"value\",\r\n        \"original_string\" : \"{ \\\"value\\\" : -0.274471660322 }\",\r\n        \"threatintelsplitterbolt:splitter:begin:ts\" : \"1487354498625\",\r\n        \"num_profiles_enrichment\" : 15,\r\n        \"threatintelsplitterbolt:splitter:end:ts\" : \"1487354498625\",\r\n        \"value\" : -0.274471660322,\r\n        \"mean_parser\" : 0.025770908095283665,\r\n        \"timestamp\" : 1487354498529\r\n      }\r\n```\r\n\r\nHere we've validated that the new window function can be called from the relevant topologies as well as the REPL and give consistent results that make sense.\r\n","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/280722566/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/280731490","html_url":"https://github.com/apache/metron/pull/450#issuecomment-280731490","issue_url":"https://api.github.com/repos/apache/metron/issues/450","id":280731490,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDczMTQ5MA==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T18:39:35Z","updated_at":"2017-02-17T18:39:35Z","author_association":"CONTRIBUTOR","body":"Not for nothing @cestella but those steps should just be a script if we are going to need them all the time","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/280731490/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/280735296","html_url":"https://github.com/apache/metron/pull/455#issuecomment-280735296","issue_url":"https://api.github.com/repos/apache/metron/issues/455","id":280735296,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDczNTI5Ng==","user":{"login":"mattf-apache","id":908957,"node_id":"MDQ6VXNlcjkwODk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/908957?v=4","gravatar_id":"","url":"https://api.github.com/users/mattf-apache","html_url":"https://github.com/mattf-apache","followers_url":"https://api.github.com/users/mattf-apache/followers","following_url":"https://api.github.com/users/mattf-apache/following{/other_user}","gists_url":"https://api.github.com/users/mattf-apache/gists{/gist_id}","starred_url":"https://api.github.com/users/mattf-apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattf-apache/subscriptions","organizations_url":"https://api.github.com/users/mattf-apache/orgs","repos_url":"https://api.github.com/users/mattf-apache/repos","events_url":"https://api.github.com/users/mattf-apache/events{/privacy}","received_events_url":"https://api.github.com/users/mattf-apache/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T18:54:44Z","updated_at":"2017-02-17T18:54:44Z","author_association":"MEMBER","body":"Hi @JonZeolla , thanks for taking a look amidst the other demands on your time.\r\n\r\nI disagree with 'mv $fullpath/site.xml.bak $fullpath/site.xml' for the following reasons:\r\n* site.xml is now a fully auto-generated file (like the contents of site/markdown/), and is no longer tracked in git.  That was the METRON-717 improvement.  Thus, there is no reason to restore it.\r\n* There are many other artifacts of bin/generate-md.sh besides site.xml, that cannot be restored to former state, and that are likely to be just as broken as site.xml if the build is interrupted.  I don't want to give the impression that we've restored a valid overall context.\r\n* Leaving the entire state of the auto-generated content after an interrupted build, including site.xml, may give valuable information about the root cause of the break.\r\n\r\nPlease accept my not incorporating this change :-)\r\n\r\nBTW, for Jon and all reviewers, I should mention that after this patch I did a full re-validation of the site-book, both by:\r\n* visual inspection in a browser of every page of the resulting book, and by \r\n* recursive diff of both the generated MD source files and resulting HTML book files, before and after this whole PR patch.\r\n\r\nNo unexpected differences were found.  Thanks.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/280735296/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/280736162","html_url":"https://github.com/apache/metron/pull/455#issuecomment-280736162","issue_url":"https://api.github.com/repos/apache/metron/issues/455","id":280736162,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDczNjE2Mg==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T18:58:04Z","updated_at":"2017-02-17T18:58:04Z","author_association":"MEMBER","body":"Ok, yep, I'm +1 on this.  Also, I agree with the reasoning around not having a bak file.  Especially compelling is the first bullet point that `site.xml` is generated now.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/280736162/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/280748213","html_url":"https://github.com/apache/metron/pull/455#issuecomment-280748213","issue_url":"https://api.github.com/repos/apache/metron/issues/455","id":280748213,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDc0ODIxMw==","user":{"login":"JonZeolla","id":1385510,"node_id":"MDQ6VXNlcjEzODU1MTA=","avatar_url":"https://avatars.githubusercontent.com/u/1385510?v=4","gravatar_id":"","url":"https://api.github.com/users/JonZeolla","html_url":"https://github.com/JonZeolla","followers_url":"https://api.github.com/users/JonZeolla/followers","following_url":"https://api.github.com/users/JonZeolla/following{/other_user}","gists_url":"https://api.github.com/users/JonZeolla/gists{/gist_id}","starred_url":"https://api.github.com/users/JonZeolla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JonZeolla/subscriptions","organizations_url":"https://api.github.com/users/JonZeolla/orgs","repos_url":"https://api.github.com/users/JonZeolla/repos","events_url":"https://api.github.com/users/JonZeolla/events{/privacy}","received_events_url":"https://api.github.com/users/JonZeolla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T19:46:15Z","updated_at":"2017-02-27T13:33:15Z","author_association":"MEMBER","body":"I surprisingly found time to take another look.  I'm a -1 (non-binding) on this for now, primarily because `generate-md.sh` fails to run on CentOS 6.8 (where I tested it).  The error was `basename: invalid option -- 's'`.\r\n\r\nI think I able to fix the issue by changing that line to `item_name=$(basename ${md%.*})` (feel free to sub backticks, just hard to show in GitHub md)\r\n\r\nEDIT:  Ran this up really quickly on my Mac.  The above fix seems to work there too.  Didn't take a very deep look though.\r\n\r\n\r\nRegarding the prior discussions\r\nI guess I fail to see the reason why site.xml.bak is created in the first place then.  A reasonable alternative in my mind would be to add something like `diff $fullpath/site.xml $fullpath/site.xml.bak && rm $fullpath/site.xml.bak` to `quit()` so at least the bak file has some sort of purpose, otherwise I'd remove it entirely.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/280748213/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/280752988","html_url":"https://github.com/apache/metron/pull/455#issuecomment-280752988","issue_url":"https://api.github.com/repos/apache/metron/issues/455","id":280752988,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDc1Mjk4OA==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T20:06:28Z","updated_at":"2017-02-17T20:06:28Z","author_association":"MEMBER","body":"Either as @JonZeolla says or you could also do `basename $md .md`.  I do think running on centos is important as eventually I'd like to get this running as part of travis, so I'm willing to hold my +1 until the basename issue is corrected.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/280752988/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/280754246","html_url":"https://github.com/apache/metron/pull/457#issuecomment-280754246","issue_url":"https://api.github.com/repos/apache/metron/issues/457","id":280754246,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDc1NDI0Ng==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T20:11:52Z","updated_at":"2017-02-17T20:11:52Z","author_association":"MEMBER","body":"+1 by inspection","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/280754246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/280755310","html_url":"https://github.com/apache/metron/pull/455#issuecomment-280755310","issue_url":"https://api.github.com/repos/apache/metron/issues/455","id":280755310,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDc1NTMxMA==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T20:16:40Z","updated_at":"2017-02-17T20:16:40Z","author_association":"CONTRIBUTOR","body":"re: \"site.xml is now a fully auto-generated file\"  that would be why it is showing in git as unstaged but modified?  \r\nIs there a way we can stop that from happening?  If it is generated does it need to be in git?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/280755310/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/280756294","html_url":"https://github.com/apache/metron/pull/453#issuecomment-280756294","issue_url":"https://api.github.com/repos/apache/metron/issues/453","id":280756294,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDc1NjI5NA==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T20:21:13Z","updated_at":"2017-02-17T20:24:18Z","author_association":"MEMBER","body":"Ok, catching up on this:\r\n\r\nRegarding invalid vs errors, I'm ok with the notion of treating them the same, but it's different from how we've done this in the past.  Prior to this, invalid messages went into a queue untouched.  Now, they will be sent along with the errors wrapped in a JSON structure (thought the raw messages will be captured as a field).  I'm not necessarily against this, but it's different than as we originally designed and I want to call it out.\r\n\r\nI guess I'm ok with adding a new topology, but it's added a fair amount of complexity to this JIRA and I'm not sure I buy that indexing errors (what should be a rare event, IMO, in a healthy set of topologies) would materially change how we tune the indexing topology, which has to be able to handle the unified traffic of all of the parsers anyway.  I will agree that we will need to ensure that errors in indexing for a given writer are skipped by that writer on the second time around.\r\n\r\nSo, if I have an error in a message with a source type of `bro`, what indexing config am I using as of this JIRA?\r\n* the `bro` indexing config\r\n* the `error` indexing config\r\n* a new `bro_error` indexing config","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/280756294/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/280757428","html_url":"https://github.com/apache/metron/pull/455#issuecomment-280757428","issue_url":"https://api.github.com/repos/apache/metron/issues/455","id":280757428,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDc1NzQyOA==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T20:26:22Z","updated_at":"2017-02-17T20:27:11Z","author_association":"MEMBER","body":"@ottobackwards yeah, we probably need site.xml to be in the `.gitignore`, right?\r\nEDIT: Retracting, it is in `.gitignore`","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/280757428/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/280757452","html_url":"https://github.com/apache/metron/pull/455#issuecomment-280757452","issue_url":"https://api.github.com/repos/apache/metron/issues/455","id":280757452,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDc1NzQ1Mg==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T20:26:28Z","updated_at":"2017-02-17T20:26:28Z","author_association":"CONTRIBUTOR","body":"Hey @ottobackwards site.xml is now in .gitignore with @mattf-horton's latest changes.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/280757452/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/280760812","html_url":"https://github.com/apache/metron/pull/455#issuecomment-280760812","issue_url":"https://api.github.com/repos/apache/metron/issues/455","id":280760812,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDc2MDgxMg==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T20:41:46Z","updated_at":"2017-02-17T20:41:46Z","author_association":"CONTRIBUTOR","body":"ok - i'm not building this branch, just what i've seen from other builds","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/280760812/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/280764775","html_url":"https://github.com/apache/metron/pull/455#issuecomment-280764775","issue_url":"https://api.github.com/repos/apache/metron/issues/455","id":280764775,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDc2NDc3NQ==","user":{"login":"mattf-apache","id":908957,"node_id":"MDQ6VXNlcjkwODk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/908957?v=4","gravatar_id":"","url":"https://api.github.com/users/mattf-apache","html_url":"https://github.com/mattf-apache","followers_url":"https://api.github.com/users/mattf-apache/followers","following_url":"https://api.github.com/users/mattf-apache/following{/other_user}","gists_url":"https://api.github.com/users/mattf-apache/gists{/gist_id}","starred_url":"https://api.github.com/users/mattf-apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattf-apache/subscriptions","organizations_url":"https://api.github.com/users/mattf-apache/orgs","repos_url":"https://api.github.com/users/mattf-apache/repos","events_url":"https://api.github.com/users/mattf-apache/events{/privacy}","received_events_url":"https://api.github.com/users/mattf-apache/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T20:59:17Z","updated_at":"2017-02-17T20:59:17Z","author_association":"MEMBER","body":"Hi @JonZeolla , @ottobackwards , @cestella , @mmiklavc ,\r\nThanks to all of you for looking at this.  Taking issues in order:\r\n1. Absolutely right, no reason to have site.xml.bak any more!  Missed that, will fix momentarily.\r\n2. I'll have to look at that basename issue, but will fix and test on Centos.  Glad you noticed, and sorry about that.\r\n3. The weird behavior with site.xml and .gitignore is because the \"git rm site.xml\" command and the change to add \"site.xml\" to .gitignore, were squashed into a single commit.  If you do it as a sequence of two commits then it transpires cleanly.  But I was trying to respect the preference for squashing commits.  It won't manifest in fresh \"git clone\"s, but is a nuisance for folks pulling into an existing branch.\r\n\r\nSince I have to make another commit to fix #1 and #2, I will also split #3 back into separate commits.  Thanks.\r\n","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/280764775/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/280780490","html_url":"https://github.com/apache/metron/pull/453#issuecomment-280780490","issue_url":"https://api.github.com/repos/apache/metron/issues/453","id":280780490,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDc4MDQ5MA==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T22:10:25Z","updated_at":"2017-02-17T22:10:25Z","author_association":"CONTRIBUTOR","body":"I think removing the error indexing topology is fine as long as we're careful to avoid error messages getting stuck in a loop in the case of a failed index write.  I agree that it will remove complexity and make this PR easier to digest.\r\n\r\nAs of this JIRA all errors go to a single error index with source type and error type as JSON fields.  To answer your question:  the error indexing config.  I can see the advantage of being able to configure each source type/error type combination separately but I'm not sure it matters that much since we expect it to be very low volume.  I will think about that more this weekend.  From an implementation standpoint it's easy to modify so the design should be driven by the queries we expect.\r\n\r\nSame applies to invalid messages.  Easy to do it either way, just need to decide what makes the most sense from a user's perspective.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/280780490/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/280781766","html_url":"https://github.com/apache/metron/pull/453#issuecomment-280781766","issue_url":"https://api.github.com/repos/apache/metron/issues/453","id":280781766,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDc4MTc2Ng==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T22:16:43Z","updated_at":"2017-02-17T22:16:43Z","author_association":"CONTRIBUTOR","body":"@ottobackwards to answer some of your questions (sorry was at RSA all week):\r\n\r\n- An extra topology will take up a couple worker slots but the performance implications should be minimal as long as the number or errors are small (hopefully they are)\r\n- The error topology is not enabled in quick dev (my understanding is that ansible is deprecated) but can be tested there.  Instructions are in the original PR description.\r\n- Not in Docker yet but I will add it once we all agree on an approach.  Changes should be minimal there.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/280781766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/280814251","html_url":"https://github.com/apache/metron/pull/455#issuecomment-280814251","issue_url":"https://api.github.com/repos/apache/metron/issues/455","id":280814251,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDgxNDI1MQ==","user":{"login":"mattf-apache","id":908957,"node_id":"MDQ6VXNlcjkwODk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/908957?v=4","gravatar_id":"","url":"https://api.github.com/users/mattf-apache","html_url":"https://github.com/mattf-apache","followers_url":"https://api.github.com/users/mattf-apache/followers","following_url":"https://api.github.com/users/mattf-apache/following{/other_user}","gists_url":"https://api.github.com/users/mattf-apache/gists{/gist_id}","starred_url":"https://api.github.com/users/mattf-apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattf-apache/subscriptions","organizations_url":"https://api.github.com/users/mattf-apache/orgs","repos_url":"https://api.github.com/users/mattf-apache/repos","events_url":"https://api.github.com/users/mattf-apache/events{/privacy}","received_events_url":"https://api.github.com/users/mattf-apache/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-18T02:20:50Z","updated_at":"2017-02-18T02:20:50Z","author_association":"MEMBER","body":"I have pushed fixes for all of the above.  To fix item 3 I had to change history, so you'll need to \"pull -f\" to update an existing image.\r\n\r\nI tested code fragments and confirmed that \"basename -s\" works fine on Centos7 but breaks as described by @JonZeolla on Centos6.  The revised code fragments work on both and on Mac OS X.\r\n\r\nI'm now testing the whole site-book implementation on both Centos 6 and 7.  Will report results.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/280814251/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/280816222","html_url":"https://github.com/apache/metron/pull/455#issuecomment-280816222","issue_url":"https://api.github.com/repos/apache/metron/issues/455","id":280816222,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDgxNjIyMg==","user":{"login":"JonZeolla","id":1385510,"node_id":"MDQ6VXNlcjEzODU1MTA=","avatar_url":"https://avatars.githubusercontent.com/u/1385510?v=4","gravatar_id":"","url":"https://api.github.com/users/JonZeolla","html_url":"https://github.com/JonZeolla","followers_url":"https://api.github.com/users/JonZeolla/followers","following_url":"https://api.github.com/users/JonZeolla/following{/other_user}","gists_url":"https://api.github.com/users/JonZeolla/gists{/gist_id}","starred_url":"https://api.github.com/users/JonZeolla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JonZeolla/subscriptions","organizations_url":"https://api.github.com/users/JonZeolla/orgs","repos_url":"https://api.github.com/users/JonZeolla/repos","events_url":"https://api.github.com/users/JonZeolla/events{/privacy}","received_events_url":"https://api.github.com/users/JonZeolla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-18T02:50:55Z","updated_at":"2017-02-18T02:50:55Z","author_association":"MEMBER","body":"Spun it up on CentOS 6.8 and macOX 10.12.3, and did a quick code review.  Spot tested the traps as well.  +1 (non-binding).  \r\n\r\nThe only thing I noticed is I don't think [this](https://github.com/mattf-horton/incubator-metron/blob/0.3.1-rc4/site-book/bin/generate-md.sh#L300) is necessary due to the `>` in the following line.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/280816222/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/280817945","html_url":"https://github.com/apache/metron/pull/455#issuecomment-280817945","issue_url":"https://api.github.com/repos/apache/metron/issues/455","id":280817945,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDgxNzk0NQ==","user":{"login":"mattf-apache","id":908957,"node_id":"MDQ6VXNlcjkwODk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/908957?v=4","gravatar_id":"","url":"https://api.github.com/users/mattf-apache","html_url":"https://github.com/mattf-apache","followers_url":"https://api.github.com/users/mattf-apache/followers","following_url":"https://api.github.com/users/mattf-apache/following{/other_user}","gists_url":"https://api.github.com/users/mattf-apache/gists{/gist_id}","starred_url":"https://api.github.com/users/mattf-apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattf-apache/subscriptions","organizations_url":"https://api.github.com/users/mattf-apache/orgs","repos_url":"https://api.github.com/users/mattf-apache/repos","events_url":"https://api.github.com/users/mattf-apache/events{/privacy}","received_events_url":"https://api.github.com/users/mattf-apache/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-18T03:22:31Z","updated_at":"2017-02-18T03:22:31Z","author_association":"MEMBER","body":"I've tested it to completion on both Centos 6 and 7.  It works and generates identical src and site file trees.  I also tested the trap on SIGINT, which worked on all three platforms.  I tested the trap on ERR but only on Mac.\r\n\r\n@JonZeolla , the 'rm -f outfile' before 'blah 2> outfile' may be unnecessary.  I did so on the premise that the file might pre-exist and be readonly.  In that case, I'm not sure whether the '>' operator deletes the file, or attempts to rewrite it; the former would succeed, the latter would fail.  Whereas the 'rm -f' is guaranteed to succeed, because we earlier tested the parent directory for write privs.\r\n\r\nAt any rate, as you observed, it is at worst unnecessary but harmless.  Thanks for the +1.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/280817945/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/280863172","html_url":"https://github.com/apache/metron/pull/453#issuecomment-280863172","issue_url":"https://api.github.com/repos/apache/metron/issues/453","id":280863172,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDg2MzE3Mg==","user":{"login":"james-sirota","id":4854764,"node_id":"MDQ6VXNlcjQ4NTQ3NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/4854764?v=4","gravatar_id":"","url":"https://api.github.com/users/james-sirota","html_url":"https://github.com/james-sirota","followers_url":"https://api.github.com/users/james-sirota/followers","following_url":"https://api.github.com/users/james-sirota/following{/other_user}","gists_url":"https://api.github.com/users/james-sirota/gists{/gist_id}","starred_url":"https://api.github.com/users/james-sirota/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/james-sirota/subscriptions","organizations_url":"https://api.github.com/users/james-sirota/orgs","repos_url":"https://api.github.com/users/james-sirota/repos","events_url":"https://api.github.com/users/james-sirota/events{/privacy}","received_events_url":"https://api.github.com/users/james-sirota/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-18T17:59:36Z","updated_at":"2017-02-18T17:59:36Z","author_association":"NONE","body":"I lean toward having a separate kafka queue for errors.  Errors are lower in volume, but are a lot more verbose.  You are essentially indexing large text document when you do this and you can easily bring down ES when something goes wrong and you get lots of errors.  I want the ability to first tune my cluster enough where the volume of errors is rather low.  In my daily workflow I would just monitor the kafka queue via the command line consumer until I reduce the number of errors. Then if i needed to (and i want this to be optional) I can index them into ES.  Or I can just dump them out to file straight out of kafka\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/280863172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]