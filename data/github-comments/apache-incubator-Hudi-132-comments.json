[{"url":"https://api.github.com/repos/apache/hudi/issues/comments/864770805","html_url":"https://github.com/apache/hudi/pull/3120#issuecomment-864770805","issue_url":"https://api.github.com/repos/apache/hudi/issues/3120","id":864770805,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NDc3MDgwNQ==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T06:40:30Z","updated_at":"2021-07-12T06:02:58Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/3120?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3120](https://codecov.io/gh/apache/hudi/pull/3120?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (ffa9341) into [master](https://codecov.io/gh/apache/hudi/commit/5804ad8e32ae05758ebc5e47f5d4fb4db371ab52?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (5804ad8) will **increase** coverage by `0.01%`.\n> The diff coverage is `70.67%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/3120/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/hudi/pull/3120?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #3120      +/-   ##\n============================================\n+ Coverage     47.72%   47.74%   +0.01%     \n- Complexity     5528     5555      +27     \n============================================\n  Files           934      935       +1     \n  Lines         41457    41536      +79     \n  Branches       4166     4180      +14     \n============================================\n+ Hits          19786    19830      +44     \n- Misses        19914    19943      +29     \n- Partials       1757     1763       +6     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| hudicli | `39.97% <ø> (ø)` | |\n| hudiclient | `34.45% <ø> (ø)` | |\n| hudicommon | `48.58% <ø> (+0.02%)` | :arrow_up: |\n| hudiflink | `60.03% <ø> (ø)` | |\n| hudihadoopmr | `51.29% <ø> (ø)` | |\n| hudisparkdatasource | `67.20% <55.55%> (-0.47%)` | :arrow_down: |\n| hudisync | `55.73% <71.77%> (+1.22%)` | :arrow_up: |\n| huditimelineservice | `64.07% <ø> (ø)` | |\n| hudiutilities | `59.26% <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/3120?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...in/java/org/apache/hudi/hive/util/ConfigUtils.java](https://codecov.io/gh/apache/hudi/pull/3120/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zeW5jL2h1ZGktaGl2ZS1zeW5jL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2hpdmUvdXRpbC9Db25maWdVdGlscy5qYXZh) | `73.91% <ø> (ø)` | |\n| [...n/scala/org/apache/hudi/HoodieSparkSqlWriter.scala](https://codecov.io/gh/apache/hudi/pull/3120/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL0hvb2RpZVNwYXJrU3FsV3JpdGVyLnNjYWxh) | `71.51% <40.00%> (-0.53%)` | :arrow_down: |\n| [...pache/hudi/hive/util/Parquet2SparkSchemaUtils.java](https://codecov.io/gh/apache/hudi/pull/3120/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zeW5jL2h1ZGktaGl2ZS1zeW5jL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2hpdmUvdXRpbC9QYXJxdWV0MlNwYXJrU2NoZW1hVXRpbHMuamF2YQ==) | `56.94% <56.94%> (ø)` | |\n| [...src/main/scala/org/apache/hudi/DefaultSource.scala](https://codecov.io/gh/apache/hudi/pull/3120/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL0RlZmF1bHRTb3VyY2Uuc2NhbGE=) | `74.77% <75.00%> (-0.46%)` | :arrow_down: |\n| [...c/main/java/org/apache/hudi/hive/HiveSyncTool.java](https://codecov.io/gh/apache/hudi/pull/3120/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zeW5jL2h1ZGktaGl2ZS1zeW5jL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2hpdmUvSGl2ZVN5bmNUb29sLmphdmE=) | `77.84% <91.48%> (+5.49%)` | :arrow_up: |\n| [...main/java/org/apache/hudi/hive/HiveSyncConfig.java](https://codecov.io/gh/apache/hudi/pull/3120/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zeW5jL2h1ZGktaGl2ZS1zeW5jL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2hpdmUvSGl2ZVN5bmNDb25maWcuamF2YQ==) | `98.24% <100.00%> (+0.16%)` | :arrow_up: |\n| [...in/scala/org/apache/hudi/HoodieStreamingSink.scala](https://codecov.io/gh/apache/hudi/pull/3120/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL0hvb2RpZVN0cmVhbWluZ1Npbmsuc2NhbGE=) | `28.00% <0.00%> (-10.40%)` | :arrow_down: |\n| [...ache/hudi/common/fs/inline/InMemoryFileSystem.java](https://codecov.io/gh/apache/hudi/pull/3120/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2ZzL2lubGluZS9Jbk1lbW9yeUZpbGVTeXN0ZW0uamF2YQ==) | `89.65% <0.00%> (+10.34%)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/hudi/pull/3120?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/hudi/pull/3120?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [5804ad8...ffa9341](https://codecov.io/gh/apache/hudi/pull/3120?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/864770805/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/864785063","html_url":"https://github.com/apache/hudi/pull/2784#issuecomment-864785063","issue_url":"https://api.github.com/repos/apache/hudi/issues/2784","id":864785063,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NDc4NTA2Mw==","user":{"login":"fengjian428","id":4403474,"node_id":"MDQ6VXNlcjQ0MDM0NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/4403474?v=4","gravatar_id":"","url":"https://api.github.com/users/fengjian428","html_url":"https://github.com/fengjian428","followers_url":"https://api.github.com/users/fengjian428/followers","following_url":"https://api.github.com/users/fengjian428/following{/other_user}","gists_url":"https://api.github.com/users/fengjian428/gists{/gist_id}","starred_url":"https://api.github.com/users/fengjian428/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fengjian428/subscriptions","organizations_url":"https://api.github.com/users/fengjian428/orgs","repos_url":"https://api.github.com/users/fengjian428/repos","events_url":"https://api.github.com/users/fengjian428/events{/privacy}","received_events_url":"https://api.github.com/users/fengjian428/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T07:07:08Z","updated_at":"2021-06-21T07:07:08Z","author_association":"CONTRIBUTOR","body":"> @fengjian428 Can you try to build your customized Hudi with this fix here https://github.com/apache/hudi/pull/2784/files#diff-23f2c38220058fc24687f2cc138272e4b24e291e712e694dc122008f0672f2bd ?\r\n\r\nso I can just change ReplaceArchivalHelper part then it works ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/864785063/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/864829647","html_url":"https://github.com/apache/hudi/pull/3121#issuecomment-864829647","issue_url":"https://api.github.com/repos/apache/hudi/issues/3121","id":864829647,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NDgyOTY0Nw==","user":{"login":"dwshmilyss","id":8295288,"node_id":"MDQ6VXNlcjgyOTUyODg=","avatar_url":"https://avatars.githubusercontent.com/u/8295288?v=4","gravatar_id":"","url":"https://api.github.com/users/dwshmilyss","html_url":"https://github.com/dwshmilyss","followers_url":"https://api.github.com/users/dwshmilyss/followers","following_url":"https://api.github.com/users/dwshmilyss/following{/other_user}","gists_url":"https://api.github.com/users/dwshmilyss/gists{/gist_id}","starred_url":"https://api.github.com/users/dwshmilyss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dwshmilyss/subscriptions","organizations_url":"https://api.github.com/users/dwshmilyss/orgs","repos_url":"https://api.github.com/users/dwshmilyss/repos","events_url":"https://api.github.com/users/dwshmilyss/events{/privacy}","received_events_url":"https://api.github.com/users/dwshmilyss/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T08:16:57Z","updated_at":"2021-06-21T08:16:57Z","author_association":"CONTRIBUTOR","body":"Description:[Use Spark to Hudi and JVM Metaspace OOM](https://github.com/apache/hudi/issues/3107)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/864829647/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/864829795","html_url":"https://github.com/apache/hudi/pull/3121#issuecomment-864829795","issue_url":"https://api.github.com/repos/apache/hudi/issues/3121","id":864829795,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NDgyOTc5NQ==","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T08:17:09Z","updated_at":"2021-06-21T09:09:47Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"39f6524b3969d36774ac776f79572fbc691649e5\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=301\",\n    \"triggerID\" : \"39f6524b3969d36774ac776f79572fbc691649e5\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 39f6524b3969d36774ac776f79572fbc691649e5 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=301) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/864829795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/864844649","html_url":"https://github.com/apache/hudi/pull/3121#issuecomment-864844649","issue_url":"https://api.github.com/repos/apache/hudi/issues/3121","id":864844649,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NDg0NDY0OQ==","user":{"login":"dwshmilyss","id":8295288,"node_id":"MDQ6VXNlcjgyOTUyODg=","avatar_url":"https://avatars.githubusercontent.com/u/8295288?v=4","gravatar_id":"","url":"https://api.github.com/users/dwshmilyss","html_url":"https://github.com/dwshmilyss","followers_url":"https://api.github.com/users/dwshmilyss/followers","following_url":"https://api.github.com/users/dwshmilyss/following{/other_user}","gists_url":"https://api.github.com/users/dwshmilyss/gists{/gist_id}","starred_url":"https://api.github.com/users/dwshmilyss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dwshmilyss/subscriptions","organizations_url":"https://api.github.com/users/dwshmilyss/orgs","repos_url":"https://api.github.com/users/dwshmilyss/repos","events_url":"https://api.github.com/users/dwshmilyss/events{/privacy}","received_events_url":"https://api.github.com/users/dwshmilyss/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T08:36:14Z","updated_at":"2021-06-21T08:36:14Z","author_association":"CONTRIBUTOR","body":"The root cause is due to the JVM's \"inflation\" operation being triggered during deserialization. For this term, the following explanation is quite straightforward:\r\n![image](https://user-images.githubusercontent.com/8295288/122731908-50ff8e80-d2ae-11eb-9b40-db933127ac72.png)\r\nSince Spark uses Kryo serialization, the relevant code and documentation is translated:\r\n![image](https://user-images.githubusercontent.com/8295288/122732033-72607a80-d2ae-11eb-9343-c96cfc525c46.png)\r\nThe conclusion is clear:\r\n\r\nIf the Java objects have a default constructor, DefaultInstantiatorStrategy call Class. GetConstructor (). newInstance () to build. During this process, the JDK caches the constructed Constructor Accessor to avoid repeated builds.\r\n\r\nSpecial otherwise StdInstantiatorStrategy invokes the Java API newConstructorForSerialization generate the object directly and not through the constructor.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/864844649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/864851929","html_url":"https://github.com/apache/hudi/pull/3122#issuecomment-864851929","issue_url":"https://api.github.com/repos/apache/hudi/issues/3122","id":864851929,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NDg1MTkyOQ==","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T08:46:19Z","updated_at":"2021-06-30T06:41:19Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"9d1fc32406d8633cef61672457c5448cf5aa4dfa\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=302\",\n    \"triggerID\" : \"9d1fc32406d8633cef61672457c5448cf5aa4dfa\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"530787e9a14f8ac180399f4641a58e5eff6ada11\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=307\",\n    \"triggerID\" : \"530787e9a14f8ac180399f4641a58e5eff6ada11\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"84bfc2d2c3bea3d088e3c1f8b0a390c586d80e48\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=555\",\n    \"triggerID\" : \"84bfc2d2c3bea3d088e3c1f8b0a390c586d80e48\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 84bfc2d2c3bea3d088e3c1f8b0a390c586d80e48 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=555) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/864851929/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/864855800","html_url":"https://github.com/apache/hudi/pull/3122#issuecomment-864855800","issue_url":"https://api.github.com/repos/apache/hudi/issues/3122","id":864855800,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NDg1NTgwMA==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T08:51:50Z","updated_at":"2021-06-30T06:42:30Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/3122?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3122](https://codecov.io/gh/apache/hudi/pull/3122?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (84bfc2d) into [master](https://codecov.io/gh/apache/hudi/commit/202887b8ca27eb6de808ba7a2e737b13ae9eb8c0?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (202887b) will **increase** coverage by `0.00%`.\n> The diff coverage is `36.95%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/3122/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/hudi/pull/3122?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@            Coverage Diff            @@\n##             master    #3122   +/-   ##\n=========================================\n  Coverage     46.19%   46.19%           \n- Complexity     5385     5386    +1     \n=========================================\n  Files           921      921           \n  Lines         40040    40062   +22     \n  Branches       4294     4297    +3     \n=========================================\n+ Hits          18495    18506   +11     \n- Misses        19661    19669    +8     \n- Partials       1884     1887    +3     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| hudicli | `39.95% <ø> (ø)` | |\n| hudiclient | `30.45% <ø> (ø)` | |\n| hudicommon | `47.56% <ø> (-0.02%)` | :arrow_down: |\n| hudiflink | `59.91% <ø> (ø)` | |\n| hudihadoopmr | `51.33% <36.95%> (+0.03%)` | :arrow_up: |\n| hudisparkdatasource | `67.06% <ø> (ø)` | |\n| hudisync | `54.05% <ø> (ø)` | |\n| huditimelineservice | `64.36% <ø> (ø)` | |\n| hudiutilities | `58.44% <ø> (+0.03%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/3122?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...i/hadoop/utils/HoodieRealtimeInputFormatUtils.java](https://codecov.io/gh/apache/hudi/pull/3122/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1oYWRvb3AtbXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGFkb29wL3V0aWxzL0hvb2RpZVJlYWx0aW1lSW5wdXRGb3JtYXRVdGlscy5qYXZh) | `34.40% <23.52%> (-0.39%)` | :arrow_down: |\n| [...g/apache/hudi/hadoop/HoodieParquetInputFormat.java](https://codecov.io/gh/apache/hudi/pull/3122/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1oYWRvb3AtbXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGFkb29wL0hvb2RpZVBhcnF1ZXRJbnB1dEZvcm1hdC5qYXZh) | `44.66% <75.00%> (+4.00%)` | :arrow_up: |\n| [...e/hudi/common/table/log/HoodieLogFormatWriter.java](https://codecov.io/gh/apache/hudi/pull/3122/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9Ib29kaWVMb2dGb3JtYXRXcml0ZXIuamF2YQ==) | `78.12% <0.00%> (-1.57%)` | :arrow_down: |\n| [...apache/hudi/utilities/deltastreamer/DeltaSync.java](https://codecov.io/gh/apache/hudi/pull/3122/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvRGVsdGFTeW5jLmphdmE=) | `71.28% <0.00%> (+0.33%)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/hudi/pull/3122?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/hudi/pull/3122?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [202887b...84bfc2d](https://codecov.io/gh/apache/hudi/pull/3122?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/864855800/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/864873076","html_url":"https://github.com/apache/hudi/pull/3122#issuecomment-864873076","issue_url":"https://api.github.com/repos/apache/hudi/issues/3122","id":864873076,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NDg3MzA3Ng==","user":{"login":"zhangjun0x01","id":25563794,"node_id":"MDQ6VXNlcjI1NTYzNzk0","avatar_url":"https://avatars.githubusercontent.com/u/25563794?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangjun0x01","html_url":"https://github.com/zhangjun0x01","followers_url":"https://api.github.com/users/zhangjun0x01/followers","following_url":"https://api.github.com/users/zhangjun0x01/following{/other_user}","gists_url":"https://api.github.com/users/zhangjun0x01/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangjun0x01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangjun0x01/subscriptions","organizations_url":"https://api.github.com/users/zhangjun0x01/orgs","repos_url":"https://api.github.com/users/zhangjun0x01/repos","events_url":"https://api.github.com/users/zhangjun0x01/events{/privacy}","received_events_url":"https://api.github.com/users/zhangjun0x01/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T09:14:41Z","updated_at":"2021-06-21T09:14:41Z","author_association":"CONTRIBUTOR","body":"When we use hive query the hudi table, the same NPE exception may also occur [here](https://github.com/apache/hudi/blob/master/hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java#L105) ,  should we add the same judgment logic?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/864873076/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/864873818","html_url":"https://github.com/apache/hudi/pull/3123#issuecomment-864873818","issue_url":"https://api.github.com/repos/apache/hudi/issues/3123","id":864873818,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NDg3MzgxOA==","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T09:15:43Z","updated_at":"2021-06-21T10:08:53Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"f9de35129323eac9d059491d8d9de3a20220846d\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=304\",\n    \"triggerID\" : \"f9de35129323eac9d059491d8d9de3a20220846d\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* f9de35129323eac9d059491d8d9de3a20220846d Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=304) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/864873818/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/864873876","html_url":"https://github.com/apache/hudi/pull/3124#issuecomment-864873876","issue_url":"https://api.github.com/repos/apache/hudi/issues/3124","id":864873876,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NDg3Mzg3Ng==","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T09:15:47Z","updated_at":"2021-06-21T11:08:02Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"5716c217a4bbae84b6496231b64bed17d780f1cc\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=305\",\n    \"triggerID\" : \"5716c217a4bbae84b6496231b64bed17d780f1cc\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"10253146a1a9321790f1e7ececd30f0eb1d106c1\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=308\",\n    \"triggerID\" : \"10253146a1a9321790f1e7ececd30f0eb1d106c1\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 10253146a1a9321790f1e7ececd30f0eb1d106c1 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=308) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/864873876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/864876572","html_url":"https://github.com/apache/hudi/pull/3122#issuecomment-864876572","issue_url":"https://api.github.com/repos/apache/hudi/issues/3122","id":864876572,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NDg3NjU3Mg==","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T09:19:28Z","updated_at":"2021-06-21T09:19:28Z","author_association":"CONTRIBUTOR","body":"Hi @vinothchandar , can you also take a look, i guess this is also a blocker because the global index causes this problem (file group that has no parquet triggers the NPE).","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/864876572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/864877036","html_url":"https://github.com/apache/hudi/pull/3123#issuecomment-864877036","issue_url":"https://api.github.com/repos/apache/hudi/issues/3123","id":864877036,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NDg3NzAzNg==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T09:20:04Z","updated_at":"2021-06-21T09:39:40Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/3123?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3123](https://codecov.io/gh/apache/hudi/pull/3123?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (f9de351) into [master](https://codecov.io/gh/apache/hudi/commit/429e9fb5fe78e96e565dd6b2ea0f1f9e56a43c6c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (429e9fb) will **decrease** coverage by `29.49%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/3123/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/hudi/pull/3123?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #3123       +/-   ##\n=============================================\n- Coverage     46.02%   16.52%   -29.50%     \n+ Complexity     5307      467     -4840     \n=============================================\n  Files           911      274      -637     \n  Lines         39476    10650    -28826     \n  Branches       4254     1088     -3166     \n=============================================\n- Hits          18167     1760    -16407     \n+ Misses        19456     8731    -10725     \n+ Partials       1853      159     -1694     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| hudicli | `?` | |\n| hudiclient | `0.00% <ø> (-30.45%)` | :arrow_down: |\n| hudicommon | `?` | |\n| hudiflink | `?` | |\n| hudihadoopmr | `?` | |\n| hudisparkdatasource | `?` | |\n| hudisync | `6.72% <ø> (-45.01%)` | :arrow_down: |\n| huditimelineservice | `?` | |\n| hudiutilities | `58.37% <ø> (-0.04%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/3123?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...main/java/org/apache/hudi/metrics/HoodieGauge.java](https://codecov.io/gh/apache/hudi/pull/3123/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1jbGllbnQtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL21ldHJpY3MvSG9vZGllR2F1Z2UuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [.../org/apache/hudi/hive/NonPartitionedExtractor.java](https://codecov.io/gh/apache/hudi/pull/3123/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zeW5jL2h1ZGktaGl2ZS1zeW5jL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2hpdmUvTm9uUGFydGl0aW9uZWRFeHRyYWN0b3IuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [.../java/org/apache/hudi/metrics/MetricsReporter.java](https://codecov.io/gh/apache/hudi/pull/3123/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1jbGllbnQtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL21ldHJpY3MvTWV0cmljc1JlcG9ydGVyLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...a/org/apache/hudi/metrics/MetricsReporterType.java](https://codecov.io/gh/apache/hudi/pull/3123/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1jbGllbnQtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL21ldHJpY3MvTWV0cmljc1JlcG9ydGVyVHlwZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...rg/apache/hudi/client/bootstrap/BootstrapMode.java](https://codecov.io/gh/apache/hudi/pull/3123/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1jbGllbnQtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2NsaWVudC9ib290c3RyYXAvQm9vdHN0cmFwTW9kZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...he/hudi/hive/HiveStylePartitionValueExtractor.java](https://codecov.io/gh/apache/hudi/pull/3123/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zeW5jL2h1ZGktaGl2ZS1zeW5jL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2hpdmUvSGl2ZVN0eWxlUGFydGl0aW9uVmFsdWVFeHRyYWN0b3IuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [.../apache/hudi/keygen/constant/KeyGeneratorType.java](https://codecov.io/gh/apache/hudi/pull/3123/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1jbGllbnQtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2tleWdlbi9jb25zdGFudC9LZXlHZW5lcmF0b3JUeXBlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...pache/hudi/client/utils/ConcatenatingIterator.java](https://codecov.io/gh/apache/hudi/pull/3123/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1jbGllbnQtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2NsaWVudC91dGlscy9Db25jYXRlbmF0aW5nSXRlcmF0b3IuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [.../hudi/execution/bulkinsert/BulkInsertSortMode.java](https://codecov.io/gh/apache/hudi/pull/3123/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1jbGllbnQtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2V4ZWN1dGlvbi9idWxraW5zZXJ0L0J1bGtJbnNlcnRTb3J0TW9kZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...able/action/compact/CompactionTriggerStrategy.java](https://codecov.io/gh/apache/hudi/pull/3123/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1jbGllbnQtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL3RhYmxlL2FjdGlvbi9jb21wYWN0L0NvbXBhY3Rpb25UcmlnZ2VyU3RyYXRlZ3kuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| ... and [699 more](https://codecov.io/gh/apache/hudi/pull/3123/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/hudi/pull/3123?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/hudi/pull/3123?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [429e9fb...f9de351](https://codecov.io/gh/apache/hudi/pull/3123?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/864877036/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/864878475","html_url":"https://github.com/apache/hudi/pull/3124#issuecomment-864878475","issue_url":"https://api.github.com/repos/apache/hudi/issues/3124","id":864878475,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NDg3ODQ3NQ==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T09:22:01Z","updated_at":"2021-06-21T10:29:44Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/3124?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3124](https://codecov.io/gh/apache/hudi/pull/3124?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (1025314) into [master](https://codecov.io/gh/apache/hudi/commit/429e9fb5fe78e96e565dd6b2ea0f1f9e56a43c6c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (429e9fb) will **decrease** coverage by `0.02%`.\n> The diff coverage is `0.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/3124/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/hudi/pull/3124?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #3124      +/-   ##\n============================================\n- Coverage     46.02%   45.99%   -0.03%     \n+ Complexity     5307     5306       -1     \n============================================\n  Files           911      911              \n  Lines         39476    39488      +12     \n  Branches       4254     4255       +1     \n============================================\n- Hits          18167    18164       -3     \n- Misses        19456    19469      +13     \n- Partials       1853     1855       +2     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| hudicli | `39.95% <ø> (ø)` | |\n| hudiclient | `30.44% <ø> (ø)` | |\n| hudicommon | `47.54% <ø> (-0.02%)` | :arrow_down: |\n| hudiflink | `61.14% <0.00%> (-0.19%)` | :arrow_down: |\n| hudihadoopmr | `51.29% <ø> (ø)` | |\n| hudisparkdatasource | `66.52% <ø> (ø)` | |\n| hudisync | `51.73% <ø> (ø)` | |\n| huditimelineservice | `64.36% <ø> (ø)` | |\n| hudiutilities | `58.37% <ø> (-0.04%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/3124?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...apache/hudi/sink/compact/HoodieFlinkCompactor.java](https://codecov.io/gh/apache/hudi/pull/3124/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL2NvbXBhY3QvSG9vZGllRmxpbmtDb21wYWN0b3IuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...c/main/java/org/apache/hudi/util/StreamerUtil.java](https://codecov.io/gh/apache/hudi/pull/3124/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS91dGlsL1N0cmVhbWVyVXRpbC5qYXZh) | `55.00% <0.00%> (-0.47%)` | :arrow_down: |\n| [...e/hudi/common/table/log/HoodieLogFormatWriter.java](https://codecov.io/gh/apache/hudi/pull/3124/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9Ib29kaWVMb2dGb3JtYXRXcml0ZXIuamF2YQ==) | `78.12% <0.00%> (-1.57%)` | :arrow_down: |\n| [...apache/hudi/utilities/deltastreamer/DeltaSync.java](https://codecov.io/gh/apache/hudi/pull/3124/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvRGVsdGFTeW5jLmphdmE=) | `70.84% <0.00%> (-0.34%)` | :arrow_down: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/hudi/pull/3124?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/hudi/pull/3124?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [429e9fb...1025314](https://codecov.io/gh/apache/hudi/pull/3124?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/864878475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/864899684","html_url":"https://github.com/apache/hudi/issues/2564#issuecomment-864899684","issue_url":"https://api.github.com/repos/apache/hudi/issues/2564","id":864899684,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NDg5OTY4NA==","user":{"login":"mauropelucchi","id":16307145,"node_id":"MDQ6VXNlcjE2MzA3MTQ1","avatar_url":"https://avatars.githubusercontent.com/u/16307145?v=4","gravatar_id":"","url":"https://api.github.com/users/mauropelucchi","html_url":"https://github.com/mauropelucchi","followers_url":"https://api.github.com/users/mauropelucchi/followers","following_url":"https://api.github.com/users/mauropelucchi/following{/other_user}","gists_url":"https://api.github.com/users/mauropelucchi/gists{/gist_id}","starred_url":"https://api.github.com/users/mauropelucchi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mauropelucchi/subscriptions","organizations_url":"https://api.github.com/users/mauropelucchi/orgs","repos_url":"https://api.github.com/users/mauropelucchi/repos","events_url":"https://api.github.com/users/mauropelucchi/events{/privacy}","received_events_url":"https://api.github.com/users/mauropelucchi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T09:53:59Z","updated_at":"2021-06-21T09:53:59Z","author_association":"NONE","body":"Hello @vinothchandar @n3nash \r\n\r\nWe continue to have this type of issue\r\n\r\nLet's me to share our situation, the configuration is the same for all the tables in our environment \r\n\r\n![image](https://user-images.githubusercontent.com/16307145/122742906-bb9cd400-d286-11eb-8942-369d0ce69f41.png)\r\n\r\n![image](https://user-images.githubusercontent.com/16307145/122742944-c8212c80-d286-11eb-9b3c-48972ce75fe6.png)\r\n\r\nSecond table:\r\n\r\n![image](https://user-images.githubusercontent.com/16307145/122743276-25b57900-d287-11eb-89d9-86f2f7337ef3.png)\r\n\r\n\r\nThis is our current configuration:\r\n\r\n```\r\ndef _get_hudi_options(self, table_name: str, parallelism: int):\r\n        return {\r\n                'hoodie.table.name': table_name,\r\n                'hoodie.datasource.write.recordkey.field': 'posting_key',\r\n                'hoodie.datasource.write.partitionpath.field': 'range_partition',\r\n                'hoodie.datasource.write.table.name': table_name,\r\n                'hoodie.datasource.write.precombine.field': 'update_date',\r\n                'hoodie.datasource.write.table.type': 'MERGE_ON_READ',\r\n                'hoodie.cleaner.policy': 'KEEP_LATEST_COMMITS',\r\n                'hoodie.consistency.check.enabled': True,\r\n                'hoodie.bloom.index.filter.type': 'dynamic_v0',\r\n                'hoodie.bloom.index.bucketized.checking': False,\r\n                'hoodie.memory.merge.max.size': '2004857600000',\r\n                'hoodie.upsert.shuffle.parallelism': parallelism,\r\n                'hoodie.insert.shuffle.parallelism': parallelism,\r\n                'hoodie.bulkinsert.shuffle.parallelism': parallelism,\r\n                'hoodie.parquet.small.file.limit': '204857600',\r\n                'hoodie.parquet.max.file.size': str(self.__parquet_max_file_size_byte),\r\n                'hoodie.memory.compaction.fraction': '384402653184',\r\n                'hoodie.write.buffer.limit.bytes': str(128 * 1024 * 1024),\r\n                'hoodie.compact.inline': True,\r\n                'hoodie.compact.inline.max.delta.commits': 1,\r\n                'hoodie.datasource.compaction.async.enable': False,\r\n                'hoodie.parquet.compression.ratio': '0.35',\r\n                'hoodie.logfile.max.size': '268435456',\r\n                'hoodie.logfile.to.parquet.compression.ratio': '0.5',\r\n                'hoodie.datasource.write.hive_style_partitioning': True,\r\n                'hoodie.keep.min.commits': 5,\r\n                'hoodie.keep.max.commits': 6,\r\n                'hoodie.copyonwrite.record.size.estimate': 32,\r\n                'hoodie.cleaner.commits.retained': 4,\r\n                'hoodie.clean.automatic': True\r\n            }\r\n```\r\n\r\n\r\nAny ideas?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/864899684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/864934997","html_url":"https://github.com/apache/hudi/pull/3125#issuecomment-864934997","issue_url":"https://api.github.com/repos/apache/hudi/issues/3125","id":864934997,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NDkzNDk5Nw==","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T10:50:23Z","updated_at":"2021-06-21T14:22:48Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"0a5ad3c58a252489aca120d24cfcea8c61cbbed3\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=312\",\n    \"triggerID\" : \"0a5ad3c58a252489aca120d24cfcea8c61cbbed3\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"c3033b4cc822ac6055f45cdefdbaef51a00d385b\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"c3033b4cc822ac6055f45cdefdbaef51a00d385b\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"86f108901ef4ffa47d110a504e3b892a44d1143b\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=314\",\n    \"triggerID\" : \"86f108901ef4ffa47d110a504e3b892a44d1143b\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"626f91cedefc6989399ef07f793e1b9a00c0ce28\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"626f91cedefc6989399ef07f793e1b9a00c0ce28\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"0b8e2dcdaf0e2ac708ce42d6920132895bdbdd69\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"0b8e2dcdaf0e2ac708ce42d6920132895bdbdd69\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"7a91dce5a96b2fc8ffbd46bb2c47a33a840f85da\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"7a91dce5a96b2fc8ffbd46bb2c47a33a840f85da\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"3c6e69768d3608d0e133d59920448bfc4c65fded\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=317\",\n    \"triggerID\" : \"3c6e69768d3608d0e133d59920448bfc4c65fded\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* c3033b4cc822ac6055f45cdefdbaef51a00d385b UNKNOWN\n* 626f91cedefc6989399ef07f793e1b9a00c0ce28 UNKNOWN\n* 0b8e2dcdaf0e2ac708ce42d6920132895bdbdd69 UNKNOWN\n* 7a91dce5a96b2fc8ffbd46bb2c47a33a840f85da UNKNOWN\n* 3c6e69768d3608d0e133d59920448bfc4c65fded Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=317) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/864934997/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/864961541","html_url":"https://github.com/apache/hudi/pull/3125#issuecomment-864961541","issue_url":"https://api.github.com/repos/apache/hudi/issues/3125","id":864961541,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NDk2MTU0MQ==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T11:33:46Z","updated_at":"2021-06-22T04:22:22Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/3125?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3125](https://codecov.io/gh/apache/hudi/pull/3125?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (3c6e697) into [master](https://codecov.io/gh/apache/hudi/commit/429e9fb5fe78e96e565dd6b2ea0f1f9e56a43c6c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (429e9fb) will **increase** coverage by `0.06%`.\n> The diff coverage is `25.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/3125/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/hudi/pull/3125?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #3125      +/-   ##\n============================================\n+ Coverage     46.02%   46.08%   +0.06%     \n- Complexity     5307     5317      +10     \n============================================\n  Files           911      914       +3     \n  Lines         39476    39600     +124     \n  Branches       4254     4269      +15     \n============================================\n+ Hits          18167    18248      +81     \n- Misses        19456    19485      +29     \n- Partials       1853     1867      +14     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| hudicli | `39.95% <ø> (ø)` | |\n| hudiclient | `30.44% <ø> (ø)` | |\n| hudicommon | `47.53% <ø> (-0.03%)` | :arrow_down: |\n| hudiflink | `61.08% <25.00%> (-0.26%)` | :arrow_down: |\n| hudihadoopmr | `51.29% <ø> (ø)` | |\n| hudisparkdatasource | `66.92% <ø> (+0.39%)` | :arrow_up: |\n| hudisync | `51.73% <ø> (ø)` | |\n| huditimelineservice | `64.36% <ø> (ø)` | |\n| hudiutilities | `58.37% <ø> (-0.04%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/3125?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...e/hudi/sink/partitioner/profile/WriteProfiles.java](https://codecov.io/gh/apache/hudi/pull/3125/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL3BhcnRpdGlvbmVyL3Byb2ZpbGUvV3JpdGVQcm9maWxlcy5qYXZh) | `50.00% <25.00%> (-2.50%)` | :arrow_down: |\n| [...i/common/table/timeline/HoodieDefaultTimeline.java](https://codecov.io/gh/apache/hudi/pull/3125/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3RpbWVsaW5lL0hvb2RpZURlZmF1bHRUaW1lbGluZS5qYXZh) | `79.22% <0.00%> (-1.30%)` | :arrow_down: |\n| [...java/org/apache/hudi/sink/StreamWriteFunction.java](https://codecov.io/gh/apache/hudi/pull/3125/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL1N0cmVhbVdyaXRlRnVuY3Rpb24uamF2YQ==) | `84.34% <0.00%> (-0.51%)` | :arrow_down: |\n| [...c/main/java/org/apache/hudi/util/StreamerUtil.java](https://codecov.io/gh/apache/hudi/pull/3125/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS91dGlsL1N0cmVhbWVyVXRpbC5qYXZh) | `55.00% <0.00%> (-0.47%)` | :arrow_down: |\n| [...apache/hudi/utilities/deltastreamer/DeltaSync.java](https://codecov.io/gh/apache/hudi/pull/3125/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvRGVsdGFTeW5jLmphdmE=) | `70.84% <0.00%> (-0.34%)` | :arrow_down: |\n| [...apache/hudi/sink/compact/HoodieFlinkCompactor.java](https://codecov.io/gh/apache/hudi/pull/3125/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL2NvbXBhY3QvSG9vZGllRmxpbmtDb21wYWN0b3IuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...udi/common/util/queue/BoundedInMemoryExecutor.java](https://codecov.io/gh/apache/hudi/pull/3125/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvcXVldWUvQm91bmRlZEluTWVtb3J5RXhlY3V0b3IuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [.../command/AlterHoodieTableChangeColumnCommand.scala](https://codecov.io/gh/apache/hudi/pull/3125/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9zcGFyay9zcWwvaHVkaS9jb21tYW5kL0FsdGVySG9vZGllVGFibGVDaGFuZ2VDb2x1bW5Db21tYW5kLnNjYWxh) | `70.27% <0.00%> (ø)` | |\n| [...l/hudi/command/AlterHoodieTableRenameCommand.scala](https://codecov.io/gh/apache/hudi/pull/3125/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9zcGFyay9zcWwvaHVkaS9jb21tYW5kL0FsdGVySG9vZGllVGFibGVSZW5hbWVDb21tYW5kLnNjYWxh) | `93.33% <0.00%> (ø)` | |\n| [...di/command/AlterHoodieTableAddColumnsCommand.scala](https://codecov.io/gh/apache/hudi/pull/3125/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9zcGFyay9zcWwvaHVkaS9jb21tYW5kL0FsdGVySG9vZGllVGFibGVBZGRDb2x1bW5zQ29tbWFuZC5zY2FsYQ==) | `83.33% <0.00%> (ø)` | |\n| ... and [3 more](https://codecov.io/gh/apache/hudi/pull/3125/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/hudi/pull/3125?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/hudi/pull/3125?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [429e9fb...3c6e697](https://codecov.io/gh/apache/hudi/pull/3125?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/864961541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865064090","html_url":"https://github.com/apache/hudi/issues/3095#issuecomment-865064090","issue_url":"https://api.github.com/repos/apache/hudi/issues/3095","id":865064090,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTA2NDA5MA==","user":{"login":"tamil-balaiah","id":86005261,"node_id":"MDQ6VXNlcjg2MDA1MjYx","avatar_url":"https://avatars.githubusercontent.com/u/86005261?v=4","gravatar_id":"","url":"https://api.github.com/users/tamil-balaiah","html_url":"https://github.com/tamil-balaiah","followers_url":"https://api.github.com/users/tamil-balaiah/followers","following_url":"https://api.github.com/users/tamil-balaiah/following{/other_user}","gists_url":"https://api.github.com/users/tamil-balaiah/gists{/gist_id}","starred_url":"https://api.github.com/users/tamil-balaiah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tamil-balaiah/subscriptions","organizations_url":"https://api.github.com/users/tamil-balaiah/orgs","repos_url":"https://api.github.com/users/tamil-balaiah/repos","events_url":"https://api.github.com/users/tamil-balaiah/events{/privacy}","received_events_url":"https://api.github.com/users/tamil-balaiah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T14:09:53Z","updated_at":"2021-06-21T14:09:53Z","author_association":"NONE","body":"Can anybody help on the above issue","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865064090/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865079044","html_url":"https://github.com/apache/hudi/pull/3126#issuecomment-865079044","issue_url":"https://api.github.com/repos/apache/hudi/issues/3126","id":865079044,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTA3OTA0NA==","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T14:28:44Z","updated_at":"2021-07-01T14:23:05Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"079c620bc6aee341627e3fb20e5755fdb6d5cfa4\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=320\",\n    \"triggerID\" : \"079c620bc6aee341627e3fb20e5755fdb6d5cfa4\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"6d70a1dd2a20de7b08d859bc9f51a19e35891c93\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=335\",\n    \"triggerID\" : \"6d70a1dd2a20de7b08d859bc9f51a19e35891c93\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"cd545b199fbe8c68ebd0b0be5ce91722a76c349a\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=473\",\n    \"triggerID\" : \"cd545b199fbe8c68ebd0b0be5ce91722a76c349a\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"548390e6bd363be3ec299be8f2a2a3703f36566a\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=476\",\n    \"triggerID\" : \"548390e6bd363be3ec299be8f2a2a3703f36566a\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"fcf9ac8957ed9dbdd5cd4f38b244b6f10c10168b\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=586\",\n    \"triggerID\" : \"fcf9ac8957ed9dbdd5cd4f38b244b6f10c10168b\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"134c0681223548217a7e64b5c68018385d287e46\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=593\",\n    \"triggerID\" : \"134c0681223548217a7e64b5c68018385d287e46\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"bcf5144d07eb0a56a3c302c2ad2604bae849ed8a\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=616\",\n    \"triggerID\" : \"bcf5144d07eb0a56a3c302c2ad2604bae849ed8a\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* bcf5144d07eb0a56a3c302c2ad2604bae849ed8a Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=616) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865079044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865134832","html_url":"https://github.com/apache/hudi/pull/3109#issuecomment-865134832","issue_url":"https://api.github.com/repos/apache/hudi/issues/3109","id":865134832,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTEzNDgzMg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T15:39:42Z","updated_at":"2021-06-21T15:39:42Z","author_association":"MEMBER","body":"I agree. I am just repeating @leesf 's point that the transitions being the way they are. this fix is more for code semantics than actual problem. I am cool with this. let's land if you are all happy.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865134832/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865151809","html_url":"https://github.com/apache/hudi/issues/3127#issuecomment-865151809","issue_url":"https://api.github.com/repos/apache/hudi/issues/3127","id":865151809,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTE1MTgwOQ==","user":{"login":"arun990","id":84760284,"node_id":"MDQ6VXNlcjg0NzYwMjg0","avatar_url":"https://avatars.githubusercontent.com/u/84760284?v=4","gravatar_id":"","url":"https://api.github.com/users/arun990","html_url":"https://github.com/arun990","followers_url":"https://api.github.com/users/arun990/followers","following_url":"https://api.github.com/users/arun990/following{/other_user}","gists_url":"https://api.github.com/users/arun990/gists{/gist_id}","starred_url":"https://api.github.com/users/arun990/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arun990/subscriptions","organizations_url":"https://api.github.com/users/arun990/orgs","repos_url":"https://api.github.com/users/arun990/repos","events_url":"https://api.github.com/users/arun990/events{/privacy}","received_events_url":"https://api.github.com/users/arun990/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T15:58:24Z","updated_at":"2021-06-21T15:58:24Z","author_association":"NONE","body":"Hi, using Hudi 0.8.0 for the above and got the above mentioned error.\r\nDoes using Hudi 0.7.0 helps to solve it?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865151809/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865157871","html_url":"https://github.com/apache/hudi/issues/564#issuecomment-865157871","issue_url":"https://api.github.com/repos/apache/hudi/issues/564","id":865157871,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTE1Nzg3MQ==","user":{"login":"arun990","id":84760284,"node_id":"MDQ6VXNlcjg0NzYwMjg0","avatar_url":"https://avatars.githubusercontent.com/u/84760284?v=4","gravatar_id":"","url":"https://api.github.com/users/arun990","html_url":"https://github.com/arun990","followers_url":"https://api.github.com/users/arun990/followers","following_url":"https://api.github.com/users/arun990/following{/other_user}","gists_url":"https://api.github.com/users/arun990/gists{/gist_id}","starred_url":"https://api.github.com/users/arun990/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arun990/subscriptions","organizations_url":"https://api.github.com/users/arun990/orgs","repos_url":"https://api.github.com/users/arun990/repos","events_url":"https://api.github.com/users/arun990/events{/privacy}","received_events_url":"https://api.github.com/users/arun990/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T16:04:29Z","updated_at":"2021-06-21T16:04:29Z","author_association":"NONE","body":"Hi, Using spark 2.4.0 with python 3.6\r\nset the hive_sync.enable': 'false' while checking.\r\nSaving the dataframe to hdfs giving the below error.\r\nplease help.\r\ndf.write.format(\"org.apache.hudi\").options(**hudiOptions).mode(\"append\").save(\"/data1/table1\")\r\nFile \"/usr/lib/spark/python/lib/pyspark.zip/pyspark/sql/readwriter.py\", line 736, in save\r\nFile \"/usr/lib/spark/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py\", line 1257, in call\r\nFile \"/usr/lib/spark/python/lib/pyspark.zip/pyspark/sql/utils.py\", line 63, in deco\r\nFile \"/usr/lib/spark/python/lib/py4j-0.10.7-src.zip/py4j/protocol.py\", line 328, in get_return_value\r\npy4j.protocol.Py4JJavaError: An error occurred while calling o151.save.\r\n: java.lang.NoSuchMethodError: org.apache.spark.sql.execution.datasources.DataSourceUtils$.PARTITIONING_COLUMNS_KEY()Ljava/lang/String;\r\nat org.apache.hudi.DataSourceWriteOptions$.translateSqlOptions(DataSourceOptions.scala:206)\r\nat org.apache.hudi.DefaultSource.createRelation(DefaultSource.scala:139)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865157871/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865158867","html_url":"https://github.com/apache/hudi/issues/564#issuecomment-865158867","issue_url":"https://api.github.com/repos/apache/hudi/issues/564","id":865158867,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTE1ODg2Nw==","user":{"login":"arun990","id":84760284,"node_id":"MDQ6VXNlcjg0NzYwMjg0","avatar_url":"https://avatars.githubusercontent.com/u/84760284?v=4","gravatar_id":"","url":"https://api.github.com/users/arun990","html_url":"https://github.com/arun990","followers_url":"https://api.github.com/users/arun990/followers","following_url":"https://api.github.com/users/arun990/following{/other_user}","gists_url":"https://api.github.com/users/arun990/gists{/gist_id}","starred_url":"https://api.github.com/users/arun990/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arun990/subscriptions","organizations_url":"https://api.github.com/users/arun990/orgs","repos_url":"https://api.github.com/users/arun990/repos","events_url":"https://api.github.com/users/arun990/events{/privacy}","received_events_url":"https://api.github.com/users/arun990/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T16:05:40Z","updated_at":"2021-06-21T16:05:40Z","author_association":"NONE","body":"Hi, using Hudi 0.8.0 for the above and got the above mentioned error.\r\nDoes using Hudi 0.7.0 helps to solve it?\r\nref #3127","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865158867/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865177596","html_url":"https://github.com/apache/hudi/pull/3126#issuecomment-865177596","issue_url":"https://api.github.com/repos/apache/hudi/issues/3126","id":865177596,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTE3NzU5Ng==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T16:30:06Z","updated_at":"2021-06-28T03:27:56Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/3126?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3126](https://codecov.io/gh/apache/hudi/pull/3126?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (6741d83) into [master](https://codecov.io/gh/apache/hudi/commit/429e9fb5fe78e96e565dd6b2ea0f1f9e56a43c6c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (429e9fb) will **increase** coverage by `0.24%`.\n> The diff coverage is `90.00%`.\n\n> :exclamation: Current head 6741d83 differs from pull request most recent head 548390e. Consider uploading reports for the commit 548390e to get more accurate results\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/3126/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/hudi/pull/3126?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #3126      +/-   ##\n============================================\n+ Coverage     46.02%   46.26%   +0.24%     \n- Complexity     5307     5361      +54     \n============================================\n  Files           911      920       +9     \n  Lines         39476    39828     +352     \n  Branches       4254     4289      +35     \n============================================\n+ Hits          18167    18426     +259     \n- Misses        19456    19521      +65     \n- Partials       1853     1881      +28     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| hudicli | `39.95% <ø> (ø)` | |\n| hudiclient | `30.45% <ø> (+0.01%)` | :arrow_up: |\n| hudicommon | `47.55% <ø> (-0.01%)` | :arrow_down: |\n| hudiflink | `61.50% <0.00%> (+0.16%)` | :arrow_up: |\n| hudihadoopmr | `51.29% <ø> (ø)` | |\n| hudisparkdatasource | `67.10% <100.00%> (+0.57%)` | :arrow_up: |\n| hudisync | `54.05% <ø> (+2.31%)` | :arrow_up: |\n| huditimelineservice | `64.36% <ø> (ø)` | |\n| hudiutilities | `58.26% <ø> (-0.15%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/3126?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...java/org/apache/hudi/sink/StreamWriteFunction.java](https://codecov.io/gh/apache/hudi/pull/3126/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL1N0cmVhbVdyaXRlRnVuY3Rpb24uamF2YQ==) | `84.34% <0.00%> (-0.51%)` | :arrow_down: |\n| [...ala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala](https://codecov.io/gh/apache/hudi/pull/3126/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9zcGFyay9zcWwvaHVkaS9Ib29kaWVTcWxVdGlscy5zY2FsYQ==) | `68.42% <100.00%> (+1.14%)` | :arrow_up: |\n| [...rk/sql/hudi/command/CreateHoodieTableCommand.scala](https://codecov.io/gh/apache/hudi/pull/3126/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9zcGFyay9zcWwvaHVkaS9jb21tYW5kL0NyZWF0ZUhvb2RpZVRhYmxlQ29tbWFuZC5zY2FsYQ==) | `50.59% <100.00%> (+0.59%)` | :arrow_up: |\n| [...rk/sql/hudi/command/DeleteHoodieTableCommand.scala](https://codecov.io/gh/apache/hudi/pull/3126/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9zcGFyay9zcWwvaHVkaS9jb21tYW5kL0RlbGV0ZUhvb2RpZVRhYmxlQ29tbWFuZC5zY2FsYQ==) | `80.55% <100.00%> (ø)` | |\n| [...ql/hudi/command/InsertIntoHoodieTableCommand.scala](https://codecov.io/gh/apache/hudi/pull/3126/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9zcGFyay9zcWwvaHVkaS9jb21tYW5kL0luc2VydEludG9Ib29kaWVUYWJsZUNvbW1hbmQuc2NhbGE=) | `88.70% <100.00%> (+0.67%)` | :arrow_up: |\n| [...sql/hudi/command/MergeIntoHoodieTableCommand.scala](https://codecov.io/gh/apache/hudi/pull/3126/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9zcGFyay9zcWwvaHVkaS9jb21tYW5kL01lcmdlSW50b0hvb2RpZVRhYmxlQ29tbWFuZC5zY2FsYQ==) | `69.33% <100.00%> (+0.14%)` | :arrow_up: |\n| [...rk/sql/hudi/command/UpdateHoodieTableCommand.scala](https://codecov.io/gh/apache/hudi/pull/3126/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9zcGFyay9zcWwvaHVkaS9jb21tYW5kL1VwZGF0ZUhvb2RpZVRhYmxlQ29tbWFuZC5zY2FsYQ==) | `84.12% <100.00%> (+0.25%)` | :arrow_up: |\n| [...g/apache/hudi/utilities/schema/SchemaProvider.java](https://codecov.io/gh/apache/hudi/pull/3126/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFQcm92aWRlci5qYXZh) | `71.42% <0.00%> (-28.58%)` | :arrow_down: |\n| [...e/hudi/sink/partitioner/profile/WriteProfiles.java](https://codecov.io/gh/apache/hudi/pull/3126/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL3BhcnRpdGlvbmVyL3Byb2ZpbGUvV3JpdGVQcm9maWxlcy5qYXZh) | `46.80% <0.00%> (-5.70%)` | :arrow_down: |\n| [...src/main/scala/org/apache/hudi/DefaultSource.scala](https://codecov.io/gh/apache/hudi/pull/3126/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL0RlZmF1bHRTb3VyY2Uuc2NhbGE=) | `75.22% <0.00%> (-2.23%)` | :arrow_down: |\n| ... and [36 more](https://codecov.io/gh/apache/hudi/pull/3126/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/hudi/pull/3126?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/hudi/pull/3126?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [adf1679...548390e](https://codecov.io/gh/apache/hudi/pull/3126?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865177596/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865345707","html_url":"https://github.com/apache/hudi/pull/3128#issuecomment-865345707","issue_url":"https://api.github.com/repos/apache/hudi/issues/3128","id":865345707,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTM0NTcwNw==","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T21:09:16Z","updated_at":"2021-07-14T06:17:57Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"264aaba2e451e1579fd1e3c4fc378ad7563ce3bd\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=328\",\n    \"triggerID\" : \"264aaba2e451e1579fd1e3c4fc378ad7563ce3bd\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"973773c06c47af2ed5410c0938e690ea3aad7f48\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=330\",\n    \"triggerID\" : \"973773c06c47af2ed5410c0938e690ea3aad7f48\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"2f8c0835c87a73417c3c0c05f1d515b61acba352\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=830\",\n    \"triggerID\" : \"2f8c0835c87a73417c3c0c05f1d515b61acba352\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"5f8d112453cf0c9fc1f9f4dcb081f6f82459ca4e\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=899\",\n    \"triggerID\" : \"5f8d112453cf0c9fc1f9f4dcb081f6f82459ca4e\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 5f8d112453cf0c9fc1f9f4dcb081f6f82459ca4e Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=899) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865345707/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865384115","html_url":"https://github.com/apache/hudi/pull/3128#issuecomment-865384115","issue_url":"https://api.github.com/repos/apache/hudi/issues/3128","id":865384115,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTM4NDExNQ==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T22:23:52Z","updated_at":"2021-07-14T06:24:04Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/3128?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3128](https://codecov.io/gh/apache/hudi/pull/3128?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (5f8d112) into [master](https://codecov.io/gh/apache/hudi/commit/01ad449ad68d9c77ee1493fcdf833df53df6106a?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (01ad449) will **decrease** coverage by `4.41%`.\n> The diff coverage is `37.44%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/3128/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/hudi/pull/3128?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #3128      +/-   ##\n============================================\n- Coverage     52.19%   47.77%   -4.42%     \n- Complexity     2659     5560    +2901     \n============================================\n  Files           335      935     +600     \n  Lines         14981    41576   +26595     \n  Branches       1505     4183    +2678     \n============================================\n+ Hits           7819    19864   +12045     \n- Misses         6536    19946   +13410     \n- Partials        626     1766    +1140     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| hudicli | `39.97% <21.39%> (+1.14%)` | :arrow_up: |\n| hudiclient | `34.47% <39.38%> (∅)` | |\n| hudicommon | `48.63% <ø> (-6.11%)` | :arrow_down: |\n| hudiflink | `60.03% <ø> (?)` | |\n| hudihadoopmr | `51.55% <ø> (+18.25%)` | :arrow_up: |\n| hudisparkdatasource | `67.21% <ø> (?)` | |\n| hudisync | `55.73% <ø> (?)` | |\n| huditimelineservice | `64.07% <ø> (-1.23%)` | :arrow_down: |\n| hudiutilities | `59.26% <ø> (-10.39%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/3128?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...a/org/apache/hudi/cli/HoodieTableHeaderFields.java](https://codecov.io/gh/apache/hudi/pull/3128/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpL0hvb2RpZVRhYmxlSGVhZGVyRmllbGRzLmphdmE=) | `0.00% <ø> (ø)` | |\n| [...rg/apache/hudi/cli/commands/SavepointsCommand.java](https://codecov.io/gh/apache/hudi/pull/3128/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpL2NvbW1hbmRzL1NhdmVwb2ludHNDb21tYW5kLmphdmE=) | `13.84% <0.00%> (-0.44%)` | :arrow_down: |\n| [...org/apache/hudi/cli/utils/InputStreamConsumer.java](https://codecov.io/gh/apache/hudi/pull/3128/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpL3V0aWxzL0lucHV0U3RyZWFtQ29uc3VtZXIuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...ain/scala/org/apache/hudi/cli/DedupeSparkJob.scala](https://codecov.io/gh/apache/hudi/pull/3128/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGkvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL2NsaS9EZWR1cGVTcGFya0pvYi5zY2FsYQ==) | `0.00% <0.00%> (ø)` | |\n| [.../main/scala/org/apache/hudi/cli/SparkHelpers.scala](https://codecov.io/gh/apache/hudi/pull/3128/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGkvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL2NsaS9TcGFya0hlbHBlcnMuc2NhbGE=) | `0.00% <0.00%> (ø)` | |\n| [.../org/apache/hudi/async/AsyncClusteringService.java](https://codecov.io/gh/apache/hudi/pull/3128/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1jbGllbnQtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2FzeW5jL0FzeW5jQ2x1c3RlcmluZ1NlcnZpY2UuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...ava/org/apache/hudi/async/AsyncCompactService.java](https://codecov.io/gh/apache/hudi/pull/3128/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1jbGllbnQtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2FzeW5jL0FzeW5jQ29tcGFjdFNlcnZpY2UuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...java/org/apache/hudi/async/HoodieAsyncService.java](https://codecov.io/gh/apache/hudi/pull/3128/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1jbGllbnQtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2FzeW5jL0hvb2RpZUFzeW5jU2VydmljZS5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...ient/http/HoodieWriteCommitHttpCallbackClient.java](https://codecov.io/gh/apache/hudi/pull/3128/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1jbGllbnQtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2NhbGxiYWNrL2NsaWVudC9odHRwL0hvb2RpZVdyaXRlQ29tbWl0SHR0cENhbGxiYWNrQ2xpZW50LmphdmE=) | `51.35% <0.00%> (ø)` | |\n| [...udi/callback/util/HoodieCommitCallbackFactory.java](https://codecov.io/gh/apache/hudi/pull/3128/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1jbGllbnQtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2NhbGxiYWNrL3V0aWwvSG9vZGllQ29tbWl0Q2FsbGJhY2tGYWN0b3J5LmphdmE=) | `0.00% <0.00%> (ø)` | |\n| ... and [907 more](https://codecov.io/gh/apache/hudi/pull/3128/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/hudi/pull/3128?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/hudi/pull/3128?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [f0a2f37...5f8d112](https://codecov.io/gh/apache/hudi/pull/3128?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865384115/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865394567","html_url":"https://github.com/apache/hudi/pull/3108#issuecomment-865394567","issue_url":"https://api.github.com/repos/apache/hudi/issues/3108","id":865394567,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTM5NDU2Nw==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T22:51:19Z","updated_at":"2021-07-02T15:04:08Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/3108?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3108](https://codecov.io/gh/apache/hudi/pull/3108?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (8489097) into [master](https://codecov.io/gh/apache/hudi/commit/cdb9b48170ef98634babd8954392efb1c1b90fcf?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (cdb9b48) will **increase** coverage by `1.64%`.\n> The diff coverage is `0.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/3108/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/hudi/pull/3108?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #3108      +/-   ##\n============================================\n+ Coverage     45.85%   47.50%   +1.64%     \n- Complexity     5269     5427     +158     \n============================================\n  Files           908      922      +14     \n  Lines         39332    40963    +1631     \n  Branches       4239     4100     -139     \n============================================\n+ Hits          18036    19458    +1422     \n- Misses        19451    19784     +333     \n+ Partials       1845     1721     -124     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| hudicli | `40.00% <ø> (+0.05%)` | :arrow_up: |\n| hudiclient | `34.58% <ø> (+4.13%)` | :arrow_up: |\n| hudicommon | `48.37% <0.00%> (+0.79%)` | :arrow_up: |\n| hudiflink | `59.91% <ø> (-1.43%)` | :arrow_down: |\n| hudihadoopmr | `51.29% <ø> (ø)` | |\n| hudisparkdatasource | `67.23% <ø> (+0.70%)` | :arrow_up: |\n| hudisync | `54.05% <ø> (+2.31%)` | :arrow_up: |\n| huditimelineservice | `64.07% <ø> (-0.29%)` | :arrow_down: |\n| hudiutilities | `58.02% <ø> (+1.38%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/3108?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...del/OverwriteNonDefaultsWithLatestAvroPayload.java](https://codecov.io/gh/apache/hudi/pull/3108/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL092ZXJ3cml0ZU5vbkRlZmF1bHRzV2l0aExhdGVzdEF2cm9QYXlsb2FkLmphdmE=) | `75.00% <0.00%> (-3.95%)` | :arrow_down: |\n| [...i/common/model/OverwriteWithLatestAvroPayload.java](https://codecov.io/gh/apache/hudi/pull/3108/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL092ZXJ3cml0ZVdpdGhMYXRlc3RBdnJvUGF5bG9hZC5qYXZh) | `60.00% <0.00%> (ø)` | |\n| [...g/apache/hudi/utilities/schema/SchemaProvider.java](https://codecov.io/gh/apache/hudi/pull/3108/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFQcm92aWRlci5qYXZh) | `71.42% <0.00%> (-28.58%)` | :arrow_down: |\n| [...e/hudi/sink/partitioner/profile/WriteProfiles.java](https://codecov.io/gh/apache/hudi/pull/3108/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL3BhcnRpdGlvbmVyL3Byb2ZpbGUvV3JpdGVQcm9maWxlcy5qYXZh) | `46.80% <0.00%> (-5.70%)` | :arrow_down: |\n| [...java/org/apache/hudi/sink/StreamWriteFunction.java](https://codecov.io/gh/apache/hudi/pull/3108/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL1N0cmVhbVdyaXRlRnVuY3Rpb24uamF2YQ==) | `81.48% <0.00%> (-3.37%)` | :arrow_down: |\n| [.../java/org/apache/hudi/table/HoodieTableSource.java](https://codecov.io/gh/apache/hudi/pull/3108/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS90YWJsZS9Ib29kaWVUYWJsZVNvdXJjZS5qYXZh) | `56.64% <0.00%> (-3.25%)` | :arrow_down: |\n| [...src/main/scala/org/apache/hudi/DefaultSource.scala](https://codecov.io/gh/apache/hudi/pull/3108/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL0RlZmF1bHRTb3VyY2Uuc2NhbGE=) | `75.22% <0.00%> (-2.23%)` | :arrow_down: |\n| [...i/utilities/deser/KafkaAvroSchemaDeserializer.java](https://codecov.io/gh/apache/hudi/pull/3108/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2Rlc2VyL0thZmthQXZyb1NjaGVtYURlc2VyaWFsaXplci5qYXZh) | `81.25% <0.00%> (-2.09%)` | :arrow_down: |\n| [...e/hudi/common/table/log/HoodieLogFormatWriter.java](https://codecov.io/gh/apache/hudi/pull/3108/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9Ib29kaWVMb2dGb3JtYXRXcml0ZXIuamF2YQ==) | `78.12% <0.00%> (-1.57%)` | :arrow_down: |\n| [...in/java/org/apache/hudi/hive/HoodieHiveClient.java](https://codecov.io/gh/apache/hudi/pull/3108/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zeW5jL2h1ZGktaGl2ZS1zeW5jL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2hpdmUvSG9vZGllSGl2ZUNsaWVudC5qYXZh) | `70.14% <0.00%> (-1.47%)` | :arrow_down: |\n| ... and [101 more](https://codecov.io/gh/apache/hudi/pull/3108/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/hudi/pull/3108?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/hudi/pull/3108?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [cdb9b48...8489097](https://codecov.io/gh/apache/hudi/pull/3108?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865394567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865405861","html_url":"https://github.com/apache/hudi/issues/3127#issuecomment-865405861","issue_url":"https://api.github.com/repos/apache/hudi/issues/3127","id":865405861,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTQwNTg2MQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T23:16:45Z","updated_at":"2021-06-21T23:16:45Z","author_association":"CONTRIBUTOR","body":"@arun990 Are you following these instructions on using pyspark with Hudi -> https://hudi.apache.org/docs/spark_quick-start-guide.html#pyspark-example ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865405861/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865410086","html_url":"https://github.com/apache/hudi/issues/3113#issuecomment-865410086","issue_url":"https://api.github.com/repos/apache/hudi/issues/3113","id":865410086,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTQxMDA4Ng==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T23:27:53Z","updated_at":"2021-06-21T23:27:53Z","author_association":"CONTRIBUTOR","body":"@jkdll Can you try changing your schema as follows : \r\n\r\n```\r\n{\r\n                            \"name\": \"Title\",\r\n                            \"type\": [\r\n                              \"null\",\r\n                              {\r\n                                \"type\": \"record\",\r\n                                \"name\": \"body\",\r\n                                \"namespace\": \"Title.additional.Payload\",\r\n                                \"fields\": [\r\n                                  {\r\n                                    \"name\": \"Name\",\r\n                                    \"type\": [\r\n                                      \"null\",\r\n                                      \"string\"\r\n                                    ]\r\n                                  },\r\n                                  {\r\n                                    \"name\": \"value\",\r\n                                    \"type\": [\r\n                                      \"null\",\r\n                                      \"string\"\r\n                                    ]\r\n                                  }\r\n                                ]\r\n                              }\r\n                            ],\r\n                            \"default\": null\r\n                          }\r\n```\r\n\r\nThe \"Name\" field did not have a default value NULL before. \r\n\r\nTo be able to debug this further, could you trim down your schema to provide 1 with which we can reproduce this behavior ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865410086/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865411053","html_url":"https://github.com/apache/hudi/issues/3095#issuecomment-865411053","issue_url":"https://api.github.com/repos/apache/hudi/issues/3095","id":865411053,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTQxMTA1Mw==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T23:30:58Z","updated_at":"2021-06-21T23:30:58Z","author_association":"CONTRIBUTOR","body":"@tamil-balaiah This looks like a deployment problem with AWS EMR and not specifically a Hudi issue. Have you tried reaching out to the AWS support team ? \r\n\r\ncc @umehrot2 ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865411053/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865413205","html_url":"https://github.com/apache/hudi/issues/3094#issuecomment-865413205","issue_url":"https://api.github.com/repos/apache/hudi/issues/3094","id":865413205,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTQxMzIwNQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T23:37:43Z","updated_at":"2021-06-21T23:37:43Z","author_association":"CONTRIBUTOR","body":"@moranyuwen Could you please provide the full stack trace from the output to be able to debug the issue ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865413205/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865418114","html_url":"https://github.com/apache/hudi/issues/3078#issuecomment-865418114","issue_url":"https://api.github.com/repos/apache/hudi/issues/3078","id":865418114,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTQxODExNA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T23:45:04Z","updated_at":"2021-06-21T23:45:04Z","author_association":"CONTRIBUTOR","body":"@tandonraghav Let me explain in details\r\n\r\n1. `preCombine` -> This is used in the following code paths a) In-Memory deduping/merging of incoming records. The logic in preCombine decides how 2 records with the same record key will be deduped b) On-Disk deduping/merging of incoming records. The same logic in preCombine decides how 2 records will the same record key in log files will be merged/deduped. \r\n2. `combineAndGetUpdateValue` -> This is used to merge the in-memory record with the one on disk. \r\n\r\nIdeally, you want to keep the merging logic of in-memory vs on-disk the same. Let's take the following use-case - You are ingesting 100 records per batch. Let's say out of those 100 records, 2 have the same record key. Now, if all the 100 records were part of the same batch, you would probably apply preCombine to dedup - whether in-memory or in log files. But what if the 2 records came in different batches. Now, you will apply `combineAndGetUpdateValue` to merge the 2 records. If your behavior is not the same in both the implementations, you can get different results.\r\n\r\nThe reason to keep both of these API's different was to provide more flexibility. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865418114/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865422129","html_url":"https://github.com/apache/hudi/issues/3077#issuecomment-865422129","issue_url":"https://api.github.com/repos/apache/hudi/issues/3077","id":865422129,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTQyMjEyOQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T23:55:20Z","updated_at":"2021-06-21T23:55:20Z","author_association":"CONTRIBUTOR","body":"@karan867 Can you try setting the following parameters ?\r\n\r\n1. https://hudi.apache.org/docs/configurations.html#withIndexType -> Set the index type to SIMPLE. \r\n2. https://hudi.apache.org/docs/configurations.html#compactionSmallFileSize -> Set this config to 0.\r\n\r\nBoth of the above should speed up your ingestion. Hudi attempts to find small files and then pack records into them to ensure that small files are never created. For faster ingestion, this is a trade-off you can take.\r\n\r\nFor more details, you can check this blog -> https://hudi.apache.org/blog/hudi-file-sizing/","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865422129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865422520","html_url":"https://github.com/apache/hudi/issues/3065#issuecomment-865422520","issue_url":"https://api.github.com/repos/apache/hudi/issues/3065","id":865422520,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTQyMjUyMA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T23:56:35Z","updated_at":"2021-06-21T23:56:35Z","author_association":"CONTRIBUTOR","body":"@wangfeigithub It's hard to say what the issue really is but one thing I can see is that MARKER files are generally under a \".\" directory. Do you think Windows fs might not be recognizing that ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865422520/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865424978","html_url":"https://github.com/apache/hudi/issues/3054#issuecomment-865424978","issue_url":"https://api.github.com/repos/apache/hudi/issues/3054","id":865424978,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTQyNDk3OA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T00:03:41Z","updated_at":"2021-06-22T00:03:41Z","author_association":"CONTRIBUTOR","body":"@FelixKJose You can do time travel in the following way: \r\n\r\n**Using Spark**\r\n\r\n```\r\nDataset<Row> hudiIncQueryDF = spark.read()\r\n     .format(\"org.apache.hudi\")\r\n     .option(DataSourceReadOptions.QUERY_TYPE_OPT_KEY(), DataSourceReadOptions.QUERY_TYPE_INCREMENTAL_OPT_VAL())\r\n     .option(DataSourceReadOptions.BEGIN_INSTANTTIME_OPT_KEY(), <beginInstantTime>)\r\n     .option(DataSourceReadOptions.END_INSTANTTIME_OPT_KEY(), <endInstantTime>)\r\n     .option(DataSourceReadOptions.INCR_PATH_GLOB_OPT_KEY(), \"/year=2020/month=*/day=*\") // Optional, use glob pattern if querying certain partitions\r\n     .load(tablePath); // For incremental query, pass in the root/base path of table\r\n     \r\nhudiIncQueryDF.createOrReplaceTempView(\"hudi_trips_incremental\")\r\nspark.sql(\"select `_hoodie_commit_time`, fare, begin_lon, begin_lat, ts from  hudi_trips_incremental where fare > 20.0\").show()\r\n```\r\n\r\n**Using Hive**\r\n\r\n```\r\nhive_shell> set hoodie.source_table_name.consume.mode=incremental\r\nhive_shell> set hoodie.table_name.consume.start.timestamp=<beginInstantTime>\r\nconvert_endInstantTime_to_num_commits_to_read=5\r\nhive_shell> set hoodie.table_name.consume.max.commits=5\r\nhive_shell> select `_hoodie_commit_time`, fare, begin_lon, begin_lat, ts from  source_table_name where fare > 20.0\r\n```\r\n\r\nIdeally, we should add a `hoodie.table_name.consume.end.timestamp` to support the same behavior in Hive. \r\n\r\n@fengjian428 For the incremental pull using Spark, the INCR_PATH_GLOB_OPT_KEY will just be used to incrementally pull data based on commit ranges. This works on file level. If you want to query data within a commit range based on other columns and then use that as \"incremental pull\" - Yes, that's where the data skipping index will be helpful. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865424978/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865426911","html_url":"https://github.com/apache/hudi/pull/3109#issuecomment-865426911","issue_url":"https://api.github.com/repos/apache/hudi/issues/3109","id":865426911,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTQyNjkxMQ==","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T00:08:45Z","updated_at":"2021-06-22T00:08:45Z","author_association":"CONTRIBUTOR","body":"> I agree. I am just repeating @leesf 's point that the transitions being the way they are. this fix is more for code semantics than actual problem. I am cool with this. let's land if you are all happy.\r\n\r\nThanks, +1 with the fix.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865426911/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865442514","html_url":"https://github.com/apache/hudi/issues/3127#issuecomment-865442514","issue_url":"https://api.github.com/repos/apache/hudi/issues/3127","id":865442514,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTQ0MjUxNA==","user":{"login":"arun990","id":84760284,"node_id":"MDQ6VXNlcjg0NzYwMjg0","avatar_url":"https://avatars.githubusercontent.com/u/84760284?v=4","gravatar_id":"","url":"https://api.github.com/users/arun990","html_url":"https://github.com/arun990","followers_url":"https://api.github.com/users/arun990/followers","following_url":"https://api.github.com/users/arun990/following{/other_user}","gists_url":"https://api.github.com/users/arun990/gists{/gist_id}","starred_url":"https://api.github.com/users/arun990/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arun990/subscriptions","organizations_url":"https://api.github.com/users/arun990/orgs","repos_url":"https://api.github.com/users/arun990/repos","events_url":"https://api.github.com/users/arun990/events{/privacy}","received_events_url":"https://api.github.com/users/arun990/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T00:57:57Z","updated_at":"2021-06-22T00:57:57Z","author_association":"NONE","body":"Hi @n3nash, Thanks for quick update.\r\nYes, followed these instructions on using pyspark with Hudi -> https://hudi.apache.org/docs/spark_quick-start-guide.html#pyspark-example and its working fine for spark 2.4.7 on google cloud for cow tables.\r\nBut we have spark 2.4.0 with python 2.7 (and python 3.6) for DEV, UAT, PROPROD and PROD environments. I need to \r\nmake it work for spark 2.4.0. \r\nFollowing this, provisioned spark 2.4.0 cluster on aws and attempted to save hudi cow tables to hdfs (without hive and set the hive sync as false).\r\nIn that process of making it work for spark 2.4.0, getting the shared error.\r\nspark 2.4.0 is important for us as we have all environments with it and its only next year end we move to spark 2.4.5.\r\nPls help.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865442514/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865448503","html_url":"https://github.com/apache/hudi/pull/2906#issuecomment-865448503","issue_url":"https://api.github.com/repos/apache/hudi/issues/2906","id":865448503,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTQ0ODUwMw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T01:14:44Z","updated_at":"2021-06-22T01:14:44Z","author_association":"MEMBER","body":"pass rate is going up, only so slowly. I feel we should fix the current CI flakiness. (planning to work on it after a round of PR reviews) and get the metrics looking good, before switch over\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865448503/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865461073","html_url":"https://github.com/apache/hudi/pull/2906#issuecomment-865461073","issue_url":"https://api.github.com/repos/apache/hudi/issues/2906","id":865461073,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTQ2MTA3Mw==","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T01:55:53Z","updated_at":"2021-06-22T01:55:53Z","author_association":"MEMBER","body":"@vinothchandar master builds are more or less stable now. (earlier failures all due to a caching misconfig)\r\nhttps://dev.azure.com/apache-hudi-ci-org/apache-hudi-ci/_build?definitionId=3\r\n\r\nbranch builds not for reference though, things just fail due to checkstyle or random commits pushed.\r\n\r\nYea i agree fixing flakiness more important, no need to rush to switch over.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865461073/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865486663","html_url":"https://github.com/apache/hudi/pull/2923#issuecomment-865486663","issue_url":"https://api.github.com/repos/apache/hudi/issues/2923","id":865486663,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTQ4NjY2Mw==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T02:50:26Z","updated_at":"2021-06-22T02:50:45Z","author_association":"CONTRIBUTOR","body":"@n3nash : Can you please respond to the author. I don't have much exp in this.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865486663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865488983","html_url":"https://github.com/apache/hudi/issues/3127#issuecomment-865488983","issue_url":"https://api.github.com/repos/apache/hudi/issues/3127","id":865488983,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTQ4ODk4Mw==","user":{"login":"arun990","id":84760284,"node_id":"MDQ6VXNlcjg0NzYwMjg0","avatar_url":"https://avatars.githubusercontent.com/u/84760284?v=4","gravatar_id":"","url":"https://api.github.com/users/arun990","html_url":"https://github.com/arun990","followers_url":"https://api.github.com/users/arun990/followers","following_url":"https://api.github.com/users/arun990/following{/other_user}","gists_url":"https://api.github.com/users/arun990/gists{/gist_id}","starred_url":"https://api.github.com/users/arun990/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arun990/subscriptions","organizations_url":"https://api.github.com/users/arun990/orgs","repos_url":"https://api.github.com/users/arun990/repos","events_url":"https://api.github.com/users/arun990/events{/privacy}","received_events_url":"https://api.github.com/users/arun990/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T02:57:39Z","updated_at":"2021-06-22T02:57:39Z","author_association":"NONE","body":"Hi, checked with hive sync as true also after setting up spark 2.4.0 with hive.\r\nGetting the same error as mentioned below. \r\nPlease advise.\r\ndf.write.format(\"org.apache.hudi\").options(**hudiOptions).mode(\"append\").save(sys.argv[5])\r\n  File \"/usr/lib/spark/python/lib/pyspark.zip/pyspark/sql/readwriter.py\", line 736, in save\r\n  File \"/usr/lib/spark/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py\", line 1257, in __call__\r\n  File \"/usr/lib/spark/python/lib/pyspark.zip/pyspark/sql/utils.py\", line 63, in deco\r\n  File \"/usr/lib/spark/python/lib/py4j-0.10.7-src.zip/py4j/protocol.py\", line 32 8, in get_return_value\r\npy4j.protocol.Py4JJavaError: An error occurred while calling o156.save.\r\n: java.lang.NoSuchMethodError: org.apache.spark.sql.execution.datasources.DataSourceUtils$.PARTITIONING_COLUMNS_KEY()Ljava/lang/String;\r\n        at org.apache.hudi.DataSourceWriteOptions$.translateSqlOptions(DataSourceOptions.scala:206)\r\n        at org.apache.hudi.DefaultSource.createRelation(DefaultSource.scala:139)\r\n        at org.apache.spark.sql.execution.datasources.SaveIntoDataSourceCommand. run(SaveIntoDataSourceCommand.scala:45)\r\n        at org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffect Result$lzycompute(commands.scala:70)\r\n        at org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffect Result(commands.scala:68)\r\n        at org.apache.spark.sql.execution.command.ExecutedCommandExec.doExecute(commands.scala:86)\r\n        at org.apache.spark.sql.execution.SparkPlan$$anonfun$execute$1.apply(SparkPlan.scala:131)\r\n        at org.apache.spark.sql.execution.SparkPlan$$anonfun$execute$1.apply(SparkPlan.scala:127)\r\n        at org.apache.spark.sql.execution.SparkPlan$$anonfun$executeQuery$1.apply(SparkPlan.scala:155)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865488983/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865496662","html_url":"https://github.com/apache/hudi/pull/2445#issuecomment-865496662","issue_url":"https://api.github.com/repos/apache/hudi/issues/2445","id":865496662,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTQ5NjY2Mg==","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T03:18:10Z","updated_at":"2021-07-16T02:34:46Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"0ec33207b3050fbb698cf02eeb6ca5d693ca6cae\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"0ec33207b3050fbb698cf02eeb6ca5d693ca6cae\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"9aa155618d6c810fe9207a66373980bf0e93abf9\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"9aa155618d6c810fe9207a66373980bf0e93abf9\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"1068b7f87a55fb9b38030973cf09c0522c4fe148\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"1068b7f87a55fb9b38030973cf09c0522c4fe148\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 0ec33207b3050fbb698cf02eeb6ca5d693ca6cae UNKNOWN\n* 9aa155618d6c810fe9207a66373980bf0e93abf9 UNKNOWN\n* 1068b7f87a55fb9b38030973cf09c0522c4fe148 UNKNOWN\n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865496662/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865644460","html_url":"https://github.com/apache/hudi/pull/3129#issuecomment-865644460","issue_url":"https://api.github.com/repos/apache/hudi/issues/3129","id":865644460,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTY0NDQ2MA==","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T06:46:37Z","updated_at":"2021-06-22T13:25:39Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"78662e622a72857b126835f149543d5bda3a9ed1\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=343\",\n    \"triggerID\" : \"78662e622a72857b126835f149543d5bda3a9ed1\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"48404f0214abfc089b24d9f66022258bea45c978\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=351\",\n    \"triggerID\" : \"48404f0214abfc089b24d9f66022258bea45c978\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 48404f0214abfc089b24d9f66022258bea45c978 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=351) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865644460/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865647016","html_url":"https://github.com/apache/hudi/pull/3120#issuecomment-865647016","issue_url":"https://api.github.com/repos/apache/hudi/issues/3120","id":865647016,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTY0NzAxNg==","user":{"login":"pengzhiwei2018","id":42458891,"node_id":"MDQ6VXNlcjQyNDU4ODkx","avatar_url":"https://avatars.githubusercontent.com/u/42458891?v=4","gravatar_id":"","url":"https://api.github.com/users/pengzhiwei2018","html_url":"https://github.com/pengzhiwei2018","followers_url":"https://api.github.com/users/pengzhiwei2018/followers","following_url":"https://api.github.com/users/pengzhiwei2018/following{/other_user}","gists_url":"https://api.github.com/users/pengzhiwei2018/gists{/gist_id}","starred_url":"https://api.github.com/users/pengzhiwei2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pengzhiwei2018/subscriptions","organizations_url":"https://api.github.com/users/pengzhiwei2018/orgs","repos_url":"https://api.github.com/users/pengzhiwei2018/repos","events_url":"https://api.github.com/users/pengzhiwei2018/events{/privacy}","received_events_url":"https://api.github.com/users/pengzhiwei2018/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T06:51:17Z","updated_at":"2021-06-22T06:51:17Z","author_association":"NONE","body":"Hi @umehrot2 ,Currently `HoodieBootstrapRelation` can not read bootstrap MOR `rt` table which will return the same result as `ro` table.  After we have synced the spark datasource properties in `HiveSyncTool` in this PR, The test case `ITTestHoodieDemo#testSparkSQLAfterSecondBatch` will failed. Because spark will read the bootstrap mor `rt` by the `HoodieBootstrapRelation`. \r\nSo I think we should support reading `rt` table in `HoodieBootstrapRelation` before we can merge this PR. Can you give me some suggestion? thanks~","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865647016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865650383","html_url":"https://github.com/apache/hudi/pull/3129#issuecomment-865650383","issue_url":"https://api.github.com/repos/apache/hudi/issues/3129","id":865650383,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTY1MDM4Mw==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T06:57:32Z","updated_at":"2021-06-22T17:49:32Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/3129?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3129](https://codecov.io/gh/apache/hudi/pull/3129?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (48404f0) into [master](https://codecov.io/gh/apache/hudi/commit/cdb9b48170ef98634babd8954392efb1c1b90fcf?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (cdb9b48) will **decrease** coverage by `1.71%`.\n> The diff coverage is `50.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/3129/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/hudi/pull/3129?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #3129      +/-   ##\n============================================\n- Coverage     45.85%   44.14%   -1.72%     \n+ Complexity     5269     4535     -734     \n============================================\n  Files           908      819      -89     \n  Lines         39332    36173    -3159     \n  Branches       4239     3920     -319     \n============================================\n- Hits          18036    15967    -2069     \n+ Misses        19451    18472     -979     \n+ Partials       1845     1734     -111     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| hudicli | `39.95% <ø> (ø)` | |\n| hudiclient | `16.44% <ø> (-14.00%)` | :arrow_down: |\n| hudicommon | `47.58% <ø> (+<0.01%)` | :arrow_up: |\n| hudiflink | `61.08% <ø> (-0.26%)` | :arrow_down: |\n| hudihadoopmr | `51.29% <ø> (ø)` | |\n| hudisparkdatasource | `67.05% <ø> (+0.52%)` | :arrow_up: |\n| hudisync | `51.73% <ø> (ø)` | |\n| huditimelineservice | `64.36% <ø> (ø)` | |\n| hudiutilities | `58.36% <50.00%> (+1.72%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/3129?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...ties/deltastreamer/HoodieDeltaStreamerMetrics.java](https://codecov.io/gh/apache/hudi/pull/3129/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvSG9vZGllRGVsdGFTdHJlYW1lck1ldHJpY3MuamF2YQ==) | `35.89% <33.33%> (-0.22%)` | :arrow_down: |\n| [...apache/hudi/utilities/deltastreamer/DeltaSync.java](https://codecov.io/gh/apache/hudi/pull/3129/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvRGVsdGFTeW5jLmphdmE=) | `70.94% <100.00%> (+0.09%)` | :arrow_up: |\n| [...e/hudi/sink/partitioner/profile/WriteProfiles.java](https://codecov.io/gh/apache/hudi/pull/3129/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL3BhcnRpdGlvbmVyL3Byb2ZpbGUvV3JpdGVQcm9maWxlcy5qYXZh) | `50.00% <0.00%> (-2.50%)` | :arrow_down: |\n| [...i/common/table/timeline/HoodieDefaultTimeline.java](https://codecov.io/gh/apache/hudi/pull/3129/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3RpbWVsaW5lL0hvb2RpZURlZmF1bHRUaW1lbGluZS5qYXZh) | `79.22% <0.00%> (-1.30%)` | :arrow_down: |\n| [...java/org/apache/hudi/sink/StreamWriteFunction.java](https://codecov.io/gh/apache/hudi/pull/3129/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL1N0cmVhbVdyaXRlRnVuY3Rpb24uamF2YQ==) | `84.34% <0.00%> (-0.51%)` | :arrow_down: |\n| [...c/main/java/org/apache/hudi/util/StreamerUtil.java](https://codecov.io/gh/apache/hudi/pull/3129/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS91dGlsL1N0cmVhbWVyVXRpbC5qYXZh) | `55.00% <0.00%> (-0.47%)` | :arrow_down: |\n| [...va/org/apache/hudi/metadata/BaseTableMetadata.java](https://codecov.io/gh/apache/hudi/pull/3129/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvQmFzZVRhYmxlTWV0YWRhdGEuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...apache/hudi/sink/compact/HoodieFlinkCompactor.java](https://codecov.io/gh/apache/hudi/pull/3129/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL2NvbXBhY3QvSG9vZGllRmxpbmtDb21wYWN0b3IuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...pache/hudi/common/config/HoodieMetadataConfig.java](https://codecov.io/gh/apache/hudi/pull/3129/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2NvbmZpZy9Ib29kaWVNZXRhZGF0YUNvbmZpZy5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...pache/hudi/metadata/HoodieBackedTableMetadata.java](https://codecov.io/gh/apache/hudi/pull/3129/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvSG9vZGllQmFja2VkVGFibGVNZXRhZGF0YS5qYXZh) | `0.00% <0.00%> (ø)` | |\n| ... and [111 more](https://codecov.io/gh/apache/hudi/pull/3129/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/hudi/pull/3129?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/hudi/pull/3129?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [cdb9b48...48404f0](https://codecov.io/gh/apache/hudi/pull/3129?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865650383/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865656358","html_url":"https://github.com/apache/hudi/pull/2893#issuecomment-865656358","issue_url":"https://api.github.com/repos/apache/hudi/issues/2893","id":865656358,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTY1NjM1OA==","user":{"login":"pengzhiwei2018","id":42458891,"node_id":"MDQ6VXNlcjQyNDU4ODkx","avatar_url":"https://avatars.githubusercontent.com/u/42458891?v=4","gravatar_id":"","url":"https://api.github.com/users/pengzhiwei2018","html_url":"https://github.com/pengzhiwei2018","followers_url":"https://api.github.com/users/pengzhiwei2018/followers","following_url":"https://api.github.com/users/pengzhiwei2018/following{/other_user}","gists_url":"https://api.github.com/users/pengzhiwei2018/gists{/gist_id}","starred_url":"https://api.github.com/users/pengzhiwei2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pengzhiwei2018/subscriptions","organizations_url":"https://api.github.com/users/pengzhiwei2018/orgs","repos_url":"https://api.github.com/users/pengzhiwei2018/repos","events_url":"https://api.github.com/users/pengzhiwei2018/events{/privacy}","received_events_url":"https://api.github.com/users/pengzhiwei2018/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T07:06:38Z","updated_at":"2021-06-22T07:06:38Z","author_association":"NONE","body":"> @vinothchandar @pengzhiwei2018 addressed the latest comments. If it looks good to you guys, I can land it.\r\n\r\nLGTM! Thanks for this great contribution @umehrot2 .","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865656358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865669477","html_url":"https://github.com/apache/hudi/pull/3130#issuecomment-865669477","issue_url":"https://api.github.com/repos/apache/hudi/issues/3130","id":865669477,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTY2OTQ3Nw==","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T07:28:18Z","updated_at":"2021-06-22T14:38:07Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"be694745919b2331a36e1c6e7873ee5512653041\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=347\",\n    \"triggerID\" : \"be694745919b2331a36e1c6e7873ee5512653041\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"5621f42a81cf87add0c68e93eba632a49bcaa4c5\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=353\",\n    \"triggerID\" : \"5621f42a81cf87add0c68e93eba632a49bcaa4c5\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 5621f42a81cf87add0c68e93eba632a49bcaa4c5 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=353) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865669477/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865672234","html_url":"https://github.com/apache/hudi/pull/3130#issuecomment-865672234","issue_url":"https://api.github.com/repos/apache/hudi/issues/3130","id":865672234,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTY3MjIzNA==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T07:32:33Z","updated_at":"2021-06-23T08:24:40Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/3130?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3130](https://codecov.io/gh/apache/hudi/pull/3130?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (5621f42) into [master](https://codecov.io/gh/apache/hudi/commit/4fd8a88b7ef4666f0be90eed864fe3cf1ef896ee?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (4fd8a88) will **increase** coverage by `1.49%`.\n> The diff coverage is `100.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/3130/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/hudi/pull/3130?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #3130      +/-   ##\n============================================\n+ Coverage     42.48%   43.97%   +1.49%     \n+ Complexity     4931     4534     -397     \n============================================\n  Files           914      819      -95     \n  Lines         39592    36301    -3291     \n  Branches       4269     3939     -330     \n============================================\n- Hits          16822    15965     -857     \n+ Misses        21037    18603    -2434     \n  Partials       1733     1733              \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| hudicli | `39.95% <ø> (ø)` | |\n| hudiclient | `16.21% <ø> (-14.24%)` | :arrow_down: |\n| hudicommon | `47.58% <ø> (+0.02%)` | :arrow_up: |\n| hudiflink | `61.08% <ø> (-0.04%)` | :arrow_down: |\n| hudihadoopmr | `51.29% <ø> (ø)` | |\n| hudisparkdatasource | `67.05% <ø> (+0.13%)` | :arrow_up: |\n| hudisync | `51.73% <ø> (ø)` | |\n| huditimelineservice | `64.36% <ø> (ø)` | |\n| hudiutilities | `58.37% <100.00%> (+48.85%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/3130?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [.../apache/hudi/utilities/HoodieSnapshotExporter.java](https://codecov.io/gh/apache/hudi/pull/3130/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL0hvb2RpZVNuYXBzaG90RXhwb3J0ZXIuamF2YQ==) | `88.79% <100.00%> (+5.17%)` | :arrow_up: |\n| [...e/hudi/sink/partitioner/profile/WriteProfiles.java](https://codecov.io/gh/apache/hudi/pull/3130/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL3BhcnRpdGlvbmVyL3Byb2ZpbGUvV3JpdGVQcm9maWxlcy5qYXZh) | `50.00% <0.00%> (-2.50%)` | :arrow_down: |\n| [...i/common/table/timeline/HoodieDefaultTimeline.java](https://codecov.io/gh/apache/hudi/pull/3130/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3RpbWVsaW5lL0hvb2RpZURlZmF1bHRUaW1lbGluZS5qYXZh) | `79.22% <0.00%> (-1.30%)` | :arrow_down: |\n| [...va/org/apache/hudi/metadata/BaseTableMetadata.java](https://codecov.io/gh/apache/hudi/pull/3130/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvQmFzZVRhYmxlTWV0YWRhdGEuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...pache/hudi/common/config/HoodieMetadataConfig.java](https://codecov.io/gh/apache/hudi/pull/3130/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2NvbmZpZy9Ib29kaWVNZXRhZGF0YUNvbmZpZy5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...pache/hudi/metadata/HoodieBackedTableMetadata.java](https://codecov.io/gh/apache/hudi/pull/3130/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvSG9vZGllQmFja2VkVGFibGVNZXRhZGF0YS5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...udi/common/util/queue/BoundedInMemoryExecutor.java](https://codecov.io/gh/apache/hudi/pull/3130/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvcXVldWUvQm91bmRlZEluTWVtb3J5RXhlY3V0b3IuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [.../apache/hudi/client/AbstractHoodieWriteClient.java](https://codecov.io/gh/apache/hudi/pull/3130/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1jbGllbnQtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2NsaWVudC9BYnN0cmFjdEhvb2RpZVdyaXRlQ2xpZW50LmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...compact/SparkScheduleCompactionActionExecutor.java](https://codecov.io/gh/apache/hudi/pull/3130/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1zcGFyay1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvYWN0aW9uL2NvbXBhY3QvU3BhcmtTY2hlZHVsZUNvbXBhY3Rpb25BY3Rpb25FeGVjdXRvci5qYXZh) | | |\n| [.../bootstrap/HoodieSparkBootstrapSchemaProvider.java](https://codecov.io/gh/apache/hudi/pull/3130/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1zcGFyay1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpZW50L2Jvb3RzdHJhcC9Ib29kaWVTcGFya0Jvb3RzdHJhcFNjaGVtYVByb3ZpZGVyLmphdmE=) | | |\n| ... and [144 more](https://codecov.io/gh/apache/hudi/pull/3130/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/hudi/pull/3130?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/hudi/pull/3130?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [4fd8a88...5621f42](https://codecov.io/gh/apache/hudi/pull/3130?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865672234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865758353","html_url":"https://github.com/apache/hudi/pull/3133#issuecomment-865758353","issue_url":"https://api.github.com/repos/apache/hudi/issues/3133","id":865758353,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTc1ODM1Mw==","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T08:51:29Z","updated_at":"2021-06-24T10:10:56Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"11f4d93c3b19c4bcc1d270902d7246bf136b53bd\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=348\",\n    \"triggerID\" : \"11f4d93c3b19c4bcc1d270902d7246bf136b53bd\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"49c13d34df195890cb258e8ca654bce3a7a2714a\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=356\",\n    \"triggerID\" : \"49c13d34df195890cb258e8ca654bce3a7a2714a\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"56300526602d1eccfe7f64720e9b4d25db6cef64\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=358\",\n    \"triggerID\" : \"56300526602d1eccfe7f64720e9b4d25db6cef64\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"f69fed2fd3de9550531afe5c50887976f1b249e0\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=361\",\n    \"triggerID\" : \"f69fed2fd3de9550531afe5c50887976f1b249e0\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"a3c0b1b37a806a5df7e3b21f00670c8b623b4f0d\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=364\",\n    \"triggerID\" : \"a3c0b1b37a806a5df7e3b21f00670c8b623b4f0d\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"8afc24ac9d323debf0d861f73b2b8e0c4df487e3\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=369\",\n    \"triggerID\" : \"8afc24ac9d323debf0d861f73b2b8e0c4df487e3\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"94b89ac962a190f1a10f534755f0bee0e54c5c2e\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=378\",\n    \"triggerID\" : \"94b89ac962a190f1a10f534755f0bee0e54c5c2e\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"b705768fe421e0dcfb71834ce2045a8104d1dbf6\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=380\",\n    \"triggerID\" : \"b705768fe421e0dcfb71834ce2045a8104d1dbf6\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"263d5ee8e39e5c1e159311a56032b5ba5ce139de\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=387\",\n    \"triggerID\" : \"263d5ee8e39e5c1e159311a56032b5ba5ce139de\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"2b7aa552fe32001973f4b25de5d6184bf52c1dd8\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"2b7aa552fe32001973f4b25de5d6184bf52c1dd8\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"274faca1645961b704d58506fda68caa107fe718\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=394\",\n    \"triggerID\" : \"274faca1645961b704d58506fda68caa107fe718\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"9d87a0c08338813979bff216627df6686c218877\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=398\",\n    \"triggerID\" : \"9d87a0c08338813979bff216627df6686c218877\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"1c1a09377a6f8aede7272b67b91e630f91156585\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=403\",\n    \"triggerID\" : \"1c1a09377a6f8aede7272b67b91e630f91156585\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 2b7aa552fe32001973f4b25de5d6184bf52c1dd8 UNKNOWN\n* 1c1a09377a6f8aede7272b67b91e630f91156585 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=403) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865758353/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865835493","html_url":"https://github.com/apache/hudi/issues/3131#issuecomment-865835493","issue_url":"https://api.github.com/repos/apache/hudi/issues/3131","id":865835493,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTgzNTQ5Mw==","user":{"login":"Akshay2Agarwal","id":11676397,"node_id":"MDQ6VXNlcjExNjc2Mzk3","avatar_url":"https://avatars.githubusercontent.com/u/11676397?v=4","gravatar_id":"","url":"https://api.github.com/users/Akshay2Agarwal","html_url":"https://github.com/Akshay2Agarwal","followers_url":"https://api.github.com/users/Akshay2Agarwal/followers","following_url":"https://api.github.com/users/Akshay2Agarwal/following{/other_user}","gists_url":"https://api.github.com/users/Akshay2Agarwal/gists{/gist_id}","starred_url":"https://api.github.com/users/Akshay2Agarwal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Akshay2Agarwal/subscriptions","organizations_url":"https://api.github.com/users/Akshay2Agarwal/orgs","repos_url":"https://api.github.com/users/Akshay2Agarwal/repos","events_url":"https://api.github.com/users/Akshay2Agarwal/events{/privacy}","received_events_url":"https://api.github.com/users/Akshay2Agarwal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T09:46:20Z","updated_at":"2021-06-22T09:46:20Z","author_association":"NONE","body":"Sorry, I missed `KEYGENERATOR_CLASS_OPT_KEY` in upsert. Closing the ticket, sorry for nuisance.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865835493/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865868967","html_url":"https://github.com/apache/hudi/pull/3133#issuecomment-865868967","issue_url":"https://api.github.com/repos/apache/hudi/issues/3133","id":865868967,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTg2ODk2Nw==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T10:35:28Z","updated_at":"2021-06-24T10:50:41Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/3133?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3133](https://codecov.io/gh/apache/hudi/pull/3133?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (1c1a093) into [master](https://codecov.io/gh/apache/hudi/commit/7e50f9a5a6be8d68b13a587a07a9af81819540ca?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (7e50f9a) will **increase** coverage by `0.00%`.\n> The diff coverage is `100.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/3133/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/hudi/pull/3133?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@            Coverage Diff            @@\n##             master    #3133   +/-   ##\n=========================================\n  Coverage     46.14%   46.14%           \n+ Complexity     5326     5325    -1     \n=========================================\n  Files           915      915           \n  Lines         39629    39635    +6     \n  Branches       4273     4274    +1     \n=========================================\n+ Hits          18285    18290    +5     \n  Misses        19473    19473           \n- Partials       1871     1872    +1     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| hudicli | `39.95% <ø> (ø)` | |\n| hudiclient | `30.45% <ø> (ø)` | |\n| hudicommon | `47.58% <ø> (ø)` | |\n| hudiflink | `61.26% <ø> (ø)` | |\n| hudihadoopmr | `51.29% <ø> (ø)` | |\n| hudisparkdatasource | `67.06% <100.00%> (+0.05%)` | :arrow_up: |\n| hudisync | `51.73% <ø> (ø)` | |\n| huditimelineservice | `64.36% <ø> (ø)` | |\n| hudiutilities | `58.37% <ø> (-0.04%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/3133?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...ala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala](https://codecov.io/gh/apache/hudi/pull/3133/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9zcGFyay9zcWwvaHVkaS9Ib29kaWVTcWxVdGlscy5zY2FsYQ==) | `69.64% <100.00%> (+0.55%)` | :arrow_up: |\n| [...ql/hudi/command/InsertIntoHoodieTableCommand.scala](https://codecov.io/gh/apache/hudi/pull/3133/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9zcGFyay9zcWwvaHVkaS9jb21tYW5kL0luc2VydEludG9Ib29kaWVUYWJsZUNvbW1hbmQuc2NhbGE=) | `88.61% <100.00%> (+0.48%)` | :arrow_up: |\n| [...apache/hudi/utilities/deltastreamer/DeltaSync.java](https://codecov.io/gh/apache/hudi/pull/3133/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvRGVsdGFTeW5jLmphdmE=) | `70.84% <0.00%> (-0.34%)` | :arrow_down: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/hudi/pull/3133?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/hudi/pull/3133?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [7e50f9a...1c1a093](https://codecov.io/gh/apache/hudi/pull/3133?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865868967/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865883104","html_url":"https://github.com/apache/hudi/pull/3134#issuecomment-865883104","issue_url":"https://api.github.com/repos/apache/hudi/issues/3134","id":865883104,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTg4MzEwNA==","user":{"login":"yuzhaojing","id":32435329,"node_id":"MDQ6VXNlcjMyNDM1MzI5","avatar_url":"https://avatars.githubusercontent.com/u/32435329?v=4","gravatar_id":"","url":"https://api.github.com/users/yuzhaojing","html_url":"https://github.com/yuzhaojing","followers_url":"https://api.github.com/users/yuzhaojing/followers","following_url":"https://api.github.com/users/yuzhaojing/following{/other_user}","gists_url":"https://api.github.com/users/yuzhaojing/gists{/gist_id}","starred_url":"https://api.github.com/users/yuzhaojing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yuzhaojing/subscriptions","organizations_url":"https://api.github.com/users/yuzhaojing/orgs","repos_url":"https://api.github.com/users/yuzhaojing/repos","events_url":"https://api.github.com/users/yuzhaojing/events{/privacy}","received_events_url":"https://api.github.com/users/yuzhaojing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T10:58:01Z","updated_at":"2021-06-22T10:58:01Z","author_association":"CONTRIBUTOR","body":"@danny0405 please review this pr, thanks.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865883104/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865885733","html_url":"https://github.com/apache/hudi/pull/3134#issuecomment-865885733","issue_url":"https://api.github.com/repos/apache/hudi/issues/3134","id":865885733,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTg4NTczMw==","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T11:02:17Z","updated_at":"2021-06-30T08:19:05Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"31e04ecbeb122113dd074f7abdef44eda1fdab44\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=350\",\n    \"triggerID\" : \"31e04ecbeb122113dd074f7abdef44eda1fdab44\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"886976b7067dc3062b6d465f6d962c3b7db012a0\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=363\",\n    \"triggerID\" : \"886976b7067dc3062b6d465f6d962c3b7db012a0\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"6658f31fa576e72437650235f3970f74415cf2d1\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=391\",\n    \"triggerID\" : \"6658f31fa576e72437650235f3970f74415cf2d1\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"a71e70e23cda06ba22cf012946575530566947b3\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=396\",\n    \"triggerID\" : \"a71e70e23cda06ba22cf012946575530566947b3\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"51d09c6f734edb58c4f0736989b4f10eededa8d4\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=399\",\n    \"triggerID\" : \"51d09c6f734edb58c4f0736989b4f10eededa8d4\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"56a9c154b84601205b7728b821e98ed6a474b89a\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=405\",\n    \"triggerID\" : \"56a9c154b84601205b7728b821e98ed6a474b89a\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"b428ad50cd2a09bd5b9201acbd007e3a155cfc69\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=415\",\n    \"triggerID\" : \"b428ad50cd2a09bd5b9201acbd007e3a155cfc69\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"92bbb23756ffa63d7dd77a8a9285f3dd7e94d55c\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=423\",\n    \"triggerID\" : \"92bbb23756ffa63d7dd77a8a9285f3dd7e94d55c\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"cc2e75755d4c20cd7c53c84d6d8e12464e45a073\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=437\",\n    \"triggerID\" : \"cc2e75755d4c20cd7c53c84d6d8e12464e45a073\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"b91eda365c478318b1cec6b6bf0b4c98ecd07a23\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=441\",\n    \"triggerID\" : \"b91eda365c478318b1cec6b6bf0b4c98ecd07a23\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"31d330315aaf63e3cf0829fb9397cffbcb5e8fc9\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=457\",\n    \"triggerID\" : \"31d330315aaf63e3cf0829fb9397cffbcb5e8fc9\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"b8a1be7ce330d20202d79bf90cdf346d83846ab2\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=521\",\n    \"triggerID\" : \"b8a1be7ce330d20202d79bf90cdf346d83846ab2\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"c4494bcc18dd1daecbb882d1460404209ba1459a\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=528\",\n    \"triggerID\" : \"c4494bcc18dd1daecbb882d1460404209ba1459a\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"7b8bf59a960c48f4a9225c40ed54c3510529f6f4\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=556\",\n    \"triggerID\" : \"7b8bf59a960c48f4a9225c40ed54c3510529f6f4\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"26c3164a67625ac809635c4ad8734ca418599484\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=557\",\n    \"triggerID\" : \"26c3164a67625ac809635c4ad8734ca418599484\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 26c3164a67625ac809635c4ad8734ca418599484 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=557) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865885733/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865934741","html_url":"https://github.com/apache/hudi/pull/3129#issuecomment-865934741","issue_url":"https://api.github.com/repos/apache/hudi/issues/3129","id":865934741,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTkzNDc0MQ==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T12:18:41Z","updated_at":"2021-06-22T12:18:41Z","author_association":"CONTRIBUTOR","body":"@sbernauer Thanks for your contribution. Please follow the [contribution guide](http://hudi.apache.org/contributing) and file a jira ticket.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865934741/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865941117","html_url":"https://github.com/apache/hudi/pull/3129#issuecomment-865941117","issue_url":"https://api.github.com/repos/apache/hudi/issues/3129","id":865941117,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTk0MTExNw==","user":{"login":"sbernauer","id":29303194,"node_id":"MDQ6VXNlcjI5MzAzMTk0","avatar_url":"https://avatars.githubusercontent.com/u/29303194?v=4","gravatar_id":"","url":"https://api.github.com/users/sbernauer","html_url":"https://github.com/sbernauer","followers_url":"https://api.github.com/users/sbernauer/followers","following_url":"https://api.github.com/users/sbernauer/following{/other_user}","gists_url":"https://api.github.com/users/sbernauer/gists{/gist_id}","starred_url":"https://api.github.com/users/sbernauer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sbernauer/subscriptions","organizations_url":"https://api.github.com/users/sbernauer/orgs","repos_url":"https://api.github.com/users/sbernauer/repos","events_url":"https://api.github.com/users/sbernauer/events{/privacy}","received_events_url":"https://api.github.com/users/sbernauer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T12:28:55Z","updated_at":"2021-06-22T12:28:55Z","author_association":"CONTRIBUTOR","body":"Thanks @yanghua for the feedback! I've created https://issues.apache.org/jira/browse/HUDI-2055","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865941117/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865942889","html_url":"https://github.com/apache/hudi/pull/3135#issuecomment-865942889","issue_url":"https://api.github.com/repos/apache/hudi/issues/3135","id":865942889,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTk0Mjg4OQ==","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T12:31:45Z","updated_at":"2021-06-22T13:25:48Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"66b19c14b8d3cad838649341d404475b331d97ab\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=352\",\n    \"triggerID\" : \"66b19c14b8d3cad838649341d404475b331d97ab\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 66b19c14b8d3cad838649341d404475b331d97ab Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=352) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/865942889/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866035898","html_url":"https://github.com/apache/hudi/pull/3093#issuecomment-866035898","issue_url":"https://api.github.com/repos/apache/hudi/issues/3093","id":866035898,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjAzNTg5OA==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T14:31:48Z","updated_at":"2021-06-22T14:31:48Z","author_association":"MEMBER","body":"> Generally speaking, I am bit skeptical on overall use of speculative execution. Most of the policies are pretty naive. Anyways, @garyli1019 Would love to get a JIRA with some steps to repro if possible. The writer is already resistant to stage retries, so it should no cause such dirty/uncommitted files lying around. Do you have the state of marker files when this happened?\r\n\r\nThere is very little chance that the executor being killed before create the marker file and after drop the parquet. Will follow up with this issue once I have the fix. https://issues.apache.org/jira/browse/HUDI-2056","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866035898/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866110119","html_url":"https://github.com/apache/hudi/pull/3134#issuecomment-866110119","issue_url":"https://api.github.com/repos/apache/hudi/issues/3134","id":866110119,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjExMDExOQ==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T15:53:19Z","updated_at":"2021-06-30T10:40:47Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/3134?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3134](https://codecov.io/gh/apache/hudi/pull/3134?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (26c3164) into [master](https://codecov.io/gh/apache/hudi/commit/0749cc826a9ef6b04e2063074b7abac0e69414a0?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (0749cc8) will **increase** coverage by `2.03%`.\n> The diff coverage is `78.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/3134/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/hudi/pull/3134?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #3134      +/-   ##\n============================================\n+ Coverage     44.25%   46.28%   +2.03%     \n- Complexity     4595     5409     +814     \n============================================\n  Files           825      921      +96     \n  Lines         36577    40122    +3545     \n  Branches       3942     4306     +364     \n============================================\n+ Hits          16187    18571    +2384     \n- Misses        18642    19665    +1023     \n- Partials       1748     1886     +138     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| hudicli | `39.95% <ø> (ø)` | |\n| hudiclient | `30.45% <ø> (+14.00%)` | :arrow_up: |\n| hudicommon | `47.58% <ø> (ø)` | |\n| hudiflink | `60.05% <78.00%> (-0.02%)` | :arrow_down: |\n| hudihadoopmr | `51.29% <ø> (ø)` | |\n| hudisparkdatasource | `67.06% <ø> (ø)` | |\n| hudisync | `54.05% <ø> (ø)` | |\n| huditimelineservice | `64.36% <ø> (ø)` | |\n| hudiutilities | `59.13% <ø> (+0.72%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/3134?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [.../apache/hudi/sink/bootstrap/BootstrapFunction.java](https://codecov.io/gh/apache/hudi/pull/3134/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL2Jvb3RzdHJhcC9Cb290c3RyYXBGdW5jdGlvbi5qYXZh) | `75.67% <78.00%> (+0.99%)` | :arrow_up: |\n| [...va/org/apache/hudi/configuration/FlinkOptions.java](https://codecov.io/gh/apache/hudi/pull/3134/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9jb25maWd1cmF0aW9uL0ZsaW5rT3B0aW9ucy5qYXZh) | `96.37% <0.00%> (ø)` | |\n| [.../org/apache/hudi/streamer/FlinkStreamerConfig.java](https://codecov.io/gh/apache/hudi/pull/3134/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zdHJlYW1lci9GbGlua1N0cmVhbWVyQ29uZmlnLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...apache/hudi/sink/compact/HoodieFlinkCompactor.java](https://codecov.io/gh/apache/hudi/pull/3134/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL2NvbXBhY3QvSG9vZGllRmxpbmtDb21wYWN0b3IuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...pache/hudi/sink/compact/FlinkCompactionConfig.java](https://codecov.io/gh/apache/hudi/pull/3134/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL2NvbXBhY3QvRmxpbmtDb21wYWN0aW9uQ29uZmlnLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...i/table/action/clean/SparkCleanActionExecutor.java](https://codecov.io/gh/apache/hudi/pull/3134/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1zcGFyay1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvYWN0aW9uL2NsZWFuL1NwYXJrQ2xlYW5BY3Rpb25FeGVjdXRvci5qYXZh) | `100.00% <0.00%> (ø)` | |\n| [...metadata/SparkHoodieBackedTableMetadataWriter.java](https://codecov.io/gh/apache/hudi/pull/3134/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1zcGFyay1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvU3BhcmtIb29kaWVCYWNrZWRUYWJsZU1ldGFkYXRhV3JpdGVyLmphdmE=) | `72.36% <0.00%> (ø)` | |\n| [...udi/table/action/commit/SparkBulkInsertHelper.java](https://codecov.io/gh/apache/hudi/pull/3134/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1zcGFyay1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvYWN0aW9uL2NvbW1pdC9TcGFya0J1bGtJbnNlcnRIZWxwZXIuamF2YQ==) | `100.00% <0.00%> (ø)` | |\n| [...e/hudi/client/common/HoodieSparkEngineContext.java](https://codecov.io/gh/apache/hudi/pull/3134/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1zcGFyay1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpZW50L2NvbW1vbi9Ib29kaWVTcGFya0VuZ2luZUNvbnRleHQuamF2YQ==) | `54.83% <0.00%> (ø)` | |\n| [...on/commit/SparkBulkInsertCommitActionExecutor.java](https://codecov.io/gh/apache/hudi/pull/3134/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1zcGFyay1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvYWN0aW9uL2NvbW1pdC9TcGFya0J1bGtJbnNlcnRDb21taXRBY3Rpb25FeGVjdXRvci5qYXZh) | `63.63% <0.00%> (ø)` | |\n| ... and [94 more](https://codecov.io/gh/apache/hudi/pull/3134/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/hudi/pull/3134?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/hudi/pull/3134?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [0749cc8...26c3164](https://codecov.io/gh/apache/hudi/pull/3134?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866110119/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866181744","html_url":"https://github.com/apache/hudi/pull/3135#issuecomment-866181744","issue_url":"https://api.github.com/repos/apache/hudi/issues/3135","id":866181744,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjE4MTc0NA==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T17:22:57Z","updated_at":"2021-06-23T06:29:21Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/3135?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3135](https://codecov.io/gh/apache/hudi/pull/3135?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (66b19c1) into [master](https://codecov.io/gh/apache/hudi/commit/5db37c255ba921b082f3f1952aa9182589f0a7a3?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (5db37c2) will **increase** coverage by `1.65%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/3135/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/hudi/pull/3135?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #3135      +/-   ##\n============================================\n+ Coverage     42.48%   44.14%   +1.65%     \n+ Complexity     4933     4535     -398     \n============================================\n  Files           914      819      -95     \n  Lines         39600    36167    -3433     \n  Branches       4269     3920     -349     \n============================================\n- Hits          16825    15966     -859     \n+ Misses        21041    18469    -2572     \n+ Partials       1734     1732       -2     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| hudicli | `39.95% <ø> (ø)` | |\n| hudiclient | `16.44% <ø> (-14.00%)` | :arrow_down: |\n| hudicommon | `47.58% <ø> (+0.02%)` | :arrow_up: |\n| hudiflink | `61.11% <ø> (+0.03%)` | :arrow_up: |\n| hudihadoopmr | `51.29% <ø> (ø)` | |\n| hudisparkdatasource | `67.05% <ø> (+0.13%)` | :arrow_up: |\n| hudisync | `51.73% <ø> (ø)` | |\n| huditimelineservice | `64.36% <ø> (ø)` | |\n| hudiutilities | `58.41% <ø> (+48.88%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/3135?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...in/java/org/apache/hudi/table/HoodieTableSink.java](https://codecov.io/gh/apache/hudi/pull/3135/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS90YWJsZS9Ib29kaWVUYWJsZVNpbmsuamF2YQ==) | `10.90% <ø> (+0.38%)` | :arrow_up: |\n| [...va/org/apache/hudi/metadata/BaseTableMetadata.java](https://codecov.io/gh/apache/hudi/pull/3135/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvQmFzZVRhYmxlTWV0YWRhdGEuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...pache/hudi/common/config/HoodieMetadataConfig.java](https://codecov.io/gh/apache/hudi/pull/3135/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2NvbmZpZy9Ib29kaWVNZXRhZGF0YUNvbmZpZy5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...pache/hudi/metadata/HoodieBackedTableMetadata.java](https://codecov.io/gh/apache/hudi/pull/3135/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvSG9vZGllQmFja2VkVGFibGVNZXRhZGF0YS5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...a/org/apache/hudi/client/HoodieSparkCompactor.java](https://codecov.io/gh/apache/hudi/pull/3135/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1zcGFyay1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpZW50L0hvb2RpZVNwYXJrQ29tcGFjdG9yLmphdmE=) | | |\n| [...di/execution/bulkinsert/GlobalSortPartitioner.java](https://codecov.io/gh/apache/hudi/pull/3135/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1zcGFyay1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvZXhlY3V0aW9uL2J1bGtpbnNlcnQvR2xvYmFsU29ydFBhcnRpdGlvbmVyLmphdmE=) | | |\n| [...restore/SparkMergeOnReadRestoreActionExecutor.java](https://codecov.io/gh/apache/hudi/pull/3135/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1zcGFyay1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvYWN0aW9uL3Jlc3RvcmUvU3BhcmtNZXJnZU9uUmVhZFJlc3RvcmVBY3Rpb25FeGVjdXRvci5qYXZh) | | |\n| [...org/apache/hudi/client/utils/SparkMemoryUtils.java](https://codecov.io/gh/apache/hudi/pull/3135/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1zcGFyay1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpZW50L3V0aWxzL1NwYXJrTWVtb3J5VXRpbHMuamF2YQ==) | | |\n| [...in/scala/org/apache/hudi/AvroConversionUtils.scala](https://codecov.io/gh/apache/hudi/pull/3135/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1zcGFyay1jbGllbnQvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL0F2cm9Db252ZXJzaW9uVXRpbHMuc2NhbGE=) | | |\n| [.../bootstrap/HoodieSparkBootstrapSchemaProvider.java](https://codecov.io/gh/apache/hudi/pull/3135/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1zcGFyay1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpZW50L2Jvb3RzdHJhcC9Ib29kaWVTcGFya0Jvb3RzdHJhcFNjaGVtYVByb3ZpZGVyLmphdmE=) | | |\n| ... and [139 more](https://codecov.io/gh/apache/hudi/pull/3135/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/hudi/pull/3135?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/hudi/pull/3135?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [5db37c2...66b19c1](https://codecov.io/gh/apache/hudi/pull/3135?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866181744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866269573","html_url":"https://github.com/apache/hudi/issues/3078#issuecomment-866269573","issue_url":"https://api.github.com/repos/apache/hudi/issues/3078","id":866269573,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjI2OTU3Mw==","user":{"login":"tandonraghav","id":10815442,"node_id":"MDQ6VXNlcjEwODE1NDQy","avatar_url":"https://avatars.githubusercontent.com/u/10815442?v=4","gravatar_id":"","url":"https://api.github.com/users/tandonraghav","html_url":"https://github.com/tandonraghav","followers_url":"https://api.github.com/users/tandonraghav/followers","following_url":"https://api.github.com/users/tandonraghav/following{/other_user}","gists_url":"https://api.github.com/users/tandonraghav/gists{/gist_id}","starred_url":"https://api.github.com/users/tandonraghav/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tandonraghav/subscriptions","organizations_url":"https://api.github.com/users/tandonraghav/orgs","repos_url":"https://api.github.com/users/tandonraghav/repos","events_url":"https://api.github.com/users/tandonraghav/events{/privacy}","received_events_url":"https://api.github.com/users/tandonraghav/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T19:25:50Z","updated_at":"2021-06-22T19:53:01Z","author_association":"NONE","body":"@n3nash I am trying to implement exactly `https://github.com/apache/hudi/pull/2106/files` , in this also `PartialAvroPayload` class only implements `combineAndGetUpdateValue` .\r\nAlso, i do not have `Schema` in preCombine method. \r\nAlso, i am saying if the record preexists in (.parquet) and if i add a new field in incoming records (log file .avro files) then on compaction `combineAndGetUpdateValue` is not at all getting called but this doesnt happen if the schema is unchanged.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866269573/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866292959","html_url":"https://github.com/apache/hudi/pull/3074#issuecomment-866292959","issue_url":"https://api.github.com/repos/apache/hudi/issues/3074","id":866292959,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjI5Mjk1OQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T20:01:18Z","updated_at":"2021-06-22T20:01:18Z","author_association":"CONTRIBUTOR","body":"@n3nash wrt comment \"Also, please rename the title to \"Adding bulk_insert spark node to hudi_test_suite\". Fixing gives a wrong context here.\". As I have responded to your comment on pom.xml, this patch fixes the build for scala files in integ-test-suite and hence have named it that way. I can make minor tweaks to say \"related to build issues\" may be. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866292959/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866298936","html_url":"https://github.com/apache/hudi/pull/2701#issuecomment-866298936","issue_url":"https://api.github.com/repos/apache/hudi/issues/2701","id":866298936,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjI5ODkzNg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T20:09:37Z","updated_at":"2021-06-22T20:09:37Z","author_association":"MEMBER","body":"@prashantwason could you review this and see if you can land. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866298936/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866310217","html_url":"https://github.com/apache/hudi/pull/2903#issuecomment-866310217","issue_url":"https://api.github.com/repos/apache/hudi/issues/2903","id":866310217,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjMxMDIxNw==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T20:27:27Z","updated_at":"2021-06-22T20:27:27Z","author_association":"CONTRIBUTOR","body":"SQL DML extension tests are failing. I need time to check those out. Will update once I am able to make CI happy. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866310217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866347883","html_url":"https://github.com/apache/hudi/pull/3111#issuecomment-866347883","issue_url":"https://api.github.com/repos/apache/hudi/issues/3111","id":866347883,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjM0Nzg4Mw==","user":{"login":"sbernauer","id":29303194,"node_id":"MDQ6VXNlcjI5MzAzMTk0","avatar_url":"https://avatars.githubusercontent.com/u/29303194?v=4","gravatar_id":"","url":"https://api.github.com/users/sbernauer","html_url":"https://github.com/sbernauer","followers_url":"https://api.github.com/users/sbernauer/followers","following_url":"https://api.github.com/users/sbernauer/following{/other_user}","gists_url":"https://api.github.com/users/sbernauer/gists{/gist_id}","starred_url":"https://api.github.com/users/sbernauer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sbernauer/subscriptions","organizations_url":"https://api.github.com/users/sbernauer/orgs","repos_url":"https://api.github.com/users/sbernauer/repos","events_url":"https://api.github.com/users/sbernauer/events{/privacy}","received_events_url":"https://api.github.com/users/sbernauer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T21:30:30Z","updated_at":"2021-06-22T21:30:30Z","author_association":"CONTRIBUTOR","body":"Yes, we tested it on our staging env for multiple streaming jobs.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866347883/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866384611","html_url":"https://github.com/apache/hudi/pull/3111#issuecomment-866384611","issue_url":"https://api.github.com/repos/apache/hudi/issues/3111","id":866384611,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjM4NDYxMQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T22:42:23Z","updated_at":"2021-06-22T22:42:23Z","author_association":"CONTRIBUTOR","body":"awesome 👍 Can you please check why CI is failing. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866384611/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866453190","html_url":"https://github.com/apache/hudi/pull/3130#issuecomment-866453190","issue_url":"https://api.github.com/repos/apache/hudi/issues/3130","id":866453190,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjQ1MzE5MA==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T01:32:47Z","updated_at":"2021-06-23T01:32:47Z","author_association":"CONTRIBUTOR","body":"reopen to retrigger the CI.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866453190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866463882","html_url":"https://github.com/apache/hudi/issues/3048#issuecomment-866463882","issue_url":"https://api.github.com/repos/apache/hudi/issues/3048","id":866463882,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjQ2Mzg4Mg==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T02:04:32Z","updated_at":"2021-06-23T02:04:32Z","author_association":"CONTRIBUTOR","body":"@fengjian428 Closing this due to inactivity. Please feel free to re-open if you need assistance. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866463882/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866499977","html_url":"https://github.com/apache/hudi/issues/3078#issuecomment-866499977","issue_url":"https://api.github.com/repos/apache/hudi/issues/3078","id":866499977,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjQ5OTk3Nw==","user":{"login":"guanziyue","id":30882822,"node_id":"MDQ6VXNlcjMwODgyODIy","avatar_url":"https://avatars.githubusercontent.com/u/30882822?v=4","gravatar_id":"","url":"https://api.github.com/users/guanziyue","html_url":"https://github.com/guanziyue","followers_url":"https://api.github.com/users/guanziyue/followers","following_url":"https://api.github.com/users/guanziyue/following{/other_user}","gists_url":"https://api.github.com/users/guanziyue/gists{/gist_id}","starred_url":"https://api.github.com/users/guanziyue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guanziyue/subscriptions","organizations_url":"https://api.github.com/users/guanziyue/orgs","repos_url":"https://api.github.com/users/guanziyue/repos","events_url":"https://api.github.com/users/guanziyue/events{/privacy}","received_events_url":"https://api.github.com/users/guanziyue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T03:48:31Z","updated_at":"2021-06-23T03:57:50Z","author_association":"CONTRIBUTOR","body":"Hi tandonraghav\r\nI did some similar work before. Hope my experience could help you.\r\nFirst, as nanash mentioned before, we may call precombine method in two cases. First is dedup in ingestion. Second is in compaction.\r\nIn compaction process, we first read log file use schema stored in log block to construct generic record and then have generic record transfer into payload. Then put them into a map. When we find duplicate key (yes they are ingested in different commit), we call precombine to combine two records with same key. This process is similar to hashJoin in spark. Finally, we got a map of payload which all key are unique. After that, we read record from parquet, use schema user provided in config to construct indexedRecord and call combinAndGetUpdateValue to merge payload in map and data from parquet.\r\nAs you mentioned, it may not find schema in precombine. Could you please hold a reference to the schema in GenericRecord when payload is constructed as an attribute of class MongoHudiCDCPayload ? Then you can use schema in precombine method. And you may find that schema in avro 1.8.2 is not serializable, mark this attribute as transient may be a good idea. However, this may lead to schema lost in ingestion, as there is shuffle of payload in ingestion. You could recreate schema from properties arg in precombine when ingestion. This props is actually write config of hoodie. \r\nNote that you may not always get schema from config, try this when schema is null may be a good idea.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866499977/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866557467","html_url":"https://github.com/apache/hudi/pull/2963#issuecomment-866557467","issue_url":"https://api.github.com/repos/apache/hudi/issues/2963","id":866557467,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjU1NzQ2Nw==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T06:10:41Z","updated_at":"2021-06-23T06:10:41Z","author_association":"CONTRIBUTOR","body":"@nsivabalan @yanghua please take a look when free :)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866557467/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866573989","html_url":"https://github.com/apache/hudi/pull/3136#issuecomment-866573989","issue_url":"https://api.github.com/repos/apache/hudi/issues/3136","id":866573989,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjU3Mzk4OQ==","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T06:44:03Z","updated_at":"2021-06-24T11:47:37Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"cffc8398380b361be89ccf1bdaaa5259a3cc5856\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=367\",\n    \"triggerID\" : \"cffc8398380b361be89ccf1bdaaa5259a3cc5856\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"a7a189f06db5da90d577e6b4bf9dae1948e3fcac\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=408\",\n    \"triggerID\" : \"a7a189f06db5da90d577e6b4bf9dae1948e3fcac\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* a7a189f06db5da90d577e6b4bf9dae1948e3fcac Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=408) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866573989/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866598468","html_url":"https://github.com/apache/hudi/pull/3137#issuecomment-866598468","issue_url":"https://api.github.com/repos/apache/hudi/issues/3137","id":866598468,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjU5ODQ2OA==","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T07:25:54Z","updated_at":"2021-06-24T05:09:44Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"4d9ebad202e9ef439f2bd3958ec746003188baa0\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=370\",\n    \"triggerID\" : \"4d9ebad202e9ef439f2bd3958ec746003188baa0\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"0de8f0708cee42f6c5272762c4749b52493e76e3\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=381\",\n    \"triggerID\" : \"0de8f0708cee42f6c5272762c4749b52493e76e3\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"d5606e08da3a088b43df6c224d4843996285aea2\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=388\",\n    \"triggerID\" : \"d5606e08da3a088b43df6c224d4843996285aea2\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"b927fe06c9de3942da07d44a91f2848bd875ddb8\",\n    \"status\" : \"CANCELED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=392\",\n    \"triggerID\" : \"b927fe06c9de3942da07d44a91f2848bd875ddb8\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"cdf677ec65776afcad061ba83166c16073ca82c3\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"cdf677ec65776afcad061ba83166c16073ca82c3\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"0676b60e140439c65ff2f9cf4f36db72fa97ab9c\",\n    \"status\" : \"PENDING\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=395\",\n    \"triggerID\" : \"0676b60e140439c65ff2f9cf4f36db72fa97ab9c\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* b927fe06c9de3942da07d44a91f2848bd875ddb8 Azure: [CANCELED](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=392) \n* cdf677ec65776afcad061ba83166c16073ca82c3 UNKNOWN\n* 0676b60e140439c65ff2f9cf4f36db72fa97ab9c Azure: [PENDING](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=395) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866598468/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866598757","html_url":"https://github.com/apache/hudi/pull/3111#issuecomment-866598757","issue_url":"https://api.github.com/repos/apache/hudi/issues/3111","id":866598757,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjU5ODc1Nw==","user":{"login":"sbernauer","id":29303194,"node_id":"MDQ6VXNlcjI5MzAzMTk0","avatar_url":"https://avatars.githubusercontent.com/u/29303194?v=4","gravatar_id":"","url":"https://api.github.com/users/sbernauer","html_url":"https://github.com/sbernauer","followers_url":"https://api.github.com/users/sbernauer/followers","following_url":"https://api.github.com/users/sbernauer/following{/other_user}","gists_url":"https://api.github.com/users/sbernauer/gists{/gist_id}","starred_url":"https://api.github.com/users/sbernauer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sbernauer/subscriptions","organizations_url":"https://api.github.com/users/sbernauer/orgs","repos_url":"https://api.github.com/users/sbernauer/repos","events_url":"https://api.github.com/users/sbernauer/events{/privacy}","received_events_url":"https://api.github.com/users/sbernauer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T07:26:22Z","updated_at":"2021-06-23T07:26:22Z","author_association":"CONTRIBUTOR","body":"I already had checked, it timed out.\r\nI also asked the Hudi bot to rerun the test but they didn't.\r\nI think I will have to amend the last commit and force push to trigger the tests","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866598757/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866599382","html_url":"https://github.com/apache/hudi/pull/3111#issuecomment-866599382","issue_url":"https://api.github.com/repos/apache/hudi/issues/3111","id":866599382,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjU5OTM4Mg==","user":{"login":"sbernauer","id":29303194,"node_id":"MDQ6VXNlcjI5MzAzMTk0","avatar_url":"https://avatars.githubusercontent.com/u/29303194?v=4","gravatar_id":"","url":"https://api.github.com/users/sbernauer","html_url":"https://github.com/sbernauer","followers_url":"https://api.github.com/users/sbernauer/followers","following_url":"https://api.github.com/users/sbernauer/following{/other_user}","gists_url":"https://api.github.com/users/sbernauer/gists{/gist_id}","starred_url":"https://api.github.com/users/sbernauer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sbernauer/subscriptions","organizations_url":"https://api.github.com/users/sbernauer/orgs","repos_url":"https://api.github.com/users/sbernauer/repos","events_url":"https://api.github.com/users/sbernauer/events{/privacy}","received_events_url":"https://api.github.com/users/sbernauer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T07:27:23Z","updated_at":"2021-06-23T07:27:23Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run travis","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866599382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866609218","html_url":"https://github.com/apache/hudi/pull/3136#issuecomment-866609218","issue_url":"https://api.github.com/repos/apache/hudi/issues/3136","id":866609218,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjYwOTIxOA==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T07:43:35Z","updated_at":"2021-06-24T14:33:06Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/3136?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3136](https://codecov.io/gh/apache/hudi/pull/3136?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (a7a189f) into [master](https://codecov.io/gh/apache/hudi/commit/5db37c255ba921b082f3f1952aa9182589f0a7a3?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (5db37c2) will **increase** coverage by `3.62%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/3136/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/hudi/pull/3136?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #3136      +/-   ##\n============================================\n+ Coverage     42.48%   46.11%   +3.62%     \n- Complexity     4933     5320     +387     \n============================================\n  Files           914      915       +1     \n  Lines         39600    39634      +34     \n  Branches       4269     4275       +6     \n============================================\n+ Hits          16825    18276    +1451     \n+ Misses        21041    19486    -1555     \n- Partials       1734     1872     +138     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| hudicli | `39.95% <ø> (ø)` | |\n| hudiclient | `30.40% <ø> (-0.05%)` | :arrow_down: |\n| hudicommon | `47.55% <ø> (-0.01%)` | :arrow_down: |\n| hudiflink | `61.26% <ø> (+0.18%)` | :arrow_up: |\n| hudihadoopmr | `51.29% <ø> (ø)` | |\n| hudisparkdatasource | `67.06% <ø> (+0.13%)` | :arrow_up: |\n| hudisync | `51.73% <ø> (ø)` | |\n| huditimelineservice | `64.36% <ø> (ø)` | |\n| hudiutilities | `58.25% <ø> (+48.73%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/3136?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...a/org/apache/hudi/metrics/DistributedRegistry.java](https://codecov.io/gh/apache/hudi/pull/3136/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1zcGFyay1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0cmljcy9EaXN0cmlidXRlZFJlZ2lzdHJ5LmphdmE=) | `36.66% <0.00%> (-23.34%)` | :arrow_down: |\n| [...ache/hudi/common/fs/inline/InMemoryFileSystem.java](https://codecov.io/gh/apache/hudi/pull/3136/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2ZzL2lubGluZS9Jbk1lbW9yeUZpbGVTeXN0ZW0uamF2YQ==) | `79.31% <0.00%> (-10.35%)` | :arrow_down: |\n| [...src/main/scala/org/apache/hudi/DefaultSource.scala](https://codecov.io/gh/apache/hudi/pull/3136/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL0RlZmF1bHRTb3VyY2Uuc2NhbGE=) | `75.22% <0.00%> (-2.23%)` | :arrow_down: |\n| [...metadata/SparkHoodieBackedTableMetadataWriter.java](https://codecov.io/gh/apache/hudi/pull/3136/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1zcGFyay1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvU3BhcmtIb29kaWVCYWNrZWRUYWJsZU1ldGFkYXRhV3JpdGVyLmphdmE=) | `72.36% <0.00%> (-0.88%)` | :arrow_down: |\n| [...va/org/apache/hudi/metadata/BaseTableMetadata.java](https://codecov.io/gh/apache/hudi/pull/3136/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvQmFzZVRhYmxlTWV0YWRhdGEuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...apache/hudi/sink/compact/HoodieFlinkCompactor.java](https://codecov.io/gh/apache/hudi/pull/3136/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL2NvbXBhY3QvSG9vZGllRmxpbmtDb21wYWN0b3IuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...pache/hudi/common/config/HoodieMetadataConfig.java](https://codecov.io/gh/apache/hudi/pull/3136/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2NvbmZpZy9Ib29kaWVNZXRhZGF0YUNvbmZpZy5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...pache/hudi/metadata/HoodieBackedTableMetadata.java](https://codecov.io/gh/apache/hudi/pull/3136/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvSG9vZGllQmFja2VkVGFibGVNZXRhZGF0YS5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...apache/hudi/utilities/sources/AvroKafkaSource.java](https://codecov.io/gh/apache/hudi/pull/3136/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb0thZmthU291cmNlLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [.../apache/hudi/client/AbstractHoodieWriteClient.java](https://codecov.io/gh/apache/hudi/pull/3136/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1jbGllbnQtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2NsaWVudC9BYnN0cmFjdEhvb2RpZVdyaXRlQ2xpZW50LmphdmE=) | `0.00% <0.00%> (ø)` | |\n| ... and [54 more](https://codecov.io/gh/apache/hudi/pull/3136/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/hudi/pull/3136?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/hudi/pull/3136?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [5db37c2...a7a189f](https://codecov.io/gh/apache/hudi/pull/3136?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866609218/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866618158","html_url":"https://github.com/apache/hudi/issues/3065#issuecomment-866618158","issue_url":"https://api.github.com/repos/apache/hudi/issues/3065","id":866618158,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjYxODE1OA==","user":{"login":"wangfeigithub","id":29723968,"node_id":"MDQ6VXNlcjI5NzIzOTY4","avatar_url":"https://avatars.githubusercontent.com/u/29723968?v=4","gravatar_id":"","url":"https://api.github.com/users/wangfeigithub","html_url":"https://github.com/wangfeigithub","followers_url":"https://api.github.com/users/wangfeigithub/followers","following_url":"https://api.github.com/users/wangfeigithub/following{/other_user}","gists_url":"https://api.github.com/users/wangfeigithub/gists{/gist_id}","starred_url":"https://api.github.com/users/wangfeigithub/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangfeigithub/subscriptions","organizations_url":"https://api.github.com/users/wangfeigithub/orgs","repos_url":"https://api.github.com/users/wangfeigithub/repos","events_url":"https://api.github.com/users/wangfeigithub/events{/privacy}","received_events_url":"https://api.github.com/users/wangfeigithub/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T07:57:45Z","updated_at":"2021-06-23T07:57:45Z","author_association":"NONE","body":"@n3nash  I think it's the window's path conversion problem.\r\n\r\n![image](https://user-images.githubusercontent.com/29723968/123058720-addc7f80-d43b-11eb-9f9f-c7fb2ad8040f.png)\r\nI added this section in the source code to solve the problem","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866618158/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866645203","html_url":"https://github.com/apache/hudi/pull/3137#issuecomment-866645203","issue_url":"https://api.github.com/repos/apache/hudi/issues/3137","id":866645203,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjY0NTIwMw==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T08:36:59Z","updated_at":"2021-06-24T05:31:04Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/3137?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3137](https://codecov.io/gh/apache/hudi/pull/3137?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (0676b60) into [master](https://codecov.io/gh/apache/hudi/commit/e039e0ff6d04b9b0684dbf29452af8a8dae94b09?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (e039e0f) will **decrease** coverage by `0.00%`.\n> The diff coverage is `50.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/3137/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/hudi/pull/3137?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #3137      +/-   ##\n============================================\n- Coverage     46.13%   46.13%   -0.01%     \n  Complexity     5325     5325              \n============================================\n  Files           915      915              \n  Lines         39622    39629       +7     \n  Branches       4272     4273       +1     \n============================================\n+ Hits          18281    18282       +1     \n- Misses        19470    19474       +4     \n- Partials       1871     1873       +2     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| hudicli | `39.95% <ø> (ø)` | |\n| hudiclient | `30.45% <ø> (ø)` | |\n| hudicommon | `47.56% <ø> (-0.02%)` | :arrow_down: |\n| hudiflink | `61.26% <ø> (ø)` | |\n| hudihadoopmr | `51.29% <ø> (ø)` | |\n| hudisparkdatasource | `67.00% <50.00%> (-0.05%)` | :arrow_down: |\n| hudisync | `51.73% <ø> (ø)` | |\n| huditimelineservice | `64.36% <ø> (ø)` | |\n| hudiutilities | `58.37% <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/3137?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...src/main/scala/org/apache/hudi/DefaultSource.scala](https://codecov.io/gh/apache/hudi/pull/3137/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL0RlZmF1bHRTb3VyY2Uuc2NhbGE=) | `75.22% <50.00%> (-2.23%)` | :arrow_down: |\n| [...e/hudi/common/table/log/HoodieLogFormatWriter.java](https://codecov.io/gh/apache/hudi/pull/3137/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9Ib29kaWVMb2dGb3JtYXRXcml0ZXIuamF2YQ==) | `78.12% <0.00%> (-1.57%)` | :arrow_down: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/hudi/pull/3137?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/hudi/pull/3137?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [e039e0f...0676b60](https://codecov.io/gh/apache/hudi/pull/3137?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866645203/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866666237","html_url":"https://github.com/apache/hudi/pull/3130#issuecomment-866666237","issue_url":"https://api.github.com/repos/apache/hudi/issues/3130","id":866666237,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjY2NjIzNw==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T09:07:00Z","updated_at":"2021-06-23T09:07:00Z","author_association":"CONTRIBUTOR","body":"@vaibhav-sinha What's your Jira ID? Can you share it with me?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866666237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866667254","html_url":"https://github.com/apache/hudi/pull/3138#issuecomment-866667254","issue_url":"https://api.github.com/repos/apache/hudi/issues/3138","id":866667254,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjY2NzI1NA==","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T09:08:18Z","updated_at":"2021-06-24T10:47:11Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"0b3283067503c07bd1168cd88cae6d4bf8f215ba\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=375\",\n    \"triggerID\" : \"0b3283067503c07bd1168cd88cae6d4bf8f215ba\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"4346314677d2969e441545f796aff2a37126fa49\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"4346314677d2969e441545f796aff2a37126fa49\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"8d126fbff62054936249ed6f5b0bcc46416a4b02\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=389\",\n    \"triggerID\" : \"8d126fbff62054936249ed6f5b0bcc46416a4b02\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"caae0d7a3b5e5d7206ec36bbe2b919e96c150e7e\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=406\",\n    \"triggerID\" : \"caae0d7a3b5e5d7206ec36bbe2b919e96c150e7e\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 4346314677d2969e441545f796aff2a37126fa49 UNKNOWN\n* caae0d7a3b5e5d7206ec36bbe2b919e96c150e7e Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=406) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866667254/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866670997","html_url":"https://github.com/apache/hudi/pull/3139#issuecomment-866670997","issue_url":"https://api.github.com/repos/apache/hudi/issues/3139","id":866670997,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjY3MDk5Nw==","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T09:13:28Z","updated_at":"2021-06-23T09:13:28Z","author_association":"CONTRIBUTOR","body":"we add a new UT file， since TestCowDataSource.scala is too large, add this ut to it will lead checkstyle failed!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866670997/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866671675","html_url":"https://github.com/apache/hudi/pull/3139#issuecomment-866671675","issue_url":"https://api.github.com/repos/apache/hudi/issues/3139","id":866671675,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjY3MTY3NQ==","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T09:14:23Z","updated_at":"2021-07-03T16:15:52Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"29536de9ee87bbc207daefef84b80b23c52fca9d\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=376\",\n    \"triggerID\" : \"29536de9ee87bbc207daefef84b80b23c52fca9d\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"ebd7ae14e0fafb413abdd4561361b2fbbd398473\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=410\",\n    \"triggerID\" : \"ebd7ae14e0fafb413abdd4561361b2fbbd398473\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"42066935f5571aad75be3d27ba3321b6e61f4b22\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=424\",\n    \"triggerID\" : \"42066935f5571aad75be3d27ba3321b6e61f4b22\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"f189b69eb1d47720891a49f76c3e6edf3d9cf557\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=683\",\n    \"triggerID\" : \"f189b69eb1d47720891a49f76c3e6edf3d9cf557\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* f189b69eb1d47720891a49f76c3e6edf3d9cf557 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=683) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866671675/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866723821","html_url":"https://github.com/apache/hudi/pull/3138#issuecomment-866723821","issue_url":"https://api.github.com/repos/apache/hudi/issues/3138","id":866723821,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjcyMzgyMQ==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T10:32:05Z","updated_at":"2021-06-24T12:25:24Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/3138?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3138](https://codecov.io/gh/apache/hudi/pull/3138?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (caae0d7) into [master](https://codecov.io/gh/apache/hudi/commit/7e50f9a5a6be8d68b13a587a07a9af81819540ca?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (7e50f9a) will **decrease** coverage by `0.00%`.\n> The diff coverage is `16.66%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/3138/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/hudi/pull/3138?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #3138      +/-   ##\n============================================\n- Coverage     46.14%   46.13%   -0.01%     \n+ Complexity     5326     5325       -1     \n============================================\n  Files           915      915              \n  Lines         39629    39638       +9     \n  Branches       4273     4274       +1     \n============================================\n+ Hits          18285    18287       +2     \n- Misses        19473    19477       +4     \n- Partials       1871     1874       +3     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| hudicli | `39.95% <ø> (ø)` | |\n| hudiclient | `30.45% <ø> (ø)` | |\n| hudicommon | `47.56% <ø> (-0.02%)` | :arrow_down: |\n| hudiflink | `61.22% <16.66%> (-0.05%)` | :arrow_down: |\n| hudihadoopmr | `51.29% <ø> (ø)` | |\n| hudisparkdatasource | `67.03% <ø> (+0.02%)` | :arrow_up: |\n| hudisync | `51.73% <ø> (ø)` | |\n| huditimelineservice | `64.36% <ø> (ø)` | |\n| hudiutilities | `58.37% <ø> (-0.04%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/3138?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...e/hudi/sink/partitioner/profile/WriteProfiles.java](https://codecov.io/gh/apache/hudi/pull/3138/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL3BhcnRpdGlvbmVyL3Byb2ZpbGUvV3JpdGVQcm9maWxlcy5qYXZh) | `46.80% <16.66%> (-3.20%)` | :arrow_down: |\n| [...e/hudi/common/table/log/HoodieLogFormatWriter.java](https://codecov.io/gh/apache/hudi/pull/3138/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9Ib29kaWVMb2dGb3JtYXRXcml0ZXIuamF2YQ==) | `78.12% <0.00%> (-1.57%)` | :arrow_down: |\n| [...n/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala](https://codecov.io/gh/apache/hudi/pull/3138/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL0hvb2RpZU1lcmdlT25SZWFkUkRELnNjYWxh) | `90.21% <0.00%> (-0.55%)` | :arrow_down: |\n| [...apache/hudi/utilities/deltastreamer/DeltaSync.java](https://codecov.io/gh/apache/hudi/pull/3138/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvRGVsdGFTeW5jLmphdmE=) | `70.84% <0.00%> (-0.34%)` | :arrow_down: |\n| [...ql/hudi/command/InsertIntoHoodieTableCommand.scala](https://codecov.io/gh/apache/hudi/pull/3138/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9zcGFyay9zcWwvaHVkaS9jb21tYW5kL0luc2VydEludG9Ib29kaWVUYWJsZUNvbW1hbmQuc2NhbGE=) | `88.61% <0.00%> (+0.48%)` | :arrow_up: |\n| [...ala/org/apache/spark/sql/hudi/HoodieSqlUtils.scala](https://codecov.io/gh/apache/hudi/pull/3138/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9zcGFyay9zcWwvaHVkaS9Ib29kaWVTcWxVdGlscy5zY2FsYQ==) | `69.64% <0.00%> (+0.55%)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/hudi/pull/3138?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/hudi/pull/3138?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [7e50f9a...caae0d7](https://codecov.io/gh/apache/hudi/pull/3138?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866723821/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866741631","html_url":"https://github.com/apache/hudi/pull/3139#issuecomment-866741631","issue_url":"https://api.github.com/repos/apache/hudi/issues/3139","id":866741631,"node_id":"MDEyOklzc3VlQ29tbWVudDg2Njc0MTYzMQ==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T11:02:52Z","updated_at":"2021-07-03T16:08:16Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/3139?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3139](https://codecov.io/gh/apache/hudi/pull/3139?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (f189b69) into [master](https://codecov.io/gh/apache/hudi/commit/62a1ad8b3a2a3c1dabba0a4622117636920b6c13?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (62a1ad8) will **increase** coverage by `0.00%`.\n> The diff coverage is `50.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/3139/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/hudi/pull/3139?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@            Coverage Diff            @@\n##             master    #3139   +/-   ##\n=========================================\n  Coverage     47.51%   47.51%           \n- Complexity     5431     5437    +6     \n=========================================\n  Files           922      922           \n  Lines         41001    41012   +11     \n  Branches       4104     4111    +7     \n=========================================\n+ Hits          19480    19487    +7     \n  Misses        19799    19799           \n- Partials       1722     1726    +4     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| hudicli | `39.97% <ø> (ø)` | |\n| hudiclient | `34.57% <ø> (ø)` | |\n| hudicommon | `48.39% <ø> (ø)` | |\n| hudiflink | `59.91% <ø> (ø)` | |\n| hudihadoopmr | `51.29% <ø> (ø)` | |\n| hudisparkdatasource | `67.21% <50.00%> (-0.04%)` | :arrow_down: |\n| hudisync | `54.24% <ø> (ø)` | |\n| huditimelineservice | `64.07% <ø> (ø)` | |\n| hudiutilities | `58.05% <ø> (+0.03%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/3139?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...in/scala/org/apache/hudi/IncrementalRelation.scala](https://codecov.io/gh/apache/hudi/pull/3139/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL0luY3JlbWVudGFsUmVsYXRpb24uc2NhbGE=) | `76.13% <50.00%> (-5.69%)` | :arrow_down: |\n| [...apache/hudi/utilities/deltastreamer/DeltaSync.java](https://codecov.io/gh/apache/hudi/pull/3139/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvRGVsdGFTeW5jLmphdmE=) | `71.38% <0.00%> (+0.33%)` | :arrow_up: |\n| [...cala/org/apache/hudi/HoodieBootstrapRelation.scala](https://codecov.io/gh/apache/hudi/pull/3139/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL0hvb2RpZUJvb3RzdHJhcFJlbGF0aW9uLnNjYWxh) | `90.10% <0.00%> (+1.09%)` | :arrow_up: |\n| [...ain/scala/org/apache/hudi/HoodieBootstrapRDD.scala](https://codecov.io/gh/apache/hudi/pull/3139/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL0hvb2RpZUJvb3RzdHJhcFJERC5zY2FsYQ==) | `89.09% <0.00%> (+1.81%)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/hudi/pull/3139?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/hudi/pull/3139?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [62a1ad8...f189b69](https://codecov.io/gh/apache/hudi/pull/3139?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866741631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866791909","html_url":"https://github.com/apache/hudi/pull/3105#issuecomment-866791909","issue_url":"https://api.github.com/repos/apache/hudi/issues/3105","id":866791909,"node_id":"MDEyOklzc3VlQ29tbWVudDg2Njc5MTkwOQ==","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T12:26:55Z","updated_at":"2021-06-23T12:26:55Z","author_association":"CONTRIBUTOR","body":"@leesf Can we merge this first, the tests failure are not caused by this patch and @pengzhiwei2018 was fixing it.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866791909/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866795227","html_url":"https://github.com/apache/hudi/pull/3136#issuecomment-866795227","issue_url":"https://api.github.com/repos/apache/hudi/issues/3136","id":866795227,"node_id":"MDEyOklzc3VlQ29tbWVudDg2Njc5NTIyNw==","user":{"login":"veenaypatil","id":52563354,"node_id":"MDQ6VXNlcjUyNTYzMzU0","avatar_url":"https://avatars.githubusercontent.com/u/52563354?v=4","gravatar_id":"","url":"https://api.github.com/users/veenaypatil","html_url":"https://github.com/veenaypatil","followers_url":"https://api.github.com/users/veenaypatil/followers","following_url":"https://api.github.com/users/veenaypatil/following{/other_user}","gists_url":"https://api.github.com/users/veenaypatil/gists{/gist_id}","starred_url":"https://api.github.com/users/veenaypatil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/veenaypatil/subscriptions","organizations_url":"https://api.github.com/users/veenaypatil/orgs","repos_url":"https://api.github.com/users/veenaypatil/repos","events_url":"https://api.github.com/users/veenaypatil/events{/privacy}","received_events_url":"https://api.github.com/users/veenaypatil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T12:32:13Z","updated_at":"2021-06-23T12:32:13Z","author_association":"CONTRIBUTOR","body":"@vinothchandar @leesf can you pls review","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866795227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866859726","html_url":"https://github.com/apache/hudi/pull/3105#issuecomment-866859726","issue_url":"https://api.github.com/repos/apache/hudi/issues/3105","id":866859726,"node_id":"MDEyOklzc3VlQ29tbWVudDg2Njg1OTcyNg==","user":{"login":"pengzhiwei2018","id":42458891,"node_id":"MDQ6VXNlcjQyNDU4ODkx","avatar_url":"https://avatars.githubusercontent.com/u/42458891?v=4","gravatar_id":"","url":"https://api.github.com/users/pengzhiwei2018","html_url":"https://github.com/pengzhiwei2018","followers_url":"https://api.github.com/users/pengzhiwei2018/followers","following_url":"https://api.github.com/users/pengzhiwei2018/following{/other_user}","gists_url":"https://api.github.com/users/pengzhiwei2018/gists{/gist_id}","starred_url":"https://api.github.com/users/pengzhiwei2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pengzhiwei2018/subscriptions","organizations_url":"https://api.github.com/users/pengzhiwei2018/orgs","repos_url":"https://api.github.com/users/pengzhiwei2018/repos","events_url":"https://api.github.com/users/pengzhiwei2018/events{/privacy}","received_events_url":"https://api.github.com/users/pengzhiwei2018/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T13:57:56Z","updated_at":"2021-06-23T14:00:13Z","author_association":"NONE","body":"Hi @Danny, I am fixing the issue 2 about schema evolution.  The issue 1 is  about TestHoodieBackedMetadata#testOnlyValidPartitionsAdded which may need @prashantwason to take a look.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866859726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866913205","html_url":"https://github.com/apache/hudi/issues/3077#issuecomment-866913205","issue_url":"https://api.github.com/repos/apache/hudi/issues/3077","id":866913205,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjkxMzIwNQ==","user":{"login":"karan867","id":85880633,"node_id":"MDQ6VXNlcjg1ODgwNjMz","avatar_url":"https://avatars.githubusercontent.com/u/85880633?v=4","gravatar_id":"","url":"https://api.github.com/users/karan867","html_url":"https://github.com/karan867","followers_url":"https://api.github.com/users/karan867/followers","following_url":"https://api.github.com/users/karan867/following{/other_user}","gists_url":"https://api.github.com/users/karan867/gists{/gist_id}","starred_url":"https://api.github.com/users/karan867/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karan867/subscriptions","organizations_url":"https://api.github.com/users/karan867/orgs","repos_url":"https://api.github.com/users/karan867/repos","events_url":"https://api.github.com/users/karan867/events{/privacy}","received_events_url":"https://api.github.com/users/karan867/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T14:59:06Z","updated_at":"2021-06-23T15:02:23Z","author_association":"NONE","body":"@n3nash  Thank you for the suggestions. I tried the parameters you suggested. \r\n\r\n* Setting hoodie.parquet.small.file.limit to zero did not make much difference and the subsequent commits turned slower. \r\n![image](https://user-images.githubusercontent.com/85880633/123118196-0b82c300-d460-11eb-8a40-b279e704cc98.png)\r\n\r\n\r\n* Setting the index to SIMPLE decreased the time from 12 mins to 9.5 mins. I did not try it out before because in our use case we have hourly batch jobs that will mostly impact the latest partitions and this blog [https://hudi.apache.org/blog/hudi-indexing-mechanisms/](https://hudi.apache.org/blog/hudi-indexing-mechanisms/ ) says that simple index works best if the updates are random. Also is the time complexity of the simple index order of the rows present in the partition. Just want to make sure it does not increase with commits or partitions.\r\n![image](https://user-images.githubusercontent.com/85880633/123118222-1178a400-d460-11eb-8ffa-02b780843745.png)\r\n\r\n\r\nI had a few more questions regarding hudi write  \r\n* Can you explain what is happening in the steps taking the most time? \r\n   * Load latest base files from partitions \r\n   * Building workload profile \r\n   * Getting small files from partitions step1 \r\n   * Getting small files from partitions step2  \r\n \r\n* Are there some benchmarks of write latencies I can compare to? For example, the time taken to write 100k row of size 1 KB. Some rough estimates from your experience would also do. \r\n\r\n*  Can we somehow insert the data with duplicates and support updates and deletion?  The primary feature for which we are using Hudi is to make our data lake GDPR compliant.  \r\n\r\n* Is the MOR metadata table created by setting hoodie.metadata.enable' as true used when writing or just when reading the data? \r\n\r\n* Randomly in some commits the write takes very less time. Do you have some explanation for that? (It is not the 1st commit)\r\n![image](https://user-images.githubusercontent.com/85880633/123119753-6e288e80-d461-11eb-83f6-1348ce752eb1.png)\r\n\r\n  ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866913205/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866975175","html_url":"https://github.com/apache/hudi/pull/3141#issuecomment-866975175","issue_url":"https://api.github.com/repos/apache/hudi/issues/3141","id":866975175,"node_id":"MDEyOklzc3VlQ29tbWVudDg2Njk3NTE3NQ==","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T16:13:00Z","updated_at":"2021-06-23T18:01:06Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"f255a19f3d7f99666d3501e4942dd704563f1bd2\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=382\",\n    \"triggerID\" : \"f255a19f3d7f99666d3501e4942dd704563f1bd2\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"556076d5963d883fe0982b7d72ba3af9094e4939\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"556076d5963d883fe0982b7d72ba3af9094e4939\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"0409b46762a7eff3c1029095baaf769e8c4caf21\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=384\",\n    \"triggerID\" : \"0409b46762a7eff3c1029095baaf769e8c4caf21\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 556076d5963d883fe0982b7d72ba3af9094e4939 UNKNOWN\n* 0409b46762a7eff3c1029095baaf769e8c4caf21 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=384) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866975175/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866996072","html_url":"https://github.com/apache/hudi/pull/3142#issuecomment-866996072","issue_url":"https://api.github.com/repos/apache/hudi/issues/3142","id":866996072,"node_id":"MDEyOklzc3VlQ29tbWVudDg2Njk5NjA3Mg==","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T16:43:06Z","updated_at":"2021-07-11T17:10:26Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"4a651f8d6b32f63838d8317c9f083508c17e4458\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=383\",\n    \"triggerID\" : \"4a651f8d6b32f63838d8317c9f083508c17e4458\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"4a651f8d6b32f63838d8317c9f083508c17e4458\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=413\",\n    \"triggerID\" : \"867615903\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"4a651f8d6b32f63838d8317c9f083508c17e4458\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=413\",\n    \"triggerID\" : \"867624272\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"0138dadc9c21dc753582505e03a139efe1f63884\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=568\",\n    \"triggerID\" : \"0138dadc9c21dc753582505e03a139efe1f63884\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"cd2781856c66d1b8527b12f29c99f3faf31e3fdb\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=659\",\n    \"triggerID\" : \"cd2781856c66d1b8527b12f29c99f3faf31e3fdb\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"2d1f23811a18ed5b127c12391ea0fcabe50bb8a4\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=744\",\n    \"triggerID\" : \"2d1f23811a18ed5b127c12391ea0fcabe50bb8a4\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"cea6548b53a242e93e861401564a5bb55d317f24\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=812\",\n    \"triggerID\" : \"cea6548b53a242e93e861401564a5bb55d317f24\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"890e9822855fcd45c8387f83740975f43474cddc\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=814\",\n    \"triggerID\" : \"890e9822855fcd45c8387f83740975f43474cddc\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"890e9822855fcd45c8387f83740975f43474cddc\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=818\",\n    \"triggerID\" : \"877110964\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"f86f50e817a625dc30f35a39b7495a4f359e4da5\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=823\",\n    \"triggerID\" : \"f86f50e817a625dc30f35a39b7495a4f359e4da5\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"f86f50e817a625dc30f35a39b7495a4f359e4da5\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=824\",\n    \"triggerID\" : \"877330225\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"f86f50e817a625dc30f35a39b7495a4f359e4da5\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=823\",\n    \"triggerID\" : \"877330225\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"7d4f9812e05062092c33bb5a4718ed25aa29bac6\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=849\",\n    \"triggerID\" : \"7d4f9812e05062092c33bb5a4718ed25aa29bac6\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 7d4f9812e05062092c33bb5a4718ed25aa29bac6 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=849) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/866996072/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/867034257","html_url":"https://github.com/apache/hudi/pull/2833#issuecomment-867034257","issue_url":"https://api.github.com/repos/apache/hudi/issues/2833","id":867034257,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzAzNDI1Nw==","user":{"login":"zhedoubushishi","id":31263084,"node_id":"MDQ6VXNlcjMxMjYzMDg0","avatar_url":"https://avatars.githubusercontent.com/u/31263084?v=4","gravatar_id":"","url":"https://api.github.com/users/zhedoubushishi","html_url":"https://github.com/zhedoubushishi","followers_url":"https://api.github.com/users/zhedoubushishi/followers","following_url":"https://api.github.com/users/zhedoubushishi/following{/other_user}","gists_url":"https://api.github.com/users/zhedoubushishi/gists{/gist_id}","starred_url":"https://api.github.com/users/zhedoubushishi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhedoubushishi/subscriptions","organizations_url":"https://api.github.com/users/zhedoubushishi/orgs","repos_url":"https://api.github.com/users/zhedoubushishi/repos","events_url":"https://api.github.com/users/zhedoubushishi/events{/privacy}","received_events_url":"https://api.github.com/users/zhedoubushishi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T17:41:54Z","updated_at":"2021-06-23T17:41:54Z","author_association":"CONTRIBUTOR","body":"@vinothchandar I resolved the merge conflicts. Can you take a final review? There's one test failed but it seems even using master branch that test sometimes also failed.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/867034257/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/867069605","html_url":"https://github.com/apache/hudi/pull/3111#issuecomment-867069605","issue_url":"https://api.github.com/repos/apache/hudi/issues/3111","id":867069605,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzA2OTYwNQ==","user":{"login":"sbernauer","id":29303194,"node_id":"MDQ6VXNlcjI5MzAzMTk0","avatar_url":"https://avatars.githubusercontent.com/u/29303194?v=4","gravatar_id":"","url":"https://api.github.com/users/sbernauer","html_url":"https://github.com/sbernauer","followers_url":"https://api.github.com/users/sbernauer/followers","following_url":"https://api.github.com/users/sbernauer/following{/other_user}","gists_url":"https://api.github.com/users/sbernauer/gists{/gist_id}","starred_url":"https://api.github.com/users/sbernauer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sbernauer/subscriptions","organizations_url":"https://api.github.com/users/sbernauer/orgs","repos_url":"https://api.github.com/users/sbernauer/repos","events_url":"https://api.github.com/users/sbernauer/events{/privacy}","received_events_url":"https://api.github.com/users/sbernauer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T18:36:17Z","updated_at":"2021-06-23T18:36:17Z","author_association":"CONTRIBUTOR","body":"The previous test run failed because of the hudi-utilities. The current testrun failed two other tests, the hudi-utilities were fine. How do we progress here? I think the tests itself are problematic.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/867069605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/867071378","html_url":"https://github.com/apache/hudi/pull/3141#issuecomment-867071378","issue_url":"https://api.github.com/repos/apache/hudi/issues/3141","id":867071378,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzA3MTM3OA==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T18:39:07Z","updated_at":"2021-06-23T19:25:25Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/3141?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3141](https://codecov.io/gh/apache/hudi/pull/3141?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (0409b46) into [master](https://codecov.io/gh/apache/hudi/commit/43b9c1fa1caf97f6fb2baf68e350615541ea0a0c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (43b9c1f) will **increase** coverage by `1.98%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/3141/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/hudi/pull/3141?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #3141      +/-   ##\n============================================\n+ Coverage     44.14%   46.13%   +1.98%     \n- Complexity     4535     5324     +789     \n============================================\n  Files           819      915      +96     \n  Lines         36166    39622    +3456     \n  Branches       3920     4272     +352     \n============================================\n+ Hits          15966    18278    +2312     \n- Misses        18468    19473    +1005     \n- Partials       1732     1871     +139     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| hudicli | `39.95% <ø> (ø)` | |\n| hudiclient | `30.45% <ø> (+14.00%)` | :arrow_up: |\n| hudicommon | `47.55% <ø> (-0.03%)` | :arrow_down: |\n| hudiflink | `61.26% <ø> (+0.15%)` | :arrow_up: |\n| hudihadoopmr | `51.29% <ø> (ø)` | |\n| hudisparkdatasource | `67.05% <ø> (ø)` | |\n| hudisync | `51.73% <ø> (ø)` | |\n| huditimelineservice | `64.36% <ø> (ø)` | |\n| hudiutilities | `58.37% <ø> (-0.04%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/3141?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...ache/hudi/common/fs/inline/InMemoryFileSystem.java](https://codecov.io/gh/apache/hudi/pull/3141/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2ZzL2lubGluZS9Jbk1lbW9yeUZpbGVTeXN0ZW0uamF2YQ==) | `79.31% <0.00%> (-10.35%)` | :arrow_down: |\n| [...apache/hudi/utilities/deltastreamer/DeltaSync.java](https://codecov.io/gh/apache/hudi/pull/3141/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvRGVsdGFTeW5jLmphdmE=) | `70.84% <0.00%> (-0.34%)` | :arrow_down: |\n| [...apache/hudi/sink/compact/HoodieFlinkCompactor.java](https://codecov.io/gh/apache/hudi/pull/3141/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL2NvbXBhY3QvSG9vZGllRmxpbmtDb21wYWN0b3IuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...apache/hudi/table/HoodieSparkCopyOnWriteTable.java](https://codecov.io/gh/apache/hudi/pull/3141/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1zcGFyay1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvSG9vZGllU3BhcmtDb3B5T25Xcml0ZVRhYmxlLmphdmE=) | `78.57% <0.00%> (ø)` | |\n| [...ava/org/apache/hudi/keygen/CustomKeyGenerator.java](https://codecov.io/gh/apache/hudi/pull/3141/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1zcGFyay1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkva2V5Z2VuL0N1c3RvbUtleUdlbmVyYXRvci5qYXZh) | `71.42% <0.00%> (ø)` | |\n| [...mmit/SparkDeletePartitionCommitActionExecutor.java](https://codecov.io/gh/apache/hudi/pull/3141/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1zcGFyay1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvYWN0aW9uL2NvbW1pdC9TcGFya0RlbGV0ZVBhcnRpdGlvbkNvbW1pdEFjdGlvbkV4ZWN1dG9yLmphdmE=) | `100.00% <0.00%> (ø)` | |\n| [.../hudi/execution/bulkinsert/NonSortPartitioner.java](https://codecov.io/gh/apache/hudi/pull/3141/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1zcGFyay1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvZXhlY3V0aW9uL2J1bGtpbnNlcnQvTm9uU29ydFBhcnRpdGlvbmVyLmphdmE=) | `100.00% <0.00%> (ø)` | |\n| [...t/SparkUpsertPreppedDeltaCommitActionExecutor.java](https://codecov.io/gh/apache/hudi/pull/3141/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1zcGFyay1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvYWN0aW9uL2RlbHRhY29tbWl0L1NwYXJrVXBzZXJ0UHJlcHBlZERlbHRhQ29tbWl0QWN0aW9uRXhlY3V0b3IuamF2YQ==) | `100.00% <0.00%> (ø)` | |\n| [...tacommit/SparkUpsertDeltaCommitActionExecutor.java](https://codecov.io/gh/apache/hudi/pull/3141/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1zcGFyay1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvYWN0aW9uL2RlbHRhY29tbWl0L1NwYXJrVXBzZXJ0RGVsdGFDb21taXRBY3Rpb25FeGVjdXRvci5qYXZh) | `100.00% <0.00%> (ø)` | |\n| [...deltacommit/SparkUpsertDeltaCommitPartitioner.java](https://codecov.io/gh/apache/hudi/pull/3141/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1zcGFyay1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvYWN0aW9uL2RlbHRhY29tbWl0L1NwYXJrVXBzZXJ0RGVsdGFDb21taXRQYXJ0aXRpb25lci5qYXZh) | `100.00% <0.00%> (ø)` | |\n| ... and [91 more](https://codecov.io/gh/apache/hudi/pull/3141/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/hudi/pull/3141?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/hudi/pull/3141?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [43b9c1f...0409b46](https://codecov.io/gh/apache/hudi/pull/3141?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/867071378/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/867072324","html_url":"https://github.com/apache/hudi/pull/3111#issuecomment-867072324","issue_url":"https://api.github.com/repos/apache/hudi/issues/3111","id":867072324,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzA3MjMyNA==","user":{"login":"vburenin","id":4350891,"node_id":"MDQ6VXNlcjQzNTA4OTE=","avatar_url":"https://avatars.githubusercontent.com/u/4350891?v=4","gravatar_id":"","url":"https://api.github.com/users/vburenin","html_url":"https://github.com/vburenin","followers_url":"https://api.github.com/users/vburenin/followers","following_url":"https://api.github.com/users/vburenin/following{/other_user}","gists_url":"https://api.github.com/users/vburenin/gists{/gist_id}","starred_url":"https://api.github.com/users/vburenin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vburenin/subscriptions","organizations_url":"https://api.github.com/users/vburenin/orgs","repos_url":"https://api.github.com/users/vburenin/repos","events_url":"https://api.github.com/users/vburenin/events{/privacy}","received_events_url":"https://api.github.com/users/vburenin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T18:40:36Z","updated_at":"2021-06-23T18:40:36Z","author_association":"CONTRIBUTOR","body":"Test are definitely not ideal, I had a lot of failures around different places when the change was just to reduce info to debug level.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/867072324/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/867078369","html_url":"https://github.com/apache/hudi/pull/3142#issuecomment-867078369","issue_url":"https://api.github.com/repos/apache/hudi/issues/3142","id":867078369,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzA3ODM2OQ==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T18:50:28Z","updated_at":"2021-07-11T17:09:26Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/3142?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3142](https://codecov.io/gh/apache/hudi/pull/3142?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (7d4f981) into [master](https://codecov.io/gh/apache/hudi/commit/9b01d2a04520db6230cd16ef2b29013c013b1944?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (9b01d2a) will **decrease** coverage by `1.70%`.\n> The diff coverage is `49.14%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/3142/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/hudi/pull/3142?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #3142      +/-   ##\n============================================\n- Coverage     47.67%   45.97%   -1.71%     \n+ Complexity     5516     4727     -789     \n============================================\n  Files           929      832      -97     \n  Lines         41303    37953    -3350     \n  Branches       4144     3811     -333     \n============================================\n- Hits          19692    17449    -2243     \n+ Misses        19863    18887     -976     \n+ Partials       1748     1617     -131     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| hudicli | `39.97% <ø> (ø)` | |\n| hudiclient | `22.89% <9.52%> (-11.68%)` | :arrow_down: |\n| hudicommon | `48.56% <0.00%> (-0.03%)` | :arrow_down: |\n| hudiflink | `60.03% <ø> (ø)` | |\n| hudihadoopmr | `51.29% <ø> (ø)` | |\n| hudisparkdatasource | `67.30% <56.66%> (-0.02%)` | :arrow_down: |\n| hudisync | `54.51% <ø> (ø)` | |\n| huditimelineservice | `64.07% <ø> (ø)` | |\n| hudiutilities | `59.26% <90.19%> (+0.69%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/3142?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [.../org/apache/hudi/async/AsyncClusteringService.java](https://codecov.io/gh/apache/hudi/pull/3142/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1jbGllbnQtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2FzeW5jL0FzeW5jQ2x1c3RlcmluZ1NlcnZpY2UuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...ava/org/apache/hudi/async/AsyncCompactService.java](https://codecov.io/gh/apache/hudi/pull/3142/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1jbGllbnQtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2FzeW5jL0FzeW5jQ29tcGFjdFNlcnZpY2UuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...java/org/apache/hudi/async/HoodieAsyncService.java](https://codecov.io/gh/apache/hudi/pull/3142/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1jbGllbnQtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2FzeW5jL0hvb2RpZUFzeW5jU2VydmljZS5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...g/apache/hudi/client/AbstractClusteringClient.java](https://codecov.io/gh/apache/hudi/pull/3142/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1jbGllbnQtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2NsaWVudC9BYnN0cmFjdENsdXN0ZXJpbmdDbGllbnQuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...java/org/apache/hudi/config/HoodieWriteConfig.java](https://codecov.io/gh/apache/hudi/pull/3142/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1jbGllbnQtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2NvbmZpZy9Ib29kaWVXcml0ZUNvbmZpZy5qYXZh) | `42.80% <0.00%> (-0.08%)` | :arrow_down: |\n| [...a/org/apache/hudi/common/util/ClusteringUtils.java](https://codecov.io/gh/apache/hudi/pull/3142/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvQ2x1c3RlcmluZ1V0aWxzLmphdmE=) | `88.40% <0.00%> (-1.31%)` | :arrow_down: |\n| [...in/scala/org/apache/hudi/HoodieStreamingSink.scala](https://codecov.io/gh/apache/hudi/pull/3142/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL0hvb2RpZVN0cmVhbWluZ1Npbmsuc2NhbGE=) | `28.00% <36.66%> (+4.00%)` | :arrow_up: |\n| [...n/scala/org/apache/hudi/HoodieSparkSqlWriter.scala](https://codecov.io/gh/apache/hudi/pull/3142/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL0hvb2RpZVNwYXJrU3FsV3JpdGVyLnNjYWxh) | `72.03% <72.00%> (+0.76%)` | :arrow_up: |\n| [...org/apache/hudi/config/HoodieClusteringConfig.java](https://codecov.io/gh/apache/hudi/pull/3142/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1jbGllbnQtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2NvbmZpZy9Ib29kaWVDbHVzdGVyaW5nQ29uZmlnLmphdmE=) | `71.28% <75.00%> (+0.01%)` | :arrow_up: |\n| [...apache/hudi/utilities/deltastreamer/DeltaSync.java](https://codecov.io/gh/apache/hudi/pull/3142/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvRGVsdGFTeW5jLmphdmE=) | `71.56% <75.00%> (+0.42%)` | :arrow_up: |\n| ... and [110 more](https://codecov.io/gh/apache/hudi/pull/3142/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/hudi/pull/3142?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/hudi/pull/3142?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [9b01d2a...7d4f981](https://codecov.io/gh/apache/hudi/pull/3142?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/867078369/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/867100912","html_url":"https://github.com/apache/hudi/issues/3143#issuecomment-867100912","issue_url":"https://api.github.com/repos/apache/hudi/issues/3143","id":867100912,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzEwMDkxMg==","user":{"login":"rubenssoto","id":36298331,"node_id":"MDQ6VXNlcjM2Mjk4MzMx","avatar_url":"https://avatars.githubusercontent.com/u/36298331?v=4","gravatar_id":"","url":"https://api.github.com/users/rubenssoto","html_url":"https://github.com/rubenssoto","followers_url":"https://api.github.com/users/rubenssoto/followers","following_url":"https://api.github.com/users/rubenssoto/following{/other_user}","gists_url":"https://api.github.com/users/rubenssoto/gists{/gist_id}","starred_url":"https://api.github.com/users/rubenssoto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rubenssoto/subscriptions","organizations_url":"https://api.github.com/users/rubenssoto/orgs","repos_url":"https://api.github.com/users/rubenssoto/repos","events_url":"https://api.github.com/users/rubenssoto/events{/privacy}","received_events_url":"https://api.github.com/users/rubenssoto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T19:28:23Z","updated_at":"2021-06-23T19:28:23Z","author_association":"NONE","body":"I think the problem was my data.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/867100912/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/867185527","html_url":"https://github.com/apache/hudi/pull/2833#issuecomment-867185527","issue_url":"https://api.github.com/repos/apache/hudi/issues/2833","id":867185527,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzE4NTUyNw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T21:52:28Z","updated_at":"2021-06-23T21:52:28Z","author_association":"MEMBER","body":"Thanks. Thats where I got stuck as well. Thanks for rebasing!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/867185527/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/867206424","html_url":"https://github.com/apache/hudi/issues/2992#issuecomment-867206424","issue_url":"https://api.github.com/repos/apache/hudi/issues/2992","id":867206424,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzIwNjQyNA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T22:42:16Z","updated_at":"2021-06-23T22:42:16Z","author_association":"MEMBER","body":"folks,  whats the next step here? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/867206424/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/867210438","html_url":"https://github.com/apache/hudi/pull/2487#issuecomment-867210438","issue_url":"https://api.github.com/repos/apache/hudi/issues/2487","id":867210438,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzIxMDQzOA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T22:53:20Z","updated_at":"2021-06-23T22:53:20Z","author_association":"MEMBER","body":"yes for random uuids, bloomfilters/min/max is less helpful. \r\n\r\n@lw309637554 At a high level, we need some foundational work around metadata table to add record level index to it, thats the direction we are taking. The record level impl itself should be straight forward. I have done all the benchmarks on s3/object storage for range reads. IIUC this is prioritized very highly at uber in h2. @prashantwason can you please provide an update here? I know you are working on this. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/867210438/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/867212403","html_url":"https://github.com/apache/hudi/pull/2487#issuecomment-867212403","issue_url":"https://api.github.com/repos/apache/hudi/issues/2487","id":867212403,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzIxMjQwMw==","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T22:58:45Z","updated_at":"2021-08-09T04:21:15Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"8b07157d222a415db4f0d12fabb720cb4a37e28c\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"8b07157d222a415db4f0d12fabb720cb4a37e28c\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 8b07157d222a415db4f0d12fabb720cb4a37e28c UNKNOWN\n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/867212403/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/867226004","html_url":"https://github.com/apache/hudi/pull/3141#issuecomment-867226004","issue_url":"https://api.github.com/repos/apache/hudi/issues/3141","id":867226004,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzIyNjAwNA==","user":{"login":"leesf","id":10128888,"node_id":"MDQ6VXNlcjEwMTI4ODg4","avatar_url":"https://avatars.githubusercontent.com/u/10128888?v=4","gravatar_id":"","url":"https://api.github.com/users/leesf","html_url":"https://github.com/leesf","followers_url":"https://api.github.com/users/leesf/followers","following_url":"https://api.github.com/users/leesf/following{/other_user}","gists_url":"https://api.github.com/users/leesf/gists{/gist_id}","starred_url":"https://api.github.com/users/leesf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leesf/subscriptions","organizations_url":"https://api.github.com/users/leesf/orgs","repos_url":"https://api.github.com/users/leesf/repos","events_url":"https://api.github.com/users/leesf/events{/privacy}","received_events_url":"https://api.github.com/users/leesf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T23:37:43Z","updated_at":"2021-06-23T23:37:43Z","author_association":"CONTRIBUTOR","body":"@prashantwason we should also add normal rollback commit (using HoodieFailedWritesCleaningPolicy#EAGER) unit tests backed by hoodie metadata table to solve metadata table exception, just merging this PR to make master branch happy.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/867226004/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/867295856","html_url":"https://github.com/apache/hudi/pull/3144#issuecomment-867295856","issue_url":"https://api.github.com/repos/apache/hudi/issues/3144","id":867295856,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzI5NTg1Ng==","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-24T02:57:50Z","updated_at":"2021-06-24T03:33:50Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"7b1eb80f604bd694f28357ca2ed4f1c54231bc06\",\n    \"status\" : \"CANCELED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=390\",\n    \"triggerID\" : \"7b1eb80f604bd694f28357ca2ed4f1c54231bc06\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"bb834eec0bf2d89eaaf31dfbe8f52792325becc1\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"bb834eec0bf2d89eaaf31dfbe8f52792325becc1\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 7b1eb80f604bd694f28357ca2ed4f1c54231bc06 Azure: [CANCELED](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=390) \n* bb834eec0bf2d89eaaf31dfbe8f52792325becc1 UNKNOWN\n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/867295856/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/867304916","html_url":"https://github.com/apache/hudi/pull/3144#issuecomment-867304916","issue_url":"https://api.github.com/repos/apache/hudi/issues/3144","id":867304916,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzMwNDkxNg==","user":{"login":"leesf","id":10128888,"node_id":"MDQ6VXNlcjEwMTI4ODg4","avatar_url":"https://avatars.githubusercontent.com/u/10128888?v=4","gravatar_id":"","url":"https://api.github.com/users/leesf","html_url":"https://github.com/leesf","followers_url":"https://api.github.com/users/leesf/followers","following_url":"https://api.github.com/users/leesf/following{/other_user}","gists_url":"https://api.github.com/users/leesf/gists{/gist_id}","starred_url":"https://api.github.com/users/leesf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leesf/subscriptions","organizations_url":"https://api.github.com/users/leesf/orgs","repos_url":"https://api.github.com/users/leesf/repos","events_url":"https://api.github.com/users/leesf/events{/privacy}","received_events_url":"https://api.github.com/users/leesf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-24T03:23:17Z","updated_at":"2021-06-24T03:23:17Z","author_association":"CONTRIBUTOR","body":"@nsivabalan TestHoodieBackedMetadata#testOnlyValidPartitionsAdded has been fixed https://github.com/apache/hudi/commit/e039e0ff6d04b9b0684dbf29452af8a8dae94b09 and master branch passed now, and there is also a fix to another test, see https://github.com/apache/hudi/pull/3137 so we would just close the PR.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/867304916/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]