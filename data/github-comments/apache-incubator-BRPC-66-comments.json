[{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1708539180","html_url":"https://github.com/apache/brpc/pull/2373#issuecomment-1708539180","issue_url":"https://api.github.com/repos/apache/brpc/issues/2373","id":1708539180,"node_id":"IC_kwDOBhmkcs5l1j0s","user":{"login":"982945902","id":49055103,"node_id":"MDQ6VXNlcjQ5MDU1MTAz","avatar_url":"https://avatars.githubusercontent.com/u/49055103?v=4","gravatar_id":"","url":"https://api.github.com/users/982945902","html_url":"https://github.com/982945902","followers_url":"https://api.github.com/users/982945902/followers","following_url":"https://api.github.com/users/982945902/following{/other_user}","gists_url":"https://api.github.com/users/982945902/gists{/gist_id}","starred_url":"https://api.github.com/users/982945902/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/982945902/subscriptions","organizations_url":"https://api.github.com/users/982945902/orgs","repos_url":"https://api.github.com/users/982945902/repos","events_url":"https://api.github.com/users/982945902/events{/privacy}","received_events_url":"https://api.github.com/users/982945902/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-06T14:59:01Z","updated_at":"2023-09-06T14:59:01Z","author_association":"CONTRIBUTOR","body":"https://datatracker.ietf.org/doc/html/rfc7541#section-4.2 about Maximum Table Size","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1708539180/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1709723292","html_url":"https://github.com/apache/brpc/pull/2366#issuecomment-1709723292","issue_url":"https://api.github.com/repos/apache/brpc/issues/2366","id":1709723292,"node_id":"IC_kwDOBhmkcs5l6E6c","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-07T08:43:05Z","updated_at":"2023-09-07T08:43:05Z","author_association":"CONTRIBUTOR","body":"LGTM\r\n另外标题中的DEAD是HEAD误写了，还是有什么特别的含义？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1709723292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1709733978","html_url":"https://github.com/apache/brpc/issues/2374#issuecomment-1709733978","issue_url":"https://api.github.com/repos/apache/brpc/issues/2374","id":1709733978,"node_id":"IC_kwDOBhmkcs5l6Hha","user":{"login":"vinllen","id":6987398,"node_id":"MDQ6VXNlcjY5ODczOTg=","avatar_url":"https://avatars.githubusercontent.com/u/6987398?v=4","gravatar_id":"","url":"https://api.github.com/users/vinllen","html_url":"https://github.com/vinllen","followers_url":"https://api.github.com/users/vinllen/followers","following_url":"https://api.github.com/users/vinllen/following{/other_user}","gists_url":"https://api.github.com/users/vinllen/gists{/gist_id}","starred_url":"https://api.github.com/users/vinllen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinllen/subscriptions","organizations_url":"https://api.github.com/users/vinllen/orgs","repos_url":"https://api.github.com/users/vinllen/repos","events_url":"https://api.github.com/users/vinllen/events{/privacy}","received_events_url":"https://api.github.com/users/vinllen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-07T08:46:38Z","updated_at":"2023-09-07T08:46:38Z","author_association":"NONE","body":"目前这个痛点对我们比较明显，目前共用一个大的bthread线程池会导致资源争抢，比如一个大IO导致bthread打满，从而影响了控制链路层面的问题，比如braft主从心跳断开了，这个影响面就比较大了。\r\n\r\n一方面，我们做了一些流控策略，另一方面，我们计划在bthread里面做一些改造。\r\n\r\n我们计划自己修改bthread代码，现在有2个修改思路，大佬帮忙做一下可行性的评估。\r\n1. 从TaskControl层面拆开，全局2个TaskControl。每个TaskControl下来都有一组TaskGroup，比如64个。\r\n2. 全局仍然保留一个TaskControl，但是内部拆2组隔离的TaskGroup list，例如TaskGroup list1管理32个线程（TaskGroup），TaskGroup list2管理32个线程，list1和list2互相隔离。stealing策略不跨list。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1709733978/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1709756919","html_url":"https://github.com/apache/brpc/issues/2368#issuecomment-1709756919","issue_url":"https://api.github.com/repos/apache/brpc/issues/2368","id":1709756919,"node_id":"IC_kwDOBhmkcs5l6NH3","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-07T08:55:44Z","updated_at":"2023-09-07T08:55:44Z","author_association":"CONTRIBUTOR","body":"bRPC will focus on C++ and has no plans to support other languages. \r\nWe suggest to use other RPC frameworks in other languages ​​to communicate with bRPC-based C++ programs, as long as the same protocol is used.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1709756919/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1709792352","html_url":"https://github.com/apache/brpc/pull/2373#issuecomment-1709792352","issue_url":"https://api.github.com/repos/apache/brpc/issues/2373","id":1709792352,"node_id":"IC_kwDOBhmkcs5l6Vxg","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-07T09:17:42Z","updated_at":"2023-09-07T09:17:42Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1709792352/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1709796959","html_url":"https://github.com/apache/brpc/issues/2374#issuecomment-1709796959","issue_url":"https://api.github.com/repos/apache/brpc/issues/2374","id":1709796959,"node_id":"IC_kwDOBhmkcs5l6W5f","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-07T09:20:42Z","updated_at":"2023-09-07T09:20:42Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/brpc/pull/2358\r\n这个PR能满足需求吗？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1709796959/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1709957014","html_url":"https://github.com/apache/brpc/issues/2374#issuecomment-1709957014","issue_url":"https://api.github.com/repos/apache/brpc/issues/2374","id":1709957014,"node_id":"IC_kwDOBhmkcs5l69-W","user":{"login":"vinllen","id":6987398,"node_id":"MDQ6VXNlcjY5ODczOTg=","avatar_url":"https://avatars.githubusercontent.com/u/6987398?v=4","gravatar_id":"","url":"https://api.github.com/users/vinllen","html_url":"https://github.com/vinllen","followers_url":"https://api.github.com/users/vinllen/followers","following_url":"https://api.github.com/users/vinllen/following{/other_user}","gists_url":"https://api.github.com/users/vinllen/gists{/gist_id}","starred_url":"https://api.github.com/users/vinllen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinllen/subscriptions","organizations_url":"https://api.github.com/users/vinllen/orgs","repos_url":"https://api.github.com/users/vinllen/repos","events_url":"https://api.github.com/users/vinllen/events{/privacy}","received_events_url":"https://api.github.com/users/vinllen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-07T11:07:38Z","updated_at":"2023-09-07T11:07:38Z","author_association":"NONE","body":"@wwbmmm 可以满足需求，这个PR会合入吗","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1709957014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1710043315","html_url":"https://github.com/apache/brpc/pull/2366#issuecomment-1710043315","issue_url":"https://api.github.com/repos/apache/brpc/issues/2366","id":1710043315,"node_id":"IC_kwDOBhmkcs5l7TCz","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-07T12:13:06Z","updated_at":"2023-09-07T12:13:06Z","author_association":"CONTRIBUTOR","body":"> LGTM 另外标题中的DEAD是HEAD误写了，还是有什么特别的含义？\r\n\r\n笔误。标题和commit message都改过来了","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1710043315/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1710994542","html_url":"https://github.com/apache/brpc/pull/2358#issuecomment-1710994542","issue_url":"https://api.github.com/repos/apache/brpc/issues/2358","id":1710994542,"node_id":"IC_kwDOBhmkcs5l-7Ru","user":{"login":"vinllen","id":6987398,"node_id":"MDQ6VXNlcjY5ODczOTg=","avatar_url":"https://avatars.githubusercontent.com/u/6987398?v=4","gravatar_id":"","url":"https://api.github.com/users/vinllen","html_url":"https://github.com/vinllen","followers_url":"https://api.github.com/users/vinllen/followers","following_url":"https://api.github.com/users/vinllen/following{/other_user}","gists_url":"https://api.github.com/users/vinllen/gists{/gist_id}","starred_url":"https://api.github.com/users/vinllen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinllen/subscriptions","organizations_url":"https://api.github.com/users/vinllen/orgs","repos_url":"https://api.github.com/users/vinllen/repos","events_url":"https://api.github.com/users/vinllen/events{/privacy}","received_events_url":"https://api.github.com/users/vinllen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-08T02:37:08Z","updated_at":"2023-09-08T02:52:11Z","author_association":"NONE","body":"赞PR，存在共性需求， #2374 \r\n不过这个PR是不是缺少对应的测试代码。另外理论上不同tag的类似bthread_worker_usage在监控上应该拆开？进一步如果做的更完备的话，不同的tag线程池大小应该可以不一样。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1710994542/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1713227373","html_url":"https://github.com/apache/brpc/issues/2377#issuecomment-1713227373","issue_url":"https://api.github.com/repos/apache/brpc/issues/2377","id":1713227373,"node_id":"IC_kwDOBhmkcs5mHcZt","user":{"login":"xiaoma2015","id":10593758,"node_id":"MDQ6VXNlcjEwNTkzNzU4","avatar_url":"https://avatars.githubusercontent.com/u/10593758?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaoma2015","html_url":"https://github.com/xiaoma2015","followers_url":"https://api.github.com/users/xiaoma2015/followers","following_url":"https://api.github.com/users/xiaoma2015/following{/other_user}","gists_url":"https://api.github.com/users/xiaoma2015/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaoma2015/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaoma2015/subscriptions","organizations_url":"https://api.github.com/users/xiaoma2015/orgs","repos_url":"https://api.github.com/users/xiaoma2015/repos","events_url":"https://api.github.com/users/xiaoma2015/events{/privacy}","received_events_url":"https://api.github.com/users/xiaoma2015/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-11T06:10:03Z","updated_at":"2023-09-11T06:13:02Z","author_association":"CONTRIBUTOR","body":"@wwbmmm @jamesge  @gtarcoder","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1713227373/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1713478018","html_url":"https://github.com/apache/brpc/pull/2358#issuecomment-1713478018","issue_url":"https://api.github.com/repos/apache/brpc/issues/2358","id":1713478018,"node_id":"IC_kwDOBhmkcs5mIZmC","user":{"login":"yanglimingcn","id":7091130,"node_id":"MDQ6VXNlcjcwOTExMzA=","avatar_url":"https://avatars.githubusercontent.com/u/7091130?v=4","gravatar_id":"","url":"https://api.github.com/users/yanglimingcn","html_url":"https://github.com/yanglimingcn","followers_url":"https://api.github.com/users/yanglimingcn/followers","following_url":"https://api.github.com/users/yanglimingcn/following{/other_user}","gists_url":"https://api.github.com/users/yanglimingcn/gists{/gist_id}","starred_url":"https://api.github.com/users/yanglimingcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanglimingcn/subscriptions","organizations_url":"https://api.github.com/users/yanglimingcn/orgs","repos_url":"https://api.github.com/users/yanglimingcn/repos","events_url":"https://api.github.com/users/yanglimingcn/events{/privacy}","received_events_url":"https://api.github.com/users/yanglimingcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-11T09:06:49Z","updated_at":"2023-09-11T09:06:49Z","author_association":"CONTRIBUTOR","body":"> 赞PR，存在共性需求， #2374\r\n> 不过这个PR是不是缺少对应的测试代码。另外理论上不同tag的类似bthread_worker_usage在监控上应该拆开？进一步如果做的更完备的话，不同的tag线程池大小应该可以不一样。\r\n\r\n不同tag的bthead_worker_usage是有的，然后tag的线程池也是可以不一样的，我给的使用文档吧。测试代码我得后续补充了，因为这个是改变了很多原有代码，这个测试代码我还没想好怎么去写。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1713478018/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1713481049","html_url":"https://github.com/apache/brpc/pull/2358#issuecomment-1713481049","issue_url":"https://api.github.com/repos/apache/brpc/issues/2358","id":1713481049,"node_id":"IC_kwDOBhmkcs5mIaVZ","user":{"login":"yanglimingcn","id":7091130,"node_id":"MDQ6VXNlcjcwOTExMzA=","avatar_url":"https://avatars.githubusercontent.com/u/7091130?v=4","gravatar_id":"","url":"https://api.github.com/users/yanglimingcn","html_url":"https://github.com/yanglimingcn","followers_url":"https://api.github.com/users/yanglimingcn/followers","following_url":"https://api.github.com/users/yanglimingcn/following{/other_user}","gists_url":"https://api.github.com/users/yanglimingcn/gists{/gist_id}","starred_url":"https://api.github.com/users/yanglimingcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanglimingcn/subscriptions","organizations_url":"https://api.github.com/users/yanglimingcn/orgs","repos_url":"https://api.github.com/users/yanglimingcn/repos","events_url":"https://api.github.com/users/yanglimingcn/events{/privacy}","received_events_url":"https://api.github.com/users/yanglimingcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-11T09:08:46Z","updated_at":"2023-09-11T09:08:46Z","author_association":"CONTRIBUTOR","body":"这个feature我们也是有强需求，所以我才开发的，我们内部很快也要线上使用。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1713481049/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1715473278","html_url":"https://github.com/apache/brpc/issues/2378#issuecomment-1715473278","issue_url":"https://api.github.com/repos/apache/brpc/issues/2378","id":1715473278,"node_id":"IC_kwDOBhmkcs5mQAt-","user":{"login":"xxpbb","id":70773497,"node_id":"MDQ6VXNlcjcwNzczNDk3","avatar_url":"https://avatars.githubusercontent.com/u/70773497?v=4","gravatar_id":"","url":"https://api.github.com/users/xxpbb","html_url":"https://github.com/xxpbb","followers_url":"https://api.github.com/users/xxpbb/followers","following_url":"https://api.github.com/users/xxpbb/following{/other_user}","gists_url":"https://api.github.com/users/xxpbb/gists{/gist_id}","starred_url":"https://api.github.com/users/xxpbb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xxpbb/subscriptions","organizations_url":"https://api.github.com/users/xxpbb/orgs","repos_url":"https://api.github.com/users/xxpbb/repos","events_url":"https://api.github.com/users/xxpbb/events{/privacy}","received_events_url":"https://api.github.com/users/xxpbb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-12T10:36:02Z","updated_at":"2023-09-12T10:36:02Z","author_association":"NONE","body":"如果想指定 protobuf 的版本，可以这么做\r\n1. 先编译安装好 protobuf，比如：mkdir build && cd build && cmake -DCMAKE_INSTALL_PREFIX=$HOME/.local -DCMAKE_POSITION_INDEPENDENT_CODE=ON .. && make -j\r\n2. 再编译安装 brpc，比如：mkdir build && cd build && cmake -DCMAKE_INSTALL_PREFIX=$HOME/.local -DCMAKE_PREFIX_PATH=$HOME/.local .. && make -j\r\n3. 再编译你的项目，比如：mkdir build && cd build && cmake -DCMAKE_PREFIX_PATH=$HOME/.local .. && make -j","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1715473278/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1716834159","html_url":"https://github.com/apache/brpc/issues/2379#issuecomment-1716834159","issue_url":"https://api.github.com/repos/apache/brpc/issues/2379","id":1716834159,"node_id":"IC_kwDOBhmkcs5mVM9v","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-13T02:18:32Z","updated_at":"2023-09-13T03:28:59Z","author_association":"CONTRIBUTOR","body":"这个example中，client发起异步rpc，Service不是异步的。\r\n\r\nhttps://github.com/apache/brpc/blob/5dc6562049390ac2e25c044f5b975b01022b80f1/example/asynchronous_echo_c%2B%2B/client.cpp#L96-L101","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1716834159/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1716842894","html_url":"https://github.com/apache/brpc/issues/2379#issuecomment-1716842894","issue_url":"https://api.github.com/repos/apache/brpc/issues/2379","id":1716842894,"node_id":"IC_kwDOBhmkcs5mVPGO","user":{"login":"tkzky","id":50878712,"node_id":"MDQ6VXNlcjUwODc4NzEy","avatar_url":"https://avatars.githubusercontent.com/u/50878712?v=4","gravatar_id":"","url":"https://api.github.com/users/tkzky","html_url":"https://github.com/tkzky","followers_url":"https://api.github.com/users/tkzky/followers","following_url":"https://api.github.com/users/tkzky/following{/other_user}","gists_url":"https://api.github.com/users/tkzky/gists{/gist_id}","starred_url":"https://api.github.com/users/tkzky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tkzky/subscriptions","organizations_url":"https://api.github.com/users/tkzky/orgs","repos_url":"https://api.github.com/users/tkzky/repos","events_url":"https://api.github.com/users/tkzky/events{/privacy}","received_events_url":"https://api.github.com/users/tkzky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-13T02:22:38Z","updated_at":"2023-09-13T02:22:38Z","author_association":"NONE","body":"> \r\n\r\n感谢您的回答，请问example中有异步service的例子吗？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1716842894/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1716886401","html_url":"https://github.com/apache/brpc/issues/2379#issuecomment-1716886401","issue_url":"https://api.github.com/repos/apache/brpc/issues/2379","id":1716886401,"node_id":"IC_kwDOBhmkcs5mVZuB","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-13T03:29:24Z","updated_at":"2023-09-13T03:29:24Z","author_association":"CONTRIBUTOR","body":"这个example用了异步service\r\nhttps://github.com/apache/brpc/blob/5dc6562049390ac2e25c044f5b975b01022b80f1/example/session_data_and_thread_local/server.cpp#L171-L182","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1716886401/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1716887100","html_url":"https://github.com/apache/brpc/issues/2379#issuecomment-1716887100","issue_url":"https://api.github.com/repos/apache/brpc/issues/2379","id":1716887100,"node_id":"IC_kwDOBhmkcs5mVZ48","user":{"login":"tkzky","id":50878712,"node_id":"MDQ6VXNlcjUwODc4NzEy","avatar_url":"https://avatars.githubusercontent.com/u/50878712?v=4","gravatar_id":"","url":"https://api.github.com/users/tkzky","html_url":"https://github.com/tkzky","followers_url":"https://api.github.com/users/tkzky/followers","following_url":"https://api.github.com/users/tkzky/following{/other_user}","gists_url":"https://api.github.com/users/tkzky/gists{/gist_id}","starred_url":"https://api.github.com/users/tkzky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tkzky/subscriptions","organizations_url":"https://api.github.com/users/tkzky/orgs","repos_url":"https://api.github.com/users/tkzky/repos","events_url":"https://api.github.com/users/tkzky/events{/privacy}","received_events_url":"https://api.github.com/users/tkzky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-13T03:30:38Z","updated_at":"2023-09-13T03:30:38Z","author_association":"NONE","body":"> 这个example用了异步service\r\n> \r\n> https://github.com/apache/brpc/blob/5dc6562049390ac2e25c044f5b975b01022b80f1/example/session_data_and_thread_local/server.cpp#L171-L182\r\n\r\n好的，我看下，多谢您的回答！","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1716887100/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1717053308","html_url":"https://github.com/apache/brpc/issues/2347#issuecomment-1717053308","issue_url":"https://api.github.com/repos/apache/brpc/issues/2347","id":1717053308,"node_id":"IC_kwDOBhmkcs5mWCd8","user":{"login":"zzjshaok","id":39356300,"node_id":"MDQ6VXNlcjM5MzU2MzAw","avatar_url":"https://avatars.githubusercontent.com/u/39356300?v=4","gravatar_id":"","url":"https://api.github.com/users/zzjshaok","html_url":"https://github.com/zzjshaok","followers_url":"https://api.github.com/users/zzjshaok/followers","following_url":"https://api.github.com/users/zzjshaok/following{/other_user}","gists_url":"https://api.github.com/users/zzjshaok/gists{/gist_id}","starred_url":"https://api.github.com/users/zzjshaok/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzjshaok/subscriptions","organizations_url":"https://api.github.com/users/zzjshaok/orgs","repos_url":"https://api.github.com/users/zzjshaok/repos","events_url":"https://api.github.com/users/zzjshaok/events{/privacy}","received_events_url":"https://api.github.com/users/zzjshaok/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-13T06:56:35Z","updated_at":"2023-09-13T06:56:35Z","author_association":"NONE","body":"> 连接方式改成pooled试试\r\n\r\n连接方式改为pooled之后，压测时CPU占用增大，idle剩下5%左右，但是qps降低了5%左右","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1717053308/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1718711549","html_url":"https://github.com/apache/brpc/issues/2380#issuecomment-1718711549","issue_url":"https://api.github.com/repos/apache/brpc/issues/2380","id":1718711549,"node_id":"IC_kwDOBhmkcs5mcXT9","user":{"login":"lanjun-wang","id":90751362,"node_id":"MDQ6VXNlcjkwNzUxMzYy","avatar_url":"https://avatars.githubusercontent.com/u/90751362?v=4","gravatar_id":"","url":"https://api.github.com/users/lanjun-wang","html_url":"https://github.com/lanjun-wang","followers_url":"https://api.github.com/users/lanjun-wang/followers","following_url":"https://api.github.com/users/lanjun-wang/following{/other_user}","gists_url":"https://api.github.com/users/lanjun-wang/gists{/gist_id}","starred_url":"https://api.github.com/users/lanjun-wang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lanjun-wang/subscriptions","organizations_url":"https://api.github.com/users/lanjun-wang/orgs","repos_url":"https://api.github.com/users/lanjun-wang/repos","events_url":"https://api.github.com/users/lanjun-wang/events{/privacy}","received_events_url":"https://api.github.com/users/lanjun-wang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-14T03:31:28Z","updated_at":"2023-09-14T03:31:28Z","author_association":"NONE","body":"服务端代码：\r\n![image](https://github.com/apache/brpc/assets/90751362/aee772b9-8bc5-43ea-84fd-62a9689d3276)\r\n![image](https://github.com/apache/brpc/assets/90751362/38c418c9-6a56-4fdc-8f31-d4de7f29afaa)\r\ng_msg = 16M\r\n客户端:\r\n![image](https://github.com/apache/brpc/assets/90751362/f4dbd583-f55b-4612-89e1-3f662e465935)\r\n给stream绑定了一个receiver.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1718711549/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1718721581","html_url":"https://github.com/apache/brpc/issues/2380#issuecomment-1718721581","issue_url":"https://api.github.com/repos/apache/brpc/issues/2380","id":1718721581,"node_id":"IC_kwDOBhmkcs5mcZwt","user":{"login":"lanjun-wang","id":90751362,"node_id":"MDQ6VXNlcjkwNzUxMzYy","avatar_url":"https://avatars.githubusercontent.com/u/90751362?v=4","gravatar_id":"","url":"https://api.github.com/users/lanjun-wang","html_url":"https://github.com/lanjun-wang","followers_url":"https://api.github.com/users/lanjun-wang/followers","following_url":"https://api.github.com/users/lanjun-wang/following{/other_user}","gists_url":"https://api.github.com/users/lanjun-wang/gists{/gist_id}","starred_url":"https://api.github.com/users/lanjun-wang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lanjun-wang/subscriptions","organizations_url":"https://api.github.com/users/lanjun-wang/orgs","repos_url":"https://api.github.com/users/lanjun-wang/repos","events_url":"https://api.github.com/users/lanjun-wang/events{/privacy}","received_events_url":"https://api.github.com/users/lanjun-wang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-14T03:46:49Z","updated_at":"2023-09-14T03:46:49Z","author_association":"NONE","body":"@jamesge ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1718721581/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1718885486","html_url":"https://github.com/apache/brpc/issues/2380#issuecomment-1718885486","issue_url":"https://api.github.com/repos/apache/brpc/issues/2380","id":1718885486,"node_id":"IC_kwDOBhmkcs5mdBxu","user":{"login":"lanjun-wang","id":90751362,"node_id":"MDQ6VXNlcjkwNzUxMzYy","avatar_url":"https://avatars.githubusercontent.com/u/90751362?v=4","gravatar_id":"","url":"https://api.github.com/users/lanjun-wang","html_url":"https://github.com/lanjun-wang","followers_url":"https://api.github.com/users/lanjun-wang/followers","following_url":"https://api.github.com/users/lanjun-wang/following{/other_user}","gists_url":"https://api.github.com/users/lanjun-wang/gists{/gist_id}","starred_url":"https://api.github.com/users/lanjun-wang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lanjun-wang/subscriptions","organizations_url":"https://api.github.com/users/lanjun-wang/orgs","repos_url":"https://api.github.com/users/lanjun-wang/repos","events_url":"https://api.github.com/users/lanjun-wang/events{/privacy}","received_events_url":"https://api.github.com/users/lanjun-wang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-14T07:09:52Z","updated_at":"2023-09-14T07:09:52Z","author_association":"NONE","body":"非必现，有时候也会不报错跑完。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1718885486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1719358072","html_url":"https://github.com/apache/brpc/issues/2381#issuecomment-1719358072","issue_url":"https://api.github.com/repos/apache/brpc/issues/2381","id":1719358072,"node_id":"IC_kwDOBhmkcs5me1J4","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-14T12:30:30Z","updated_at":"2023-09-15T01:56:21Z","author_association":"CONTRIBUTOR","body":"用bthread_fd_wait、bthread_fd_timedwait应该就能满足需求了吧","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1719358072/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1720401854","html_url":"https://github.com/apache/brpc/issues/2381#issuecomment-1720401854","issue_url":"https://api.github.com/repos/apache/brpc/issues/2381","id":1720401854,"node_id":"IC_kwDOBhmkcs5miz--","user":{"login":"yanglimingcn","id":7091130,"node_id":"MDQ6VXNlcjcwOTExMzA=","avatar_url":"https://avatars.githubusercontent.com/u/7091130?v=4","gravatar_id":"","url":"https://api.github.com/users/yanglimingcn","html_url":"https://github.com/yanglimingcn","followers_url":"https://api.github.com/users/yanglimingcn/followers","following_url":"https://api.github.com/users/yanglimingcn/following{/other_user}","gists_url":"https://api.github.com/users/yanglimingcn/gists{/gist_id}","starred_url":"https://api.github.com/users/yanglimingcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanglimingcn/subscriptions","organizations_url":"https://api.github.com/users/yanglimingcn/orgs","repos_url":"https://api.github.com/users/yanglimingcn/repos","events_url":"https://api.github.com/users/yanglimingcn/events{/privacy}","received_events_url":"https://api.github.com/users/yanglimingcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-15T02:33:17Z","updated_at":"2023-09-15T02:33:17Z","author_association":"CONTRIBUTOR","body":"看这个函数的注释，每次都要EPOLL_CTL_ADD and EPOLL_CTL_DEL，对性能有影响？我这个需求是注册上去了，后边就一直监听就可以了。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1720401854/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1720709755","html_url":"https://github.com/apache/brpc/issues/1979#issuecomment-1720709755","issue_url":"https://api.github.com/repos/apache/brpc/issues/1979","id":1720709755,"node_id":"IC_kwDOBhmkcs5mj_J7","user":{"login":"tangzhiqiang3","id":56831849,"node_id":"MDQ6VXNlcjU2ODMxODQ5","avatar_url":"https://avatars.githubusercontent.com/u/56831849?v=4","gravatar_id":"","url":"https://api.github.com/users/tangzhiqiang3","html_url":"https://github.com/tangzhiqiang3","followers_url":"https://api.github.com/users/tangzhiqiang3/followers","following_url":"https://api.github.com/users/tangzhiqiang3/following{/other_user}","gists_url":"https://api.github.com/users/tangzhiqiang3/gists{/gist_id}","starred_url":"https://api.github.com/users/tangzhiqiang3/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tangzhiqiang3/subscriptions","organizations_url":"https://api.github.com/users/tangzhiqiang3/orgs","repos_url":"https://api.github.com/users/tangzhiqiang3/repos","events_url":"https://api.github.com/users/tangzhiqiang3/events{/privacy}","received_events_url":"https://api.github.com/users/tangzhiqiang3/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-15T05:44:48Z","updated_at":"2023-09-15T05:45:13Z","author_association":"NONE","body":"demo program：\r\n`#include <stdio.h>\r\n#include <gperftools/tcmalloc.h>\r\n \r\nint main()\r\n{\r\n    char *ptr = (char *)tc_malloc(sizeof(char));\r\n    if(ptr){\r\n        printf(\"tcmalloc works failed!\\n\");\r\n    }\r\n\ttc_free(ptr);\r\n \r\n    printf(\"tcmalloc works fine.\\n\");\r\n \r\n    return 0;\r\n}`\r\n\r\nExecution issues after cross compilation: \r\nldd test\r\n./test:\r\n        libtcmalloc.so.9 => /var/data/demo_test/libtcmalloc.so.9 (0x268c1ce000)\r\n        libc++.so.1 => /lib64/libc++.so.1 (0x268c3d1000)\r\n        libm.so.3 => /lib64/libm.so.3 (0x268c4c0000)\r\n        libc.so.4 => /usr/lib/ldqnx-64.so.2 (0x268c11b000)\r\n ./test\r\n\r\nProcess 905670781 (test) terminated SIGSEGV code=1 fltno=11 ip=0000000defa9a868(/var/data/demo_test/libtcmalloc.so.9@calloc+0x0000000000000000) mapaddr=000000000002e868. ref=000000368d29cfc0\r\nMemory fault (core dumped)\r\n\r\ndebug：\r\n(gdb)  set solib-search-path ./lib\r\n(gdb)  file test\r\nReading symbols from test...done.\r\n(gdb) core-file test.core\r\n[New pid 39800955 tid 1]\r\nProgram terminated with signal SIGSEGV, Segmentation fault.\r\n#0  tc_calloc (n=n@entry=34, elem_size=elem_size@entry=8) at src/tcmalloc.cc:1984\r\n1984                                                  size_t elem_size) PERFTOOLS_NOTHROW {\r\n(gdb) f 1\r\n#1  0x00000033358c4e04 in __emutls_get_address (obj=0x33358e4040 <__emutls_v._ZN8tcmalloc11ThreadCache17threadlocal_data_E>) at ../../../../libgcc/emutls.c:159\r\n159     ../../../../libgcc/emutls.c: No such file or directory.\r\n(gdb) f 1\r\n#1  0x00000033358c4e04 in __emutls_get_address (obj=0x33358e4040 <__emutls_v._ZN8tcmalloc11ThreadCache17threadlocal_data_E>) at ../../../../libgcc/emutls.c:159\r\n159     in ../../../../libgcc/emutls.c\r\n(gdb) p list\r\nNo symbol \"list\" in current context.\r\n(gdb) p next\r\n$1 = 1\r\n(gdb) p list\r\nNo symbol \"list\" in current context.\r\n(gdb) \r\n\r\nwhy ？\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1720709755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1724719745","html_url":"https://github.com/apache/brpc/issues/2381#issuecomment-1724719745","issue_url":"https://api.github.com/repos/apache/brpc/issues/2381","id":1724719745,"node_id":"IC_kwDOBhmkcs5mzSKB","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-19T01:59:15Z","updated_at":"2023-09-20T09:53:48Z","author_association":"CONTRIBUTOR","body":"这样看起来不太适用","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1724719745/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1724722406","html_url":"https://github.com/apache/brpc/issues/2384#issuecomment-1724722406","issue_url":"https://api.github.com/repos/apache/brpc/issues/2384","id":1724722406,"node_id":"IC_kwDOBhmkcs5mzSzm","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-19T02:03:08Z","updated_at":"2023-09-19T02:03:08Z","author_association":"CONTRIBUTOR","body":"使用ip:port还是名字访问server？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1724722406/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1724780066","html_url":"https://github.com/apache/brpc/issues/2384#issuecomment-1724780066","issue_url":"https://api.github.com/repos/apache/brpc/issues/2384","id":1724780066,"node_id":"IC_kwDOBhmkcs5mzg4i","user":{"login":"wonderhelios","id":17374965,"node_id":"MDQ6VXNlcjE3Mzc0OTY1","avatar_url":"https://avatars.githubusercontent.com/u/17374965?v=4","gravatar_id":"","url":"https://api.github.com/users/wonderhelios","html_url":"https://github.com/wonderhelios","followers_url":"https://api.github.com/users/wonderhelios/followers","following_url":"https://api.github.com/users/wonderhelios/following{/other_user}","gists_url":"https://api.github.com/users/wonderhelios/gists{/gist_id}","starred_url":"https://api.github.com/users/wonderhelios/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wonderhelios/subscriptions","organizations_url":"https://api.github.com/users/wonderhelios/orgs","repos_url":"https://api.github.com/users/wonderhelios/repos","events_url":"https://api.github.com/users/wonderhelios/events{/privacy}","received_events_url":"https://api.github.com/users/wonderhelios/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-19T03:28:05Z","updated_at":"2023-09-19T03:28:05Z","author_association":"NONE","body":"> 使用ip:port还是名字访问server？\r\n\r\n是用ip:port访问的server，在client中还用缓存了channel。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1724780066/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1724916590","html_url":"https://github.com/apache/brpc/issues/2384#issuecomment-1724916590","issue_url":"https://api.github.com/repos/apache/brpc/issues/2384","id":1724916590,"node_id":"IC_kwDOBhmkcs5m0CNu","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-19T06:42:07Z","updated_at":"2023-09-19T06:42:07Z","author_association":"CONTRIBUTOR","body":"server断开连接，client需要经过HealthCheck才能恢复对这个server的正常访问。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1724916590/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1724917122","html_url":"https://github.com/apache/brpc/issues/2384#issuecomment-1724917122","issue_url":"https://api.github.com/repos/apache/brpc/issues/2384","id":1724917122,"node_id":"IC_kwDOBhmkcs5m0CWC","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-19T06:42:37Z","updated_at":"2023-09-19T06:42:37Z","author_association":"CONTRIBUTOR","body":"改用CONNECTION_TYPE_POOLED应该可以避免这个问题","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1724917122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1725007783","html_url":"https://github.com/apache/brpc/issues/2384#issuecomment-1725007783","issue_url":"https://api.github.com/repos/apache/brpc/issues/2384","id":1725007783,"node_id":"IC_kwDOBhmkcs5m0Yen","user":{"login":"wonderhelios","id":17374965,"node_id":"MDQ6VXNlcjE3Mzc0OTY1","avatar_url":"https://avatars.githubusercontent.com/u/17374965?v=4","gravatar_id":"","url":"https://api.github.com/users/wonderhelios","html_url":"https://github.com/wonderhelios","followers_url":"https://api.github.com/users/wonderhelios/followers","following_url":"https://api.github.com/users/wonderhelios/following{/other_user}","gists_url":"https://api.github.com/users/wonderhelios/gists{/gist_id}","starred_url":"https://api.github.com/users/wonderhelios/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wonderhelios/subscriptions","organizations_url":"https://api.github.com/users/wonderhelios/orgs","repos_url":"https://api.github.com/users/wonderhelios/repos","events_url":"https://api.github.com/users/wonderhelios/events{/privacy}","received_events_url":"https://api.github.com/users/wonderhelios/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-19T07:55:28Z","updated_at":"2023-09-19T07:55:28Z","author_association":"NONE","body":"> server断开连接，client需要经过HealthCheck才能恢复对这个server的正常访问。\r\n\r\n嗯，这个我看了是在`SetFailed()`里面启动的，那目前brpc是没有其他的类似保活的机制吗？\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1725007783/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1725012440","html_url":"https://github.com/apache/brpc/issues/2384#issuecomment-1725012440","issue_url":"https://api.github.com/repos/apache/brpc/issues/2384","id":1725012440,"node_id":"IC_kwDOBhmkcs5m0ZnY","user":{"login":"wonderhelios","id":17374965,"node_id":"MDQ6VXNlcjE3Mzc0OTY1","avatar_url":"https://avatars.githubusercontent.com/u/17374965?v=4","gravatar_id":"","url":"https://api.github.com/users/wonderhelios","html_url":"https://github.com/wonderhelios","followers_url":"https://api.github.com/users/wonderhelios/followers","following_url":"https://api.github.com/users/wonderhelios/following{/other_user}","gists_url":"https://api.github.com/users/wonderhelios/gists{/gist_id}","starred_url":"https://api.github.com/users/wonderhelios/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wonderhelios/subscriptions","organizations_url":"https://api.github.com/users/wonderhelios/orgs","repos_url":"https://api.github.com/users/wonderhelios/repos","events_url":"https://api.github.com/users/wonderhelios/events{/privacy}","received_events_url":"https://api.github.com/users/wonderhelios/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-19T07:58:49Z","updated_at":"2023-09-19T07:58:49Z","author_association":"NONE","body":"> 改用CONNECTION_TYPE_POOLED应该可以避免这个问题\r\n\r\n使用连接池的话，我看文档的描述\r\n```\r\n当连接池中的某个连接在-idle_timeout_second时间内没有读写，则被视作“闲置”，会被自动关闭。默认值为10秒。此功能只对连接池(pooled)有效。打开-log_idle_connection_close在关闭前会打印一条日志。\r\n```\r\n仍然是会有个\"闲置\"的关闭时间，我们的场景有很多客户端，有一些访问很惰性，感觉这个还是没法满足😂。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1725012440/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1725015452","html_url":"https://github.com/apache/brpc/issues/2384#issuecomment-1725015452","issue_url":"https://api.github.com/repos/apache/brpc/issues/2384","id":1725015452,"node_id":"IC_kwDOBhmkcs5m0aWc","user":{"login":"wonderhelios","id":17374965,"node_id":"MDQ6VXNlcjE3Mzc0OTY1","avatar_url":"https://avatars.githubusercontent.com/u/17374965?v=4","gravatar_id":"","url":"https://api.github.com/users/wonderhelios","html_url":"https://github.com/wonderhelios","followers_url":"https://api.github.com/users/wonderhelios/followers","following_url":"https://api.github.com/users/wonderhelios/following{/other_user}","gists_url":"https://api.github.com/users/wonderhelios/gists{/gist_id}","starred_url":"https://api.github.com/users/wonderhelios/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wonderhelios/subscriptions","organizations_url":"https://api.github.com/users/wonderhelios/orgs","repos_url":"https://api.github.com/users/wonderhelios/repos","events_url":"https://api.github.com/users/wonderhelios/events{/privacy}","received_events_url":"https://api.github.com/users/wonderhelios/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-19T08:00:54Z","updated_at":"2023-09-19T08:00:54Z","author_association":"NONE","body":"> > server断开连接，client需要经过HealthCheck才能恢复对这个server的正常访问。\r\n> \r\n> 嗯，这个我看了是在`SetFailed()`里面启动的，那目前brpc是没有其他的类似保活的机制吗？\r\n\r\n其实我们场景的需求就是想着把这种错误在我们程序内部给消化掉，不暴露给用户，要是能有一个特定的错误码能够唯一标识这种情况就好了","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1725015452/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1725016097","html_url":"https://github.com/apache/brpc/issues/2384#issuecomment-1725016097","issue_url":"https://api.github.com/repos/apache/brpc/issues/2384","id":1725016097,"node_id":"IC_kwDOBhmkcs5m0agh","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-19T08:01:23Z","updated_at":"2023-09-19T08:01:35Z","author_association":"CONTRIBUTOR","body":"池里的连接是不会进行HealthCheck的，所以不会出现关闭空闲连接导致112的问题的。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1725016097/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1725150480","html_url":"https://github.com/apache/brpc/issues/2381#issuecomment-1725150480","issue_url":"https://api.github.com/repos/apache/brpc/issues/2381","id":1725150480,"node_id":"IC_kwDOBhmkcs5m07UQ","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-19T09:29:57Z","updated_at":"2023-09-19T09:30:06Z","author_association":"CONTRIBUTOR","body":"是不是可以将Socket中id、on_edge_triggered_events抽象到一个基类？Socket继承这个基类并实现对应的方法。有其他需求的话，就继承这个基类就好。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1725150480/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1725159831","html_url":"https://github.com/apache/brpc/issues/2384#issuecomment-1725159831","issue_url":"https://api.github.com/repos/apache/brpc/issues/2384","id":1725159831,"node_id":"IC_kwDOBhmkcs5m09mX","user":{"login":"wonderhelios","id":17374965,"node_id":"MDQ6VXNlcjE3Mzc0OTY1","avatar_url":"https://avatars.githubusercontent.com/u/17374965?v=4","gravatar_id":"","url":"https://api.github.com/users/wonderhelios","html_url":"https://github.com/wonderhelios","followers_url":"https://api.github.com/users/wonderhelios/followers","following_url":"https://api.github.com/users/wonderhelios/following{/other_user}","gists_url":"https://api.github.com/users/wonderhelios/gists{/gist_id}","starred_url":"https://api.github.com/users/wonderhelios/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wonderhelios/subscriptions","organizations_url":"https://api.github.com/users/wonderhelios/orgs","repos_url":"https://api.github.com/users/wonderhelios/repos","events_url":"https://api.github.com/users/wonderhelios/events{/privacy}","received_events_url":"https://api.github.com/users/wonderhelios/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-19T09:36:10Z","updated_at":"2023-09-19T09:36:10Z","author_association":"NONE","body":"> 池里的连接是不会进行HealthCheck的，所以不会出现关闭空闲连接导致112的问题的。\r\n\r\n那链接关闭了，我可以通过什么感知？因为当我访问server时，若关闭了，我需要内部重试","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1725159831/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1725161067","html_url":"https://github.com/apache/brpc/issues/2384#issuecomment-1725161067","issue_url":"https://api.github.com/repos/apache/brpc/issues/2384","id":1725161067,"node_id":"IC_kwDOBhmkcs5m095r","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-19T09:37:00Z","updated_at":"2023-09-19T09:37:29Z","author_association":"CONTRIBUTOR","body":"空闲关闭的，还需要感知和重试吗？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1725161067/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1725185436","html_url":"https://github.com/apache/brpc/issues/2384#issuecomment-1725185436","issue_url":"https://api.github.com/repos/apache/brpc/issues/2384","id":1725185436,"node_id":"IC_kwDOBhmkcs5m1D2c","user":{"login":"wonderhelios","id":17374965,"node_id":"MDQ6VXNlcjE3Mzc0OTY1","avatar_url":"https://avatars.githubusercontent.com/u/17374965?v=4","gravatar_id":"","url":"https://api.github.com/users/wonderhelios","html_url":"https://github.com/wonderhelios","followers_url":"https://api.github.com/users/wonderhelios/followers","following_url":"https://api.github.com/users/wonderhelios/following{/other_user}","gists_url":"https://api.github.com/users/wonderhelios/gists{/gist_id}","starred_url":"https://api.github.com/users/wonderhelios/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wonderhelios/subscriptions","organizations_url":"https://api.github.com/users/wonderhelios/orgs","repos_url":"https://api.github.com/users/wonderhelios/repos","events_url":"https://api.github.com/users/wonderhelios/events{/privacy}","received_events_url":"https://api.github.com/users/wonderhelios/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-19T09:53:19Z","updated_at":"2023-09-19T09:53:19Z","author_association":"NONE","body":"> 空闲关闭的，还需要感知和重试吗？\r\n\r\n可能我没有表达清楚，我意思是client通过缓存的channel和server通信，但是在一次通信之后，长时间未通信，连接被server关闭。关闭后，client再发送请求，就会得到E112。而这个错误只需要等HealthCheck之后重试就行了，我们的需求是在我们这一层是要作为SDK给用户使用，所以这种错误我们想能够精确知道，然后内部直接重试吞掉。但E112看文档有很多原因可能导致，因此我们想能不能有其他精确的定位这个错误的方式。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1725185436/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1725220880","html_url":"https://github.com/apache/brpc/issues/2384#issuecomment-1725220880","issue_url":"https://api.github.com/repos/apache/brpc/issues/2384","id":1725220880,"node_id":"IC_kwDOBhmkcs5m1MgQ","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-19T10:14:25Z","updated_at":"2023-09-19T10:15:04Z","author_association":"CONTRIBUTOR","body":"使用CONNECTION_TYPE_POOLED的话，空闲关闭后，会直接丢掉这个连接。下一次rpc时，池会新建连接的，所以不会出现关闭空闲连接导致112的问题的。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1725220880/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1725246711","html_url":"https://github.com/apache/brpc/issues/2384#issuecomment-1725246711","issue_url":"https://api.github.com/repos/apache/brpc/issues/2384","id":1725246711,"node_id":"IC_kwDOBhmkcs5m1Sz3","user":{"login":"wonderhelios","id":17374965,"node_id":"MDQ6VXNlcjE3Mzc0OTY1","avatar_url":"https://avatars.githubusercontent.com/u/17374965?v=4","gravatar_id":"","url":"https://api.github.com/users/wonderhelios","html_url":"https://github.com/wonderhelios","followers_url":"https://api.github.com/users/wonderhelios/followers","following_url":"https://api.github.com/users/wonderhelios/following{/other_user}","gists_url":"https://api.github.com/users/wonderhelios/gists{/gist_id}","starred_url":"https://api.github.com/users/wonderhelios/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wonderhelios/subscriptions","organizations_url":"https://api.github.com/users/wonderhelios/orgs","repos_url":"https://api.github.com/users/wonderhelios/repos","events_url":"https://api.github.com/users/wonderhelios/events{/privacy}","received_events_url":"https://api.github.com/users/wonderhelios/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-19T10:33:16Z","updated_at":"2023-09-19T10:33:16Z","author_association":"NONE","body":"> 使用CONNECTION_TYPE_POOLED的话，空闲关闭后，会直接丢掉这个连接。下一次rpc时，池会新建连接的，所以不会出现关闭空闲连接导致112的问题的。\r\n\r\n好的，谢谢大佬解答，我们评估一下。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1725246711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1725395008","html_url":"https://github.com/apache/brpc/pull/2376#issuecomment-1725395008","issue_url":"https://api.github.com/repos/apache/brpc/issues/2376","id":1725395008,"node_id":"IC_kwDOBhmkcs5m13BA","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-19T12:13:23Z","updated_at":"2023-09-19T12:13:23Z","author_association":"CONTRIBUTOR","body":"如果为了尽快创建_this_map_bvar，是不是在SocketMap构造的时候就创建？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1725395008/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1725404008","html_url":"https://github.com/apache/brpc/issues/2347#issuecomment-1725404008","issue_url":"https://api.github.com/repos/apache/brpc/issues/2347","id":1725404008,"node_id":"IC_kwDOBhmkcs5m15No","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-19T12:19:38Z","updated_at":"2023-09-19T12:19:38Z","author_association":"CONTRIBUTOR","body":"这是正常的。因为连接方式为single模式下，在单连接上qps很高的情况下可以合并socket读写操作，性能会高一些。但是在真实场景下，client往往分布在多台机器，server会处理较多的连接，每个连接上qps较少，从性能的角度上看，pooled的性能更接近真实的场景。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1725404008/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1725408484","html_url":"https://github.com/apache/brpc/issues/2383#issuecomment-1725408484","issue_url":"https://api.github.com/repos/apache/brpc/issues/2383","id":1725408484,"node_id":"IC_kwDOBhmkcs5m16Tk","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-19T12:22:53Z","updated_at":"2023-09-19T12:22:53Z","author_association":"CONTRIBUTOR","body":"What does this problem have to do with brpc?","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1725408484/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1725421232","html_url":"https://github.com/apache/brpc/issues/2388#issuecomment-1725421232","issue_url":"https://api.github.com/repos/apache/brpc/issues/2388","id":1725421232,"node_id":"IC_kwDOBhmkcs5m19aw","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-19T12:31:45Z","updated_at":"2023-09-19T12:31:45Z","author_association":"CONTRIBUTOR","body":"没有支持计划","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1725421232/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1725429658","html_url":"https://github.com/apache/brpc/issues/2389#issuecomment-1725429658","issue_url":"https://api.github.com/repos/apache/brpc/issues/2389","id":1725429658,"node_id":"IC_kwDOBhmkcs5m1_ea","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-19T12:37:01Z","updated_at":"2023-09-19T12:37:01Z","author_association":"CONTRIBUTOR","body":"STW需要语言级别支持吧。对于C++来说，好像只有gdb挂起才能把线程安全地停住吧","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1725429658/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1726770517","html_url":"https://github.com/apache/brpc/pull/1185#issuecomment-1726770517","issue_url":"https://api.github.com/repos/apache/brpc/issues/1185","id":1726770517,"node_id":"IC_kwDOBhmkcs5m7G1V","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-20T02:00:44Z","updated_at":"2023-09-20T02:00:44Z","author_association":"CONTRIBUTOR","body":"关闭该PR，该问题已经在 #2366 修复。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1726770517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1726773293","html_url":"https://github.com/apache/brpc/pull/2376#issuecomment-1726773293","issue_url":"https://api.github.com/repos/apache/brpc/issues/2376","id":1726773293,"node_id":"IC_kwDOBhmkcs5m7Hgt","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-20T02:04:34Z","updated_at":"2023-09-20T02:04:34Z","author_association":"CONTRIBUTOR","body":"FLAGS_show_socketmap_in_vars支持在内置服务页面动态打开的，所以此前的实现需要在Insert、Remove函数里创建吧","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1726773293/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1726806287","html_url":"https://github.com/apache/brpc/issues/2384#issuecomment-1726806287","issue_url":"https://api.github.com/repos/apache/brpc/issues/2384","id":1726806287,"node_id":"IC_kwDOBhmkcs5m7PkP","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-20T02:58:11Z","updated_at":"2023-09-20T02:59:37Z","author_association":"CONTRIBUTOR","body":"SingleServer场景下，只要到server的Socket Failed了且没恢复，就会出现112了\r\nhttps://github.com/apache/brpc/blob/0ef35f3498dbfbdef3d8dcda62e815c1b1e06d37/src/brpc/controller.cpp#L1045-L1055\r\n\r\n而POOLED下，连续n次连接超时，会将main Socket SetFailed\r\nhttps://github.com/apache/brpc/blob/0ef35f3498dbfbdef3d8dcda62e815c1b1e06d37/src/brpc/socket.cpp#L1469-L1480\r\n\r\nhttps://github.com/apache/brpc/blob/0ef35f3498dbfbdef3d8dcda62e815c1b1e06d37/src/brpc/controller.cpp#L737-L745\r\n\r\nPOOLED应该只有这种情况会出现112了，需要根据实际情况适当调整连接超时和FLAGS_connect_timeout_as_unreachable","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1726806287/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1727308806","html_url":"https://github.com/apache/brpc/issues/2381#issuecomment-1727308806","issue_url":"https://api.github.com/repos/apache/brpc/issues/2381","id":1727308806,"node_id":"IC_kwDOBhmkcs5m9KQG","user":{"login":"yanglimingcn","id":7091130,"node_id":"MDQ6VXNlcjcwOTExMzA=","avatar_url":"https://avatars.githubusercontent.com/u/7091130?v=4","gravatar_id":"","url":"https://api.github.com/users/yanglimingcn","html_url":"https://github.com/yanglimingcn","followers_url":"https://api.github.com/users/yanglimingcn/followers","following_url":"https://api.github.com/users/yanglimingcn/following{/other_user}","gists_url":"https://api.github.com/users/yanglimingcn/gists{/gist_id}","starred_url":"https://api.github.com/users/yanglimingcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanglimingcn/subscriptions","organizations_url":"https://api.github.com/users/yanglimingcn/orgs","repos_url":"https://api.github.com/users/yanglimingcn/repos","events_url":"https://api.github.com/users/yanglimingcn/events{/privacy}","received_events_url":"https://api.github.com/users/yanglimingcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-20T09:12:43Z","updated_at":"2023-09-20T09:12:43Z","author_association":"CONTRIBUTOR","body":"嗯，我觉得这样是可以的","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1727308806/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1727839848","html_url":"https://github.com/apache/brpc/issues/2389#issuecomment-1727839848","issue_url":"https://api.github.com/repos/apache/brpc/issues/2389","id":1727839848,"node_id":"IC_kwDOBhmkcs5m_L5o","user":{"login":"vinllen","id":6987398,"node_id":"MDQ6VXNlcjY5ODczOTg=","avatar_url":"https://avatars.githubusercontent.com/u/6987398?v=4","gravatar_id":"","url":"https://api.github.com/users/vinllen","html_url":"https://github.com/vinllen","followers_url":"https://api.github.com/users/vinllen/followers","following_url":"https://api.github.com/users/vinllen/following{/other_user}","gists_url":"https://api.github.com/users/vinllen/gists{/gist_id}","starred_url":"https://api.github.com/users/vinllen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinllen/subscriptions","organizations_url":"https://api.github.com/users/vinllen/orgs","repos_url":"https://api.github.com/users/vinllen/repos","events_url":"https://api.github.com/users/vinllen/events{/privacy}","received_events_url":"https://api.github.com/users/vinllen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-20T14:24:37Z","updated_at":"2023-09-20T14:24:37Z","author_association":"NONE","body":"gdb挂起感觉性能代价比较大，STW比如在协程分配的时候锁内保护，STW也在锁内，不过实现代价是比较高。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1727839848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1730738429","html_url":"https://github.com/apache/brpc/pull/2376#issuecomment-1730738429","issue_url":"https://api.github.com/repos/apache/brpc/issues/2376","id":1730738429,"node_id":"IC_kwDOBhmkcs5nKPj9","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-22T03:03:12Z","updated_at":"2023-09-22T03:03:12Z","author_association":"CONTRIBUTOR","body":"> FLAGS_show_socketmap_in_vars支持在内置服务页面动态打开的，所以此前的实现需要在Insert、Remove函数里创建吧\r\n\r\n如果这样是不是可以在Insert、Remove的入口处加这个逻辑，感觉不用改动那么多代码","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1730738429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1730744626","html_url":"https://github.com/apache/brpc/pull/2390#issuecomment-1730744626","issue_url":"https://api.github.com/repos/apache/brpc/issues/2390","id":1730744626,"node_id":"IC_kwDOBhmkcs5nKREy","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-22T03:14:09Z","updated_at":"2023-09-22T03:14:09Z","author_association":"CONTRIBUTOR","body":"把FLAGS_idle_timeout_second设置为大于rpc周期就可以了吧？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1730744626/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1730746135","html_url":"https://github.com/apache/brpc/issues/2391#issuecomment-1730746135","issue_url":"https://api.github.com/repos/apache/brpc/issues/2391","id":1730746135,"node_id":"IC_kwDOBhmkcs5nKRcX","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-22T03:16:59Z","updated_at":"2023-09-22T03:16:59Z","author_association":"CONTRIBUTOR","body":"服务端accept之后就用streamID进行Write不行吗？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1730746135/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1730871596","html_url":"https://github.com/apache/brpc/issues/2391#issuecomment-1730871596","issue_url":"https://api.github.com/repos/apache/brpc/issues/2391","id":1730871596,"node_id":"IC_kwDOBhmkcs5nKwEs","user":{"login":"foreverneverer","id":23136769,"node_id":"MDQ6VXNlcjIzMTM2NzY5","avatar_url":"https://avatars.githubusercontent.com/u/23136769?v=4","gravatar_id":"","url":"https://api.github.com/users/foreverneverer","html_url":"https://github.com/foreverneverer","followers_url":"https://api.github.com/users/foreverneverer/followers","following_url":"https://api.github.com/users/foreverneverer/following{/other_user}","gists_url":"https://api.github.com/users/foreverneverer/gists{/gist_id}","starred_url":"https://api.github.com/users/foreverneverer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/foreverneverer/subscriptions","organizations_url":"https://api.github.com/users/foreverneverer/orgs","repos_url":"https://api.github.com/users/foreverneverer/repos","events_url":"https://api.github.com/users/foreverneverer/events{/privacy}","received_events_url":"https://api.github.com/users/foreverneverer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-22T06:27:11Z","updated_at":"2023-09-22T06:27:11Z","author_association":"NONE","body":"> 服务端accept之后就用streamID进行Write不行吗？\r\n\r\n抱歉，可以的。代码的BUG，已经修复，多谢！","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1730871596/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1730881322","html_url":"https://github.com/apache/brpc/pull/2390#issuecomment-1730881322","issue_url":"https://api.github.com/repos/apache/brpc/issues/2390","id":1730881322,"node_id":"IC_kwDOBhmkcs5nKycq","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-22T06:37:43Z","updated_at":"2023-09-22T06:37:43Z","author_association":"CONTRIBUTOR","body":"一些场景下，FLAGS_idle_timeout_second不好确定。rpc周期不是固定的，可能是基于事件的。\r\n\r\nFLAGS_idle_timeout_second设置太大的话，那些连接数比较多的池就不会释放连接了。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1730881322/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1732599865","html_url":"https://github.com/apache/brpc/pull/2376#issuecomment-1732599865","issue_url":"https://api.github.com/repos/apache/brpc/issues/2376","id":1732599865,"node_id":"IC_kwDOBhmkcs5nRWA5","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-24T15:40:54Z","updated_at":"2023-09-24T15:40:54Z","author_association":"CONTRIBUTOR","body":"可以，已经在Insert、Remove的入口处加这个逻辑。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1732599865/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1734716803","html_url":"https://github.com/apache/brpc/pull/2376#issuecomment-1734716803","issue_url":"https://api.github.com/repos/apache/brpc/issues/2376","id":1734716803,"node_id":"IC_kwDOBhmkcs5nZa2D","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T02:04:09Z","updated_at":"2023-09-26T02:04:09Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1734716803/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1734717678","html_url":"https://github.com/apache/brpc/pull/2390#issuecomment-1734717678","issue_url":"https://api.github.com/repos/apache/brpc/issues/2390","id":1734717678,"node_id":"IC_kwDOBhmkcs5nZbDu","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T02:05:15Z","updated_at":"2023-09-26T02:05:15Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1734717678/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1734721053","html_url":"https://github.com/apache/brpc/pull/2393#issuecomment-1734721053","issue_url":"https://api.github.com/repos/apache/brpc/issues/2393","id":1734721053,"node_id":"IC_kwDOBhmkcs5nZb4d","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T02:10:44Z","updated_at":"2023-09-26T02:10:44Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1734721053/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1734723425","html_url":"https://github.com/apache/brpc/pull/2375#issuecomment-1734723425","issue_url":"https://api.github.com/repos/apache/brpc/issues/2375","id":1734723425,"node_id":"IC_kwDOBhmkcs5nZcdh","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T02:14:42Z","updated_at":"2023-09-26T02:14:42Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1734723425/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1734791165","html_url":"https://github.com/apache/brpc/issues/2395#issuecomment-1734791165","issue_url":"https://api.github.com/repos/apache/brpc/issues/2395","id":1734791165,"node_id":"IC_kwDOBhmkcs5nZs_9","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T04:06:02Z","updated_at":"2023-09-26T04:06:02Z","author_association":"CONTRIBUTOR","body":"Socket HealthCheck还没成功，就不会恢复Socket。这个场景下，重试期间基本上不会成功的了。\r\n\r\n使用CONNECTION_TYPE_POOLED看看，cntl->set_connection_type(brpc::CONNECTION_TYPE_POOLED)","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1734791165/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1734934620","html_url":"https://github.com/apache/brpc/issues/1434#issuecomment-1734934620","issue_url":"https://api.github.com/repos/apache/brpc/issues/1434","id":1734934620,"node_id":"IC_kwDOBhmkcs5naQBc","user":{"login":"yanglimingcn","id":7091130,"node_id":"MDQ6VXNlcjcwOTExMzA=","avatar_url":"https://avatars.githubusercontent.com/u/7091130?v=4","gravatar_id":"","url":"https://api.github.com/users/yanglimingcn","html_url":"https://github.com/yanglimingcn","followers_url":"https://api.github.com/users/yanglimingcn/followers","following_url":"https://api.github.com/users/yanglimingcn/following{/other_user}","gists_url":"https://api.github.com/users/yanglimingcn/gists{/gist_id}","starred_url":"https://api.github.com/users/yanglimingcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanglimingcn/subscriptions","organizations_url":"https://api.github.com/users/yanglimingcn/orgs","repos_url":"https://api.github.com/users/yanglimingcn/repos","events_url":"https://api.github.com/users/yanglimingcn/events{/privacy}","received_events_url":"https://api.github.com/users/yanglimingcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T06:53:22Z","updated_at":"2023-09-26T06:54:55Z","author_association":"CONTRIBUTOR","body":"我理解在现有的M:N模型上，每个worker线程都运行一个非阻塞的epoll_wait或者其他的reactor，保证这个worker始终是运行着的，然后把signal_task这个功能禁用掉，其实就变成了bthread在一个worker上调度执行了。这时候steal_task就变成了一个被动的过程，一些worker确实空闲了就尝试去偷取一些其它worker上的任务。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1734934620/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1734935227","html_url":"https://github.com/apache/brpc/issues/2395#issuecomment-1734935227","issue_url":"https://api.github.com/repos/apache/brpc/issues/2395","id":1734935227,"node_id":"IC_kwDOBhmkcs5naQK7","user":{"login":"huocun-ant","id":131865681,"node_id":"U_kgDOB9wcUQ","avatar_url":"https://avatars.githubusercontent.com/u/131865681?v=4","gravatar_id":"","url":"https://api.github.com/users/huocun-ant","html_url":"https://github.com/huocun-ant","followers_url":"https://api.github.com/users/huocun-ant/followers","following_url":"https://api.github.com/users/huocun-ant/following{/other_user}","gists_url":"https://api.github.com/users/huocun-ant/gists{/gist_id}","starred_url":"https://api.github.com/users/huocun-ant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huocun-ant/subscriptions","organizations_url":"https://api.github.com/users/huocun-ant/orgs","repos_url":"https://api.github.com/users/huocun-ant/repos","events_url":"https://api.github.com/users/huocun-ant/events{/privacy}","received_events_url":"https://api.github.com/users/huocun-ant/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T06:53:53Z","updated_at":"2023-09-26T06:53:53Z","author_association":"NONE","body":"> Socket HealthCheck还没成功，就不会恢复Socket。这个场景下，重试期间基本上不会成功的了。\r\n> \r\n> 使用CONNECTION_TYPE_POOLED看看，cntl->set_connection_type(brpc::CONNECTION_TYPE_POOLED)\r\n\r\n使用pool也是一样，现象还是在重试期间没有运行HealthCheck，即使对端起来，本端socket还是报`Not connected`.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1734935227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1734960232","html_url":"https://github.com/apache/brpc/issues/2395#issuecomment-1734960232","issue_url":"https://api.github.com/repos/apache/brpc/issues/2395","id":1734960232,"node_id":"IC_kwDOBhmkcs5naWRo","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T07:12:42Z","updated_at":"2023-09-26T07:12:42Z","author_association":"CONTRIBUTOR","body":"这个场景下，pool不会HealthCheck，每次都是建新连接发请求。这说明了B的端口还不通吧","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1734960232/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1735066582","html_url":"https://github.com/apache/brpc/issues/2395#issuecomment-1735066582","issue_url":"https://api.github.com/repos/apache/brpc/issues/2395","id":1735066582,"node_id":"IC_kwDOBhmkcs5nawPW","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T08:26:06Z","updated_at":"2023-09-26T08:26:06Z","author_association":"CONTRIBUTOR","body":"可以使用[重试退避](https://github.com/apache/brpc/blob/master/docs/cn/client.md#%E9%87%8D%E8%AF%95%E9%80%80%E9%81%BF)，让A能等一小段时间再重试，这样B起来的概率大一些。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1735066582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1735118355","html_url":"https://github.com/apache/brpc/issues/2395#issuecomment-1735118355","issue_url":"https://api.github.com/repos/apache/brpc/issues/2395","id":1735118355,"node_id":"IC_kwDOBhmkcs5na84T","user":{"login":"huocun-ant","id":131865681,"node_id":"U_kgDOB9wcUQ","avatar_url":"https://avatars.githubusercontent.com/u/131865681?v=4","gravatar_id":"","url":"https://api.github.com/users/huocun-ant","html_url":"https://github.com/huocun-ant","followers_url":"https://api.github.com/users/huocun-ant/followers","following_url":"https://api.github.com/users/huocun-ant/following{/other_user}","gists_url":"https://api.github.com/users/huocun-ant/gists{/gist_id}","starred_url":"https://api.github.com/users/huocun-ant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huocun-ant/subscriptions","organizations_url":"https://api.github.com/users/huocun-ant/orgs","repos_url":"https://api.github.com/users/huocun-ant/repos","events_url":"https://api.github.com/users/huocun-ant/events{/privacy}","received_events_url":"https://api.github.com/users/huocun-ant/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T08:57:56Z","updated_at":"2023-09-26T08:57:56Z","author_association":"NONE","body":"> 可以使用[重试退避](https://github.com/apache/brpc/blob/master/docs/cn/client.md#%E9%87%8D%E8%AF%95%E9%80%80%E9%81%BF)，让A能等一小段时间再重试，这样B起来的概率大一些。\r\n\r\n都是有的，每次重试等一秒，可以确定的是在A重试的时候B起来了，但是A依然重试了20多次。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1735118355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1735138909","html_url":"https://github.com/apache/brpc/issues/2395#issuecomment-1735138909","issue_url":"https://api.github.com/repos/apache/brpc/issues/2395","id":1735138909,"node_id":"IC_kwDOBhmkcs5nbB5d","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T09:10:04Z","updated_at":"2023-09-26T09:10:04Z","author_association":"CONTRIBUTOR","body":"看看使用pool的日志？\r\n也是connection refuse吗？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1735138909/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1735143863","html_url":"https://github.com/apache/brpc/issues/2397#issuecomment-1735143863","issue_url":"https://api.github.com/repos/apache/brpc/issues/2397","id":1735143863,"node_id":"IC_kwDOBhmkcs5nbDG3","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T09:12:53Z","updated_at":"2023-09-26T09:12:53Z","author_association":"CONTRIBUTOR","body":"应该是之前的提交删漏了，可以提个PR","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1735143863/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1735199190","html_url":"https://github.com/apache/brpc/issues/2342#issuecomment-1735199190","issue_url":"https://api.github.com/repos/apache/brpc/issues/2342","id":1735199190,"node_id":"IC_kwDOBhmkcs5nbQnW","user":{"login":"FancyJan","id":37871611,"node_id":"MDQ6VXNlcjM3ODcxNjEx","avatar_url":"https://avatars.githubusercontent.com/u/37871611?v=4","gravatar_id":"","url":"https://api.github.com/users/FancyJan","html_url":"https://github.com/FancyJan","followers_url":"https://api.github.com/users/FancyJan/followers","following_url":"https://api.github.com/users/FancyJan/following{/other_user}","gists_url":"https://api.github.com/users/FancyJan/gists{/gist_id}","starred_url":"https://api.github.com/users/FancyJan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FancyJan/subscriptions","organizations_url":"https://api.github.com/users/FancyJan/orgs","repos_url":"https://api.github.com/users/FancyJan/repos","events_url":"https://api.github.com/users/FancyJan/events{/privacy}","received_events_url":"https://api.github.com/users/FancyJan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T09:47:47Z","updated_at":"2023-09-27T12:59:36Z","author_association":"CONTRIBUTOR","body":"> > 本身bthread usage使用率不到一半，CPU/内存负载并不高\r\n> \r\n> 这个显示的是一段时间的平均值。有可能瞬时worker usage较高，bthread得不到及时调度，所以出现了一些长尾\r\n\r\n我们这边生产集群也有这个现象。\r\n针对大佬说的瞬时并发，我试了一下用rpc_replay设置相同qps减少瞬时值影响，确实可以降低长尾，瞬时并发较高应该是bthread调度长尾的一个原因。但是长尾依旧比较长（bthread_creation_latency平均200us，三九线4500us），大佬还有啥别的想法吗？\r\n例如client的bthread调度要比server的bthread调度差之类的（因为我们这边没有下游的服务，在bthread_creation_qps相同的情况下，bthread_creation_latency一般都会明显比有下游的服务要好得多，平均几us）。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1735199190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1735369594","html_url":"https://github.com/apache/brpc/issues/2395#issuecomment-1735369594","issue_url":"https://api.github.com/repos/apache/brpc/issues/2395","id":1735369594,"node_id":"IC_kwDOBhmkcs5nb6N6","user":{"login":"huocun-ant","id":131865681,"node_id":"U_kgDOB9wcUQ","avatar_url":"https://avatars.githubusercontent.com/u/131865681?v=4","gravatar_id":"","url":"https://api.github.com/users/huocun-ant","html_url":"https://github.com/huocun-ant","followers_url":"https://api.github.com/users/huocun-ant/followers","following_url":"https://api.github.com/users/huocun-ant/following{/other_user}","gists_url":"https://api.github.com/users/huocun-ant/gists{/gist_id}","starred_url":"https://api.github.com/users/huocun-ant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huocun-ant/subscriptions","organizations_url":"https://api.github.com/users/huocun-ant/orgs","repos_url":"https://api.github.com/users/huocun-ant/repos","events_url":"https://api.github.com/users/huocun-ant/events{/privacy}","received_events_url":"https://api.github.com/users/huocun-ant/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T11:45:02Z","updated_at":"2023-09-26T11:45:02Z","author_association":"NONE","body":"> 看看使用pool的日志？ 也是connection refuse吗？\r\n\r\n![image](https://github.com/apache/brpc/assets/131865681/97c41db2-e0b4-4858-a7a2-fa5cf2e75b9d)\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1735369594/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1735415459","html_url":"https://github.com/apache/brpc/pull/2358#issuecomment-1735415459","issue_url":"https://api.github.com/repos/apache/brpc/issues/2358","id":1735415459,"node_id":"IC_kwDOBhmkcs5ncFaj","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T12:07:35Z","updated_at":"2023-09-26T12:08:12Z","author_association":"CONTRIBUTOR","body":"上面提了一些小问题。\r\n另外想探讨一下整体的设计：\r\n1. 目前看来Server端分tag需要依赖于Client端设置connection_group，在Socket中把tag相关信息传过来。但是这样的话存在问题：\r\n   * 修改了通信协议，强依赖于支持该特性的Client，无法兼容以前的Client\r\n   * 让Client来决定Server的worker tag是否合理？按理说worker tag应该由server端的业务逻辑决定。如果server想要调整worker tag，还需要修改所有的Client，这也不方便吧\r\n   针对这个问题，我的建议是这样：\r\n   * 对于请求处理逻辑中的隔离，可以在用户callback里，自己指定tag调用bthread_start_xxx来将任务发送到指定的worker\r\n   * 对于IO的隔离，可以考虑按照端口来隔离，不同端口的Server指定不同的tag。\r\n   * 可以把bthread支持多tag和brpc支持多tag的PR分成两个，我理解前者更没有争议一些\r\n2. 关于bthread支持多tag，是否考虑支持不同的tag指定不同的worker数量呢？毕竟不同tag执行的业务逻辑性质会有较大的差异，对worker数量的需求应该是不一样的","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1735415459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1735423237","html_url":"https://github.com/apache/brpc/issues/2395#issuecomment-1735423237","issue_url":"https://api.github.com/repos/apache/brpc/issues/2395","id":1735423237,"node_id":"IC_kwDOBhmkcs5ncHUF","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T12:12:51Z","updated_at":"2023-09-26T12:12:51Z","author_association":"CONTRIBUTOR","body":"> 这个场景下，pool不会HealthCheck，每次都是建新连接发请求。这说明了B的端口还不通吧\r\n\r\n记错了，ECONNREFUSED也会HealthCheck。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1735423237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1735441367","html_url":"https://github.com/apache/brpc/issues/2395#issuecomment-1735441367","issue_url":"https://api.github.com/repos/apache/brpc/issues/2395","id":1735441367,"node_id":"IC_kwDOBhmkcs5ncLvX","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T12:25:09Z","updated_at":"2023-09-26T12:25:09Z","author_association":"CONTRIBUTOR","body":"看原问题的日志，HealthCheck是在rpc失败后才启动的，不像有重试退避。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1735441367/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1735455266","html_url":"https://github.com/apache/brpc/issues/2395#issuecomment-1735455266","issue_url":"https://api.github.com/repos/apache/brpc/issues/2395","id":1735455266,"node_id":"IC_kwDOBhmkcs5ncPIi","user":{"login":"huocun-ant","id":131865681,"node_id":"U_kgDOB9wcUQ","avatar_url":"https://avatars.githubusercontent.com/u/131865681?v=4","gravatar_id":"","url":"https://api.github.com/users/huocun-ant","html_url":"https://github.com/huocun-ant","followers_url":"https://api.github.com/users/huocun-ant/followers","following_url":"https://api.github.com/users/huocun-ant/following{/other_user}","gists_url":"https://api.github.com/users/huocun-ant/gists{/gist_id}","starred_url":"https://api.github.com/users/huocun-ant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huocun-ant/subscriptions","organizations_url":"https://api.github.com/users/huocun-ant/orgs","repos_url":"https://api.github.com/users/huocun-ant/repos","events_url":"https://api.github.com/users/huocun-ant/events{/privacy}","received_events_url":"https://api.github.com/users/huocun-ant/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T12:34:00Z","updated_at":"2023-09-26T12:34:00Z","author_association":"NONE","body":"> 看原问题的日志，HealthCheck是在rpc失败后才启动的，不像有重试退避。\r\n\r\n是的，我也觉得奇怪的点是重试期间没有发现对端起来。我是重定义的`GetBackoffTimeMs `,时间是一秒，`CanRetryBackoffInPthread`返回的也是`true`.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1735455266/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1736546537","html_url":"https://github.com/apache/brpc/issues/2396#issuecomment-1736546537","issue_url":"https://api.github.com/repos/apache/brpc/issues/2396","id":1736546537,"node_id":"IC_kwDOBhmkcs5ngZjp","user":{"login":"Tuvie","id":5780312,"node_id":"MDQ6VXNlcjU3ODAzMTI=","avatar_url":"https://avatars.githubusercontent.com/u/5780312?v=4","gravatar_id":"","url":"https://api.github.com/users/Tuvie","html_url":"https://github.com/Tuvie","followers_url":"https://api.github.com/users/Tuvie/followers","following_url":"https://api.github.com/users/Tuvie/following{/other_user}","gists_url":"https://api.github.com/users/Tuvie/gists{/gist_id}","starred_url":"https://api.github.com/users/Tuvie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Tuvie/subscriptions","organizations_url":"https://api.github.com/users/Tuvie/orgs","repos_url":"https://api.github.com/users/Tuvie/repos","events_url":"https://api.github.com/users/Tuvie/events{/privacy}","received_events_url":"https://api.github.com/users/Tuvie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-27T01:50:18Z","updated_at":"2023-09-27T01:50:18Z","author_association":"CONTRIBUTOR","body":"mtu是网卡的设置，作为一个应用层程序，brpc本身没有能力设置mtu。如有root权限，可以直接在系统里设置","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1736546537/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1737101095","html_url":"https://github.com/apache/brpc/issues/2082#issuecomment-1737101095","issue_url":"https://api.github.com/repos/apache/brpc/issues/2082","id":1737101095,"node_id":"IC_kwDOBhmkcs5nig8n","user":{"login":"highkic","id":42769217,"node_id":"MDQ6VXNlcjQyNzY5MjE3","avatar_url":"https://avatars.githubusercontent.com/u/42769217?v=4","gravatar_id":"","url":"https://api.github.com/users/highkic","html_url":"https://github.com/highkic","followers_url":"https://api.github.com/users/highkic/followers","following_url":"https://api.github.com/users/highkic/following{/other_user}","gists_url":"https://api.github.com/users/highkic/gists{/gist_id}","starred_url":"https://api.github.com/users/highkic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/highkic/subscriptions","organizations_url":"https://api.github.com/users/highkic/orgs","repos_url":"https://api.github.com/users/highkic/repos","events_url":"https://api.github.com/users/highkic/events{/privacy}","received_events_url":"https://api.github.com/users/highkic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-27T10:07:45Z","updated_at":"2023-09-27T10:07:45Z","author_association":"NONE","body":"请问这个问题修复分支合入master了么","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1737101095/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1737109451","html_url":"https://github.com/apache/brpc/issues/2176#issuecomment-1737109451","issue_url":"https://api.github.com/repos/apache/brpc/issues/2176","id":1737109451,"node_id":"IC_kwDOBhmkcs5nii_L","user":{"login":"Caibreeze0908","id":84967512,"node_id":"MDQ6VXNlcjg0OTY3NTEy","avatar_url":"https://avatars.githubusercontent.com/u/84967512?v=4","gravatar_id":"","url":"https://api.github.com/users/Caibreeze0908","html_url":"https://github.com/Caibreeze0908","followers_url":"https://api.github.com/users/Caibreeze0908/followers","following_url":"https://api.github.com/users/Caibreeze0908/following{/other_user}","gists_url":"https://api.github.com/users/Caibreeze0908/gists{/gist_id}","starred_url":"https://api.github.com/users/Caibreeze0908/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Caibreeze0908/subscriptions","organizations_url":"https://api.github.com/users/Caibreeze0908/orgs","repos_url":"https://api.github.com/users/Caibreeze0908/repos","events_url":"https://api.github.com/users/Caibreeze0908/events{/privacy}","received_events_url":"https://api.github.com/users/Caibreeze0908/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-27T10:13:29Z","updated_at":"2023-09-27T10:13:29Z","author_association":"NONE","body":"config.yaml\r\nchange  keepalive: 320  to   keepalive: 1\r\nchange keepalive_requests: 100000 to keepalive_requests: 1\r\nchange keepalive_timeout: 10s to   keepalive_timeout: 0 ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1737109451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1737255624","html_url":"https://github.com/apache/brpc/pull/2358#issuecomment-1737255624","issue_url":"https://api.github.com/repos/apache/brpc/issues/2358","id":1737255624,"node_id":"IC_kwDOBhmkcs5njGrI","user":{"login":"yanglimingcn","id":7091130,"node_id":"MDQ6VXNlcjcwOTExMzA=","avatar_url":"https://avatars.githubusercontent.com/u/7091130?v=4","gravatar_id":"","url":"https://api.github.com/users/yanglimingcn","html_url":"https://github.com/yanglimingcn","followers_url":"https://api.github.com/users/yanglimingcn/followers","following_url":"https://api.github.com/users/yanglimingcn/following{/other_user}","gists_url":"https://api.github.com/users/yanglimingcn/gists{/gist_id}","starred_url":"https://api.github.com/users/yanglimingcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanglimingcn/subscriptions","organizations_url":"https://api.github.com/users/yanglimingcn/orgs","repos_url":"https://api.github.com/users/yanglimingcn/repos","events_url":"https://api.github.com/users/yanglimingcn/events{/privacy}","received_events_url":"https://api.github.com/users/yanglimingcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-27T12:01:16Z","updated_at":"2023-09-27T12:01:16Z","author_association":"CONTRIBUTOR","body":"> 上面提了一些小问题。 另外想探讨一下整体的设计：\r\n> \r\n> 1. 目前看来Server端分tag需要依赖于Client端设置connection_group，在Socket中把tag相关信息传过来。但是这样的话存在问题：\r\n>    \r\n>    * 修改了通信协议，强依赖于支持该特性的Client，无法兼容以前的Client\r\n         这块其实现在是能兼容原有协议的，只是新Client能交互tag信息，server端拿到信息可以用来区分不同tag的woker组。如果旧的Client发送消息，因为没有PTAG这个包，请求就会在默认的那个worker池子里面执行，就像现在只有一个woker组一样。\r\n>    * 让Client来决定Server的worker tag是否合理？按理说worker tag应该由server端的业务逻辑决定。如果server想要调整worker tag，还需要修改所有的Client，这也不方便吧\r\n         这块其实不是让Client决定Server的tag数量，Server根据自身服务的接口来决定tag的数量，Client端要是想把请求按照预期划分开到Server不同的worker组处理，就需要按照Server的规则去设置connection_group去访问Server。\r\n>      针对这个问题，我的建议是这样：\r\n>    * 对于请求处理逻辑中的隔离，可以在用户callback里，自己指定tag调用bthread_start_xxx来将任务发送到指定的worker\r\n>    * 对于IO的隔离，可以考虑按照端口来隔离，不同端口的Server指定不同的tag。\r\n        其实一开始也想要这么去做的，但是感觉性能上会有些损失，bthread_start_xxx将任务发送到指定的worker上会有线程间的交互，不如现在这种任务解析出来到放到thread local的worker上去了。最终其实还是希望能做到Run To Complete。\r\n>    * 可以把bthread支持多tag和brpc支持多tag的PR分成两个，我理解前者更没有争议一些\r\n        这个可以的\r\n> 2. 关于bthread支持多tag，是否考虑支持不同的tag指定不同的worker数量呢？毕竟不同tag执行的业务逻辑性质会有较大的差异，对worker数量的需求应该是不一样的\r\n       这个不太好做，目前就是依赖把bthread_min_concurrency配置成非0，让服务自动调整worker线程的数量。\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1737255624/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1737317632","html_url":"https://github.com/apache/brpc/pull/2358#issuecomment-1737317632","issue_url":"https://api.github.com/repos/apache/brpc/issues/2358","id":1737317632,"node_id":"IC_kwDOBhmkcs5njV0A","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-27T12:39:34Z","updated_at":"2023-09-27T12:39:34Z","author_association":"CONTRIBUTOR","body":"> >      这块其实现在是能兼容原有协议的，只是新Client能交互tag信息，server端拿到信息可以用来区分不同tag的woker组。如果旧的Client发送消息，因为没有PTAG这个包，请求就会在默认的那个worker池子里面执行，就像现在只有一个woker组一样。\r\n虽然旧的Client也能处理，但是只能放在默认的worker组里处理。无法做到所有Client一视同仁，按照请求的业务性质来决定worker组。\r\n另外，新Client发给旧Server是不兼容的。好像只要用户升级了这个版本的brpc，client端发出来的包就都会带上这个头？那旧server就处理不了了。\r\n\r\n> >      这块其实不是让Client决定Server的tag数量，Server根据自身服务的接口来决定tag的数量，Client端要是想把请求按照预期划分开到Server不同的worker组处理，就需要按照Server的规则去设置connection_group去访问Server。\r\n嗯，我的意思是让Client来决定哪些请求进哪个worker组，不太合理。因为这个属于server内部实现的细节，client不应该关注。\r\n\r\n> >      其实一开始也想要这么去做的，但是感觉性能上会有些损失，bthread_start_xxx将任务发送到指定的worker上会有线程间的交互，不如现在这种任务解析出来到放到thread local的worker上去了。最终其实还是希望能做到Run To Complete。\r\n如果用端口来区分，应该不会有性能损失吧？\r\n\r\n> > 2. 关于bthread支持多tag，是否考虑支持不同的tag指定不同的worker数量呢？毕竟不同tag执行的业务逻辑性质会有较大的差异，对worker数量的需求应该是不一样的\r\n> >    这个不太好做，目前就是依赖把bthread_min_concurrency配置成非0，让服务自动调整worker线程的数量。\r\n\r\n不太好做可以放到后面再实现。不过设计上，最好考虑未来实现这个功能是否好做，以免后面要大改。\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1737317632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1738307112","html_url":"https://github.com/apache/brpc/pull/2358#issuecomment-1738307112","issue_url":"https://api.github.com/repos/apache/brpc/issues/2358","id":1738307112,"node_id":"IC_kwDOBhmkcs5nnHYo","user":{"login":"yanglimingcn","id":7091130,"node_id":"MDQ6VXNlcjcwOTExMzA=","avatar_url":"https://avatars.githubusercontent.com/u/7091130?v=4","gravatar_id":"","url":"https://api.github.com/users/yanglimingcn","html_url":"https://github.com/yanglimingcn","followers_url":"https://api.github.com/users/yanglimingcn/followers","following_url":"https://api.github.com/users/yanglimingcn/following{/other_user}","gists_url":"https://api.github.com/users/yanglimingcn/gists{/gist_id}","starred_url":"https://api.github.com/users/yanglimingcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanglimingcn/subscriptions","organizations_url":"https://api.github.com/users/yanglimingcn/orgs","repos_url":"https://api.github.com/users/yanglimingcn/repos","events_url":"https://api.github.com/users/yanglimingcn/events{/privacy}","received_events_url":"https://api.github.com/users/yanglimingcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-28T01:16:56Z","updated_at":"2023-09-28T01:35:09Z","author_association":"CONTRIBUTOR","body":"> > > ```\r\n> > >  这块其实现在是能兼容原有协议的，只是新Client能交互tag信息，server端拿到信息可以用来区分不同tag的woker组。如果旧的Client发送消息，因为没有PTAG这个包，请求就会在默认的那个worker池子里面执行，就像现在只有一个woker组一样。\r\n> > > ```\r\n> \r\n> \r\n> 虽然旧的Client也能处理，但是只能放在默认的worker组里处理。无法做到所有Client一视同仁，按照请求的业务性质来决定worker组。\r\n> 另外，新Client发给旧Server是不兼容的。好像只要用户升级了这个版本的brpc，client端发出来的包就都会带上这个头？那旧server就处理不了了。\r\n> \r\n> \r\n> > > ```\r\n> > >  这块其实不是让Client决定Server的tag数量，Server根据自身服务的接口来决定tag的数量，Client端要是想把请求按照预期划分开到Server不同的worker组处理，就需要按照Server的规则去设置connection_group去访问Server。\r\n> > > ```\r\n> \r\n> \r\n> 嗯，我的意思是让Client来决定哪些请求进哪个worker组，不太合理。因为这个属于server内部实现的细节，client不应该关注。\r\n> \r\n> \r\n> > > ```\r\n> > >  其实一开始也想要这么去做的，但是感觉性能上会有些损失，bthread_start_xxx将任务发送到指定的worker上会有线程间的交互，不如现在这种任务解析出来到放到thread local的worker上去了。最终其实还是希望能做到Run To Complete。\r\n> > > ```\r\n> \r\n> \r\n> 如果用端口来区分，应该不会有性能损失吧？\r\n> \r\n> \r\n> > > 2. 关于bthread支持多tag，是否考虑支持不同的tag指定不同的worker数量呢？毕竟不同tag执行的业务逻辑性质会有较大的差异，对worker数量的需求应该是不一样的\r\n> > >    这个不太好做，目前就是依赖把bthread_min_concurrency配置成非0，让服务自动调整worker线程的数量。\r\n> \r\n> \r\n> 不太好做可以放到后面再实现。不过设计上，最好考虑未来实现这个功能是否好做，以免后面要大改。\r\n\r\n* 确实旧的客户端是无法感知分组的概念，新的Client可以通过选项配置来决定是否发送这个头。\r\n* 如果能用端口比较灵活的做到请求处理逻辑的隔离和IO的隔离，我觉得是可以的，这块能做到吗？\r\n* 动态修改某个tag的线程数，后边做大概思路是，有个选项标识要修改的tag，然后调用bthread_set_concurrency的时候，add_workers就可以单独设置这个tag的worker数量了。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1738307112/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1738331446","html_url":"https://github.com/apache/brpc/pull/2358#issuecomment-1738331446","issue_url":"https://api.github.com/repos/apache/brpc/issues/2358","id":1738331446,"node_id":"IC_kwDOBhmkcs5nnNU2","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-28T01:58:04Z","updated_at":"2023-09-28T01:58:37Z","author_association":"CONTRIBUTOR","body":"> * 如果能用端口比较灵活的做到请求处理逻辑的隔离和IO的隔离，我觉得是可以的，这块能做到吗？\r\n\r\n我觉得可以，创建Acceptor时可以指定tag，然后listen fd对应的Socket指定这个tag，后面这个Socket产生的事件都会在这个tag的worker中处理。这样对性能也没什么损失\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1738331446/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1738496837","html_url":"https://github.com/apache/brpc/issues/2396#issuecomment-1738496837","issue_url":"https://api.github.com/repos/apache/brpc/issues/2396","id":1738496837,"node_id":"IC_kwDOBhmkcs5nn1tF","user":{"login":"Funlxy","id":72953830,"node_id":"MDQ6VXNlcjcyOTUzODMw","avatar_url":"https://avatars.githubusercontent.com/u/72953830?v=4","gravatar_id":"","url":"https://api.github.com/users/Funlxy","html_url":"https://github.com/Funlxy","followers_url":"https://api.github.com/users/Funlxy/followers","following_url":"https://api.github.com/users/Funlxy/following{/other_user}","gists_url":"https://api.github.com/users/Funlxy/gists{/gist_id}","starred_url":"https://api.github.com/users/Funlxy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Funlxy/subscriptions","organizations_url":"https://api.github.com/users/Funlxy/orgs","repos_url":"https://api.github.com/users/Funlxy/repos","events_url":"https://api.github.com/users/Funlxy/events{/privacy}","received_events_url":"https://api.github.com/users/Funlxy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-28T05:36:42Z","updated_at":"2023-09-28T05:36:42Z","author_association":"NONE","body":"> mtu是网卡的设置，作为一个应用层程序，brpc本身没有能力设置mtu。如有root权限，可以直接在系统里设置\r\n\r\n感谢您的回答。因为在RDMA环境下，好像是可以通过代码指定对应的MTU（但也必须网卡和交换机支持所设置的MTU)。所以并不知道在非RDMA环境下是否设置了网卡和交换机的MTU后是否还需在代码层面指定。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1738496837/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1738863368","html_url":"https://github.com/apache/brpc/issues/2396#issuecomment-1738863368","issue_url":"https://api.github.com/repos/apache/brpc/issues/2396","id":1738863368,"node_id":"IC_kwDOBhmkcs5npPMI","user":{"login":"Tuvie","id":5780312,"node_id":"MDQ6VXNlcjU3ODAzMTI=","avatar_url":"https://avatars.githubusercontent.com/u/5780312?v=4","gravatar_id":"","url":"https://api.github.com/users/Tuvie","html_url":"https://github.com/Tuvie","followers_url":"https://api.github.com/users/Tuvie/followers","following_url":"https://api.github.com/users/Tuvie/following{/other_user}","gists_url":"https://api.github.com/users/Tuvie/gists{/gist_id}","starred_url":"https://api.github.com/users/Tuvie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Tuvie/subscriptions","organizations_url":"https://api.github.com/users/Tuvie/orgs","repos_url":"https://api.github.com/users/Tuvie/repos","events_url":"https://api.github.com/users/Tuvie/events{/privacy}","received_events_url":"https://api.github.com/users/Tuvie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-28T10:11:31Z","updated_at":"2023-09-28T10:11:31Z","author_association":"CONTRIBUTOR","body":"rdma允许给一个qp设置mtu。这个和tcp场景不一样。tcp的程序是没有设置mtu能力的\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1738863368/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1740211874","html_url":"https://github.com/apache/brpc/pull/2358#issuecomment-1740211874","issue_url":"https://api.github.com/repos/apache/brpc/issues/2358","id":1740211874,"node_id":"IC_kwDOBhmkcs5nuYai","user":{"login":"yanglimingcn","id":7091130,"node_id":"MDQ6VXNlcjcwOTExMzA=","avatar_url":"https://avatars.githubusercontent.com/u/7091130?v=4","gravatar_id":"","url":"https://api.github.com/users/yanglimingcn","html_url":"https://github.com/yanglimingcn","followers_url":"https://api.github.com/users/yanglimingcn/followers","following_url":"https://api.github.com/users/yanglimingcn/following{/other_user}","gists_url":"https://api.github.com/users/yanglimingcn/gists{/gist_id}","starred_url":"https://api.github.com/users/yanglimingcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanglimingcn/subscriptions","organizations_url":"https://api.github.com/users/yanglimingcn/orgs","repos_url":"https://api.github.com/users/yanglimingcn/repos","events_url":"https://api.github.com/users/yanglimingcn/events{/privacy}","received_events_url":"https://api.github.com/users/yanglimingcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-29T01:57:50Z","updated_at":"2023-09-29T01:57:50Z","author_association":"CONTRIBUTOR","body":"> > * 如果能用端口比较灵活的做到请求处理逻辑的隔离和IO的隔离，我觉得是可以的，这块能做到吗？\r\n> \r\n> 我觉得可以，创建Acceptor时可以指定tag，然后listen fd对应的Socket指定这个tag，后面这个Socket产生的事件都会在这个tag的worker中处理。这样对性能也没什么损失\r\n\r\n我觉得这个方式很合理，我按照这个方式修改一下。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1740211874/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1751920959","html_url":"https://github.com/apache/brpc/issues/1931#issuecomment-1751920959","issue_url":"https://api.github.com/repos/apache/brpc/issues/1931","id":1751920959,"node_id":"IC_kwDOBhmkcs5obDE_","user":{"login":"Divyansh200102","id":146909065,"node_id":"U_kgDOCMGniQ","avatar_url":"https://avatars.githubusercontent.com/u/146909065?v=4","gravatar_id":"","url":"https://api.github.com/users/Divyansh200102","html_url":"https://github.com/Divyansh200102","followers_url":"https://api.github.com/users/Divyansh200102/followers","following_url":"https://api.github.com/users/Divyansh200102/following{/other_user}","gists_url":"https://api.github.com/users/Divyansh200102/gists{/gist_id}","starred_url":"https://api.github.com/users/Divyansh200102/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Divyansh200102/subscriptions","organizations_url":"https://api.github.com/users/Divyansh200102/orgs","repos_url":"https://api.github.com/users/Divyansh200102/repos","events_url":"https://api.github.com/users/Divyansh200102/events{/privacy}","received_events_url":"https://api.github.com/users/Divyansh200102/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-08T04:56:10Z","updated_at":"2023-10-08T04:56:23Z","author_association":"CONTRIBUTOR","body":" i want to work on this issue please assign me","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1751920959/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1752044794","html_url":"https://github.com/apache/brpc/issues/1931#issuecomment-1752044794","issue_url":"https://api.github.com/repos/apache/brpc/issues/1931","id":1752044794,"node_id":"IC_kwDOBhmkcs5obhT6","user":{"login":"Divyansh200102","id":146909065,"node_id":"U_kgDOCMGniQ","avatar_url":"https://avatars.githubusercontent.com/u/146909065?v=4","gravatar_id":"","url":"https://api.github.com/users/Divyansh200102","html_url":"https://github.com/Divyansh200102","followers_url":"https://api.github.com/users/Divyansh200102/followers","following_url":"https://api.github.com/users/Divyansh200102/following{/other_user}","gists_url":"https://api.github.com/users/Divyansh200102/gists{/gist_id}","starred_url":"https://api.github.com/users/Divyansh200102/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Divyansh200102/subscriptions","organizations_url":"https://api.github.com/users/Divyansh200102/orgs","repos_url":"https://api.github.com/users/Divyansh200102/repos","events_url":"https://api.github.com/users/Divyansh200102/events{/privacy}","received_events_url":"https://api.github.com/users/Divyansh200102/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-08T14:42:48Z","updated_at":"2023-10-08T14:42:48Z","author_association":"CONTRIBUTOR","body":"please review the pr @chenBright ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1752044794/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1752277345","html_url":"https://github.com/apache/brpc/issues/2356#issuecomment-1752277345","issue_url":"https://api.github.com/repos/apache/brpc/issues/2356","id":1752277345,"node_id":"IC_kwDOBhmkcs5ocaFh","user":{"login":"tkzky","id":50878712,"node_id":"MDQ6VXNlcjUwODc4NzEy","avatar_url":"https://avatars.githubusercontent.com/u/50878712?v=4","gravatar_id":"","url":"https://api.github.com/users/tkzky","html_url":"https://github.com/tkzky","followers_url":"https://api.github.com/users/tkzky/followers","following_url":"https://api.github.com/users/tkzky/following{/other_user}","gists_url":"https://api.github.com/users/tkzky/gists{/gist_id}","starred_url":"https://api.github.com/users/tkzky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tkzky/subscriptions","organizations_url":"https://api.github.com/users/tkzky/orgs","repos_url":"https://api.github.com/users/tkzky/repos","events_url":"https://api.github.com/users/tkzky/events{/privacy}","received_events_url":"https://api.github.com/users/tkzky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-09T02:49:22Z","updated_at":"2023-10-09T02:49:22Z","author_association":"NONE","body":"> > 把gcc升级到了8.3.0，现在的异常看起来正常了些 ![image](https://user-images.githubusercontent.com/49750813/259997397-1299a936-3782-4fc6-acda-8f270d88a803.png) 应该是我使用的protobuf版本不兼容的问题，但是源码来说应该是有这个文件的，为何编译之后该文件丢失了？\r\n> \r\n> 找到问题的根源了，需要先执行yum install zlib-devel，以及yum update zlib protobuf执行./configure的时候会进行一些依赖的check，比如他会check zlib的版本。但是，之后的编译不会出问题，而是直接丢弃一些相关的头文件，继续编译。 但是brpc偏偏需要这些头文件，所以导致brpc的编译出错，如果不是在protobuf的issue上看到有人提了一嘴我估计这个问题是一辈子找不出来。\r\n\r\n请问最后的解决方案是什么呀？\r\n升级gcc到8.3.0，然后执行yum install zlib-devel，以及yum update zlib\r\n最后再进行 make 编译吗？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1752277345/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1752393691","html_url":"https://github.com/apache/brpc/pull/2403#issuecomment-1752393691","issue_url":"https://api.github.com/repos/apache/brpc/issues/2403","id":1752393691,"node_id":"IC_kwDOBhmkcs5oc2fb","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-09T06:08:27Z","updated_at":"2023-10-09T06:08:27Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1752393691/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1752425990","html_url":"https://github.com/apache/brpc/pull/2403#issuecomment-1752425990","issue_url":"https://api.github.com/repos/apache/brpc/issues/2403","id":1752425990,"node_id":"IC_kwDOBhmkcs5oc-YG","user":{"login":"Divyansh200102","id":146909065,"node_id":"U_kgDOCMGniQ","avatar_url":"https://avatars.githubusercontent.com/u/146909065?v=4","gravatar_id":"","url":"https://api.github.com/users/Divyansh200102","html_url":"https://github.com/Divyansh200102","followers_url":"https://api.github.com/users/Divyansh200102/followers","following_url":"https://api.github.com/users/Divyansh200102/following{/other_user}","gists_url":"https://api.github.com/users/Divyansh200102/gists{/gist_id}","starred_url":"https://api.github.com/users/Divyansh200102/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Divyansh200102/subscriptions","organizations_url":"https://api.github.com/users/Divyansh200102/orgs","repos_url":"https://api.github.com/users/Divyansh200102/repos","events_url":"https://api.github.com/users/Divyansh200102/events{/privacy}","received_events_url":"https://api.github.com/users/Divyansh200102/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-09T06:44:14Z","updated_at":"2023-10-09T06:44:14Z","author_association":"CONTRIBUTOR","body":"> LGTM\r\n\r\nplease try to merge it as soon as you get time @chenBright ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1752425990/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1752441589","html_url":"https://github.com/apache/brpc/pull/2403#issuecomment-1752441589","issue_url":"https://api.github.com/repos/apache/brpc/issues/2403","id":1752441589,"node_id":"IC_kwDOBhmkcs5odCL1","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-09T07:00:10Z","updated_at":"2023-10-09T07:00:10Z","author_association":"CONTRIBUTOR","body":"@wwbmmm Please review this PR when you have time.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1752441589/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1753313385","html_url":"https://github.com/apache/brpc/issues/2405#issuecomment-1753313385","issue_url":"https://api.github.com/repos/apache/brpc/issues/2405","id":1753313385,"node_id":"IC_kwDOBhmkcs5ogXBp","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-09T16:24:20Z","updated_at":"2023-10-09T16:24:20Z","author_association":"CONTRIBUTOR","body":"#2406 实现baidu协议meta中传递用户自定义字段的特性","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1753313385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1754689756","html_url":"https://github.com/apache/brpc/pull/2390#issuecomment-1754689756","issue_url":"https://api.github.com/repos/apache/brpc/issues/2390","id":1754689756,"node_id":"IC_kwDOBhmkcs5olnDc","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-10T08:30:58Z","updated_at":"2023-10-10T08:30:58Z","author_association":"CONTRIBUTOR","body":"没有其他问题的话，这个PR应该可以合了","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1754689756/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1754690108","html_url":"https://github.com/apache/brpc/pull/2376#issuecomment-1754690108","issue_url":"https://api.github.com/repos/apache/brpc/issues/2376","id":1754690108,"node_id":"IC_kwDOBhmkcs5olnI8","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-10T08:31:12Z","updated_at":"2023-10-10T08:31:12Z","author_association":"CONTRIBUTOR","body":"没有其他问题的话，这个PR应该可以合了","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1754690108/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1754690688","html_url":"https://github.com/apache/brpc/pull/2296#issuecomment-1754690688","issue_url":"https://api.github.com/repos/apache/brpc/issues/2296","id":1754690688,"node_id":"IC_kwDOBhmkcs5olnSA","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-10T08:31:33Z","updated_at":"2023-10-10T08:31:33Z","author_association":"CONTRIBUTOR","body":"没有其他问题的话，这个PR应该可以合了","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1754690688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1754779487","html_url":"https://github.com/apache/brpc/pull/2333#issuecomment-1754779487","issue_url":"https://api.github.com/repos/apache/brpc/issues/2333","id":1754779487,"node_id":"IC_kwDOBhmkcs5ol89f","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-10T09:09:57Z","updated_at":"2023-10-10T09:09:57Z","author_association":"CONTRIBUTOR","body":"没有其他问题的话，这个PR应该可以合了","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1754779487/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1755224616","html_url":"https://github.com/apache/brpc/pull/2402#issuecomment-1755224616","issue_url":"https://api.github.com/repos/apache/brpc/issues/2402","id":1755224616,"node_id":"IC_kwDOBhmkcs5onpoo","user":{"login":"serverglen","id":38067377,"node_id":"MDQ6VXNlcjM4MDY3Mzc3","avatar_url":"https://avatars.githubusercontent.com/u/38067377?v=4","gravatar_id":"","url":"https://api.github.com/users/serverglen","html_url":"https://github.com/serverglen","followers_url":"https://api.github.com/users/serverglen/followers","following_url":"https://api.github.com/users/serverglen/following{/other_user}","gists_url":"https://api.github.com/users/serverglen/gists{/gist_id}","starred_url":"https://api.github.com/users/serverglen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/serverglen/subscriptions","organizations_url":"https://api.github.com/users/serverglen/orgs","repos_url":"https://api.github.com/users/serverglen/repos","events_url":"https://api.github.com/users/serverglen/events{/privacy}","received_events_url":"https://api.github.com/users/serverglen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-10T12:00:53Z","updated_at":"2023-10-10T12:00:53Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1755224616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1755248675","html_url":"https://github.com/apache/brpc/issues/2404#issuecomment-1755248675","issue_url":"https://api.github.com/repos/apache/brpc/issues/2404","id":1755248675,"node_id":"IC_kwDOBhmkcs5onvgj","user":{"login":"serverglen","id":38067377,"node_id":"MDQ6VXNlcjM4MDY3Mzc3","avatar_url":"https://avatars.githubusercontent.com/u/38067377?v=4","gravatar_id":"","url":"https://api.github.com/users/serverglen","html_url":"https://github.com/serverglen","followers_url":"https://api.github.com/users/serverglen/followers","following_url":"https://api.github.com/users/serverglen/following{/other_user}","gists_url":"https://api.github.com/users/serverglen/gists{/gist_id}","starred_url":"https://api.github.com/users/serverglen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/serverglen/subscriptions","organizations_url":"https://api.github.com/users/serverglen/orgs","repos_url":"https://api.github.com/users/serverglen/repos","events_url":"https://api.github.com/users/serverglen/events{/privacy}","received_events_url":"https://api.github.com/users/serverglen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-10T12:08:39Z","updated_at":"2023-10-10T12:08:39Z","author_association":"CONTRIBUTOR","body":"MultiDimension类里面有一个[delete_stats](https://github.com/apache/brpc/blob/master/src/bvar/multi_dimension.h#L133)方法，不过目前是private的。\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1755248675/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1755278193","html_url":"https://github.com/apache/brpc/issues/2404#issuecomment-1755278193","issue_url":"https://api.github.com/repos/apache/brpc/issues/2404","id":1755278193,"node_id":"IC_kwDOBhmkcs5on2tx","user":{"login":"qqwangxiaow","id":26954625,"node_id":"MDQ6VXNlcjI2OTU0NjI1","avatar_url":"https://avatars.githubusercontent.com/u/26954625?v=4","gravatar_id":"","url":"https://api.github.com/users/qqwangxiaow","html_url":"https://github.com/qqwangxiaow","followers_url":"https://api.github.com/users/qqwangxiaow/followers","following_url":"https://api.github.com/users/qqwangxiaow/following{/other_user}","gists_url":"https://api.github.com/users/qqwangxiaow/gists{/gist_id}","starred_url":"https://api.github.com/users/qqwangxiaow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qqwangxiaow/subscriptions","organizations_url":"https://api.github.com/users/qqwangxiaow/orgs","repos_url":"https://api.github.com/users/qqwangxiaow/repos","events_url":"https://api.github.com/users/qqwangxiaow/events{/privacy}","received_events_url":"https://api.github.com/users/qqwangxiaow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-10T12:26:18Z","updated_at":"2023-10-10T12:26:18Z","author_association":"CONTRIBUTOR","body":"看着得把bvar直接干掉替换一个了","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1755278193/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1755312965","html_url":"https://github.com/apache/brpc/issues/2404#issuecomment-1755312965","issue_url":"https://api.github.com/repos/apache/brpc/issues/2404","id":1755312965,"node_id":"IC_kwDOBhmkcs5on_NF","user":{"login":"serverglen","id":38067377,"node_id":"MDQ6VXNlcjM4MDY3Mzc3","avatar_url":"https://avatars.githubusercontent.com/u/38067377?v=4","gravatar_id":"","url":"https://api.github.com/users/serverglen","html_url":"https://github.com/serverglen","followers_url":"https://api.github.com/users/serverglen/followers","following_url":"https://api.github.com/users/serverglen/following{/other_user}","gists_url":"https://api.github.com/users/serverglen/gists{/gist_id}","starred_url":"https://api.github.com/users/serverglen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/serverglen/subscriptions","organizations_url":"https://api.github.com/users/serverglen/orgs","repos_url":"https://api.github.com/users/serverglen/repos","events_url":"https://api.github.com/users/serverglen/events{/privacy}","received_events_url":"https://api.github.com/users/serverglen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-10T12:35:15Z","updated_at":"2023-10-10T12:35:15Z","author_association":"CONTRIBUTOR","body":"> 看着得把bvar直接干掉替换一个了\r\n\r\n刚提了个PR，增加一个clear_stats方法 #2407 ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1755312965/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1756604657","html_url":"https://github.com/apache/brpc/pull/2376#issuecomment-1756604657","issue_url":"https://api.github.com/repos/apache/brpc/issues/2376","id":1756604657,"node_id":"IC_kwDOBhmkcs5os6jx","user":{"login":"serverglen","id":38067377,"node_id":"MDQ6VXNlcjM4MDY3Mzc3","avatar_url":"https://avatars.githubusercontent.com/u/38067377?v=4","gravatar_id":"","url":"https://api.github.com/users/serverglen","html_url":"https://github.com/serverglen","followers_url":"https://api.github.com/users/serverglen/followers","following_url":"https://api.github.com/users/serverglen/following{/other_user}","gists_url":"https://api.github.com/users/serverglen/gists{/gist_id}","starred_url":"https://api.github.com/users/serverglen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/serverglen/subscriptions","organizations_url":"https://api.github.com/users/serverglen/orgs","repos_url":"https://api.github.com/users/serverglen/repos","events_url":"https://api.github.com/users/serverglen/events{/privacy}","received_events_url":"https://api.github.com/users/serverglen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-11T01:43:29Z","updated_at":"2023-10-11T01:43:29Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1756604657/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1756615944","html_url":"https://github.com/apache/brpc/pull/2407#issuecomment-1756615944","issue_url":"https://api.github.com/repos/apache/brpc/issues/2407","id":1756615944,"node_id":"IC_kwDOBhmkcs5os9UI","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-11T01:59:49Z","updated_at":"2023-10-11T01:59:49Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1756615944/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]