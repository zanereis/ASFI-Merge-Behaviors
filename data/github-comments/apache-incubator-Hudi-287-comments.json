[{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1277017004","html_url":"https://github.com/apache/hudi/pull/6818#issuecomment-1277017004","issue_url":"https://api.github.com/repos/apache/hudi/issues/6818","id":1277017004,"node_id":"IC_kwDOBI7nWM5MHbus","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T04:31:51Z","updated_at":"2022-10-13T04:31:51Z","author_association":"CONTRIBUTOR","body":"[4948.patch.zip](https://github.com/apache/hudi/files/9770814/4948.patch.zip)\r\nThanks for the contribution, i have reviewed and applied a path here.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1277017004/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1277024969","html_url":"https://github.com/apache/hudi/issues/6931#issuecomment-1277024969","issue_url":"https://api.github.com/repos/apache/hudi/issues/6931","id":1277024969,"node_id":"IC_kwDOBI7nWM5MHdrJ","user":{"login":"levisLi","id":60864266,"node_id":"MDQ6VXNlcjYwODY0MjY2","avatar_url":"https://avatars.githubusercontent.com/u/60864266?v=4","gravatar_id":"","url":"https://api.github.com/users/levisLi","html_url":"https://github.com/levisLi","followers_url":"https://api.github.com/users/levisLi/followers","following_url":"https://api.github.com/users/levisLi/following{/other_user}","gists_url":"https://api.github.com/users/levisLi/gists{/gist_id}","starred_url":"https://api.github.com/users/levisLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/levisLi/subscriptions","organizations_url":"https://api.github.com/users/levisLi/orgs","repos_url":"https://api.github.com/users/levisLi/repos","events_url":"https://api.github.com/users/levisLi/events{/privacy}","received_events_url":"https://api.github.com/users/levisLi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T04:42:54Z","updated_at":"2022-10-13T04:42:54Z","author_association":"NONE","body":"If I add a configuration `set hoodie.parquet.small.file.limit=0` , its mean ï¼Œ I will write many of small file","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1277024969/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1277026671","html_url":"https://github.com/apache/hudi/issues/6931#issuecomment-1277026671","issue_url":"https://api.github.com/repos/apache/hudi/issues/6931","id":1277026671,"node_id":"IC_kwDOBI7nWM5MHeFv","user":{"login":"levisLi","id":60864266,"node_id":"MDQ6VXNlcjYwODY0MjY2","avatar_url":"https://avatars.githubusercontent.com/u/60864266?v=4","gravatar_id":"","url":"https://api.github.com/users/levisLi","html_url":"https://github.com/levisLi","followers_url":"https://api.github.com/users/levisLi/followers","following_url":"https://api.github.com/users/levisLi/following{/other_user}","gists_url":"https://api.github.com/users/levisLi/gists{/gist_id}","starred_url":"https://api.github.com/users/levisLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/levisLi/subscriptions","organizations_url":"https://api.github.com/users/levisLi/orgs","repos_url":"https://api.github.com/users/levisLi/repos","events_url":"https://api.github.com/users/levisLi/events{/privacy}","received_events_url":"https://api.github.com/users/levisLi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T04:46:18Z","updated_at":"2022-10-13T04:46:18Z","author_association":"NONE","body":"@YannByron I do not set time field, The default `preCombineField = ts` ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1277026671/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1277038061","html_url":"https://github.com/apache/hudi/issues/6907#issuecomment-1277038061","issue_url":"https://api.github.com/repos/apache/hudi/issues/6907","id":1277038061,"node_id":"IC_kwDOBI7nWM5MHg3t","user":{"login":"sknukala","id":115467077,"node_id":"U_kgDOBuHjRQ","avatar_url":"https://avatars.githubusercontent.com/u/115467077?v=4","gravatar_id":"","url":"https://api.github.com/users/sknukala","html_url":"https://github.com/sknukala","followers_url":"https://api.github.com/users/sknukala/followers","following_url":"https://api.github.com/users/sknukala/following{/other_user}","gists_url":"https://api.github.com/users/sknukala/gists{/gist_id}","starred_url":"https://api.github.com/users/sknukala/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sknukala/subscriptions","organizations_url":"https://api.github.com/users/sknukala/orgs","repos_url":"https://api.github.com/users/sknukala/repos","events_url":"https://api.github.com/users/sknukala/events{/privacy}","received_events_url":"https://api.github.com/users/sknukala/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T05:08:59Z","updated_at":"2022-10-13T05:08:59Z","author_association":"NONE","body":"@yihua A lot of downstreams use this column to incrementally pull data and change in format impacts all of them. If the format can be controlled, it will be easy.\r\n\r\nAlso, as we upgraded table, old data is in legacy format while new loads have ms leading to inconsistency.\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1277038061/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1277056897","html_url":"https://github.com/apache/hudi/issues/6924#issuecomment-1277056897","issue_url":"https://api.github.com/repos/apache/hudi/issues/6924","id":1277056897,"node_id":"IC_kwDOBI7nWM5MHleB","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T05:41:13Z","updated_at":"2022-10-13T05:41:13Z","author_association":"CONTRIBUTOR","body":"Close because we already have a PR to resolve this issue.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1277056897/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1277058312","html_url":"https://github.com/apache/hudi/pull/6929#issuecomment-1277058312","issue_url":"https://api.github.com/repos/apache/hudi/issues/6929","id":1277058312,"node_id":"IC_kwDOBI7nWM5MHl0I","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T05:43:21Z","updated_at":"2022-10-13T05:43:21Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"190e4de97e80b268d186e25ba7aaea8468929f67\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12155\",\n    \"triggerID\" : \"190e4de97e80b268d186e25ba7aaea8468929f67\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"daca0681ff1beb27a6549d827f39d6102d2b0d5c\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12176\",\n    \"triggerID\" : \"daca0681ff1beb27a6549d827f39d6102d2b0d5c\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* daca0681ff1beb27a6549d827f39d6102d2b0d5c Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12176) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1277058312/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1277067772","html_url":"https://github.com/apache/hudi/pull/6923#issuecomment-1277067772","issue_url":"https://api.github.com/repos/apache/hudi/issues/6923","id":1277067772,"node_id":"IC_kwDOBI7nWM5MHoH8","user":{"login":"wxplovecc","id":3350718,"node_id":"MDQ6VXNlcjMzNTA3MTg=","avatar_url":"https://avatars.githubusercontent.com/u/3350718?v=4","gravatar_id":"","url":"https://api.github.com/users/wxplovecc","html_url":"https://github.com/wxplovecc","followers_url":"https://api.github.com/users/wxplovecc/followers","following_url":"https://api.github.com/users/wxplovecc/following{/other_user}","gists_url":"https://api.github.com/users/wxplovecc/gists{/gist_id}","starred_url":"https://api.github.com/users/wxplovecc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxplovecc/subscriptions","organizations_url":"https://api.github.com/users/wxplovecc/orgs","repos_url":"https://api.github.com/users/wxplovecc/repos","events_url":"https://api.github.com/users/wxplovecc/events{/privacy}","received_events_url":"https://api.github.com/users/wxplovecc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T05:56:13Z","updated_at":"2022-10-13T05:56:13Z","author_association":"CONTRIBUTOR","body":"Thanks a lot for review @danny0405 ,i have apply it ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1277067772/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1277194783","html_url":"https://github.com/apache/hudi/issues/6808#issuecomment-1277194783","issue_url":"https://api.github.com/repos/apache/hudi/issues/6808","id":1277194783,"node_id":"IC_kwDOBI7nWM5MIHIf","user":{"login":"schlichtanders","id":4255480,"node_id":"MDQ6VXNlcjQyNTU0ODA=","avatar_url":"https://avatars.githubusercontent.com/u/4255480?v=4","gravatar_id":"","url":"https://api.github.com/users/schlichtanders","html_url":"https://github.com/schlichtanders","followers_url":"https://api.github.com/users/schlichtanders/followers","following_url":"https://api.github.com/users/schlichtanders/following{/other_user}","gists_url":"https://api.github.com/users/schlichtanders/gists{/gist_id}","starred_url":"https://api.github.com/users/schlichtanders/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schlichtanders/subscriptions","organizations_url":"https://api.github.com/users/schlichtanders/orgs","repos_url":"https://api.github.com/users/schlichtanders/repos","events_url":"https://api.github.com/users/schlichtanders/events{/privacy}","received_events_url":"https://api.github.com/users/schlichtanders/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T08:00:38Z","updated_at":"2022-10-13T08:00:38Z","author_association":"NONE","body":"@codope this is still blocking us. We would like to give hudi a real try, but if the testing does not work, it is hard to convince a team to use hudi.\r\n\r\nIf it is impossible to speak to an in-memory derby database, what are the alternatives for testing hudi hive-sync locally?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1277194783/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1277204119","html_url":"https://github.com/apache/hudi/issues/6931#issuecomment-1277204119","issue_url":"https://api.github.com/repos/apache/hudi/issues/6931","id":1277204119,"node_id":"IC_kwDOBI7nWM5MIJaX","user":{"login":"JoshuaZhuCN","id":62231347,"node_id":"MDQ6VXNlcjYyMjMxMzQ3","avatar_url":"https://avatars.githubusercontent.com/u/62231347?v=4","gravatar_id":"","url":"https://api.github.com/users/JoshuaZhuCN","html_url":"https://github.com/JoshuaZhuCN","followers_url":"https://api.github.com/users/JoshuaZhuCN/followers","following_url":"https://api.github.com/users/JoshuaZhuCN/following{/other_user}","gists_url":"https://api.github.com/users/JoshuaZhuCN/gists{/gist_id}","starred_url":"https://api.github.com/users/JoshuaZhuCN/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JoshuaZhuCN/subscriptions","organizations_url":"https://api.github.com/users/JoshuaZhuCN/orgs","repos_url":"https://api.github.com/users/JoshuaZhuCN/repos","events_url":"https://api.github.com/users/JoshuaZhuCN/events{/privacy}","received_events_url":"https://api.github.com/users/JoshuaZhuCN/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T08:07:32Z","updated_at":"2022-10-13T08:07:32Z","author_association":"NONE","body":"try to set  `hoodie.sql.insert.mode`='non-strict' ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1277204119/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1277295327","html_url":"https://github.com/apache/hudi/pull/6921#issuecomment-1277295327","issue_url":"https://api.github.com/repos/apache/hudi/issues/6921","id":1277295327,"node_id":"IC_kwDOBI7nWM5MIfrf","user":{"login":"boneanxs","id":10115332,"node_id":"MDQ6VXNlcjEwMTE1MzMy","avatar_url":"https://avatars.githubusercontent.com/u/10115332?v=4","gravatar_id":"","url":"https://api.github.com/users/boneanxs","html_url":"https://github.com/boneanxs","followers_url":"https://api.github.com/users/boneanxs/followers","following_url":"https://api.github.com/users/boneanxs/following{/other_user}","gists_url":"https://api.github.com/users/boneanxs/gists{/gist_id}","starred_url":"https://api.github.com/users/boneanxs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boneanxs/subscriptions","organizations_url":"https://api.github.com/users/boneanxs/orgs","repos_url":"https://api.github.com/users/boneanxs/repos","events_url":"https://api.github.com/users/boneanxs/events{/privacy}","received_events_url":"https://api.github.com/users/boneanxs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T09:16:40Z","updated_at":"2022-10-13T09:16:40Z","author_association":"CONTRIBUTOR","body":"Hi @alexeykudinkin  could you plz help to review this pr?\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1277295327/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1277304441","html_url":"https://github.com/apache/hudi/issues/6931#issuecomment-1277304441","issue_url":"https://api.github.com/repos/apache/hudi/issues/6931","id":1277304441,"node_id":"IC_kwDOBI7nWM5MIh55","user":{"login":"levisLi","id":60864266,"node_id":"MDQ6VXNlcjYwODY0MjY2","avatar_url":"https://avatars.githubusercontent.com/u/60864266?v=4","gravatar_id":"","url":"https://api.github.com/users/levisLi","html_url":"https://github.com/levisLi","followers_url":"https://api.github.com/users/levisLi/followers","following_url":"https://api.github.com/users/levisLi/following{/other_user}","gists_url":"https://api.github.com/users/levisLi/gists{/gist_id}","starred_url":"https://api.github.com/users/levisLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/levisLi/subscriptions","organizations_url":"https://api.github.com/users/levisLi/orgs","repos_url":"https://api.github.com/users/levisLi/repos","events_url":"https://api.github.com/users/levisLi/events{/privacy}","received_events_url":"https://api.github.com/users/levisLi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T09:24:34Z","updated_at":"2022-10-13T09:24:34Z","author_association":"NONE","body":"@JoshuaZhuCN I have try to set `hoodie.sql.insert.mode=non-strict`, but no effect\r\neg:\r\ncreate table if not exists hudi.h3(\r\nid bigint,\r\nname string,\r\nprice double\r\n) using hudi\r\noptions (\r\nprimaryKey = 'id',\r\ntype = 'mor',\r\nhoodie.cleaner.fileversions.retained = '1',\r\nhoodie.datasource.write.operation = 'insert',\r\nhoodie.sql.insert.mode = 'non-strict');","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1277304441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1277356788","html_url":"https://github.com/apache/hudi/issues/6931#issuecomment-1277356788","issue_url":"https://api.github.com/repos/apache/hudi/issues/6931","id":1277356788,"node_id":"IC_kwDOBI7nWM5MIur0","user":{"login":"boneanxs","id":10115332,"node_id":"MDQ6VXNlcjEwMTE1MzMy","avatar_url":"https://avatars.githubusercontent.com/u/10115332?v=4","gravatar_id":"","url":"https://api.github.com/users/boneanxs","html_url":"https://github.com/boneanxs","followers_url":"https://api.github.com/users/boneanxs/followers","following_url":"https://api.github.com/users/boneanxs/following{/other_user}","gists_url":"https://api.github.com/users/boneanxs/gists{/gist_id}","starred_url":"https://api.github.com/users/boneanxs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boneanxs/subscriptions","organizations_url":"https://api.github.com/users/boneanxs/orgs","repos_url":"https://api.github.com/users/boneanxs/repos","events_url":"https://api.github.com/users/boneanxs/events{/privacy}","received_events_url":"https://api.github.com/users/boneanxs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T09:59:37Z","updated_at":"2022-10-13T09:59:37Z","author_association":"CONTRIBUTOR","body":"@levisLi I think @Zouxxyy is right, how many files in your hudi table after you did 2 write operations? If there's only one file, it means small files are merged, maybe you can try\r\n`set hoodie.merge.allow.duplicate.on.inserts=true`","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1277356788/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1277389232","html_url":"https://github.com/apache/hudi/pull/6923#issuecomment-1277389232","issue_url":"https://api.github.com/repos/apache/hudi/issues/6923","id":1277389232,"node_id":"IC_kwDOBI7nWM5MI2mw","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T10:29:02Z","updated_at":"2022-10-13T10:29:02Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"dfc01f3024f3d3aca4578062cf7de1cd5b1a321a\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12132\",\n    \"triggerID\" : \"dfc01f3024f3d3aca4578062cf7de1cd5b1a321a\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"d3df5f9bbceb663a15a0635b7fb0007082080bd7\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12157\",\n    \"triggerID\" : \"d3df5f9bbceb663a15a0635b7fb0007082080bd7\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"f2379cb3018eadaa8e7b82f80ef8eadbd89ec9e0\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12180\",\n    \"triggerID\" : \"f2379cb3018eadaa8e7b82f80ef8eadbd89ec9e0\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* f2379cb3018eadaa8e7b82f80ef8eadbd89ec9e0 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12180) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1277389232/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1277546322","html_url":"https://github.com/apache/hudi/issues/6611#issuecomment-1277546322","issue_url":"https://api.github.com/repos/apache/hudi/issues/6611","id":1277546322,"node_id":"IC_kwDOBI7nWM5MJc9S","user":{"login":"gudladona","id":7864088,"node_id":"MDQ6VXNlcjc4NjQwODg=","avatar_url":"https://avatars.githubusercontent.com/u/7864088?v=4","gravatar_id":"","url":"https://api.github.com/users/gudladona","html_url":"https://github.com/gudladona","followers_url":"https://api.github.com/users/gudladona/followers","following_url":"https://api.github.com/users/gudladona/following{/other_user}","gists_url":"https://api.github.com/users/gudladona/gists{/gist_id}","starred_url":"https://api.github.com/users/gudladona/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gudladona/subscriptions","organizations_url":"https://api.github.com/users/gudladona/orgs","repos_url":"https://api.github.com/users/gudladona/repos","events_url":"https://api.github.com/users/gudladona/events{/privacy}","received_events_url":"https://api.github.com/users/gudladona/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T12:39:47Z","updated_at":"2022-10-13T12:42:33Z","author_association":"NONE","body":"We encountered this issue as well, we think this is due to the SparkAvroPostProcessor ignoring the default values from the passed target schema [here](https://github.com/apache/hudi/blob/master/hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/avro/SchemaConverters.scala#L154) - when converting from struct type to avro type for primitive types this function sets no default (ignored from the source)  [here](https://github.com/apache/hudi/blob/master/hudi-spark-datasource/hudi-spark-common/src/main/scala/org/apache/spark/sql/avro/SchemaConverters.scala#L205). And [here](https://github.com/apache/hudi/blob/master/hudi-client/hudi-spark-client/src/main/scala/org/apache/hudi/AvroConversionUtils.scala#L192) this function does not set the defaults by type, rather gets the default for the field that was assumed to be set upstream. \r\n\r\nWe tried to ignore the schema post processor and we encountered more issues.\r\n\r\nAlso, In our case this only happened during updating an existing record with older schema version with new data with new schema version. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1277546322/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1277589735","html_url":"https://github.com/apache/hudi/issues/6692#issuecomment-1277589735","issue_url":"https://api.github.com/repos/apache/hudi/issues/6692","id":1277589735,"node_id":"IC_kwDOBI7nWM5MJnjn","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T13:13:37Z","updated_at":"2022-10-13T13:13:37Z","author_association":"MEMBER","body":"> We create our own fat jar that including Hudi Spark 3.1 bundle, hudi-aws-bundle \r\n\r\n@eshu i see the problem. with 0.12.0 hudi-aws-bundle shades avro which conflicts with spark bundle. this is fixed in 0.12.1 (releasing soon)\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1277589735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1277614369","html_url":"https://github.com/apache/hudi/pull/6636#issuecomment-1277614369","issue_url":"https://api.github.com/repos/apache/hudi/issues/6636","id":1277614369,"node_id":"IC_kwDOBI7nWM5MJtkh","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T13:27:22Z","updated_at":"2022-10-13T13:27:22Z","author_association":"MEMBER","body":"@wqwl611 thanks for the work but looks like this PR is identical to #6858 . should we continue using this one given we have reviews here already and close #6858 ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1277614369/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1277639427","html_url":"https://github.com/apache/hudi/pull/6935#issuecomment-1277639427","issue_url":"https://api.github.com/repos/apache/hudi/issues/6935","id":1277639427,"node_id":"IC_kwDOBI7nWM5MJzsD","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T13:44:24Z","updated_at":"2022-10-13T13:44:24Z","author_association":"MEMBER","body":"thank you @lxxawfl  for raising this. there is actually much bigger implication when upgrading hadoop. please check out previous work in https://github.com/apache/hudi/pull/5786/files . basically it's not possible to simply update the version number. related JIRA https://issues.apache.org/jira/browse/HUDI-2955","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1277639427/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1277688011","html_url":"https://github.com/apache/hudi/pull/6816#issuecomment-1277688011","issue_url":"https://api.github.com/repos/apache/hudi/issues/6816","id":1277688011,"node_id":"IC_kwDOBI7nWM5MJ_jL","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T14:16:48Z","updated_at":"2022-10-13T14:16:48Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"6031e0de844bfc48745caed8795e2de15e5970af\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"6031e0de844bfc48745caed8795e2de15e5970af\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"4b262c2672f63ef7d988be35b62055fc6f952cc7\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12183\",\n    \"triggerID\" : \"4b262c2672f63ef7d988be35b62055fc6f952cc7\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"226aad3bb81a393696878cf84eb605378e88a7de\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"226aad3bb81a393696878cf84eb605378e88a7de\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"930fffb5584203f6a33b73830f77e9ef1027f0ab\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12186\",\n    \"triggerID\" : \"930fffb5584203f6a33b73830f77e9ef1027f0ab\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 6031e0de844bfc48745caed8795e2de15e5970af UNKNOWN\n* 226aad3bb81a393696878cf84eb605378e88a7de UNKNOWN\n* 930fffb5584203f6a33b73830f77e9ef1027f0ab Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12186) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1277688011/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1277714356","html_url":"https://github.com/apache/hudi/issues/6931#issuecomment-1277714356","issue_url":"https://api.github.com/repos/apache/hudi/issues/6931","id":1277714356,"node_id":"IC_kwDOBI7nWM5MKF-0","user":{"login":"Zouxxyy","id":37108074,"node_id":"MDQ6VXNlcjM3MTA4MDc0","avatar_url":"https://avatars.githubusercontent.com/u/37108074?v=4","gravatar_id":"","url":"https://api.github.com/users/Zouxxyy","html_url":"https://github.com/Zouxxyy","followers_url":"https://api.github.com/users/Zouxxyy/followers","following_url":"https://api.github.com/users/Zouxxyy/following{/other_user}","gists_url":"https://api.github.com/users/Zouxxyy/gists{/gist_id}","starred_url":"https://api.github.com/users/Zouxxyy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zouxxyy/subscriptions","organizations_url":"https://api.github.com/users/Zouxxyy/orgs","repos_url":"https://api.github.com/users/Zouxxyy/repos","events_url":"https://api.github.com/users/Zouxxyy/events{/privacy}","received_events_url":"https://api.github.com/users/Zouxxyy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T14:35:16Z","updated_at":"2022-10-13T14:38:53Z","author_association":"CONTRIBUTOR","body":"> @levisLi I think @Zouxxyy is right, how many files in your hudi table after you did 2 write operations? If there's only one file, it means small files are merged, maybe you can try `set hoodie.merge.allow.duplicate.on.inserts=true`\r\n\r\nThat's what I missed, this configuration works.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1277714356/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1277733995","html_url":"https://github.com/apache/hudi/pull/6909#issuecomment-1277733995","issue_url":"https://api.github.com/repos/apache/hudi/issues/6909","id":1277733995,"node_id":"IC_kwDOBI7nWM5MKKxr","user":{"login":"slfan1989","id":55643692,"node_id":"MDQ6VXNlcjU1NjQzNjky","avatar_url":"https://avatars.githubusercontent.com/u/55643692?v=4","gravatar_id":"","url":"https://api.github.com/users/slfan1989","html_url":"https://github.com/slfan1989","followers_url":"https://api.github.com/users/slfan1989/followers","following_url":"https://api.github.com/users/slfan1989/following{/other_user}","gists_url":"https://api.github.com/users/slfan1989/gists{/gist_id}","starred_url":"https://api.github.com/users/slfan1989/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/slfan1989/subscriptions","organizations_url":"https://api.github.com/users/slfan1989/orgs","repos_url":"https://api.github.com/users/slfan1989/repos","events_url":"https://api.github.com/users/slfan1989/events{/privacy}","received_events_url":"https://api.github.com/users/slfan1989/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T14:46:21Z","updated_at":"2022-10-13T14:46:21Z","author_association":"CONTRIBUTOR","body":"@xushiyan Thank you very much for helping to review the code!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1277733995/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1277740606","html_url":"https://github.com/apache/hudi/pull/6898#issuecomment-1277740606","issue_url":"https://api.github.com/repos/apache/hudi/issues/6898","id":1277740606,"node_id":"IC_kwDOBI7nWM5MKMY-","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T14:51:01Z","updated_at":"2022-10-13T14:51:01Z","author_association":"MEMBER","body":"@KnightChess we should resolve it holistically for all bundles. @codope has started  https://github.com/apache/hudi/pull/6933 let's consolidate the efforts there","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1277740606/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1277992680","html_url":"https://github.com/apache/hudi/pull/6941#issuecomment-1277992680","issue_url":"https://api.github.com/repos/apache/hudi/issues/6941","id":1277992680,"node_id":"IC_kwDOBI7nWM5MLJ7o","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T18:11:02Z","updated_at":"2022-10-13T18:11:02Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"9a211ae742137947d1bed4bbafee769526212edb\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12191\",\n    \"triggerID\" : \"9a211ae742137947d1bed4bbafee769526212edb\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 9a211ae742137947d1bed4bbafee769526212edb Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12191) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1277992680/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278216951","html_url":"https://github.com/apache/hudi/pull/6912#issuecomment-1278216951","issue_url":"https://api.github.com/repos/apache/hudi/issues/6912","id":1278216951,"node_id":"IC_kwDOBI7nWM5MMAr3","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T21:54:19Z","updated_at":"2022-10-13T21:54:19Z","author_association":"CONTRIBUTOR","body":"I could not reproduce locally unfortunately. thats why had to get 3 to 4 runs from azure CI. prior to this patch, every other run was flaky. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278216951/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278218644","html_url":"https://github.com/apache/hudi/issues/2588#issuecomment-1278218644","issue_url":"https://api.github.com/repos/apache/hudi/issues/2588","id":1278218644,"node_id":"IC_kwDOBI7nWM5MMBGU","user":{"login":"victorvalentee","id":4733160,"node_id":"MDQ6VXNlcjQ3MzMxNjA=","avatar_url":"https://avatars.githubusercontent.com/u/4733160?v=4","gravatar_id":"","url":"https://api.github.com/users/victorvalentee","html_url":"https://github.com/victorvalentee","followers_url":"https://api.github.com/users/victorvalentee/followers","following_url":"https://api.github.com/users/victorvalentee/following{/other_user}","gists_url":"https://api.github.com/users/victorvalentee/gists{/gist_id}","starred_url":"https://api.github.com/users/victorvalentee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/victorvalentee/subscriptions","organizations_url":"https://api.github.com/users/victorvalentee/orgs","repos_url":"https://api.github.com/users/victorvalentee/repos","events_url":"https://api.github.com/users/victorvalentee/events{/privacy}","received_events_url":"https://api.github.com/users/victorvalentee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T21:56:42Z","updated_at":"2022-10-13T21:56:42Z","author_association":"NONE","body":"Hi @rubenssoto did you ever find a better solution to this problem? I'm having the same exact problem with this error happening from time to time (seems random, and re-running the jobs usually work).","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278218644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278370891","html_url":"https://github.com/apache/hudi/pull/6818#issuecomment-1278370891","issue_url":"https://api.github.com/repos/apache/hudi/issues/6818","id":1278370891,"node_id":"IC_kwDOBI7nWM5MMmRL","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T01:57:00Z","updated_at":"2022-10-14T01:57:00Z","author_association":"CONTRIBUTOR","body":"There are test failures, not sure if it is related with this change:\r\n\r\n![image](https://user-images.githubusercontent.com/7644508/195744371-ba4299e6-2b80-4d07-a6c9-0639adf6fe20.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278370891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278372760","html_url":"https://github.com/apache/hudi/pull/6892#issuecomment-1278372760","issue_url":"https://api.github.com/repos/apache/hudi/issues/6892","id":1278372760,"node_id":"IC_kwDOBI7nWM5MMmuY","user":{"login":"xicm","id":36392121,"node_id":"MDQ6VXNlcjM2MzkyMTIx","avatar_url":"https://avatars.githubusercontent.com/u/36392121?v=4","gravatar_id":"","url":"https://api.github.com/users/xicm","html_url":"https://github.com/xicm","followers_url":"https://api.github.com/users/xicm/followers","following_url":"https://api.github.com/users/xicm/following{/other_user}","gists_url":"https://api.github.com/users/xicm/gists{/gist_id}","starred_url":"https://api.github.com/users/xicm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xicm/subscriptions","organizations_url":"https://api.github.com/users/xicm/orgs","repos_url":"https://api.github.com/users/xicm/repos","events_url":"https://api.github.com/users/xicm/events{/privacy}","received_events_url":"https://api.github.com/users/xicm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T02:01:09Z","updated_at":"2022-10-14T02:01:09Z","author_association":"CONTRIBUTOR","body":"> thanks. instead of just fixing 0.12.0 version doc (which is a past fixed version), can you fix the latest too? under website/docs\r\n\r\nHi @xushiyan, updated","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278372760/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278386590","html_url":"https://github.com/apache/hudi/pull/6818#issuecomment-1278386590","issue_url":"https://api.github.com/repos/apache/hudi/issues/6818","id":1278386590,"node_id":"IC_kwDOBI7nWM5MMqGe","user":{"login":"YannByron","id":10036681,"node_id":"MDQ6VXNlcjEwMDM2Njgx","avatar_url":"https://avatars.githubusercontent.com/u/10036681?v=4","gravatar_id":"","url":"https://api.github.com/users/YannByron","html_url":"https://github.com/YannByron","followers_url":"https://api.github.com/users/YannByron/followers","following_url":"https://api.github.com/users/YannByron/following{/other_user}","gists_url":"https://api.github.com/users/YannByron/gists{/gist_id}","starred_url":"https://api.github.com/users/YannByron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YannByron/subscriptions","organizations_url":"https://api.github.com/users/YannByron/orgs","repos_url":"https://api.github.com/users/YannByron/repos","events_url":"https://api.github.com/users/YannByron/events{/privacy}","received_events_url":"https://api.github.com/users/YannByron/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T02:25:04Z","updated_at":"2022-10-14T02:25:04Z","author_association":"CONTRIBUTOR","body":"> There are test failures, not sure if it is related with this change:\r\n> \r\n> ![image](https://user-images.githubusercontent.com/7644508/195744371-ba4299e6-2b80-4d07-a6c9-0639adf6fe20.png)\r\n\r\nLet restart CI to judge this.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278386590/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278386797","html_url":"https://github.com/apache/hudi/pull/6818#issuecomment-1278386797","issue_url":"https://api.github.com/repos/apache/hudi/issues/6818","id":1278386797,"node_id":"IC_kwDOBI7nWM5MMqJt","user":{"login":"YannByron","id":10036681,"node_id":"MDQ6VXNlcjEwMDM2Njgx","avatar_url":"https://avatars.githubusercontent.com/u/10036681?v=4","gravatar_id":"","url":"https://api.github.com/users/YannByron","html_url":"https://github.com/YannByron","followers_url":"https://api.github.com/users/YannByron/followers","following_url":"https://api.github.com/users/YannByron/following{/other_user}","gists_url":"https://api.github.com/users/YannByron/gists{/gist_id}","starred_url":"https://api.github.com/users/YannByron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YannByron/subscriptions","organizations_url":"https://api.github.com/users/YannByron/orgs","repos_url":"https://api.github.com/users/YannByron/repos","events_url":"https://api.github.com/users/YannByron/events{/privacy}","received_events_url":"https://api.github.com/users/YannByron/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T02:25:25Z","updated_at":"2022-10-14T02:25:25Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278386797/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278407375","html_url":"https://github.com/apache/hudi/pull/6737#issuecomment-1278407375","issue_url":"https://api.github.com/repos/apache/hudi/issues/6737","id":1278407375,"node_id":"IC_kwDOBI7nWM5MMvLP","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T03:00:01Z","updated_at":"2022-10-14T03:00:01Z","author_association":"CONTRIBUTOR","body":"[4373.patch.zip](https://github.com/apache/hudi/files/9782092/4373.patch.zip)\r\nThank, i have reviewed and applied a patch, let's move the clustering update strategy logic into sub-clazzs of `StreamWriteFunction` first.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278407375/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278409666","html_url":"https://github.com/apache/hudi/pull/6946#issuecomment-1278409666","issue_url":"https://api.github.com/repos/apache/hudi/issues/6946","id":1278409666,"node_id":"IC_kwDOBI7nWM5MMvvC","user":{"login":"slfan1989","id":55643692,"node_id":"MDQ6VXNlcjU1NjQzNjky","avatar_url":"https://avatars.githubusercontent.com/u/55643692?v=4","gravatar_id":"","url":"https://api.github.com/users/slfan1989","html_url":"https://github.com/slfan1989","followers_url":"https://api.github.com/users/slfan1989/followers","following_url":"https://api.github.com/users/slfan1989/following{/other_user}","gists_url":"https://api.github.com/users/slfan1989/gists{/gist_id}","starred_url":"https://api.github.com/users/slfan1989/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/slfan1989/subscriptions","organizations_url":"https://api.github.com/users/slfan1989/orgs","repos_url":"https://api.github.com/users/slfan1989/repos","events_url":"https://api.github.com/users/slfan1989/events{/privacy}","received_events_url":"https://api.github.com/users/slfan1989/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T03:03:45Z","updated_at":"2022-10-14T03:03:45Z","author_association":"CONTRIBUTOR","body":"@xushiyan Can you help review the code? Thank you very much!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278409666/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278417576","html_url":"https://github.com/apache/hudi/pull/6737#issuecomment-1278417576","issue_url":"https://api.github.com/repos/apache/hudi/issues/6737","id":1278417576,"node_id":"IC_kwDOBI7nWM5MMxqo","user":{"login":"YuweiXiao","id":9959868,"node_id":"MDQ6VXNlcjk5NTk4Njg=","avatar_url":"https://avatars.githubusercontent.com/u/9959868?v=4","gravatar_id":"","url":"https://api.github.com/users/YuweiXiao","html_url":"https://github.com/YuweiXiao","followers_url":"https://api.github.com/users/YuweiXiao/followers","following_url":"https://api.github.com/users/YuweiXiao/following{/other_user}","gists_url":"https://api.github.com/users/YuweiXiao/gists{/gist_id}","starred_url":"https://api.github.com/users/YuweiXiao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YuweiXiao/subscriptions","organizations_url":"https://api.github.com/users/YuweiXiao/orgs","repos_url":"https://api.github.com/users/YuweiXiao/repos","events_url":"https://api.github.com/users/YuweiXiao/events{/privacy}","received_events_url":"https://api.github.com/users/YuweiXiao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T03:14:55Z","updated_at":"2022-10-14T03:19:16Z","author_association":"CONTRIBUTOR","body":"> [4373.patch.zip](https://github.com/apache/hudi/files/9782092/4373.patch.zip) Thank, i have reviewed and applied a patch, let's move the clustering update strategy logic into sub-clazzs of `StreamWriteFunction` first.\r\n\r\nThanks for the patch, Danny! Moving the update strategy to sub-clazzs will bring some duplicate code (e.g., flushing logic). Is it ok? \r\n\r\nMoving down the update strategy logic to consistent hashing sub-clazzs could limit the scope of influence. And we can bring it to the standard stream write pipeline once we are certain it is stable.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278417576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278499894","html_url":"https://github.com/apache/hudi/pull/6916#issuecomment-1278499894","issue_url":"https://api.github.com/repos/apache/hudi/issues/6916","id":1278499894,"node_id":"IC_kwDOBI7nWM5MNFw2","user":{"login":"wulei0302","id":52473940,"node_id":"MDQ6VXNlcjUyNDczOTQw","avatar_url":"https://avatars.githubusercontent.com/u/52473940?v=4","gravatar_id":"","url":"https://api.github.com/users/wulei0302","html_url":"https://github.com/wulei0302","followers_url":"https://api.github.com/users/wulei0302/followers","following_url":"https://api.github.com/users/wulei0302/following{/other_user}","gists_url":"https://api.github.com/users/wulei0302/gists{/gist_id}","starred_url":"https://api.github.com/users/wulei0302/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wulei0302/subscriptions","organizations_url":"https://api.github.com/users/wulei0302/orgs","repos_url":"https://api.github.com/users/wulei0302/repos","events_url":"https://api.github.com/users/wulei0302/events{/privacy}","received_events_url":"https://api.github.com/users/wulei0302/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T05:23:58Z","updated_at":"2022-10-14T05:23:58Z","author_association":"CONTRIBUTOR","body":"> can we add a unit test too? cc @nsivabalan\r\n\r\n@xushiyan I only added a simple ut for InLineFSUtils. If you have better suggestions, I will adjust it again. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278499894/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278505710","html_url":"https://github.com/apache/hudi/pull/6945#issuecomment-1278505710","issue_url":"https://api.github.com/repos/apache/hudi/issues/6945","id":1278505710,"node_id":"IC_kwDOBI7nWM5MNHLu","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T05:33:37Z","updated_at":"2022-10-14T05:33:37Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"2f802e2c5e56b1072bfc1c64792a11283473679e\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12195\",\n    \"triggerID\" : \"2f802e2c5e56b1072bfc1c64792a11283473679e\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 2f802e2c5e56b1072bfc1c64792a11283473679e Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12195) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278505710/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278513639","html_url":"https://github.com/apache/hudi/issues/3394#issuecomment-1278513639","issue_url":"https://api.github.com/repos/apache/hudi/issues/3394","id":1278513639,"node_id":"IC_kwDOBI7nWM5MNJHn","user":{"login":"nicor88","id":6278547,"node_id":"MDQ6VXNlcjYyNzg1NDc=","avatar_url":"https://avatars.githubusercontent.com/u/6278547?v=4","gravatar_id":"","url":"https://api.github.com/users/nicor88","html_url":"https://github.com/nicor88","followers_url":"https://api.github.com/users/nicor88/followers","following_url":"https://api.github.com/users/nicor88/following{/other_user}","gists_url":"https://api.github.com/users/nicor88/gists{/gist_id}","starred_url":"https://api.github.com/users/nicor88/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicor88/subscriptions","organizations_url":"https://api.github.com/users/nicor88/orgs","repos_url":"https://api.github.com/users/nicor88/repos","events_url":"https://api.github.com/users/nicor88/events{/privacy}","received_events_url":"https://api.github.com/users/nicor88/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T05:45:57Z","updated_at":"2022-10-14T05:45:57Z","author_association":"NONE","body":"@nsivabalan what was the solution for this issue? As I'm experiencing something similar when using Hudi in combination with glue. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278513639/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278524328","html_url":"https://github.com/apache/hudi/pull/6948#issuecomment-1278524328","issue_url":"https://api.github.com/repos/apache/hudi/issues/6948","id":1278524328,"node_id":"IC_kwDOBI7nWM5MNLuo","user":{"login":"hameizi","id":18445460,"node_id":"MDQ6VXNlcjE4NDQ1NDYw","avatar_url":"https://avatars.githubusercontent.com/u/18445460?v=4","gravatar_id":"","url":"https://api.github.com/users/hameizi","html_url":"https://github.com/hameizi","followers_url":"https://api.github.com/users/hameizi/followers","following_url":"https://api.github.com/users/hameizi/following{/other_user}","gists_url":"https://api.github.com/users/hameizi/gists{/gist_id}","starred_url":"https://api.github.com/users/hameizi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hameizi/subscriptions","organizations_url":"https://api.github.com/users/hameizi/orgs","repos_url":"https://api.github.com/users/hameizi/repos","events_url":"https://api.github.com/users/hameizi/events{/privacy}","received_events_url":"https://api.github.com/users/hameizi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T06:02:40Z","updated_at":"2022-10-14T06:02:40Z","author_association":"CONTRIBUTOR","body":"@fengjian428 @danny0405 please take a look.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278524328/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278551570","html_url":"https://github.com/apache/hudi/issues/6943#issuecomment-1278551570","issue_url":"https://api.github.com/repos/apache/hudi/issues/6943","id":1278551570,"node_id":"IC_kwDOBI7nWM5MNSYS","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T06:39:16Z","updated_at":"2022-10-14T06:39:16Z","author_association":"CONTRIBUTOR","body":"@rohit-m-99 do you mean that the query gets stuck at the particular stage shared above?  Is it possible for you to share the schema (e.g., how many columns are there, what are the data types, etc.) and the query?  Could you also share the `.hoodie` folder so we can check the column stats partition in the metadata table?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278551570/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278557564","html_url":"https://github.com/apache/hudi/issues/6881#issuecomment-1278557564","issue_url":"https://api.github.com/repos/apache/hudi/issues/6881","id":1278557564,"node_id":"IC_kwDOBI7nWM5MNT18","user":{"login":"koochiswathiTR","id":53506762,"node_id":"MDQ6VXNlcjUzNTA2NzYy","avatar_url":"https://avatars.githubusercontent.com/u/53506762?v=4","gravatar_id":"","url":"https://api.github.com/users/koochiswathiTR","html_url":"https://github.com/koochiswathiTR","followers_url":"https://api.github.com/users/koochiswathiTR/followers","following_url":"https://api.github.com/users/koochiswathiTR/following{/other_user}","gists_url":"https://api.github.com/users/koochiswathiTR/gists{/gist_id}","starred_url":"https://api.github.com/users/koochiswathiTR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/koochiswathiTR/subscriptions","organizations_url":"https://api.github.com/users/koochiswathiTR/orgs","repos_url":"https://api.github.com/users/koochiswathiTR/repos","events_url":"https://api.github.com/users/koochiswathiTR/events{/privacy}","received_events_url":"https://api.github.com/users/koochiswathiTR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T06:46:11Z","updated_at":"2022-10-14T06:46:11Z","author_association":"NONE","body":"@xushiyan  Any update","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278557564/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278558872","html_url":"https://github.com/apache/hudi/issues/6881#issuecomment-1278558872","issue_url":"https://api.github.com/repos/apache/hudi/issues/6881","id":1278558872,"node_id":"IC_kwDOBI7nWM5MNUKY","user":{"login":"koochiswathiTR","id":53506762,"node_id":"MDQ6VXNlcjUzNTA2NzYy","avatar_url":"https://avatars.githubusercontent.com/u/53506762?v=4","gravatar_id":"","url":"https://api.github.com/users/koochiswathiTR","html_url":"https://github.com/koochiswathiTR","followers_url":"https://api.github.com/users/koochiswathiTR/followers","following_url":"https://api.github.com/users/koochiswathiTR/following{/other_user}","gists_url":"https://api.github.com/users/koochiswathiTR/gists{/gist_id}","starred_url":"https://api.github.com/users/koochiswathiTR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/koochiswathiTR/subscriptions","organizations_url":"https://api.github.com/users/koochiswathiTR/orgs","repos_url":"https://api.github.com/users/koochiswathiTR/repos","events_url":"https://api.github.com/users/koochiswathiTR/events{/privacy}","received_events_url":"https://api.github.com/users/koochiswathiTR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T06:47:36Z","updated_at":"2022-10-14T06:47:36Z","author_association":"NONE","body":"We scheduled compaction for 1 every one hour, if we reduce it to 15 mints or 30mints will the processing time reduces?\r\n@xushiyan \r\n@nsivabalan","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278558872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278561883","html_url":"https://github.com/apache/hudi/issues/6942#issuecomment-1278561883","issue_url":"https://api.github.com/repos/apache/hudi/issues/6942","id":1278561883,"node_id":"IC_kwDOBI7nWM5MNU5b","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T06:50:51Z","updated_at":"2022-10-14T06:50:51Z","author_association":"CONTRIBUTOR","body":"@idrismike this seems like an issue of writing data to the internal metadata table on this particular file system.  To mitigate the issue, could you try disabling metadata table by setting `hoodie.metadata.enable=false`?\r\n\r\nCould you also share your setup of starting the spark job, e.g., do you use `hudi-utilities-bundle` or `hudi-spark3.2-bundle`?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278561883/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278562873","html_url":"https://github.com/apache/hudi/pull/6920#issuecomment-1278562873","issue_url":"https://api.github.com/repos/apache/hudi/issues/6920","id":1278562873,"node_id":"IC_kwDOBI7nWM5MNVI5","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T06:51:56Z","updated_at":"2022-10-14T06:53:50Z","author_association":"CONTRIBUTOR","body":"Nice catch, i have reviewed and applied a patch here:\r\n[5007.patch.zip](https://github.com/apache/hudi/files/9783211/5007.patch.zip)\r\n\r\nCan you also add a test class in `TestInputFormat` and test the input splits logic for streaming read in this case ?\r\n\r\nYou can take a reference from `TestInputFormat#testReadSkipCompaction`\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278562873/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278563771","html_url":"https://github.com/apache/hudi/pull/6818#issuecomment-1278563771","issue_url":"https://api.github.com/repos/apache/hudi/issues/6818","id":1278563771,"node_id":"IC_kwDOBI7nWM5MNVW7","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T06:52:51Z","updated_at":"2022-10-14T06:52:51Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"fa5571c3b239b8edd501999a914b6c91105dc200\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11839\",\n    \"triggerID\" : \"fa5571c3b239b8edd501999a914b6c91105dc200\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"d430448672665ebb89b20687a0ee6d629bd0483f\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11841\",\n    \"triggerID\" : \"d430448672665ebb89b20687a0ee6d629bd0483f\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"f14363a4be66f8a05ddbbe14600176da151d04ff\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11843\",\n    \"triggerID\" : \"f14363a4be66f8a05ddbbe14600176da151d04ff\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"e0ccacd8d030984ed30f19b17b0dafb02d8685ee\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11920\",\n    \"triggerID\" : \"e0ccacd8d030984ed30f19b17b0dafb02d8685ee\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"2d4330e9960569a8aee6e5094244746c3f68883c\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"2d4330e9960569a8aee6e5094244746c3f68883c\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"3099df08c92beca28b203a5a3c37e044bf2b6da2\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12160\",\n    \"triggerID\" : \"3099df08c92beca28b203a5a3c37e044bf2b6da2\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"98b0bd9e0f36e58f70c6a901e5a5907987f9656d\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12161\",\n    \"triggerID\" : \"98b0bd9e0f36e58f70c6a901e5a5907987f9656d\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"390c6c486d979bb7fa703ba9ecd40be01e660d49\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12179\",\n    \"triggerID\" : \"390c6c486d979bb7fa703ba9ecd40be01e660d49\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"390c6c486d979bb7fa703ba9ecd40be01e660d49\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12197\",\n    \"triggerID\" : \"1278386797\",\n    \"triggerType\" : \"MANUAL\"\n  } ]\n}-->\n## CI report:\n\n* 2d4330e9960569a8aee6e5094244746c3f68883c UNKNOWN\n* 390c6c486d979bb7fa703ba9ecd40be01e660d49 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12179) Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12197) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278563771/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278572712","html_url":"https://github.com/apache/hudi/issues/6881#issuecomment-1278572712","issue_url":"https://api.github.com/repos/apache/hudi/issues/6881","id":1278572712,"node_id":"IC_kwDOBI7nWM5MNXio","user":{"login":"koochiswathiTR","id":53506762,"node_id":"MDQ6VXNlcjUzNTA2NzYy","avatar_url":"https://avatars.githubusercontent.com/u/53506762?v=4","gravatar_id":"","url":"https://api.github.com/users/koochiswathiTR","html_url":"https://github.com/koochiswathiTR","followers_url":"https://api.github.com/users/koochiswathiTR/followers","following_url":"https://api.github.com/users/koochiswathiTR/following{/other_user}","gists_url":"https://api.github.com/users/koochiswathiTR/gists{/gist_id}","starred_url":"https://api.github.com/users/koochiswathiTR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/koochiswathiTR/subscriptions","organizations_url":"https://api.github.com/users/koochiswathiTR/orgs","repos_url":"https://api.github.com/users/koochiswathiTR/repos","events_url":"https://api.github.com/users/koochiswathiTR/events{/privacy}","received_events_url":"https://api.github.com/users/koochiswathiTR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T07:02:00Z","updated_at":"2022-10-14T07:02:00Z","author_association":"NONE","body":"![image](https://user-images.githubusercontent.com/53506762/195783106-9dd54317-af1a-4a82-aa11-fa2e909e3b99.png)\r\n\r\nplease find the time it is taking to complete hudi jobs.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278572712/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278579934","html_url":"https://github.com/apache/hudi/issues/5547#issuecomment-1278579934","issue_url":"https://api.github.com/repos/apache/hudi/issues/5547","id":1278579934,"node_id":"IC_kwDOBI7nWM5MNZTe","user":{"login":"punish-yh","id":59658062,"node_id":"MDQ6VXNlcjU5NjU4MDYy","avatar_url":"https://avatars.githubusercontent.com/u/59658062?v=4","gravatar_id":"","url":"https://api.github.com/users/punish-yh","html_url":"https://github.com/punish-yh","followers_url":"https://api.github.com/users/punish-yh/followers","following_url":"https://api.github.com/users/punish-yh/following{/other_user}","gists_url":"https://api.github.com/users/punish-yh/gists{/gist_id}","starred_url":"https://api.github.com/users/punish-yh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/punish-yh/subscriptions","organizations_url":"https://api.github.com/users/punish-yh/orgs","repos_url":"https://api.github.com/users/punish-yh/repos","events_url":"https://api.github.com/users/punish-yh/events{/privacy}","received_events_url":"https://api.github.com/users/punish-yh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T07:09:05Z","updated_at":"2022-10-14T07:09:05Z","author_association":"NONE","body":"i got same situation, there is my config:\r\nHudi version : 0.11.0\r\n\r\nFlink version : 1.13.6\r\n\r\nHive version : 2.1.1-cdh6.3.2\r\n\r\nHadoop version : 3.0.0-cdh6.3.2\r\n\r\nStorage (HDFS/S3/GCS..) : HDFS\r\n\r\ni append flink-parquet dependency can fix it. if you could not find class conflict maybe try my wey\r\n\r\n        <dependency>\r\n            <groupId>org.apache.flink</groupId>\r\n            <artifactId>flink-parquet_2.11</artifactId>\r\n            <version>1.13.6</version>\r\n        </dependency>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278579934/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278581794","html_url":"https://github.com/apache/hudi/issues/6940#issuecomment-1278581794","issue_url":"https://api.github.com/repos/apache/hudi/issues/6940","id":1278581794,"node_id":"IC_kwDOBI7nWM5MNZwi","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T07:10:57Z","updated_at":"2022-10-14T07:10:57Z","author_association":"CONTRIBUTOR","body":"Hi @matthiasdg , thanks for reporting the performance regression.  We refactored the Hive query engine integration with Hudi in 0.11.0.  I'll take a look at the file index implementation for Hive which may contribute to the regression here.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278581794/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278582251","html_url":"https://github.com/apache/hudi/pull/6949#issuecomment-1278582251","issue_url":"https://api.github.com/repos/apache/hudi/issues/6949","id":1278582251,"node_id":"IC_kwDOBI7nWM5MNZ3r","user":{"login":"YannByron","id":10036681,"node_id":"MDQ6VXNlcjEwMDM2Njgx","avatar_url":"https://avatars.githubusercontent.com/u/10036681?v=4","gravatar_id":"","url":"https://api.github.com/users/YannByron","html_url":"https://github.com/YannByron","followers_url":"https://api.github.com/users/YannByron/followers","following_url":"https://api.github.com/users/YannByron/following{/other_user}","gists_url":"https://api.github.com/users/YannByron/gists{/gist_id}","starred_url":"https://api.github.com/users/YannByron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YannByron/subscriptions","organizations_url":"https://api.github.com/users/YannByron/orgs","repos_url":"https://api.github.com/users/YannByron/repos","events_url":"https://api.github.com/users/YannByron/events{/privacy}","received_events_url":"https://api.github.com/users/YannByron/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T07:11:26Z","updated_at":"2022-10-14T07:11:26Z","author_association":"CONTRIBUTOR","body":"@Zouxxyy please enrich this UT so that we can know the behavior of different DML operations when enable `hoodie.merge.allow.duplicate.on.inserts`.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278582251/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278589842","html_url":"https://github.com/apache/hudi/issues/6938#issuecomment-1278589842","issue_url":"https://api.github.com/repos/apache/hudi/issues/6938","id":1278589842,"node_id":"IC_kwDOBI7nWM5MNbuS","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T07:18:08Z","updated_at":"2022-10-14T07:18:08Z","author_association":"CONTRIBUTOR","body":"@boneanxs thanks for reporting this.  I think we need to see how we can efficiently identify the replaced file groups.  Currently, the archiver does not read any instant metadata to be efficient.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278589842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278592001","html_url":"https://github.com/apache/hudi/issues/6937#issuecomment-1278592001","issue_url":"https://api.github.com/repos/apache/hudi/issues/6937","id":1278592001,"node_id":"IC_kwDOBI7nWM5MNcQB","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T07:20:10Z","updated_at":"2022-10-14T07:20:10Z","author_association":"CONTRIBUTOR","body":"@matthiasdg thanks for reporting the issue.  We'll try to reproduce it.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278592001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278600500","html_url":"https://github.com/apache/hudi/issues/6936#issuecomment-1278600500","issue_url":"https://api.github.com/repos/apache/hudi/issues/6936","id":1278600500,"node_id":"IC_kwDOBI7nWM5MNeU0","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T07:28:52Z","updated_at":"2022-10-14T07:28:52Z","author_association":"CONTRIBUTOR","body":"@PhantomHunt Thanks for reporting the issue.  If possible, could you share the schema and sample data that can reproduce this issue?  The issue is likely related to a specific data type.  You may strip out any sensitive columns and data that are irrelevant to the issue.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278600500/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278606950","html_url":"https://github.com/apache/hudi/issues/6907#issuecomment-1278606950","issue_url":"https://api.github.com/repos/apache/hudi/issues/6907","id":1278606950,"node_id":"IC_kwDOBI7nWM5MNf5m","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T07:35:18Z","updated_at":"2022-10-14T07:35:18Z","author_association":"CONTRIBUTOR","body":"@sknukala if you are using Hudi incremental query, the instant timestamp format (second vs millisecond granularity) should not matter, because internally Hudi treats the instant time as a String and uses the predicate based on the instant time with String comparison for filtering records, so millisecond-level instant time is still backward compatible with second-level instant time.  Could you clarify how the incremental pull is impacted?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278606950/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278607278","html_url":"https://github.com/apache/hudi/pull/6732#issuecomment-1278607278","issue_url":"https://api.github.com/repos/apache/hudi/issues/6732","id":1278607278,"node_id":"IC_kwDOBI7nWM5MNf-u","user":{"login":"yuzhaojing","id":32435329,"node_id":"MDQ6VXNlcjMyNDM1MzI5","avatar_url":"https://avatars.githubusercontent.com/u/32435329?v=4","gravatar_id":"","url":"https://api.github.com/users/yuzhaojing","html_url":"https://github.com/yuzhaojing","followers_url":"https://api.github.com/users/yuzhaojing/followers","following_url":"https://api.github.com/users/yuzhaojing/following{/other_user}","gists_url":"https://api.github.com/users/yuzhaojing/gists{/gist_id}","starred_url":"https://api.github.com/users/yuzhaojing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yuzhaojing/subscriptions","organizations_url":"https://api.github.com/users/yuzhaojing/orgs","repos_url":"https://api.github.com/users/yuzhaojing/repos","events_url":"https://api.github.com/users/yuzhaojing/events{/privacy}","received_events_url":"https://api.github.com/users/yuzhaojing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T07:35:35Z","updated_at":"2022-10-14T07:35:35Z","author_association":"CONTRIBUTOR","body":"> @yuzhaojing please also fill up the PR description properly. as discussed, a class diagram to show the new hierarchy expedites the review.\r\n\r\nThanks for the reminder, the corresponding content has been added to the PR.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278607278/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278615104","html_url":"https://github.com/apache/hudi/issues/6903#issuecomment-1278615104","issue_url":"https://api.github.com/repos/apache/hudi/issues/6903","id":1278615104,"node_id":"IC_kwDOBI7nWM5MNh5A","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T07:42:44Z","updated_at":"2022-10-14T07:42:44Z","author_association":"CONTRIBUTOR","body":"@maheshguptags could you remove the `--mode schedule` parameter?  `--mode` is introduced in 0.11.0.  Given that you're using 0.10.1, this parameter is not available.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278615104/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278619277","html_url":"https://github.com/apache/hudi/issues/6900#issuecomment-1278619277","issue_url":"https://api.github.com/repos/apache/hudi/issues/6900","id":1278619277,"node_id":"IC_kwDOBI7nWM5MNi6N","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T07:46:26Z","updated_at":"2022-10-14T07:46:26Z","author_association":"CONTRIBUTOR","body":"@yhyyz to mitigate the issue, have you tried to switch to the direct markers by setting `hoodie.write.markers.type=direct` and see if the structured streaming can make progress?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278619277/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278623380","html_url":"https://github.com/apache/hudi/issues/6881#issuecomment-1278623380","issue_url":"https://api.github.com/repos/apache/hudi/issues/6881","id":1278623380,"node_id":"IC_kwDOBI7nWM5MNj6U","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T07:50:37Z","updated_at":"2022-10-14T07:50:37Z","author_association":"CONTRIBUTOR","body":"@koochiswathiTR To help debug the performance regression, could you also share the driver log, content under `.hoodie`, and the complete spark stages (the screenshot above does not show stages for writing metadata table and other important stages)?  It seems weird that the `Perform rollback actions` job takes 56 minutes.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278623380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278627505","html_url":"https://github.com/apache/hudi/issues/6880#issuecomment-1278627505","issue_url":"https://api.github.com/repos/apache/hudi/issues/6880","id":1278627505,"node_id":"IC_kwDOBI7nWM5MNk6x","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T07:53:58Z","updated_at":"2022-10-14T07:53:58Z","author_association":"CONTRIBUTOR","body":"@tingxin AWS support can provide better help regarding the Kinesis Studio.  You should file a support ticket to AWS.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278627505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278630249","html_url":"https://github.com/apache/hudi/pull/6745#issuecomment-1278630249","issue_url":"https://api.github.com/repos/apache/hudi/issues/6745","id":1278630249,"node_id":"IC_kwDOBI7nWM5MNllp","user":{"login":"wzx140","id":25837418,"node_id":"MDQ6VXNlcjI1ODM3NDE4","avatar_url":"https://avatars.githubusercontent.com/u/25837418?v=4","gravatar_id":"","url":"https://api.github.com/users/wzx140","html_url":"https://github.com/wzx140","followers_url":"https://api.github.com/users/wzx140/followers","following_url":"https://api.github.com/users/wzx140/following{/other_user}","gists_url":"https://api.github.com/users/wzx140/gists{/gist_id}","starred_url":"https://api.github.com/users/wzx140/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wzx140/subscriptions","organizations_url":"https://api.github.com/users/wzx140/orgs","repos_url":"https://api.github.com/users/wzx140/repos","events_url":"https://api.github.com/users/wzx140/events{/privacy}","received_events_url":"https://api.github.com/users/wzx140/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T07:56:42Z","updated_at":"2022-10-14T07:56:42Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278630249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278635460","html_url":"https://github.com/apache/hudi/pull/6890#issuecomment-1278635460","issue_url":"https://api.github.com/repos/apache/hudi/issues/6890","id":1278635460,"node_id":"IC_kwDOBI7nWM5MNm3E","user":{"login":"parisni","id":9535350,"node_id":"MDQ6VXNlcjk1MzUzNTA=","avatar_url":"https://avatars.githubusercontent.com/u/9535350?v=4","gravatar_id":"","url":"https://api.github.com/users/parisni","html_url":"https://github.com/parisni","followers_url":"https://api.github.com/users/parisni/followers","following_url":"https://api.github.com/users/parisni/following{/other_user}","gists_url":"https://api.github.com/users/parisni/gists{/gist_id}","starred_url":"https://api.github.com/users/parisni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/parisni/subscriptions","organizations_url":"https://api.github.com/users/parisni/orgs","repos_url":"https://api.github.com/users/parisni/repos","events_url":"https://api.github.com/users/parisni/events{/privacy}","received_events_url":"https://api.github.com/users/parisni/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T08:01:38Z","updated_at":"2022-10-14T08:01:38Z","author_association":"CONTRIBUTOR","body":"hi @nsivabalan . thanks for this. once this get ready, we will check the performances improvement on real life data and give a feedback","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278635460/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278645561","html_url":"https://github.com/apache/hudi/issues/6903#issuecomment-1278645561","issue_url":"https://api.github.com/repos/apache/hudi/issues/6903","id":1278645561,"node_id":"IC_kwDOBI7nWM5MNpU5","user":{"login":"maheshguptags","id":115445723,"node_id":"U_kgDOBuGP2w","avatar_url":"https://avatars.githubusercontent.com/u/115445723?v=4","gravatar_id":"","url":"https://api.github.com/users/maheshguptags","html_url":"https://github.com/maheshguptags","followers_url":"https://api.github.com/users/maheshguptags/followers","following_url":"https://api.github.com/users/maheshguptags/following{/other_user}","gists_url":"https://api.github.com/users/maheshguptags/gists{/gist_id}","starred_url":"https://api.github.com/users/maheshguptags/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maheshguptags/subscriptions","organizations_url":"https://api.github.com/users/maheshguptags/orgs","repos_url":"https://api.github.com/users/maheshguptags/repos","events_url":"https://api.github.com/users/maheshguptags/events{/privacy}","received_events_url":"https://api.github.com/users/maheshguptags/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T08:09:40Z","updated_at":"2022-10-14T08:09:40Z","author_association":"NONE","body":"@yihua I tried without `--mode ` parameter and it is not scheduling the compaction.  ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278645561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278650547","html_url":"https://github.com/apache/hudi/pull/6745#issuecomment-1278650547","issue_url":"https://api.github.com/repos/apache/hudi/issues/6745","id":1278650547,"node_id":"IC_kwDOBI7nWM5MNqiz","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T08:13:44Z","updated_at":"2022-10-14T08:13:44Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"a2febfbe1f9c172bc93da20ff5f7e511b74b4dcf\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11584\",\n    \"triggerID\" : \"a2febfbe1f9c172bc93da20ff5f7e511b74b4dcf\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"7cec5ae421829380684d04ac36bfb6ab4250b025\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11609\",\n    \"triggerID\" : \"7cec5ae421829380684d04ac36bfb6ab4250b025\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"cfc2f99018397e7f0785a7986dfa0be8973cd687\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11696\",\n    \"triggerID\" : \"cfc2f99018397e7f0785a7986dfa0be8973cd687\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"cfc2f99018397e7f0785a7986dfa0be8973cd687\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11703\",\n    \"triggerID\" : \"1257112366\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"2cd84b457a479124a3cb46fce707320748a9f23e\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11743\",\n    \"triggerID\" : \"2cd84b457a479124a3cb46fce707320748a9f23e\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"8937349e4bfb88d01f3cc366c8ec330795ec574c\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11745\",\n    \"triggerID\" : \"8937349e4bfb88d01f3cc366c8ec330795ec574c\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"cf7bfd6b51719315e8e0803f2ea76742ce6af27a\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11795\",\n    \"triggerID\" : \"cf7bfd6b51719315e8e0803f2ea76742ce6af27a\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"2f75eab30829ea93bfd2c3330b16557e7cdec15f\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11849\",\n    \"triggerID\" : \"2f75eab30829ea93bfd2c3330b16557e7cdec15f\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"5365302f3048e169b1a73b0b257b72384af74d6e\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11856\",\n    \"triggerID\" : \"5365302f3048e169b1a73b0b257b72384af74d6e\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"f2823f9cfd431f63e8026cd4a4d4680cd842a660\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11910\",\n    \"triggerID\" : \"f2823f9cfd431f63e8026cd4a4d4680cd842a660\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"5775698c9da0c1dbb400221b72cfb8877ed59382\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11935\",\n    \"triggerID\" : \"5775698c9da0c1dbb400221b72cfb8877ed59382\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"b7a71b7de263c5117e199df45cba0ead191159a3\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11938\",\n    \"triggerID\" : \"b7a71b7de263c5117e199df45cba0ead191159a3\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"b7a71b7de263c5117e199df45cba0ead191159a3\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11952\",\n    \"triggerID\" : \"1264301226\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"a21ec4c91ba3d353082411e46239c9c81912cc1f\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11957\",\n    \"triggerID\" : \"a21ec4c91ba3d353082411e46239c9c81912cc1f\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"a21ec4c91ba3d353082411e46239c9c81912cc1f\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12010\",\n    \"triggerID\" : \"1268638101\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"7525a09b2415fbf4e5e7de7c71cfffd8afc8c410\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12011\",\n    \"triggerID\" : \"7525a09b2415fbf4e5e7de7c71cfffd8afc8c410\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"af8e58757bed12e53907076da02add1ba98b220c\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12014\",\n    \"triggerID\" : \"af8e58757bed12e53907076da02add1ba98b220c\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"261adecadc91712a222905082cad122befe81566\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12021\",\n    \"triggerID\" : \"261adecadc91712a222905082cad122befe81566\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"34e4db327b0d8394aa92126c97e833d75a0543b1\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12028\",\n    \"triggerID\" : \"1270248286\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"34e4db327b0d8394aa92126c97e833d75a0543b1\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12028\",\n    \"triggerID\" : \"34e4db327b0d8394aa92126c97e833d75a0543b1\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"d99df9d68f351bd97aa8fee33cffc399f69efa9c\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12030\",\n    \"triggerID\" : \"d99df9d68f351bd97aa8fee33cffc399f69efa9c\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"1270248286\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"58c2a12352944f2d1794968ebcc676970bdb0bd0\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12039\",\n    \"triggerID\" : \"58c2a12352944f2d1794968ebcc676970bdb0bd0\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"4c78db48d9e86c620f0824fe1438a1d151100d98\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12041\",\n    \"triggerID\" : \"4c78db48d9e86c620f0824fe1438a1d151100d98\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"466535c2d2984fd57c471bb6127edc507d48d0b1\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12070\",\n    \"triggerID\" : \"466535c2d2984fd57c471bb6127edc507d48d0b1\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"466535c2d2984fd57c471bb6127edc507d48d0b1\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12084\",\n    \"triggerID\" : \"1272461930\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"102ba048470cf55ff154b58fef89d02a08ab7c47\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12134\",\n    \"triggerID\" : \"102ba048470cf55ff154b58fef89d02a08ab7c47\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"5fc30604446b1aa40c60fb70a07f9bcb7ee02baf\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12159\",\n    \"triggerID\" : \"5fc30604446b1aa40c60fb70a07f9bcb7ee02baf\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"2d694885181a6ecd4fac7d3a0511ec70effad7ed\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12182\",\n    \"triggerID\" : \"2d694885181a6ecd4fac7d3a0511ec70effad7ed\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"a598907586c2c4881b990a7048bb933b5d025801\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12187\",\n    \"triggerID\" : \"a598907586c2c4881b990a7048bb933b5d025801\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"0650eb40b10cf97c280809e89f351c15d1c2267f\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12189\",\n    \"triggerID\" : \"0650eb40b10cf97c280809e89f351c15d1c2267f\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"f2e57419f04cc8f4777a78eef4178915f2cce3c8\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12198\",\n    \"triggerID\" : \"f2e57419f04cc8f4777a78eef4178915f2cce3c8\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"f2e57419f04cc8f4777a78eef4178915f2cce3c8\",\n    \"status\" : \"PENDING\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12205\",\n    \"triggerID\" : \"1278630249\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"0650eb40b10cf97c280809e89f351c15d1c2267f\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12189\",\n    \"triggerID\" : \"1278630249\",\n    \"triggerType\" : \"MANUAL\"\n  } ]\n}-->\n## CI report:\n\n* 0650eb40b10cf97c280809e89f351c15d1c2267f Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12189) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278650547/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278677131","html_url":"https://github.com/apache/hudi/issues/6558#issuecomment-1278677131","issue_url":"https://api.github.com/repos/apache/hudi/issues/6558","id":1278677131,"node_id":"IC_kwDOBI7nWM5MNxCL","user":{"login":"luky777","id":115782491,"node_id":"U_kgDOBuazWw","avatar_url":"https://avatars.githubusercontent.com/u/115782491?v=4","gravatar_id":"","url":"https://api.github.com/users/luky777","html_url":"https://github.com/luky777","followers_url":"https://api.github.com/users/luky777/followers","following_url":"https://api.github.com/users/luky777/following{/other_user}","gists_url":"https://api.github.com/users/luky777/gists{/gist_id}","starred_url":"https://api.github.com/users/luky777/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/luky777/subscriptions","organizations_url":"https://api.github.com/users/luky777/orgs","repos_url":"https://api.github.com/users/luky777/repos","events_url":"https://api.github.com/users/luky777/events{/privacy}","received_events_url":"https://api.github.com/users/luky777/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T08:36:05Z","updated_at":"2022-10-14T08:36:05Z","author_association":"NONE","body":"Hi,\r\n\r\nI have exact same issue and can replicate it if I try to upsert the record with the extra or missing column. Using very much the same config as @parisni. I use Glue and Hudi Connector with Hudi Version 0.10.1 and Spark 3.1.\r\n\r\nI am also syncing Hudi to the glue catalog. As part of my code, I am trying to evolve the schema by pulling the Full schema from the Glue catalog and then merging it with schema from new records. Even schema has the same number of columns it keeps failing. \r\n\r\nIt seems like the schema has to have columns in the same order as it is in the parquet file. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278677131/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278681326","html_url":"https://github.com/apache/hudi/issues/6942#issuecomment-1278681326","issue_url":"https://api.github.com/repos/apache/hudi/issues/6942","id":1278681326,"node_id":"IC_kwDOBI7nWM5MNyDu","user":{"login":"idrismike","id":12491651,"node_id":"MDQ6VXNlcjEyNDkxNjUx","avatar_url":"https://avatars.githubusercontent.com/u/12491651?v=4","gravatar_id":"","url":"https://api.github.com/users/idrismike","html_url":"https://github.com/idrismike","followers_url":"https://api.github.com/users/idrismike/followers","following_url":"https://api.github.com/users/idrismike/following{/other_user}","gists_url":"https://api.github.com/users/idrismike/gists{/gist_id}","starred_url":"https://api.github.com/users/idrismike/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/idrismike/subscriptions","organizations_url":"https://api.github.com/users/idrismike/orgs","repos_url":"https://api.github.com/users/idrismike/repos","events_url":"https://api.github.com/users/idrismike/events{/privacy}","received_events_url":"https://api.github.com/users/idrismike/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T08:39:27Z","updated_at":"2022-10-14T08:39:27Z","author_association":"NONE","body":"@yihua I tried with `hoodie.metadata.enable=false` \r\n**PS**: We are using the following set of `hudi` dependencies:\r\n      `\"org.apache.hudi\" %% \"hudi-utilities-slim-bundle\" % \"0.12.0\",\r\n      \"org.apache.hudi\" %% \"hudi-spark3.2-bundle\" % \"0.12.0\"`\r\n\r\nThis seems to work. \r\nBut, we want the metadata to be enabled because I am querying Hudi using `hive metastore`, and if `metadata` is not enabled (hence not created), hive querying is `super-slow`. \r\n\r\nWe know that we can create the `metadata indexes` using `HoodieIndexer` asynchronously (Not sure if that is the same `metadata`). \r\n\r\nMoreover, using HoodieIndexer from using within `scala code` (i.e. calling HoodieIndexer from within code having spark session intiated) instead of using `spark-submit` - we get the following issue:\r\n**PS**: All setup remains the same as above.\r\n![MicrosoftTeams-image (1)](https://user-images.githubusercontent.com/12491651/195801561-8378e102-77f0-486f-b134-316c83a16b59.png)\r\n\r\n\r\n**Aside Question**: Can we generate `indexes` using `HoodieIndexer` for tables written using `hudi 0.9.0`? We tried doing that but get the following issue - hence clarifying that as well.\r\n![image](https://user-images.githubusercontent.com/12491651/195802062-c5a6a2f1-05be-4e59-96fd-28739b3cdccc.png)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278681326/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278686708","html_url":"https://github.com/apache/hudi/pull/6948#issuecomment-1278686708","issue_url":"https://api.github.com/repos/apache/hudi/issues/6948","id":1278686708,"node_id":"IC_kwDOBI7nWM5MNzX0","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T08:43:45Z","updated_at":"2022-10-14T08:43:45Z","author_association":"CONTRIBUTOR","body":"Thanks @hameizi for the contribution, can we log a JIRA issue here: https://issues.apache.org/jira/projects/HUDI/issues/HUDI-1456?filter=allopenissues and change the title into:\r\n[HUDI-${JIRA_ID}] ${your actual commit title}","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278686708/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278694479","html_url":"https://github.com/apache/hudi/pull/6948#issuecomment-1278694479","issue_url":"https://api.github.com/repos/apache/hudi/issues/6948","id":1278694479,"node_id":"IC_kwDOBI7nWM5MN1RP","user":{"login":"hameizi","id":18445460,"node_id":"MDQ6VXNlcjE4NDQ1NDYw","avatar_url":"https://avatars.githubusercontent.com/u/18445460?v=4","gravatar_id":"","url":"https://api.github.com/users/hameizi","html_url":"https://github.com/hameizi","followers_url":"https://api.github.com/users/hameizi/followers","following_url":"https://api.github.com/users/hameizi/following{/other_user}","gists_url":"https://api.github.com/users/hameizi/gists{/gist_id}","starred_url":"https://api.github.com/users/hameizi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hameizi/subscriptions","organizations_url":"https://api.github.com/users/hameizi/orgs","repos_url":"https://api.github.com/users/hameizi/repos","events_url":"https://api.github.com/users/hameizi/events{/privacy}","received_events_url":"https://api.github.com/users/hameizi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T08:50:15Z","updated_at":"2022-10-14T08:50:15Z","author_association":"CONTRIBUTOR","body":"> Thanks @hameizi for the contribution, can we log a JIRA issue here: https://issues.apache.org/jira/projects/HUDI/issues/HUDI-1456?filter=allopenissues and change the title into: [HUDI-${JIRA_ID}] ${your actual commit title}\r\n\r\ndone","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278694479/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278758071","html_url":"https://github.com/apache/hudi/issues/6610#issuecomment-1278758071","issue_url":"https://api.github.com/repos/apache/hudi/issues/6610","id":1278758071,"node_id":"IC_kwDOBI7nWM5MOEy3","user":{"login":"gunjdesai","id":7438622,"node_id":"MDQ6VXNlcjc0Mzg2MjI=","avatar_url":"https://avatars.githubusercontent.com/u/7438622?v=4","gravatar_id":"","url":"https://api.github.com/users/gunjdesai","html_url":"https://github.com/gunjdesai","followers_url":"https://api.github.com/users/gunjdesai/followers","following_url":"https://api.github.com/users/gunjdesai/following{/other_user}","gists_url":"https://api.github.com/users/gunjdesai/gists{/gist_id}","starred_url":"https://api.github.com/users/gunjdesai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gunjdesai/subscriptions","organizations_url":"https://api.github.com/users/gunjdesai/orgs","repos_url":"https://api.github.com/users/gunjdesai/repos","events_url":"https://api.github.com/users/gunjdesai/events{/privacy}","received_events_url":"https://api.github.com/users/gunjdesai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T09:43:07Z","updated_at":"2022-10-14T09:43:07Z","author_association":"NONE","body":"This issue was resolved by setting `maxOffsetsPerTrigger` property in Kafka, without the setting of that property, the batch size was constantly growing until we were hitting an OOM.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278758071/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278769174","html_url":"https://github.com/apache/hudi/issues/6558#issuecomment-1278769174","issue_url":"https://api.github.com/repos/apache/hudi/issues/6558","id":1278769174,"node_id":"IC_kwDOBI7nWM5MOHgW","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T09:49:24Z","updated_at":"2022-10-14T09:49:24Z","author_association":"CONTRIBUTOR","body":"@luky777 \r\ncould you share your sample code?    \r\nnow hudi should support this scenario :  upsert the record with the extra or missing column.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278769174/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278788305","html_url":"https://github.com/apache/hudi/pull/6003#issuecomment-1278788305","issue_url":"https://api.github.com/repos/apache/hudi/issues/6003","id":1278788305,"node_id":"IC_kwDOBI7nWM5MOMLR","user":{"login":"zhangyue19921010","id":69956021,"node_id":"MDQ6VXNlcjY5OTU2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/69956021?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangyue19921010","html_url":"https://github.com/zhangyue19921010","followers_url":"https://api.github.com/users/zhangyue19921010/followers","following_url":"https://api.github.com/users/zhangyue19921010/following{/other_user}","gists_url":"https://api.github.com/users/zhangyue19921010/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangyue19921010/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangyue19921010/subscriptions","organizations_url":"https://api.github.com/users/zhangyue19921010/orgs","repos_url":"https://api.github.com/users/zhangyue19921010/repos","events_url":"https://api.github.com/users/zhangyue19921010/events{/privacy}","received_events_url":"https://api.github.com/users/zhangyue19921010/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T10:05:26Z","updated_at":"2022-10-14T10:05:26Z","author_association":"CONTRIBUTOR","body":"Thanks all for your efforts here!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278788305/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278834308","html_url":"https://github.com/apache/hudi/pull/6916#issuecomment-1278834308","issue_url":"https://api.github.com/repos/apache/hudi/issues/6916","id":1278834308,"node_id":"IC_kwDOBI7nWM5MOXaE","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T10:42:13Z","updated_at":"2022-10-14T10:42:13Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"a1b895fece1cd4eb9853a8a41a99897cf1d46425\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12121\",\n    \"triggerID\" : \"a1b895fece1cd4eb9853a8a41a99897cf1d46425\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"f12dc84171cb27468a2343f8ee39fe40e270a6fd\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12133\",\n    \"triggerID\" : \"f12dc84171cb27468a2343f8ee39fe40e270a6fd\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"f12dc84171cb27468a2343f8ee39fe40e270a6fd\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12148\",\n    \"triggerID\" : \"1275520656\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"ee346e29e600ee2bccaaf83b0c28344bfdce606b\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12201\",\n    \"triggerID\" : \"ee346e29e600ee2bccaaf83b0c28344bfdce606b\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* ee346e29e600ee2bccaaf83b0c28344bfdce606b Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12201) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278834308/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278834455","html_url":"https://github.com/apache/hudi/pull/6948#issuecomment-1278834455","issue_url":"https://api.github.com/repos/apache/hudi/issues/6948","id":1278834455,"node_id":"IC_kwDOBI7nWM5MOXcX","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T10:42:22Z","updated_at":"2022-10-14T10:42:22Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"fb5eaedbb7f3f2405bcec722677a85a5f031593e\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12202\",\n    \"triggerID\" : \"fb5eaedbb7f3f2405bcec722677a85a5f031593e\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* fb5eaedbb7f3f2405bcec722677a85a5f031593e Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12202) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278834455/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278866711","html_url":"https://github.com/apache/hudi/issues/6621#issuecomment-1278866711","issue_url":"https://api.github.com/repos/apache/hudi/issues/6621","id":1278866711,"node_id":"IC_kwDOBI7nWM5MOfUX","user":{"login":"KnightChess","id":20125927,"node_id":"MDQ6VXNlcjIwMTI1OTI3","avatar_url":"https://avatars.githubusercontent.com/u/20125927?v=4","gravatar_id":"","url":"https://api.github.com/users/KnightChess","html_url":"https://github.com/KnightChess","followers_url":"https://api.github.com/users/KnightChess/followers","following_url":"https://api.github.com/users/KnightChess/following{/other_user}","gists_url":"https://api.github.com/users/KnightChess/gists{/gist_id}","starred_url":"https://api.github.com/users/KnightChess/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KnightChess/subscriptions","organizations_url":"https://api.github.com/users/KnightChess/orgs","repos_url":"https://api.github.com/users/KnightChess/repos","events_url":"https://api.github.com/users/KnightChess/events{/privacy}","received_events_url":"https://api.github.com/users/KnightChess/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T11:14:20Z","updated_at":"2022-10-14T11:15:09Z","author_association":"CONTRIBUTOR","body":"we also encountered this problem, in our env, flink-bundle avro version is 1.10.0 and spark3-bundle avro version is 1.10.2, and  after flink write mor table with deletelogblock\r\n\r\nspark:\r\nspark query will throw exception, classId - 2 = index is id 36\r\n```shell\r\nCaused by: com.esotericsoftware.kryo.KryoException: java.lang.IndexOutOfBoundsException: Index: 36, Size: 7\r\nSerialization trace:\r\nstring (org.apache.hudi.org.apache.avro.util.Utf8)\r\norderingVal (org.apache.hudi.common.model.DeleteRecord)\r\n\tat com.esotericsoftware.kryo.serializers.ObjectField.read(ObjectField.java:144)\r\n\tat com.esotericsoftware.kryo.serializers.FieldSerializer.read(FieldSerializer.java:543)\r\n\tat com.esotericsoftware.kryo.Kryo.readObject(Kryo.java:731)\r\n\tat com.esotericsoftware.kryo.serializers.ObjectField.read(ObjectField.java:125)\r\n\tat com.esotericsoftware.kryo.serializers.FieldSerializer.read(FieldSerializer.java:543)\r\n\tat com.esotericsoftware.kryo.Kryo.readObject(Kryo.java:731)\r\n\tat com.esotericsoftware.kryo.serializers.DefaultArraySerializers$ObjectArraySerializer.read(DefaultArraySerializers.java:391)\r\n\tat com.esotericsoftware.kryo.serializers.DefaultArraySerializers$ObjectArraySerializer.read(DefaultArraySerializers.java:302)\r\n\tat com.esotericsoftware.kryo.Kryo.readClassAndObject(Kryo.java:813)\r\n\tat org.apache.hudi.common.util.SerializationUtils$KryoSerializerInstance.deserialize(SerializationUtils.java:104)\r\n\tat org.apache.hudi.common.util.SerializationUtils.deserialize(SerializationUtils.java:78)\r\n\tat org.apache.hudi.common.table.log.block.HoodieDeleteBlock.deserialize(HoodieDeleteBlock.java:106)\r\n\tat org.apache.hudi.common.table.log.block.HoodieDeleteBlock.getRecordsToDelete(HoodieDeleteBlock.java:91)\r\n\tat org.apache.hudi.common.table.log.AbstractHoodieLogRecordReader.processQueuedBlocksForInstant(AbstractHoodieLogRecordReader.java:476)\r\n\tat org.apache.hudi.common.table.log.AbstractHoodieLogRecordReader.scanInternal(AbstractHoodieLogRecordReader.java:346)\r\n\t... 30 more\r\nCaused by: java.lang.IndexOutOfBoundsException: Index: 36, Size: 7\r\n\tat java.util.ArrayList.rangeCheck(ArrayList.java:659)\r\n\tat java.util.ArrayList.get(ArrayList.java:435)\r\n\tat com.esotericsoftware.kryo.util.MapReferenceResolver.getReadObject(MapReferenceResolver.java:60)\r\n\tat com.esotericsoftware.kryo.Kryo.readReferenceOrNull(Kryo.java:857)\r\n\tat com.esotericsoftware.kryo.Kryo.readObjectOrNull(Kryo.java:780)\r\n\tat com.esotericsoftware.kryo.serializers.ObjectField.read(ObjectField.java:132)\r\n\t... 44 more\r\n```\r\n\r\npresto:\r\npresto will throw the same exception which you meet, presto avro version is 1.8.2\r\n\r\nresovle:\r\nIn spark, I change the avro version to  1.10.0 which the same as flink, anything will be ok in query, I didn't check for presto, you can have a try in spark @dik111 ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278866711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278873779","html_url":"https://github.com/apache/hudi/issues/6881#issuecomment-1278873779","issue_url":"https://api.github.com/repos/apache/hudi/issues/6881","id":1278873779,"node_id":"IC_kwDOBI7nWM5MOhCz","user":{"login":"koochiswathiTR","id":53506762,"node_id":"MDQ6VXNlcjUzNTA2NzYy","avatar_url":"https://avatars.githubusercontent.com/u/53506762?v=4","gravatar_id":"","url":"https://api.github.com/users/koochiswathiTR","html_url":"https://github.com/koochiswathiTR","followers_url":"https://api.github.com/users/koochiswathiTR/followers","following_url":"https://api.github.com/users/koochiswathiTR/following{/other_user}","gists_url":"https://api.github.com/users/koochiswathiTR/gists{/gist_id}","starred_url":"https://api.github.com/users/koochiswathiTR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/koochiswathiTR/subscriptions","organizations_url":"https://api.github.com/users/koochiswathiTR/orgs","repos_url":"https://api.github.com/users/koochiswathiTR/repos","events_url":"https://api.github.com/users/koochiswathiTR/events{/privacy}","received_events_url":"https://api.github.com/users/koochiswathiTR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T11:21:23Z","updated_at":"2022-10-14T11:21:23Z","author_association":"NONE","body":"[stderr.2022-10-14-05.txt](https://github.com/apache/hudi/files/9785559/stderr.2022-10-14-05.txt)\r\nPlease find the log files and hoodie.properties files","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278873779/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278874414","html_url":"https://github.com/apache/hudi/issues/6881#issuecomment-1278874414","issue_url":"https://api.github.com/repos/apache/hudi/issues/6881","id":1278874414,"node_id":"IC_kwDOBI7nWM5MOhMu","user":{"login":"koochiswathiTR","id":53506762,"node_id":"MDQ6VXNlcjUzNTA2NzYy","avatar_url":"https://avatars.githubusercontent.com/u/53506762?v=4","gravatar_id":"","url":"https://api.github.com/users/koochiswathiTR","html_url":"https://github.com/koochiswathiTR","followers_url":"https://api.github.com/users/koochiswathiTR/followers","following_url":"https://api.github.com/users/koochiswathiTR/following{/other_user}","gists_url":"https://api.github.com/users/koochiswathiTR/gists{/gist_id}","starred_url":"https://api.github.com/users/koochiswathiTR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/koochiswathiTR/subscriptions","organizations_url":"https://api.github.com/users/koochiswathiTR/orgs","repos_url":"https://api.github.com/users/koochiswathiTR/repos","events_url":"https://api.github.com/users/koochiswathiTR/events{/privacy}","received_events_url":"https://api.github.com/users/koochiswathiTR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T11:22:01Z","updated_at":"2022-10-14T11:22:01Z","author_association":"NONE","body":"[stderr.2022-10-14-06.txt](https://github.com/apache/hudi/files/9785570/stderr.2022-10-14-06.txt)\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278874414/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278874773","html_url":"https://github.com/apache/hudi/issues/6881#issuecomment-1278874773","issue_url":"https://api.github.com/repos/apache/hudi/issues/6881","id":1278874773,"node_id":"IC_kwDOBI7nWM5MOhSV","user":{"login":"koochiswathiTR","id":53506762,"node_id":"MDQ6VXNlcjUzNTA2NzYy","avatar_url":"https://avatars.githubusercontent.com/u/53506762?v=4","gravatar_id":"","url":"https://api.github.com/users/koochiswathiTR","html_url":"https://github.com/koochiswathiTR","followers_url":"https://api.github.com/users/koochiswathiTR/followers","following_url":"https://api.github.com/users/koochiswathiTR/following{/other_user}","gists_url":"https://api.github.com/users/koochiswathiTR/gists{/gist_id}","starred_url":"https://api.github.com/users/koochiswathiTR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/koochiswathiTR/subscriptions","organizations_url":"https://api.github.com/users/koochiswathiTR/orgs","repos_url":"https://api.github.com/users/koochiswathiTR/repos","events_url":"https://api.github.com/users/koochiswathiTR/events{/privacy}","received_events_url":"https://api.github.com/users/koochiswathiTR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T11:22:25Z","updated_at":"2022-10-14T11:22:25Z","author_association":"NONE","body":"#Updated at 2022-08-06T11:30:43.839Z\r\n#Sat Aug 06 11:30:43 GMT 2022\r\nhoodie.table.timeline.timezone=LOCAL\r\nhoodie.table.keygenerator.class=org.apache.hudi.keygen.SimpleKeyGenerator\r\nhoodie.table.precombine.field=operationTime\r\nhoodie.table.version=4\r\nhoodie.database.name=\r\nhoodie.datasource.write.hive_style_partitioning=false\r\nhoodie.table.checksum=571342712\r\nhoodie.partition.metafile.use.base.format=false\r\nhoodie.archivelog.folder=archived\r\nhoodie.table.name=novusdoc_xml\r\nhoodie.compaction.payload.class=org.apache.hudi.common.model.OverwriteWithLatestAvroPayload\r\nhoodie.populate.meta.fields=true\r\nhoodie.table.type=MERGE_ON_READ\r\nhoodie.datasource.write.partitionpath.urlencode=false\r\nhoodie.table.base.file.format=PARQUET\r\nhoodie.datasource.write.drop.partition.columns=false\r\nhoodie.table.metadata.partitions=files\r\nhoodie.timeline.layout.version=1\r\nhoodie.table.recordkey.fields=guid\r\nhoodie.table.partition.fields=collectionName\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278874773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278875336","html_url":"https://github.com/apache/hudi/issues/6881#issuecomment-1278875336","issue_url":"https://api.github.com/repos/apache/hudi/issues/6881","id":1278875336,"node_id":"IC_kwDOBI7nWM5MOhbI","user":{"login":"koochiswathiTR","id":53506762,"node_id":"MDQ6VXNlcjUzNTA2NzYy","avatar_url":"https://avatars.githubusercontent.com/u/53506762?v=4","gravatar_id":"","url":"https://api.github.com/users/koochiswathiTR","html_url":"https://github.com/koochiswathiTR","followers_url":"https://api.github.com/users/koochiswathiTR/followers","following_url":"https://api.github.com/users/koochiswathiTR/following{/other_user}","gists_url":"https://api.github.com/users/koochiswathiTR/gists{/gist_id}","starred_url":"https://api.github.com/users/koochiswathiTR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/koochiswathiTR/subscriptions","organizations_url":"https://api.github.com/users/koochiswathiTR/orgs","repos_url":"https://api.github.com/users/koochiswathiTR/repos","events_url":"https://api.github.com/users/koochiswathiTR/events{/privacy}","received_events_url":"https://api.github.com/users/koochiswathiTR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T11:23:01Z","updated_at":"2022-10-14T11:23:01Z","author_association":"NONE","body":"@yihua @nsivabalan   @xushiyan","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278875336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278888908","html_url":"https://github.com/apache/hudi/issues/143#issuecomment-1278888908","issue_url":"https://api.github.com/repos/apache/hudi/issues/143","id":1278888908,"node_id":"IC_kwDOBI7nWM5MOkvM","user":{"login":"weimingdiit","id":23093701,"node_id":"MDQ6VXNlcjIzMDkzNzAx","avatar_url":"https://avatars.githubusercontent.com/u/23093701?v=4","gravatar_id":"","url":"https://api.github.com/users/weimingdiit","html_url":"https://github.com/weimingdiit","followers_url":"https://api.github.com/users/weimingdiit/followers","following_url":"https://api.github.com/users/weimingdiit/following{/other_user}","gists_url":"https://api.github.com/users/weimingdiit/gists{/gist_id}","starred_url":"https://api.github.com/users/weimingdiit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weimingdiit/subscriptions","organizations_url":"https://api.github.com/users/weimingdiit/orgs","repos_url":"https://api.github.com/users/weimingdiit/repos","events_url":"https://api.github.com/users/weimingdiit/events{/privacy}","received_events_url":"https://api.github.com/users/weimingdiit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T11:37:41Z","updated_at":"2022-10-14T11:37:41Z","author_association":"CONTRIBUTOR","body":"Please add me to the Slack group:  weeming1024@163.com","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278888908/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278908048","html_url":"https://github.com/apache/hudi/pull/6949#issuecomment-1278908048","issue_url":"https://api.github.com/repos/apache/hudi/issues/6949","id":1278908048,"node_id":"IC_kwDOBI7nWM5MOpaQ","user":{"login":"Zouxxyy","id":37108074,"node_id":"MDQ6VXNlcjM3MTA4MDc0","avatar_url":"https://avatars.githubusercontent.com/u/37108074?v=4","gravatar_id":"","url":"https://api.github.com/users/Zouxxyy","html_url":"https://github.com/Zouxxyy","followers_url":"https://api.github.com/users/Zouxxyy/followers","following_url":"https://api.github.com/users/Zouxxyy/following{/other_user}","gists_url":"https://api.github.com/users/Zouxxyy/gists{/gist_id}","starred_url":"https://api.github.com/users/Zouxxyy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zouxxyy/subscriptions","organizations_url":"https://api.github.com/users/Zouxxyy/orgs","repos_url":"https://api.github.com/users/Zouxxyy/repos","events_url":"https://api.github.com/users/Zouxxyy/events{/privacy}","received_events_url":"https://api.github.com/users/Zouxxyy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T11:56:09Z","updated_at":"2022-10-14T11:56:09Z","author_association":"CONTRIBUTOR","body":"> @Zouxxyy please enrich this UT so that we can know the behavior of different DML operations when enable `hoodie.merge.allow.duplicate.on.inserts`.\r\n\r\nSince we have chosen non-strict mode (insert), we may have duplicate primary key records, which can cause a lot of uncertainty when updating records, such as only updating records in one file, so I think we should avoid using the upsert operation under non-strict mode.\r\n\r\nTherefore, I only tested the insert and select operations for correctness","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278908048/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278917445","html_url":"https://github.com/apache/hudi/issues/6931#issuecomment-1278917445","issue_url":"https://api.github.com/repos/apache/hudi/issues/6931","id":1278917445,"node_id":"IC_kwDOBI7nWM5MOrtF","user":{"login":"Zouxxyy","id":37108074,"node_id":"MDQ6VXNlcjM3MTA4MDc0","avatar_url":"https://avatars.githubusercontent.com/u/37108074?v=4","gravatar_id":"","url":"https://api.github.com/users/Zouxxyy","html_url":"https://github.com/Zouxxyy","followers_url":"https://api.github.com/users/Zouxxyy/followers","following_url":"https://api.github.com/users/Zouxxyy/following{/other_user}","gists_url":"https://api.github.com/users/Zouxxyy/gists{/gist_id}","starred_url":"https://api.github.com/users/Zouxxyy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zouxxyy/subscriptions","organizations_url":"https://api.github.com/users/Zouxxyy/orgs","repos_url":"https://api.github.com/users/Zouxxyy/repos","events_url":"https://api.github.com/users/Zouxxyy/events{/privacy}","received_events_url":"https://api.github.com/users/Zouxxyy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T12:05:54Z","updated_at":"2022-10-14T12:06:21Z","author_association":"CONTRIBUTOR","body":"@levisLi  hi, have you used `hoodie.merge.allow.duplicate.on.inserts=true` for testing? I added a test case to verify it https://github.com/apache/hudi/pull/6949. Also, it is recommended to use `hoodie.sql.insert.mode` to configure insert mode when you are using spark-sql\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278917445/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278975591","html_url":"https://github.com/apache/hudi/issues/6621#issuecomment-1278975591","issue_url":"https://api.github.com/repos/apache/hudi/issues/6621","id":1278975591,"node_id":"IC_kwDOBI7nWM5MO55n","user":{"login":"Armelabdelkbir","id":41400108,"node_id":"MDQ6VXNlcjQxNDAwMTA4","avatar_url":"https://avatars.githubusercontent.com/u/41400108?v=4","gravatar_id":"","url":"https://api.github.com/users/Armelabdelkbir","html_url":"https://github.com/Armelabdelkbir","followers_url":"https://api.github.com/users/Armelabdelkbir/followers","following_url":"https://api.github.com/users/Armelabdelkbir/following{/other_user}","gists_url":"https://api.github.com/users/Armelabdelkbir/gists{/gist_id}","starred_url":"https://api.github.com/users/Armelabdelkbir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Armelabdelkbir/subscriptions","organizations_url":"https://api.github.com/users/Armelabdelkbir/orgs","repos_url":"https://api.github.com/users/Armelabdelkbir/repos","events_url":"https://api.github.com/users/Armelabdelkbir/events{/privacy}","received_events_url":"https://api.github.com/users/Armelabdelkbir/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T12:59:03Z","updated_at":"2022-10-14T13:16:32Z","author_association":"NONE","body":"Hello i also have this probleme when i try to read data with spark, same job  works fine sometimes and sometimes failed :\r\n\r\nSteps to reproduce :\r\n\r\n1.Use spark structured streaming to fetch data from kafka in realtime\r\n2.Use Spark to read data\r\ni have problem when i'm using spark submit, but i can't reproduce the issue with jupyter :( \r\nMy stack\r\n        Hudi version : 0.11.0\r\n        Spark version : 2.4.6 / 3.1.4 \r\n        Hive version : 1.2.1000\r\n        Storage (HDFS) : 2.7.3\r\n\r\n\r\n`58782 [dag-scheduler-event-loop] INFO  org.apache.spark.scheduler.DAGScheduler  - ShuffleMapStage 8 (parquet at Utilities.scala:27) failed in 8.241 s due to Job aborted due to stage failure: Task 1 in stage 8.0 failed 4 times, most recent failure: Lost task 1.3 in stage 8.0 (TID 35, cnode24.datalake.com, executor 36): org.apache.hudi.exception.HoodieException: Exception when reading log file \r\n\tat org.apache.hudi.common.table.log.AbstractHoodieLogRecordReader.scan(AbstractHoodieLogRecordReader.java:332)\r\n\tat org.apache.hudi.common.table.log.AbstractHoodieLogRecordReader.scan(AbstractHoodieLogRecordReader.java:178)\r\n\tat org.apache.hudi.common.table.log.HoodieMergedLogRecordScanner.performScan(HoodieMergedLogRecordScanner.java:103)\r\n\tat org.apache.hudi.common.table.log.HoodieMergedLogRecordScanner.<init>(HoodieMergedLogRecordScanner.java:96)\r\n\tat org.apache.hudi.common.table.log.HoodieMergedLogRecordScanner$Builder.build(HoodieMergedLogRecordScanner.java:291)\r\n\tat org.apache.hudi.HoodieMergeOnReadRDD$.scanLog(HoodieMergeOnReadRDD.scala:370)\r\n\tat org.apache.hudi.HoodieMergeOnReadRDD$$anon$3.<init>(HoodieMergeOnReadRDD.scala:240)\r\n\tat org.apache.hudi.HoodieMergeOnReadRDD.payloadCombineFileIterator(HoodieMergeOnReadRDD.scala:230)\r\n\tat org.apache.hudi.HoodieMergeOnReadRDD.compute(HoodieMergeOnReadRDD.scala:77)\r\n\tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:346)\r\n\tat org.apache.spark.rdd.RDD.iterator(RDD.scala:310)\r\n\tat org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n\tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:346)\r\n\tat org.apache.spark.rdd.RDD.iterator(RDD.scala:310)\r\n\tat org.apache.spark.rdd.UnionRDD.compute(UnionRDD.scala:105)\r\n\tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:346)\r\n\tat org.apache.spark.rdd.RDD.iterator(RDD.scala:310)\r\n\tat org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n\tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:346)\r\n\tat org.apache.spark.rdd.RDD.iterator(RDD.scala:310)\r\n\tat org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n\tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:346)\r\n\tat org.apache.spark.rdd.RDD.iterator(RDD.scala:310)\r\n\tat org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n\tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:346)\r\n\tat org.apache.spark.rdd.RDD.iterator(RDD.scala:310)\r\n\tat org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:99)\r\n\tat org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:55)\r\n\tat org.apache.spark.scheduler.Task.run(Task.scala:123)\r\n\tat org.apache.spark.executor.Executor$TaskRunner$$anonfun$10.apply(Executor.scala:408)\r\n\tat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1360)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:414)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: com.esotericsoftware.kryo.KryoException: Unable to find class: [Lorg.apache.hudi.common.model.DeleteRecord;\r\n\tat com.esotericsoftware.kryo.util.DefaultClassResolver.readName(DefaultClassResolver.java:160)\r\n\tat com.esotericsoftware.kryo.util.DefaultClassResolver.readClass(DefaultClassResolver.java:133)\r\n\tat com.esotericsoftware.kryo.Kryo.readClass(Kryo.java:693)\r\n\tat com.esotericsoftware.kryo.Kryo.readClassAndObject(Kryo.java:804)\r\n\tat org.apache.hudi.common.util.SerializationUtils$KryoSerializerInstance.deserialize(SerializationUtils.java:104)\r\n\tat org.apache.hudi.common.util.SerializationUtils.deserialize(SerializationUtils.java:78)\r\n\tat org.apache.hudi.common.table.log.block.HoodieDeleteBlock.getKeysToDelete(HoodieDeleteBlock.java:89)\r\n\tat org.apache.hudi.common.table.log.AbstractHoodieLogRecordReader.processQueuedBlocksForInstant(AbstractHoodieLogRecordReader.java:430)\r\n\tat org.apache.hudi.common.table.log.AbstractHoodieLogRecordReader.scan(AbstractHoodieLogRecordReader.java:323)\r\n\t... 34 more`","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278975591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278983864","html_url":"https://github.com/apache/hudi/issues/6881#issuecomment-1278983864","issue_url":"https://api.github.com/repos/apache/hudi/issues/6881","id":1278983864,"node_id":"IC_kwDOBI7nWM5MO764","user":{"login":"koochiswathiTR","id":53506762,"node_id":"MDQ6VXNlcjUzNTA2NzYy","avatar_url":"https://avatars.githubusercontent.com/u/53506762?v=4","gravatar_id":"","url":"https://api.github.com/users/koochiswathiTR","html_url":"https://github.com/koochiswathiTR","followers_url":"https://api.github.com/users/koochiswathiTR/followers","following_url":"https://api.github.com/users/koochiswathiTR/following{/other_user}","gists_url":"https://api.github.com/users/koochiswathiTR/gists{/gist_id}","starred_url":"https://api.github.com/users/koochiswathiTR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/koochiswathiTR/subscriptions","organizations_url":"https://api.github.com/users/koochiswathiTR/orgs","repos_url":"https://api.github.com/users/koochiswathiTR/repos","events_url":"https://api.github.com/users/koochiswathiTR/events{/privacy}","received_events_url":"https://api.github.com/users/koochiswathiTR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T13:04:28Z","updated_at":"2022-10-14T13:04:28Z","author_association":"NONE","body":"Compaction runs for every hour and with delta commits 5\r\nIf we run compaction for every 15 mints and delta commits to 2 will it increase performance?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278983864/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278988847","html_url":"https://github.com/apache/hudi/issues/6881#issuecomment-1278988847","issue_url":"https://api.github.com/repos/apache/hudi/issues/6881","id":1278988847,"node_id":"IC_kwDOBI7nWM5MO9Iv","user":{"login":"koochiswathiTR","id":53506762,"node_id":"MDQ6VXNlcjUzNTA2NzYy","avatar_url":"https://avatars.githubusercontent.com/u/53506762?v=4","gravatar_id":"","url":"https://api.github.com/users/koochiswathiTR","html_url":"https://github.com/koochiswathiTR","followers_url":"https://api.github.com/users/koochiswathiTR/followers","following_url":"https://api.github.com/users/koochiswathiTR/following{/other_user}","gists_url":"https://api.github.com/users/koochiswathiTR/gists{/gist_id}","starred_url":"https://api.github.com/users/koochiswathiTR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/koochiswathiTR/subscriptions","organizations_url":"https://api.github.com/users/koochiswathiTR/orgs","repos_url":"https://api.github.com/users/koochiswathiTR/repos","events_url":"https://api.github.com/users/koochiswathiTR/events{/privacy}","received_events_url":"https://api.github.com/users/koochiswathiTR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T13:09:11Z","updated_at":"2022-10-14T13:09:11Z","author_association":"NONE","body":"if we change to SIMPLE index will it increase performance?\r\nhttps://lightrun.com/answers/apache-hudi-processing-time-very-slow-updating-records-into-hudi-datasetmor-using-aws-glue\r\n@yihua @nsivabalan @xushiyan","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1278988847/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1279029022","html_url":"https://github.com/apache/hudi/issues/6900#issuecomment-1279029022","issue_url":"https://api.github.com/repos/apache/hudi/issues/6900","id":1279029022,"node_id":"IC_kwDOBI7nWM5MPG8e","user":{"login":"yhyyz","id":48501245,"node_id":"MDQ6VXNlcjQ4NTAxMjQ1","avatar_url":"https://avatars.githubusercontent.com/u/48501245?v=4","gravatar_id":"","url":"https://api.github.com/users/yhyyz","html_url":"https://github.com/yhyyz","followers_url":"https://api.github.com/users/yhyyz/followers","following_url":"https://api.github.com/users/yhyyz/following{/other_user}","gists_url":"https://api.github.com/users/yhyyz/gists{/gist_id}","starred_url":"https://api.github.com/users/yhyyz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yhyyz/subscriptions","organizations_url":"https://api.github.com/users/yhyyz/orgs","repos_url":"https://api.github.com/users/yhyyz/repos","events_url":"https://api.github.com/users/yhyyz/events{/privacy}","received_events_url":"https://api.github.com/users/yhyyz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T13:43:19Z","updated_at":"2022-10-14T14:42:43Z","author_association":"NONE","body":"@yihua \r\n1. tested set config hoodie.write.markers.type=DIRECT hoodie.embed.timeline.server=false hoodie.clean.automatic=false, no markers issue. but new issue `org.apache.hudi.exception.HoodieIOException: Could not read commit details from s3://app-util/hudi-bloom/emrfs-disalbe-cache-direct-101/cdc_test_db/dhdata_02/.hoodie/20221014024801458.deltacommit.requested ` occured. The application log  link:  https://dxs9dnjebzm6y.cloudfront.net/tmp/application-log.txt\r\n\r\n2. I use offline compaction and clean by independent job, set `hoodie.compact.inline=false and  hoodie.clean.automatic=false` in streaming job. Do I have to  use lock provider?\r\n\r\n3. the new issue did not cause the application to terminate, application has been running for 10 hours. but some table can not write data, which has rollback request. I delete the rollback files, data can be written to the table, but the table rollback again.\r\n```\r\n2022-10-14 03:59:17       1574 hudi-bloom/emrfs-disalbe-cache-direct-101/cdc_test_db/dhdata_13/.hoodie/20221014035914613.rollback\r\n2022-10-14 03:59:16          0 hudi-bloom/emrfs-disalbe-cache-direct-101/cdc_test_db/dhdata_13/.hoodie/20221014035914613.rollback.inflight\r\n2022-10-14 03:59:16       1680 hudi-bloom/emrfs-disalbe-cache-direct-101/cdc_test_db/dhdata_13/.hoodie/20221014035914613.rollback.requested\r\n2022-10-14 04:18:17       1682 hudi-bloom/emrfs-disalbe-cache-direct-101/cdc_test_db/dhdata_13/.hoodie/20221014041814868.rollback.requested\r\n2022-10-14 03:29:28       1725 hudi-bloom/emrfs-disalbe-cache-direct-101/cdc_test_db/dhdata_14/.hoodie/20221014032923642.rollback\r\n2022-10-14 03:29:25          0 hudi-bloom/emrfs-disalbe-cache-direct-101/cdc_test_db/dhdata_14/.hoodie/20221014032923642.rollback.inflight\r\n2022-10-14 03:29:25       1678 hudi-bloom/emrfs-disalbe-cache-direct-101/cdc_test_db/dhdata_14/.hoodie/20221014032923642.rollback.requested\r\n```\r\n4. i read a requested file use `aws s3 cp s3://xxxx/xxxxx/xxxx.rollabck.requested -` , the file content:\r\n```\r\nObjavro.schemaï¿½{\"type\":\"record\",\"name\":\"HoodieRollbackPlan\",\"namespace\":\"org.apache.hudi.avro.model\",\"fields\":[{\"name\":\"instantToRollback\",\"type\":[\"null\",{\"type\":\"record\",\"name\":\"HoodieInstantInfo\",\"fields\":[{\"name\":\"commitTime\",\"type\":{\"type\":\"string\",\"avro.java.string\":\"String\"}},{\"name\":\"action\",\"type\":{\"type\":\"string\",\"avro.java.string\":\"String\"}}]}],\"doc\":\"Hoodie instant that needs to be rolled back\",\"default\":null},{\"name\":\"RollbackRequests\",\"type\":[\"null\",{\"type\":\"array\",\"items\":{\"type\":\"record\",\"name\":\"HoodieRollbackRequest\",\"fields\":[{\"name\":\"partitionPath\",\"type\":{\"type\":\"string\",\"avro.java.string\":\"String\"}},{\"name\":\"fileId\",\"type\":[\"null\",{\"type\":\"string\",\"avro.java.string\":\"String\"}],\"default\":null},{\"name\":\"latestBaseInstant\",\"type\":[\"null\",{\"type\":\"string\",\"avro.java.string\":\"String\"}],\"default\":null},{\"name\":\"filesToBeDeleted\",\"type\":{\"type\":\"array\",\"items\":{\"type\":\"string\",\"avro.java.string\":\"String\"},\"default\":[]},\"default\":[]},{\"name\":\"logBlocksToBeDeleted\",\"type\":[\"null\",{\"type\":\"map\",\"values\":\"long\",\"avro.java.string\":\"String\"}],\"default\":null}]}}],\"default\":null},{\"name\":\"version\",\"type\":[\"int\",\"null\"],\"default\":1}]}ï¿½+Yï¿½H\r\n                                                                                                                                                  ï¿½ï¿½1ï¿½F\"20221014032915679deltacommitï¿½+Yï¿½H\r\n                                                                                                                                                                                         ï¿½ï¿½1ï¿½\r\n```\r\n\r\n5.  Failed to archive commits, because deltacommit.inflight file not found. Why it happensï¼Ÿ\r\n```\r\nERROR HoodieTimelineArchiver: Failed to archive commits, .commit file: 20221014120201577.deltacommit.inflight\r\norg.apache.hudi.exception.HoodieIOException: Could not read commit details from s3://app-util/hudi-bloom/emrfs-disalbe-cache-direct-101/cdc_test_db/dhdata_01/.hoodie/20221014120201577.deltacommit.inflight\r\n\tat org.apache.hudi.common.table.timeline.HoodieActiveTimeline.readDataFromPath(HoodieActiveTimeline.java:761)\r\n\tat org.apache.hudi.common.table.timeline.HoodieActiveTimeline.getInstantDetails(HoodieActiveTimeline.java:266)\r\n\tat org.apache.hudi.common.table.timeline.HoodieDefaultTimeline.isEmpty(HoodieDefaultTimeline.java:377)\r\n\tat org.apache.hudi.client.HoodieTimelineArchiver.archive(HoodieTimelineArchiver.java:593)\r\n\tat org.apache.hudi.client.HoodieTimelineArchiver.archiveIfRequired(HoodieTimelineArchiver.java:169)\r\n\tat org.apache.hudi.client.BaseHoodieWriteClient.archive(BaseHoodieWriteClient.java:907)\r\n\tat org.apache.hudi.client.BaseHoodieWriteClient.autoArchiveOnCommit(BaseHoodieWriteClient.java:629)\r\n\tat org.apache.hudi.client.BaseHoodieWriteClient.postCommit(BaseHoodieWriteClient.java:534)\r\n\tat org.apache.hudi.client.BaseHoodieWriteClient.commitStats(BaseHoodieWriteClient.java:236)\r\n\tat org.apache.hudi.client.SparkRDDWriteClient.commit(SparkRDDWriteClient.java:122)\r\n\tat org.apache.hudi.HoodieSparkSqlWriter$.commitAndPerformPostOperations(HoodieSparkSqlWriter.scala:678)\r\n\tat org.apache.hudi.HoodieSparkSqlWriter$.write(HoodieSparkSqlWriter.scala:313)\r\n\tat org.apache.hudi.DefaultSource.createRelation(DefaultSource.scala:165)\r\n\tat org.apache.spark.sql.execution.datasources.SaveIntoDataSourceCommand.run(SaveIntoDataSourceCommand.scala:45)\r\n\tat org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult$lzycompute(commands.scala:75)\r\n\tat org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult(commands.scala:73)\r\n\tat org.apache.spark.sql.execution.command.ExecutedCommandExec.executeCollect(commands.scala:84)\r\n\tat org.apache.spark.sql.execution.QueryExecution$$anonfun$eagerlyExecuteCommands$1.$anonfun$applyOrElse$1(QueryExecution.scala:115)\r\n\tat org.apache.spark.sql.catalyst.QueryPlanningTracker$.withTracker(QueryPlanningTracker.scala:107)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withTracker(SQLExecution.scala:232)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.executeQuery$1(SQLExecution.scala:110)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$6(SQLExecution.scala:135)\r\n\tat org.apache.spark.sql.catalyst.QueryPlanningTracker$.withTracker(QueryPlanningTracker.scala:107)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withTracker(SQLExecution.scala:232)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:135)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:253)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:134)\r\n\tat org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:68)\r\n\tat org.apache.spark.sql.execution.QueryExecution$$anonfun$eagerlyExecuteCommands$1.applyOrElse(QueryExecution.scala:112)\r\n\tat org.apache.spark.sql.execution.QueryExecution$$anonfun$eagerlyExecuteCommands$1.applyOrElse(QueryExecution.scala:108)\r\n\tat org.apache.spark.sql.catalyst.trees.TreeNode.$anonfun$transformDownWithPruning$1(TreeNode.scala:519)\r\n\tat org.apache.spark.sql.catalyst.trees.CurrentOrigin$.withOrigin(TreeNode.scala:83)\r\n\tat org.apache.spark.sql.catalyst.trees.TreeNode.transformDownWithPruning(TreeNode.scala:519)\r\n\tat org.apache.spark.sql.catalyst.plans.logical.LogicalPlan.org$apache$spark$sql$catalyst$plans$logical$AnalysisHelper$$super$transformDownWithPruning(LogicalPlan.scala:30)\r\n\tat org.apache.spark.sql.catalyst.plans.logical.AnalysisHelper.transformDownWithPruning(AnalysisHelper.scala:267)\r\n\tat org.apache.spark.sql.catalyst.plans.logical.AnalysisHelper.transformDownWithPruning$(AnalysisHelper.scala:263)\r\n\tat org.apache.spark.sql.catalyst.plans.logical.LogicalPlan.transformDownWithPruning(LogicalPlan.scala:30)\r\n\tat org.apache.spark.sql.catalyst.plans.logical.LogicalPlan.transformDownWithPruning(LogicalPlan.scala:30)\r\n\tat org.apache.spark.sql.catalyst.trees.TreeNode.transformDown(TreeNode.scala:495)\r\n\tat org.apache.spark.sql.execution.QueryExecution.eagerlyExecuteCommands(QueryExecution.scala:108)\r\n\tat org.apache.spark.sql.execution.QueryExecution.commandExecuted$lzycompute(QueryExecution.scala:95)\r\n\tat org.apache.spark.sql.execution.QueryExecution.commandExecuted(QueryExecution.scala:93)\r\n\tat org.apache.spark.sql.execution.QueryExecution.assertCommandExecuted(QueryExecution.scala:136)\r\n\tat org.apache.spark.sql.DataFrameWriter.runCommand(DataFrameWriter.scala:848)\r\n\tat org.apache.spark.sql.DataFrameWriter.saveToV1Source(DataFrameWriter.scala:382)\r\n\tat org.apache.spark.sql.DataFrameWriter.saveInternal(DataFrameWriter.scala:355)\r\n\tat org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:239)\r\n\tat com.aws.analytics.util.HudiWriteTask$.$anonfun$run$1(HudiWriteTask.scala:25)\r\n\tat scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\r\n\tat scala.concurrent.Future$.$anonfun$apply$1(Future.scala:659)\r\n\tat scala.util.Success.$anonfun$map$1(Try.scala:255)\r\n\tat scala.util.Success.map(Try.scala:213)\r\n\tat scala.concurrent.Future.$anonfun$map$1(Future.scala:292)\r\n\tat scala.concurrent.impl.Promise.liftedTree1$1(Promise.scala:33)\r\n\tat scala.concurrent.impl.Promise.$anonfun$transform$1(Promise.scala:33)\r\n\tat scala.concurrent.impl.CallbackRunnable.run(Promise.scala:64)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\nCaused by: java.io.FileNotFoundException: No such file or directory 's3://app-util/hudi-bloom/emrfs-disalbe-cache-direct-101/cdc_test_db/dhdata_01/.hoodie/20221014120201577.deltacommit.inflight'\r\n\tat com.amazon.ws.emr.hadoop.fs.s3n.S3NativeFileSystem.getFileStatus(S3NativeFileSystem.java:521)\r\n\tat com.amazon.ws.emr.hadoop.fs.s3n.S3NativeFileSystem.open(S3NativeFileSystem.java:932)\r\n\tat com.amazon.ws.emr.hadoop.fs.s3n.S3NativeFileSystem.open(S3NativeFileSystem.java:924)\r\n\tat org.apache.hadoop.fs.FileSystem.open(FileSystem.java:906)\r\n\tat com.amazon.ws.emr.hadoop.fs.EmrFileSystem.open(EmrFileSystem.java:194)\r\n\tat org.apache.hudi.common.fs.HoodieWrapperFileSystem.open(HoodieWrapperFileSystem.java:460)\r\n\tat org.apache.hudi.common.table.timeline.HoodieActiveTimeline.readDataFromPath(HoodieActiveTimeline.java:758)\r\n\t... 59 more\r\n22/10/14 12:20:45 INFO MultipartUploadOutputStream: close closed:false s3://app-util/hudi-bloom/emrfs-disalbe-cache-direct-101/cdc_test_db/dhdata_01/.hoodie/archived/.commits_.archive.148_1-0-1\r\n22/10/14 12:20:46 INFO MultipartUploadOutputStream: close closed:false s3://app-util/hudi-bloom/emrfs-disalbe-cache-direct-101/cdc_test_db/dhdata_01/.hoodie/archived/.commits_.archive.148_1-0-1\r\n22/10/14 12:20:46 INFO S3N\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1279029022/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1279079402","html_url":"https://github.com/apache/hudi/issues/3834#issuecomment-1279079402","issue_url":"https://api.github.com/repos/apache/hudi/issues/3834","id":1279079402,"node_id":"IC_kwDOBI7nWM5MPTPq","user":{"login":"Limess","id":3199181,"node_id":"MDQ6VXNlcjMxOTkxODE=","avatar_url":"https://avatars.githubusercontent.com/u/3199181?v=4","gravatar_id":"","url":"https://api.github.com/users/Limess","html_url":"https://github.com/Limess","followers_url":"https://api.github.com/users/Limess/followers","following_url":"https://api.github.com/users/Limess/following{/other_user}","gists_url":"https://api.github.com/users/Limess/gists{/gist_id}","starred_url":"https://api.github.com/users/Limess/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Limess/subscriptions","organizations_url":"https://api.github.com/users/Limess/orgs","repos_url":"https://api.github.com/users/Limess/repos","events_url":"https://api.github.com/users/Limess/events{/privacy}","received_events_url":"https://api.github.com/users/Limess/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T14:22:14Z","updated_at":"2022-10-14T14:22:18Z","author_association":"NONE","body":"This seems to have been (_finally_) fixed in Athena engine v3 - I can no longer reproduce with my test dataset.\r\n\r\nhttps://docs.aws.amazon.com/athena/latest/ug/engine-versions-reference-0003.html","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1279079402/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1279098063","html_url":"https://github.com/apache/hudi/issues/6942#issuecomment-1279098063","issue_url":"https://api.github.com/repos/apache/hudi/issues/6942","id":1279098063,"node_id":"IC_kwDOBI7nWM5MPXzP","user":{"login":"idrismike","id":12491651,"node_id":"MDQ6VXNlcjEyNDkxNjUx","avatar_url":"https://avatars.githubusercontent.com/u/12491651?v=4","gravatar_id":"","url":"https://api.github.com/users/idrismike","html_url":"https://github.com/idrismike","followers_url":"https://api.github.com/users/idrismike/followers","following_url":"https://api.github.com/users/idrismike/following{/other_user}","gists_url":"https://api.github.com/users/idrismike/gists{/gist_id}","starred_url":"https://api.github.com/users/idrismike/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/idrismike/subscriptions","organizations_url":"https://api.github.com/users/idrismike/orgs","repos_url":"https://api.github.com/users/idrismike/repos","events_url":"https://api.github.com/users/idrismike/events{/privacy}","received_events_url":"https://api.github.com/users/idrismike/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T14:37:41Z","updated_at":"2022-10-14T14:37:41Z","author_association":"NONE","body":"As mentioned above, writing to `azure abfss` with `hoodie.metadata.enable=false` works. But then, async indexing Fails using `HoodieIndexer` \r\n![image](https://user-images.githubusercontent.com/12491651/195871992-4df00d23-7c60-4088-88d4-f8dbe4c64869.png)\r\n\r\nSince both `hoodie.metadata.enable=true` and `HoodieIndexer` generate metadata - the problem seems similar. Therefore, cannot really upgrade until and unless these issues are resolved.\r\n\r\n**PS**: currently, the `HoodieIndexer` takes two parameters `--base-path` and `--table-name`. I would imagine `basepath` to be the directory that contains the `table` - but the indexer only works if `base-path` also contains the table name  . e.g.\r\nImagine storage container to be on the path `abfss://abc@a234.dfs.core.windows.net/some/path/to/storage/container` and \r\n a table there `test_table`. \r\nThen, the `base-path` should be `abfss://abc@a234.dfs.core.windows.net/some/path/to/storage/container` and the `table-name` should be `test_table`. \r\nBut what my experience with `HoodieIndexer` is that, the `base-path` must be `abfss://abc@a234.dfs.core.windows.net/some/path/to/storage/container/test_table` and the `tabel-name` to be `test_table`. \r\nThat works but seems bit weird.\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1279098063/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1279322054","html_url":"https://github.com/apache/hudi/pull/6934#issuecomment-1279322054","issue_url":"https://api.github.com/repos/apache/hudi/issues/6934","id":1279322054,"node_id":"IC_kwDOBI7nWM5MQOfG","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T18:19:03Z","updated_at":"2022-10-14T18:19:03Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"dc9fe7b043c4c5e49dc86ed585f033af87737e7e\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12167\",\n    \"triggerID\" : \"dc9fe7b043c4c5e49dc86ed585f033af87737e7e\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"3baabf3c95bf2091b919e8fee5f98f9199e132c8\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12214\",\n    \"triggerID\" : \"3baabf3c95bf2091b919e8fee5f98f9199e132c8\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 3baabf3c95bf2091b919e8fee5f98f9199e132c8 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12214) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1279322054/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1279368382","html_url":"https://github.com/apache/hudi/issues/6137#issuecomment-1279368382","issue_url":"https://api.github.com/repos/apache/hudi/issues/6137","id":1279368382,"node_id":"IC_kwDOBI7nWM5MQZy-","user":{"login":"zhouhaijia","id":1395433,"node_id":"MDQ6VXNlcjEzOTU0MzM=","avatar_url":"https://avatars.githubusercontent.com/u/1395433?v=4","gravatar_id":"","url":"https://api.github.com/users/zhouhaijia","html_url":"https://github.com/zhouhaijia","followers_url":"https://api.github.com/users/zhouhaijia/followers","following_url":"https://api.github.com/users/zhouhaijia/following{/other_user}","gists_url":"https://api.github.com/users/zhouhaijia/gists{/gist_id}","starred_url":"https://api.github.com/users/zhouhaijia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhouhaijia/subscriptions","organizations_url":"https://api.github.com/users/zhouhaijia/orgs","repos_url":"https://api.github.com/users/zhouhaijia/repos","events_url":"https://api.github.com/users/zhouhaijia/events{/privacy}","received_events_url":"https://api.github.com/users/zhouhaijia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T19:15:11Z","updated_at":"2022-10-14T19:15:11Z","author_association":"NONE","body":"Any updates on this? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1279368382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1279404563","html_url":"https://github.com/apache/hudi/issues/6819#issuecomment-1279404563","issue_url":"https://api.github.com/repos/apache/hudi/issues/6819","id":1279404563,"node_id":"IC_kwDOBI7nWM5MQioT","user":{"login":"mikeashley87","id":4524335,"node_id":"MDQ6VXNlcjQ1MjQzMzU=","avatar_url":"https://avatars.githubusercontent.com/u/4524335?v=4","gravatar_id":"","url":"https://api.github.com/users/mikeashley87","html_url":"https://github.com/mikeashley87","followers_url":"https://api.github.com/users/mikeashley87/followers","following_url":"https://api.github.com/users/mikeashley87/following{/other_user}","gists_url":"https://api.github.com/users/mikeashley87/gists{/gist_id}","starred_url":"https://api.github.com/users/mikeashley87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikeashley87/subscriptions","organizations_url":"https://api.github.com/users/mikeashley87/orgs","repos_url":"https://api.github.com/users/mikeashley87/repos","events_url":"https://api.github.com/users/mikeashley87/events{/privacy}","received_events_url":"https://api.github.com/users/mikeashley87/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T19:59:20Z","updated_at":"2022-10-14T19:59:20Z","author_association":"NONE","body":"@codope  bumping this back up","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1279404563/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1279417563","html_url":"https://github.com/apache/hudi/issues/6558#issuecomment-1279417563","issue_url":"https://api.github.com/repos/apache/hudi/issues/6558","id":1279417563,"node_id":"IC_kwDOBI7nWM5MQlzb","user":{"login":"alexeykudinkin","id":428277,"node_id":"MDQ6VXNlcjQyODI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/428277?v=4","gravatar_id":"","url":"https://api.github.com/users/alexeykudinkin","html_url":"https://github.com/alexeykudinkin","followers_url":"https://api.github.com/users/alexeykudinkin/followers","following_url":"https://api.github.com/users/alexeykudinkin/following{/other_user}","gists_url":"https://api.github.com/users/alexeykudinkin/gists{/gist_id}","starred_url":"https://api.github.com/users/alexeykudinkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexeykudinkin/subscriptions","organizations_url":"https://api.github.com/users/alexeykudinkin/orgs","repos_url":"https://api.github.com/users/alexeykudinkin/repos","events_url":"https://api.github.com/users/alexeykudinkin/events{/privacy}","received_events_url":"https://api.github.com/users/alexeykudinkin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T20:14:29Z","updated_at":"2022-10-14T20:14:29Z","author_association":"CONTRIBUTOR","body":"@parisni the problem is that Hudi internally still relies on Avro to represent schemas currently being handled. \r\n\r\nAvro is unfortunately case-sensitive (unlike Spark which is configurable)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1279417563/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1279422439","html_url":"https://github.com/apache/hudi/issues/6558#issuecomment-1279422439","issue_url":"https://api.github.com/repos/apache/hudi/issues/6558","id":1279422439,"node_id":"IC_kwDOBI7nWM5MQm_n","user":{"login":"alexeykudinkin","id":428277,"node_id":"MDQ6VXNlcjQyODI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/428277?v=4","gravatar_id":"","url":"https://api.github.com/users/alexeykudinkin","html_url":"https://github.com/alexeykudinkin","followers_url":"https://api.github.com/users/alexeykudinkin/followers","following_url":"https://api.github.com/users/alexeykudinkin/following{/other_user}","gists_url":"https://api.github.com/users/alexeykudinkin/gists{/gist_id}","starred_url":"https://api.github.com/users/alexeykudinkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexeykudinkin/subscriptions","organizations_url":"https://api.github.com/users/alexeykudinkin/orgs","repos_url":"https://api.github.com/users/alexeykudinkin/repos","events_url":"https://api.github.com/users/alexeykudinkin/events{/privacy}","received_events_url":"https://api.github.com/users/alexeykudinkin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T20:20:09Z","updated_at":"2022-10-14T20:20:09Z","author_association":"CONTRIBUTOR","body":"@luky777 issue you are observing is different: in your case it's the issue of automatic schema evolution. You can follow HUDI-4588 for updates.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1279422439/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1279479228","html_url":"https://github.com/apache/hudi/issues/6942#issuecomment-1279479228","issue_url":"https://api.github.com/repos/apache/hudi/issues/6942","id":1279479228,"node_id":"IC_kwDOBI7nWM5MQ028","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T21:19:36Z","updated_at":"2022-10-14T21:20:20Z","author_association":"CONTRIBUTOR","body":"> We know that we can create the metadata indexes using HoodieIndexer asynchronously (Not sure if that is the same metadata).\r\n\r\nHoodieIndexer builds the metadata async to the same metadata table.\r\n\r\n> Can we generate indexes using HoodieIndexer for tables written using hudi 0.9.0? We tried doing that but get the following issue - hence clarifying that as well.\r\n\r\nYes, you can.  It's recommended to upgrade the Hudi table written from 0.9.0 first with metadata table disabled in this case (with Spark datasource, Deltastreamer, etc.), and then you can use HoodieIndexer to build the metadata/index again.\r\n\r\nI'll try to reproduce your problems on my side to see what's going on.  I agree that the base path and the table name should not be coupled.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1279479228/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1279502077","html_url":"https://github.com/apache/hudi/issues/6881#issuecomment-1279502077","issue_url":"https://api.github.com/repos/apache/hudi/issues/6881","id":1279502077,"node_id":"IC_kwDOBI7nWM5MQ6b9","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T21:47:48Z","updated_at":"2022-10-14T21:47:48Z","author_association":"CONTRIBUTOR","body":"In Hudi 0.11.1, SIMPLE index is the default.\r\n\r\nTo clarify, are you saying that the 15 min vs 1.5 min difference is due to turning on and off the metadata table?  If that's the case, changing compaction frequency should not matter here.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1279502077/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1279631137","html_url":"https://github.com/apache/hudi/pull/6951#issuecomment-1279631137","issue_url":"https://api.github.com/repos/apache/hudi/issues/6951","id":1279631137,"node_id":"IC_kwDOBI7nWM5MRZ8h","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-15T02:01:19Z","updated_at":"2022-10-15T02:01:19Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"2e06a8b0eb947f59e09f69a40c7886cdf6c74f9e\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12216\",\n    \"triggerID\" : \"2e06a8b0eb947f59e09f69a40c7886cdf6c74f9e\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 2e06a8b0eb947f59e09f69a40c7886cdf6c74f9e Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12216) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1279631137/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1279643715","html_url":"https://github.com/apache/hudi/pull/6950#issuecomment-1279643715","issue_url":"https://api.github.com/repos/apache/hudi/issues/6950","id":1279643715,"node_id":"IC_kwDOBI7nWM5MRdBD","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-15T03:09:44Z","updated_at":"2022-10-15T03:09:44Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1279643715/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1279645408","html_url":"https://github.com/apache/hudi/issues/6931#issuecomment-1279645408","issue_url":"https://api.github.com/repos/apache/hudi/issues/6931","id":1279645408,"node_id":"IC_kwDOBI7nWM5MRdbg","user":{"login":"levisLi","id":60864266,"node_id":"MDQ6VXNlcjYwODY0MjY2","avatar_url":"https://avatars.githubusercontent.com/u/60864266?v=4","gravatar_id":"","url":"https://api.github.com/users/levisLi","html_url":"https://github.com/levisLi","followers_url":"https://api.github.com/users/levisLi/followers","following_url":"https://api.github.com/users/levisLi/following{/other_user}","gists_url":"https://api.github.com/users/levisLi/gists{/gist_id}","starred_url":"https://api.github.com/users/levisLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/levisLi/subscriptions","organizations_url":"https://api.github.com/users/levisLi/orgs","repos_url":"https://api.github.com/users/levisLi/repos","events_url":"https://api.github.com/users/levisLi/events{/privacy}","received_events_url":"https://api.github.com/users/levisLi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-15T03:21:43Z","updated_at":"2022-10-15T03:21:43Z","author_association":"NONE","body":"@Zouxxyy I set `hoodie.datasource.write.operation='insert' ` and `hoodie.merge.allow.duplicate.on.inserts=true` properites in hudi table, when i use spark-sql insert into record to hudi table ,this can show duplicate record,but when i use flink-sql insert into record to hudi table ,only show no  duplicate record.\r\n\r\nspark-sql>\r\n`create table if not exists hudi.hudi_merge_test(\r\n     uuid string\r\n    ,name string\r\n    ,age int\r\n    ,ts timestamp\r\n    ,dt string\r\n) using hudi\r\ntblproperties  (\r\n    type = 'mor'\r\n    ,primaryKey = 'uuid'\r\n    ,hoodie.datasource.write.operation='insert'\r\n    ,hoodie.cleaner.fileversions.retained = '1'\r\n    ,hoodie.merge.allow.duplicate.on.inserts='true'\r\n    ,hive_sync.skip_ro_suffix = 'true' -- åŽ»é™¤roåŽç¼€\r\n    ,write.parquet.max.file.size='120'  --æ–‡ä»¶æœ€å¤§å¤§å°M\r\n    ,hoodie.datasource.write.hive_style_partitioning='true'\r\n    ,hoodie.archive.merge.enable='true' --è‡ªåŠ¨å°æ–‡ä»¶åˆå¹¶\r\n    ,hoodie.cleaner.commits.retained='1' --æäº¤ç‰ˆæœ¬ä¿ç•™ä¸ªæ•°\r\n)\r\n    partitioned by (dt)\r\n    location 'hdfs://namespace-HA-3/hudi/hudi_merge_test';`\r\n\r\nflink-sql>\r\n`CREATE TABLE IF NOT EXISTS hudi_merge_test(\r\n    uuid VARCHAR(20),\r\n    name VARCHAR(10),\r\n    age INT,\r\n    ts TIMESTAMP(3),\r\n    dt VARCHAR(20)\r\n)\r\nPARTITIONED BY (dt)\r\nWITH (\r\n    'connector' ='hudi',\r\n    'table.type' = 'MERGE_ON_READ',\r\n    'write.operation'='insert',\r\n    'hoodie.datasource.write.recordkey.field' = 'uuid',\r\n    'write.precombine.field' = 'ts',\r\n    'path' = 'hdfs://namespace-HA-3/hudi/hudi_merge_test',\r\n    'write.tasks' = '4',\r\n    'compaction.tasks' = '4',\r\n    'hoodie.archive.merge.enable'='true', --è‡ªåŠ¨å°æ–‡ä»¶åˆå¹¶\r\n    'hoodie.cleaner.commits.retained'='1', --æäº¤ç‰ˆæœ¬ä¿ç•™ä¸ªæ•°\r\n    'hoodie.datasource.write.hive_style_partitioning'='true',   --è®¾ç½®hiveçš„åˆ†åŒºæ ¼å¼\r\n    'hoodie.embed.timeline.server'='false',\r\n    'hoodie.parquet.small.file.limit'='0',\r\n    'hoodie.merge.allow.duplicate.on.inserts'='true',\r\n    'hive_sync.enable' = 'true',     -- Requiredã€‚å¼€å¯ Hive åŒæ­¥åŠŸèƒ½\r\n    'hive_sync.mode' = 'hms',         -- Requiredã€‚å°† hive sync mode è®¾ç½®ä¸º hms, é»˜è®¤ jdbc\r\n    'hive_sync.metastore.uris' = 'thrift://dev2:9083',  -- Requiredã€‚metastore çš„ç«¯å£\r\n    'hive_sync.jdbc_url' = 'jdbc:hive2://dev2:10000',\r\n    'hive_sync.skip_ro_suffix' = 'true', -- åŽ»é™¤roåŽç¼€\r\n    'hive_sync.table'='hudi_compacte',                          -- requiredã€‚hive æ–°å»ºçš„è¡¨å\r\n    'hive_sync.db'='hudi',                         -- requiredã€‚hive æ–°å»ºçš„æ•°æ®åº“å\r\n    'hive_sync.username' = 'hive',\r\n    'hive_sync.password' = '123456'\r\n)`","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1279645408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1279691815","html_url":"https://github.com/apache/hudi/issues/6558#issuecomment-1279691815","issue_url":"https://api.github.com/repos/apache/hudi/issues/6558","id":1279691815,"node_id":"IC_kwDOBI7nWM5MRown","user":{"login":"parisni","id":9535350,"node_id":"MDQ6VXNlcjk1MzUzNTA=","avatar_url":"https://avatars.githubusercontent.com/u/9535350?v=4","gravatar_id":"","url":"https://api.github.com/users/parisni","html_url":"https://github.com/parisni","followers_url":"https://api.github.com/users/parisni/followers","following_url":"https://api.github.com/users/parisni/following{/other_user}","gists_url":"https://api.github.com/users/parisni/gists{/gist_id}","starred_url":"https://api.github.com/users/parisni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/parisni/subscriptions","organizations_url":"https://api.github.com/users/parisni/orgs","repos_url":"https://api.github.com/users/parisni/repos","events_url":"https://api.github.com/users/parisni/events{/privacy}","received_events_url":"https://api.github.com/users/parisni/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-15T08:10:35Z","updated_at":"2022-10-15T08:10:35Z","author_association":"CONTRIBUTOR","body":"Thanks @alexeykudinkin this clarifies. can you confirm the avro schemas are coming from the last commit in the timeline ? \r\n\r\nAlso the reason our field changed case over time has been identified. The hive metastore is case insensitive, so when you populate it with upper case, it returns lower case. However when spark reads for the first time a metastore table, it infers the schema from the parquet files and feeds the metastore with properties which are case sensitive. Afterwards, spark reads those properties within the metastore. When properties and hive information diverge (in case of schema evolution) then spark fallback to only read the hive information and leave the properties. This leads to suddenly have lower case columns. Which ultimately breaks hudi has we got in this issue.\r\n\r\nEventuallly, we had to recreate the table from scratch. Now we avoid to feed the properties by making spark read-only access to the metastore.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1279691815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1279699768","html_url":"https://github.com/apache/hudi/pull/3391#issuecomment-1279699768","issue_url":"https://api.github.com/repos/apache/hudi/issues/3391","id":1279699768,"node_id":"IC_kwDOBI7nWM5MRqs4","user":{"login":"cdmikechen","id":12069428,"node_id":"MDQ6VXNlcjEyMDY5NDI4","avatar_url":"https://avatars.githubusercontent.com/u/12069428?v=4","gravatar_id":"","url":"https://api.github.com/users/cdmikechen","html_url":"https://github.com/cdmikechen","followers_url":"https://api.github.com/users/cdmikechen/followers","following_url":"https://api.github.com/users/cdmikechen/following{/other_user}","gists_url":"https://api.github.com/users/cdmikechen/gists{/gist_id}","starred_url":"https://api.github.com/users/cdmikechen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdmikechen/subscriptions","organizations_url":"https://api.github.com/users/cdmikechen/orgs","repos_url":"https://api.github.com/users/cdmikechen/repos","events_url":"https://api.github.com/users/cdmikechen/events{/privacy}","received_events_url":"https://api.github.com/users/cdmikechen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-15T09:00:39Z","updated_at":"2022-10-15T09:00:39Z","author_association":"CONTRIBUTOR","body":"> @cdmikechen thanks for your effort, first of all, i agree with your modification, so i give approve for this pr.\r\n> \r\n> our product env is hive3, we solve this problem by modfiy HoodieRealtimeRecordReaderUtils.avroToArrayWritable\r\n> \r\n> ```\r\n>       case LONG:\r\n>         if (supportTimestamp\r\n>             && schema.getLogicalType() != null\r\n>             && schema.getLogicalType().getName().equals(\"timestamp-micros\")) {\r\n>           // TODO: Here we use hive interface to transform long to timestamp with local timezone.\r\n>           // Notice that hive support UTC and local timezone, but here we only support local\r\n>           // timezone.\r\n>           Timestamp timestamp = ParquetTimestampUtils.getTimestamp((Long) value, LogicalTypeAnnotation.TimeUnit.MICROS, true);\r\n>           return new TimestampWritableV2(timestamp);\r\n>         }\r\n>         return new LongWritable((Long) value);\r\n> ```\r\n\r\nYes~ If we want to be compatible with both hive2 and hive3 and the previous version with type long, we have to do some independent compatibility work.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1279699768/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1279798025","html_url":"https://github.com/apache/hudi/pull/6636#issuecomment-1279798025","issue_url":"https://api.github.com/repos/apache/hudi/issues/6636","id":1279798025,"node_id":"IC_kwDOBI7nWM5MSCsJ","user":{"login":"wqwl611","id":67826098,"node_id":"MDQ6VXNlcjY3ODI2MDk4","avatar_url":"https://avatars.githubusercontent.com/u/67826098?v=4","gravatar_id":"","url":"https://api.github.com/users/wqwl611","html_url":"https://github.com/wqwl611","followers_url":"https://api.github.com/users/wqwl611/followers","following_url":"https://api.github.com/users/wqwl611/following{/other_user}","gists_url":"https://api.github.com/users/wqwl611/gists{/gist_id}","starred_url":"https://api.github.com/users/wqwl611/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wqwl611/subscriptions","organizations_url":"https://api.github.com/users/wqwl611/orgs","repos_url":"https://api.github.com/users/wqwl611/repos","events_url":"https://api.github.com/users/wqwl611/events{/privacy}","received_events_url":"https://api.github.com/users/wqwl611/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-15T18:10:59Z","updated_at":"2022-10-15T18:10:59Z","author_association":"CONTRIBUTOR","body":"> @wqwl611 thanks for the work but looks like this PR is identical to #6858 . should we continue using this one given we have reviews here already and close #6858 ?\r\n\r\nI deleted my fork by mistake before, and now I have made changes in the new branch ï¼ˆHUDI-4824ï¼‰ in my new fork, so I  created a new prï¼ˆ6858ï¼‰, and I don't confirm the  current pr if is availableï¼Ÿ\r\n@xushiyan ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1279798025/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1279829461","html_url":"https://github.com/apache/hudi/pull/6941#issuecomment-1279829461","issue_url":"https://api.github.com/repos/apache/hudi/issues/6941","id":1279829461,"node_id":"IC_kwDOBI7nWM5MSKXV","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-15T20:47:23Z","updated_at":"2022-10-15T20:47:32Z","author_association":"CONTRIBUTOR","body":"@vvsd Please follow the [process](https://hudi.apache.org/contribute/developer-setup#contributing-code) by filing a Hudi Jira ticket and filling up the Hudi PR description template.  I've updated the PR for you this time.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1279829461/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1279832831","html_url":"https://github.com/apache/hudi/pull/6858#issuecomment-1279832831","issue_url":"https://api.github.com/repos/apache/hudi/issues/6858","id":1279832831,"node_id":"IC_kwDOBI7nWM5MSLL_","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-15T21:10:14Z","updated_at":"2022-10-15T21:10:14Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"76d14eb325d62a026248cc5c30de0d415e0c92a2\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11975\",\n    \"triggerID\" : \"76d14eb325d62a026248cc5c30de0d415e0c92a2\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"61462e2a87cb320bd3c8b20c6ac6fe17de2501bd\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12223\",\n    \"triggerID\" : \"61462e2a87cb320bd3c8b20c6ac6fe17de2501bd\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 61462e2a87cb320bd3c8b20c6ac6fe17de2501bd Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12223) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1279832831/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1279833774","html_url":"https://github.com/apache/hudi/issues/6367#issuecomment-1279833774","issue_url":"https://api.github.com/repos/apache/hudi/issues/6367","id":1279833774,"node_id":"IC_kwDOBI7nWM5MSLau","user":{"login":"Limess","id":3199181,"node_id":"MDQ6VXNlcjMxOTkxODE=","avatar_url":"https://avatars.githubusercontent.com/u/3199181?v=4","gravatar_id":"","url":"https://api.github.com/users/Limess","html_url":"https://github.com/Limess","followers_url":"https://api.github.com/users/Limess/followers","following_url":"https://api.github.com/users/Limess/following{/other_user}","gists_url":"https://api.github.com/users/Limess/gists{/gist_id}","starred_url":"https://api.github.com/users/Limess/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Limess/subscriptions","organizations_url":"https://api.github.com/users/Limess/orgs","repos_url":"https://api.github.com/users/Limess/repos","events_url":"https://api.github.com/users/Limess/events{/privacy}","received_events_url":"https://api.github.com/users/Limess/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-15T21:16:07Z","updated_at":"2022-10-15T21:24:19Z","author_association":"NONE","body":"I finally got round to re-enabling the metadata table for this table - using Hudi 0.11.1 on EMR 6.8.0 now, and the same issue occurs:\r\n\r\n\r\n![Screenshot 2022-10-15 at 22-17-47 delta-streamer-articles_hudi_copy_on_write - Spark Jobs](https://user-images.githubusercontent.com/3199181/196007917-2f3c4a8f-894d-4d6c-978c-06ac697ad7bf.png)\r\n\r\n![Screenshot 2022-10-15 at 22-20-19 delta-streamer-articles_hudi_copy_on_write - Details for Stage 103 (Attempt 0)](https://user-images.githubusercontent.com/3199181/196007993-4c8b4e87-a747-4d2a-b34d-695be3b8945a.png)\r\n\r\nHere's the debug logs on an executor with those failed jobs (gzipped)\r\n\r\n[stderr.gz](https://github.com/apache/hudi/files/9793132/stderr.gz)\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1279833774/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1279853122","html_url":"https://github.com/apache/hudi/pull/6944#issuecomment-1279853122","issue_url":"https://api.github.com/repos/apache/hudi/issues/6944","id":1279853122,"node_id":"IC_kwDOBI7nWM5MSQJC","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-15T23:44:31Z","updated_at":"2022-10-15T23:44:31Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"89251704e564fe2d7a77aa1b7e200f178c4c542a\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12208\",\n    \"triggerID\" : \"89251704e564fe2d7a77aa1b7e200f178c4c542a\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"6e04f0b268ad31f984f2c18228e49361136defae\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12225\",\n    \"triggerID\" : \"6e04f0b268ad31f984f2c18228e49361136defae\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 6e04f0b268ad31f984f2c18228e49361136defae Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12225) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1279853122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1279862730","html_url":"https://github.com/apache/hudi/pull/6876#issuecomment-1279862730","issue_url":"https://api.github.com/repos/apache/hudi/issues/6876","id":1279862730,"node_id":"IC_kwDOBI7nWM5MSSfK","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-16T00:59:17Z","updated_at":"2022-10-16T00:59:17Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"ce53778fb5d8fd173a6c27d75cbb4bef49ed1595\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12207\",\n    \"triggerID\" : \"ce53778fb5d8fd173a6c27d75cbb4bef49ed1595\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"2b6c3f79251bed06a34f4ab3b6a24c5df55c2cb1\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12226\",\n    \"triggerID\" : \"2b6c3f79251bed06a34f4ab3b6a24c5df55c2cb1\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 2b6c3f79251bed06a34f4ab3b6a24c5df55c2cb1 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12226) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1279862730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1279922847","html_url":"https://github.com/apache/hudi/pull/6958#issuecomment-1279922847","issue_url":"https://api.github.com/repos/apache/hudi/issues/6958","id":1279922847,"node_id":"IC_kwDOBI7nWM5MShKf","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-16T08:42:26Z","updated_at":"2022-10-16T08:42:26Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"fc3c0eeb9749ef04259a707c9d00f714aa88939a\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12233\",\n    \"triggerID\" : \"fc3c0eeb9749ef04259a707c9d00f714aa88939a\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* fc3c0eeb9749ef04259a707c9d00f714aa88939a Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12233) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1279922847/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]