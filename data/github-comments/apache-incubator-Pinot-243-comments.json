[{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2226493418","html_url":"https://github.com/apache/pinot/pull/13485#issuecomment-2226493418","issue_url":"https://api.github.com/repos/apache/pinot/issues/13485","id":2226493418,"node_id":"IC_kwDOATCU_c6EtZfq","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-12T23:00:15Z","updated_at":"2024-07-12T23:00:15Z","author_association":"CONTRIBUTOR","body":"We cannot upgrade protobuf because `io.confluent:kafka-protobuf-serializer` latest version `7.6.1` only works with protobuf 3","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2226493418/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2226548612","html_url":"https://github.com/apache/pinot/pull/13596#issuecomment-2226548612","issue_url":"https://api.github.com/repos/apache/pinot/issues/13596","id":2226548612,"node_id":"IC_kwDOATCU_c6Etm-E","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-12T23:59:51Z","updated_at":"2024-07-13T06:09:40Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/13596?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\nAll modified and coverable lines are covered by tests :white_check_mark:\n> Project coverage is 61.98%. Comparing base [(`59551e4`)](https://app.codecov.io/gh/apache/pinot/commit/59551e45224f1535c4863fd577622b37366ccc97?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) to head [(`3ae0859`)](https://app.codecov.io/gh/apache/pinot/commit/3ae08591c5cca402656beb6f0cdc1962144ed9b0?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n> Report is 750 commits behind head on master.\n\n<details><summary>Additional details and impacted files</summary>\n\n\n```diff\n@@             Coverage Diff              @@\n##             master   #13596      +/-   ##\n============================================\n+ Coverage     61.75%   61.98%   +0.23%     \n+ Complexity      207      198       -9     \n============================================\n  Files          2436     2554     +118     \n  Lines        133233   140498    +7265     \n  Branches      20636    21808    +1172     \n============================================\n+ Hits          82274    87094    +4820     \n- Misses        44911    46807    +1896     \n- Partials       6048     6597     +549     \n```\n\n| [Flag](https://app.codecov.io/gh/apache/pinot/pull/13596/flags?src=pr&el=flags&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [custom-integration1](https://app.codecov.io/gh/apache/pinot/pull/13596/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <ø> (-0.01%)` | :arrow_down: |\n| [integration](https://app.codecov.io/gh/apache/pinot/pull/13596/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <ø> (-0.01%)` | :arrow_down: |\n| [integration1](https://app.codecov.io/gh/apache/pinot/pull/13596/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <ø> (-0.01%)` | :arrow_down: |\n| [integration2](https://app.codecov.io/gh/apache/pinot/pull/13596/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `0.00% <ø> (ø)` | |\n| [java-11](https://app.codecov.io/gh/apache/pinot/pull/13596/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.93% <ø> (+0.23%)` | :arrow_up: |\n| [java-21](https://app.codecov.io/gh/apache/pinot/pull/13596/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.88% <ø> (+0.25%)` | :arrow_up: |\n| [skip-bytebuffers-false](https://app.codecov.io/gh/apache/pinot/pull/13596/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.97% <ø> (+0.23%)` | :arrow_up: |\n| [skip-bytebuffers-true](https://app.codecov.io/gh/apache/pinot/pull/13596/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.83% <ø> (+34.10%)` | :arrow_up: |\n| [temurin](https://app.codecov.io/gh/apache/pinot/pull/13596/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.98% <ø> (+0.23%)` | :arrow_up: |\n| [unittests](https://app.codecov.io/gh/apache/pinot/pull/13596/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.98% <ø> (+0.23%)` | :arrow_up: |\n| [unittests1](https://app.codecov.io/gh/apache/pinot/pull/13596/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `46.50% <ø> (-0.39%)` | :arrow_down: |\n| [unittests2](https://app.codecov.io/gh/apache/pinot/pull/13596/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `27.72% <ø> (-0.02%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n</details>\n\n[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/apache/pinot/pull/13596?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).   \n:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2226548612/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2226667081","html_url":"https://github.com/apache/pinot/pull/13597#issuecomment-2226667081","issue_url":"https://api.github.com/repos/apache/pinot/issues/13597","id":2226667081,"node_id":"IC_kwDOATCU_c6EuD5J","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-13T01:21:27Z","updated_at":"2024-07-17T03:08:40Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/13597?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\nAttention: Patch coverage is `9.68343%` with `485 lines` in your changes missing coverage. Please review.\n> Project coverage is 61.79%. Comparing base [(`59551e4`)](https://app.codecov.io/gh/apache/pinot/commit/59551e45224f1535c4863fd577622b37366ccc97?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) to head [(`9420fbe`)](https://app.codecov.io/gh/apache/pinot/commit/9420fbe3ef51abd82e0adb507e1c9760573899b4?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n> Report is 772 commits behind head on master.\n\n| [Files](https://app.codecov.io/gh/apache/pinot/pull/13597?dropdown=coverage&src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Patch % | Lines |\n|---|---|---|\n| [...apache/pinot/controller/api/upload/ZKOperator.java](https://app.codecov.io/gh/apache/pinot/pull/13597?src=pr&el=tree&filepath=pinot-controller%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fcontroller%2Fapi%2Fupload%2FZKOperator.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvdXBsb2FkL1pLT3BlcmF0b3IuamF2YQ==) | 0.00% | [172 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13597?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...ces/PinotSegmentUploadDownloadRestletResource.java](https://app.codecov.io/gh/apache/pinot/pull/13597?src=pr&el=tree&filepath=pinot-controller%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fcontroller%2Fapi%2Fresources%2FPinotSegmentUploadDownloadRestletResource.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL1Bpbm90U2VnbWVudFVwbG9hZERvd25sb2FkUmVzdGxldFJlc291cmNlLmphdmE=) | 11.42% | [123 Missing and 1 partial :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13597?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [.../tasks/BaseMultipleSegmentsConversionExecutor.java](https://app.codecov.io/gh/apache/pinot/pull/13597?src=pr&el=tree&filepath=pinot-plugins%2Fpinot-minion-tasks%2Fpinot-minion-builtin-tasks%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fplugin%2Fminion%2Ftasks%2FBaseMultipleSegmentsConversionExecutor.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcGx1Z2lucy9waW5vdC1taW5pb24tdGFza3MvcGlub3QtbWluaW9uLWJ1aWx0aW4tdGFza3Mvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3BsdWdpbi9taW5pb24vdGFza3MvQmFzZU11bHRpcGxlU2VnbWVudHNDb252ZXJzaW9uRXhlY3V0b3IuamF2YQ==) | 0.00% | [92 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13597?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...he/pinot/segment/local/utils/SegmentPushUtils.java](https://app.codecov.io/gh/apache/pinot/pull/13597?src=pr&el=tree&filepath=pinot-segment-local%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fsegment%2Flocal%2Futils%2FSegmentPushUtils.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC91dGlscy9TZWdtZW50UHVzaFV0aWxzLmphdmE=) | 0.00% | [50 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13597?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...t/controller/api/upload/SegmentUploadMetadata.java](https://app.codecov.io/gh/apache/pinot/pull/13597?src=pr&el=tree&filepath=pinot-controller%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fcontroller%2Fapi%2Fupload%2FSegmentUploadMetadata.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvdXBsb2FkL1NlZ21lbnRVcGxvYWRNZXRhZGF0YS5qYXZh) | 0.00% | [30 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13597?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...ntroller/helix/core/PinotHelixResourceManager.java](https://app.codecov.io/gh/apache/pinot/pull/13597?src=pr&el=tree&filepath=pinot-controller%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fcontroller%2Fhelix%2Fcore%2FPinotHelixResourceManager.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL1Bpbm90SGVsaXhSZXNvdXJjZU1hbmFnZXIuamF2YQ==) | 71.42% | [10 Missing and 4 partials :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13597?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...he/pinot/spi/ingestion/batch/spec/PushJobSpec.java](https://app.codecov.io/gh/apache/pinot/pull/13597?src=pr&el=tree&filepath=pinot-spi%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fspi%2Fingestion%2Fbatch%2Fspec%2FPushJobSpec.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvaW5nZXN0aW9uL2JhdGNoL3NwZWMvUHVzaEpvYlNwZWMuamF2YQ==) | 0.00% | [3 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13597?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n\n<details><summary>Additional details and impacted files</summary>\n\n\n```diff\n@@             Coverage Diff              @@\n##             master   #13597      +/-   ##\n============================================\n+ Coverage     61.75%   61.79%   +0.04%     \n+ Complexity      207      198       -9     \n============================================\n  Files          2436     2556     +120     \n  Lines        133233   141165    +7932     \n  Branches      20636    21944    +1308     \n============================================\n+ Hits          82274    87237    +4963     \n- Misses        44911    47292    +2381     \n- Partials       6048     6636     +588     \n```\n\n| [Flag](https://app.codecov.io/gh/apache/pinot/pull/13597/flags?src=pr&el=flags&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [custom-integration1](https://app.codecov.io/gh/apache/pinot/pull/13597/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration](https://app.codecov.io/gh/apache/pinot/pull/13597/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration1](https://app.codecov.io/gh/apache/pinot/pull/13597/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration2](https://app.codecov.io/gh/apache/pinot/pull/13597/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `0.00% <0.00%> (ø)` | |\n| [java-11](https://app.codecov.io/gh/apache/pinot/pull/13597/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `35.03% <0.18%> (-26.68%)` | :arrow_down: |\n| [java-21](https://app.codecov.io/gh/apache/pinot/pull/13597/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.68% <9.68%> (+0.06%)` | :arrow_up: |\n| [skip-bytebuffers-false](https://app.codecov.io/gh/apache/pinot/pull/13597/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.76% <9.68%> (+0.01%)` | :arrow_up: |\n| [skip-bytebuffers-true](https://app.codecov.io/gh/apache/pinot/pull/13597/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.66% <9.68%> (+33.94%)` | :arrow_up: |\n| [temurin](https://app.codecov.io/gh/apache/pinot/pull/13597/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.79% <9.68%> (+0.04%)` | :arrow_up: |\n| [unittests](https://app.codecov.io/gh/apache/pinot/pull/13597/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.79% <9.68%> (+0.04%)` | :arrow_up: |\n| [unittests1](https://app.codecov.io/gh/apache/pinot/pull/13597/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `46.48% <1.85%> (-0.41%)` | :arrow_down: |\n| [unittests2](https://app.codecov.io/gh/apache/pinot/pull/13597/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `27.62% <9.49%> (-0.11%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n</details>\n\n[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/apache/pinot/pull/13597?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).   \n:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2226667081/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2227207391","html_url":"https://github.com/apache/pinot/pull/13181#issuecomment-2227207391","issue_url":"https://api.github.com/repos/apache/pinot/issues/13181","id":2227207391,"node_id":"IC_kwDOATCU_c6EwHzf","user":{"login":"deepthi912","id":45308220,"node_id":"MDQ6VXNlcjQ1MzA4MjIw","avatar_url":"https://avatars.githubusercontent.com/u/45308220?v=4","gravatar_id":"","url":"https://api.github.com/users/deepthi912","html_url":"https://github.com/deepthi912","followers_url":"https://api.github.com/users/deepthi912/followers","following_url":"https://api.github.com/users/deepthi912/following{/other_user}","gists_url":"https://api.github.com/users/deepthi912/gists{/gist_id}","starred_url":"https://api.github.com/users/deepthi912/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepthi912/subscriptions","organizations_url":"https://api.github.com/users/deepthi912/orgs","repos_url":"https://api.github.com/users/deepthi912/repos","events_url":"https://api.github.com/users/deepthi912/events{/privacy}","received_events_url":"https://api.github.com/users/deepthi912/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-14T06:03:40Z","updated_at":"2024-07-14T06:06:16Z","author_association":"COLLABORATOR","body":"@npawar  https://github.com/apache/pinot/pull/13103 covered the scenarios. So, we can close the PR and ticket looks closed now.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2227207391/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2227686821","html_url":"https://github.com/apache/pinot/pull/13597#issuecomment-2227686821","issue_url":"https://api.github.com/repos/apache/pinot/issues/13597","id":2227686821,"node_id":"IC_kwDOATCU_c6Ex82l","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-15T04:37:05Z","updated_at":"2024-07-15T04:37:05Z","author_association":"MEMBER","body":"What was the previous api to upload a single segment?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2227686821/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2228199119","html_url":"https://github.com/apache/pinot/pull/13598#issuecomment-2228199119","issue_url":"https://api.github.com/repos/apache/pinot/issues/13598","id":2228199119,"node_id":"IC_kwDOATCU_c6Ez57P","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-15T10:40:54Z","updated_at":"2024-09-03T07:44:57Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/13598?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\nAttention: Patch coverage is `63.63636%` with `20 lines` in your changes missing coverage. Please review.\n> Project coverage is 57.81%. Comparing base [(`59551e4`)](https://app.codecov.io/gh/apache/pinot/commit/59551e45224f1535c4863fd577622b37366ccc97?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) to head [(`a1fb062`)](https://app.codecov.io/gh/apache/pinot/commit/a1fb0620ceec9ecd6ef0693cbe72af0486737954?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n> Report is 974 commits behind head on master.\n\n| [Files with missing lines](https://app.codecov.io/gh/apache/pinot/pull/13598?dropdown=coverage&src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Patch % | Lines |\n|---|---|---|\n| [.../main/java/org/apache/pinot/spi/trace/Tracing.java](https://app.codecov.io/gh/apache/pinot/pull/13598?src=pr&el=tree&filepath=pinot-spi%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fspi%2Ftrace%2FTracing.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdHJhY2UvVHJhY2luZy5qYXZh) | 0.00% | [8 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13598?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...e/pinot/spi/accounting/ThreadExecutionContext.java](https://app.codecov.io/gh/apache/pinot/pull/13598?src=pr&el=tree&filepath=pinot-spi%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fspi%2Faccounting%2FThreadExecutionContext.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvYWNjb3VudGluZy9UaHJlYWRFeGVjdXRpb25Db250ZXh0LmphdmE=) | 0.00% | [4 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13598?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...accounting/CPUMemThreadLevelAccountingObjects.java](https://app.codecov.io/gh/apache/pinot/pull/13598?src=pr&el=tree&filepath=pinot-core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fcore%2Faccounting%2FCPUMemThreadLevelAccountingObjects.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9hY2NvdW50aW5nL0NQVU1lbVRocmVhZExldmVsQWNjb3VudGluZ09iamVjdHMuamF2YQ==) | 50.00% | [3 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13598?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...requesthandler/MultiStageBrokerRequestHandler.java](https://app.codecov.io/gh/apache/pinot/pull/13598?src=pr&el=tree&filepath=pinot-broker%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fbroker%2Frequesthandler%2FMultiStageBrokerRequestHandler.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcmVxdWVzdGhhbmRsZXIvTXVsdGlTdGFnZUJyb2tlclJlcXVlc3RIYW5kbGVyLmphdmE=) | 0.00% | [2 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13598?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...not/query/runtime/operator/MultiStageOperator.java](https://app.codecov.io/gh/apache/pinot/pull/13598?src=pr&el=tree&filepath=pinot-query-runtime%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fquery%2Fruntime%2Foperator%2FMultiStageOperator.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9vcGVyYXRvci9NdWx0aVN0YWdlT3BlcmF0b3IuamF2YQ==) | 50.00% | [1 Missing and 1 partial :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13598?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...re/accounting/PerQueryCPUMemAccountantFactory.java](https://app.codecov.io/gh/apache/pinot/pull/13598?src=pr&el=tree&filepath=pinot-core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fcore%2Faccounting%2FPerQueryCPUMemAccountantFactory.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9hY2NvdW50aW5nL1BlclF1ZXJ5Q1BVTWVtQWNjb3VudGFudEZhY3RvcnkuamF2YQ==) | 50.00% | [1 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13598?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n\n<details><summary>Additional details and impacted files</summary>\n\n\n```diff\n@@             Coverage Diff              @@\n##             master   #13598      +/-   ##\n============================================\n- Coverage     61.75%   57.81%   -3.95%     \n+ Complexity      207      197      -10     \n============================================\n  Files          2436     2587     +151     \n  Lines        133233   142508    +9275     \n  Branches      20636    21888    +1252     \n============================================\n+ Hits          82274    82386     +112     \n- Misses        44911    53667    +8756     \n- Partials       6048     6455     +407     \n```\n\n| [Flag](https://app.codecov.io/gh/apache/pinot/pull/13598/flags?src=pr&el=flags&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [custom-integration1](https://app.codecov.io/gh/apache/pinot/pull/13598/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration](https://app.codecov.io/gh/apache/pinot/pull/13598/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration1](https://app.codecov.io/gh/apache/pinot/pull/13598/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration2](https://app.codecov.io/gh/apache/pinot/pull/13598/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `0.00% <0.00%> (ø)` | |\n| [java-11](https://app.codecov.io/gh/apache/pinot/pull/13598/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `57.77% <63.63%> (-3.94%)` | :arrow_down: |\n| [java-21](https://app.codecov.io/gh/apache/pinot/pull/13598/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `57.70% <63.63%> (-3.93%)` | :arrow_down: |\n| [skip-bytebuffers-false](https://app.codecov.io/gh/apache/pinot/pull/13598/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `57.80% <63.63%> (-3.94%)` | :arrow_down: |\n| [skip-bytebuffers-true](https://app.codecov.io/gh/apache/pinot/pull/13598/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `57.66% <63.63%> (+29.93%)` | :arrow_up: |\n| [temurin](https://app.codecov.io/gh/apache/pinot/pull/13598/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `57.81% <63.63%> (-3.95%)` | :arrow_down: |\n| [unittests](https://app.codecov.io/gh/apache/pinot/pull/13598/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `57.80% <63.63%> (-3.95%)` | :arrow_down: |\n| [unittests1](https://app.codecov.io/gh/apache/pinot/pull/13598/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `40.52% <66.03%> (-6.37%)` | :arrow_down: |\n| [unittests2](https://app.codecov.io/gh/apache/pinot/pull/13598/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `27.92% <0.00%> (+0.19%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n</details>\n\n[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/apache/pinot/pull/13598?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).   \n:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2228199119/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2228612936","html_url":"https://github.com/apache/pinot/pull/13597#issuecomment-2228612936","issue_url":"https://api.github.com/repos/apache/pinot/issues/13597","id":2228612936,"node_id":"IC_kwDOATCU_c6E1e9I","user":{"login":"rajagopr","id":11494855,"node_id":"MDQ6VXNlcjExNDk0ODU1","avatar_url":"https://avatars.githubusercontent.com/u/11494855?v=4","gravatar_id":"","url":"https://api.github.com/users/rajagopr","html_url":"https://github.com/rajagopr","followers_url":"https://api.github.com/users/rajagopr/followers","following_url":"https://api.github.com/users/rajagopr/following{/other_user}","gists_url":"https://api.github.com/users/rajagopr/gists{/gist_id}","starred_url":"https://api.github.com/users/rajagopr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rajagopr/subscriptions","organizations_url":"https://api.github.com/users/rajagopr/orgs","repos_url":"https://api.github.com/users/rajagopr/repos","events_url":"https://api.github.com/users/rajagopr/events{/privacy}","received_events_url":"https://api.github.com/users/rajagopr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-15T14:15:53Z","updated_at":"2024-07-15T14:15:53Z","author_association":"CONTRIBUTOR","body":"> What was the previous api to upload a single segment?\r\n\r\n@kishoreg : Previous apis are `/segments` and `/v2/segments` – both of them would upload a single segment.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2228612936/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2228682197","html_url":"https://github.com/apache/pinot/pull/13591#issuecomment-2228682197","issue_url":"https://api.github.com/repos/apache/pinot/issues/13591","id":2228682197,"node_id":"IC_kwDOATCU_c6E1v3V","user":{"login":"gortiz","id":1913993,"node_id":"MDQ6VXNlcjE5MTM5OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1913993?v=4","gravatar_id":"","url":"https://api.github.com/users/gortiz","html_url":"https://github.com/gortiz","followers_url":"https://api.github.com/users/gortiz/followers","following_url":"https://api.github.com/users/gortiz/following{/other_user}","gists_url":"https://api.github.com/users/gortiz/gists{/gist_id}","starred_url":"https://api.github.com/users/gortiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gortiz/subscriptions","organizations_url":"https://api.github.com/users/gortiz/orgs","repos_url":"https://api.github.com/users/gortiz/repos","events_url":"https://api.github.com/users/gortiz/events{/privacy}","received_events_url":"https://api.github.com/users/gortiz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-15T14:46:40Z","updated_at":"2024-07-15T14:46:40Z","author_association":"CONTRIBUTOR","body":"> Ensure all multi-stage operators follow the following contract:\r\n\r\nI'm ok having this contract. Can we document it as a requirement in MultiStageOperator? Maybe in MultiStageOperator.nextBlock?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2228682197/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2228701890","html_url":"https://github.com/apache/pinot/pull/13591#issuecomment-2228701890","issue_url":"https://api.github.com/repos/apache/pinot/issues/13591","id":2228701890,"node_id":"IC_kwDOATCU_c6E10rC","user":{"login":"gortiz","id":1913993,"node_id":"MDQ6VXNlcjE5MTM5OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1913993?v=4","gravatar_id":"","url":"https://api.github.com/users/gortiz","html_url":"https://github.com/gortiz","followers_url":"https://api.github.com/users/gortiz/followers","following_url":"https://api.github.com/users/gortiz/following{/other_user}","gists_url":"https://api.github.com/users/gortiz/gists{/gist_id}","starred_url":"https://api.github.com/users/gortiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gortiz/subscriptions","organizations_url":"https://api.github.com/users/gortiz/orgs","repos_url":"https://api.github.com/users/gortiz/repos","events_url":"https://api.github.com/users/gortiz/events{/privacy}","received_events_url":"https://api.github.com/users/gortiz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-15T14:55:30Z","updated_at":"2024-07-15T14:55:30Z","author_association":"CONTRIBUTOR","body":"Should we modify Row and Column data block constructors to fail if an empty list is provided?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2228701890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2228727509","html_url":"https://github.com/apache/pinot/pull/13605#issuecomment-2228727509","issue_url":"https://api.github.com/repos/apache/pinot/issues/13605","id":2228727509,"node_id":"IC_kwDOATCU_c6E167V","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-15T15:06:45Z","updated_at":"2024-07-15T21:15:52Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/13605?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\nAttention: Patch coverage is `60.00000%` with `4 lines` in your changes missing coverage. Please review.\n> Project coverage is 61.98%. Comparing base [(`59551e4`)](https://app.codecov.io/gh/apache/pinot/commit/59551e45224f1535c4863fd577622b37366ccc97?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) to head [(`8356f88`)](https://app.codecov.io/gh/apache/pinot/commit/8356f880a47ad94b3cb31f8246c1705d48900663?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n> Report is 758 commits behind head on master.\n\n| [Files](https://app.codecov.io/gh/apache/pinot/pull/13605?dropdown=coverage&src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Patch % | Lines |\n|---|---|---|\n| [...calcite/rel/rules/PinotFilterExpandSearchRule.java](https://app.codecov.io/gh/apache/pinot/pull/13605?src=pr&el=tree&filepath=pinot-query-planner%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fcalcite%2Frel%2Frules%2FPinotFilterExpandSearchRule.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2FsY2l0ZS9yZWwvcnVsZXMvUGlub3RGaWx0ZXJFeHBhbmRTZWFyY2hSdWxlLmphdmE=) | 55.55% | [1 Missing and 3 partials :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13605?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n\n<details><summary>Additional details and impacted files</summary>\n\n\n```diff\n@@             Coverage Diff              @@\n##             master   #13605      +/-   ##\n============================================\n+ Coverage     61.75%   61.98%   +0.23%     \n+ Complexity      207      198       -9     \n============================================\n  Files          2436     2555     +119     \n  Lines        133233   140625    +7392     \n  Branches      20636    21822    +1186     \n============================================\n+ Hits          82274    87167    +4893     \n- Misses        44911    46848    +1937     \n- Partials       6048     6610     +562     \n```\n\n| [Flag](https://app.codecov.io/gh/apache/pinot/pull/13605/flags?src=pr&el=flags&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [custom-integration1](https://app.codecov.io/gh/apache/pinot/pull/13605/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration](https://app.codecov.io/gh/apache/pinot/pull/13605/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration1](https://app.codecov.io/gh/apache/pinot/pull/13605/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration2](https://app.codecov.io/gh/apache/pinot/pull/13605/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `0.00% <0.00%> (ø)` | |\n| [java-11](https://app.codecov.io/gh/apache/pinot/pull/13605/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.91% <60.00%> (+0.20%)` | :arrow_up: |\n| [java-21](https://app.codecov.io/gh/apache/pinot/pull/13605/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.84% <60.00%> (+0.21%)` | :arrow_up: |\n| [skip-bytebuffers-false](https://app.codecov.io/gh/apache/pinot/pull/13605/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.93% <60.00%> (+0.18%)` | :arrow_up: |\n| [skip-bytebuffers-true](https://app.codecov.io/gh/apache/pinot/pull/13605/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.82% <60.00%> (+34.09%)` | :arrow_up: |\n| [temurin](https://app.codecov.io/gh/apache/pinot/pull/13605/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.98% <60.00%> (+0.23%)` | :arrow_up: |\n| [unittests](https://app.codecov.io/gh/apache/pinot/pull/13605/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.98% <60.00%> (+0.23%)` | :arrow_up: |\n| [unittests1](https://app.codecov.io/gh/apache/pinot/pull/13605/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `46.46% <60.00%> (-0.43%)` | :arrow_down: |\n| [unittests2](https://app.codecov.io/gh/apache/pinot/pull/13605/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `27.73% <0.00%> (+<0.01%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n</details>\n\n[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/apache/pinot/pull/13605?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).   \n:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2228727509/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2229061285","html_url":"https://github.com/apache/pinot/pull/13607#issuecomment-2229061285","issue_url":"https://api.github.com/repos/apache/pinot/issues/13607","id":2229061285,"node_id":"IC_kwDOATCU_c6E3Mal","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-15T17:48:31Z","updated_at":"2024-07-15T21:27:42Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/13607?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\nAll modified and coverable lines are covered by tests :white_check_mark:\n> Project coverage is 61.99%. Comparing base [(`59551e4`)](https://app.codecov.io/gh/apache/pinot/commit/59551e45224f1535c4863fd577622b37366ccc97?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) to head [(`0099d56`)](https://app.codecov.io/gh/apache/pinot/commit/0099d5665b1692875904a1ee716c3df40723ec80?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n> Report is 758 commits behind head on master.\n\n<details><summary>Additional details and impacted files</summary>\n\n\n```diff\n@@             Coverage Diff              @@\n##             master   #13607      +/-   ##\n============================================\n+ Coverage     61.75%   61.99%   +0.24%     \n+ Complexity      207      198       -9     \n============================================\n  Files          2436     2554     +118     \n  Lines        133233   140489    +7256     \n  Branches      20636    21806    +1170     \n============================================\n+ Hits          82274    87096    +4822     \n- Misses        44911    46792    +1881     \n- Partials       6048     6601     +553     \n```\n\n| [Flag](https://app.codecov.io/gh/apache/pinot/pull/13607/flags?src=pr&el=flags&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [custom-integration1](https://app.codecov.io/gh/apache/pinot/pull/13607/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <ø> (-0.01%)` | :arrow_down: |\n| [integration](https://app.codecov.io/gh/apache/pinot/pull/13607/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <ø> (-0.01%)` | :arrow_down: |\n| [integration1](https://app.codecov.io/gh/apache/pinot/pull/13607/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <ø> (-0.01%)` | :arrow_down: |\n| [integration2](https://app.codecov.io/gh/apache/pinot/pull/13607/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `0.00% <ø> (ø)` | |\n| [java-11](https://app.codecov.io/gh/apache/pinot/pull/13607/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.95% <ø> (+0.24%)` | :arrow_up: |\n| [java-21](https://app.codecov.io/gh/apache/pinot/pull/13607/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.86% <ø> (+0.24%)` | :arrow_up: |\n| [skip-bytebuffers-false](https://app.codecov.io/gh/apache/pinot/pull/13607/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.97% <ø> (+0.23%)` | :arrow_up: |\n| [skip-bytebuffers-true](https://app.codecov.io/gh/apache/pinot/pull/13607/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.84% <ø> (+34.11%)` | :arrow_up: |\n| [temurin](https://app.codecov.io/gh/apache/pinot/pull/13607/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.99% <ø> (+0.24%)` | :arrow_up: |\n| [unittests](https://app.codecov.io/gh/apache/pinot/pull/13607/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.99% <ø> (+0.24%)` | :arrow_up: |\n| [unittests1](https://app.codecov.io/gh/apache/pinot/pull/13607/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `46.49% <ø> (-0.40%)` | :arrow_down: |\n| [unittests2](https://app.codecov.io/gh/apache/pinot/pull/13607/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `27.73% <ø> (+<0.01%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n</details>\n\n[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/apache/pinot/pull/13607?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).   \n:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2229061285/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2229113176","html_url":"https://github.com/apache/pinot/pull/13608#issuecomment-2229113176","issue_url":"https://api.github.com/repos/apache/pinot/issues/13608","id":2229113176,"node_id":"IC_kwDOATCU_c6E3ZFY","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-15T18:19:27Z","updated_at":"2024-07-15T21:13:36Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/13608?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\nAll modified and coverable lines are covered by tests :white_check_mark:\n> Project coverage is 61.97%. Comparing base [(`59551e4`)](https://app.codecov.io/gh/apache/pinot/commit/59551e45224f1535c4863fd577622b37366ccc97?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) to head [(`0a82601`)](https://app.codecov.io/gh/apache/pinot/commit/0a8260129e4fc4ee0fcc2ef6ee3f482ac43fce70?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n> Report is 758 commits behind head on master.\n\n<details><summary>Additional details and impacted files</summary>\n\n\n```diff\n@@             Coverage Diff              @@\n##             master   #13608      +/-   ##\n============================================\n+ Coverage     61.75%   61.97%   +0.22%     \n+ Complexity      207      198       -9     \n============================================\n  Files          2436     2554     +118     \n  Lines        133233   140489    +7256     \n  Branches      20636    21806    +1170     \n============================================\n+ Hits          82274    87075    +4801     \n- Misses        44911    46803    +1892     \n- Partials       6048     6611     +563     \n```\n\n| [Flag](https://app.codecov.io/gh/apache/pinot/pull/13608/flags?src=pr&el=flags&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [custom-integration1](https://app.codecov.io/gh/apache/pinot/pull/13608/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <ø> (-0.01%)` | :arrow_down: |\n| [integration](https://app.codecov.io/gh/apache/pinot/pull/13608/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <ø> (-0.01%)` | :arrow_down: |\n| [integration1](https://app.codecov.io/gh/apache/pinot/pull/13608/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <ø> (-0.01%)` | :arrow_down: |\n| [integration2](https://app.codecov.io/gh/apache/pinot/pull/13608/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `0.00% <ø> (ø)` | |\n| [java-11](https://app.codecov.io/gh/apache/pinot/pull/13608/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.95% <ø> (+0.24%)` | :arrow_up: |\n| [java-21](https://app.codecov.io/gh/apache/pinot/pull/13608/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.86% <ø> (+0.23%)` | :arrow_up: |\n| [skip-bytebuffers-false](https://app.codecov.io/gh/apache/pinot/pull/13608/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.97% <ø> (+0.23%)` | :arrow_up: |\n| [skip-bytebuffers-true](https://app.codecov.io/gh/apache/pinot/pull/13608/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `27.72% <ø> (+<0.01%)` | :arrow_up: |\n| [temurin](https://app.codecov.io/gh/apache/pinot/pull/13608/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.97% <ø> (+0.22%)` | :arrow_up: |\n| [unittests](https://app.codecov.io/gh/apache/pinot/pull/13608/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.97% <ø> (+0.22%)` | :arrow_up: |\n| [unittests1](https://app.codecov.io/gh/apache/pinot/pull/13608/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `46.47% <ø> (-0.42%)` | :arrow_down: |\n| [unittests2](https://app.codecov.io/gh/apache/pinot/pull/13608/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `27.73% <ø> (+<0.01%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n</details>\n\n[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/apache/pinot/pull/13608?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).   \n:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2229113176/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2229175072","html_url":"https://github.com/apache/pinot/issues/10945#issuecomment-2229175072","issue_url":"https://api.github.com/repos/apache/pinot/issues/10945","id":2229175072,"node_id":"IC_kwDOATCU_c6E3oMg","user":{"login":"ankitsultana","id":8644710,"node_id":"MDQ6VXNlcjg2NDQ3MTA=","avatar_url":"https://avatars.githubusercontent.com/u/8644710?v=4","gravatar_id":"","url":"https://api.github.com/users/ankitsultana","html_url":"https://github.com/ankitsultana","followers_url":"https://api.github.com/users/ankitsultana/followers","following_url":"https://api.github.com/users/ankitsultana/following{/other_user}","gists_url":"https://api.github.com/users/ankitsultana/gists{/gist_id}","starred_url":"https://api.github.com/users/ankitsultana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ankitsultana/subscriptions","organizations_url":"https://api.github.com/users/ankitsultana/orgs","repos_url":"https://api.github.com/users/ankitsultana/repos","events_url":"https://api.github.com/users/ankitsultana/events{/privacy}","received_events_url":"https://api.github.com/users/ankitsultana/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-15T18:54:28Z","updated_at":"2024-07-15T18:54:28Z","author_association":"CONTRIBUTOR","body":"@kirkrodrigues : if it is not a lot of work for you folks, can you try to add this support?\r\n\r\nmvn tests don't work on M1/M2 systems because of this.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2229175072/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2229213335","html_url":"https://github.com/apache/pinot/issues/10945#issuecomment-2229213335","issue_url":"https://api.github.com/repos/apache/pinot/issues/10945","id":2229213335,"node_id":"IC_kwDOATCU_c6E3xiX","user":{"login":"kirkrodrigues","id":2454684,"node_id":"MDQ6VXNlcjI0NTQ2ODQ=","avatar_url":"https://avatars.githubusercontent.com/u/2454684?v=4","gravatar_id":"","url":"https://api.github.com/users/kirkrodrigues","html_url":"https://github.com/kirkrodrigues","followers_url":"https://api.github.com/users/kirkrodrigues/followers","following_url":"https://api.github.com/users/kirkrodrigues/following{/other_user}","gists_url":"https://api.github.com/users/kirkrodrigues/gists{/gist_id}","starred_url":"https://api.github.com/users/kirkrodrigues/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kirkrodrigues/subscriptions","organizations_url":"https://api.github.com/users/kirkrodrigues/orgs","repos_url":"https://api.github.com/users/kirkrodrigues/repos","events_url":"https://api.github.com/users/kirkrodrigues/events{/privacy}","received_events_url":"https://api.github.com/users/kirkrodrigues/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-15T19:18:28Z","updated_at":"2024-07-15T19:18:28Z","author_association":"CONTRIBUTOR","body":"Sorry, things keep getting reprioritized. We did create a build with the new binaries, just need to finish testing it on different platforms. Will release a new clp-ffi version in the next couple days and then PR to Pinot.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2229213335/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2229358321","html_url":"https://github.com/apache/pinot/pull/13574#issuecomment-2229358321","issue_url":"https://api.github.com/repos/apache/pinot/issues/13574","id":2229358321,"node_id":"IC_kwDOATCU_c6E4U7x","user":{"login":"abhioncbr","id":1076944,"node_id":"MDQ6VXNlcjEwNzY5NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1076944?v=4","gravatar_id":"","url":"https://api.github.com/users/abhioncbr","html_url":"https://github.com/abhioncbr","followers_url":"https://api.github.com/users/abhioncbr/followers","following_url":"https://api.github.com/users/abhioncbr/following{/other_user}","gists_url":"https://api.github.com/users/abhioncbr/gists{/gist_id}","starred_url":"https://api.github.com/users/abhioncbr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhioncbr/subscriptions","organizations_url":"https://api.github.com/users/abhioncbr/orgs","repos_url":"https://api.github.com/users/abhioncbr/repos","events_url":"https://api.github.com/users/abhioncbr/events{/privacy}","received_events_url":"https://api.github.com/users/abhioncbr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-15T20:34:37Z","updated_at":"2024-07-15T20:34:37Z","author_association":"CONTRIBUTOR","body":"Can we merge it?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2229358321/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2229457079","html_url":"https://github.com/apache/pinot/pull/13609#issuecomment-2229457079","issue_url":"https://api.github.com/repos/apache/pinot/issues/13609","id":2229457079,"node_id":"IC_kwDOATCU_c6E4tC3","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-15T21:16:45Z","updated_at":"2024-07-15T21:41:30Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/13609?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\nAll modified and coverable lines are covered by tests :white_check_mark:\n> Project coverage is 62.02%. Comparing base [(`59551e4`)](https://app.codecov.io/gh/apache/pinot/commit/59551e45224f1535c4863fd577622b37366ccc97?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) to head [(`9004c6e`)](https://app.codecov.io/gh/apache/pinot/commit/9004c6eeae81d2344c9a022daddc4f8bf706d3a1?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n> Report is 758 commits behind head on master.\n\n<details><summary>Additional details and impacted files</summary>\n\n\n```diff\n@@             Coverage Diff              @@\n##             master   #13609      +/-   ##\n============================================\n+ Coverage     61.75%   62.02%   +0.27%     \n+ Complexity      207      198       -9     \n============================================\n  Files          2436     2554     +118     \n  Lines        133233   140501    +7268     \n  Branches      20636    21806    +1170     \n============================================\n+ Hits          82274    87149    +4875     \n- Misses        44911    46745    +1834     \n- Partials       6048     6607     +559     \n```\n\n| [Flag](https://app.codecov.io/gh/apache/pinot/pull/13609/flags?src=pr&el=flags&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [custom-integration1](https://app.codecov.io/gh/apache/pinot/pull/13609/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration](https://app.codecov.io/gh/apache/pinot/pull/13609/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration1](https://app.codecov.io/gh/apache/pinot/pull/13609/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration2](https://app.codecov.io/gh/apache/pinot/pull/13609/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `0.00% <0.00%> (ø)` | |\n| [java-11](https://app.codecov.io/gh/apache/pinot/pull/13609/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.96% <100.00%> (+0.25%)` | :arrow_up: |\n| [java-21](https://app.codecov.io/gh/apache/pinot/pull/13609/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.89% <100.00%> (+0.27%)` | :arrow_up: |\n| [skip-bytebuffers-false](https://app.codecov.io/gh/apache/pinot/pull/13609/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `62.00% <100.00%> (+0.25%)` | :arrow_up: |\n| [skip-bytebuffers-true](https://app.codecov.io/gh/apache/pinot/pull/13609/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.86% <100.00%> (+34.13%)` | :arrow_up: |\n| [temurin](https://app.codecov.io/gh/apache/pinot/pull/13609/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `62.02% <100.00%> (+0.27%)` | :arrow_up: |\n| [unittests](https://app.codecov.io/gh/apache/pinot/pull/13609/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `62.02% <100.00%> (+0.27%)` | :arrow_up: |\n| [unittests1](https://app.codecov.io/gh/apache/pinot/pull/13609/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `46.52% <100.00%> (-0.37%)` | :arrow_down: |\n| [unittests2](https://app.codecov.io/gh/apache/pinot/pull/13609/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `27.74% <0.00%> (+0.01%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n</details>\n\n[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/apache/pinot/pull/13609?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).   \n:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2229457079/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2229509872","html_url":"https://github.com/apache/pinot/pull/13611#issuecomment-2229509872","issue_url":"https://api.github.com/repos/apache/pinot/issues/13611","id":2229509872,"node_id":"IC_kwDOATCU_c6E457w","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-15T21:59:08Z","updated_at":"2024-07-15T22:07:49Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/13611?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\nAttention: Patch coverage is `0%` with `13 lines` in your changes missing coverage. Please review.\n> Project coverage is 27.71%. Comparing base [(`59551e4`)](https://app.codecov.io/gh/apache/pinot/commit/59551e45224f1535c4863fd577622b37366ccc97?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) to head [(`af12fa1`)](https://app.codecov.io/gh/apache/pinot/commit/af12fa1fd178446f9255d5aa92ca09c718da05fc?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n> Report is 760 commits behind head on master.\n\n| [Files](https://app.codecov.io/gh/apache/pinot/pull/13611?dropdown=coverage&src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Patch % | Lines |\n|---|---|---|\n| [...query/runtime/operator/utils/AggregationUtils.java](https://app.codecov.io/gh/apache/pinot/pull/13611?src=pr&el=tree&filepath=pinot-query-runtime%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fquery%2Fruntime%2Foperator%2Futils%2FAggregationUtils.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9vcGVyYXRvci91dGlscy9BZ2dyZWdhdGlvblV0aWxzLmphdmE=) | 0.00% | [9 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13611?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...ator/window/aggregate/AggregateWindowFunction.java](https://app.codecov.io/gh/apache/pinot/pull/13611?src=pr&el=tree&filepath=pinot-query-runtime%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fquery%2Fruntime%2Foperator%2Fwindow%2Faggregate%2FAggregateWindowFunction.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9vcGVyYXRvci93aW5kb3cvYWdncmVnYXRlL0FnZ3JlZ2F0ZVdpbmRvd0Z1bmN0aW9uLmphdmE=) | 0.00% | [4 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13611?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n\n> :exclamation:  There is a different number of reports uploaded between BASE (59551e4) and HEAD (af12fa1). Click for more details.\n> \n> <details><summary>HEAD has 33 uploads less than BASE</summary>\n>\n>| Flag | BASE (59551e4) | HEAD (af12fa1) |\n>|------|------|------|\n>|integration|7|4|\n>|integration2|3|2|\n>|temurin|12|5|\n>|java-21|7|4|\n>|skip-bytebuffers-true|3|2|\n>|skip-bytebuffers-false|7|3|\n>|unittests|5|1|\n>|unittests1|2|0|\n>|java-11|5|1|\n>|unittests2|3|1|\n>|custom-integration1|2|0|\n></details>\n\n<details><summary>Additional details and impacted files</summary>\n\n\n```diff\n@@              Coverage Diff              @@\n##             master   #13611       +/-   ##\n=============================================\n- Coverage     61.75%   27.71%   -34.04%     \n+ Complexity      207      198        -9     \n=============================================\n  Files          2436     2554      +118     \n  Lines        133233   140478     +7245     \n  Branches      20636    21807     +1171     \n=============================================\n- Hits          82274    38936    -43338     \n- Misses        44911    98561    +53650     \n+ Partials       6048     2981     -3067     \n```\n\n| [Flag](https://app.codecov.io/gh/apache/pinot/pull/13611/flags?src=pr&el=flags&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [custom-integration1](https://app.codecov.io/gh/apache/pinot/pull/13611/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `?` | |\n| [integration](https://app.codecov.io/gh/apache/pinot/pull/13611/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration1](https://app.codecov.io/gh/apache/pinot/pull/13611/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration2](https://app.codecov.io/gh/apache/pinot/pull/13611/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `0.00% <0.00%> (ø)` | |\n| [java-11](https://app.codecov.io/gh/apache/pinot/pull/13611/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `0.00% <0.00%> (-61.71%)` | :arrow_down: |\n| [java-21](https://app.codecov.io/gh/apache/pinot/pull/13611/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `27.71% <0.00%> (-33.91%)` | :arrow_down: |\n| [skip-bytebuffers-false](https://app.codecov.io/gh/apache/pinot/pull/13611/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-61.75%)` | :arrow_down: |\n| [skip-bytebuffers-true](https://app.codecov.io/gh/apache/pinot/pull/13611/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `27.71% <0.00%> (-0.02%)` | :arrow_down: |\n| [temurin](https://app.codecov.io/gh/apache/pinot/pull/13611/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `27.71% <0.00%> (-34.04%)` | :arrow_down: |\n| [unittests](https://app.codecov.io/gh/apache/pinot/pull/13611/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `27.71% <0.00%> (-34.04%)` | :arrow_down: |\n| [unittests1](https://app.codecov.io/gh/apache/pinot/pull/13611/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `?` | |\n| [unittests2](https://app.codecov.io/gh/apache/pinot/pull/13611/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `27.71% <0.00%> (-0.02%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n</details>\n\n[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/apache/pinot/pull/13611?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).   \n:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2229509872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2229611853","html_url":"https://github.com/apache/pinot/pull/13612#issuecomment-2229611853","issue_url":"https://api.github.com/repos/apache/pinot/issues/13612","id":2229611853,"node_id":"IC_kwDOATCU_c6E5S1N","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-15T23:25:54Z","updated_at":"2024-07-15T23:40:32Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/13612?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\nAttention: Patch coverage is `81.81818%` with `2 lines` in your changes missing coverage. Please review.\n> Project coverage is 61.97%. Comparing base [(`59551e4`)](https://app.codecov.io/gh/apache/pinot/commit/59551e45224f1535c4863fd577622b37366ccc97?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) to head [(`550db92`)](https://app.codecov.io/gh/apache/pinot/commit/550db92fd772b7a662c65a06eb5f90ab56a95912?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n> Report is 763 commits behind head on master.\n\n| [Files](https://app.codecov.io/gh/apache/pinot/pull/13612?dropdown=coverage&src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Patch % | Lines |\n|---|---|---|\n| [...va/org/apache/pinot/common/utils/SegmentUtils.java](https://app.codecov.io/gh/apache/pinot/pull/13612?src=pr&el=tree&filepath=pinot-common%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fcommon%2Futils%2FSegmentUtils.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvU2VnbWVudFV0aWxzLmphdmE=) | 81.81% | [1 Missing and 1 partial :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13612?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n\n<details><summary>Additional details and impacted files</summary>\n\n\n```diff\n@@             Coverage Diff              @@\n##             master   #13612      +/-   ##\n============================================\n+ Coverage     61.75%   61.97%   +0.21%     \n+ Complexity      207      198       -9     \n============================================\n  Files          2436     2554     +118     \n  Lines        133233   140493    +7260     \n  Branches      20636    21816    +1180     \n============================================\n+ Hits          82274    87065    +4791     \n- Misses        44911    46818    +1907     \n- Partials       6048     6610     +562     \n```\n\n| [Flag](https://app.codecov.io/gh/apache/pinot/pull/13612/flags?src=pr&el=flags&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [custom-integration1](https://app.codecov.io/gh/apache/pinot/pull/13612/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration](https://app.codecov.io/gh/apache/pinot/pull/13612/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration1](https://app.codecov.io/gh/apache/pinot/pull/13612/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration2](https://app.codecov.io/gh/apache/pinot/pull/13612/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `0.00% <0.00%> (ø)` | |\n| [java-11](https://app.codecov.io/gh/apache/pinot/pull/13612/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `35.15% <81.81%> (-26.56%)` | :arrow_down: |\n| [java-21](https://app.codecov.io/gh/apache/pinot/pull/13612/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.84% <81.81%> (+0.21%)` | :arrow_up: |\n| [skip-bytebuffers-false](https://app.codecov.io/gh/apache/pinot/pull/13612/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.94% <81.81%> (+0.19%)` | :arrow_up: |\n| [skip-bytebuffers-true](https://app.codecov.io/gh/apache/pinot/pull/13612/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.83% <81.81%> (+34.11%)` | :arrow_up: |\n| [temurin](https://app.codecov.io/gh/apache/pinot/pull/13612/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.97% <81.81%> (+0.21%)` | :arrow_up: |\n| [unittests](https://app.codecov.io/gh/apache/pinot/pull/13612/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.96% <81.81%> (+0.21%)` | :arrow_up: |\n| [unittests1](https://app.codecov.io/gh/apache/pinot/pull/13612/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `46.49% <81.81%> (-0.40%)` | :arrow_down: |\n| [unittests2](https://app.codecov.io/gh/apache/pinot/pull/13612/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `27.71% <0.00%> (-0.02%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n</details>\n\n[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/apache/pinot/pull/13612?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).   \n:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2229611853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2229820574","html_url":"https://github.com/apache/pinot/pull/13613#issuecomment-2229820574","issue_url":"https://api.github.com/repos/apache/pinot/issues/13613","id":2229820574,"node_id":"IC_kwDOATCU_c6E6Fye","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-16T01:40:44Z","updated_at":"2024-07-27T02:10:10Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/13613?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\nAttention: Patch coverage is `85.71429%` with `3 lines` in your changes missing coverage. Please review.\n> Project coverage is 61.98%. Comparing base [(`59551e4`)](https://app.codecov.io/gh/apache/pinot/commit/59551e45224f1535c4863fd577622b37366ccc97?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) to head [(`92d6b37`)](https://app.codecov.io/gh/apache/pinot/commit/92d6b37d308c29860ed9d4d606f812f418b77718?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n> Report is 804 commits behind head on master.\n\n| [Files](https://app.codecov.io/gh/apache/pinot/pull/13613?dropdown=coverage&src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Patch % | Lines |\n|---|---|---|\n| [.../org/apache/pinot/plugin/filesystem/S3PinotFS.java](https://app.codecov.io/gh/apache/pinot/pull/13613?src=pr&el=tree&filepath=pinot-plugins%2Fpinot-file-system%2Fpinot-s3%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fplugin%2Ffilesystem%2FS3PinotFS.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcGx1Z2lucy9waW5vdC1maWxlLXN5c3RlbS9waW5vdC1zMy9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcGx1Z2luL2ZpbGVzeXN0ZW0vUzNQaW5vdEZTLmphdmE=) | 80.00% | [3 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13613?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n\n<details><summary>Additional details and impacted files</summary>\n\n\n```diff\n@@             Coverage Diff              @@\n##             master   #13613      +/-   ##\n============================================\n+ Coverage     61.75%   61.98%   +0.22%     \n+ Complexity      207      198       -9     \n============================================\n  Files          2436     2554     +118     \n  Lines        133233   140614    +7381     \n  Branches      20636    21875    +1239     \n============================================\n+ Hits          82274    87154    +4880     \n- Misses        44911    46820    +1909     \n- Partials       6048     6640     +592     \n```\n\n| [Flag](https://app.codecov.io/gh/apache/pinot/pull/13613/flags?src=pr&el=flags&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [custom-integration1](https://app.codecov.io/gh/apache/pinot/pull/13613/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration](https://app.codecov.io/gh/apache/pinot/pull/13613/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration1](https://app.codecov.io/gh/apache/pinot/pull/13613/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration2](https://app.codecov.io/gh/apache/pinot/pull/13613/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `0.00% <0.00%> (ø)` | |\n| [java-11](https://app.codecov.io/gh/apache/pinot/pull/13613/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.95% <85.71%> (+0.24%)` | :arrow_up: |\n| [java-21](https://app.codecov.io/gh/apache/pinot/pull/13613/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.84% <85.71%> (+0.22%)` | :arrow_up: |\n| [skip-bytebuffers-false](https://app.codecov.io/gh/apache/pinot/pull/13613/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.96% <85.71%> (+0.21%)` | :arrow_up: |\n| [skip-bytebuffers-true](https://app.codecov.io/gh/apache/pinot/pull/13613/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `34.98% <0.00%> (+7.26%)` | :arrow_up: |\n| [temurin](https://app.codecov.io/gh/apache/pinot/pull/13613/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.98% <85.71%> (+0.22%)` | :arrow_up: |\n| [unittests](https://app.codecov.io/gh/apache/pinot/pull/13613/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.97% <85.71%> (+0.22%)` | :arrow_up: |\n| [unittests1](https://app.codecov.io/gh/apache/pinot/pull/13613/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `46.41% <ø> (-0.48%)` | :arrow_down: |\n| [unittests2](https://app.codecov.io/gh/apache/pinot/pull/13613/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `27.77% <85.71%> (+0.04%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n</details>\n\n[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/apache/pinot/pull/13613?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).   \n:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2229820574/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2229867213","html_url":"https://github.com/apache/pinot/pull/13605#issuecomment-2229867213","issue_url":"https://api.github.com/repos/apache/pinot/issues/13605","id":2229867213,"node_id":"IC_kwDOATCU_c6E6RLN","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-16T02:10:12Z","updated_at":"2024-07-16T02:10:23Z","author_association":"CONTRIBUTOR","body":"I've made another attempt in #13614 which is trying to keep the same behavior but avoid the expensive operation.\r\n\r\nIMO the best solution is to directly keep IN/NOT IN to:\r\n- Avoid the overhead of pipeline breaker\r\n- Avoid the overhead of OR/AND\r\n\r\nNeed more time to explore if this is doable","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2229867213/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2229868056","html_url":"https://github.com/apache/pinot/pull/13614#issuecomment-2229868056","issue_url":"https://api.github.com/repos/apache/pinot/issues/13614","id":2229868056,"node_id":"IC_kwDOATCU_c6E6RYY","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-16T02:11:16Z","updated_at":"2024-07-16T02:11:16Z","author_association":"CONTRIBUTOR","body":"@gortiz Can you help check if this also solves the problem? I feel this is a safer option without changing the query plan","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2229868056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2229887875","html_url":"https://github.com/apache/pinot/pull/13614#issuecomment-2229887875","issue_url":"https://api.github.com/repos/apache/pinot/issues/13614","id":2229887875,"node_id":"IC_kwDOATCU_c6E6WOD","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-16T02:35:46Z","updated_at":"2024-07-16T02:55:38Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/13614?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\nAll modified and coverable lines are covered by tests :white_check_mark:\n> Project coverage is 61.96%. Comparing base [(`59551e4`)](https://app.codecov.io/gh/apache/pinot/commit/59551e45224f1535c4863fd577622b37366ccc97?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) to head [(`9ea9e40`)](https://app.codecov.io/gh/apache/pinot/commit/9ea9e402ac421b7c2ab97c070591dda83d7a45c3?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n> Report is 764 commits behind head on master.\n\n<details><summary>Additional details and impacted files</summary>\n\n\n```diff\n@@             Coverage Diff              @@\n##             master   #13614      +/-   ##\n============================================\n+ Coverage     61.75%   61.96%   +0.21%     \n+ Complexity      207      198       -9     \n============================================\n  Files          2436     2555     +119     \n  Lines        133233   140710    +7477     \n  Branches      20636    21862    +1226     \n============================================\n+ Hits          82274    87190    +4916     \n- Misses        44911    46885    +1974     \n- Partials       6048     6635     +587     \n```\n\n| [Flag](https://app.codecov.io/gh/apache/pinot/pull/13614/flags?src=pr&el=flags&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [custom-integration1](https://app.codecov.io/gh/apache/pinot/pull/13614/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <ø> (-0.01%)` | :arrow_down: |\n| [integration](https://app.codecov.io/gh/apache/pinot/pull/13614/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <ø> (-0.01%)` | :arrow_down: |\n| [integration1](https://app.codecov.io/gh/apache/pinot/pull/13614/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <ø> (-0.01%)` | :arrow_down: |\n| [integration2](https://app.codecov.io/gh/apache/pinot/pull/13614/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `0.00% <ø> (ø)` | |\n| [java-11](https://app.codecov.io/gh/apache/pinot/pull/13614/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.92% <ø> (+0.21%)` | :arrow_up: |\n| [java-21](https://app.codecov.io/gh/apache/pinot/pull/13614/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.85% <ø> (+0.22%)` | :arrow_up: |\n| [skip-bytebuffers-false](https://app.codecov.io/gh/apache/pinot/pull/13614/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.94% <ø> (+0.19%)` | :arrow_up: |\n| [skip-bytebuffers-true](https://app.codecov.io/gh/apache/pinot/pull/13614/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.81% <ø> (+34.08%)` | :arrow_up: |\n| [temurin](https://app.codecov.io/gh/apache/pinot/pull/13614/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.96% <ø> (+0.21%)` | :arrow_up: |\n| [unittests](https://app.codecov.io/gh/apache/pinot/pull/13614/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.96% <ø> (+0.21%)` | :arrow_up: |\n| [unittests1](https://app.codecov.io/gh/apache/pinot/pull/13614/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `46.47% <ø> (-0.42%)` | :arrow_down: |\n| [unittests2](https://app.codecov.io/gh/apache/pinot/pull/13614/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `27.70% <ø> (-0.04%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n</details>\n\n[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/apache/pinot/pull/13614?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).   \n:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2229887875/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2230080228","html_url":"https://github.com/apache/pinot/pull/13616#issuecomment-2230080228","issue_url":"https://api.github.com/repos/apache/pinot/issues/13616","id":2230080228,"node_id":"IC_kwDOATCU_c6E7FLk","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-16T05:53:27Z","updated_at":"2024-07-18T03:43:31Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/13616?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\nAll modified and coverable lines are covered by tests :white_check_mark:\n> Project coverage is 61.96%. Comparing base [(`59551e4`)](https://app.codecov.io/gh/apache/pinot/commit/59551e45224f1535c4863fd577622b37366ccc97?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) to head [(`fa215d8`)](https://app.codecov.io/gh/apache/pinot/commit/fa215d801cf84e5c6eef709fd3c5dc509902924c?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n> Report is 780 commits behind head on master.\n\n<details><summary>Additional details and impacted files</summary>\n\n\n```diff\n@@             Coverage Diff              @@\n##             master   #13616      +/-   ##\n============================================\n+ Coverage     61.75%   61.96%   +0.20%     \n+ Complexity      207      198       -9     \n============================================\n  Files          2436     2553     +117     \n  Lines        133233   140467    +7234     \n  Branches      20636    21850    +1214     \n============================================\n+ Hits          82274    87036    +4762     \n- Misses        44911    46808    +1897     \n- Partials       6048     6623     +575     \n```\n\n| [Flag](https://app.codecov.io/gh/apache/pinot/pull/13616/flags?src=pr&el=flags&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [custom-integration1](https://app.codecov.io/gh/apache/pinot/pull/13616/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration](https://app.codecov.io/gh/apache/pinot/pull/13616/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration1](https://app.codecov.io/gh/apache/pinot/pull/13616/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration2](https://app.codecov.io/gh/apache/pinot/pull/13616/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `0.00% <0.00%> (ø)` | |\n| [java-11](https://app.codecov.io/gh/apache/pinot/pull/13616/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `35.10% <100.00%> (-26.61%)` | :arrow_down: |\n| [java-21](https://app.codecov.io/gh/apache/pinot/pull/13616/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.85% <100.00%> (+0.22%)` | :arrow_up: |\n| [skip-bytebuffers-false](https://app.codecov.io/gh/apache/pinot/pull/13616/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.94% <100.00%> (+0.19%)` | :arrow_up: |\n| [skip-bytebuffers-true](https://app.codecov.io/gh/apache/pinot/pull/13616/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.80% <100.00%> (+34.07%)` | :arrow_up: |\n| [temurin](https://app.codecov.io/gh/apache/pinot/pull/13616/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.96% <100.00%> (+0.20%)` | :arrow_up: |\n| [unittests](https://app.codecov.io/gh/apache/pinot/pull/13616/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.95% <100.00%> (+0.21%)` | :arrow_up: |\n| [unittests1](https://app.codecov.io/gh/apache/pinot/pull/13616/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `46.45% <100.00%> (-0.44%)` | :arrow_down: |\n| [unittests2](https://app.codecov.io/gh/apache/pinot/pull/13616/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `27.73% <0.00%> (+<0.01%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n</details>\n\n[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/apache/pinot/pull/13616?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).   \n:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2230080228/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2230121114","html_url":"https://github.com/apache/pinot/pull/13614#issuecomment-2230121114","issue_url":"https://api.github.com/repos/apache/pinot/issues/13614","id":2230121114,"node_id":"IC_kwDOATCU_c6E7PKa","user":{"login":"gortiz","id":1913993,"node_id":"MDQ6VXNlcjE5MTM5OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1913993?v=4","gravatar_id":"","url":"https://api.github.com/users/gortiz","html_url":"https://github.com/gortiz","followers_url":"https://api.github.com/users/gortiz/followers","following_url":"https://api.github.com/users/gortiz/following{/other_user}","gists_url":"https://api.github.com/users/gortiz/gists{/gist_id}","starred_url":"https://api.github.com/users/gortiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gortiz/subscriptions","organizations_url":"https://api.github.com/users/gortiz/orgs","repos_url":"https://api.github.com/users/gortiz/repos","events_url":"https://api.github.com/users/gortiz/events{/privacy}","received_events_url":"https://api.github.com/users/gortiz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-16T06:29:07Z","updated_at":"2024-07-16T06:29:07Z","author_association":"CONTRIBUTOR","body":"This patch is not enough. There are several places where SEARCH is converted into ORs. This patch is attacking one of the places (our expand rule) but not the other I know, which is when calcite validates queries. There, Calcite uses `SqlToRelConverter.Config.inSubQueryThreshold` to decide whether INs are going to be converted into ORs or not. The default value is 20, which means that any IN with less than 20 literals is converted into ORs while in the other case it is kept as IN and considered a subquery. Later in the pipeline (I don't know exactly where yet) the _IN subquery_ is converted into an actual subquery which in our case is evaluated as a pipeline breaker.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2230121114/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2230159980","html_url":"https://github.com/apache/pinot/issues/13617#issuecomment-2230159980","issue_url":"https://api.github.com/repos/apache/pinot/issues/13617","id":2230159980,"node_id":"IC_kwDOATCU_c6E7Yps","user":{"login":"gortiz","id":1913993,"node_id":"MDQ6VXNlcjE5MTM5OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1913993?v=4","gravatar_id":"","url":"https://api.github.com/users/gortiz","html_url":"https://github.com/gortiz","followers_url":"https://api.github.com/users/gortiz/followers","following_url":"https://api.github.com/users/gortiz/following{/other_user}","gists_url":"https://api.github.com/users/gortiz/gists{/gist_id}","starred_url":"https://api.github.com/users/gortiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gortiz/subscriptions","organizations_url":"https://api.github.com/users/gortiz/orgs","repos_url":"https://api.github.com/users/gortiz/repos","events_url":"https://api.github.com/users/gortiz/events{/privacy}","received_events_url":"https://api.github.com/users/gortiz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-16T06:56:59Z","updated_at":"2024-07-16T06:56:59Z","author_association":"CONTRIBUTOR","body":"Number when dealing with:\r\n\r\n```sql\r\n--explain plan for\r\nSELECT DestCityName\r\nFROM (\r\n         SELECT DestCityName\r\n         FROM airlineStats\r\n         WHERE DestCityName IN (\r\n \t\t\t    'a0', 'a1','a2','a3','a4','a5','a6','a7','a8','a9',\r\n                            'a10', 'a11', 'a12', 'a13', 'a14', 'a15', 'a16', 'a17', 'a18', 'a19',\r\n                            'a20', 'a21', 'a22', 'a23', 'a24', 'a25', 'a26', 'a27', 'a28', 'a29',\r\n                            'a30', 'a31', 'a32', 'a33', 'a34', 'a35', 'a36', 'a37', 'a38', 'a39',\r\n                            'a40', 'a41', 'a42', 'a43', 'a44', 'a45', 'a46', 'a47', 'a48', 'a49',\r\n                            'a50', 'a51', 'a52', 'a53', 'a54', 'a55', 'a56', 'a57', 'a58', 'a59',\r\n                            'a60', 'a61', 'a62', 'a63', 'a64', 'a65', 'a66', 'a67', 'a68', 'a69',\r\n                            'a70', 'a71', 'a72', 'a73', 'a74', 'a75', 'a76', 'a77', 'a78', 'a79',\r\n                            'a80', 'a81', 'a82', 'a83', 'a84', 'a85', 'a86', 'a87', 'a88', 'a89',\r\n                            'a90', 'a91', 'a92', 'a93', 'a94', 'a95', 'a96', 'a97', 'a98', 'a99',\r\n                            'a100', 'a101', 'a102', 'a103', 'a104', 'a105', 'a106', 'a107', 'a108', 'a109',\r\n                            'a110', 'a111', 'a112', 'a113', 'a114', 'a115', 'a116', 'a117', 'a118', 'a119',\r\n                            'a120', 'a121', 'a122', 'a123', 'a124', 'a125', 'a126', 'a127', 'a128', 'a129',\r\n                            'a130', 'a131', 'a132', 'a133', 'a134', 'a135', 'a136', 'a137', 'a138', 'a139',\r\n                            'a140', 'a141', 'a142', 'a143', 'a144', 'a145', 'a146', 'a147', 'a148', 'a149',\r\n                            'a150', 'a151', 'a152', 'a153', 'a154', 'a155', 'a156', 'a157', 'a158', 'a159', \r\n                            'a160', 'a161', 'a162', 'a163', 'a164', 'a165', 'a166', 'a167', 'a168', 'a169',\r\n                            'a170', 'a171', 'a172', 'a173', 'a174', 'a175', 'a176', 'a177', 'a178', 'a179',\r\n                            'a180', 'a181', 'a182', 'a183', 'a184', 'a185', 'a186', 'a187', 'a188', 'a189',\r\n                            'a190', 'a191', 'a192', 'a193', 'a194', 'a195', 'a196', 'a197', 'a198', 'a199'\r\n             )\r\n         GROUP BY DestCityName\r\n             LIMIT 2147483647\r\n     ) as a\r\n```\r\n\r\nBaseline | #13605 | #13614 | #13614 + removing `withTrimUnusedFields`\r\n-------------|------------|-------------|-----------------|\r\n~2500 | 30ms | ~900ms | 30ms |\r\n\r\nThe problem with #13614 is that it fixes the issue related to `PinotFilterExpandSearchRule` but we still expend around 1 second when SqlToRelConverted transform the IN into an OR and then tries to optimize it.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2230159980/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2230225704","html_url":"https://github.com/apache/pinot/issues/13595#issuecomment-2230225704","issue_url":"https://api.github.com/repos/apache/pinot/issues/13595","id":2230225704,"node_id":"IC_kwDOATCU_c6E7oso","user":{"login":"gortiz","id":1913993,"node_id":"MDQ6VXNlcjE5MTM5OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1913993?v=4","gravatar_id":"","url":"https://api.github.com/users/gortiz","html_url":"https://github.com/gortiz","followers_url":"https://api.github.com/users/gortiz/followers","following_url":"https://api.github.com/users/gortiz/following{/other_user}","gists_url":"https://api.github.com/users/gortiz/gists{/gist_id}","starred_url":"https://api.github.com/users/gortiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gortiz/subscriptions","organizations_url":"https://api.github.com/users/gortiz/orgs","repos_url":"https://api.github.com/users/gortiz/repos","events_url":"https://api.github.com/users/gortiz/events{/privacy}","received_events_url":"https://api.github.com/users/gortiz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-16T07:37:03Z","updated_at":"2024-07-16T08:29:18Z","author_association":"CONTRIBUTOR","body":"Can we mark somehow `ARRAY_TO_MV` as a not ~pure~ [deterministic](https://calcite.apache.org/javadocAggregate/org/apache/calcite/sql/SqlOperator.html#isDeterministic()) function? Meaning that the returned value is not determined by the input? Something like `random()`.\r\n\r\nEdit: I'm doing that in #13618 and it seems to be working\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2230225704/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2230425211","html_url":"https://github.com/apache/pinot/pull/13618#issuecomment-2230425211","issue_url":"https://api.github.com/repos/apache/pinot/issues/13618","id":2230425211,"node_id":"IC_kwDOATCU_c6E8ZZ7","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-16T09:21:44Z","updated_at":"2024-07-16T15:46:03Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/13618?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\nAttention: Patch coverage is `77.77778%` with `2 lines` in your changes missing coverage. Please review.\n> Project coverage is 61.94%. Comparing base [(`59551e4`)](https://app.codecov.io/gh/apache/pinot/commit/59551e45224f1535c4863fd577622b37366ccc97?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) to head [(`5934ed3`)](https://app.codecov.io/gh/apache/pinot/commit/5934ed346122bdc024690c9347b05f5fa6273e1c?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n> Report is 764 commits behind head on master.\n\n| [Files](https://app.codecov.io/gh/apache/pinot/pull/13618?dropdown=coverage&src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Patch % | Lines |\n|---|---|---|\n| [...e/pinot/calcite/sql/PinotSqlTransformFunction.java](https://app.codecov.io/gh/apache/pinot/pull/13618?src=pr&el=tree&filepath=pinot-query-planner%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fcalcite%2Fsql%2FPinotSqlTransformFunction.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2FsY2l0ZS9zcWwvUGlub3RTcWxUcmFuc2Zvcm1GdW5jdGlvbi5qYXZh) | 60.00% | [2 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13618?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n\n<details><summary>Additional details and impacted files</summary>\n\n\n```diff\n@@             Coverage Diff              @@\n##             master   #13618      +/-   ##\n============================================\n+ Coverage     61.75%   61.94%   +0.19%     \n+ Complexity      207      198       -9     \n============================================\n  Files          2436     2555     +119     \n  Lines        133233   140716    +7483     \n  Branches      20636    21862    +1226     \n============================================\n+ Hits          82274    87173    +4899     \n- Misses        44911    46906    +1995     \n- Partials       6048     6637     +589     \n```\n\n| [Flag](https://app.codecov.io/gh/apache/pinot/pull/13618/flags?src=pr&el=flags&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [custom-integration1](https://app.codecov.io/gh/apache/pinot/pull/13618/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration](https://app.codecov.io/gh/apache/pinot/pull/13618/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration1](https://app.codecov.io/gh/apache/pinot/pull/13618/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration2](https://app.codecov.io/gh/apache/pinot/pull/13618/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `0.00% <0.00%> (ø)` | |\n| [java-11](https://app.codecov.io/gh/apache/pinot/pull/13618/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `35.15% <77.77%> (-26.56%)` | :arrow_down: |\n| [java-21](https://app.codecov.io/gh/apache/pinot/pull/13618/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.84% <77.77%> (+0.21%)` | :arrow_up: |\n| [skip-bytebuffers-false](https://app.codecov.io/gh/apache/pinot/pull/13618/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.93% <77.77%> (+0.19%)` | :arrow_up: |\n| [skip-bytebuffers-true](https://app.codecov.io/gh/apache/pinot/pull/13618/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.81% <77.77%> (+34.08%)` | :arrow_up: |\n| [temurin](https://app.codecov.io/gh/apache/pinot/pull/13618/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.94% <77.77%> (+0.19%)` | :arrow_up: |\n| [unittests](https://app.codecov.io/gh/apache/pinot/pull/13618/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.94% <77.77%> (+0.19%)` | :arrow_up: |\n| [unittests1](https://app.codecov.io/gh/apache/pinot/pull/13618/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `46.47% <77.77%> (-0.42%)` | :arrow_down: |\n| [unittests2](https://app.codecov.io/gh/apache/pinot/pull/13618/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `27.68% <0.00%> (-0.05%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n</details>\n\n[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/apache/pinot/pull/13618?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).   \n:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2230425211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2230435605","html_url":"https://github.com/apache/pinot/issues/12809#issuecomment-2230435605","issue_url":"https://api.github.com/repos/apache/pinot/issues/12809","id":2230435605,"node_id":"IC_kwDOATCU_c6E8b8V","user":{"login":"gortiz","id":1913993,"node_id":"MDQ6VXNlcjE5MTM5OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1913993?v=4","gravatar_id":"","url":"https://api.github.com/users/gortiz","html_url":"https://github.com/gortiz","followers_url":"https://api.github.com/users/gortiz/followers","following_url":"https://api.github.com/users/gortiz/following{/other_user}","gists_url":"https://api.github.com/users/gortiz/gists{/gist_id}","starred_url":"https://api.github.com/users/gortiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gortiz/subscriptions","organizations_url":"https://api.github.com/users/gortiz/orgs","repos_url":"https://api.github.com/users/gortiz/repos","events_url":"https://api.github.com/users/gortiz/events{/privacy}","received_events_url":"https://api.github.com/users/gortiz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-16T09:26:59Z","updated_at":"2024-07-16T09:26:59Z","author_association":"CONTRIBUTOR","body":"I recently found another place where compiling with Java 21 would be useful. I was trying to change the pipeline to support that, but I wasn't able to fix it yet and I cannot focus on that feature right now.\r\n\r\nTo change the Java version used during compilation without affecting the final code (ie let users run in Java 11) is something that is not trivial. Specifically, we need to be sure we are not breaking anything.\r\n\r\nI've open https://github.com/apache/pinot/pull/13619 so you can take a look. We are probably going to need some help from @xiangfu0 to change the CIs (specially the one that publish docker images).\r\n\r\nWe should also discuss about the possibility of moving the codebase that is designed to be Java 11 compatible to 21 (aka everything but the driver).","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2230435605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2230469468","html_url":"https://github.com/apache/pinot/pull/13618#issuecomment-2230469468","issue_url":"https://api.github.com/repos/apache/pinot/issues/13618","id":2230469468,"node_id":"IC_kwDOATCU_c6E8kNc","user":{"login":"yashmayya","id":23502577,"node_id":"MDQ6VXNlcjIzNTAyNTc3","avatar_url":"https://avatars.githubusercontent.com/u/23502577?v=4","gravatar_id":"","url":"https://api.github.com/users/yashmayya","html_url":"https://github.com/yashmayya","followers_url":"https://api.github.com/users/yashmayya/followers","following_url":"https://api.github.com/users/yashmayya/following{/other_user}","gists_url":"https://api.github.com/users/yashmayya/gists{/gist_id}","starred_url":"https://api.github.com/users/yashmayya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yashmayya/subscriptions","organizations_url":"https://api.github.com/users/yashmayya/orgs","repos_url":"https://api.github.com/users/yashmayya/repos","events_url":"https://api.github.com/users/yashmayya/events{/privacy}","received_events_url":"https://api.github.com/users/yashmayya/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-16T09:44:06Z","updated_at":"2024-07-16T09:44:06Z","author_association":"COLLABORATOR","body":"> As defined in [SqlOperator Calcite javadoc](https://calcite.apache.org/javadocAggregate/org/apache/calcite/sql/SqlOperator.html#isDeterministic()), a function is deterministic if and only if\r\n> \r\n> > Returns whether a call to this operator is guaranteed to always return the same result given the same operands; true is assumed by default.\r\n> \r\n> Which is not true in the case of `ARRAY_TO_MV`\r\n\r\nTechnically, `ARRAY_TO_MV` _is_ deterministic right since it is guaranteed to always return the same result given the same operands? Essentially, we're never going to get a different result for something like `ARRAY_TO_MV(RandomAirports) = 'MFR'` when applied to the same row. Although this does seem to fix the issue described in https://github.com/apache/pinot/issues/13595, so as long as there are no other side effects, I guess we could live with this (especially considering that the `ARRAY_TO_MV` function itself is a bit of a hack).","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2230469468/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2230482503","html_url":"https://github.com/apache/pinot/issues/12809#issuecomment-2230482503","issue_url":"https://api.github.com/repos/apache/pinot/issues/12809","id":2230482503,"node_id":"IC_kwDOATCU_c6E8nZH","user":{"login":"hpvd","id":5681880,"node_id":"MDQ6VXNlcjU2ODE4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/5681880?v=4","gravatar_id":"","url":"https://api.github.com/users/hpvd","html_url":"https://github.com/hpvd","followers_url":"https://api.github.com/users/hpvd/followers","following_url":"https://api.github.com/users/hpvd/following{/other_user}","gists_url":"https://api.github.com/users/hpvd/gists{/gist_id}","starred_url":"https://api.github.com/users/hpvd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hpvd/subscriptions","organizations_url":"https://api.github.com/users/hpvd/orgs","repos_url":"https://api.github.com/users/hpvd/repos","events_url":"https://api.github.com/users/hpvd/events{/privacy}","received_events_url":"https://api.github.com/users/hpvd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-16T09:50:41Z","updated_at":"2024-07-16T09:50:41Z","author_association":"NONE","body":"> We should also discuss about the possibility of moving the codebase that is designed to be Java 11 compatible to 21 (aka everything but the driver).\r\n\r\n+1 on this\r\nbeside interesting new features and  possible performance benefits \r\nwe should also care for this because of End of Live (EOL) for Red Hat builds of Openjdk v11 on 30 Oct 2024\r\nsee e.g. https://endoflife.date/redhat-build-of-openjdk\r\n\r\n@gortiz would you mind open a issue for that, or where would be a good place for discussion?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2230482503/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2230494262","html_url":"https://github.com/apache/pinot/pull/13619#issuecomment-2230494262","issue_url":"https://api.github.com/repos/apache/pinot/issues/13619","id":2230494262,"node_id":"IC_kwDOATCU_c6E8qQ2","user":{"login":"hpvd","id":5681880,"node_id":"MDQ6VXNlcjU2ODE4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/5681880?v=4","gravatar_id":"","url":"https://api.github.com/users/hpvd","html_url":"https://github.com/hpvd","followers_url":"https://api.github.com/users/hpvd/followers","following_url":"https://api.github.com/users/hpvd/following{/other_user}","gists_url":"https://api.github.com/users/hpvd/gists{/gist_id}","starred_url":"https://api.github.com/users/hpvd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hpvd/subscriptions","organizations_url":"https://api.github.com/users/hpvd/orgs","repos_url":"https://api.github.com/users/hpvd/repos","events_url":"https://api.github.com/users/hpvd/events{/privacy}","received_events_url":"https://api.github.com/users/hpvd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-16T09:56:30Z","updated_at":"2024-07-16T09:56:30Z","author_association":"NONE","body":"+1\r\nwould be really interesting to see the Performance Impact of this.\r\nE.g. for mariadb its pretty huge:\r\nhttps://mariadb.com/resources/blog/benchmark-jdbc-connectors-and-java-21-virtual-threads/","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2230494262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2230514973","html_url":"https://github.com/apache/pinot/pull/13619#issuecomment-2230514973","issue_url":"https://api.github.com/repos/apache/pinot/issues/13619","id":2230514973,"node_id":"IC_kwDOATCU_c6E8vUd","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-16T10:06:07Z","updated_at":"2024-07-16T16:12:06Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/13619?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\nAttention: Patch coverage is `20.00000%` with `24 lines` in your changes missing coverage. Please review.\n> Project coverage is 61.97%. Comparing base [(`59551e4`)](https://app.codecov.io/gh/apache/pinot/commit/59551e45224f1535c4863fd577622b37366ccc97?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) to head [(`c656647`)](https://app.codecov.io/gh/apache/pinot/commit/c6566477fbc6b7650465250c2ebfa250c58a24bd?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n> Report is 764 commits behind head on master.\n\n| [Files](https://app.codecov.io/gh/apache/pinot/pull/13619?dropdown=coverage&src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Patch % | Lines |\n|---|---|---|\n| [...pache/pinot/spi/executor/ExecutorServiceUtils.java](https://app.codecov.io/gh/apache/pinot/pull/13619?src=pr&el=tree&filepath=pinot-spi%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fspi%2Fexecutor%2FExecutorServiceUtils.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvZXhlY3V0b3IvRXhlY3V0b3JTZXJ2aWNlVXRpbHMuamF2YQ==) | 0.00% | [22 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13619?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...ache/pinot/segment/spi/memory/PinotDataBuffer.java](https://app.codecov.io/gh/apache/pinot/pull/13619?src=pr&el=tree&filepath=pinot-segment-spi%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fsegment%2Fspi%2Fmemory%2FPinotDataBuffer.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1zcGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3NlZ21lbnQvc3BpL21lbW9yeS9QaW5vdERhdGFCdWZmZXIuamF2YQ==) | 66.66% | [0 Missing and 1 partial :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13619?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...he/pinot/segment/spi/memory/unsafe/MmapMemory.java](https://app.codecov.io/gh/apache/pinot/pull/13619?src=pr&el=tree&filepath=pinot-segment-spi%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fsegment%2Fspi%2Fmemory%2Funsafe%2FMmapMemory.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1zcGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3NlZ21lbnQvc3BpL21lbW9yeS91bnNhZmUvTW1hcE1lbW9yeS5qYXZh) | 0.00% | [1 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13619?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n\n<details><summary>Additional details and impacted files</summary>\n\n\n```diff\n@@             Coverage Diff              @@\n##             master   #13619      +/-   ##\n============================================\n+ Coverage     61.75%   61.97%   +0.22%     \n+ Complexity      207      198       -9     \n============================================\n  Files          2436     2555     +119     \n  Lines        133233   140733    +7500     \n  Branches      20636    21868    +1232     \n============================================\n+ Hits          82274    87224    +4950     \n- Misses        44911    46874    +1963     \n- Partials       6048     6635     +587     \n```\n\n| [Flag](https://app.codecov.io/gh/apache/pinot/pull/13619/flags?src=pr&el=flags&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [custom-integration1](https://app.codecov.io/gh/apache/pinot/pull/13619/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration](https://app.codecov.io/gh/apache/pinot/pull/13619/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration1](https://app.codecov.io/gh/apache/pinot/pull/13619/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration2](https://app.codecov.io/gh/apache/pinot/pull/13619/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `0.00% <0.00%> (ø)` | |\n| [java-11](https://app.codecov.io/gh/apache/pinot/pull/13619/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.92% <16.66%> (+0.21%)` | :arrow_up: |\n| [java-21](https://app.codecov.io/gh/apache/pinot/pull/13619/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.82% <16.66%> (+0.20%)` | :arrow_up: |\n| [java-22](https://app.codecov.io/gh/apache/pinot/pull/13619/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.80% <16.66%> (?)` | |\n| [skip-bytebuffers-false](https://app.codecov.io/gh/apache/pinot/pull/13619/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.96% <20.00%> (+0.21%)` | :arrow_up: |\n| [skip-bytebuffers-true](https://app.codecov.io/gh/apache/pinot/pull/13619/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.80% <16.66%> (+34.07%)` | :arrow_up: |\n| [temurin](https://app.codecov.io/gh/apache/pinot/pull/13619/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.97% <20.00%> (+0.22%)` | :arrow_up: |\n| [unittests](https://app.codecov.io/gh/apache/pinot/pull/13619/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.97% <20.00%> (+0.22%)` | :arrow_up: |\n| [unittests1](https://app.codecov.io/gh/apache/pinot/pull/13619/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `46.48% <20.00%> (-0.41%)` | :arrow_down: |\n| [unittests2](https://app.codecov.io/gh/apache/pinot/pull/13619/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `27.70% <0.00%> (-0.03%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n</details>\n\n[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/apache/pinot/pull/13619?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).   \n:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2230514973/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2230541255","html_url":"https://github.com/apache/pinot/pull/13619#issuecomment-2230541255","issue_url":"https://api.github.com/repos/apache/pinot/issues/13619","id":2230541255,"node_id":"IC_kwDOATCU_c6E81vH","user":{"login":"gortiz","id":1913993,"node_id":"MDQ6VXNlcjE5MTM5OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1913993?v=4","gravatar_id":"","url":"https://api.github.com/users/gortiz","html_url":"https://github.com/gortiz","followers_url":"https://api.github.com/users/gortiz/followers","following_url":"https://api.github.com/users/gortiz/following{/other_user}","gists_url":"https://api.github.com/users/gortiz/gists{/gist_id}","starred_url":"https://api.github.com/users/gortiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gortiz/subscriptions","organizations_url":"https://api.github.com/users/gortiz/orgs","repos_url":"https://api.github.com/users/gortiz/repos","events_url":"https://api.github.com/users/gortiz/events{/privacy}","received_events_url":"https://api.github.com/users/gortiz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-16T10:20:30Z","updated_at":"2024-07-16T10:20:30Z","author_association":"CONTRIBUTOR","body":"> would be really interesting to see the Performance Impact of this.\r\n\r\nI don't expect an actual performance gain. In fact we tried virtual threads last summer and they were a bit less efficient than normal threads. That is expected and acceptable because in ideal situations these threads will not do any IO but mostly wait for other threads and heavy computation. The later is the worst case for virtual threads.\r\n\r\nBut given the current multi-stage topology, the easiest way to ensure tasks not get blocked is to use cached thread pools, which means in case of large QPS we end up using too many threads and even worse, in constrained environments (ie CPU limits un k8s/docker) we can consume all the CPU quota with multi-stage threads, starving the rest of the system.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2230541255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2230560722","html_url":"https://github.com/apache/pinot/pull/13618#issuecomment-2230560722","issue_url":"https://api.github.com/repos/apache/pinot/issues/13618","id":2230560722,"node_id":"IC_kwDOATCU_c6E86fS","user":{"login":"gortiz","id":1913993,"node_id":"MDQ6VXNlcjE5MTM5OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1913993?v=4","gravatar_id":"","url":"https://api.github.com/users/gortiz","html_url":"https://github.com/gortiz","followers_url":"https://api.github.com/users/gortiz/followers","following_url":"https://api.github.com/users/gortiz/following{/other_user}","gists_url":"https://api.github.com/users/gortiz/gists{/gist_id}","starred_url":"https://api.github.com/users/gortiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gortiz/subscriptions","organizations_url":"https://api.github.com/users/gortiz/orgs","repos_url":"https://api.github.com/users/gortiz/repos","events_url":"https://api.github.com/users/gortiz/events{/privacy}","received_events_url":"https://api.github.com/users/gortiz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-16T10:31:17Z","updated_at":"2024-07-16T10:31:17Z","author_association":"CONTRIBUTOR","body":"> Technically, ARRAY_TO_MV is deterministic right since it is guaranteed to always return the same result given the same operands? Essentially, we're never going to get a different result for something like ARRAY_TO_MV(RandomAirports) = 'MFR' when applied to the same row\r\n\r\nNo. ARRAY_TO_MV is not deterministic. The definition is that the result is the same for the same inputs. That semantic is what give Calcite permission to simplify `ARRAY_TO_MV(RandomAirports) = 'MFR' AND ARRAY_TO_MV(RandomAirports) = 'GTR'` as `false`. Given `ARRAY_TO_MV(RandomAirports)` is deterministic and MFR is different than GTR, it means that AND must always evaluate to false.\r\n\r\nWhat you are saying is that `ARRAY_TO_MV(RandomAirports) = 'MFR' ` is deterministic, which is true, but there what is deterministic is `=`, not `ARRAY_TO_MV`. Anyway, `ARRAY_TO_MV` semantics are ill defined. That function is actually doesn't have semantic, is used just to trick Calcite validator. In fact `ARRAY_TO_MV` cannot be executed in V1 and it is removed before sending the query in leaf stage. What V1 sees is `RandomAirports = 'MFR'` and V1 includes some historical semantic for `=` applied to multi-values and scalars","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2230560722/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2230571414","html_url":"https://github.com/apache/pinot/pull/13618#issuecomment-2230571414","issue_url":"https://api.github.com/repos/apache/pinot/issues/13618","id":2230571414,"node_id":"IC_kwDOATCU_c6E89GW","user":{"login":"yashmayya","id":23502577,"node_id":"MDQ6VXNlcjIzNTAyNTc3","avatar_url":"https://avatars.githubusercontent.com/u/23502577?v=4","gravatar_id":"","url":"https://api.github.com/users/yashmayya","html_url":"https://github.com/yashmayya","followers_url":"https://api.github.com/users/yashmayya/followers","following_url":"https://api.github.com/users/yashmayya/following{/other_user}","gists_url":"https://api.github.com/users/yashmayya/gists{/gist_id}","starred_url":"https://api.github.com/users/yashmayya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yashmayya/subscriptions","organizations_url":"https://api.github.com/users/yashmayya/orgs","repos_url":"https://api.github.com/users/yashmayya/repos","events_url":"https://api.github.com/users/yashmayya/events{/privacy}","received_events_url":"https://api.github.com/users/yashmayya/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-16T10:36:09Z","updated_at":"2024-07-16T10:36:09Z","author_association":"COLLABORATOR","body":"That makes sense, thanks for the explanation!","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2230571414/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2230610695","html_url":"https://github.com/apache/pinot/issues/12809#issuecomment-2230610695","issue_url":"https://api.github.com/repos/apache/pinot/issues/12809","id":2230610695,"node_id":"IC_kwDOATCU_c6E9GsH","user":{"login":"gortiz","id":1913993,"node_id":"MDQ6VXNlcjE5MTM5OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1913993?v=4","gravatar_id":"","url":"https://api.github.com/users/gortiz","html_url":"https://github.com/gortiz","followers_url":"https://api.github.com/users/gortiz/followers","following_url":"https://api.github.com/users/gortiz/following{/other_user}","gists_url":"https://api.github.com/users/gortiz/gists{/gist_id}","starred_url":"https://api.github.com/users/gortiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gortiz/subscriptions","organizations_url":"https://api.github.com/users/gortiz/orgs","repos_url":"https://api.github.com/users/gortiz/repos","events_url":"https://api.github.com/users/gortiz/events{/privacy}","received_events_url":"https://api.github.com/users/gortiz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-16T10:59:11Z","updated_at":"2024-07-16T10:59:11Z","author_association":"CONTRIBUTOR","body":"> we should also care for this because of End of Live (EOL) for Red Hat builds of Openjdk v11 on 30 Oct 2024\r\nsee e.g. https://endoflife.date/redhat-build-of-openjdk\r\n\r\nJust to be clear, Pinot already runs in Java 21. In fact it is the recommended way to run Pinot because there are sensible performance improvements we get for free. We are just talking about the compilation process.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2230610695/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2230801206","html_url":"https://github.com/apache/pinot/pull/13550#issuecomment-2230801206","issue_url":"https://api.github.com/repos/apache/pinot/issues/13550","id":2230801206,"node_id":"IC_kwDOATCU_c6E91M2","user":{"login":"shounakmk219","id":25409127,"node_id":"MDQ6VXNlcjI1NDA5MTI3","avatar_url":"https://avatars.githubusercontent.com/u/25409127?v=4","gravatar_id":"","url":"https://api.github.com/users/shounakmk219","html_url":"https://github.com/shounakmk219","followers_url":"https://api.github.com/users/shounakmk219/followers","following_url":"https://api.github.com/users/shounakmk219/following{/other_user}","gists_url":"https://api.github.com/users/shounakmk219/gists{/gist_id}","starred_url":"https://api.github.com/users/shounakmk219/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shounakmk219/subscriptions","organizations_url":"https://api.github.com/users/shounakmk219/orgs","repos_url":"https://api.github.com/users/shounakmk219/repos","events_url":"https://api.github.com/users/shounakmk219/events{/privacy}","received_events_url":"https://api.github.com/users/shounakmk219/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-16T12:45:12Z","updated_at":"2024-07-16T12:45:12Z","author_association":"COLLABORATOR","body":"@Jackie-Jiang based on your inputs updated the code to expose just the gauge values for now.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2230801206/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2230935692","html_url":"https://github.com/apache/pinot/pull/13627#issuecomment-2230935692","issue_url":"https://api.github.com/repos/apache/pinot/issues/13627","id":2230935692,"node_id":"IC_kwDOATCU_c6E-WCM","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-16T13:45:14Z","updated_at":"2024-08-07T10:50:52Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/13627?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\nAttention: Patch coverage is `25.00000%` with `15 lines` in your changes missing coverage. Please review.\n> Project coverage is 61.98%. Comparing base [(`59551e4`)](https://app.codecov.io/gh/apache/pinot/commit/59551e45224f1535c4863fd577622b37366ccc97?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) to head [(`52785e1`)](https://app.codecov.io/gh/apache/pinot/commit/52785e1d42780a8609a6b102f8661aace88fa704?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n> Report is 844 commits behind head on master.\n\n| [Files](https://app.codecov.io/gh/apache/pinot/pull/13627?dropdown=coverage&src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Patch % | Lines |\n|---|---|---|\n| [...al/startree/v2/builder/StarTreeIndexSeparator.java](https://app.codecov.io/gh/apache/pinot/pull/13627?src=pr&el=tree&filepath=pinot-segment-local%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fsegment%2Flocal%2Fstartree%2Fv2%2Fbuilder%2FStarTreeIndexSeparator.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zdGFydHJlZS92Mi9idWlsZGVyL1N0YXJUcmVlSW5kZXhTZXBhcmF0b3IuamF2YQ==) | 33.33% | [7 Missing and 1 partial :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13627?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...ocal/startree/v2/builder/MultipleTreesBuilder.java](https://app.codecov.io/gh/apache/pinot/pull/13627?src=pr&el=tree&filepath=pinot-segment-local%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fsegment%2Flocal%2Fstartree%2Fv2%2Fbuilder%2FMultipleTreesBuilder.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zdGFydHJlZS92Mi9idWlsZGVyL011bHRpcGxlVHJlZXNCdWlsZGVyLmphdmE=) | 12.50% | [6 Missing and 1 partial :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13627?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n\n<details><summary>Additional details and impacted files</summary>\n\n\n```diff\n@@             Coverage Diff              @@\n##             master   #13627      +/-   ##\n============================================\n+ Coverage     61.75%   61.98%   +0.23%     \n+ Complexity      207      198       -9     \n============================================\n  Files          2436     2557     +121     \n  Lines        133233   141073    +7840     \n  Branches      20636    21940    +1304     \n============================================\n+ Hits          82274    87445    +5171     \n- Misses        44911    46969    +2058     \n- Partials       6048     6659     +611     \n```\n\n| [Flag](https://app.codecov.io/gh/apache/pinot/pull/13627/flags?src=pr&el=flags&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [custom-integration1](https://app.codecov.io/gh/apache/pinot/pull/13627/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration](https://app.codecov.io/gh/apache/pinot/pull/13627/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration1](https://app.codecov.io/gh/apache/pinot/pull/13627/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration2](https://app.codecov.io/gh/apache/pinot/pull/13627/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `0.00% <0.00%> (ø)` | |\n| [java-11](https://app.codecov.io/gh/apache/pinot/pull/13627/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.91% <25.00%> (+0.20%)` | :arrow_up: |\n| [java-21](https://app.codecov.io/gh/apache/pinot/pull/13627/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.84% <25.00%> (+0.22%)` | :arrow_up: |\n| [skip-bytebuffers-false](https://app.codecov.io/gh/apache/pinot/pull/13627/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.95% <25.00%> (+0.20%)` | :arrow_up: |\n| [skip-bytebuffers-true](https://app.codecov.io/gh/apache/pinot/pull/13627/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.80% <25.00%> (+34.08%)` | :arrow_up: |\n| [temurin](https://app.codecov.io/gh/apache/pinot/pull/13627/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.98% <25.00%> (+0.23%)` | :arrow_up: |\n| [unittests](https://app.codecov.io/gh/apache/pinot/pull/13627/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.98% <25.00%> (+0.23%)` | :arrow_up: |\n| [unittests1](https://app.codecov.io/gh/apache/pinot/pull/13627/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `46.38% <0.00%> (-0.51%)` | :arrow_down: |\n| [unittests2](https://app.codecov.io/gh/apache/pinot/pull/13627/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `27.83% <25.00%> (+0.10%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n</details>\n\n[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/apache/pinot/pull/13627?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).   \n:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2230935692/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2230936245","html_url":"https://github.com/apache/pinot/pull/13628#issuecomment-2230936245","issue_url":"https://api.github.com/repos/apache/pinot/issues/13628","id":2230936245,"node_id":"IC_kwDOATCU_c6E-WK1","user":{"login":"yashmayya","id":23502577,"node_id":"MDQ6VXNlcjIzNTAyNTc3","avatar_url":"https://avatars.githubusercontent.com/u/23502577?v=4","gravatar_id":"","url":"https://api.github.com/users/yashmayya","html_url":"https://github.com/yashmayya","followers_url":"https://api.github.com/users/yashmayya/followers","following_url":"https://api.github.com/users/yashmayya/following{/other_user}","gists_url":"https://api.github.com/users/yashmayya/gists{/gist_id}","starred_url":"https://api.github.com/users/yashmayya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yashmayya/subscriptions","organizations_url":"https://api.github.com/users/yashmayya/orgs","repos_url":"https://api.github.com/users/yashmayya/repos","events_url":"https://api.github.com/users/yashmayya/events{/privacy}","received_events_url":"https://api.github.com/users/yashmayya/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-16T13:45:29Z","updated_at":"2024-07-16T13:45:29Z","author_association":"COLLABORATOR","body":"Metric name and broker config are up for debate (naming is hard) 😄 ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2230936245/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2231068266","html_url":"https://github.com/apache/pinot/pull/13628#issuecomment-2231068266","issue_url":"https://api.github.com/repos/apache/pinot/issues/13628","id":2231068266,"node_id":"IC_kwDOATCU_c6E-2Zq","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-16T14:29:51Z","updated_at":"2024-07-29T12:39:07Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/13628?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\nAttention: Patch coverage is `18.36735%` with `40 lines` in your changes missing coverage. Please review.\n> Project coverage is 61.99%. Comparing base [(`59551e4`)](https://app.codecov.io/gh/apache/pinot/commit/59551e45224f1535c4863fd577622b37366ccc97?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) to head [(`bc4c32b`)](https://app.codecov.io/gh/apache/pinot/commit/bc4c32be4e2e2870829163f3915b10e90081208c?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n> Report is 806 commits behind head on master.\n\n| [Files](https://app.codecov.io/gh/apache/pinot/pull/13628?dropdown=coverage&src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Patch % | Lines |\n|---|---|---|\n| [...sthandler/BaseSingleStageBrokerRequestHandler.java](https://app.codecov.io/gh/apache/pinot/pull/13628?src=pr&el=tree&filepath=pinot-broker%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fbroker%2Frequesthandler%2FBaseSingleStageBrokerRequestHandler.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcmVxdWVzdGhhbmRsZXIvQmFzZVNpbmdsZVN0YWdlQnJva2VyUmVxdWVzdEhhbmRsZXIuamF2YQ==) | 15.38% | [18 Missing and 4 partials :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13628?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [.../java/org/apache/pinot/query/QueryEnvironment.java](https://app.codecov.io/gh/apache/pinot/pull/13628?src=pr&el=tree&filepath=pinot-query-planner%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fquery%2FQueryEnvironment.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvUXVlcnlFbnZpcm9ubWVudC5qYXZh) | 9.09% | [10 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13628?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...g/apache/pinot/query/parser/utils/ParserUtils.java](https://app.codecov.io/gh/apache/pinot/pull/13628?src=pr&el=tree&filepath=pinot-query-planner%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fquery%2Fparser%2Futils%2FParserUtils.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcGFyc2VyL3V0aWxzL1BhcnNlclV0aWxzLmphdmE=) | 0.00% | [6 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13628?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...roker/requesthandler/GrpcBrokerRequestHandler.java](https://app.codecov.io/gh/apache/pinot/pull/13628?src=pr&el=tree&filepath=pinot-broker%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fbroker%2Frequesthandler%2FGrpcBrokerRequestHandler.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcmVxdWVzdGhhbmRsZXIvR3JwY0Jyb2tlclJlcXVlc3RIYW5kbGVyLmphdmE=) | 0.00% | [2 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13628?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n\n<details><summary>Additional details and impacted files</summary>\n\n\n```diff\n@@             Coverage Diff              @@\n##             master   #13628      +/-   ##\n============================================\n+ Coverage     61.75%   61.99%   +0.23%     \n+ Complexity      207      198       -9     \n============================================\n  Files          2436     2554     +118     \n  Lines        133233   140652    +7419     \n  Branches      20636    21879    +1243     \n============================================\n+ Hits          82274    87192    +4918     \n- Misses        44911    46824    +1913     \n- Partials       6048     6636     +588     \n```\n\n| [Flag](https://app.codecov.io/gh/apache/pinot/pull/13628/flags?src=pr&el=flags&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [custom-integration1](https://app.codecov.io/gh/apache/pinot/pull/13628/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration](https://app.codecov.io/gh/apache/pinot/pull/13628/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration1](https://app.codecov.io/gh/apache/pinot/pull/13628/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration2](https://app.codecov.io/gh/apache/pinot/pull/13628/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `0.00% <0.00%> (ø)` | |\n| [java-11](https://app.codecov.io/gh/apache/pinot/pull/13628/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.95% <18.36%> (+0.24%)` | :arrow_up: |\n| [java-21](https://app.codecov.io/gh/apache/pinot/pull/13628/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.86% <18.36%> (+0.24%)` | :arrow_up: |\n| [skip-bytebuffers-false](https://app.codecov.io/gh/apache/pinot/pull/13628/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.97% <18.36%> (+0.22%)` | :arrow_up: |\n| [skip-bytebuffers-true](https://app.codecov.io/gh/apache/pinot/pull/13628/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.84% <18.36%> (+34.12%)` | :arrow_up: |\n| [temurin](https://app.codecov.io/gh/apache/pinot/pull/13628/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.99% <18.36%> (+0.23%)` | :arrow_up: |\n| [unittests](https://app.codecov.io/gh/apache/pinot/pull/13628/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.98% <18.36%> (+0.23%)` | :arrow_up: |\n| [unittests1](https://app.codecov.io/gh/apache/pinot/pull/13628/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `46.41% <15.78%> (-0.48%)` | :arrow_down: |\n| [unittests2](https://app.codecov.io/gh/apache/pinot/pull/13628/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `27.79% <12.24%> (+0.06%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n</details>\n\n[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/apache/pinot/pull/13628?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).   \n:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2231068266/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2231122702","html_url":"https://github.com/apache/pinot/issues/11893#issuecomment-2231122702","issue_url":"https://api.github.com/repos/apache/pinot/issues/11893","id":2231122702,"node_id":"IC_kwDOATCU_c6E_DsO","user":{"login":"shounakmk219","id":25409127,"node_id":"MDQ6VXNlcjI1NDA5MTI3","avatar_url":"https://avatars.githubusercontent.com/u/25409127?v=4","gravatar_id":"","url":"https://api.github.com/users/shounakmk219","html_url":"https://github.com/shounakmk219","followers_url":"https://api.github.com/users/shounakmk219/followers","following_url":"https://api.github.com/users/shounakmk219/following{/other_user}","gists_url":"https://api.github.com/users/shounakmk219/gists{/gist_id}","starred_url":"https://api.github.com/users/shounakmk219/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shounakmk219/subscriptions","organizations_url":"https://api.github.com/users/shounakmk219/orgs","repos_url":"https://api.github.com/users/shounakmk219/repos","events_url":"https://api.github.com/users/shounakmk219/events{/privacy}","received_events_url":"https://api.github.com/users/shounakmk219/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-16T14:53:05Z","updated_at":"2024-07-16T14:53:05Z","author_association":"COLLABORATOR","body":"Hey @jadami10 , I tried to follow the mentioned steps with the latest master and was not able to reproduce the issue. \r\nWould like to get some more context on this. \r\n\r\n> And I can clearly see in the index_map that .dictionary.startOffset and .dictionary.size are set\r\n\r\nFrom my observations the older segments which didn’t had the new column, end up having null value for that column and stay on the dictionary encoding as its marked as a sorted column. Changing to no dict will not have effect on such segments.\r\n\r\nRegarding the error\r\n```\r\nQueryExecutionError:\r\n  java.lang.UnsupportedOperationException\r\nat org.apache.pinot.segment.spi.index.reader.ForwardIndexReader.getInt(ForwardIndexReader.java:372)\r\nat org.apache.pinot.core.common.DataFetcher$ColumnValueReader.readStringValues(DataFetcher.java:576)\r\nat org.apache.pinot.core.common.DataFetcher.fetchStringValues(DataFetcher.java:239)\r\nat org.apache.pinot.core.common.DataBlockCache.getStringValuesForSVColumn(DataBlockCache.java:277)\r\n```\r\n[This code path](https://github.com/apache/pinot/blob/master/pinot-core/src/main/java/org/apache/pinot/core/common/DataFetcher.java#L391) should be taken when [dictionary is not enabled](https://github.com/apache/pinot/blob/master/pinot-core/src/main/java/org/apache/pinot/core/common/DataFetcher.java#L383) on a column so most probably this error log is coming while accessing the newer segments which have no dictionary on the column.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2231122702/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2231278395","html_url":"https://github.com/apache/pinot/issues/13466#issuecomment-2231278395","issue_url":"https://api.github.com/repos/apache/pinot/issues/13466","id":2231278395,"node_id":"IC_kwDOATCU_c6E_ps7","user":{"login":"tibrewalpratik17","id":23629228,"node_id":"MDQ6VXNlcjIzNjI5MjI4","avatar_url":"https://avatars.githubusercontent.com/u/23629228?v=4","gravatar_id":"","url":"https://api.github.com/users/tibrewalpratik17","html_url":"https://github.com/tibrewalpratik17","followers_url":"https://api.github.com/users/tibrewalpratik17/followers","following_url":"https://api.github.com/users/tibrewalpratik17/following{/other_user}","gists_url":"https://api.github.com/users/tibrewalpratik17/gists{/gist_id}","starred_url":"https://api.github.com/users/tibrewalpratik17/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tibrewalpratik17/subscriptions","organizations_url":"https://api.github.com/users/tibrewalpratik17/orgs","repos_url":"https://api.github.com/users/tibrewalpratik17/repos","events_url":"https://api.github.com/users/tibrewalpratik17/events{/privacy}","received_events_url":"https://api.github.com/users/tibrewalpratik17/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-16T15:49:00Z","updated_at":"2024-07-16T15:49:00Z","author_association":"CONTRIBUTOR","body":"Closing as the behaviour is fixed in #13579 ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2231278395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2231327374","html_url":"https://github.com/apache/pinot/pull/13597#issuecomment-2231327374","issue_url":"https://api.github.com/repos/apache/pinot/issues/13597","id":2231327374,"node_id":"IC_kwDOATCU_c6E_1qO","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-16T16:14:17Z","updated_at":"2024-07-16T16:14:17Z","author_association":"CONTRIBUTOR","body":"I suppose the scenario you are trying to optimize is when each minion uploads more than one segment (presumably two, to split data over a time boundary?) and hundreds of minions working on multiple such segments? If not, can you please explain the use case a bit more?\r\n\r\nAlso, can you use the start/end replace segments primitive that is already built?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2231327374/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2231445800","html_url":"https://github.com/apache/pinot/issues/11893#issuecomment-2231445800","issue_url":"https://api.github.com/repos/apache/pinot/issues/11893","id":2231445800,"node_id":"IC_kwDOATCU_c6FASko","user":{"login":"jadami10","id":4760722,"node_id":"MDQ6VXNlcjQ3NjA3MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4760722?v=4","gravatar_id":"","url":"https://api.github.com/users/jadami10","html_url":"https://github.com/jadami10","followers_url":"https://api.github.com/users/jadami10/followers","following_url":"https://api.github.com/users/jadami10/following{/other_user}","gists_url":"https://api.github.com/users/jadami10/gists{/gist_id}","starred_url":"https://api.github.com/users/jadami10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jadami10/subscriptions","organizations_url":"https://api.github.com/users/jadami10/orgs","repos_url":"https://api.github.com/users/jadami10/repos","events_url":"https://api.github.com/users/jadami10/events{/privacy}","received_events_url":"https://api.github.com/users/jadami10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-16T17:24:39Z","updated_at":"2024-07-16T17:24:39Z","author_association":"CONTRIBUTOR","body":"unfortunately this issue is all the context I have as the table has long since retentioned any data that did not have that column","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2231445800/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2231519384","html_url":"https://github.com/apache/pinot/issues/11893#issuecomment-2231519384","issue_url":"https://api.github.com/repos/apache/pinot/issues/11893","id":2231519384,"node_id":"IC_kwDOATCU_c6FAkiY","user":{"login":"shounakmk219","id":25409127,"node_id":"MDQ6VXNlcjI1NDA5MTI3","avatar_url":"https://avatars.githubusercontent.com/u/25409127?v=4","gravatar_id":"","url":"https://api.github.com/users/shounakmk219","html_url":"https://github.com/shounakmk219","followers_url":"https://api.github.com/users/shounakmk219/followers","following_url":"https://api.github.com/users/shounakmk219/following{/other_user}","gists_url":"https://api.github.com/users/shounakmk219/gists{/gist_id}","starred_url":"https://api.github.com/users/shounakmk219/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shounakmk219/subscriptions","organizations_url":"https://api.github.com/users/shounakmk219/orgs","repos_url":"https://api.github.com/users/shounakmk219/repos","events_url":"https://api.github.com/users/shounakmk219/events{/privacy}","received_events_url":"https://api.github.com/users/shounakmk219/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-16T18:11:14Z","updated_at":"2024-07-16T18:11:14Z","author_association":"COLLABORATOR","body":"I see. I will try to test out few hypothesis to repro this with the old code as well. \r\nAlso wanted to confirm if this issue was seen on just one table or do you remember any reoccurrence with similar operations on other tables back then?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2231519384/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2231572794","html_url":"https://github.com/apache/pinot/pull/13597#issuecomment-2231572794","issue_url":"https://api.github.com/repos/apache/pinot/issues/13597","id":2231572794,"node_id":"IC_kwDOATCU_c6FAxk6","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-16T18:38:59Z","updated_at":"2024-07-16T18:38:59Z","author_association":"CONTRIBUTOR","body":"@mcvsubbu We want to optimize the scenario where multiple clients trying to push segments, each with multiple segments to push, not necessary from minion. The bottleneck right now is that each segment push needs to lock the IS. The idea is to batch multiple IS changes into one to reduce the contention.\r\nThe batch upload should work along with start/end replace. Currently the flow is start replace -> push, push, push, push, ... -> end replace. With the new API, we can reduce the amount of push requests","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2231572794/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2231578183","html_url":"https://github.com/apache/pinot/pull/13597#issuecomment-2231578183","issue_url":"https://api.github.com/repos/apache/pinot/issues/13597","id":2231578183,"node_id":"IC_kwDOATCU_c6FAy5H","user":{"login":"rajagopr","id":11494855,"node_id":"MDQ6VXNlcjExNDk0ODU1","avatar_url":"https://avatars.githubusercontent.com/u/11494855?v=4","gravatar_id":"","url":"https://api.github.com/users/rajagopr","html_url":"https://github.com/rajagopr","followers_url":"https://api.github.com/users/rajagopr/followers","following_url":"https://api.github.com/users/rajagopr/following{/other_user}","gists_url":"https://api.github.com/users/rajagopr/gists{/gist_id}","starred_url":"https://api.github.com/users/rajagopr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rajagopr/subscriptions","organizations_url":"https://api.github.com/users/rajagopr/orgs","repos_url":"https://api.github.com/users/rajagopr/repos","events_url":"https://api.github.com/users/rajagopr/events{/privacy}","received_events_url":"https://api.github.com/users/rajagopr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-16T18:41:12Z","updated_at":"2024-07-16T18:41:12Z","author_association":"CONTRIBUTOR","body":"> I suppose the scenario you are trying to optimize is when each minion uploads more than one segment (presumably two, to split data over a time boundary?) and hundreds of minions working on multiple such segments? If not, can you please explain the use case a bit more?\r\n> \r\n> Also, can you use the start/end replace segments primitive that is already built?\r\n\r\n@mcvsubbu : Sharing additional context below.\r\n\r\nThe SegmentRefreshTask (custom minion task) helps align Pinot segments to the table configs. The task can do things like: 1) Break down a large segment into multiple small segments 2) Combine multiple small segments into one large segment\r\n3) Sort the data based on the sort column – if sort column changed. 4) Re-partition the data etc. The task extends on the abstract class BaseMultipleSegmentsConversionExecutor which can operate on multiple segments. The task aligns the \r\nPinot segments to the table configs over multiple invocations. After each round of invocation, the segments (or subset of segments) would be a step closer to the table configuration.\r\n\r\nWhen we encountered issues, each minion task was operating on upto twenty segments, there were about ~50K segments in the table and about 200 minions were operating at the same time. Once the SegmentConversionResults are generated the minion attempts to upload the new segments and there is a configured timeout of about ten minutes to upload the segment. Upon closer inspection, we found that the contention is happening while updating the IdealState and the threads are waiting to acquire the table update lock. Since, many of the uploads timeout, this would result in a flood of retries which worsens the problem.\r\n\r\nDue to the contention issue described above we are unable to increase the number of minions and the overall SegmentRefreshTask would take multiple days to complete.\r\n\r\n**cc:** @swaminathanmanish (in-case you have more details to share)\r\n\r\nTo the point of making use start/end replace segments, the BaseMultipleSegmentsConversionExecutor would already take care of it right?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2231578183/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2231579057","html_url":"https://github.com/apache/pinot/pull/13614#issuecomment-2231579057","issue_url":"https://api.github.com/repos/apache/pinot/issues/13614","id":2231579057,"node_id":"IC_kwDOATCU_c6FAzGx","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-16T18:41:31Z","updated_at":"2024-07-16T18:41:31Z","author_association":"CONTRIBUTOR","body":"Discussed offline. We will merge this one to reduce the overhead, in the meanwhile trying to figure out a thorough solution.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2231579057/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2231604530","html_url":"https://github.com/apache/pinot/issues/11893#issuecomment-2231604530","issue_url":"https://api.github.com/repos/apache/pinot/issues/11893","id":2231604530,"node_id":"IC_kwDOATCU_c6FA5Uy","user":{"login":"jadami10","id":4760722,"node_id":"MDQ6VXNlcjQ3NjA3MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4760722?v=4","gravatar_id":"","url":"https://api.github.com/users/jadami10","html_url":"https://github.com/jadami10","followers_url":"https://api.github.com/users/jadami10/followers","following_url":"https://api.github.com/users/jadami10/following{/other_user}","gists_url":"https://api.github.com/users/jadami10/gists{/gist_id}","starred_url":"https://api.github.com/users/jadami10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jadami10/subscriptions","organizations_url":"https://api.github.com/users/jadami10/orgs","repos_url":"https://api.github.com/users/jadami10/repos","events_url":"https://api.github.com/users/jadami10/events{/privacy}","received_events_url":"https://api.github.com/users/jadami10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-16T18:50:53Z","updated_at":"2024-07-16T18:50:53Z","author_association":"CONTRIBUTOR","body":"we only saw it on this 1 table. So I've assumed it's somewhat tied to JSON columns","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2231604530/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2231636486","html_url":"https://github.com/apache/pinot/pull/13625#issuecomment-2231636486","issue_url":"https://api.github.com/repos/apache/pinot/issues/13625","id":2231636486,"node_id":"IC_kwDOATCU_c6FBBIG","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2024-07-16T19:03:54Z","updated_at":"2024-07-16T19:03:54Z","author_association":"CONTRIBUTOR","body":"OK, I won't notify you again about this release, but will get in touch when a new version is available. If you'd rather skip all updates until the next major or minor version, let me know by commenting `@dependabot ignore this major version` or `@dependabot ignore this minor version`. You can also ignore all major, minor, or patch releases for a dependency by adding an [`ignore` condition](https://docs.github.com/en/code-security/supply-chain-security/configuration-options-for-dependency-updates#ignore) with the desired `update_types` to your config file.\n\nIf you change your mind, just re-open this PR and I'll resolve any conflicts on it.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2231636486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":{"id":29110,"client_id":"Iv1.4f9a6346434f815e","slug":"dependabot","node_id":"MDM6QXBwMjkxMTA=","owner":{"login":"github","id":9919,"node_id":"MDEyOk9yZ2FuaXphdGlvbjk5MTk=","avatar_url":"https://avatars.githubusercontent.com/u/9919?v=4","gravatar_id":"","url":"https://api.github.com/users/github","html_url":"https://github.com/github","followers_url":"https://api.github.com/users/github/followers","following_url":"https://api.github.com/users/github/following{/other_user}","gists_url":"https://api.github.com/users/github/gists{/gist_id}","starred_url":"https://api.github.com/users/github/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github/subscriptions","organizations_url":"https://api.github.com/users/github/orgs","repos_url":"https://api.github.com/users/github/repos","events_url":"https://api.github.com/users/github/events{/privacy}","received_events_url":"https://api.github.com/users/github/received_events","type":"Organization","user_view_type":"public","site_admin":false},"name":"Dependabot","description":"","external_url":"https://dependabot-api.githubapp.com","html_url":"https://github.com/apps/dependabot","created_at":"2019-04-16T22:34:25Z","updated_at":"2024-03-20T21:06:35Z","permissions":{"actions":"read","checks":"write","contents":"write","issues":"write","members":"read","metadata":"read","pull_requests":"write","statuses":"read","vulnerability_alerts":"read","workflows":"write"},"events":["check_suite","issues","issue_comment","label","pull_request","pull_request_review","pull_request_review_comment","repository"]}},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2231704910","html_url":"https://github.com/apache/pinot/issues/12809#issuecomment-2231704910","issue_url":"https://api.github.com/repos/apache/pinot/issues/12809","id":2231704910,"node_id":"IC_kwDOATCU_c6FBR1O","user":{"login":"aditya0811","id":29235833,"node_id":"MDQ6VXNlcjI5MjM1ODMz","avatar_url":"https://avatars.githubusercontent.com/u/29235833?v=4","gravatar_id":"","url":"https://api.github.com/users/aditya0811","html_url":"https://github.com/aditya0811","followers_url":"https://api.github.com/users/aditya0811/followers","following_url":"https://api.github.com/users/aditya0811/following{/other_user}","gists_url":"https://api.github.com/users/aditya0811/gists{/gist_id}","starred_url":"https://api.github.com/users/aditya0811/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aditya0811/subscriptions","organizations_url":"https://api.github.com/users/aditya0811/orgs","repos_url":"https://api.github.com/users/aditya0811/repos","events_url":"https://api.github.com/users/aditya0811/events{/privacy}","received_events_url":"https://api.github.com/users/aditya0811/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-16T19:43:15Z","updated_at":"2024-07-16T19:43:15Z","author_association":"CONTRIBUTOR","body":"Are these still open questions? I was unable to approach this as part of this issue.\r\na) When we are adding src/main/java21, by configuring a different profile, how are we configuring UTs for classes present in src/main/java21? \r\nb) How are we planning to trigger java21 profile in CI, without compiling other code with Java 21. By default the maven picks up the java version it is configured with. I am assuming that java version is 11 as of now, not triggering compilation for src/main/java21.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2231704910/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2231847982","html_url":"https://github.com/apache/pinot/pull/13630#issuecomment-2231847982","issue_url":"https://api.github.com/repos/apache/pinot/issues/13630","id":2231847982,"node_id":"IC_kwDOATCU_c6FB0wu","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-16T21:20:51Z","updated_at":"2024-07-17T14:00:48Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/13630?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\nAttention: Patch coverage is `0%` with `12 lines` in your changes missing coverage. Please review.\n> Project coverage is 61.95%. Comparing base [(`59551e4`)](https://app.codecov.io/gh/apache/pinot/commit/59551e45224f1535c4863fd577622b37366ccc97?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) to head [(`d63c687`)](https://app.codecov.io/gh/apache/pinot/commit/d63c687eba8a16514baa8687a36ca7852f112d5b?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n> Report is 774 commits behind head on master.\n\n| [Files](https://app.codecov.io/gh/apache/pinot/pull/13630?dropdown=coverage&src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Patch % | Lines |\n|---|---|---|\n| [...a/org/apache/pinot/common/utils/PinotDataType.java](https://app.codecov.io/gh/apache/pinot/pull/13630?src=pr&el=tree&filepath=pinot-common%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fcommon%2Futils%2FPinotDataType.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvUGlub3REYXRhVHlwZS5qYXZh) | 0.00% | [12 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13630?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n\n<details><summary>Additional details and impacted files</summary>\n\n\n```diff\n@@             Coverage Diff              @@\n##             master   #13630      +/-   ##\n============================================\n+ Coverage     61.75%   61.95%   +0.20%     \n+ Complexity      207      198       -9     \n============================================\n  Files          2436     2555     +119     \n  Lines        133233   140722    +7489     \n  Branches      20636    21864    +1228     \n============================================\n+ Hits          82274    87184    +4910     \n- Misses        44911    46909    +1998     \n- Partials       6048     6629     +581     \n```\n\n| [Flag](https://app.codecov.io/gh/apache/pinot/pull/13630/flags?src=pr&el=flags&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [custom-integration1](https://app.codecov.io/gh/apache/pinot/pull/13630/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration](https://app.codecov.io/gh/apache/pinot/pull/13630/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration1](https://app.codecov.io/gh/apache/pinot/pull/13630/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration2](https://app.codecov.io/gh/apache/pinot/pull/13630/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `0.00% <0.00%> (ø)` | |\n| [java-11](https://app.codecov.io/gh/apache/pinot/pull/13630/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.91% <0.00%> (+0.20%)` | :arrow_up: |\n| [java-21](https://app.codecov.io/gh/apache/pinot/pull/13630/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.84% <0.00%> (+0.22%)` | :arrow_up: |\n| [skip-bytebuffers-false](https://app.codecov.io/gh/apache/pinot/pull/13630/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.92% <0.00%> (+0.18%)` | :arrow_up: |\n| [skip-bytebuffers-true](https://app.codecov.io/gh/apache/pinot/pull/13630/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.83% <0.00%> (+34.10%)` | :arrow_up: |\n| [temurin](https://app.codecov.io/gh/apache/pinot/pull/13630/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.95% <0.00%> (+0.20%)` | :arrow_up: |\n| [unittests](https://app.codecov.io/gh/apache/pinot/pull/13630/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.95% <0.00%> (+0.20%)` | :arrow_up: |\n| [unittests1](https://app.codecov.io/gh/apache/pinot/pull/13630/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `46.49% <0.00%> (-0.41%)` | :arrow_down: |\n| [unittests2](https://app.codecov.io/gh/apache/pinot/pull/13630/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `27.67% <0.00%> (-0.06%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n</details>\n\n[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/apache/pinot/pull/13630?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).   \n:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2231847982/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2231850381","html_url":"https://github.com/apache/pinot/pull/13597#issuecomment-2231850381","issue_url":"https://api.github.com/repos/apache/pinot/issues/13597","id":2231850381,"node_id":"IC_kwDOATCU_c6FB1WN","user":{"login":"jtao15","id":50065407,"node_id":"MDQ6VXNlcjUwMDY1NDA3","avatar_url":"https://avatars.githubusercontent.com/u/50065407?v=4","gravatar_id":"","url":"https://api.github.com/users/jtao15","html_url":"https://github.com/jtao15","followers_url":"https://api.github.com/users/jtao15/followers","following_url":"https://api.github.com/users/jtao15/following{/other_user}","gists_url":"https://api.github.com/users/jtao15/gists{/gist_id}","starred_url":"https://api.github.com/users/jtao15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtao15/subscriptions","organizations_url":"https://api.github.com/users/jtao15/orgs","repos_url":"https://api.github.com/users/jtao15/repos","events_url":"https://api.github.com/users/jtao15/events{/privacy}","received_events_url":"https://api.github.com/users/jtao15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-16T21:22:56Z","updated_at":"2024-07-16T21:22:56Z","author_association":"CONTRIBUTOR","body":"@rajagopr Thank you for the interesting PR. I'd like to take a look soon.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2231850381/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2231855672","html_url":"https://github.com/apache/pinot/pull/13630#issuecomment-2231855672","issue_url":"https://api.github.com/repos/apache/pinot/issues/13630","id":2231855672,"node_id":"IC_kwDOATCU_c6FB2o4","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-16T21:27:10Z","updated_at":"2024-07-16T21:38:51Z","author_association":"CONTRIBUTOR","body":"> `boolean[]` should not flow into the segment creation engine. Its value should already be replaced with internal storage format within `DataTypeTransformer`\r\n\r\ngood point!  I actually saw `boolean[]` comes from the this `DataTypeTransformer`....\r\n<img width=\"914\" alt=\"image\" src=\"https://github.com/user-attachments/assets/a32c3d2e-df22-47a1-afeb-f27b81ba243b\">\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2231855672/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2231869927","html_url":"https://github.com/apache/pinot/pull/13541#issuecomment-2231869927","issue_url":"https://api.github.com/repos/apache/pinot/issues/13541","id":2231869927,"node_id":"IC_kwDOATCU_c6FB6Hn","user":{"login":"itschrispeck","id":27231838,"node_id":"MDQ6VXNlcjI3MjMxODM4","avatar_url":"https://avatars.githubusercontent.com/u/27231838?v=4","gravatar_id":"","url":"https://api.github.com/users/itschrispeck","html_url":"https://github.com/itschrispeck","followers_url":"https://api.github.com/users/itschrispeck/followers","following_url":"https://api.github.com/users/itschrispeck/following{/other_user}","gists_url":"https://api.github.com/users/itschrispeck/gists{/gist_id}","starred_url":"https://api.github.com/users/itschrispeck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itschrispeck/subscriptions","organizations_url":"https://api.github.com/users/itschrispeck/orgs","repos_url":"https://api.github.com/users/itschrispeck/repos","events_url":"https://api.github.com/users/itschrispeck/events{/privacy}","received_events_url":"https://api.github.com/users/itschrispeck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-16T21:38:45Z","updated_at":"2024-07-16T21:38:45Z","author_association":"COLLABORATOR","body":"> I don't fully follow the change. When there is no partition assigned to the given instance, the loop should all be skipped, and it should return GOOD right?\r\n\r\nNot sure I understand, are you referring to [this loop](https://github.com/apache/pinot/blob/cf1a0f6b9b44fdb567452b63a34e76ac5c635429/pinot-common/src/main/java/org/apache/pinot/common/utils/ServiceStatus.java#L446-L468)? If so, the if condition linked in the PR description shows that it will return `STARTING` status if the current state is null\r\n\r\nOr if you mean the [outer loop](https://github.com/apache/pinot/blob/cf1a0f6b9b44fdb567452b63a34e76ac5c635429/pinot-common/src/main/java/org/apache/pinot/common/utils/ServiceStatus.java#L368-L387), the issue is that `_resourceIterator` collected all assigned resources when the server first started up. The resources being iterated through are not necessarily still assigned to the server, and should be re-evaluated","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2231869927/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2231945461","html_url":"https://github.com/apache/pinot/pull/13631#issuecomment-2231945461","issue_url":"https://api.github.com/repos/apache/pinot/issues/13631","id":2231945461,"node_id":"IC_kwDOATCU_c6FCMj1","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-16T22:49:26Z","updated_at":"2024-07-16T23:38:51Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/13631?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\nAll modified and coverable lines are covered by tests :white_check_mark:\n> Project coverage is 61.99%. Comparing base [(`59551e4`)](https://app.codecov.io/gh/apache/pinot/commit/59551e45224f1535c4863fd577622b37366ccc97?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) to head [(`5c6a357`)](https://app.codecov.io/gh/apache/pinot/commit/5c6a357a545ebde21807abb6c6e60f731ba3fa96?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n> Report is 771 commits behind head on master.\n\n<details><summary>Additional details and impacted files</summary>\n\n\n```diff\n@@             Coverage Diff              @@\n##             master   #13631      +/-   ##\n============================================\n+ Coverage     61.75%   61.99%   +0.23%     \n+ Complexity      207      198       -9     \n============================================\n  Files          2436     2555     +119     \n  Lines        133233   140714    +7481     \n  Branches      20636    21862    +1226     \n============================================\n+ Hits          82274    87229    +4955     \n- Misses        44911    46853    +1942     \n- Partials       6048     6632     +584     \n```\n\n| [Flag](https://app.codecov.io/gh/apache/pinot/pull/13631/flags?src=pr&el=flags&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [custom-integration1](https://app.codecov.io/gh/apache/pinot/pull/13631/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <ø> (-0.01%)` | :arrow_down: |\n| [integration](https://app.codecov.io/gh/apache/pinot/pull/13631/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <ø> (-0.01%)` | :arrow_down: |\n| [integration1](https://app.codecov.io/gh/apache/pinot/pull/13631/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <ø> (-0.01%)` | :arrow_down: |\n| [integration2](https://app.codecov.io/gh/apache/pinot/pull/13631/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `0.00% <ø> (ø)` | |\n| [java-11](https://app.codecov.io/gh/apache/pinot/pull/13631/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.94% <ø> (+0.23%)` | :arrow_up: |\n| [java-21](https://app.codecov.io/gh/apache/pinot/pull/13631/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.85% <ø> (+0.23%)` | :arrow_up: |\n| [skip-bytebuffers-false](https://app.codecov.io/gh/apache/pinot/pull/13631/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.95% <ø> (+0.21%)` | :arrow_up: |\n| [skip-bytebuffers-true](https://app.codecov.io/gh/apache/pinot/pull/13631/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.84% <ø> (+34.11%)` | :arrow_up: |\n| [temurin](https://app.codecov.io/gh/apache/pinot/pull/13631/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.99% <ø> (+0.23%)` | :arrow_up: |\n| [unittests](https://app.codecov.io/gh/apache/pinot/pull/13631/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.98% <ø> (+0.23%)` | :arrow_up: |\n| [unittests1](https://app.codecov.io/gh/apache/pinot/pull/13631/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `46.50% <ø> (-0.39%)` | :arrow_down: |\n| [unittests2](https://app.codecov.io/gh/apache/pinot/pull/13631/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `27.70% <ø> (-0.03%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n</details>\n\n[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/apache/pinot/pull/13631?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).   \n:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2231945461/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2232071149","html_url":"https://github.com/apache/pinot/pull/13541#issuecomment-2232071149","issue_url":"https://api.github.com/repos/apache/pinot/issues/13541","id":2232071149,"node_id":"IC_kwDOATCU_c6FCrPt","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-17T00:38:13Z","updated_at":"2024-07-17T00:38:13Z","author_association":"CONTRIBUTOR","body":"My bad, now I see the problem.\r\nShould we consider first looping over the ideal state and create a map from serving partition to state, then only loop over this map in the second loop? Similar to the current approach but without the early termination in the first loop.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2232071149/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2232071857","html_url":"https://github.com/apache/pinot/issues/13629#issuecomment-2232071857","issue_url":"https://api.github.com/repos/apache/pinot/issues/13629","id":2232071857,"node_id":"IC_kwDOATCU_c6FCrax","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-17T00:39:03Z","updated_at":"2024-07-17T00:39:14Z","author_association":"CONTRIBUTOR","body":"cc @zhtaoxiang @swaminathanmanish ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2232071857/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2232072921","html_url":"https://github.com/apache/pinot/issues/13629#issuecomment-2232072921","issue_url":"https://api.github.com/repos/apache/pinot/issues/13629","id":2232072921,"node_id":"IC_kwDOATCU_c6FCrrZ","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-17T00:39:59Z","updated_at":"2024-07-17T00:39:59Z","author_association":"CONTRIBUTOR","body":"@tibrewalpratik17 Have you figured out thy the metric is not emitted?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2232072921/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2232078122","html_url":"https://github.com/apache/pinot/pull/13632#issuecomment-2232078122","issue_url":"https://api.github.com/repos/apache/pinot/issues/13632","id":2232078122,"node_id":"IC_kwDOATCU_c6FCs8q","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-17T00:45:52Z","updated_at":"2024-07-17T01:04:37Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/13632?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\nAttention: Patch coverage is `50.00000%` with `3 lines` in your changes missing coverage. Please review.\n> Project coverage is 27.70%. Comparing base [(`59551e4`)](https://app.codecov.io/gh/apache/pinot/commit/59551e45224f1535c4863fd577622b37366ccc97?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) to head [(`83999a2`)](https://app.codecov.io/gh/apache/pinot/commit/83999a2971e6f1fb1f1d7be310ad700ade699ed0?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n> Report is 772 commits behind head on master.\n\n| [Files](https://app.codecov.io/gh/apache/pinot/pull/13632?dropdown=coverage&src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Patch % | Lines |\n|---|---|---|\n| [...apache/pinot/segment/local/utils/SegmentLocks.java](https://app.codecov.io/gh/apache/pinot/pull/13632?src=pr&el=tree&filepath=pinot-segment-local%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fsegment%2Flocal%2Futils%2FSegmentLocks.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC91dGlscy9TZWdtZW50TG9ja3MuamF2YQ==) | 50.00% | [3 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13632?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n\n> :exclamation:  There is a different number of reports uploaded between BASE (59551e4) and HEAD (83999a2). Click for more details.\n> \n> <details><summary>HEAD has 6 uploads less than BASE</summary>\n>\n>| Flag | BASE (59551e4) | HEAD (83999a2) |\n>|------|------|------|\n>|skip-bytebuffers-false|7|6|\n>|unittests|5|3|\n>|unittests1|2|0|\n>|java-11|5|4|\n></details>\n\n<details><summary>Additional details and impacted files</summary>\n\n\n```diff\n@@              Coverage Diff              @@\n##             master   #13632       +/-   ##\n=============================================\n- Coverage     61.75%   27.70%   -34.05%     \n+ Complexity      207      198        -9     \n=============================================\n  Files          2436     2555      +119     \n  Lines        133233   140710     +7477     \n  Branches      20636    21861     +1225     \n=============================================\n- Hits          82274    38981    -43293     \n- Misses        44911    98747    +53836     \n+ Partials       6048     2982     -3066     \n```\n\n| [Flag](https://app.codecov.io/gh/apache/pinot/pull/13632/flags?src=pr&el=flags&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [custom-integration1](https://app.codecov.io/gh/apache/pinot/pull/13632/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration](https://app.codecov.io/gh/apache/pinot/pull/13632/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration1](https://app.codecov.io/gh/apache/pinot/pull/13632/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration2](https://app.codecov.io/gh/apache/pinot/pull/13632/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `0.00% <0.00%> (ø)` | |\n| [java-11](https://app.codecov.io/gh/apache/pinot/pull/13632/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `27.68% <50.00%> (-34.03%)` | :arrow_down: |\n| [java-21](https://app.codecov.io/gh/apache/pinot/pull/13632/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `27.70% <50.00%> (-33.93%)` | :arrow_down: |\n| [skip-bytebuffers-false](https://app.codecov.io/gh/apache/pinot/pull/13632/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `27.68% <50.00%> (-34.06%)` | :arrow_down: |\n| [skip-bytebuffers-true](https://app.codecov.io/gh/apache/pinot/pull/13632/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `27.68% <50.00%> (-0.04%)` | :arrow_down: |\n| [temurin](https://app.codecov.io/gh/apache/pinot/pull/13632/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `27.70% <50.00%> (-34.05%)` | :arrow_down: |\n| [unittests](https://app.codecov.io/gh/apache/pinot/pull/13632/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `27.69% <50.00%> (-34.05%)` | :arrow_down: |\n| [unittests1](https://app.codecov.io/gh/apache/pinot/pull/13632/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `?` | |\n| [unittests2](https://app.codecov.io/gh/apache/pinot/pull/13632/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `27.69% <50.00%> (-0.04%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n</details>\n\n[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/apache/pinot/pull/13632?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).   \n:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2232078122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2232159425","html_url":"https://github.com/apache/pinot/pull/13597#issuecomment-2232159425","issue_url":"https://api.github.com/repos/apache/pinot/issues/13597","id":2232159425,"node_id":"IC_kwDOATCU_c6FDAzB","user":{"login":"swaminathanmanish","id":126024920,"node_id":"U_kgDOB4L82A","avatar_url":"https://avatars.githubusercontent.com/u/126024920?v=4","gravatar_id":"","url":"https://api.github.com/users/swaminathanmanish","html_url":"https://github.com/swaminathanmanish","followers_url":"https://api.github.com/users/swaminathanmanish/followers","following_url":"https://api.github.com/users/swaminathanmanish/following{/other_user}","gists_url":"https://api.github.com/users/swaminathanmanish/gists{/gist_id}","starred_url":"https://api.github.com/users/swaminathanmanish/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swaminathanmanish/subscriptions","organizations_url":"https://api.github.com/users/swaminathanmanish/orgs","repos_url":"https://api.github.com/users/swaminathanmanish/repos","events_url":"https://api.github.com/users/swaminathanmanish/events{/privacy}","received_events_url":"https://api.github.com/users/swaminathanmanish/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-17T01:43:14Z","updated_at":"2024-07-17T01:43:14Z","author_association":"CONTRIBUTOR","body":"> > I suppose the scenario you are trying to optimize is when each minion uploads more than one segment (presumably two, to split data over a time boundary?) and hundreds of minions working on multiple such segments? If not, can you please explain the use case a bit more?\r\n> > Also, can you use the start/end replace segments primitive that is already built?\r\n> \r\n> @mcvsubbu : Sharing additional context below.\r\n> \r\n> The SegmentRefreshTask (custom minion task) helps align Pinot segments to the table configs. The task can do things like: 1) Break down a large segment into multiple small segments 2) Combine multiple small segments into one large segment 3) Sort the data based on the sort column – if sort column changed. 4) Re-partition the data etc. The task extends on the abstract class BaseMultipleSegmentsConversionExecutor which can operate on multiple segments. The task aligns the Pinot segments to the table configs over multiple invocations. After each round of invocation, the segments (or subset of segments) would be a step closer to the table configuration.\r\n> \r\n> When we encountered issues, each minion task was operating on upto twenty segments, there were about ~50K segments in the table and about 200 minions were operating at the same time. Once the SegmentConversionResults are generated the minion attempts to upload the new segments and there is a configured timeout of about ten minutes to upload the segment. Upon closer inspection, we found that the contention is happening while updating the IdealState and the threads are waiting to acquire the table update lock. Since, many of the uploads timeout, this would result in a flood of retries which worsens the problem.\r\n> \r\n> Due to the contention issue described above we are unable to increase the number of minions and the overall SegmentRefreshTask would take multiple days to complete.\r\n> \r\n> **cc:** @swaminathanmanish (in-case you have more details to share)\r\n> \r\n> To the point of making use start/end replace segments, the BaseMultipleSegmentsConversionExecutor would already take care of it right?\r\n\r\nThanks a lot Ragesh for the detailed context. Yes this effort is to minimize the Ideal State updates instead of doing one segment at a time. When there are 100's of minions, problem worsens and we see long wait times (orders of many minutes) for these updates to happen and sometimes results in minion timeouts as well. And then we end up reducing the minions to mitigate the problem which limits horizontal scalability of minions/task takes longer to complete.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2232159425/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2232160351","html_url":"https://github.com/apache/pinot/pull/13633#issuecomment-2232160351","issue_url":"https://api.github.com/repos/apache/pinot/issues/13633","id":2232160351,"node_id":"IC_kwDOATCU_c6FDBBf","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-17T01:43:53Z","updated_at":"2024-07-23T02:25:17Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/13633?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\nAll modified and coverable lines are covered by tests :white_check_mark:\n> Project coverage is 61.98%. Comparing base [(`59551e4`)](https://app.codecov.io/gh/apache/pinot/commit/59551e45224f1535c4863fd577622b37366ccc97?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) to head [(`8522174`)](https://app.codecov.io/gh/apache/pinot/commit/8522174d3d24981106237f411d0e36bc6aa020e7?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n> Report is 795 commits behind head on master.\n\n<details><summary>Additional details and impacted files</summary>\n\n\n```diff\n@@             Coverage Diff              @@\n##             master   #13633      +/-   ##\n============================================\n+ Coverage     61.75%   61.98%   +0.23%     \n- Complexity      207     1316    +1109     \n============================================\n  Files          2436     2554     +118     \n  Lines        133233   140565    +7332     \n  Branches      20636    21868    +1232     \n============================================\n+ Hits          82274    87125    +4851     \n- Misses        44911    46802    +1891     \n- Partials       6048     6638     +590     \n```\n\n| [Flag](https://app.codecov.io/gh/apache/pinot/pull/13633/flags?src=pr&el=flags&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [custom-integration1](https://app.codecov.io/gh/apache/pinot/pull/13633/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <ø> (-0.01%)` | :arrow_down: |\n| [integration](https://app.codecov.io/gh/apache/pinot/pull/13633/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <ø> (-0.01%)` | :arrow_down: |\n| [integration1](https://app.codecov.io/gh/apache/pinot/pull/13633/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <ø> (-0.01%)` | :arrow_down: |\n| [integration2](https://app.codecov.io/gh/apache/pinot/pull/13633/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `0.00% <ø> (ø)` | |\n| [java-11](https://app.codecov.io/gh/apache/pinot/pull/13633/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.92% <ø> (+0.21%)` | :arrow_up: |\n| [java-21](https://app.codecov.io/gh/apache/pinot/pull/13633/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.84% <ø> (+0.21%)` | :arrow_up: |\n| [skip-bytebuffers-false](https://app.codecov.io/gh/apache/pinot/pull/13633/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.94% <ø> (+0.19%)` | :arrow_up: |\n| [skip-bytebuffers-true](https://app.codecov.io/gh/apache/pinot/pull/13633/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.82% <ø> (+34.09%)` | :arrow_up: |\n| [temurin](https://app.codecov.io/gh/apache/pinot/pull/13633/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.98% <ø> (+0.23%)` | :arrow_up: |\n| [unittests](https://app.codecov.io/gh/apache/pinot/pull/13633/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.97% <ø> (+0.23%)` | :arrow_up: |\n| [unittests1](https://app.codecov.io/gh/apache/pinot/pull/13633/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `46.44% <ø> (-0.45%)` | :arrow_down: |\n| [unittests2](https://app.codecov.io/gh/apache/pinot/pull/13633/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `27.75% <ø> (+0.02%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n</details>\n\n[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/apache/pinot/pull/13633?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).   \n:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2232160351/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2232294564","html_url":"https://github.com/apache/pinot/pull/13634#issuecomment-2232294564","issue_url":"https://api.github.com/repos/apache/pinot/issues/13634","id":2232294564,"node_id":"IC_kwDOATCU_c6FDhyk","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-17T03:24:10Z","updated_at":"2024-07-17T09:25:56Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/13634?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\nAll modified and coverable lines are covered by tests :white_check_mark:\n> Project coverage is 62.02%. Comparing base [(`59551e4`)](https://app.codecov.io/gh/apache/pinot/commit/59551e45224f1535c4863fd577622b37366ccc97?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) to head [(`025b22d`)](https://app.codecov.io/gh/apache/pinot/commit/025b22de31f3ab494e74a692dbf89fd08841bf45?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n> Report is 774 commits behind head on master.\n\n<details><summary>Additional details and impacted files</summary>\n\n\n```diff\n@@             Coverage Diff              @@\n##             master   #13634      +/-   ##\n============================================\n+ Coverage     61.75%   62.02%   +0.27%     \n- Complexity      207     1305    +1098     \n============================================\n  Files          2436     2555     +119     \n  Lines        133233   140714    +7481     \n  Branches      20636    21862    +1226     \n============================================\n+ Hits          82274    87275    +5001     \n- Misses        44911    46799    +1888     \n- Partials       6048     6640     +592     \n```\n\n| [Flag](https://app.codecov.io/gh/apache/pinot/pull/13634/flags?src=pr&el=flags&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [custom-integration1](https://app.codecov.io/gh/apache/pinot/pull/13634/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <ø> (-0.01%)` | :arrow_down: |\n| [integration](https://app.codecov.io/gh/apache/pinot/pull/13634/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <ø> (-0.01%)` | :arrow_down: |\n| [integration1](https://app.codecov.io/gh/apache/pinot/pull/13634/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <ø> (-0.01%)` | :arrow_down: |\n| [integration2](https://app.codecov.io/gh/apache/pinot/pull/13634/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `0.00% <ø> (ø)` | |\n| [java-11](https://app.codecov.io/gh/apache/pinot/pull/13634/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.97% <ø> (+0.26%)` | :arrow_up: |\n| [java-21](https://app.codecov.io/gh/apache/pinot/pull/13634/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.85% <ø> (+0.23%)` | :arrow_up: |\n| [skip-bytebuffers-false](https://app.codecov.io/gh/apache/pinot/pull/13634/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.99% <ø> (+0.24%)` | :arrow_up: |\n| [skip-bytebuffers-true](https://app.codecov.io/gh/apache/pinot/pull/13634/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.82% <ø> (+34.10%)` | :arrow_up: |\n| [temurin](https://app.codecov.io/gh/apache/pinot/pull/13634/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `62.02% <ø> (+0.27%)` | :arrow_up: |\n| [unittests](https://app.codecov.io/gh/apache/pinot/pull/13634/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `62.01% <ø> (+0.27%)` | :arrow_up: |\n| [unittests1](https://app.codecov.io/gh/apache/pinot/pull/13634/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `46.51% <ø> (-0.38%)` | :arrow_down: |\n| [unittests2](https://app.codecov.io/gh/apache/pinot/pull/13634/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `27.73% <ø> (-0.01%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n</details>\n\n[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/apache/pinot/pull/13634?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).   \n:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2232294564/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2232430358","html_url":"https://github.com/apache/pinot/pull/13635#issuecomment-2232430358","issue_url":"https://api.github.com/repos/apache/pinot/issues/13635","id":2232430358,"node_id":"IC_kwDOATCU_c6FEC8W","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-17T05:10:21Z","updated_at":"2024-08-12T21:32:03Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/13635?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\nAttention: Patch coverage is `0%` with `45 lines` in your changes missing coverage. Please review.\n> Project coverage is 0.00%. Comparing base [(`59551e4`)](https://app.codecov.io/gh/apache/pinot/commit/59551e45224f1535c4863fd577622b37366ccc97?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) to head [(`d5d99a5`)](https://app.codecov.io/gh/apache/pinot/commit/d5d99a5fbd08e66db0f0dd5ba87ffb54515f5ffd?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n> Report is 875 commits behind head on master.\n\n| [Files](https://app.codecov.io/gh/apache/pinot/pull/13635?dropdown=coverage&src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Patch % | Lines |\n|---|---|---|\n| [.../tasks/BaseMultipleSegmentsConversionExecutor.java](https://app.codecov.io/gh/apache/pinot/pull/13635?src=pr&el=tree&filepath=pinot-plugins%2Fpinot-minion-tasks%2Fpinot-minion-builtin-tasks%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fplugin%2Fminion%2Ftasks%2FBaseMultipleSegmentsConversionExecutor.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcGx1Z2lucy9waW5vdC1taW5pb24tdGFza3MvcGlub3QtbWluaW9uLWJ1aWx0aW4tdGFza3Mvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3BsdWdpbi9taW5pb24vdGFza3MvQmFzZU11bHRpcGxlU2VnbWVudHNDb252ZXJzaW9uRXhlY3V0b3IuamF2YQ==) | 0.00% | [24 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13635?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...ot/plugin/minion/tasks/SegmentConversionUtils.java](https://app.codecov.io/gh/apache/pinot/pull/13635?src=pr&el=tree&filepath=pinot-plugins%2Fpinot-minion-tasks%2Fpinot-minion-builtin-tasks%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fplugin%2Fminion%2Ftasks%2FSegmentConversionUtils.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcGx1Z2lucy9waW5vdC1taW5pb24tdGFza3MvcGlub3QtbWluaW9uLWJ1aWx0aW4tdGFza3Mvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3BsdWdpbi9taW5pb24vdGFza3MvU2VnbWVudENvbnZlcnNpb25VdGlscy5qYXZh) | 0.00% | [7 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13635?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...ache/pinot/plugin/minion/tasks/MergeTaskUtils.java](https://app.codecov.io/gh/apache/pinot/pull/13635?src=pr&el=tree&filepath=pinot-plugins%2Fpinot-minion-tasks%2Fpinot-minion-builtin-tasks%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fplugin%2Fminion%2Ftasks%2FMergeTaskUtils.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcGx1Z2lucy9waW5vdC1taW5pb24tdGFza3MvcGlub3QtbWluaW9uLWJ1aWx0aW4tdGFza3Mvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3BsdWdpbi9taW5pb24vdGFza3MvTWVyZ2VUYXNrVXRpbHMuamF2YQ==) | 0.00% | [4 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13635?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...psertcompaction/UpsertCompactionTaskGenerator.java](https://app.codecov.io/gh/apache/pinot/pull/13635?src=pr&el=tree&filepath=pinot-plugins%2Fpinot-minion-tasks%2Fpinot-minion-builtin-tasks%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fplugin%2Fminion%2Ftasks%2Fupsertcompaction%2FUpsertCompactionTaskGenerator.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcGx1Z2lucy9waW5vdC1taW5pb24tdGFza3MvcGlub3QtbWluaW9uLWJ1aWx0aW4tdGFza3Mvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3BsdWdpbi9taW5pb24vdGFza3MvdXBzZXJ0Y29tcGFjdGlvbi9VcHNlcnRDb21wYWN0aW9uVGFza0dlbmVyYXRvci5qYXZh) | 0.00% | [3 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13635?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...t/ConcurrentMapPartitionUpsertMetadataManager.java](https://app.codecov.io/gh/apache/pinot/pull/13635?src=pr&el=tree&filepath=pinot-segment-local%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fsegment%2Flocal%2Fupsert%2FConcurrentMapPartitionUpsertMetadataManager.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC91cHNlcnQvQ29uY3VycmVudE1hcFBhcnRpdGlvblVwc2VydE1ldGFkYXRhTWFuYWdlci5qYXZh) | 0.00% | [3 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13635?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...cal/upsert/BasePartitionUpsertMetadataManager.java](https://app.codecov.io/gh/apache/pinot/pull/13635?src=pr&el=tree&filepath=pinot-segment-local%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fsegment%2Flocal%2Fupsert%2FBasePartitionUpsertMetadataManager.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC91cHNlcnQvQmFzZVBhcnRpdGlvblVwc2VydE1ldGFkYXRhTWFuYWdlci5qYXZh) | 0.00% | [2 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13635?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...apache/pinot/segment/local/upsert/UpsertUtils.java](https://app.codecov.io/gh/apache/pinot/pull/13635?src=pr&el=tree&filepath=pinot-segment-local%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fsegment%2Flocal%2Fupsert%2FUpsertUtils.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC91cHNlcnQvVXBzZXJ0VXRpbHMuamF2YQ==) | 0.00% | [2 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13635?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n\n> :exclamation:  There is a different number of reports uploaded between BASE (59551e4) and HEAD (d5d99a5). Click for more details.\n> \n> <details><summary>HEAD has 38 uploads less than BASE</summary>\n>\n>| Flag | BASE (59551e4) | HEAD (d5d99a5) |\n>|------|------|------|\n>|integration|7|4|\n>|temurin|12|4|\n>|java-21|7|3|\n>|skip-bytebuffers-true|3|2|\n>|skip-bytebuffers-false|7|2|\n>|unittests|5|0|\n>|unittests1|2|0|\n>|java-11|5|1|\n>|unittests2|3|0|\n>|integration1|2|1|\n>|custom-integration1|2|0|\n></details>\n\n<details><summary>Additional details and impacted files</summary>\n\n\n```diff\n@@              Coverage Diff              @@\n##             master   #13635       +/-   ##\n=============================================\n- Coverage     61.75%    0.00%   -61.75%     \n+ Complexity      207        6      -201     \n=============================================\n  Files          2436     2482       +46     \n  Lines        133233   137402     +4169     \n  Branches      20636    21384      +748     \n=============================================\n- Hits          82274        6    -82268     \n- Misses        44911   137396    +92485     \n+ Partials       6048        0     -6048     \n```\n\n| [Flag](https://app.codecov.io/gh/apache/pinot/pull/13635/flags?src=pr&el=flags&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [custom-integration1](https://app.codecov.io/gh/apache/pinot/pull/13635/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `?` | |\n| [integration](https://app.codecov.io/gh/apache/pinot/pull/13635/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration1](https://app.codecov.io/gh/apache/pinot/pull/13635/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration2](https://app.codecov.io/gh/apache/pinot/pull/13635/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `0.00% <0.00%> (ø)` | |\n| [java-11](https://app.codecov.io/gh/apache/pinot/pull/13635/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `0.00% <0.00%> (-61.71%)` | :arrow_down: |\n| [java-21](https://app.codecov.io/gh/apache/pinot/pull/13635/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-61.63%)` | :arrow_down: |\n| [skip-bytebuffers-false](https://app.codecov.io/gh/apache/pinot/pull/13635/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `0.00% <0.00%> (-61.75%)` | :arrow_down: |\n| [skip-bytebuffers-true](https://app.codecov.io/gh/apache/pinot/pull/13635/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-27.73%)` | :arrow_down: |\n| [temurin](https://app.codecov.io/gh/apache/pinot/pull/13635/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-61.75%)` | :arrow_down: |\n| [unittests](https://app.codecov.io/gh/apache/pinot/pull/13635/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `?` | |\n| [unittests1](https://app.codecov.io/gh/apache/pinot/pull/13635/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `?` | |\n| [unittests2](https://app.codecov.io/gh/apache/pinot/pull/13635/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `?` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n</details>\n\n[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/apache/pinot/pull/13635?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).   \n:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2232430358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2232530000","html_url":"https://github.com/apache/pinot/pull/13636#issuecomment-2232530000","issue_url":"https://api.github.com/repos/apache/pinot/issues/13636","id":2232530000,"node_id":"IC_kwDOATCU_c6FEbRQ","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-17T06:30:13Z","updated_at":"2024-08-16T16:45:57Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/13636?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\nAttention: Patch coverage is `57.10059%` with `145 lines` in your changes missing coverage. Please review.\n> Project coverage is 61.91%. Comparing base [(`59551e4`)](https://app.codecov.io/gh/apache/pinot/commit/59551e45224f1535c4863fd577622b37366ccc97?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) to head [(`5c1dea9`)](https://app.codecov.io/gh/apache/pinot/commit/5c1dea991e7ea0f7df57eb86a85c0e5159d17ab4?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n> Report is 895 commits behind head on master.\n\n| [Files](https://app.codecov.io/gh/apache/pinot/pull/13636?dropdown=coverage&src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Patch % | Lines |\n|---|---|---|\n| [...local/dedup/BasePartitionDedupMetadataManager.java](https://app.codecov.io/gh/apache/pinot/pull/13636?src=pr&el=tree&filepath=pinot-segment-local%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fsegment%2Flocal%2Fdedup%2FBasePartitionDedupMetadataManager.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9kZWR1cC9CYXNlUGFydGl0aW9uRGVkdXBNZXRhZGF0YU1hbmFnZXIuamF2YQ==) | 35.57% | [62 Missing and 5 partials :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13636?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...ata/manager/realtime/RealtimeTableDataManager.java](https://app.codecov.io/gh/apache/pinot/pull/13636?src=pr&el=tree&filepath=pinot-core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fcore%2Fdata%2Fmanager%2Frealtime%2FRealtimeTableDataManager.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUmVhbHRpbWVUYWJsZURhdGFNYW5hZ2VyLmphdmE=) | 0.00% | [16 Missing and 1 partial :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13636?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...up/ConcurrentMapPartitionDedupMetadataManager.java](https://app.codecov.io/gh/apache/pinot/pull/13636?src=pr&el=tree&filepath=pinot-segment-local%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fsegment%2Flocal%2Fdedup%2FConcurrentMapPartitionDedupMetadataManager.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9kZWR1cC9Db25jdXJyZW50TWFwUGFydGl0aW9uRGVkdXBNZXRhZGF0YU1hbmFnZXIuamF2YQ==) | 76.59% | [8 Missing and 3 partials :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13636?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...ent/local/dedup/BaseTableDedupMetadataManager.java](https://app.codecov.io/gh/apache/pinot/pull/13636?src=pr&el=tree&filepath=pinot-segment-local%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fsegment%2Flocal%2Fdedup%2FBaseTableDedupMetadataManager.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9kZWR1cC9CYXNlVGFibGVEZWR1cE1ldGFkYXRhTWFuYWdlci5qYXZh) | 67.74% | [8 Missing and 2 partials :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13636?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...g/apache/pinot/segment/local/dedup/DedupUtils.java](https://app.codecov.io/gh/apache/pinot/pull/13636?src=pr&el=tree&filepath=pinot-segment-local%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fsegment%2Flocal%2Fdedup%2FDedupUtils.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9kZWR1cC9EZWR1cFV0aWxzLmphdmE=) | 54.54% | [9 Missing and 1 partial :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13636?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...apache/pinot/segment/local/dedup/DedupContext.java](https://app.codecov.io/gh/apache/pinot/pull/13636?src=pr&el=tree&filepath=pinot-segment-local%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fsegment%2Flocal%2Fdedup%2FDedupContext.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9kZWR1cC9EZWR1cENvbnRleHQuamF2YQ==) | 82.22% | [4 Missing and 4 partials :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13636?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...egment/local/segment/readers/PrimaryKeyReader.java](https://app.codecov.io/gh/apache/pinot/pull/13636?src=pr&el=tree&filepath=pinot-segment-local%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fsegment%2Flocal%2Fsegment%2Freaders%2FPrimaryKeyReader.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L3JlYWRlcnMvUHJpbWFyeUtleVJlYWRlci5qYXZh) | 72.72% | [5 Missing and 1 partial :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13636?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...apache/pinot/segment/local/upsert/UpsertUtils.java](https://app.codecov.io/gh/apache/pinot/pull/13636?src=pr&el=tree&filepath=pinot-segment-local%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fsegment%2Flocal%2Fupsert%2FUpsertUtils.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC91cHNlcnQvVXBzZXJ0VXRpbHMuamF2YQ==) | 0.00% | [4 Missing and 1 partial :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13636?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...ent/local/dedup/PartitionDedupMetadataManager.java](https://app.codecov.io/gh/apache/pinot/pull/13636?src=pr&el=tree&filepath=pinot-segment-local%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fsegment%2Flocal%2Fdedup%2FPartitionDedupMetadataManager.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9kZWR1cC9QYXJ0aXRpb25EZWR1cE1ldGFkYXRhTWFuYWdlci5qYXZh) | 0.00% | [3 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13636?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...a/manager/realtime/RealtimeSegmentDataManager.java](https://app.codecov.io/gh/apache/pinot/pull/13636?src=pr&el=tree&filepath=pinot-core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fcore%2Fdata%2Fmanager%2Frealtime%2FRealtimeSegmentDataManager.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUmVhbHRpbWVTZWdtZW50RGF0YU1hbmFnZXIuamF2YQ==) | 60.00% | [1 Missing and 1 partial :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13636?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| ... and [3 more](https://app.codecov.io/gh/apache/pinot/pull/13636?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | |\n\n<details><summary>Additional details and impacted files</summary>\n\n\n```diff\n@@             Coverage Diff              @@\n##             master   #13636      +/-   ##\n============================================\n+ Coverage     61.75%   61.91%   +0.15%     \n+ Complexity      207      198       -9     \n============================================\n  Files          2436     2566     +130     \n  Lines        133233   141718    +8485     \n  Branches      20636    22039    +1403     \n============================================\n+ Hits          82274    87738    +5464     \n- Misses        44911    47275    +2364     \n- Partials       6048     6705     +657     \n```\n\n| [Flag](https://app.codecov.io/gh/apache/pinot/pull/13636/flags?src=pr&el=flags&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [custom-integration1](https://app.codecov.io/gh/apache/pinot/pull/13636/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration](https://app.codecov.io/gh/apache/pinot/pull/13636/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration1](https://app.codecov.io/gh/apache/pinot/pull/13636/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration2](https://app.codecov.io/gh/apache/pinot/pull/13636/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `0.00% <0.00%> (ø)` | |\n| [java-11](https://app.codecov.io/gh/apache/pinot/pull/13636/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.91% <57.10%> (+0.20%)` | :arrow_up: |\n| [java-21](https://app.codecov.io/gh/apache/pinot/pull/13636/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-61.63%)` | :arrow_down: |\n| [skip-bytebuffers-false](https://app.codecov.io/gh/apache/pinot/pull/13636/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.91% <57.10%> (+0.16%)` | :arrow_up: |\n| [skip-bytebuffers-true](https://app.codecov.io/gh/apache/pinot/pull/13636/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `0.00% <0.00%> (-27.73%)` | :arrow_down: |\n| [temurin](https://app.codecov.io/gh/apache/pinot/pull/13636/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.91% <57.10%> (+0.15%)` | :arrow_up: |\n| [unittests](https://app.codecov.io/gh/apache/pinot/pull/13636/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.90% <57.10%> (+0.15%)` | :arrow_up: |\n| [unittests1](https://app.codecov.io/gh/apache/pinot/pull/13636/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `46.14% <3.55%> (-0.75%)` | :arrow_down: |\n| [unittests2](https://app.codecov.io/gh/apache/pinot/pull/13636/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `27.90% <53.55%> (+0.17%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n</details>\n\n[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/apache/pinot/pull/13636?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).   \n:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2232530000/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2232548249","html_url":"https://github.com/apache/pinot/pull/13630#issuecomment-2232548249","issue_url":"https://api.github.com/repos/apache/pinot/issues/13630","id":2232548249,"node_id":"IC_kwDOATCU_c6FEfuZ","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-17T06:43:53Z","updated_at":"2024-07-17T06:43:53Z","author_association":"CONTRIBUTOR","body":"> `boolean[]` should not flow into the segment creation engine. Its value should already be replaced with internal storage format within `DataTypeTransformer`\r\n\r\nSeems that the issue is type conversion of `toInternal()` for `BOOLEAN_ARRAY` and `TIMESTAMP_ARRAY` are missed.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2232548249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2232605900","html_url":"https://github.com/apache/pinot/pull/13533#issuecomment-2232605900","issue_url":"https://api.github.com/repos/apache/pinot/issues/13533","id":2232605900,"node_id":"IC_kwDOATCU_c6FEtzM","user":{"login":"jasperjiaguo","id":10736840,"node_id":"MDQ6VXNlcjEwNzM2ODQw","avatar_url":"https://avatars.githubusercontent.com/u/10736840?v=4","gravatar_id":"","url":"https://api.github.com/users/jasperjiaguo","html_url":"https://github.com/jasperjiaguo","followers_url":"https://api.github.com/users/jasperjiaguo/followers","following_url":"https://api.github.com/users/jasperjiaguo/following{/other_user}","gists_url":"https://api.github.com/users/jasperjiaguo/gists{/gist_id}","starred_url":"https://api.github.com/users/jasperjiaguo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasperjiaguo/subscriptions","organizations_url":"https://api.github.com/users/jasperjiaguo/orgs","repos_url":"https://api.github.com/users/jasperjiaguo/repos","events_url":"https://api.github.com/users/jasperjiaguo/events{/privacy}","received_events_url":"https://api.github.com/users/jasperjiaguo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-17T07:20:26Z","updated_at":"2024-07-17T07:20:26Z","author_association":"CONTRIBUTOR","body":"nit: I think `x OR NOT y` is equal to `x NOT y` (from my testing)","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2232605900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2232640284","html_url":"https://github.com/apache/pinot/pull/13609#issuecomment-2232640284","issue_url":"https://api.github.com/repos/apache/pinot/issues/13609","id":2232640284,"node_id":"IC_kwDOATCU_c6FE2Mc","user":{"login":"gortiz","id":1913993,"node_id":"MDQ6VXNlcjE5MTM5OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1913993?v=4","gravatar_id":"","url":"https://api.github.com/users/gortiz","html_url":"https://github.com/gortiz","followers_url":"https://api.github.com/users/gortiz/followers","following_url":"https://api.github.com/users/gortiz/following{/other_user}","gists_url":"https://api.github.com/users/gortiz/gists{/gist_id}","starred_url":"https://api.github.com/users/gortiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gortiz/subscriptions","organizations_url":"https://api.github.com/users/gortiz/orgs","repos_url":"https://api.github.com/users/gortiz/repos","events_url":"https://api.github.com/users/gortiz/events{/privacy}","received_events_url":"https://api.github.com/users/gortiz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-17T07:40:10Z","updated_at":"2024-07-17T07:40:10Z","author_association":"CONTRIBUTOR","body":"> Should we also add the support for ISO format such as 2024-07-12T15:32:36?\r\n\r\nI think we should define the exact syntax we support. IMO we should include what we are accepting right now plus ISO format","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2232640284/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2232651228","html_url":"https://github.com/apache/pinot/pull/13605#issuecomment-2232651228","issue_url":"https://api.github.com/repos/apache/pinot/issues/13605","id":2232651228,"node_id":"IC_kwDOATCU_c6FE43c","user":{"login":"gortiz","id":1913993,"node_id":"MDQ6VXNlcjE5MTM5OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1913993?v=4","gravatar_id":"","url":"https://api.github.com/users/gortiz","html_url":"https://github.com/gortiz","followers_url":"https://api.github.com/users/gortiz/followers","following_url":"https://api.github.com/users/gortiz/following{/other_user}","gists_url":"https://api.github.com/users/gortiz/gists{/gist_id}","starred_url":"https://api.github.com/users/gortiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gortiz/subscriptions","organizations_url":"https://api.github.com/users/gortiz/orgs","repos_url":"https://api.github.com/users/gortiz/repos","events_url":"https://api.github.com/users/gortiz/events{/privacy}","received_events_url":"https://api.github.com/users/gortiz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-17T07:46:22Z","updated_at":"2024-07-17T07:46:22Z","author_association":"CONTRIBUTOR","body":"Even we may need to apply something like this in the future, we are going to let it be in standby for now given we don't know the impact that join main have, specially in NOT IN case","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2232651228/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2232662769","html_url":"https://github.com/apache/pinot/pull/13477#issuecomment-2232662769","issue_url":"https://api.github.com/repos/apache/pinot/issues/13477","id":2232662769,"node_id":"IC_kwDOATCU_c6FE7rx","user":{"login":"mgranderath","id":22001111,"node_id":"MDQ6VXNlcjIyMDAxMTEx","avatar_url":"https://avatars.githubusercontent.com/u/22001111?v=4","gravatar_id":"","url":"https://api.github.com/users/mgranderath","html_url":"https://github.com/mgranderath","followers_url":"https://api.github.com/users/mgranderath/followers","following_url":"https://api.github.com/users/mgranderath/following{/other_user}","gists_url":"https://api.github.com/users/mgranderath/gists{/gist_id}","starred_url":"https://api.github.com/users/mgranderath/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgranderath/subscriptions","organizations_url":"https://api.github.com/users/mgranderath/orgs","repos_url":"https://api.github.com/users/mgranderath/repos","events_url":"https://api.github.com/users/mgranderath/events{/privacy}","received_events_url":"https://api.github.com/users/mgranderath/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-17T07:52:26Z","updated_at":"2024-07-17T07:52:26Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang made the adjustment. Version 5 should fix the issue where the connection factory is not being picked up from the `PoolingHttpClientConnectionManager` so this has become a simpler change.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2232662769/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2232727805","html_url":"https://github.com/apache/pinot/issues/13556#issuecomment-2232727805","issue_url":"https://api.github.com/repos/apache/pinot/issues/13556","id":2232727805,"node_id":"IC_kwDOATCU_c6FFLj9","user":{"login":"mgranderath","id":22001111,"node_id":"MDQ6VXNlcjIyMDAxMTEx","avatar_url":"https://avatars.githubusercontent.com/u/22001111?v=4","gravatar_id":"","url":"https://api.github.com/users/mgranderath","html_url":"https://github.com/mgranderath","followers_url":"https://api.github.com/users/mgranderath/followers","following_url":"https://api.github.com/users/mgranderath/following{/other_user}","gists_url":"https://api.github.com/users/mgranderath/gists{/gist_id}","starred_url":"https://api.github.com/users/mgranderath/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgranderath/subscriptions","organizations_url":"https://api.github.com/users/mgranderath/orgs","repos_url":"https://api.github.com/users/mgranderath/repos","events_url":"https://api.github.com/users/mgranderath/events{/privacy}","received_events_url":"https://api.github.com/users/mgranderath/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-17T08:25:11Z","updated_at":"2024-07-17T08:25:11Z","author_association":"CONTRIBUTOR","body":"Added a draft of our solution [here](https://github.com/apache/pinot/pull/13637/). I am also very open to entirely changing the approach if there are better ideas!","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2232727805/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2232803602","html_url":"https://github.com/apache/pinot/pull/13637#issuecomment-2232803602","issue_url":"https://api.github.com/repos/apache/pinot/issues/13637","id":2232803602,"node_id":"IC_kwDOATCU_c6FFeES","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-17T09:02:35Z","updated_at":"2024-11-17T14:06:13Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/13637?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\nAttention: Patch coverage is `0%` with `14 lines` in your changes missing coverage. Please review.\n> Project coverage is 35.19%. Comparing base [(`59551e4`)](https://app.codecov.io/gh/apache/pinot/commit/59551e45224f1535c4863fd577622b37366ccc97?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) to head [(`4f68027`)](https://app.codecov.io/gh/apache/pinot/commit/4f68027585fc025d6168c9d69103fdee998fdf64?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n> Report is 1343 commits behind head on master.\n\n| [Files with missing lines](https://app.codecov.io/gh/apache/pinot/pull/13637?dropdown=coverage&src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Patch % | Lines |\n|---|---|---|\n| [...ller/api/resources/PinotSchemaRestletResource.java](https://app.codecov.io/gh/apache/pinot/pull/13637?src=pr&el=tree&filepath=pinot-controller%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fcontroller%2Fapi%2Fresources%2FPinotSchemaRestletResource.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL1Bpbm90U2NoZW1hUmVzdGxldFJlc291cmNlLmphdmE=) | 0.00% | [4 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13637?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...che/pinot/controller/api/access/AccessControl.java](https://app.codecov.io/gh/apache/pinot/pull/13637?src=pr&el=tree&filepath=pinot-controller%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fcontroller%2Fapi%2Faccess%2FAccessControl.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvYWNjZXNzL0FjY2Vzc0NvbnRyb2wuamF2YQ==) | 0.00% | [3 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13637?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...inot/controller/api/access/AccessControlUtils.java](https://app.codecov.io/gh/apache/pinot/pull/13637?src=pr&el=tree&filepath=pinot-controller%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fcontroller%2Fapi%2Faccess%2FAccessControlUtils.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvYWNjZXNzL0FjY2Vzc0NvbnRyb2xVdGlscy5qYXZh) | 0.00% | [2 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13637?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...oller/api/resources/PinotTableRestletResource.java](https://app.codecov.io/gh/apache/pinot/pull/13637?src=pr&el=tree&filepath=pinot-controller%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fcontroller%2Fapi%2Fresources%2FPinotTableRestletResource.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL1Bpbm90VGFibGVSZXN0bGV0UmVzb3VyY2UuamF2YQ==) | 0.00% | [2 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13637?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...ler/api/resources/TableConfigsRestletResource.java](https://app.codecov.io/gh/apache/pinot/pull/13637?src=pr&el=tree&filepath=pinot-controller%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fcontroller%2Fapi%2Fresources%2FTableConfigsRestletResource.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL1RhYmxlQ29uZmlnc1Jlc3RsZXRSZXNvdXJjZS5qYXZh) | 0.00% | [2 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13637?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...ot/controller/api/access/AuthenticationFilter.java](https://app.codecov.io/gh/apache/pinot/pull/13637?src=pr&el=tree&filepath=pinot-controller%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fcontroller%2Fapi%2Faccess%2FAuthenticationFilter.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvYWNjZXNzL0F1dGhlbnRpY2F0aW9uRmlsdGVyLmphdmE=) | 0.00% | [1 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13637?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n\n> :exclamation:  There is a different number of reports uploaded between BASE (59551e4) and HEAD (4f68027). Click for more details.\n> \n> <details><summary>HEAD has 11 uploads less than BASE</summary>\n>\n>| Flag | BASE (59551e4) | HEAD (4f68027) |\n>|------|------|------|\n>|integration2|3|2|\n>|temurin|12|11|\n>|skip-bytebuffers-false|7|5|\n>|unittests|5|3|\n>|java-11|5|3|\n>|unittests2|3|0|\n></details>\n\n<details><summary>Additional details and impacted files</summary>\n\n\n```diff\n@@              Coverage Diff              @@\n##             master   #13637       +/-   ##\n=============================================\n- Coverage     61.75%   35.19%   -26.56%     \n+ Complexity      207        6      -201     \n=============================================\n  Files          2436     2480       +44     \n  Lines        133233   137050     +3817     \n  Branches      20636    21305      +669     \n=============================================\n- Hits          82274    48241    -34033     \n- Misses        44911    85161    +40250     \n+ Partials       6048     3648     -2400     \n```\n\n| [Flag](https://app.codecov.io/gh/apache/pinot/pull/13637/flags?src=pr&el=flags&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [custom-integration1](https://app.codecov.io/gh/apache/pinot/pull/13637/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration](https://app.codecov.io/gh/apache/pinot/pull/13637/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration1](https://app.codecov.io/gh/apache/pinot/pull/13637/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration2](https://app.codecov.io/gh/apache/pinot/pull/13637/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `0.00% <0.00%> (ø)` | |\n| [java-11](https://app.codecov.io/gh/apache/pinot/pull/13637/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `35.17% <0.00%> (-26.54%)` | :arrow_down: |\n| [java-21](https://app.codecov.io/gh/apache/pinot/pull/13637/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `35.07% <0.00%> (-26.56%)` | :arrow_down: |\n| [skip-bytebuffers-false](https://app.codecov.io/gh/apache/pinot/pull/13637/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `35.19% <0.00%> (-26.56%)` | :arrow_down: |\n| [skip-bytebuffers-true](https://app.codecov.io/gh/apache/pinot/pull/13637/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `35.05% <0.00%> (+7.32%)` | :arrow_up: |\n| [temurin](https://app.codecov.io/gh/apache/pinot/pull/13637/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `35.19% <0.00%> (-26.56%)` | :arrow_down: |\n| [unittests](https://app.codecov.io/gh/apache/pinot/pull/13637/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `46.49% <ø> (-15.26%)` | :arrow_down: |\n| [unittests1](https://app.codecov.io/gh/apache/pinot/pull/13637/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `46.49% <ø> (-0.40%)` | :arrow_down: |\n| [unittests2](https://app.codecov.io/gh/apache/pinot/pull/13637/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `?` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n</details>\n\n[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/apache/pinot/pull/13637?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).   \n:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2232803602/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2232917058","html_url":"https://github.com/apache/pinot/issues/13629#issuecomment-2232917058","issue_url":"https://api.github.com/repos/apache/pinot/issues/13629","id":2232917058,"node_id":"IC_kwDOATCU_c6FF5xC","user":{"login":"tibrewalpratik17","id":23629228,"node_id":"MDQ6VXNlcjIzNjI5MjI4","avatar_url":"https://avatars.githubusercontent.com/u/23629228?v=4","gravatar_id":"","url":"https://api.github.com/users/tibrewalpratik17","html_url":"https://github.com/tibrewalpratik17","followers_url":"https://api.github.com/users/tibrewalpratik17/followers","following_url":"https://api.github.com/users/tibrewalpratik17/following{/other_user}","gists_url":"https://api.github.com/users/tibrewalpratik17/gists{/gist_id}","starred_url":"https://api.github.com/users/tibrewalpratik17/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tibrewalpratik17/subscriptions","organizations_url":"https://api.github.com/users/tibrewalpratik17/orgs","repos_url":"https://api.github.com/users/tibrewalpratik17/repos","events_url":"https://api.github.com/users/tibrewalpratik17/events{/privacy}","received_events_url":"https://api.github.com/users/tibrewalpratik17/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-17T09:58:55Z","updated_at":"2024-07-17T09:58:55Z","author_association":"CONTRIBUTOR","body":"> Have you figured out thy the metric is not emitted?\r\n\r\nI'm not entirely sure, but the `cleanupMetrics` method might be the cause. It specifically removes the `llcPartitionConsuming` metric from the metrics registry.\r\nRef: https://github.com/apache/pinot/blob/e64ef15330f356dc96fae38d52bce80e6af2068f/pinot-core/src/main/java/org/apache/pinot/core/data/manager/realtime/RealtimeSegmentDataManager.java#L1198-L1200\r\n\r\nThis method is called after every segment replacement or removal, which, in our case, occurs when a mutable segment becomes an immutable segment. This might somehow conflict with the new consuming segment metric.\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2232917058/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2232962841","html_url":"https://github.com/apache/pinot/issues/13629#issuecomment-2232962841","issue_url":"https://api.github.com/repos/apache/pinot/issues/13629","id":2232962841,"node_id":"IC_kwDOATCU_c6FGE8Z","user":{"login":"tibrewalpratik17","id":23629228,"node_id":"MDQ6VXNlcjIzNjI5MjI4","avatar_url":"https://avatars.githubusercontent.com/u/23629228?v=4","gravatar_id":"","url":"https://api.github.com/users/tibrewalpratik17","html_url":"https://github.com/tibrewalpratik17","followers_url":"https://api.github.com/users/tibrewalpratik17/followers","following_url":"https://api.github.com/users/tibrewalpratik17/following{/other_user}","gists_url":"https://api.github.com/users/tibrewalpratik17/gists{/gist_id}","starred_url":"https://api.github.com/users/tibrewalpratik17/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tibrewalpratik17/subscriptions","organizations_url":"https://api.github.com/users/tibrewalpratik17/orgs","repos_url":"https://api.github.com/users/tibrewalpratik17/repos","events_url":"https://api.github.com/users/tibrewalpratik17/events{/privacy}","received_events_url":"https://api.github.com/users/tibrewalpratik17/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-17T10:22:56Z","updated_at":"2024-07-17T10:23:10Z","author_association":"CONTRIBUTOR","body":"I found this comment -- https://github.com/apache/pinot/pull/6887#issuecomment-837094283 \r\nwhere one of the concerns was that removing the metric while a new consuming segment is added might lead to this kind of issue we are talking about but according to the reply, Yammer shouldn't have this.\r\nWe have our own metrics factory in Uber -- M3 and so it might be M3-specific issue for us? \r\n\r\ncc @jackjlli @mcvsubbu do we really need this `cleanupMetrics` method or is it needed only during number of partitions increased? In that way we can move it behind a config maybe? \r\n\r\ncc @ankitsultana who worked on Yammer -> M3 migration in Uber for Pinot. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2232962841/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2233014899","html_url":"https://github.com/apache/pinot/pull/13545#issuecomment-2233014899","issue_url":"https://api.github.com/repos/apache/pinot/issues/13545","id":2233014899,"node_id":"IC_kwDOATCU_c6FGRpz","user":{"login":"gortiz","id":1913993,"node_id":"MDQ6VXNlcjE5MTM5OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1913993?v=4","gravatar_id":"","url":"https://api.github.com/users/gortiz","html_url":"https://github.com/gortiz","followers_url":"https://api.github.com/users/gortiz/followers","following_url":"https://api.github.com/users/gortiz/following{/other_user}","gists_url":"https://api.github.com/users/gortiz/gists{/gist_id}","starred_url":"https://api.github.com/users/gortiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gortiz/subscriptions","organizations_url":"https://api.github.com/users/gortiz/orgs","repos_url":"https://api.github.com/users/gortiz/repos","events_url":"https://api.github.com/users/gortiz/events{/privacy}","received_events_url":"https://api.github.com/users/gortiz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-17T10:51:40Z","updated_at":"2024-07-17T10:51:40Z","author_association":"CONTRIBUTOR","body":"I've just open #13639 to disable LArray by default as a first step to end up removing it completely","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2233014899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2233100007","html_url":"https://github.com/apache/pinot/pull/13639#issuecomment-2233100007","issue_url":"https://api.github.com/repos/apache/pinot/issues/13639","id":2233100007,"node_id":"IC_kwDOATCU_c6FGmbn","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-17T11:35:48Z","updated_at":"2024-07-18T15:33:58Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/13639?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\nAll modified and coverable lines are covered by tests :white_check_mark:\n> Project coverage is 61.99%. Comparing base [(`59551e4`)](https://app.codecov.io/gh/apache/pinot/commit/59551e45224f1535c4863fd577622b37366ccc97?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) to head [(`93a2108`)](https://app.codecov.io/gh/apache/pinot/commit/93a2108a80c1aa5c7c6ca72f1b7be500b8ab0c77?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n> Report is 782 commits behind head on master.\n\n<details><summary>Additional details and impacted files</summary>\n\n\n```diff\n@@             Coverage Diff              @@\n##             master   #13639      +/-   ##\n============================================\n+ Coverage     61.75%   61.99%   +0.24%     \n+ Complexity      207      198       -9     \n============================================\n  Files          2436     2553     +117     \n  Lines        133233   140468    +7235     \n  Branches      20636    21849    +1213     \n============================================\n+ Hits          82274    87085    +4811     \n- Misses        44911    46749    +1838     \n- Partials       6048     6634     +586     \n```\n\n| [Flag](https://app.codecov.io/gh/apache/pinot/pull/13639/flags?src=pr&el=flags&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [custom-integration1](https://app.codecov.io/gh/apache/pinot/pull/13639/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration](https://app.codecov.io/gh/apache/pinot/pull/13639/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration1](https://app.codecov.io/gh/apache/pinot/pull/13639/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration2](https://app.codecov.io/gh/apache/pinot/pull/13639/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `0.00% <0.00%> (ø)` | |\n| [java-11](https://app.codecov.io/gh/apache/pinot/pull/13639/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.91% <100.00%> (+0.20%)` | :arrow_up: |\n| [java-21](https://app.codecov.io/gh/apache/pinot/pull/13639/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.88% <100.00%> (+0.26%)` | :arrow_up: |\n| [skip-bytebuffers-false](https://app.codecov.io/gh/apache/pinot/pull/13639/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.97% <100.00%> (+0.22%)` | :arrow_up: |\n| [skip-bytebuffers-true](https://app.codecov.io/gh/apache/pinot/pull/13639/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.83% <100.00%> (+34.10%)` | :arrow_up: |\n| [temurin](https://app.codecov.io/gh/apache/pinot/pull/13639/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.99% <100.00%> (+0.24%)` | :arrow_up: |\n| [unittests](https://app.codecov.io/gh/apache/pinot/pull/13639/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.99% <100.00%> (+0.24%)` | :arrow_up: |\n| [unittests1](https://app.codecov.io/gh/apache/pinot/pull/13639/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `46.45% <100.00%> (-0.44%)` | :arrow_down: |\n| [unittests2](https://app.codecov.io/gh/apache/pinot/pull/13639/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `27.76% <0.00%> (+0.03%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n</details>\n\n[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/apache/pinot/pull/13639?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).   \n:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2233100007/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2233298045","html_url":"https://github.com/apache/pinot/issues/13604#issuecomment-2233298045","issue_url":"https://api.github.com/repos/apache/pinot/issues/13604","id":2233298045,"node_id":"IC_kwDOATCU_c6FHWx9","user":{"login":"yashmayya","id":23502577,"node_id":"MDQ6VXNlcjIzNTAyNTc3","avatar_url":"https://avatars.githubusercontent.com/u/23502577?v=4","gravatar_id":"","url":"https://api.github.com/users/yashmayya","html_url":"https://github.com/yashmayya","followers_url":"https://api.github.com/users/yashmayya/followers","following_url":"https://api.github.com/users/yashmayya/following{/other_user}","gists_url":"https://api.github.com/users/yashmayya/gists{/gist_id}","starred_url":"https://api.github.com/users/yashmayya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yashmayya/subscriptions","organizations_url":"https://api.github.com/users/yashmayya/orgs","repos_url":"https://api.github.com/users/yashmayya/repos","events_url":"https://api.github.com/users/yashmayya/events{/privacy}","received_events_url":"https://api.github.com/users/yashmayya/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-17T13:14:36Z","updated_at":"2024-07-17T13:14:36Z","author_association":"COLLABORATOR","body":"@Jayesh-Asrani what's the exact exception you're seeing during the real time ingestion? I tried ingesting some batch data with an MV boolean column, and even that fails with the following exception:\r\n\r\n```\r\n2024/07/17 18:31:23.027 ERROR [RecordReaderSegmentCreationDataSource] [pool-2-thread-1] Caught exception while gathering stats\r\njava.lang.ClassCastException: class [Z cannot be cast to class java.lang.Integer ([Z and java.lang.Integer are in module java.base of loader 'bootstrap')\r\n\tat org.apache.pinot.segment.local.segment.creator.impl.stats.IntColumnPreIndexStatsCollector.collect(IntColumnPreIndexStatsCollector.java:51) ~[pinot-all-1.1.0-jar-with-dependencies.jar:1.1.0-c2606742bbc4b15cff857eb0ffe7ec878ff181bb]\r\n\tat org.apache.pinot.segment.local.segment.creator.impl.stats.SegmentPreIndexStatsCollectorImpl.collectRow(SegmentPreIndexStatsCollectorImpl.java:100) ~[pinot-all-1.1.0-jar-with-dependencies.jar:1.1.0-c2606742bbc4b15cff857eb0ffe7ec878ff181bb]\r\n\tat org.apache.pinot.segment.local.segment.creator.RecordReaderSegmentCreationDataSource.gatherStats(RecordReaderSegmentCreationDataSource.java:69) ~[pinot-all-1.1.0-jar-with-dependencies.jar:1.1.0-c2606742bbc4b15cff857eb0ffe7ec878ff181bb]\r\n\tat org.apache.pinot.segment.local.segment.creator.RecordReaderSegmentCreationDataSource.gatherStats(RecordReaderSegmentCreationDataSource.java:37) ~[pinot-all-1.1.0-jar-with-dependencies.jar:1.1.0-c2606742bbc4b15cff857eb0ffe7ec878ff181bb]\r\n\tat org.apache.pinot.segment.local.segment.creator.impl.SegmentIndexCreationDriverImpl.init(SegmentIndexCreationDriverImpl.java:188) ~[pinot-all-1.1.0-jar-with-dependencies.jar:1.1.0-c2606742bbc4b15cff857eb0ffe7ec878ff181bb]\r\n\tat org.apache.pinot.segment.local.segment.creator.impl.SegmentIndexCreationDriverImpl.init(SegmentIndexCreationDriverImpl.java:160) ~[pinot-all-1.1.0-jar-with-dependencies.jar:1.1.0-c2606742bbc4b15cff857eb0ffe7ec878ff181bb]\r\n\tat org.apache.pinot.segment.local.segment.creator.impl.SegmentIndexCreationDriverImpl.init(SegmentIndexCreationDriverImpl.java:116) ~[pinot-all-1.1.0-jar-with-dependencies.jar:1.1.0-c2606742bbc4b15cff857eb0ffe7ec878ff181bb]\r\n\tat org.apache.pinot.plugin.ingestion.batch.common.SegmentGenerationTaskRunner.run(SegmentGenerationTaskRunner.java:113) ~[pinot-all-1.1.0-jar-with-dependencies.jar:1.1.0-c2606742bbc4b15cff857eb0ffe7ec878ff181bb]\r\n\tat org.apache.pinot.plugin.ingestion.batch.standalone.SegmentGenerationJobRunner.lambda$submitSegmentGenTask$1(SegmentGenerationJobRunner.java:265) ~[pinot-batch-ingestion-standalone-1.1.0-shaded.jar:1.1.0-c2606742bbc4b15cff857eb0ffe7ec878ff181bb]\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) [?:?]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) [?:?]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) [?:?]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) [?:?]\r\n\tat java.base/java.lang.Thread.run(Thread.java:840) [?:?]\r\n```\r\n\r\nI just wanted to check whether the exception is in a similar path or these are two separate issues that need to be fixed.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2233298045/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2233343626","html_url":"https://github.com/apache/pinot/pull/13643#issuecomment-2233343626","issue_url":"https://api.github.com/repos/apache/pinot/issues/13643","id":2233343626,"node_id":"IC_kwDOATCU_c6FHh6K","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-17T13:35:06Z","updated_at":"2024-07-17T13:58:27Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/13643?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\nAll modified and coverable lines are covered by tests :white_check_mark:\n> Project coverage is 61.99%. Comparing base [(`59551e4`)](https://app.codecov.io/gh/apache/pinot/commit/59551e45224f1535c4863fd577622b37366ccc97?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) to head [(`5a25195`)](https://app.codecov.io/gh/apache/pinot/commit/5a2519590c22c2e93506c24d408a3aa15608ff71?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n> Report is 774 commits behind head on master.\n\n<details><summary>Additional details and impacted files</summary>\n\n\n```diff\n@@             Coverage Diff              @@\n##             master   #13643      +/-   ##\n============================================\n+ Coverage     61.75%   61.99%   +0.23%     \n+ Complexity      207      198       -9     \n============================================\n  Files          2436     2555     +119     \n  Lines        133233   140722    +7489     \n  Branches      20636    21861    +1225     \n============================================\n+ Hits          82274    87236    +4962     \n- Misses        44911    46852    +1941     \n- Partials       6048     6634     +586     \n```\n\n| [Flag](https://app.codecov.io/gh/apache/pinot/pull/13643/flags?src=pr&el=flags&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [custom-integration1](https://app.codecov.io/gh/apache/pinot/pull/13643/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <ø> (-0.01%)` | :arrow_down: |\n| [integration](https://app.codecov.io/gh/apache/pinot/pull/13643/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <ø> (-0.01%)` | :arrow_down: |\n| [integration1](https://app.codecov.io/gh/apache/pinot/pull/13643/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <ø> (-0.01%)` | :arrow_down: |\n| [integration2](https://app.codecov.io/gh/apache/pinot/pull/13643/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `0.00% <ø> (ø)` | |\n| [java-11](https://app.codecov.io/gh/apache/pinot/pull/13643/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.94% <ø> (+0.24%)` | :arrow_up: |\n| [java-21](https://app.codecov.io/gh/apache/pinot/pull/13643/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.84% <ø> (+0.21%)` | :arrow_up: |\n| [skip-bytebuffers-false](https://app.codecov.io/gh/apache/pinot/pull/13643/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.95% <ø> (+0.20%)` | :arrow_up: |\n| [skip-bytebuffers-true](https://app.codecov.io/gh/apache/pinot/pull/13643/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.83% <ø> (+34.10%)` | :arrow_up: |\n| [temurin](https://app.codecov.io/gh/apache/pinot/pull/13643/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.99% <ø> (+0.23%)` | :arrow_up: |\n| [unittests](https://app.codecov.io/gh/apache/pinot/pull/13643/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.98% <ø> (+0.24%)` | :arrow_up: |\n| [unittests1](https://app.codecov.io/gh/apache/pinot/pull/13643/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `46.50% <ø> (-0.39%)` | :arrow_down: |\n| [unittests2](https://app.codecov.io/gh/apache/pinot/pull/13643/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `27.70% <ø> (-0.03%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n</details>\n\n[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/apache/pinot/pull/13643?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).   \n:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2233343626/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2233519347","html_url":"https://github.com/apache/pinot/pull/13583#issuecomment-2233519347","issue_url":"https://api.github.com/repos/apache/pinot/issues/13583","id":2233519347,"node_id":"IC_kwDOATCU_c6FIMzz","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-17T14:51:48Z","updated_at":"2024-07-17T14:51:48Z","author_association":"CONTRIBUTOR","body":"Will these debug APIs add any performance overhead ?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2233519347/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2233519792","html_url":"https://github.com/apache/pinot/pull/13583#issuecomment-2233519792","issue_url":"https://api.github.com/repos/apache/pinot/issues/13583","id":2233519792,"node_id":"IC_kwDOATCU_c6FIM6w","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-17T14:52:00Z","updated_at":"2024-07-17T14:52:00Z","author_association":"CONTRIBUTOR","body":"@jasperjiaguo  - Can you help review this PR please ?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2233519792/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2233585380","html_url":"https://github.com/apache/pinot/issues/13604#issuecomment-2233585380","issue_url":"https://api.github.com/repos/apache/pinot/issues/13604","id":2233585380,"node_id":"IC_kwDOATCU_c6FIc7k","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-17T15:22:00Z","updated_at":"2024-07-17T15:22:00Z","author_association":"CONTRIBUTOR","body":"This should be fixed by #13630","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2233585380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2233634708","html_url":"https://github.com/apache/pinot/pull/13634#issuecomment-2233634708","issue_url":"https://api.github.com/repos/apache/pinot/issues/13634","id":2233634708,"node_id":"IC_kwDOATCU_c6FIo-U","user":{"login":"sullis","id":30938,"node_id":"MDQ6VXNlcjMwOTM4","avatar_url":"https://avatars.githubusercontent.com/u/30938?v=4","gravatar_id":"","url":"https://api.github.com/users/sullis","html_url":"https://github.com/sullis","followers_url":"https://api.github.com/users/sullis/followers","following_url":"https://api.github.com/users/sullis/following{/other_user}","gists_url":"https://api.github.com/users/sullis/gists{/gist_id}","starred_url":"https://api.github.com/users/sullis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sullis/subscriptions","organizations_url":"https://api.github.com/users/sullis/orgs","repos_url":"https://api.github.com/users/sullis/repos","events_url":"https://api.github.com/users/sullis/events{/privacy}","received_events_url":"https://api.github.com/users/sullis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-17T15:45:42Z","updated_at":"2024-07-17T15:45:42Z","author_association":"CONTRIBUTOR","body":"Obsolete.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2233634708/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2233637135","html_url":"https://github.com/apache/pinot/pull/13643#issuecomment-2233637135","issue_url":"https://api.github.com/repos/apache/pinot/issues/13643","id":2233637135,"node_id":"IC_kwDOATCU_c6FIpkP","user":{"login":"sullis","id":30938,"node_id":"MDQ6VXNlcjMwOTM4","avatar_url":"https://avatars.githubusercontent.com/u/30938?v=4","gravatar_id":"","url":"https://api.github.com/users/sullis","html_url":"https://github.com/sullis","followers_url":"https://api.github.com/users/sullis/followers","following_url":"https://api.github.com/users/sullis/following{/other_user}","gists_url":"https://api.github.com/users/sullis/gists{/gist_id}","starred_url":"https://api.github.com/users/sullis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sullis/subscriptions","organizations_url":"https://api.github.com/users/sullis/orgs","repos_url":"https://api.github.com/users/sullis/repos","events_url":"https://api.github.com/users/sullis/events{/privacy}","received_events_url":"https://api.github.com/users/sullis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-17T15:46:47Z","updated_at":"2024-07-17T15:46:47Z","author_association":"CONTRIBUTOR","body":"Thank you! ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2233637135/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2233732758","html_url":"https://github.com/apache/pinot/issues/11777#issuecomment-2233732758","issue_url":"https://api.github.com/repos/apache/pinot/issues/11777","id":2233732758,"node_id":"IC_kwDOATCU_c6FJA6W","user":{"login":"anandheritage","id":6823587,"node_id":"MDQ6VXNlcjY4MjM1ODc=","avatar_url":"https://avatars.githubusercontent.com/u/6823587?v=4","gravatar_id":"","url":"https://api.github.com/users/anandheritage","html_url":"https://github.com/anandheritage","followers_url":"https://api.github.com/users/anandheritage/followers","following_url":"https://api.github.com/users/anandheritage/following{/other_user}","gists_url":"https://api.github.com/users/anandheritage/gists{/gist_id}","starred_url":"https://api.github.com/users/anandheritage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anandheritage/subscriptions","organizations_url":"https://api.github.com/users/anandheritage/orgs","repos_url":"https://api.github.com/users/anandheritage/repos","events_url":"https://api.github.com/users/anandheritage/events{/privacy}","received_events_url":"https://api.github.com/users/anandheritage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-17T16:35:32Z","updated_at":"2024-07-17T16:35:32Z","author_association":"CONTRIBUTOR","body":"@mgranderath  Have started the work again : https://github.com/apache/pinot/pull/13645\r\nMostly like will finish off by the weekend. \r\n\r\nIf you have the access , kindly initiate the workflow for CI.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2233732758/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2233832068","html_url":"https://github.com/apache/pinot/issues/13629#issuecomment-2233832068","issue_url":"https://api.github.com/repos/apache/pinot/issues/13629","id":2233832068,"node_id":"IC_kwDOATCU_c6FJZKE","user":{"login":"jackjlli","id":35080149,"node_id":"MDQ6VXNlcjM1MDgwMTQ5","avatar_url":"https://avatars.githubusercontent.com/u/35080149?v=4","gravatar_id":"","url":"https://api.github.com/users/jackjlli","html_url":"https://github.com/jackjlli","followers_url":"https://api.github.com/users/jackjlli/followers","following_url":"https://api.github.com/users/jackjlli/following{/other_user}","gists_url":"https://api.github.com/users/jackjlli/gists{/gist_id}","starred_url":"https://api.github.com/users/jackjlli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackjlli/subscriptions","organizations_url":"https://api.github.com/users/jackjlli/orgs","repos_url":"https://api.github.com/users/jackjlli/repos","events_url":"https://api.github.com/users/jackjlli/events{/privacy}","received_events_url":"https://api.github.com/users/jackjlli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-17T17:28:55Z","updated_at":"2024-07-17T17:28:55Z","author_association":"MEMBER","body":"@tibrewalpratik17 this `cleanupMetrics()` method is very essential to be invoked, as there is no guarantee that new consuming segments for the same partition will always be assigned to the same realtime pinot-server.\r\n\r\nI don't think we encounter such metric issue here at LinkedIn and the method has been there for a while. I'd suggest collecting more stats from your side for M3 and see if there is any potential race condition that could occur.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2233832068/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2233878304","html_url":"https://github.com/apache/pinot/issues/13629#issuecomment-2233878304","issue_url":"https://api.github.com/repos/apache/pinot/issues/13629","id":2233878304,"node_id":"IC_kwDOATCU_c6FJkcg","user":{"login":"tibrewalpratik17","id":23629228,"node_id":"MDQ6VXNlcjIzNjI5MjI4","avatar_url":"https://avatars.githubusercontent.com/u/23629228?v=4","gravatar_id":"","url":"https://api.github.com/users/tibrewalpratik17","html_url":"https://github.com/tibrewalpratik17","followers_url":"https://api.github.com/users/tibrewalpratik17/followers","following_url":"https://api.github.com/users/tibrewalpratik17/following{/other_user}","gists_url":"https://api.github.com/users/tibrewalpratik17/gists{/gist_id}","starred_url":"https://api.github.com/users/tibrewalpratik17/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tibrewalpratik17/subscriptions","organizations_url":"https://api.github.com/users/tibrewalpratik17/orgs","repos_url":"https://api.github.com/users/tibrewalpratik17/repos","events_url":"https://api.github.com/users/tibrewalpratik17/events{/privacy}","received_events_url":"https://api.github.com/users/tibrewalpratik17/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-17T17:50:52Z","updated_at":"2024-07-17T17:51:46Z","author_association":"CONTRIBUTOR","body":"Thanks for the reply @jackjlli! \r\n\r\n> I'd suggest collecting more stats from your side for M3 and see if there is any potential race condition that could occur.\r\n\r\nHmm this might be a bigger effort on our end as we will have to scope this out with the centralised observability team.\r\n\r\n> this cleanupMetrics() method is very essential to be invoked, as there is no guarantee that new consuming segments for the same partition will always be assigned to the same realtime pinot-server.\r\n\r\nWhat about upsert tables? For upsert tables, Pinot guarantees that consuming segments will remain in the same partition. Can we modify the logic to set the gauge value to 0 instead of removing it from the metrics registry specifically for upsert tables? Setting it to 0 makes sense since table rebalancing might be the only reason to change the partition-to-host mapping for upsert tables. This approach will cover most use cases at Uber, where we aim to set alerts on this metric to track consumption.\r\n\r\nLet me know your thoughts on this! \r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2233878304/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2233938341","html_url":"https://github.com/apache/pinot/pull/13609#issuecomment-2233938341","issue_url":"https://api.github.com/repos/apache/pinot/issues/13609","id":2233938341,"node_id":"IC_kwDOATCU_c6FJzGl","user":{"login":"dd-willgan","id":87046728,"node_id":"MDQ6VXNlcjg3MDQ2NzI4","avatar_url":"https://avatars.githubusercontent.com/u/87046728?v=4","gravatar_id":"","url":"https://api.github.com/users/dd-willgan","html_url":"https://github.com/dd-willgan","followers_url":"https://api.github.com/users/dd-willgan/followers","following_url":"https://api.github.com/users/dd-willgan/following{/other_user}","gists_url":"https://api.github.com/users/dd-willgan/gists{/gist_id}","starred_url":"https://api.github.com/users/dd-willgan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dd-willgan/subscriptions","organizations_url":"https://api.github.com/users/dd-willgan/orgs","repos_url":"https://api.github.com/users/dd-willgan/repos","events_url":"https://api.github.com/users/dd-willgan/events{/privacy}","received_events_url":"https://api.github.com/users/dd-willgan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-17T18:10:39Z","updated_at":"2024-07-17T18:10:39Z","author_association":"CONTRIBUTOR","body":"Thanks for the reviews! Adding ISO doesn't seem super necessary from a convenience perspective, but it does seem nice to add for completeness. Maybe we can do if it gets brought up","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2233938341/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2233941528","html_url":"https://github.com/apache/pinot/issues/13629#issuecomment-2233941528","issue_url":"https://api.github.com/repos/apache/pinot/issues/13629","id":2233941528,"node_id":"IC_kwDOATCU_c6FJz4Y","user":{"login":"jackjlli","id":35080149,"node_id":"MDQ6VXNlcjM1MDgwMTQ5","avatar_url":"https://avatars.githubusercontent.com/u/35080149?v=4","gravatar_id":"","url":"https://api.github.com/users/jackjlli","html_url":"https://github.com/jackjlli","followers_url":"https://api.github.com/users/jackjlli/followers","following_url":"https://api.github.com/users/jackjlli/following{/other_user}","gists_url":"https://api.github.com/users/jackjlli/gists{/gist_id}","starred_url":"https://api.github.com/users/jackjlli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackjlli/subscriptions","organizations_url":"https://api.github.com/users/jackjlli/orgs","repos_url":"https://api.github.com/users/jackjlli/repos","events_url":"https://api.github.com/users/jackjlli/events{/privacy}","received_events_url":"https://api.github.com/users/jackjlli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-17T18:11:44Z","updated_at":"2024-07-17T18:24:55Z","author_association":"MEMBER","body":"@tibrewalpratik17 Even for upsert tables if there is a need to uplift it's still possible that segments will be assigned to a different server.\r\nAnd what's more, we couldn't use 0 here, as `0` denotes the current pinot-server is still responsible for the target partition but the data is not being consumed right now, which leads to false alarm to be triggered (in LinkedIn we do set up the alert on monitoring the value of this metric and the alert will be triggered as long as the value is non-0).\r\n\r\nI'd suggest getting more evidence from your side, say when a new consuming segment for the same partition is initialized, check the log and the monitoring console to make sure if the metric is actually created.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2233941528/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2234002610","html_url":"https://github.com/apache/pinot/issues/13629#issuecomment-2234002610","issue_url":"https://api.github.com/repos/apache/pinot/issues/13629","id":2234002610,"node_id":"IC_kwDOATCU_c6FKCyy","user":{"login":"tibrewalpratik17","id":23629228,"node_id":"MDQ6VXNlcjIzNjI5MjI4","avatar_url":"https://avatars.githubusercontent.com/u/23629228?v=4","gravatar_id":"","url":"https://api.github.com/users/tibrewalpratik17","html_url":"https://github.com/tibrewalpratik17","followers_url":"https://api.github.com/users/tibrewalpratik17/followers","following_url":"https://api.github.com/users/tibrewalpratik17/following{/other_user}","gists_url":"https://api.github.com/users/tibrewalpratik17/gists{/gist_id}","starred_url":"https://api.github.com/users/tibrewalpratik17/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tibrewalpratik17/subscriptions","organizations_url":"https://api.github.com/users/tibrewalpratik17/orgs","repos_url":"https://api.github.com/users/tibrewalpratik17/repos","events_url":"https://api.github.com/users/tibrewalpratik17/events{/privacy}","received_events_url":"https://api.github.com/users/tibrewalpratik17/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-17T18:39:42Z","updated_at":"2024-07-17T18:39:42Z","author_association":"CONTRIBUTOR","body":"> I'd suggest getting more evidence from your side, say when a new consuming segment for the same partition is initialized, check the log and the monitoring console to make sure if the metric is actually created.\r\n\r\nSure we are rolling out one more patch for partial-upserts to pause consumption during segment commit unlike realtime tables where we release consumer semaphore before. Hopefully, after that this issue will reduce as `closeStreamConsumers` is called right before `cleanupMetrics`. But I will keep this thread posted in case that fixes majority of our problems or not.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2234002610/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2234237632","html_url":"https://github.com/apache/pinot/pull/13613#issuecomment-2234237632","issue_url":"https://api.github.com/repos/apache/pinot/issues/13613","id":2234237632,"node_id":"IC_kwDOATCU_c6FK8LA","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-17T20:37:31Z","updated_at":"2024-07-17T20:37:31Z","author_association":"CONTRIBUTOR","body":"cc @swaminathanmanish ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2234237632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2234401360","html_url":"https://github.com/apache/pinot/pull/13646#issuecomment-2234401360","issue_url":"https://api.github.com/repos/apache/pinot/issues/13646","id":2234401360,"node_id":"IC_kwDOATCU_c6FLkJQ","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-17T22:01:29Z","updated_at":"2024-09-11T23:24:00Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/13646?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\nAttention: Patch coverage is `12.65625%` with `559 lines` in your changes missing coverage. Please review.\n> Project coverage is 57.72%. Comparing base [(`59551e4`)](https://app.codecov.io/gh/apache/pinot/commit/59551e45224f1535c4863fd577622b37366ccc97?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) to head [(`4a78c33`)](https://app.codecov.io/gh/apache/pinot/commit/4a78c330f7add93527e7218d52dcfcc6ac0158d4?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n> Report is 1020 commits behind head on master.\n\n| [Files with missing lines](https://app.codecov.io/gh/apache/pinot/pull/13646?dropdown=coverage&src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Patch % | Lines |\n|---|---|---|\n| [...apache/pinot/controller/api/upload/ZKOperator.java](https://app.codecov.io/gh/apache/pinot/pull/13646?src=pr&el=tree&filepath=pinot-controller%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fcontroller%2Fapi%2Fupload%2FZKOperator.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvdXBsb2FkL1pLT3BlcmF0b3IuamF2YQ==) | 0.00% | [173 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13646?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...ces/PinotSegmentUploadDownloadRestletResource.java](https://app.codecov.io/gh/apache/pinot/pull/13646?src=pr&el=tree&filepath=pinot-controller%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fcontroller%2Fapi%2Fresources%2FPinotSegmentUploadDownloadRestletResource.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL1Bpbm90U2VnbWVudFVwbG9hZERvd25sb2FkUmVzdGxldFJlc291cmNlLmphdmE=) | 13.29% | [159 Missing and 4 partials :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13646?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...he/pinot/segment/local/utils/SegmentPushUtils.java](https://app.codecov.io/gh/apache/pinot/pull/13646?src=pr&el=tree&filepath=pinot-segment-local%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fsegment%2Flocal%2Futils%2FSegmentPushUtils.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC91dGlscy9TZWdtZW50UHVzaFV0aWxzLmphdmE=) | 17.58% | [74 Missing and 1 partial :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13646?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [.../tasks/BaseMultipleSegmentsConversionExecutor.java](https://app.codecov.io/gh/apache/pinot/pull/13646?src=pr&el=tree&filepath=pinot-plugins%2Fpinot-minion-tasks%2Fpinot-minion-builtin-tasks%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fplugin%2Fminion%2Ftasks%2FBaseMultipleSegmentsConversionExecutor.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcGx1Z2lucy9waW5vdC1taW5pb24tdGFza3MvcGlub3QtbWluaW9uLWJ1aWx0aW4tdGFza3Mvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3BsdWdpbi9taW5pb24vdGFza3MvQmFzZU11bHRpcGxlU2VnbWVudHNDb252ZXJzaW9uRXhlY3V0b3IuamF2YQ==) | 37.20% | [49 Missing and 5 partials :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13646?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...ntroller/helix/core/PinotHelixResourceManager.java](https://app.codecov.io/gh/apache/pinot/pull/13646?src=pr&el=tree&filepath=pinot-controller%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fcontroller%2Fhelix%2Fcore%2FPinotHelixResourceManager.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL1Bpbm90SGVsaXhSZXNvdXJjZU1hbmFnZXIuamF2YQ==) | 0.00% | [50 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13646?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...t/controller/api/upload/SegmentUploadMetadata.java](https://app.codecov.io/gh/apache/pinot/pull/13646?src=pr&el=tree&filepath=pinot-controller%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fcontroller%2Fapi%2Fupload%2FSegmentUploadMetadata.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvdXBsb2FkL1NlZ21lbnRVcGxvYWRNZXRhZGF0YS5qYXZh) | 0.00% | [30 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13646?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...not/controller/api/upload/SegmentMetadataInfo.java](https://app.codecov.io/gh/apache/pinot/pull/13646?src=pr&el=tree&filepath=pinot-controller%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fcontroller%2Fapi%2Fupload%2FSegmentMetadataInfo.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvdXBsb2FkL1NlZ21lbnRNZXRhZGF0YUluZm8uamF2YQ==) | 38.88% | [11 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13646?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...he/pinot/spi/ingestion/batch/spec/PushJobSpec.java](https://app.codecov.io/gh/apache/pinot/pull/13646?src=pr&el=tree&filepath=pinot-spi%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fspi%2Fingestion%2Fbatch%2Fspec%2FPushJobSpec.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvaW5nZXN0aW9uL2JhdGNoL3NwZWMvUHVzaEpvYlNwZWMuamF2YQ==) | 0.00% | [3 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/13646?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n\n<details><summary>Additional details and impacted files</summary>\n\n\n```diff\n@@             Coverage Diff              @@\n##             master   #13646      +/-   ##\n============================================\n- Coverage     61.75%   57.72%   -4.03%     \n- Complexity      207      219      +12     \n============================================\n  Files          2436     2614     +178     \n  Lines        133233   143812   +10579     \n  Branches      20636    22087    +1451     \n============================================\n+ Hits          82274    83015     +741     \n- Misses        44911    54305    +9394     \n- Partials       6048     6492     +444     \n```\n\n| [Flag](https://app.codecov.io/gh/apache/pinot/pull/13646/flags?src=pr&el=flags&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [custom-integration1](https://app.codecov.io/gh/apache/pinot/pull/13646/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration](https://app.codecov.io/gh/apache/pinot/pull/13646/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration1](https://app.codecov.io/gh/apache/pinot/pull/13646/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <0.00%> (-0.01%)` | :arrow_down: |\n| [integration2](https://app.codecov.io/gh/apache/pinot/pull/13646/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `0.00% <0.00%> (ø)` | |\n| [java-11](https://app.codecov.io/gh/apache/pinot/pull/13646/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `57.68% <12.65%> (-4.03%)` | :arrow_down: |\n| [java-21](https://app.codecov.io/gh/apache/pinot/pull/13646/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `57.61% <12.65%> (-4.02%)` | :arrow_down: |\n| [skip-bytebuffers-false](https://app.codecov.io/gh/apache/pinot/pull/13646/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `57.71% <12.65%> (-4.03%)` | :arrow_down: |\n| [skip-bytebuffers-true](https://app.codecov.io/gh/apache/pinot/pull/13646/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `57.55% <12.65%> (+29.82%)` | :arrow_up: |\n| [temurin](https://app.codecov.io/gh/apache/pinot/pull/13646/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `57.72% <12.65%> (-4.03%)` | :arrow_down: |\n| [unittests](https://app.codecov.io/gh/apache/pinot/pull/13646/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `57.72% <12.65%> (-4.03%)` | :arrow_down: |\n| [unittests1](https://app.codecov.io/gh/apache/pinot/pull/13646/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `40.73% <1.05%> (-6.17%)` | :arrow_down: |\n| [unittests2](https://app.codecov.io/gh/apache/pinot/pull/13646/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `27.89% <12.50%> (+0.15%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n</details>\n\n[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/apache/pinot/pull/13646?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).   \n:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2234401360/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2234440110","html_url":"https://github.com/apache/pinot/pull/13486#issuecomment-2234440110","issue_url":"https://api.github.com/repos/apache/pinot/issues/13486","id":2234440110,"node_id":"IC_kwDOATCU_c6FLtmu","user":{"login":"jackjlli","id":35080149,"node_id":"MDQ6VXNlcjM1MDgwMTQ5","avatar_url":"https://avatars.githubusercontent.com/u/35080149?v=4","gravatar_id":"","url":"https://api.github.com/users/jackjlli","html_url":"https://github.com/jackjlli","followers_url":"https://api.github.com/users/jackjlli/followers","following_url":"https://api.github.com/users/jackjlli/following{/other_user}","gists_url":"https://api.github.com/users/jackjlli/gists{/gist_id}","starred_url":"https://api.github.com/users/jackjlli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackjlli/subscriptions","organizations_url":"https://api.github.com/users/jackjlli/orgs","repos_url":"https://api.github.com/users/jackjlli/repos","events_url":"https://api.github.com/users/jackjlli/events{/privacy}","received_events_url":"https://api.github.com/users/jackjlli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-17T22:19:51Z","updated_at":"2024-07-17T22:19:51Z","author_association":"MEMBER","body":"Thanks @abhioncbr for working on it! Please keep us posted about the testing results against the new Helix release.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2234440110/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2234442587","html_url":"https://github.com/apache/pinot/issues/13593#issuecomment-2234442587","issue_url":"https://api.github.com/repos/apache/pinot/issues/13593","id":2234442587,"node_id":"IC_kwDOATCU_c6FLuNb","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-17T22:22:17Z","updated_at":"2024-07-17T22:22:17Z","author_association":"CONTRIBUTOR","body":"cc @xiangfu0 ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2234442587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2235178712","html_url":"https://github.com/apache/pinot/pull/13647#issuecomment-2235178712","issue_url":"https://api.github.com/repos/apache/pinot/issues/13647","id":2235178712,"node_id":"IC_kwDOATCU_c6FOh7Y","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-18T02:29:45Z","updated_at":"2024-07-18T02:48:22Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/13647?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\nAll modified and coverable lines are covered by tests :white_check_mark:\n> Project coverage is 61.95%. Comparing base [(`59551e4`)](https://app.codecov.io/gh/apache/pinot/commit/59551e45224f1535c4863fd577622b37366ccc97?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) to head [(`f330b98`)](https://app.codecov.io/gh/apache/pinot/commit/f330b983c1de5032e73a5beba4f7dd6a2c68ea99?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n> Report is 780 commits behind head on master.\n\n<details><summary>Additional details and impacted files</summary>\n\n\n```diff\n@@             Coverage Diff              @@\n##             master   #13647      +/-   ##\n============================================\n+ Coverage     61.75%   61.95%   +0.19%     \n+ Complexity      207      198       -9     \n============================================\n  Files          2436     2553     +117     \n  Lines        133233   140470    +7237     \n  Branches      20636    21851    +1215     \n============================================\n+ Hits          82274    87023    +4749     \n- Misses        44911    46825    +1914     \n- Partials       6048     6622     +574     \n```\n\n| [Flag](https://app.codecov.io/gh/apache/pinot/pull/13647/flags?src=pr&el=flags&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [custom-integration1](https://app.codecov.io/gh/apache/pinot/pull/13647/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <ø> (-0.01%)` | :arrow_down: |\n| [integration](https://app.codecov.io/gh/apache/pinot/pull/13647/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <ø> (-0.01%)` | :arrow_down: |\n| [integration1](https://app.codecov.io/gh/apache/pinot/pull/13647/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <ø> (-0.01%)` | :arrow_down: |\n| [integration2](https://app.codecov.io/gh/apache/pinot/pull/13647/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `0.00% <ø> (ø)` | |\n| [java-11](https://app.codecov.io/gh/apache/pinot/pull/13647/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.90% <ø> (+0.20%)` | :arrow_up: |\n| [java-21](https://app.codecov.io/gh/apache/pinot/pull/13647/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.83% <ø> (+0.20%)` | :arrow_up: |\n| [skip-bytebuffers-false](https://app.codecov.io/gh/apache/pinot/pull/13647/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.93% <ø> (+0.18%)` | :arrow_up: |\n| [skip-bytebuffers-true](https://app.codecov.io/gh/apache/pinot/pull/13647/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.81% <ø> (+34.09%)` | :arrow_up: |\n| [temurin](https://app.codecov.io/gh/apache/pinot/pull/13647/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.95% <ø> (+0.19%)` | :arrow_up: |\n| [unittests](https://app.codecov.io/gh/apache/pinot/pull/13647/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.94% <ø> (+0.19%)` | :arrow_up: |\n| [unittests1](https://app.codecov.io/gh/apache/pinot/pull/13647/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `46.43% <ø> (-0.46%)` | :arrow_down: |\n| [unittests2](https://app.codecov.io/gh/apache/pinot/pull/13647/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `27.73% <ø> (+<0.01%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n</details>\n\n[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/apache/pinot/pull/13647?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).   \n:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2235178712/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2235392689","html_url":"https://github.com/apache/pinot/pull/13583#issuecomment-2235392689","issue_url":"https://api.github.com/repos/apache/pinot/issues/13583","id":2235392689,"node_id":"IC_kwDOATCU_c6FPWKx","user":{"login":"jasperjiaguo","id":10736840,"node_id":"MDQ6VXNlcjEwNzM2ODQw","avatar_url":"https://avatars.githubusercontent.com/u/10736840?v=4","gravatar_id":"","url":"https://api.github.com/users/jasperjiaguo","html_url":"https://github.com/jasperjiaguo","followers_url":"https://api.github.com/users/jasperjiaguo/followers","following_url":"https://api.github.com/users/jasperjiaguo/following{/other_user}","gists_url":"https://api.github.com/users/jasperjiaguo/gists{/gist_id}","starred_url":"https://api.github.com/users/jasperjiaguo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasperjiaguo/subscriptions","organizations_url":"https://api.github.com/users/jasperjiaguo/orgs","repos_url":"https://api.github.com/users/jasperjiaguo/repos","events_url":"https://api.github.com/users/jasperjiaguo/events{/privacy}","received_events_url":"https://api.github.com/users/jasperjiaguo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-18T05:17:54Z","updated_at":"2024-07-18T05:17:54Z","author_association":"CONTRIBUTOR","body":"A general question -- what is the rational behind adding this?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2235392689/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2235715885","html_url":"https://github.com/apache/pinot/pull/13583#issuecomment-2235715885","issue_url":"https://api.github.com/repos/apache/pinot/issues/13583","id":2235715885,"node_id":"IC_kwDOATCU_c6FQlEt","user":{"login":"vrajat","id":1638298,"node_id":"MDQ6VXNlcjE2MzgyOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1638298?v=4","gravatar_id":"","url":"https://api.github.com/users/vrajat","html_url":"https://github.com/vrajat","followers_url":"https://api.github.com/users/vrajat/followers","following_url":"https://api.github.com/users/vrajat/following{/other_user}","gists_url":"https://api.github.com/users/vrajat/gists{/gist_id}","starred_url":"https://api.github.com/users/vrajat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vrajat/subscriptions","organizations_url":"https://api.github.com/users/vrajat/orgs","repos_url":"https://api.github.com/users/vrajat/repos","events_url":"https://api.github.com/users/vrajat/events{/privacy}","received_events_url":"https://api.github.com/users/vrajat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-18T06:22:28Z","updated_at":"2024-07-18T06:22:28Z","author_association":"COLLABORATOR","body":"@siddharthteotia The APIs will not add any perf overhead as the changes are not in path of query execution. \r\n@jasperjiaguo The APIs will help to introspect internal state to understand OOM protection in production clusters. \r\nI've found the APIs to be helpful for debugging as well. I am also working on adding OOM protection for multi-stage operators in #13598 and the APIs are a fast way to get internal state while running a workload. \r\n\r\n@jasperjiaguo how do you debug OOM protection and resource usage in production systems right now?  ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2235715885/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2235864197","html_url":"https://github.com/apache/pinot/pull/13583#issuecomment-2235864197","issue_url":"https://api.github.com/repos/apache/pinot/issues/13583","id":2235864197,"node_id":"IC_kwDOATCU_c6FRJSF","user":{"login":"jasperjiaguo","id":10736840,"node_id":"MDQ6VXNlcjEwNzM2ODQw","avatar_url":"https://avatars.githubusercontent.com/u/10736840?v=4","gravatar_id":"","url":"https://api.github.com/users/jasperjiaguo","html_url":"https://github.com/jasperjiaguo","followers_url":"https://api.github.com/users/jasperjiaguo/followers","following_url":"https://api.github.com/users/jasperjiaguo/following{/other_user}","gists_url":"https://api.github.com/users/jasperjiaguo/gists{/gist_id}","starred_url":"https://api.github.com/users/jasperjiaguo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasperjiaguo/subscriptions","organizations_url":"https://api.github.com/users/jasperjiaguo/orgs","repos_url":"https://api.github.com/users/jasperjiaguo/repos","events_url":"https://api.github.com/users/jasperjiaguo/events{/privacy}","received_events_url":"https://api.github.com/users/jasperjiaguo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-18T07:55:46Z","updated_at":"2024-07-18T07:57:21Z","author_association":"CONTRIBUTOR","body":"Yes I also do not see any overhead so far. Will finish reviewing tmr. IIUC this is trying to expose the per query and per thread snapshot right?\r\n\r\nWe mostly debug through centralized logs.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2235864197/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2235912789","html_url":"https://github.com/apache/pinot/pull/11518#issuecomment-2235912789","issue_url":"https://api.github.com/repos/apache/pinot/issues/11518","id":2235912789,"node_id":"IC_kwDOATCU_c6FRVJV","user":{"login":"gortiz","id":1913993,"node_id":"MDQ6VXNlcjE5MTM5OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1913993?v=4","gravatar_id":"","url":"https://api.github.com/users/gortiz","html_url":"https://github.com/gortiz","followers_url":"https://api.github.com/users/gortiz/followers","following_url":"https://api.github.com/users/gortiz/following{/other_user}","gists_url":"https://api.github.com/users/gortiz/gists{/gist_id}","starred_url":"https://api.github.com/users/gortiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gortiz/subscriptions","organizations_url":"https://api.github.com/users/gortiz/orgs","repos_url":"https://api.github.com/users/gortiz/repos","events_url":"https://api.github.com/users/gortiz/events{/privacy}","received_events_url":"https://api.github.com/users/gortiz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-18T08:19:34Z","updated_at":"2024-07-18T08:19:34Z","author_association":"CONTRIBUTOR","body":"We are going to rollback this change in #13616","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2235912789/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2236001518","html_url":"https://github.com/apache/pinot/pull/13648#issuecomment-2236001518","issue_url":"https://api.github.com/repos/apache/pinot/issues/13648","id":2236001518,"node_id":"IC_kwDOATCU_c6FRqzu","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-18T09:04:19Z","updated_at":"2024-07-22T08:29:45Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/13648?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\nAll modified and coverable lines are covered by tests :white_check_mark:\n> Project coverage is 61.96%. Comparing base [(`59551e4`)](https://app.codecov.io/gh/apache/pinot/commit/59551e45224f1535c4863fd577622b37366ccc97?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) to head [(`ea2398d`)](https://app.codecov.io/gh/apache/pinot/commit/ea2398dbdcc282eab03720b44b3517ac34033772?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n> Report is 793 commits behind head on master.\n\n<details><summary>Additional details and impacted files</summary>\n\n\n```diff\n@@             Coverage Diff              @@\n##             master   #13648      +/-   ##\n============================================\n+ Coverage     61.75%   61.96%   +0.21%     \n+ Complexity      207      198       -9     \n============================================\n  Files          2436     2554     +118     \n  Lines        133233   140492    +7259     \n  Branches      20636    21855    +1219     \n============================================\n+ Hits          82274    87059    +4785     \n- Misses        44911    46807    +1896     \n- Partials       6048     6626     +578     \n```\n\n| [Flag](https://app.codecov.io/gh/apache/pinot/pull/13648/flags?src=pr&el=flags&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [custom-integration1](https://app.codecov.io/gh/apache/pinot/pull/13648/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <ø> (-0.01%)` | :arrow_down: |\n| [integration](https://app.codecov.io/gh/apache/pinot/pull/13648/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <ø> (-0.01%)` | :arrow_down: |\n| [integration1](https://app.codecov.io/gh/apache/pinot/pull/13648/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `<0.01% <ø> (-0.01%)` | :arrow_down: |\n| [integration2](https://app.codecov.io/gh/apache/pinot/pull/13648/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `0.00% <ø> (ø)` | |\n| [java-11](https://app.codecov.io/gh/apache/pinot/pull/13648/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.91% <ø> (+0.20%)` | :arrow_up: |\n| [java-21](https://app.codecov.io/gh/apache/pinot/pull/13648/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.85% <ø> (+0.23%)` | :arrow_up: |\n| [skip-bytebuffers-false](https://app.codecov.io/gh/apache/pinot/pull/13648/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.93% <ø> (+0.18%)` | :arrow_up: |\n| [skip-bytebuffers-true](https://app.codecov.io/gh/apache/pinot/pull/13648/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.83% <ø> (+34.10%)` | :arrow_up: |\n| [temurin](https://app.codecov.io/gh/apache/pinot/pull/13648/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.96% <ø> (+0.21%)` | :arrow_up: |\n| [unittests](https://app.codecov.io/gh/apache/pinot/pull/13648/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `61.96% <ø> (+0.21%)` | :arrow_up: |\n| [unittests1](https://app.codecov.io/gh/apache/pinot/pull/13648/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `46.46% <ø> (-0.43%)` | :arrow_down: |\n| [unittests2](https://app.codecov.io/gh/apache/pinot/pull/13648/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `27.72% <ø> (-0.01%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n</details>\n\n[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/apache/pinot/pull/13648?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).   \n:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2236001518/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2236090015","html_url":"https://github.com/apache/pinot/issues/10945#issuecomment-2236090015","issue_url":"https://api.github.com/repos/apache/pinot/issues/10945","id":2236090015,"node_id":"IC_kwDOATCU_c6FSAaf","user":{"login":"gortiz","id":1913993,"node_id":"MDQ6VXNlcjE5MTM5OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1913993?v=4","gravatar_id":"","url":"https://api.github.com/users/gortiz","html_url":"https://github.com/gortiz","followers_url":"https://api.github.com/users/gortiz/followers","following_url":"https://api.github.com/users/gortiz/following{/other_user}","gists_url":"https://api.github.com/users/gortiz/gists{/gist_id}","starred_url":"https://api.github.com/users/gortiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gortiz/subscriptions","organizations_url":"https://api.github.com/users/gortiz/orgs","repos_url":"https://api.github.com/users/gortiz/repos","events_url":"https://api.github.com/users/gortiz/events{/privacy}","received_events_url":"https://api.github.com/users/gortiz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-18T09:48:51Z","updated_at":"2024-07-18T09:50:07Z","author_association":"CONTRIBUTOR","body":"> I don't find a amd64 JVM, would try the approach later.\r\n\r\nYou can try to use sdkman or download it from [temurin web page](https://adoptium.net/temurin/releases/?version=11&os=mac&arch=x64). \r\n\r\nAssuming you don't plan to use CLP (which is not supported in ARM), you can also run with Java 17/21 and just skip these tests.\r\n\r\nWe are just working on #13648 which adds profiles that skip these tests by default and #13639 which disables larray by default.\r\n\r\nAnyway, as a developer that uses M1, I have to say you should get used to these issues and how to use Rosetta, because there are still some software that doesn't work with ARM processors.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/2236090015/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]