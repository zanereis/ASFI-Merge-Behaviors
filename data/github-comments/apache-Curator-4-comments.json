[{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604694442","html_url":"https://github.com/apache/curator/issues/548#issuecomment-2604694442","issue_url":"https://api.github.com/repos/apache/curator/issues/548","id":2604694442,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ2OTQ0NDI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-11-03T21:02:06Z","updated_at":"2025-01-21T13:10:06Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cmorelli\">cmorelli</a>:</i>\n<p>What's the status on a 2.3.0 release (or snapsho)? Is it possible to back port this onto the existing 2.2.0-incubating? Or, is there an easy workaround without modifying source that could work temporarily?</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604694442/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604694446","html_url":"https://github.com/apache/curator/issues/548#issuecomment-2604694446","issue_url":"https://api.github.com/repos/apache/curator/issues/548","id":2604694446,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ2OTQ0NDY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-11-03T21:12:02Z","updated_at":"2025-01-21T13:10:06Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>It will be prepared next week and will be out by the following week.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604694446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604700854","html_url":"https://github.com/apache/curator/issues/588#issuecomment-2604700854","issue_url":"https://api.github.com/repos/apache/curator/issues/588","id":2604700854,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDA4NTQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-11-07T21:14:15Z","updated_at":"2025-01-21T13:12:55Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ddiodati@successfactors.com\">ddiodati@successfactors.com</a>:</i>\n<p>Adding the patch to fix the issue can someone check in this fix ?</p>\n\n\n\n<p>diff --git a/curator-x-discovery/src/main/java/org/apache/curator/x/discovery/ServiceDiscoveryBuilder.java b/curator-x-discovery/src/main/java/org/apache/curator/x/d<br/>\nindex ab62004..d464a55 100644<br/>\n&#8212; a/curator-x-discovery/src/main/java/org/apache/curator/x/discovery/ServiceDiscoveryBuilder.java<br/>\n+++ b/curator-x-discovery/src/main/java/org/apache/curator/x/discovery/ServiceDiscoveryBuilder.java<br/>\n@@ -29,6 +29,7 @@ public class ServiceDiscoveryBuilder<T><br/>\n     private String  basePath;<br/>\n     private InstanceSerializer<T>   serializer;<br/>\n     private ServiceInstance<T>      thisInstance;<br/>\n+    private Class<T>payloadClass;</p>\n\n<p>     /**</p>\n<ul>\n\t<li>Return a new builder. The builder will be defaulted with a \n{@link JsonInstanceSerializer}\n<p>.<br/>\n@@ -39,7 +40,7 @@ public class ServiceDiscoveryBuilder<T><br/>\n      */<br/>\n     public static<T> ServiceDiscoveryBuilder<T>     builder(Class<T> payloadClass)</p>\n     {\n-return new ServiceDiscoveryBuilder<T>(payloadClass).serializer(new JsonInstanceSerializer<T>(payloadClass));\n+return new ServiceDiscoveryBuilder<T>(payloadClass);\n     }</li>\n</ul>\n\n\n<p>     /**<br/>\n@@ -49,6 +50,11 @@ public class ServiceDiscoveryBuilder<T><br/>\n      */<br/>\n     public ServiceDiscovery<T>      build()<br/>\n     {<br/>\n+<br/>\n+if (serializer == null) </p>\n{\n+    serializer = new JsonInstanceSerializer<T>(payloadClass);\n+}\n<p>+<br/>\n return new ServiceDiscoveryImpl<T>(client, basePath, serializer, thisInstance);<br/>\n     }</p>\n\n<p>@@ -102,5 +108,6 @@ public class ServiceDiscoveryBuilder<T></p>\n\n<p>     ServiceDiscoveryBuilder(Class<T> payloadClass)</p>\n     {\n+this.payloadClass = payloadClass;\n     }\n<p> }</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604700854/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604699710","html_url":"https://github.com/apache/curator/issues/579#issuecomment-2604699710","issue_url":"https://api.github.com/repos/apache/curator/issues/579","id":2604699710,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ2OTk3MTA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-11-08T03:20:44Z","updated_at":"2025-01-21T13:12:22Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rkanter\">rkanter</a>:</i>\n<p>The locks (e.g. InterProcessReadWriteLock) also end up calling ZKPaths.mkdirs() at some point and this causes them to always ignore the ACLProvider and set unprotected ACLs.  And I don't think the workaround mentioned in the description is really possible to do in this case.  </p>\n\n<p>I'll try to take a stab at this.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604699710/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604699716","html_url":"https://github.com/apache/curator/issues/579#issuecomment-2604699716","issue_url":"https://api.github.com/repos/apache/curator/issues/579","id":2604699716,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ2OTk3MTY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-11-08T16:41:27Z","updated_at":"2025-01-21T13:12:23Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>EnsurePath and creatingParentsIfNeeded() were not using the ACLProvider to create parent nodes. The fix for this<br/>\n    is complicated by the fact that ACLProvider is in the framework module but ZKPaths is in the client module. Workaround<br/>\n    by introducing a InternalACLProvider and making ACLProvider a \"synonym\" for it. It can now be passed to ZKPaths.mkdirs().</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604699716/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604699720","html_url":"https://github.com/apache/curator/issues/579#issuecomment-2604699720","issue_url":"https://api.github.com/repos/apache/curator/issues/579","id":2604699720,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ2OTk3MjA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-11-08T18:14:15Z","updated_at":"2025-01-21T13:12:23Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rkanter\">rkanter</a>:</i>\n<p>Thanks for taking care of this.  </p>\n\n<p>Btw, not a big deal, but the TestLockACLs test that I posted in the email thread and was added to the tests has a comment that reads:</p>\n<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\">\n<pre class=\"code-java\"><span class=\"code-comment\">// Now <span class=\"code-keyword\">try</span> creating a lock and we'll see that it incorrectly has the <span class=\"code-keyword\">default</span> world ACLs</span>\n</pre>\n</div></div>\n<p>is no longer true because you fixed the problem.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604699720/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604699039","html_url":"https://github.com/apache/curator/issues/574#issuecomment-2604699039","issue_url":"https://api.github.com/repos/apache/curator/issues/574","id":2604699039,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ2OTkwMzk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-11-10T00:07:46Z","updated_at":"2025-01-21T13:12:05Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=evaristo-jose.camarero%40ericsson.com\" class=\"user-hover\" rel=\"evaristo-jose.camarero@ericsson.com\">Evaristo Camarero</a> has found that 2.3.0 still exhibits. Test case attached (test.java).</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604699039/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701614","html_url":"https://github.com/apache/curator/issues/593#issuecomment-2604701614","issue_url":"https://api.github.com/repos/apache/curator/issues/593","id":2604701614,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDE2MTQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-11-10T02:50:34Z","updated_at":"2025-01-21T13:13:13Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>Background operations were not checking if the client was connected. Further, the connection timeout was not being respected as it is in foreground operations.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604699045","html_url":"https://github.com/apache/curator/issues/574#issuecomment-2604699045","issue_url":"https://api.github.com/repos/apache/curator/issues/574","id":2604699045,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ2OTkwNDU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-11-10T02:58:13Z","updated_at":"2025-01-21T13:12:05Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>PersistentEphemeralNode was trying to be too clever about when createNode() should be called. There's no harm in calling it whenever there's an interesting event. It also works around connection instability issues.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604699045/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701619","html_url":"https://github.com/apache/curator/issues/593#issuecomment-2604701619","issue_url":"https://api.github.com/repos/apache/curator/issues/593","id":2604701619,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDE2MTk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-11-10T08:22:59Z","updated_at":"2025-01-21T13:13:13Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=evaristojosec@yahoo.es\">evaristojosec@yahoo.es</a>:</i>\n<p>I have seen that you have included in the repo a test derived from the original test included in this JIRA, that is passing OK<br/>\nBut The original test attached in this issue still does not pass with the fix and at least with the PEN the first event for the connection listener is LOST.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701619/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604699051","html_url":"https://github.com/apache/curator/issues/574#issuecomment-2604699051","issue_url":"https://api.github.com/repos/apache/curator/issues/574","id":2604699051,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ2OTkwNTE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-11-10T08:27:10Z","updated_at":"2025-01-21T13:12:05Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=evaristojosec@yahoo.es\">evaristojosec@yahoo.es</a>:</i>\n<p>Thanks for the fix</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604699051/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701624","html_url":"https://github.com/apache/curator/issues/593#issuecomment-2604701624","issue_url":"https://api.github.com/repos/apache/curator/issues/593","id":2604701624,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDE2MjQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-11-10T13:59:11Z","updated_at":"2025-01-21T13:13:13Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>Please attach the test that is still failing.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701624/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701630","html_url":"https://github.com/apache/curator/issues/593#issuecomment-2604701630","issue_url":"https://api.github.com/repos/apache/curator/issues/593","id":2604701630,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDE2MzA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-11-10T15:04:18Z","updated_at":"2025-01-21T13:13:13Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=evaristojosec@yahoo.es\">evaristojosec@yahoo.es</a>:</i>\n<p>It is just the test that you attach to the JIRA and that I sent to you. I upload a new version that includes the imports. File name is TestListenerConnectedAtStart.</p>\n\n<p>The test includes shows how the first event is LOST if the PEN is included</p>\n\n<p>Thanks in adavance</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701630/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701636","html_url":"https://github.com/apache/curator/issues/593#issuecomment-2604701636","issue_url":"https://api.github.com/repos/apache/curator/issues/593","id":2604701636,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDE2MzY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-11-10T15:24:39Z","updated_at":"2025-01-21T13:13:13Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>This is not a bug. The PersistentEphemeralNode is started before there is a successful connection. Further, the RetryPolicy is RetryOneTime(1) and timing.session() is 2. So, the PersistentEphemeralNode node creation is failing before the connection succeeds causing a LOST message to (correctly) get sent. </p>\n\n<p>Change the retry policy to something reasonable or make the session timeout longer and CONNECT is received first.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701636/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701644","html_url":"https://github.com/apache/curator/issues/593#issuecomment-2604701644","issue_url":"https://api.github.com/repos/apache/curator/issues/593","id":2604701644,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDE2NDQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-11-10T15:48:42Z","updated_at":"2025-01-21T13:13:13Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=evaristojosec@yahoo.es\">evaristojosec@yahoo.es</a>:</i>\n<p>You are right. Thanks again for the great support</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701653","html_url":"https://github.com/apache/curator/issues/593#issuecomment-2604701653","issue_url":"https://api.github.com/repos/apache/curator/issues/593","id":2604701653,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDE2NTM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-11-11T17:03:12Z","updated_at":"2025-01-21T13:13:13Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=evaristojosec@yahoo.es\">evaristojosec@yahoo.es</a>:</i>\n<p>I guess there is something wrong with listeners...</p>\n\n<p>I attach a test (TestListener.java) that shows that Connection Listener with PEN has the following sequence:<br/>\nLOST<br/>\nCONNECTED<br/>\nLOST<br/>\nSUSPENDED<br/>\nLOST RECONNECTED</p>\n\n<p>Looks strange for me</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701653/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701659","html_url":"https://github.com/apache/curator/issues/593#issuecomment-2604701659","issue_url":"https://api.github.com/repos/apache/curator/issues/593","id":2604701659,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDE2NTk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-11-11T20:56:42Z","updated_at":"2025-01-21T13:13:13Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=evaristojosec@yahoo.es\">evaristojosec@yahoo.es</a>:</i>\n<p>Not sure if the comments arrive to the list</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701659/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701665","html_url":"https://github.com/apache/curator/issues/593#issuecomment-2604701665","issue_url":"https://api.github.com/repos/apache/curator/issues/593","id":2604701665,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDE2NjU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-11-12T00:04:36Z","updated_at":"2025-01-21T13:13:13Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>This, again, is because of the artificial session timeout and artificial retry. The initial LOST you're seeing is due to the PEN giving up before there's ever a successful connection to the server. If you use a better retry, the message ordering is more reasonable.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701665/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701671","html_url":"https://github.com/apache/curator/issues/593#issuecomment-2604701671","issue_url":"https://api.github.com/repos/apache/curator/issues/593","id":2604701671,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDE2NzE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-11-12T20:19:11Z","updated_at":"2025-01-21T13:13:14Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=evaristojosec@yahoo.es\">evaristojosec@yahoo.es</a>:</i>\n<p>The problem is not the initial LOST. What is suspicious for me is having having another LOST after CONNECTED and before SUSPENDED. Somehow the natural ordering of the events is broken</p>\n\n\n","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701671/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701675","html_url":"https://github.com/apache/curator/issues/593#issuecomment-2604701675","issue_url":"https://api.github.com/repos/apache/curator/issues/593","id":2604701675,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDE2NzU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-11-14T22:25:51Z","updated_at":"2025-01-21T13:13:14Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=evaristojosec@yahoo.es\">evaristojosec@yahoo.es</a>:</i>\n<p>You can see sequences like CONNECTED , LOST , SUSPENDED now with Curator 2.3.0</p>\n\n<p>I think that problem is related with the patch introduced with <a href=\"https://issues.apache.org/jira/browse/CURATOR-52\" title=\"Retry issues with background operations\" class=\"issue-link\" data-issue-key=\"CURATOR-52\"><del>CURATOR-52</del></a></p>\n\n<p>If before setting the SUSPENDED event you are getting a ConnectionLoss Exception (e.g. background operation), the LOST event is fired. It is a race condition between exceptions an Zokkeper client events, and <a href=\"https://issues.apache.org/jira/browse/CURATOR-52\" title=\"Retry issues with background operations\" class=\"issue-link\" data-issue-key=\"CURATOR-52\"><del>CURATOR-52</del></a> patch is over reacting introducing LOST events and breaking the listeners orderings.</p>\n\n<p>The previous listeners sequence is not happening with Curator 2.2.0 or 2.1.0</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701675/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701682","html_url":"https://github.com/apache/curator/issues/593#issuecomment-2604701682","issue_url":"https://api.github.com/repos/apache/curator/issues/593","id":2604701682,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDE2ODI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-11-17T20:47:28Z","updated_at":"2025-01-21T13:13:14Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>Still trying to iron out connection state transitions.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701684","html_url":"https://github.com/apache/curator/issues/593#issuecomment-2604701684","issue_url":"https://api.github.com/repos/apache/curator/issues/593","id":2604701684,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDE2ODQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-11-17T20:48:23Z","updated_at":"2025-01-21T13:13:14Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=evaristo-jose.camarero%40ericsson.com\" class=\"user-hover\" rel=\"evaristo-jose.camarero@ericsson.com\">Evaristo Camarero</a>, can you test branch \"<a href=\"https://issues.apache.org/jira/browse/CURATOR-72\" title=\"Background operations don&#39;t wait for connection timeout\" class=\"issue-link\" data-issue-key=\"CURATOR-72\"><del>CURATOR-72</del></a>\"? I've worked on state changes in the background so that they match foreground operations. Please let me know.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701687","html_url":"https://github.com/apache/curator/issues/593#issuecomment-2604701687","issue_url":"https://api.github.com/repos/apache/curator/issues/593","id":2604701687,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDE2ODc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-11-18T20:32:00Z","updated_at":"2025-01-21T13:13:14Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=evaristojosec@yahoo.es\">evaristojosec@yahoo.es</a>:</i>\n<p>I attach a test that show the LOST event is not fired.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604702037","html_url":"https://github.com/apache/curator/issues/595#issuecomment-2604702037","issue_url":"https://api.github.com/repos/apache/curator/issues/595","id":2604702037,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDIwMzc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-11-20T23:25:08Z","updated_at":"2025-01-21T13:13:23Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>A patch with the change would be appreciated</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604702037/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604702043","html_url":"https://github.com/apache/curator/issues/595#issuecomment-2604702043","issue_url":"https://api.github.com/repos/apache/curator/issues/595","id":2604702043,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDIwNDM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-11-20T23:32:30Z","updated_at":"2025-01-21T13:13:23Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=swarnim\">swarnim</a>:</i>\n<p>Patch attached.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604702043/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604702171","html_url":"https://github.com/apache/curator/issues/596#issuecomment-2604702171","issue_url":"https://api.github.com/repos/apache/curator/issues/596","id":2604702171,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDIxNzE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-11-21T02:28:06Z","updated_at":"2025-01-21T13:13:27Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>Can you provide a patch?</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604702171/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701697","html_url":"https://github.com/apache/curator/issues/593#issuecomment-2604701697","issue_url":"https://api.github.com/repos/apache/curator/issues/593","id":2604701697,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDE2OTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-11-21T07:36:52Z","updated_at":"2025-01-21T13:13:14Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=evaristojosec@yahoo.es\">evaristojosec@yahoo.es</a>:</i>\n<p>Were you able to check the last test I provided?</p>\n\n<p>Anyyway I am thinking that probably a good regression for ConnectionStateListener is missing in the project and that I could code a complete regression for that mixing CuratorFramework clients and some recipes.</p>\n\n<p>For doing that, probably I would need your help to define the spec of the API: when listeners are fired, events ordering, timings and so on. So if you provide me some guidelines about that I can build a regression that will help to check listeners behavior between releases. What do you think?</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701697/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604702177","html_url":"https://github.com/apache/curator/issues/596#issuecomment-2604702177","issue_url":"https://api.github.com/repos/apache/curator/issues/596","id":2604702177,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDIxNzc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-11-21T17:40:08Z","updated_at":"2025-01-21T13:13:27Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mrbandur\">mrbandur</a>:</i>\n<p>Patch includes fix to InterProcessSemaphoreV2 and modification of testThreadedLeaseIncrease() that demonstrates the problem.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604702177/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701706","html_url":"https://github.com/apache/curator/issues/593#issuecomment-2604701706","issue_url":"https://api.github.com/repos/apache/curator/issues/593","id":2604701706,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDE3MDY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-11-21T17:52:10Z","updated_at":"2025-01-21T13:13:14Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>Yes, I did. There's a real problem. I haven't had time to look at yet though. </p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604702699","html_url":"https://github.com/apache/curator/issues/600#issuecomment-2604702699","issue_url":"https://api.github.com/repos/apache/curator/issues/600","id":2604702699,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDI2OTk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-11-27T03:33:13Z","updated_at":"2025-01-21T13:13:41Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ortschun\">ortschun</a>:</i>\n<p>Also adding a test that fails. (slight modification of the test attached in the original thread)</p>\n<div class=\"code panel\" style=\"border-style: solid;border-width: 1px;\"><div class=\"codeHeader panelHeader\" style=\"border-bottom-width: 1px;border-bottom-style: solid;\"><b>Test.java</b></div><div class=\"codeContent panelContent\">\n<pre class=\"code-java\"><span class=\"code-keyword\">private</span> <span class=\"code-keyword\">static</span> <span class=\"code-keyword\">final</span> <span class=\"code-object\">int</span> SESSION_TIMEOUT_MS = 180 * 1000;\n    <span class=\"code-keyword\">private</span> <span class=\"code-keyword\">static</span> <span class=\"code-keyword\">final</span> <span class=\"code-object\">int</span> CONNECTION_TIMEOUT_MS = 16 * 1000;\n\n    <span class=\"code-keyword\">private</span> <span class=\"code-keyword\">static</span> <span class=\"code-keyword\">final</span> <span class=\"code-object\">int</span> BASE_SLEEP_TIME_MS = 1000;\n    <span class=\"code-keyword\">private</span> <span class=\"code-keyword\">static</span> <span class=\"code-keyword\">final</span> <span class=\"code-object\">int</span> MAX_SLEEP_TIME_MS = 16 * 1000;\n    <span class=\"code-keyword\">private</span> <span class=\"code-keyword\">static</span> <span class=\"code-keyword\">final</span> <span class=\"code-object\">int</span> MAX_RETRIES = 10;\n\n    @Test\n    <span class=\"code-keyword\">public</span> void testInterruptDeadlock() <span class=\"code-keyword\">throws</span> Exception {\nCuratorFramework client = createClientWithNamespace(<span class=\"code-quote\">\"testCluster\"</span>, <span class=\"code-quote\">\"127.0.0.1:2181\"</span>);\nclient.start();\n\n<span class=\"code-keyword\">final</span> InterProcessMutex lock = <span class=\"code-keyword\">new</span> InterProcessMutex(client, <span class=\"code-quote\">\"/testInterruption\"</span>);\n<span class=\"code-keyword\">try</span> {\n\n    <span class=\"code-keyword\">try</span> {\nlock.acquire();\n<span class=\"code-object\">Thread</span>.currentThread().interrupt();\nlock.release();\n    } <span class=\"code-keyword\">catch</span> (InterruptedException e) {\n<span class=\"code-object\">Thread</span>.currentThread().interrupt();\n<span class=\"code-keyword\">if</span> (lock.isAcquiredInThisProcess()) {\n    lock.release();\n}\n    }\n    assertTrue(lock.acquire(10, TimeUnit.MILLISECONDS));\n} <span class=\"code-keyword\">finally</span> {\n    <span class=\"code-keyword\">if</span> (lock.isAcquiredInThisProcess()) {\nlock.release();\n    }\n}\n    }\n\n    <span class=\"code-keyword\">private</span> <span class=\"code-keyword\">static</span> CuratorFramework createClientWithNamespace(<span class=\"code-object\">String</span> clusterName, <span class=\"code-object\">String</span> connectString) {\nRetryPolicy retryPolicy = <span class=\"code-keyword\">new</span> BoundedExponentialBackoffRetry(BASE_SLEEP_TIME_MS, MAX_SLEEP_TIME_MS, MAX_RETRIES);\n<span class=\"code-keyword\">return</span> CuratorFrameworkFactory.builder()\n    .sessionTimeoutMs(SESSION_TIMEOUT_MS)\n    .connectionTimeoutMs(CONNECTION_TIMEOUT_MS)\n    .namespace(clusterName)\n    .retryPolicy(retryPolicy)\n    .connectString(connectString)\n    .build();\n    }\n</pre>\n</div></div>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604702699/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604702707","html_url":"https://github.com/apache/curator/issues/600#issuecomment-2604702707","issue_url":"https://api.github.com/repos/apache/curator/issues/600","id":2604702707,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDI3MDc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-11-27T04:33:49Z","updated_at":"2025-01-21T13:13:41Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ortschun\">ortschun</a>:</i>\n<p>We've run into this a few times in production, and our live workaround is to kill the offending ZK session. We're currently looking to suppress the cause of the interrupts, but are concerned that 1) we may not own all sources of the interruption 2) that this deadlock can occur with any non-KeeperException, not just an InterruptedException. A fix will be much appreciated, and we'll try to put up a working patch as soon as possible.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604702707/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604702295","html_url":"https://github.com/apache/curator/issues/597#issuecomment-2604702295","issue_url":"https://api.github.com/repos/apache/curator/issues/597","id":2604702295,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDIyOTU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-11-27T23:30:01Z","updated_at":"2025-01-21T13:13:30Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=metacret\">metacret</a>:</i>\n<p>I edited the title and description because Reaper recipe already has a reapingThreshold value which schedules the deleting job after that milliseconds. So, TTL wouldn't be necessary.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604702295/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604702301","html_url":"https://github.com/apache/curator/issues/597#issuecomment-2604702301","issue_url":"https://api.github.com/repos/apache/curator/issues/597","id":2604702301,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDIzMDE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-11-28T00:23:11Z","updated_at":"2025-01-21T13:13:30Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=metacret\">metacret</a>:</i>\n<p>I attached the patch file. A little ugly stuff is its leader latch path, its default value is set under /tmp. I hope this looks good to you.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604702301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604702569","html_url":"https://github.com/apache/curator/issues/599#issuecomment-2604702569","issue_url":"https://api.github.com/repos/apache/curator/issues/599","id":2604702569,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDI1Njk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-12-03T15:06:13Z","updated_at":"2025-01-21T13:13:38Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>I think this was meant for HCatalog</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604702569/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604702433","html_url":"https://github.com/apache/curator/issues/598#issuecomment-2604702433","issue_url":"https://api.github.com/repos/apache/curator/issues/598","id":2604702433,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDI0MzM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-12-03T17:29:34Z","updated_at":"2025-01-21T13:13:34Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sebb@apache.org\">sebb@apache.org</a>:</i>\n<p>The URL was actually for the <b>incubator</b> releases - which are still present.</p>\n\n<p>Please clean up the releases from the svnpubsub area:</p>\n\n<p> <a href=\"https://dist.apache.org/repos/dist/release/incubator/curator\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://dist.apache.org/repos/dist/release/incubator/curator</a></p>\n\n<p>I guess the entire tree can be deleted now that Curator has graduated.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604702433/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604702572","html_url":"https://github.com/apache/curator/issues/599#issuecomment-2604702572","issue_url":"https://api.github.com/repos/apache/curator/issues/599","id":2604702572,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDI1NzI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-12-03T18:00:20Z","updated_at":"2025-01-21T13:13:38Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sebb@apache.org\">sebb@apache.org</a>:</i>\n<p>Sorry, it was indeed intended for HCATALOG.</p>\n\n<p>Turns out that raising an issue for HCATALOG does not work - the project is changed to whatever was last used.<br/>\nSeems to be due to HCatalog moving to Hive. <span class=\"error\">&#91;I&#39;ve raised a bug report for this confusing behaviour&#93;</span>.</p>\n","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604702572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604695355","html_url":"https://github.com/apache/curator/issues/554#issuecomment-2604695355","issue_url":"https://api.github.com/repos/apache/curator/issues/554","id":2604695355,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ2OTUzNTU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-12-10T04:55:42Z","updated_at":"2025-01-21T13:10:32Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cammckenzie\">cammckenzie</a>:</i>\n<p>Implementation patch.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604695355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604695363","html_url":"https://github.com/apache/curator/issues/554#issuecomment-2604695363","issue_url":"https://api.github.com/repos/apache/curator/issues/554","id":2604695363,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ2OTUzNjM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-12-10T13:34:28Z","updated_at":"2025-01-21T13:10:32Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>Thanks for the patch. I or one of the other committers will have a look soon. I'm in the middle of a big move and can't get to it for another week or so (or more).</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604695363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604702441","html_url":"https://github.com/apache/curator/issues/598#issuecomment-2604702441","issue_url":"https://api.github.com/repos/apache/curator/issues/598","id":2604702441,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDI0NDE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-12-13T17:26:51Z","updated_at":"2025-01-21T13:13:34Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sebb@apache.org\">sebb@apache.org</a>:</i>\n<p>PING</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604702441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604702443","html_url":"https://github.com/apache/curator/issues/598#issuecomment-2604702443","issue_url":"https://api.github.com/repos/apache/curator/issues/598","id":2604702443,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDI0NDM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-12-15T19:35:19Z","updated_at":"2025-01-21T13:13:34Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sebb@apache.org\">sebb@apache.org</a>:</i>\n<p>The top-level directory is still present:</p>\n\n<p><a href=\"https://dist.apache.org/repos/dist/release/incubator/curator\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://dist.apache.org/repos/dist/release/incubator/curator</a></p>\n\n<p>Please could you delete this as well?</p>\n\n<p>Also the staging area here please:</p>\n\n<p><a href=\"https://dist.apache.org/repos/dist/dev/incubator/curator/\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://dist.apache.org/repos/dist/dev/incubator/curator/</a></p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604702443/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604702449","html_url":"https://github.com/apache/curator/issues/598#issuecomment-2604702449","issue_url":"https://api.github.com/repos/apache/curator/issues/598","id":2604702449,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDI0NDk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-12-15T22:54:50Z","updated_at":"2025-01-21T13:13:34Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sebb@apache.org\">sebb@apache.org</a>:</i>\n<p>Thanks</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604702449/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604700868","html_url":"https://github.com/apache/curator/issues/588#issuecomment-2604700868","issue_url":"https://api.github.com/repos/apache/curator/issues/588","id":2604700868,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDA4Njg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-12-17T22:46:42Z","updated_at":"2025-01-21T13:12:55Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ddiodati@successfactors.com\">ddiodati@successfactors.com</a>:</i>\n<p>How can I get this fix into a release ?</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604700868/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604700873","html_url":"https://github.com/apache/curator/issues/588#issuecomment-2604700873","issue_url":"https://api.github.com/repos/apache/curator/issues/588","id":2604700873,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDA4NzM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-12-17T22:55:06Z","updated_at":"2025-01-21T13:12:55Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>I apologize. I've been traveling and won't be able to get to Curator until the 1st of the year. Maybe one of the other committers can get to it.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604700873/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701710","html_url":"https://github.com/apache/curator/issues/593#issuecomment-2604701710","issue_url":"https://api.github.com/repos/apache/curator/issues/593","id":2604701710,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDE3MTA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-12-24T22:58:18Z","updated_at":"2025-01-21T13:13:14Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>OK - holidays and moving are done I'm back on Curator...</p>\n\n<p>I just pushed what I think is the ultimate fix for this. Both of your tests now pass. Please validate when you can.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701710/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604695369","html_url":"https://github.com/apache/curator/issues/554#issuecomment-2604695369","issue_url":"https://api.github.com/repos/apache/curator/issues/554","id":2604695369,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ2OTUzNjk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-12-26T16:00:15Z","updated_at":"2025-01-21T13:10:32Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>My initial view of the change is good. However, I'd like to see more tests. For example, processChildren() can cause a getDataAndStat() and then an internalRefresh(). This smells like a potential race, but I'd need to prove it.</p>\n\n<p>So, please provide some more tests. Maybe create a new test class dedicated to testing DescendantHandlingMode.ALL_DESCENDANTS</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604695369/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604690533","html_url":"https://github.com/apache/curator/issues/524#issuecomment-2604690533","issue_url":"https://api.github.com/repos/apache/curator/issues/524","id":2604690533,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ2OTA1MzM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-01-02T09:32:19Z","updated_at":"2025-01-21T13:08:27Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=michal.warecki\">michal.warecki</a>:</i>\n<p>Is there any workaround of this behaviour? We have a production problem caused by this bug. On reconnect, we lose leader election capabilities.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604690533/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701714","html_url":"https://github.com/apache/curator/issues/593#issuecomment-2604701714","issue_url":"https://api.github.com/repos/apache/curator/issues/593","id":2604701714,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDE3MTQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-01-08T11:44:27Z","updated_at":"2025-01-21T13:13:15Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=evaristojosec@yahoo.es\">evaristojosec@yahoo.es</a>:</i>\n<p>I have run the regression of my app, and I think there is an issue with the patch</p>\n\n<p>I describe the use case:<br/>\n1.- CuratorFramework connected to healthy ZK ensemble with several recipes related (leader election, nodeCache, pathchildrencache)<br/>\n2.- Stop all ZK server from the ensemble<br/>\n3.- CuratorFramework triggers SUSPENDED (As expected)<br/>\n4.- CuratorFramework triggers LOST (As expected)<br/>\n5.- Starting all ZK servers from the ensemble again<br/>\n7.- CuratorFramework triggers RECONNECTED (As expected)<br/>\n8.- After step 7, CuratorFramework triggers LOST (NOT EXPECTED)</p>\n\n<p>I will try to provide a test that shows the issue asap</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701714/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701717","html_url":"https://github.com/apache/curator/issues/593#issuecomment-2604701717","issue_url":"https://api.github.com/repos/apache/curator/issues/593","id":2604701717,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDE3MTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-01-08T13:12:17Z","updated_at":"2025-01-21T13:13:15Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>Thanks again - a test case would be appreciated. This has been one of the thorniest issues in Curator.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701717/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701720","html_url":"https://github.com/apache/curator/issues/593#issuecomment-2604701720","issue_url":"https://api.github.com/repos/apache/curator/issues/593","id":2604701720,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDE3MjA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-01-10T13:38:09Z","updated_at":"2025-01-21T13:13:15Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=evaristojosec@yahoo.es\">evaristojosec@yahoo.es</a>:</i>\n<p>Hi there,</p>\n\n<p>I am trying to produce a test that shows the problem but I am failing to isolate a test. Anyhow I think I have some interesting information activating CURATOR DEBUG information just in case that you could help me to provide some light about the problem.</p>\n\n<p>As said previously with <a href=\"https://issues.apache.org/jira/browse/CURATOR-72\" title=\"Background operations don&#39;t wait for connection timeout\" class=\"issue-link\" data-issue-key=\"CURATOR-72\"><del>CURATOR-72</del></a> I see RECONNECTED-LOST (LOST should not happen), but I see also some other strange things.</p>\n\n<p>I have run my app tests with CURATOR 2.1.0 and <a href=\"https://issues.apache.org/jira/browse/CURATOR-72\" title=\"Background operations don&#39;t wait for connection timeout\" class=\"issue-link\" data-issue-key=\"CURATOR-72\"><del>CURATOR-72</del></a> branch code</p>\n\n<p>My app is using several recipes (leaderelection, nodeCache, pathchildrenCache...), and the app has several CF clients<br/>\nI am using RetryOneTime(1000) retry policy for CF clients and STO 7500 msecs and CTO 1500 msecs </p>\n\n<p>Using CURATOR 2.1.0 my app works fine and listeners look ok. When I stop ZK servers the number of background retries looks to follow the retry policy pattern.</p>\n\n<p>Using <a href=\"https://issues.apache.org/jira/browse/CURATOR-72\" title=\"Background operations don&#39;t wait for connection timeout\" class=\"issue-link\" data-issue-key=\"CURATOR-72\"><del>CURATOR-72</del></a> branch with current code I see the following:</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>When I stop ZK servers the number  of background retries exceptions is huge in the log (for sure it does not follow the retyr policy and CTO parameters), so I believe some recipe is retrying like hell and not following the retry policy (in this case the process takes a much higher CPU process that with <a href=\"https://issues.apache.org/jira/browse/CURATOR-2\" title=\"OSGi-friend distribution\" class=\"issue-link\" data-issue-key=\"CURATOR-2\"><del>CURATOR-2</del></a>-1.0). There is a huge amount of messages with ConnectionLossException and messages like:</li>\n</ul>\n\n\n<p><span class=\"error\">&#91;ConnectionState&#93;</span> 2014-01-10 14:12:19 <span class=\"error\">&#91;ERROR&#93;</span> - ConnectionState.java:194 | Connection timed out for connection string (127.0.0.1:30101,127.0.0.1:30102,127.0.0.1:30103) and timeout (1500) / elapsed (6095)<br/>\norg.apache.curator.CuratorConnectionLossException: KeeperErrorCode = ConnectionLoss<br/>\n\tat org.apache.curator.ConnectionState.checkTimeouts(ConnectionState.java:191)<br/>\n\tat org.apache.curator.ConnectionState.getZooKeeper(ConnectionState.java:86)<br/>\n\tat org.apache.curator.CuratorZookeeperClient.getZooKeeper(CuratorZookeeperClient.java:113)<br/>\n\tat org.apache.curator.framework.imps.CuratorFrameworkImpl.performBackgroundOperation(CuratorFrameworkImpl.java:743)<br/>\n\tat org.apache.curator.framework.imps.CuratorFrameworkImpl.backgroundOperationsLoop(CuratorFrameworkImpl.java:729)<br/>\n\tat org.apache.curator.framework.imps.CuratorFrameworkImpl.access$2(CuratorFrameworkImpl.java:710)<br/>\n\tat org.apache.curator.framework.imps.CuratorFrameworkImpl$3.call(CuratorFrameworkImpl.java:244)<br/>\n\tat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)<br/>\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:138)<br/>\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)<br/>\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)<br/>\n\tat java.lang.Thread.run(Thread.java:662)<br/>\n<span class=\"error\">&#91;CuratorFrameworkImpl&#93;</span> 2014-01-10 14:12:19 <span class=\"error\">&#91;DEBUG&#93;</span> - CuratorFrameworkImpl.java:697 | Retry policy did not allow retry<br/>\n<span class=\"error\">&#91;CuratorFrameworkImpl&#93;</span> 2014-01-10 14:12:19 <span class=\"error\">&#91;ERROR&#93;</span> - CuratorFrameworkImpl.java:512 | Background exception was not retry-able or retry gave up<br/>\norg.apache.curator.CuratorConnectionLossException: KeeperErrorCode = ConnectionLoss<br/>\n\tat org.apache.curator.ConnectionState.checkTimeouts(ConnectionState.java:191)<br/>\n\tat org.apache.curator.ConnectionState.getZooKeeper(ConnectionState.java:86)<br/>\n\tat org.apache.curator.CuratorZookeeperClient.getZooKeeper(CuratorZookeeperClient.java:113)<br/>\n\tat org.apache.curator.framework.imps.CuratorFrameworkImpl.performBackgroundOperation(CuratorFrameworkImpl.java:743)<br/>\n\tat org.apache.curator.framework.imps.CuratorFrameworkImpl.backgroundOperationsLoop(CuratorFrameworkImpl.java:729)<br/>\n\tat org.apache.curator.framework.imps.CuratorFrameworkImpl.access$2(CuratorFrameworkImpl.java:710)<br/>\n\tat org.apache.curator.framework.imps.CuratorFrameworkImpl$3.call(CuratorFrameworkImpl.java:244)<br/>\n\tat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)<br/>\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:138)<br/>\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)<br/>\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)<br/>\n\tat java.lang.Thread.run(Thread.java:662)<br/>\n<span class=\"error\">&#91;ConnectionState&#93;</span> 2014-01-10 14:12:19 <span class=\"error\">&#91;ERROR&#93;</span> - ConnectionState.java:194 | Connection timed out for connection string (127.0.0.1:30101,127.0.0.1:30102,127.0.0.1:30103) and timeout (1500) / elapsed (6097)<br/>\norg.apache.curator.CuratorConnectionLossException: KeeperErrorCode = ConnectionLoss<br/>\n\tat org.apache.curator.ConnectionState.checkTimeouts(ConnectionState.java:191)<br/>\n\tat org.apache.curator.ConnectionState.getZooKeeper(ConnectionState.java:86)<br/>\n\tat org.apache.curator.CuratorZookeeperClient.getZooKeeper(CuratorZookeeperClient.java:113)<br/>\n\tat org.apache.curator.framework.imps.CuratorFrameworkImpl.performBackgroundOperation(CuratorFrameworkImpl.java:743)<br/>\n\tat org.apache.curator.framework.imps.CuratorFrameworkImpl.backgroundOperationsLoop(CuratorFrameworkImpl.java:729)<br/>\n\tat org.apache.curator.framework.imps.CuratorFrameworkImpl.access$2(CuratorFrameworkImpl.java:710)<br/>\n\tat org.apache.curator.framework.imps.CuratorFrameworkImpl$3.call(CuratorFrameworkImpl.java:244)<br/>\n\tat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)<br/>\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:138)<br/>\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)<br/>\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)<br/>\n\tat java.lang.Thread.run(Thread.java:662)<br/>\n<span class=\"error\">&#91;CuratorFrameworkImpl&#93;</span> 2014-01-10 14:12:19 <span class=\"error\">&#91;ERROR&#93;</span> - CuratorFrameworkImpl.java:512 | Background exception was not retry-able or retry gave up<br/>\norg.apache.curator.CuratorConnectionLossException: KeeperErrorCode = ConnectionLoss<br/>\n\tat org.apache.curator.ConnectionState.checkTimeouts(ConnectionState.java:191)<br/>\n\tat org.apache.curator.ConnectionState.getZooKeeper(ConnectionState.java:86)<br/>\n\tat org.apache.curator.CuratorZookeeperClient.getZooKeeper(CuratorZookeeperClient.java:113)<br/>\n\tat org.apache.curator.framework.imps.CuratorFrameworkImpl.performBackgroundOperation(CuratorFrameworkImpl.java:743)<br/>\n\tat org.apache.curator.framework.imps.CuratorFrameworkImpl.backgroundOperationsLoop(CuratorFrameworkImpl.java:729)<br/>\n\tat org.apache.curator.framework.imps.CuratorFrameworkImpl.access$2(CuratorFrameworkImpl.java:710)<br/>\n\tat org.apache.curator.framework.imps.CuratorFrameworkImpl$3.call(CuratorFrameworkImpl.java:244)<br/>\n\tat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)<br/>\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:138)<br/>\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)<br/>\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)<br/>\n\tat java.lang.Thread.run(Thread.java:662)<br/>\n<span class=\"error\">&#91;ConnectionState&#93;</span> 2014-01-10 14:12:19 <span class=\"error\">&#91;ERROR&#93;</span> - ConnectionState.java:194 | Connection timed out for connection string (127.0.0.1:30101,127.0.0.1:30102,127.0.0.1:30103) and timeout (1500) / elapsed (6098)<br/>\norg.apache.curator.CuratorConnectionLossException: KeeperErrorCode = ConnectionLoss<br/>\n\tat org.apache.curator.ConnectionState.checkTimeouts(ConnectionState.java:191)<br/>\n\tat org.apache.curator.ConnectionState.getZooKeeper(ConnectionState.java:86)<br/>\n\tat org.apache.curator.CuratorZookeeperClient.getZooKeeper(CuratorZookeeperClient.java:113)<br/>\n\tat org.apache.curator.framework.imps.CuratorFrameworkImpl.performBackgroundOperation(CuratorFrameworkImpl.java:743)<br/>\n\tat org.apache.curator.framework.imps.CuratorFrameworkImpl.backgroundOperationsLoop(CuratorFrameworkImpl.java:729)<br/>\n\tat org.apache.curator.framework.imps.CuratorFrameworkImpl.access$2(CuratorFrameworkImpl.java:710)<br/>\n\tat org.apache.curator.framework.imps.CuratorFrameworkImpl$3.call(CuratorFrameworkImpl.java:244)<br/>\n\tat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)<br/>\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:138)<br/>\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)<br/>\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)<br/>\n\tat java.lang.Thread.run(Thread.java:662)</p>\n\n<p>(Thousands of exceptions; one every 1 msec aprox).</p>\n\n\n\n<p>At the end the number of ConnectionLoss Exceptions is huge and highly frequent.</p>\n\n<p>When starting ZK server again, the RECONNECTED is fired but after that LOST is also fired, so I guess that still there is race condition (although now there is an issue that triggers so many ConnectionLoss Exceptions)</p>\n\n<p>I hope it helps </p>\n\n<p>Regards,</p>\n\n<p>Evaristo</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701720/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701729","html_url":"https://github.com/apache/curator/issues/593#issuecomment-2604701729","issue_url":"https://api.github.com/repos/apache/curator/issues/593","id":2604701729,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDE3Mjk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-01-12T13:16:08Z","updated_at":"2025-01-21T13:13:15Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=evaristojosec@yahoo.es\">evaristojosec@yahoo.es</a>:</i>\n<p>Finally I have a test that shows the problem (TestListenerWithLeaderSelector.java). The test shows a CF client with a LeaderSelector, and a ZK server that is started and stopped. The listeners sequence is broken with <a href=\"https://issues.apache.org/jira/browse/CURATOR-72\" title=\"Background operations don&#39;t wait for connection timeout\" class=\"issue-link\" data-issue-key=\"CURATOR-72\"><del>CURATOR-72</del></a> in some runs of the test</p>\n\n<p>I have made 10 runs of test with <a href=\"https://issues.apache.org/jira/browse/CURATOR-2\" title=\"OSGi-friend distribution\" class=\"issue-link\" data-issue-key=\"CURATOR-2\"><del>CURATOR-2</del></a>.1.0 (all passed) and 10 runs with CURATOR_72 (5 passed and 5 failed with listener sequence CONNECTED-SUSPENDED-LOST-RECONNECTED-LOST)</p>\n","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701729/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701732","html_url":"https://github.com/apache/curator/issues/593#issuecomment-2604701732","issue_url":"https://api.github.com/repos/apache/curator/issues/593","id":2604701732,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDE3MzI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-01-12T17:16:15Z","updated_at":"2025-01-21T13:13:15Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=barkbay\">barkbay</a>:</i>\n<p>There's a kind of race condition :</p>\n\n<p>First CuratorFramework-0-EventThread  sets connection state to RECONNECTED because Zookeeper told it to do so</p>\n<blockquote>\n<p>\tat org.apache.curator.framework.state.ConnectionStateManager.addStateChange(ConnectionStateManager.java:159)<br/>\n\tat org.apache.curator.framework.imps.CuratorFrameworkImpl.validateConnection(CuratorFrameworkImpl.java:757)<br/>\n\tat org.apache.curator.framework.imps.CuratorFrameworkImpl.processEvent(CuratorFrameworkImpl.java:717)<br/>\n\tat org.apache.curator.framework.imps.CuratorFrameworkImpl.access$000(CuratorFrameworkImpl.java:56)<br/>\n\tat org.apache.curator.framework.imps.CuratorFrameworkImpl$1.process(CuratorFrameworkImpl.java:133)<br/>\n\tat org.apache.curator.ConnectionState.process(ConnectionState.java:145)<br/>\n\tat org.apache.zookeeper.ClientCnxn$EventThread.processEvent(ClientCnxn.java:519)<br/>\n\tat org.apache.zookeeper.ClientCnxn$EventThread.run(ClientCnxn.java:495)</p></blockquote>\n\n<p>Right after CuratorFramework-0 sets connection state to LOST because of a background retry that is still in the pipeline :</p>\n<blockquote>\n<p>\tat org.apache.curator.framework.state.ConnectionStateManager.addStateChange(ConnectionStateManager.java:168)<br/>\n\tat org.apache.curator.framework.imps.CuratorFrameworkImpl.logError(CuratorFrameworkImpl.java:517)<br/>\n\tat org.apache.curator.framework.imps.CuratorFrameworkImpl.checkBackgroundRetry(CuratorFrameworkImpl.java:593)<br/>\n\tat org.apache.curator.framework.imps.CuratorFrameworkImpl.performBackgroundOperation(CuratorFrameworkImpl.java:699)<br/>\n\tat org.apache.curator.framework.imps.CuratorFrameworkImpl.backgroundOperationsLoop(CuratorFrameworkImpl.java:665)<br/>\n\tat org.apache.curator.framework.imps.CuratorFrameworkImpl.access$300(CuratorFrameworkImpl.java:56)<br/>\n\tat org.apache.curator.framework.imps.CuratorFrameworkImpl$3.call(CuratorFrameworkImpl.java:244)<br/>\n\tat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)<br/>\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:138)<br/>\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)<br/>\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)<br/>\n\tat java.lang.Thread.run(Thread.java:662)</p></blockquote>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701738","html_url":"https://github.com/apache/curator/issues/593#issuecomment-2604701738","issue_url":"https://api.github.com/repos/apache/curator/issues/593","id":2604701738,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDE3Mzg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-01-12T19:35:21Z","updated_at":"2025-01-21T13:13:15Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>I see the issue. As <a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=barkbay\" class=\"user-hover\" rel=\"barkbay\">Michael Morello</a> points out, there's a race. When Curator goes to SUSPENDED, it starts a background sync() call to check if it needs to go to LOST. During this, Curator might reset the connection. The new reset connection will succeed, but the previous connection fails. What needs to happen is Curator needs to make note that the connection got reset and ignore the background sync() failure which is now for a no longer used ZooKeeper instance.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701744","html_url":"https://github.com/apache/curator/issues/593#issuecomment-2604701744","issue_url":"https://api.github.com/repos/apache/curator/issues/593","id":2604701744,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDE3NDQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-01-12T21:53:35Z","updated_at":"2025-01-21T13:13:15Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>OK - I've just pushed a fix for this edge case. Please verify.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701748","html_url":"https://github.com/apache/curator/issues/593#issuecomment-2604701748","issue_url":"https://api.github.com/repos/apache/curator/issues/593","id":2604701748,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDE3NDg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-01-13T10:25:05Z","updated_at":"2025-01-21T13:13:16Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=evaristojosec@yahoo.es\">evaristojosec@yahoo.es</a>:</i>\n<p>Previous test work fine now, but<br/>\nnow fails a different thing, a SUSPENDED is fired after RECONNECTED. You can easily check that with TestListenerWithLeaderSelectorBis</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701757","html_url":"https://github.com/apache/curator/issues/593#issuecomment-2604701757","issue_url":"https://api.github.com/repos/apache/curator/issues/593","id":2604701757,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDE3NTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-01-17T10:52:50Z","updated_at":"2025-01-21T13:13:16Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=evaristojosec@yahoo.es\">evaristojosec@yahoo.es</a>:</i>\n<p>Hi there:</p>\n\n<p>I have been comparing code in <a href=\"https://issues.apache.org/jira/browse/CURATOR-72\" title=\"Background operations don&#39;t wait for connection timeout\" class=\"issue-link\" data-issue-key=\"CURATOR-72\"><del>CURATOR-72</del></a> (current code) and CURATOR 2.1.0, and these are my conclussions:</p>\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>In both releases  there is race condition between background and foreground errors  and KeeperState events that can break the ConnectionState listener statusm (as demonstrated by attached tests</li>\n\t<li><a href=\"https://issues.apache.org/jira/browse/CURATOR-72\" title=\"Background operations don&#39;t wait for connection timeout\" class=\"issue-link\" data-issue-key=\"CURATOR-72\"><del>CURATOR-72</del></a> (I think from Curator 2.3.0) there is an issue and the number of retries in some cases is huge and out of control and therefore the previous race condition is much more evident. (Can be also seen with attached tests using LeaderElection)</li>\n</ul>\n\n\n<p>So in fact there are 2 issues here. The first one (the race condition I think was already there before 2.3) and the second one is new.</p>\n\n<p>On the other hand, I suggest to have a clear defintion of the different values for ConnectionState and when they are triggered, because implementations in CUARTOR 2.1 and CURATOR 72 are different and in my opinion they follow a different specification (e.g. how ConnectionLoss exceptions are managed)</p>\n\n<p>In <a href=\"https://issues.apache.org/jira/browse/CURATOR-72\" title=\"Background operations don&#39;t wait for connection timeout\" class=\"issue-link\" data-issue-key=\"CURATOR-72\"><del>CURATOR-72</del></a> this is the logic:</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>CONNECTED AND RECONNECTED are clear for me (they only depend on KeepState events)</li>\n\t<li>SUSPENDED can be triggered by KeeperState.Disconnected event or by a ConnectionLoss or OperationTimeout operation (whatever happens first)</li>\n\t<li>LOST can be triggered directly by KeeperState.Expired and SessionExpired exceptions and when received a ConnectionLost or OperationTimeout a background operation is started to check if it is possible to connect to other ZK server and in that case LOST is also triggered</li>\n</ul>\n\n\n<p>In <a href=\"https://issues.apache.org/jira/browse/CURATOR-2\" title=\"OSGi-friend distribution\" class=\"issue-link\" data-issue-key=\"CURATOR-2\"><del>CURATOR-2</del></a>.1.0 the logic is:</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>CONNECTED AND RECONNECTED are clear for me (they only depend on KeepState events)</li>\n\t<li>SUSPENDED can be only triggered by KeeperState.Disconnected</li>\n\t<li>LOST is triggered by any ConnectionLoss exception</li>\n</ul>\n\n\n<p>I am trying to provide a patch for the code but I am struggling, but if we agree on definition I can help with test cases</p>\n\n\n\n\n\n","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701757/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604703656","html_url":"https://github.com/apache/curator/issues/605#issuecomment-2604703656","issue_url":"https://api.github.com/repos/apache/curator/issues/605","id":2604703656,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDM2NTY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-01-22T14:01:28Z","updated_at":"2025-01-21T13:14:03Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jojovilco\">jojovilco</a>:</i>\n<p>Proposed changes</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604703656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604703924","html_url":"https://github.com/apache/curator/issues/606#issuecomment-2604703924","issue_url":"https://api.github.com/repos/apache/curator/issues/606","id":2604703924,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDM5MjQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-01-25T17:24:47Z","updated_at":"2025-01-21T13:14:09Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sigpwned\">sigpwned</a>:</i>\n<p>I'm hitting this issue as well. It's new since com.google.guava:guava:16.0. I'd be happy to issue a pull request for this issue, if it's useful.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604703924/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604703927","html_url":"https://github.com/apache/curator/issues/606#issuecomment-2604703927","issue_url":"https://api.github.com/repos/apache/curator/issues/606","id":2604703927,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDM5Mjc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-01-25T17:53:58Z","updated_at":"2025-01-21T13:14:10Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>A patch would be appreciated. Suggestion: Just move the Closeables.closeQuietly() method to a top level class like was done with DirectoryUtils.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604703927/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604703932","html_url":"https://github.com/apache/curator/issues/606#issuecomment-2604703932","issue_url":"https://api.github.com/repos/apache/curator/issues/606","id":2604703932,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDM5MzI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-01-25T18:11:14Z","updated_at":"2025-01-21T13:14:10Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sigpwned\">sigpwned</a>:</i>\n<p>Thanks for the quick response, Jordan. I'll see if I can't get a patch turned around in the next day or two.</p>\n\n<p>To be minimally disruptive to projects currently using Curator, it looks like The Right Thing is not to bump the version of the guava dependency, but rather to port calls from Closeables#closeQuietly(Closeable) to Closeables#close(Closeable,boolean), which is already available in 14.1 and still available (and not @deprecated) in 16.0. </p>\n\n<p>However, if you'd prefer I bump to 15.0 or 16.0, it shouldn't be hard to do that, either. I see an issue (<a href=\"https://issues.apache.org/jira/browse/CURATOR-69\" title=\"update guava to 15,the version 14 can&#39;t deploy in glassfish\" class=\"issue-link\" data-issue-key=\"CURATOR-69\"><del>CURATOR-69</del></a>) to bump to 15.0; it'd be pretty easy to handle that in this patch, too.</p>\n\n<p>Unless you say otherwise, I'll keep to 14.0.1.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604703932/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604703934","html_url":"https://github.com/apache/curator/issues/606#issuecomment-2604703934","issue_url":"https://api.github.com/repos/apache/curator/issues/606","id":2604703934,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDM5MzQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-01-25T18:15:53Z","updated_at":"2025-01-21T13:14:10Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>The problem with Closeables#close(Closeable,boolean) is that it's marked to throw an exception. So, the change will be disruptive. What I planned to do was write a new class that has the old code (frankly, I can't understand why they're removing it):</p>\n\n<p>public class CloseQuietly {<br/>\n  public static void closeQuietly(Closeable closeable) {<br/>\n    try </p>\n{\n      close(closeable, true);\n    }\n<p> catch (IOException e) </p>\n{\n      logger.log(Level.SEVERE, \"IOException should not have been thrown.\", e);\n    }\n<p>  }<br/>\n}</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604703934/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604703938","html_url":"https://github.com/apache/curator/issues/606#issuecomment-2604703938","issue_url":"https://api.github.com/repos/apache/curator/issues/606","id":2604703938,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDM5Mzg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-01-25T18:29:10Z","updated_at":"2025-01-21T13:14:10Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sigpwned\">sigpwned</a>:</i>\n<p>Got it. Thanks for the clarification. I'll plan to keep guava at its current version and create a class called CloseableUtils (to match DirectoryUtils, per your original comment) containing the method you gave above, and replace all calls to Closeables#closeQuietly(Closeable) to CloseableUtils#closeQuietly(Closeable).</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604703938/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604703942","html_url":"https://github.com/apache/curator/issues/606#issuecomment-2604703942","issue_url":"https://api.github.com/repos/apache/curator/issues/606","id":2604703942,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDM5NDI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-01-26T19:03:00Z","updated_at":"2025-01-21T13:14:10Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sigpwned\">sigpwned</a>:</i>\n<p>Here's the patch we discussed (curator-85.diff). It creates a class <tt>org.apache.curator.utils.CloseableUtils</tt> in <tt>curator-client</tt>, since that's the common dependency for all other Curator modules. The class creates a method <tt>closeQuietly()</tt>, which has the implementation Jordan provided yesterday. The patch then replaces all references to <tt>Closeables#closeQuietly()</tt> in master with references to <tt>CloseableUtils#closeQuietly()</tt>. The patch was tested with <tt>mvn clean compile test</tt> with the guava dependency set to 14.0.1 and 16.0 in the parent POM, and succeeded both times. (This patch leaves the guava dependency at 14.0.1.)</p>\n\n<p>This should be the final patch, but of course all feedback is welcome and I'm happy to make any changes you need!</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604703942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701767","html_url":"https://github.com/apache/curator/issues/593#issuecomment-2604701767","issue_url":"https://api.github.com/repos/apache/curator/issues/593","id":2604701767,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDE3Njc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-01-31T22:21:14Z","updated_at":"2025-01-21T13:13:16Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=evaristojosec@yahoo.es\">evaristojosec@yahoo.es</a>:</i>\n<p>Hi there,</p>\n\n<p>TestListenerWithLeaderSelectorBis shows a snow ball effect with ConnectionLossExceptions</p>\n\n<p>One of the issues that I have found with <a href=\"https://issues.apache.org/jira/browse/CURATOR-72\" title=\"Background operations don&#39;t wait for connection timeout\" class=\"issue-link\" data-issue-key=\"CURATOR-72\"><del>CURATOR-72</del></a> code is that callBack for retriesExhausted in background operations is called twice (once by checkBackgroundRetry and another one by handleBackgroundOperationException). This generates an snow fall effect if you are using for instance a guaranted delete like is used by the leader selector to delete lock nodes when the connection is suspended.</p>\n\n<p>Even fixing that, I am pretty sure there is more issues  because the ConnectionLoss exceptions storm still grows</p>\n","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701767/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701771","html_url":"https://github.com/apache/curator/issues/593#issuecomment-2604701771","issue_url":"https://api.github.com/repos/apache/curator/issues/593","id":2604701771,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDE3NzE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-01-31T23:00:29Z","updated_at":"2025-01-21T13:13:16Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=evaristojosec@yahoo.es\">evaristojosec@yahoo.es</a>:</i>\n<p>Hi there,</p>\n\n<p>I think I got it. I attach a patch. Please take a look and provide comments</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701771/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604703948","html_url":"https://github.com/apache/curator/issues/606#issuecomment-2604703948","issue_url":"https://api.github.com/repos/apache/curator/issues/606","id":2604703948,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDM5NDg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-02-02T14:31:36Z","updated_at":"2025-01-21T13:14:10Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sigpwned\">sigpwned</a>:</i>\n<p>Hi Jordan, just checking in on this patch. Not trying to rush you &#8211; I'm sure you're busy above and beyond everything you already do on this project &#8211; just trying to see if the patch is acceptable, and if there's anything I can do to make the patch easier for you to work with.</p>\n\n<p>Thanks again for Curator! It's a wonderful addition to ZooKeeper, and I never use ZooKeeper without it. <img class=\"emoticon\" src=\"https://issues.apache.org/jira/images/icons/emoticons/smile.png\" height=\"16\" width=\"16\" align=\"absmiddle\" alt=\"\" border=\"0\"/></p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604703948/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701780","html_url":"https://github.com/apache/curator/issues/593#issuecomment-2604701780","issue_url":"https://api.github.com/repos/apache/curator/issues/593","id":2604701780,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDE3ODA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-02-03T00:13:16Z","updated_at":"2025-01-21T13:13:16Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>Looks good. Why the removal of \"handleBackgroundOperationException(operationAndData, e);\" in favor of just logging the error?</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701780/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604703950","html_url":"https://github.com/apache/curator/issues/606#issuecomment-2604703950","issue_url":"https://api.github.com/repos/apache/curator/issues/606","id":2604703950,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDM5NTA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-02-03T00:14:13Z","updated_at":"2025-01-21T13:14:10Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>Sorry - I'll look at it in the next day or so. Curator really needs more active committers. If you'd like to take a stab at any other open issues, it would be appreciated.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604703950/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604703955","html_url":"https://github.com/apache/curator/issues/606#issuecomment-2604703955","issue_url":"https://api.github.com/repos/apache/curator/issues/606","id":2604703955,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDM5NTU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-02-03T01:16:10Z","updated_at":"2025-01-21T13:14:10Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sigpwned\">sigpwned</a>:</i>\n<p>Jordan, no worries at all! Appreciate the response! Just trying to see if I can lighten the load.</p>\n\n<p>I'll thumb through the other open issues over the next couple of days and see if I can't take a whack at a few more.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604703955/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701786","html_url":"https://github.com/apache/curator/issues/593#issuecomment-2604701786","issue_url":"https://api.github.com/repos/apache/curator/issues/593","id":2604701786,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDE3ODY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-02-03T08:06:56Z","updated_at":"2025-01-21T13:13:16Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=evaristojosec@yahoo.es\">evaristojosec@yahoo.es</a>:</i>\n<p>The code is basically redundant with checkBackgroundRetry(operationAndData, event). If you also maintain handleBackgroundOperationException(operationAndData, e) you are for instance calling twice the retriesExhausted callback. In some cases this has a snow ball effect (e.g. guaranteed deletes grows exponentially because retries exhausted callback generates a new background operation).</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701786/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701793","html_url":"https://github.com/apache/curator/issues/593#issuecomment-2604701793","issue_url":"https://api.github.com/repos/apache/curator/issues/593","id":2604701793,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDE3OTM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-02-03T14:29:06Z","updated_at":"2025-01-21T13:13:16Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>There's still a problem. TestBackgroundStates.testConnectionStateListener() is failing. I'll look into it. You can too.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701793/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701797","html_url":"https://github.com/apache/curator/issues/593#issuecomment-2604701797","issue_url":"https://api.github.com/repos/apache/curator/issues/593","id":2604701797,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDE3OTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-02-03T18:47:10Z","updated_at":"2025-01-21T13:13:16Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>OK - I just pushed a change that makes testConnectionStateListener() and all the background state change tests work. I hate how complicated this code is getting but I'm not sure what else to do.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701797/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604703962","html_url":"https://github.com/apache/curator/issues/606#issuecomment-2604703962","issue_url":"https://api.github.com/repos/apache/curator/issues/606","id":2604703962,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDM5NjI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-02-03T18:57:01Z","updated_at":"2025-01-21T13:14:10Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>Patch accepted, merged and pushed. Thank you!</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604703962/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701802","html_url":"https://github.com/apache/curator/issues/593#issuecomment-2604701802","issue_url":"https://api.github.com/repos/apache/curator/issues/593","id":2604701802,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDE4MDI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-02-03T18:59:09Z","updated_at":"2025-01-21T13:13:17Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>FARG - I just pushed a merge of <a href=\"https://issues.apache.org/jira/browse/CURATOR-85\" title=\"curator-client ConnectionState uses deprecated Closeables method\" class=\"issue-link\" data-issue-key=\"CURATOR-85\"><del>CURATOR-85</del></a> merged into this branch. I hope it doesn't confuse you. Please just look at the one change in CuratorFrameworkImpl.doSyncForSuspendedConnection()</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701802/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604702184","html_url":"https://github.com/apache/curator/issues/596#issuecomment-2604702184","issue_url":"https://api.github.com/repos/apache/curator/issues/596","id":2604702184,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDIxODQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-02-03T21:15:20Z","updated_at":"2025-01-21T13:13:27Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>patch accepted, merged and pushed. Thank you.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604702184/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701903","html_url":"https://github.com/apache/curator/issues/594#issuecomment-2604701903","issue_url":"https://api.github.com/repos/apache/curator/issues/594","id":2604701903,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDE5MDM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-02-12T15:54:49Z","updated_at":"2025-01-21T13:13:19Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zerd\">zerd</a>:</i>\n<p>I believe I have a possible fix for this issue. A patch is attached.</p>\n\n<p>What the patch does is move the clearing of isQueued-flag out so that it is<br/>\n done whenever the actual callable executing takeLeadership() returns.</p>\n\n<p>The isQueued-flag was not cleared when mutex.acquire() failed.<br/>\nmutex.acquire() can fail when<br/>\n1. you are not the current leader, but you are waiting for leadership. and<br/>\n2. connection is lost or suspended.<br/>\nThen the leader-selector cannot be requeued when the connection comes back.</p>\n\n<p>Test case is also attached.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701907","html_url":"https://github.com/apache/curator/issues/594#issuecomment-2604701907","issue_url":"https://api.github.com/repos/apache/curator/issues/594","id":2604701907,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDE5MDc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-02-13T11:34:28Z","updated_at":"2025-01-21T13:13:20Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zerd\">zerd</a>:</i>\n<p>Regarding the test case. It seemed flaky at first, but when I added one additional sleep it works better:</p>\n<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\">\n<pre class=\"code-java\">timing.sleepABit();\ntiming.sleepABit();\n</pre>\n</div></div>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701907/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604697335","html_url":"https://github.com/apache/curator/issues/563#issuecomment-2604697335","issue_url":"https://api.github.com/repos/apache/curator/issues/563","id":2604697335,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ2OTczMzU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-02-16T14:28:00Z","updated_at":"2025-01-21T13:11:21Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sigpwned\">sigpwned</a>:</i>\n<p>Jordan, going through the backlog of bugs seeing if there's a place I can pitch in, like we discussed on <a href=\"https://issues.apache.org/jira/browse/CURATOR-85\" title=\"curator-client ConnectionState uses deprecated Closeables method\" class=\"issue-link\" data-issue-key=\"CURATOR-85\"><del>CURATOR-85</del></a>. It's been a long time since this issue has had any activity and I think you've got the right of it anyway; does it make sense to close this as NOTABUG?</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604697335/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604690539","html_url":"https://github.com/apache/curator/issues/524#issuecomment-2604690539","issue_url":"https://api.github.com/repos/apache/curator/issues/524","id":2604690539,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ2OTA1Mzk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-02-16T14:33:10Z","updated_at":"2025-01-21T13:08:27Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sigpwned\">sigpwned</a>:</i>\n<p>Michał, a test case for this behavior against a recent release (e.g., curator-2.4) is probably what it will take to get the issue fixed quickly. Can you provide a test case that reproduces the issue? That will make it <b>much</b> easier to fix!</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604690539/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701168","html_url":"https://github.com/apache/curator/issues/590#issuecomment-2604701168","issue_url":"https://api.github.com/repos/apache/curator/issues/590","id":2604701168,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDExNjg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-02-16T15:53:29Z","updated_at":"2025-01-21T13:13:02Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sigpwned\">sigpwned</a>:</i>\n<p>Based on integration of <a href=\"https://issues.apache.org/jira/browse/CURATOR-85\" title=\"curator-client ConnectionState uses deprecated Closeables method\" class=\"issue-link\" data-issue-key=\"CURATOR-85\"><del>CURATOR-85</del></a> into curator-2.4 &#8211; that release was <b>fast</b>, btw, awesome! &#8211; I ran a `mvn clean compile test` with the guava dependency at 14.0.1 and at 16.0. Both succeeded, so I think we can safely bump the guava dependency to 16.0. That should resolve this issue. Obviously, this applies to <a href=\"https://issues.apache.org/jira/browse/CURATOR-65\" title=\"Update various dependencies\" class=\"issue-link\" data-issue-key=\"CURATOR-65\"><del>CURATOR-65</del></a>, too.</p>\n\n<p>(Trivial) patch attached.</p>\n\n<p>Jordan, any objection?</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701168/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701174","html_url":"https://github.com/apache/curator/issues/590#issuecomment-2604701174","issue_url":"https://api.github.com/repos/apache/curator/issues/590","id":2604701174,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDExNzQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-02-16T15:54:42Z","updated_at":"2025-01-21T13:13:03Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sigpwned\">sigpwned</a>:</i>\n<p>Aforementioned patch.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701174/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604704452","html_url":"https://github.com/apache/curator/issues/610#issuecomment-2604704452","issue_url":"https://api.github.com/repos/apache/curator/issues/610","id":2604704452,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDQ0NTI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-02-20T21:40:48Z","updated_at":"2025-01-21T13:14:24Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=keslerdr\">keslerdr</a>:</i>\n<p>Just verified that the CloseableScheduledExecutorService seems to be causing the problem.  I did an experiment with a forked ChildReaper that just used a vanilla ScheduledExecutorService and doWork gets called repeatedly as expected.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604704452/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604704457","html_url":"https://github.com/apache/curator/issues/610#issuecomment-2604704457","issue_url":"https://api.github.com/repos/apache/curator/issues/610","id":2604704457,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDQ0NTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-02-21T03:24:07Z","updated_at":"2025-01-21T13:14:24Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>Can you provide a patch?</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604704457/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604704463","html_url":"https://github.com/apache/curator/issues/610#issuecomment-2604704463","issue_url":"https://api.github.com/repos/apache/curator/issues/610","id":2604704463,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDQ0NjM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-02-21T03:34:49Z","updated_at":"2025-01-21T13:14:24Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=keslerdr\">keslerdr</a>:</i>\n<p>I can provide a patch that replaces the ClosableScheduledExecutorService with a standard one in ChildReaper, but I'm not sure if that's going to have any negative repercussions on closing the reaper itself.  If you want the ClosableScheduledExecutorService itself fixed I can look into it, but I'm not sure what the fix is there.  I just confirmed it was the problem by routing around it.  </p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604704463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604697186","html_url":"https://github.com/apache/curator/issues/562#issuecomment-2604697186","issue_url":"https://api.github.com/repos/apache/curator/issues/562","id":2604697186,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ2OTcxODY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-02-22T10:39:31Z","updated_at":"2025-01-21T13:11:17Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bonifaido\">bonifaido</a>:</i>\n<p>Throwable#getSuppressed() is already in <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html#getSuppressed()\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">JDK 7</a>.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604697186/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604697337","html_url":"https://github.com/apache/curator/issues/563#issuecomment-2604697337","issue_url":"https://api.github.com/repos/apache/curator/issues/563","id":2604697337,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ2OTczMzc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-02-23T06:50:21Z","updated_at":"2025-01-21T13:11:21Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=arren\">arren</a>:</i>\n<p>WAT? Hang on, this is definitely a bug. It's retrying a delete for a nonexistent node.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604697337/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604697341","html_url":"https://github.com/apache/curator/issues/563#issuecomment-2604697341","issue_url":"https://api.github.com/repos/apache/curator/issues/563","id":2604697341,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ2OTczNDE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-02-23T07:07:51Z","updated_at":"2025-01-21T13:11:21Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=arren\" class=\"user-hover\" rel=\"arren\">Shevek</a> please provide a test case. As I describe above I don't see how this is possible.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604697341/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604697190","html_url":"https://github.com/apache/curator/issues/562#issuecomment-2604697190","issue_url":"https://api.github.com/repos/apache/curator/issues/562","id":2604697190,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ2OTcxOTA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-02-23T07:58:13Z","updated_at":"2025-01-21T13:11:17Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>Curator is currently JDK 6 compatible. I guess the finally could catch exceptions and combine the two but that would be cumbersome. Are you seeing this actually happen?</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604697190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701915","html_url":"https://github.com/apache/curator/issues/594#issuecomment-2604701915","issue_url":"https://api.github.com/repos/apache/curator/issues/594","id":2604701915,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDE5MTU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-02-23T10:08:12Z","updated_at":"2025-01-21T13:13:20Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>I applied the patch but left the original clearIsQueued() as it was. This has been merged into master and pushed.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604701915/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604690544","html_url":"https://github.com/apache/curator/issues/524#issuecomment-2604690544","issue_url":"https://api.github.com/repos/apache/curator/issues/524","id":2604690544,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ2OTA1NDQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-02-23T10:09:40Z","updated_at":"2025-01-21T13:08:27Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>Is this related to <a href=\"https://issues.apache.org/jira/browse/CURATOR-73\" title=\"No reliable way to restart leadership in LeaderSelector when connection fails due to edge cases\" class=\"issue-link\" data-issue-key=\"CURATOR-73\"><del>CURATOR-73</del></a>? Please test with the most recent push.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604690544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604704468","html_url":"https://github.com/apache/curator/issues/610#issuecomment-2604704468","issue_url":"https://api.github.com/repos/apache/curator/issues/610","id":2604704468,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDQ0Njg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-02-23T10:20:01Z","updated_at":"2025-01-21T13:14:24Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>Can you provide a test that shows the problem?</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604704468/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604704299","html_url":"https://github.com/apache/curator/issues/609#issuecomment-2604704299","issue_url":"https://api.github.com/repos/apache/curator/issues/609","id":2604704299,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDQyOTk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-02-23T12:05:56Z","updated_at":"2025-01-21T13:14:20Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>Preliminary doc: <a href=\"http://www.jordanzimmerman.com/curator-x-rest/index.html\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.jordanzimmerman.com/curator-x-rest/index.html</a></p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604704299/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604704472","html_url":"https://github.com/apache/curator/issues/610#issuecomment-2604704472","issue_url":"https://api.github.com/repos/apache/curator/issues/610","id":2604704472,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDQ0NzI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-02-24T15:56:54Z","updated_at":"2025-01-21T13:14:24Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=keslerdr\">keslerdr</a>:</i>\n<p>This patch contains a test case.  I modeled it after the TestCloseableExecutorService.  For comparison, I did the same test case against both the CloseableScheduledExecutorService and the default ScheduledExecutorService.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604704472/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604697194","html_url":"https://github.com/apache/curator/issues/562#issuecomment-2604697194","issue_url":"https://api.github.com/repos/apache/curator/issues/562","id":2604697194,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ2OTcxOTQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-02-24T17:27:19Z","updated_at":"2025-01-21T13:11:18Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=arren\">arren</a>:</i>\n<p>I've seen ALL my bugs actually happen. Every ticket I raise for you is something which has actually bitten us in the arse, usually quite hard. In this case, I hit this issue, and had to instrument ... something, I forget now, in order to discover and fix the actual underlying issue, which was presumably <a href=\"https://issues.apache.org/jira/browse/CURATOR-42\" title=\"Background guaranteed delete considers NoNode to be a failed delete, and retries it\" class=\"issue-link\" data-issue-key=\"CURATOR-42\"><del>CURATOR-42</del></a>, since I raised that immediately afterwards.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604697194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604697348","html_url":"https://github.com/apache/curator/issues/563#issuecomment-2604697348","issue_url":"https://api.github.com/repos/apache/curator/issues/563","id":2604697348,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ2OTczNDg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-02-24T17:30:08Z","updated_at":"2025-01-21T13:11:21Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=arren\">arren</a>:</i>\n<p>It may be hard to deterministically produce the necessary situation. I'll think about it. At the time, I was playing with locking and election, so I assume the background delete in question was a lock removal. However, it may be sufficient to just background-guaranteed-delete a nonexistent node. I'm trying to remember if it checks for existence before starting the loop, in which case it's necessary to deterministically produce the race in test.</p>\n\n<p>FYI, the worst race I ever hit in ZK: The server told me it had failed to create a ZNode, but it had succeeded.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604697348/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604704590","html_url":"https://github.com/apache/curator/issues/611#issuecomment-2604704590","issue_url":"https://api.github.com/repos/apache/curator/issues/611","id":2604704590,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDQ1OTA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-02-25T01:27:53Z","updated_at":"2025-01-21T13:14:28Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=juliolopez\">juliolopez</a>:</i>\n<p>Potential patch</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604704590/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604704597","html_url":"https://github.com/apache/curator/issues/611#issuecomment-2604704597","issue_url":"https://api.github.com/repos/apache/curator/issues/611","id":2604704597,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDQ1OTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-02-25T02:10:37Z","updated_at":"2025-01-21T13:14:28Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>The patch uploaded badly (it looks like an HTML file or something).</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604704597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604697354","html_url":"https://github.com/apache/curator/issues/563#issuecomment-2604697354","issue_url":"https://api.github.com/repos/apache/curator/issues/563","id":2604697354,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ2OTczNTQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-02-25T02:11:49Z","updated_at":"2025-01-21T13:11:22Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>>FYI, the worst race I ever hit in ZK: The server told me it had failed to create a ZNode, but it had succeeded.<br/>\nThis is a known potential in ZooKeeper and is why Curator's create method has a \"withProtection\" feature.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604697354/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604704605","html_url":"https://github.com/apache/curator/issues/611#issuecomment-2604704605","issue_url":"https://api.github.com/repos/apache/curator/issues/611","id":2604704605,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDQ2MDU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-02-25T02:24:11Z","updated_at":"2025-01-21T13:14:28Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=juliolopez\">juliolopez</a>:</i>\n<p>Ugh.  Mmm, will retry.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604704605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604704609","html_url":"https://github.com/apache/curator/issues/611#issuecomment-2604704609","issue_url":"https://api.github.com/repos/apache/curator/issues/611","id":2604704609,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDQ2MDk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-02-25T15:21:37Z","updated_at":"2025-01-21T13:14:28Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>With this patch, you get all-or-nothing suppressing of the event. I think that's a problem. Ideally, the first event would be logged and subsequent events would be suppressed or logged as debug. This is more involved, of course.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604704609/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604704477","html_url":"https://github.com/apache/curator/issues/610#issuecomment-2604704477","issue_url":"https://api.github.com/repos/apache/curator/issues/610","id":2604704477,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDQ0Nzc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-02-25T16:12:40Z","updated_at":"2025-01-21T13:14:24Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>Test clearly shows the problem. CloseableScheduledExecutorService.scheduleWithFixedDelay is incorrectly using a FutureTask which is a one-time use object. I've pushed a potential fix as branch <a href=\"https://issues.apache.org/jira/browse/CURATOR-89\" title=\"ChildReaper only checks for children once\" class=\"issue-link\" data-issue-key=\"CURATOR-89\"><del>CURATOR-89</del></a>. Please test your use case to see if it fixes things.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604704477/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]