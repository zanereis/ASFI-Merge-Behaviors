[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416145300","html_url":"https://github.com/apache/iceberg/pull/6728#issuecomment-1416145300","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6728","id":1416145300,"node_id":"IC_kwDOCW7NX85UaKmU","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-03T16:59:44Z","updated_at":"2023-02-03T17:00:01Z","author_association":"CONTRIBUTOR","body":"> Thanks for the fixes, let's definitely enable scala checkstyle asap to avoid issues like this.\r\n> \r\n> Also I think there are some other fixes in the tests that Liwei found, could you also fix those?\r\n> \r\n> And the title of the PR should probably change.\r\n\r\nDone! Agreed I created https://github.com/apache/iceberg/issues/6736, to track this to avoid reviewers having to spend time on style issues in the scala codebase. I'm looking into it.\r\n\r\nThanks for the reviews @jackye1995 @hililiwei @yyanyy ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416145300/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416213537","html_url":"https://github.com/apache/iceberg/issues/6736#issuecomment-1416213537","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6736","id":1416213537,"node_id":"IC_kwDOCW7NX85UabQh","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-03T17:59:14Z","updated_at":"2023-02-03T17:59:14Z","author_association":"CONTRIBUTOR","body":"@amogh-jahagirdar do you want to take this?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416213537/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416219813","html_url":"https://github.com/apache/iceberg/issues/6736#issuecomment-1416219813","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6736","id":1416219813,"node_id":"IC_kwDOCW7NX85Uacyl","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-03T18:05:08Z","updated_at":"2023-02-03T18:05:08Z","author_association":"CONTRIBUTOR","body":"Sure @jackye1995 feel free to assign to me!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416219813/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416221132","html_url":"https://github.com/apache/iceberg/issues/6736#issuecomment-1416221132","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6736","id":1416221132,"node_id":"IC_kwDOCW7NX85UadHM","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-03T18:06:22Z","updated_at":"2023-02-03T18:06:22Z","author_association":"CONTRIBUTOR","body":"Thanks! ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416221132/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416260930","html_url":"https://github.com/apache/iceberg/pull/6169#issuecomment-1416260930","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6169","id":1416260930,"node_id":"IC_kwDOCW7NX85Uam1C","user":{"login":"danielcweeks","id":4925077,"node_id":"MDQ6VXNlcjQ5MjUwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4925077?v=4","gravatar_id":"","url":"https://api.github.com/users/danielcweeks","html_url":"https://github.com/danielcweeks","followers_url":"https://api.github.com/users/danielcweeks/followers","following_url":"https://api.github.com/users/danielcweeks/following{/other_user}","gists_url":"https://api.github.com/users/danielcweeks/gists{/gist_id}","starred_url":"https://api.github.com/users/danielcweeks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielcweeks/subscriptions","organizations_url":"https://api.github.com/users/danielcweeks/orgs","repos_url":"https://api.github.com/users/danielcweeks/repos","events_url":"https://api.github.com/users/danielcweeks/events{/privacy}","received_events_url":"https://api.github.com/users/danielcweeks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-03T18:45:01Z","updated_at":"2023-02-03T18:45:01Z","author_association":"CONTRIBUTOR","body":"Thanks @nastra !!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416260930/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416272512","html_url":"https://github.com/apache/iceberg/pull/6728#issuecomment-1416272512","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6728","id":1416272512,"node_id":"IC_kwDOCW7NX85UapqA","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-03T18:57:11Z","updated_at":"2023-02-03T18:57:11Z","author_association":"CONTRIBUTOR","body":"Thanks, I will merge the change for now, as you are working on fixing Scala checkstyle, we can make any missing changes with that.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416272512/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416277410","html_url":"https://github.com/apache/iceberg/issues/2456#issuecomment-1416277410","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2456","id":1416277410,"node_id":"IC_kwDOCW7NX85Uaq2i","user":{"login":"haydenflinner","id":14845292,"node_id":"MDQ6VXNlcjE0ODQ1Mjky","avatar_url":"https://avatars.githubusercontent.com/u/14845292?v=4","gravatar_id":"","url":"https://api.github.com/users/haydenflinner","html_url":"https://github.com/haydenflinner","followers_url":"https://api.github.com/users/haydenflinner/followers","following_url":"https://api.github.com/users/haydenflinner/following{/other_user}","gists_url":"https://api.github.com/users/haydenflinner/gists{/gist_id}","starred_url":"https://api.github.com/users/haydenflinner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haydenflinner/subscriptions","organizations_url":"https://api.github.com/users/haydenflinner/orgs","repos_url":"https://api.github.com/users/haydenflinner/repos","events_url":"https://api.github.com/users/haydenflinner/events{/privacy}","received_events_url":"https://api.github.com/users/haydenflinner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-03T19:01:53Z","updated_at":"2023-02-03T21:50:59Z","author_association":"NONE","body":"Edit, the below is worked around by the config option added in this ticket, though it doesn't feel like something I should ship. Use it like this:\r\n`sdf.writeTo(\"dev_catalog.tablename\").option(\"check-nullability\", \"false\").append()`\r\n\r\n-----\r\nThis appears to be the final barrier to me actually inserting data to Iceberg. Since i can't find any way to write to Iceberg except by involving Spark, some PySpark is below. Here is my current attempt, after turning off the spark checks, to rely only on Iceberg checks. The goal is to somehow convince the dataframe that the column is not nullable, without hand-writing the whole schema or incurring ridiculous speed penalty. This dataframe is only a few kb, somehow going near createDataFrame or rdd's causes massive slowdown.\r\n\r\n```python\r\n    # strftime seems easier than using SQL to cast datetime to DATE logical type\r\n    if 'my_date' in df.columns:\r\n        df.my_date = df.my_date.dt.strftime('%Y-%m-%d')\r\n    # Write a parquet file for loading to spark, because spark.createDataFrame(pandas_df) is astoundingly slow\r\n    path = tempfile.mktemp(dir=\"/tmp/hflinner/parquet\", suffix=\".parquet\")\r\n    df.to_parquet(path, index=False, allow_truncated_timestamps=True, coerce_timestamps='us')\r\n\r\n    spark = _get_spark()\r\n    sdf = spark.read.parquet(path)\r\n\r\n    # Undo strftime hack, also try to fix nullability of date and path column.\r\n    from pyspark.sql.functions import to_date\r\n    if 'my_date' in df.columns:\r\n        #sdf = sdf.select('*', (to_date(sdf.my_date)).alias('my_date'))\r\n        sdf = sdf.withColumn('my_date', to_date(sdf.my_date, '%Y-%m-%d'))\r\n        sdf = sdf.filter(sdf.my_date.isNotNull()).filter(sdf.backed_up_path.isNotNull())\r\n        sdf.schema['my_date'].nullable = False\r\n        sdf.schema['backed_up_path'].nullable = False\r\n    sdf.writeTo(f\"dev_catalog.{tablename}\").append()\r\n\r\n\r\n-->\r\nIllegalArgumentException: Cannot write incompatible dataset to table with schema:\r\ntable {\r\n  1: server_name: optional string\r\n  2: my_date: required date\r\n  3: backed_up_path: required string\r\n  4: backed_up_filesize: optional long\r\n  5: num_lines: optional long\r\n}\r\nProvided schema:\r\ntable {\r\n  1: server_name: optional string\r\n  2: my_date: optional date\r\n  3: backed_up_path: optional string\r\n  4: backed_up_filesize: optional long\r\n}\r\nProblems:\r\n* my_date should be required, but is optional\r\n* backed_up_path should be required, but is optional\r\n```\r\n\r\nI don't have a schema object (the schema is written as SQL for Iceberg) and I don't want to create an rdd.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416277410/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416283237","html_url":"https://github.com/apache/iceberg/pull/6637#issuecomment-1416283237","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6637","id":1416283237,"node_id":"IC_kwDOCW7NX85UasRl","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-03T19:06:59Z","updated_at":"2023-02-03T19:06:59Z","author_association":"CONTRIBUTOR","body":"Apart from the style changes for branch that can now be removed, I have no further comments. Let me know when this is rebased!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416283237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416321463","html_url":"https://github.com/apache/iceberg/issues/6736#issuecomment-1416321463","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6736","id":1416321463,"node_id":"IC_kwDOCW7NX85Ua1m3","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-03T19:39:57Z","updated_at":"2023-02-03T19:39:57Z","author_association":"CONTRIBUTOR","body":"And I would +1 on spotless if that's available, to make the experience consistent with Java","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416321463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416447900","html_url":"https://github.com/apache/iceberg/issues/6739#issuecomment-1416447900","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6739","id":1416447900,"node_id":"IC_kwDOCW7NX85UbUec","user":{"login":"chandanagp1","id":48811645,"node_id":"MDQ6VXNlcjQ4ODExNjQ1","avatar_url":"https://avatars.githubusercontent.com/u/48811645?v=4","gravatar_id":"","url":"https://api.github.com/users/chandanagp1","html_url":"https://github.com/chandanagp1","followers_url":"https://api.github.com/users/chandanagp1/followers","following_url":"https://api.github.com/users/chandanagp1/following{/other_user}","gists_url":"https://api.github.com/users/chandanagp1/gists{/gist_id}","starred_url":"https://api.github.com/users/chandanagp1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chandanagp1/subscriptions","organizations_url":"https://api.github.com/users/chandanagp1/orgs","repos_url":"https://api.github.com/users/chandanagp1/repos","events_url":"https://api.github.com/users/chandanagp1/events{/privacy}","received_events_url":"https://api.github.com/users/chandanagp1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-03T21:53:48Z","updated_at":"2023-02-03T21:53:48Z","author_association":"NONE","body":"Interested. Can I work on this issue?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416447900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416464149","html_url":"https://github.com/apache/iceberg/issues/6739#issuecomment-1416464149","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6739","id":1416464149,"node_id":"IC_kwDOCW7NX85UbYcV","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-03T22:07:15Z","updated_at":"2023-02-03T22:07:15Z","author_association":"CONTRIBUTOR","body":"Thanks, assigned!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416464149/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416494895","html_url":"https://github.com/apache/iceberg/issues/6679#issuecomment-1416494895","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6679","id":1416494895,"node_id":"IC_kwDOCW7NX85Ubf8v","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-03T22:45:00Z","updated_at":"2023-02-03T22:45:00Z","author_association":"MEMBER","body":"@dramaticlly Did you want to write up another issue for specifying write distribution mode as a Spark SqlConf option?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416494895/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416520953","html_url":"https://github.com/apache/iceberg/pull/6655#issuecomment-1416520953","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6655","id":1416520953,"node_id":"IC_kwDOCW7NX85UbmT5","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-03T23:22:48Z","updated_at":"2023-02-03T23:22:48Z","author_association":"CONTRIBUTOR","body":"I am not sure I understood why not simply use `Util$mayHaveBlockLocations` in Spark.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416520953/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416527656","html_url":"https://github.com/apache/iceberg/pull/6695#issuecomment-1416527656","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6695","id":1416527656,"node_id":"IC_kwDOCW7NX85Ubn8o","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-03T23:29:19Z","updated_at":"2023-02-03T23:29:19Z","author_association":"CONTRIBUTOR","body":"Thanks, @ajantha-bhat. Merged them!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416527656/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416539615","html_url":"https://github.com/apache/iceberg/pull/6622#issuecomment-1416539615","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6622","id":1416539615,"node_id":"IC_kwDOCW7NX85Ubq3f","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-03T23:54:26Z","updated_at":"2023-02-03T23:54:26Z","author_association":"CONTRIBUTOR","body":"I'd love to take a look at this PR on Monday too.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416539615/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416541311","html_url":"https://github.com/apache/iceberg/issues/6741#issuecomment-1416541311","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6741","id":1416541311,"node_id":"IC_kwDOCW7NX85UbrR_","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-03T23:57:52Z","updated_at":"2023-02-03T23:57:52Z","author_association":"CONTRIBUTOR","body":"We had such a config in the prototype but ended up switching to table properties. Given that we don't have a way to pass options to MERGE or DELETE, I feel it would make sense to offer a SQL config like this.\r\n\r\nI'll be happy to review a PR for this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416541311/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416548418","html_url":"https://github.com/apache/iceberg/issues/5339#issuecomment-1416548418","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5339","id":1416548418,"node_id":"IC_kwDOCW7NX85UbtBC","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-02-04T00:11:50Z","updated_at":"2023-02-04T00:11:50Z","author_association":"NONE","body":"This issue has been closed because it has not received any activity in the last 14 days since being marked as 'stale'","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416548418/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416552184","html_url":"https://github.com/apache/iceberg/pull/6655#issuecomment-1416552184","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6655","id":1416552184,"node_id":"IC_kwDOCW7NX85Ubt74","user":{"login":"singhpk234","id":35593236,"node_id":"MDQ6VXNlcjM1NTkzMjM2","avatar_url":"https://avatars.githubusercontent.com/u/35593236?v=4","gravatar_id":"","url":"https://api.github.com/users/singhpk234","html_url":"https://github.com/singhpk234","followers_url":"https://api.github.com/users/singhpk234/followers","following_url":"https://api.github.com/users/singhpk234/following{/other_user}","gists_url":"https://api.github.com/users/singhpk234/gists{/gist_id}","starred_url":"https://api.github.com/users/singhpk234/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/singhpk234/subscriptions","organizations_url":"https://api.github.com/users/singhpk234/orgs","repos_url":"https://api.github.com/users/singhpk234/repos","events_url":"https://api.github.com/users/singhpk234/events{/privacy}","received_events_url":"https://api.github.com/users/singhpk234/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-04T00:20:06Z","updated_at":"2023-02-04T00:20:06Z","author_association":"CONTRIBUTOR","body":"> I am not sure I understood why not simply use Util$mayHaveBlockLocations in Spark.\r\n> boolean defaultValue = Util.mayHaveBlockLocations(table.io(), table.location());\r\nreturn PropertyUtil.propertyAsBoolean(readOptions, SparkReadOptions.LOCALITY, defaultValue);\r\n\r\nprevious behviour :\r\n| SparkReadOptions.LOCALITY      | FileIO | SparkReadConf#localityEnabled\r\n| ----------- | ----------- |---|\r\n| true      |  S3FileIO       | false |\r\n\r\nafter the change : \r\n\r\n| SparkReadOptions.LOCALITY      | FileIO | SparkReadConf#localityEnabled\r\n| ----------- | ----------- |---|\r\n| true      |  S3FileIO       | true |\r\n\r\nThis means since localityEnabled is true now spark will call Utils#blockLocation for each SparkInputPartition even for S3FileIO if the conf is set which was not the case earlier. (Apologies for my prev correspondance.)\r\n\r\nBut it makes sense to make flink and spark locality enabled identical, made the changes suggested above.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416552184/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416560469","html_url":"https://github.com/apache/iceberg/pull/6655#issuecomment-1416560469","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6655","id":1416560469,"node_id":"IC_kwDOCW7NX85Ubv9V","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-04T00:37:50Z","updated_at":"2023-02-04T00:40:03Z","author_association":"CONTRIBUTOR","body":"@singhpk234, oh, now I got what you meant. The new behavior seems reasonable to me for two reasons:\r\n- It is only triggered if someone explicitly passes an option to enable locality. In Spark, read options is the most specific level of configs used to override all defaults.\r\n- It allows us to support hybrid use cases when a table stores its metadata in s3 but has some files in HDFS. Right now, the initial check if locality is enabled is based on the table root location, which may be different than some data locations. That means having no block location info for the root table may not necessarily mean there is no block location for data files.\r\n\r\nDo you think that's reasonable, @singhpk234?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416560469/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416573251","html_url":"https://github.com/apache/iceberg/pull/6655#issuecomment-1416573251","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6655","id":1416573251,"node_id":"IC_kwDOCW7NX85UbzFD","user":{"login":"singhpk234","id":35593236,"node_id":"MDQ6VXNlcjM1NTkzMjM2","avatar_url":"https://avatars.githubusercontent.com/u/35593236?v=4","gravatar_id":"","url":"https://api.github.com/users/singhpk234","html_url":"https://github.com/singhpk234","followers_url":"https://api.github.com/users/singhpk234/followers","following_url":"https://api.github.com/users/singhpk234/following{/other_user}","gists_url":"https://api.github.com/users/singhpk234/gists{/gist_id}","starred_url":"https://api.github.com/users/singhpk234/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/singhpk234/subscriptions","organizations_url":"https://api.github.com/users/singhpk234/orgs","repos_url":"https://api.github.com/users/singhpk234/repos","events_url":"https://api.github.com/users/singhpk234/events{/privacy}","received_events_url":"https://api.github.com/users/singhpk234/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-04T01:07:32Z","updated_at":"2023-02-04T01:07:32Z","author_association":"CONTRIBUTOR","body":"> Do you think that's reasonable, @singhpk234?\r\n\r\n+1, makes sense to me. Thanks @aokolnychyi !","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416573251/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416573278","html_url":"https://github.com/apache/iceberg/pull/6742#issuecomment-1416573278","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6742","id":1416573278,"node_id":"IC_kwDOCW7NX85UbzFe","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-04T01:07:37Z","updated_at":"2023-02-04T01:07:37Z","author_association":"CONTRIBUTOR","body":"Thanks for picking this up from me, ping a few people for review @amogh-jahagirdar @singhpk234 @rajarshisarkar @aajisaka @JonasJ-ap ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416573278/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416594916","html_url":"https://github.com/apache/iceberg/issues/6741#issuecomment-1416594916","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6741","id":1416594916,"node_id":"IC_kwDOCW7NX85Ub4Xk","user":{"login":"JunchengMa","id":14808883,"node_id":"MDQ6VXNlcjE0ODA4ODgz","avatar_url":"https://avatars.githubusercontent.com/u/14808883?v=4","gravatar_id":"","url":"https://api.github.com/users/JunchengMa","html_url":"https://github.com/JunchengMa","followers_url":"https://api.github.com/users/JunchengMa/followers","following_url":"https://api.github.com/users/JunchengMa/following{/other_user}","gists_url":"https://api.github.com/users/JunchengMa/gists{/gist_id}","starred_url":"https://api.github.com/users/JunchengMa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JunchengMa/subscriptions","organizations_url":"https://api.github.com/users/JunchengMa/orgs","repos_url":"https://api.github.com/users/JunchengMa/repos","events_url":"https://api.github.com/users/JunchengMa/events{/privacy}","received_events_url":"https://api.github.com/users/JunchengMa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-04T01:38:37Z","updated_at":"2023-02-04T01:38:37Z","author_association":"NONE","body":"Thanks @dramaticlly for opening this feature request\r\nIn addition to the GDPR deletion use case, the column redaction use case would also benefit from setting `write.update.distribution-mode`='none' at the job level to avoid shuffles.\r\n\r\nExample SQL:\r\n```\r\nUPDATE db_name.tlb_name SET col_a = NULL WHERE date <= '20220801'\r\n```\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416594916/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416599385","html_url":"https://github.com/apache/iceberg/issues/6679#issuecomment-1416599385","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6679","id":1416599385,"node_id":"IC_kwDOCW7NX85Ub5dZ","user":{"login":"JunchengMa","id":14808883,"node_id":"MDQ6VXNlcjE0ODA4ODgz","avatar_url":"https://avatars.githubusercontent.com/u/14808883?v=4","gravatar_id":"","url":"https://api.github.com/users/JunchengMa","html_url":"https://github.com/JunchengMa","followers_url":"https://api.github.com/users/JunchengMa/followers","following_url":"https://api.github.com/users/JunchengMa/following{/other_user}","gists_url":"https://api.github.com/users/JunchengMa/gists{/gist_id}","starred_url":"https://api.github.com/users/JunchengMa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JunchengMa/subscriptions","organizations_url":"https://api.github.com/users/JunchengMa/orgs","repos_url":"https://api.github.com/users/JunchengMa/repos","events_url":"https://api.github.com/users/JunchengMa/events{/privacy}","received_events_url":"https://api.github.com/users/JunchengMa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-04T01:55:56Z","updated_at":"2023-02-04T01:55:56Z","author_association":"NONE","body":"> \r\n\r\n+1 on @dramaticlly 's comment, changing the write distribution mode affects Spark job performance (causes heavy shuffle) when using Spark SQL like\r\n```\r\nDELETE FROM db_name.tbl_name WHERE date < '20220801'\r\n```\r\nor\r\n```\r\nUPDATE db_name.tlb_name SET col_a = NULL WHERE date <= '20220801'\r\n```\r\nsetting `write.delete.distribution-mode`=`none` and `write.update.distribution-mode`='none' at table properties would reduce shuffle, but could affect other normal jobs writing to the same table.\r\nSo having an option for specifying the write distribution mode would be ideal.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416599385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416609858","html_url":"https://github.com/apache/iceberg/pull/6655#issuecomment-1416609858","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6655","id":1416609858,"node_id":"IC_kwDOCW7NX85Ub8BC","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-04T02:11:39Z","updated_at":"2023-02-04T02:11:39Z","author_association":"CONTRIBUTOR","body":"Thanks for this change, @singhpk234! Thanks for reviewing, @jackye1995 @amogh-jahagirdar!\r\n\r\n@singhpk234, would you be interested to cherry-pick this change to other query engine versions?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416609858/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416622132","html_url":"https://github.com/apache/iceberg/issues/2221#issuecomment-1416622132","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2221","id":1416622132,"node_id":"IC_kwDOCW7NX85Ub_A0","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-04T02:20:53Z","updated_at":"2023-02-04T02:20:53Z","author_association":"CONTRIBUTOR","body":"@Neuw84, I think we switched the approach used in the table API to leverage a reachability set. I assume it should be safe.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416622132/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416642361","html_url":"https://github.com/apache/iceberg/pull/6622#issuecomment-1416642361","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6622","id":1416642361,"node_id":"IC_kwDOCW7NX85UcD85","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-04T02:59:10Z","updated_at":"2023-02-04T02:59:10Z","author_association":"CONTRIBUTOR","body":"Great work, @huaxingao! I am looking forward on this being merged. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416642361/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416642954","html_url":"https://github.com/apache/iceberg/pull/6651#issuecomment-1416642954","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6651","id":1416642954,"node_id":"IC_kwDOCW7NX85UcEGK","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-04T03:01:53Z","updated_at":"2023-02-04T03:01:53Z","author_association":"CONTRIBUTOR","body":"I'd be interested to review this one on Monday. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416642954/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416643854","html_url":"https://github.com/apache/iceberg/pull/6637#issuecomment-1416643854","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6637","id":1416643854,"node_id":"IC_kwDOCW7NX85UcEUO","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-04T03:06:12Z","updated_at":"2023-02-04T03:06:12Z","author_association":"CONTRIBUTOR","body":"cc @RussellSpitzer @szehon-ho @flyrain @karuppayya ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416643854/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416647671","html_url":"https://github.com/apache/iceberg/pull/6622#issuecomment-1416647671","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6622","id":1416647671,"node_id":"IC_kwDOCW7NX85UcFP3","user":{"login":"huaxingao","id":13592258,"node_id":"MDQ6VXNlcjEzNTkyMjU4","avatar_url":"https://avatars.githubusercontent.com/u/13592258?v=4","gravatar_id":"","url":"https://api.github.com/users/huaxingao","html_url":"https://github.com/huaxingao","followers_url":"https://api.github.com/users/huaxingao/followers","following_url":"https://api.github.com/users/huaxingao/following{/other_user}","gists_url":"https://api.github.com/users/huaxingao/gists{/gist_id}","starred_url":"https://api.github.com/users/huaxingao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huaxingao/subscriptions","organizations_url":"https://api.github.com/users/huaxingao/orgs","repos_url":"https://api.github.com/users/huaxingao/repos","events_url":"https://api.github.com/users/huaxingao/events{/privacy}","received_events_url":"https://api.github.com/users/huaxingao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-04T03:27:15Z","updated_at":"2023-02-04T03:27:15Z","author_association":"CONTRIBUTOR","body":"@aokolnychyi @rdblue Thank you very much for your review! I have addressed most of the comments. Will finish the rest at a later time.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416647671/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416679180","html_url":"https://github.com/apache/iceberg/pull/6742#issuecomment-1416679180","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6742","id":1416679180,"node_id":"IC_kwDOCW7NX85UcM8M","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-04T06:43:22Z","updated_at":"2023-02-04T06:43:22Z","author_association":"MEMBER","body":"> remove the commit part in registerTable API to avoid creating new metadata file\r\n\r\nhttps://github.com/apache/iceberg/pull/6591 already fixed this part for Glue too right? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416679180/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416693030","html_url":"https://github.com/apache/iceberg/pull/6742#issuecomment-1416693030","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6742","id":1416693030,"node_id":"IC_kwDOCW7NX85UcQUm","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-04T08:06:10Z","updated_at":"2023-02-04T08:06:10Z","author_association":"CONTRIBUTOR","body":"> https://github.com/apache/iceberg/pull/6591 already fixed this part for Glue too right?\r\n\r\ngreat, did not notice that one!\r\n\r\nIn that case I think the only missing feature is just replace","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416693030/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416694194","html_url":"https://github.com/apache/iceberg/pull/6655#issuecomment-1416694194","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6655","id":1416694194,"node_id":"IC_kwDOCW7NX85UcQmy","user":{"login":"singhpk234","id":35593236,"node_id":"MDQ6VXNlcjM1NTkzMjM2","avatar_url":"https://avatars.githubusercontent.com/u/35593236?v=4","gravatar_id":"","url":"https://api.github.com/users/singhpk234","html_url":"https://github.com/singhpk234","followers_url":"https://api.github.com/users/singhpk234/followers","following_url":"https://api.github.com/users/singhpk234/following{/other_user}","gists_url":"https://api.github.com/users/singhpk234/gists{/gist_id}","starred_url":"https://api.github.com/users/singhpk234/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/singhpk234/subscriptions","organizations_url":"https://api.github.com/users/singhpk234/orgs","repos_url":"https://api.github.com/users/singhpk234/repos","events_url":"https://api.github.com/users/singhpk234/events{/privacy}","received_events_url":"https://api.github.com/users/singhpk234/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-04T08:12:58Z","updated_at":"2023-02-04T08:12:58Z","author_association":"CONTRIBUTOR","body":"Thanks @jackye1995 @aokolnychyi @amogh-jahagirdar for the reviews !\r\n\r\n> @singhpk234, would you be interested to cherry-pick this change to other query engine versions?\r\n\r\nsure thing added the backport for lower spark and flink version : \r\n\r\n* https://github.com/apache/iceberg/pull/6743\r\n* https://github.com/apache/iceberg/pull/6744","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416694194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416714745","html_url":"https://github.com/apache/iceberg/pull/6742#issuecomment-1416714745","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6742","id":1416714745,"node_id":"IC_kwDOCW7NX85UcVn5","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-04T10:12:43Z","updated_at":"2023-02-04T10:12:51Z","author_association":"MEMBER","body":"> - allowing GlueDataCatalog registerTable API for exiting Table\r\n\r\nThere is also related on going work \r\nhttps://github.com/apache/iceberg/pull/5327","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416714745/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416747817","html_url":"https://github.com/apache/iceberg/issues/6475#issuecomment-1416747817","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6475","id":1416747817,"node_id":"IC_kwDOCW7NX85Ucdsp","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-04T13:11:10Z","updated_at":"2023-02-04T13:11:10Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/arrow/pull/34015 Has just been merged. This will reduce the IO overhead by removing an unnecessary call.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416747817/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416812241","html_url":"https://github.com/apache/iceberg/pull/6742#issuecomment-1416812241","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6742","id":1416812241,"node_id":"IC_kwDOCW7NX85UctbR","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-04T17:55:09Z","updated_at":"2023-02-04T17:58:39Z","author_association":"CONTRIBUTOR","body":"Nice, I anticipated similar concerns as in that thread, that's why I'd like to just put it up and see how the community reacts to this. \r\n\r\nI think the conversation there was around the fact that `registerTable` is used for a recovery use case, so there is no requirement for atomic operation and the original metadata location might be broken.\r\n\r\nWhat Theo is trying to achieve (based on my understanding) is a use case of continuous registration, where a user sends notification of the latest metadata location, and then the metadata location is updated for an existing table in Glue. This is developed for migration use cases of, for example, `HiveCatalog` or `HadoopCatalog` to `GlueCatalog`.\r\n\r\nIn this use case, atmoic switch of metadata location is a requirement, compared to a drop + register case. And it can clearly be achieved through calling `glue.updateTable` with all the right information. I think we would like to know if that is something worth adding to the Iceberg OSS, or it needs to just remain as a custom logic.\r\n\r\nI think it has benefit in OSS, as people naturally think of using `registerTable` when talking about this use case, and as we have so many catalog offerings, it's worth supporting cross-catalog migration explicitly.\r\n\r\nAny thoughts? @RussellSpitzer @yabola @flyrain @szehon-ho @rdblue ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416812241/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416882230","html_url":"https://github.com/apache/iceberg/issues/5453#issuecomment-1416882230","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5453","id":1416882230,"node_id":"IC_kwDOCW7NX85Uc-g2","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-02-05T00:12:58Z","updated_at":"2023-02-05T00:12:58Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416882230/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416903235","html_url":"https://github.com/apache/iceberg/pull/6742#issuecomment-1416903235","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6742","id":1416903235,"node_id":"IC_kwDOCW7NX85UdDpD","user":{"login":"yabola","id":31469905,"node_id":"MDQ6VXNlcjMxNDY5OTA1","avatar_url":"https://avatars.githubusercontent.com/u/31469905?v=4","gravatar_id":"","url":"https://api.github.com/users/yabola","html_url":"https://github.com/yabola","followers_url":"https://api.github.com/users/yabola/followers","following_url":"https://api.github.com/users/yabola/following{/other_user}","gists_url":"https://api.github.com/users/yabola/gists{/gist_id}","starred_url":"https://api.github.com/users/yabola/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yabola/subscriptions","organizations_url":"https://api.github.com/users/yabola/orgs","repos_url":"https://api.github.com/users/yabola/repos","events_url":"https://api.github.com/users/yabola/events{/privacy}","received_events_url":"https://api.github.com/users/yabola/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-05T02:19:16Z","updated_at":"2023-02-05T02:19:16Z","author_association":"CONTRIBUTOR","body":"@jackye1995 Thanks for pinging me. I agree with you : there is no requirement  in a recovery use case, but this can be a requirement in automatic switch of metadata location. But I am not sure if it is a custom logic. Looking forward to other people's perspective . If it makes sense, I can continue to complete my PR.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1416903235/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1417157234","html_url":"https://github.com/apache/iceberg/pull/6410#issuecomment-1417157234","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6410","id":1417157234,"node_id":"IC_kwDOCW7NX85UeBpy","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-05T09:08:59Z","updated_at":"2023-02-05T09:08:59Z","author_association":"CONTRIBUTOR","body":"@kmozaid could you rebase the PR please? \r\n@danielcweeks could you review this please when you get a chance (and also trigger CI)?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1417157234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1417512864","html_url":"https://github.com/apache/iceberg/pull/6696#issuecomment-1417512864","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6696","id":1417512864,"node_id":"IC_kwDOCW7NX85UfYeg","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-05T11:21:14Z","updated_at":"2023-02-05T11:21:14Z","author_association":"CONTRIBUTOR","body":"@ajantha-bhat could you please copy/paste the actual benchmark numbers from the linked benchmark runs to have an easier comparison of the numbers here?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1417512864/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1418182510","html_url":"https://github.com/apache/iceberg/pull/6742#issuecomment-1418182510","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6742","id":1418182510,"node_id":"IC_kwDOCW7NX85Uh79u","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-05T17:21:27Z","updated_at":"2023-02-05T17:21:27Z","author_association":"MEMBER","body":"> I think it has benefit in OSS, as people naturally think of using registerTable when talking about this use case, and as we have so many catalog offerings, it's worth supporting cross-catalog migration explicitly.\r\n\r\n@jackye1995: Totally agree that we need to support cross catalog migration. \r\nSo, long back I raised https://github.com/apache/iceberg/pull/5492 and got a comment that it is better to handle this in a separate project (was also discussed this in the previous Iceberg sync). So, As a side project I am working on it (https://github.com/ajantha-bhat/iceberg-catalog-migrator/blob/first/README.md). In a week or two I can publish it as an open source project under projectNessie repo. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1418182510/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1418186286","html_url":"https://github.com/apache/iceberg/pull/6090#issuecomment-1418186286","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6090","id":1418186286,"node_id":"IC_kwDOCW7NX85Uh84u","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-05T17:24:24Z","updated_at":"2023-02-05T17:24:24Z","author_association":"MEMBER","body":"If the changes are ok, please merge this PR. So that I can rebase #6091 and make it ready for review. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1418186286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1418207531","html_url":"https://github.com/apache/iceberg/pull/6742#issuecomment-1418207531","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6742","id":1418207531,"node_id":"IC_kwDOCW7NX85UiCEr","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-05T18:24:00Z","updated_at":"2023-02-05T18:24:00Z","author_association":"CONTRIBUTOR","body":"I briefly read the project you linked, that's very cool CLI! But we are not really trying to build a new migration project out of it, the ask is much simpler. \r\n\r\nWhat I want to get out of the discussion is really which way we go out of the following:\r\n1. atomic replace can be a catalog-specific feature for `registerTable`, such that a `glue.force-register-table` flag could be added to support it\r\n2. an API change in Iceberg catalog can be performed to make this a generic feature, such as adding a force boolean flag to `registerTable`\r\n3. it should not be a part of Iceberg core catalog API at all","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1418207531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1418308439","html_url":"https://github.com/apache/iceberg/issues/5477#issuecomment-1418308439","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5477","id":1418308439,"node_id":"IC_kwDOCW7NX85UiatX","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-02-06T00:12:14Z","updated_at":"2023-02-06T00:12:14Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1418308439/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1418308455","html_url":"https://github.com/apache/iceberg/issues/5461#issuecomment-1418308455","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5461","id":1418308455,"node_id":"IC_kwDOCW7NX85Uiatn","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-02-06T00:12:15Z","updated_at":"2023-02-06T00:12:15Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1418308455/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1418308479","html_url":"https://github.com/apache/iceberg/issues/5381#issuecomment-1418308479","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5381","id":1418308479,"node_id":"IC_kwDOCW7NX85Uiat_","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-02-06T00:12:18Z","updated_at":"2023-02-06T00:12:18Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1418308479/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1418419988","html_url":"https://github.com/apache/iceberg/pull/6743#issuecomment-1418419988","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6743","id":1418419988,"node_id":"IC_kwDOCW7NX85Ui18U","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-06T02:40:03Z","updated_at":"2023-02-06T02:40:03Z","author_association":"CONTRIBUTOR","body":"thanks @singhpk234 for the backport and @jackye1995 for the review","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1418419988/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1418446822","html_url":"https://github.com/apache/iceberg/issues/5043#issuecomment-1418446822","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5043","id":1418446822,"node_id":"IC_kwDOCW7NX85Ui8fm","user":{"login":"eric666666","id":51162281,"node_id":"MDQ6VXNlcjUxMTYyMjgx","avatar_url":"https://avatars.githubusercontent.com/u/51162281?v=4","gravatar_id":"","url":"https://api.github.com/users/eric666666","html_url":"https://github.com/eric666666","followers_url":"https://api.github.com/users/eric666666/followers","following_url":"https://api.github.com/users/eric666666/following{/other_user}","gists_url":"https://api.github.com/users/eric666666/gists{/gist_id}","starred_url":"https://api.github.com/users/eric666666/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eric666666/subscriptions","organizations_url":"https://api.github.com/users/eric666666/orgs","repos_url":"https://api.github.com/users/eric666666/repos","events_url":"https://api.github.com/users/eric666666/events{/privacy}","received_events_url":"https://api.github.com/users/eric666666/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-06T03:18:07Z","updated_at":"2023-02-06T03:18:50Z","author_association":"NONE","body":"> \r\n\r\nI have solved this. Here is my code\r\n\r\n> \r\n\r\n\r\n`\r\n            case DELETE:\r\n                writer.deleteKey(keyProjection.wrap(row), schema);\r\n                break;\r\n`\r\n\r\n`writer.delete(row);  ` is unnecessary because eq-delete file only record v2 table's key fields.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1418446822/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1418451836","html_url":"https://github.com/apache/iceberg/pull/6696#issuecomment-1418451836","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6696","id":1418451836,"node_id":"IC_kwDOCW7NX85Ui9t8","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-06T03:23:58Z","updated_at":"2023-02-06T04:38:02Z","author_association":"MEMBER","body":"[With Arrow 10.0.1]\r\nrun-benchmark (SparkParquetWritersNestedDataBenchmark) 5m31s\r\nrun-benchmark (SparkParquetWritersFlatDataBenchmark) 5m13s\r\nrun-benchmark (SparkParquetReadersNestedDataBenchmark) 4m28s\r\nrun-benchmark (SparkParquetReadersFlatDataBenchmark) 5m11s\r\n\r\n[With Arrow-11.0.0]\r\nrun-benchmark (SparkParquetWritersNestedDataBenchmark) 4m32s\r\nrun-benchmark (SparkParquetWritersFlatDataBenchmark) 5m9s\r\nrun-benchmark (SparkParquetReadersNestedDataBenchmark) 4m29s\r\nrun-benchmark (SparkParquetReadersFlatDataBenchmark) 5m13s\r\n\r\nIt dumps the JMH outputs into a local file. I am not sure whether I can access those files. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1418451836/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1418463948","html_url":"https://github.com/apache/iceberg/pull/6410#issuecomment-1418463948","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6410","id":1418463948,"node_id":"IC_kwDOCW7NX85UjArM","user":{"login":"kmozaid","id":8354145,"node_id":"MDQ6VXNlcjgzNTQxNDU=","avatar_url":"https://avatars.githubusercontent.com/u/8354145?v=4","gravatar_id":"","url":"https://api.github.com/users/kmozaid","html_url":"https://github.com/kmozaid","followers_url":"https://api.github.com/users/kmozaid/followers","following_url":"https://api.github.com/users/kmozaid/following{/other_user}","gists_url":"https://api.github.com/users/kmozaid/gists{/gist_id}","starred_url":"https://api.github.com/users/kmozaid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kmozaid/subscriptions","organizations_url":"https://api.github.com/users/kmozaid/orgs","repos_url":"https://api.github.com/users/kmozaid/repos","events_url":"https://api.github.com/users/kmozaid/events{/privacy}","received_events_url":"https://api.github.com/users/kmozaid/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-06T03:40:34Z","updated_at":"2023-02-06T03:40:34Z","author_association":"CONTRIBUTOR","body":"@nastra I have rebased PR.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1418463948/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1418562275","html_url":"https://github.com/apache/iceberg/issues/3466#issuecomment-1418562275","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3466","id":1418562275,"node_id":"IC_kwDOCW7NX85UjYrj","user":{"login":"372242283","id":43502242,"node_id":"MDQ6VXNlcjQzNTAyMjQy","avatar_url":"https://avatars.githubusercontent.com/u/43502242?v=4","gravatar_id":"","url":"https://api.github.com/users/372242283","html_url":"https://github.com/372242283","followers_url":"https://api.github.com/users/372242283/followers","following_url":"https://api.github.com/users/372242283/following{/other_user}","gists_url":"https://api.github.com/users/372242283/gists{/gist_id}","starred_url":"https://api.github.com/users/372242283/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/372242283/subscriptions","organizations_url":"https://api.github.com/users/372242283/orgs","repos_url":"https://api.github.com/users/372242283/repos","events_url":"https://api.github.com/users/372242283/events{/privacy}","received_events_url":"https://api.github.com/users/372242283/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-06T06:04:46Z","updated_at":"2023-02-06T06:04:46Z","author_association":"NONE","body":"I have the same problem, which happens occasionally,big guys, help me analyze it Thank you:\r\nversion:iceberg1.1.0,spark3.1.3\r\nCALL hive_catalog.system.rewrite_manifests('xx.tableA', false)\r\nERROR Msg：\r\n23/02/05 21:12:04 INFO KubernetesClusterSchedulerBackend$KubernetesDriverEndpoint: Asking each executor to shut down\r\n23/02/05 21:12:04 WARN ExecutorPodsWatchSnapshotSource: Kubernetes client has been closed (this is expected if the application is shutting down.)\r\n23/02/05 21:12:05 INFO MapOutputTrackerMasterEndpoint: MapOutputTrackerMasterEndpoint stopped!\r\n23/02/05 21:12:05 INFO MemoryStore: MemoryStore cleared\r\n23/02/05 21:12:05 INFO BlockManager: BlockManager stopped\r\n23/02/05 21:12:05 INFO BlockManagerMaster: BlockManagerMaster stopped\r\n23/02/05 21:12:05 INFO OutputCommitCoordinator$OutputCommitCoordinatorEndpoint: OutputCommitCoordinator stopped!\r\n23/02/05 21:12:05 INFO SparkContext: Successfully stopped SparkContext\r\nException in thread \"main\" org.apache.iceberg.exceptions.ValidationException: Manifest is missing: hdfs://xxx:8020/user/hive/warehouse/xx.db/tableA/metadata/d9c19289-fbf1-48a8-90be-a8eecdf088b4-m0.avro\r\n\tat org.apache.iceberg.BaseRewriteManifests.lambda$validateDeletedManifests$7(BaseRewriteManifests.java:299)\r\n\tat java.base/java.util.Optional.ifPresent(Unknown Source)\r\n\tat org.apache.iceberg.BaseRewriteManifests.validateDeletedManifests(BaseRewriteManifests.java:297)\r\n\tat org.apache.iceberg.BaseRewriteManifests.apply(BaseRewriteManifests.java:195)\r\n\tat org.apache.iceberg.SnapshotProducer.apply(SnapshotProducer.java:223)\r\n\tat org.apache.iceberg.BaseRewriteManifests.apply(BaseRewriteManifests.java:50)\r\n\tat org.apache.iceberg.SnapshotProducer.lambda$commit$2(SnapshotProducer.java:369)\r\n\tat org.apache.iceberg.util.Tasks$Builder.runTaskWithRetry(Tasks.java:402)\r\n\tat org.apache.iceberg.util.Tasks$Builder.runSingleThreaded(Tasks.java:212)\r\n\tat org.apache.iceberg.util.Tasks$Builder.run(Tasks.java:196)\r\n\tat org.apache.iceberg.util.Tasks$Builder.run(Tasks.java:189)\r\n\tat org.apache.iceberg.SnapshotProducer.commit(SnapshotProducer.java:367)\r\n\tat org.apache.iceberg.BaseRewriteManifests.commit(BaseRewriteManifests.java:50)\r\n\tat org.apache.iceberg.spark.actions.BaseSnapshotUpdateSparkAction.commit(BaseSnapshotUpdateSparkAction.java:43)\r\n\tat org.apache.iceberg.spark.actions.BaseRewriteManifestsSparkAction.replaceManifests(BaseRewriteManifestsSparkAction.java:312)\r\n\tat org.apache.iceberg.spark.actions.BaseRewriteManifestsSparkAction.doExecute(BaseRewriteManifestsSparkAction.java:185)\r\n\tat org.apache.iceberg.spark.actions.BaseSparkAction.withJobGroupInfo(BaseSparkAction.java:97)\r\n\tat org.apache.iceberg.spark.actions.BaseRewriteManifestsSparkAction.execute(BaseRewriteManifestsSparkAction.java:150)\r\n\tat org.apache.iceberg.spark.actions.BaseRewriteManifestsSparkAction.execute(BaseRewriteManifestsSparkAction.java:80)\r\n\tat org.apache.iceberg.spark.procedures.RewriteManifestsProcedure.lambda$call$0(RewriteManifestsProcedure.java:97)\r\n\tat org.apache.iceberg.spark.procedures.BaseProcedure.execute(BaseProcedure.java:86)\r\n\tat org.apache.iceberg.spark.procedures.BaseProcedure.modifyIcebergTable(BaseProcedure.java:74)\r\n\tat org.apache.iceberg.spark.procedures.RewriteManifestsProcedure.call(RewriteManifestsProcedure.java:88)\r\n\tat org.apache.spark.sql.execution.datasources.v2.CallExec.run(CallExec.scala:33)\r\n\tat org.apache.spark.sql.execution.datasources.v2.V2CommandExec.result$lzycompute(V2CommandExec.scala:40)\r\n\tat org.apache.spark.sql.execution.datasources.v2.V2CommandExec.result(V2CommandExec.scala:40)\r\n\tat org.apache.spark.sql.execution.datasources.v2.V2CommandExec.executeCollect(V2CommandExec.scala:46)\r\n\tat org.apache.spark.sql.Dataset.$anonfun$logicalPlan$1(Dataset.scala:228)\r\n\tat org.apache.spark.sql.Dataset.$anonfun$withAction$1(Dataset.scala:3700)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:103)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:163)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:90)\r\n\tat org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:64)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1418562275/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1418623938","html_url":"https://github.com/apache/iceberg/pull/6696#issuecomment-1418623938","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6696","id":1418623938,"node_id":"IC_kwDOCW7NX85UjnvC","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-06T07:20:25Z","updated_at":"2023-02-06T07:21:02Z","author_association":"CONTRIBUTOR","body":"@ajantha-bhat the results are stored and linked under [benchmark-results](https://github.com/ajantha-bhat/iceberg/suites/10704631127/artifacts/541607117) for each benchmark run. The overall test duration itself is meaningless as we need to compare the final benchmark numbers.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1418623938/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1418628552","html_url":"https://github.com/apache/iceberg/pull/6687#issuecomment-1418628552","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6687","id":1418628552,"node_id":"IC_kwDOCW7NX85Ujo3I","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-06T07:25:17Z","updated_at":"2023-02-06T07:25:17Z","author_association":"CONTRIBUTOR","body":"@dependabot rebase","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1418628552/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1418634674","html_url":"https://github.com/apache/iceberg/issues/6751#issuecomment-1418634674","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6751","id":1418634674,"node_id":"IC_kwDOCW7NX85UjqWy","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-06T07:32:23Z","updated_at":"2023-02-06T07:32:23Z","author_association":"CONTRIBUTOR","body":"The Iceberg roadmap can be found under https://iceberg.apache.org/roadmap/. It contains a high-level overview of what the community is working on.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1418634674/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1418644100","html_url":"https://github.com/apache/iceberg/pull/6696#issuecomment-1418644100","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6696","id":1418644100,"node_id":"IC_kwDOCW7NX85UjsqE","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-06T07:44:10Z","updated_at":"2023-02-06T07:44:10Z","author_association":"MEMBER","body":"<img width=\"1199\" alt=\"image\" src=\"https://user-images.githubusercontent.com/5889404/216913511-533f8206-c974-4e78-b2a7-4416c04a1c06.png\">\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1418644100/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1418703342","html_url":"https://github.com/apache/iceberg/pull/6074#issuecomment-1418703342","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6074","id":1418703342,"node_id":"IC_kwDOCW7NX85Uj7Hu","user":{"login":"gaborkaszab","id":29145491,"node_id":"MDQ6VXNlcjI5MTQ1NDkx","avatar_url":"https://avatars.githubusercontent.com/u/29145491?v=4","gravatar_id":"","url":"https://api.github.com/users/gaborkaszab","html_url":"https://github.com/gaborkaszab","followers_url":"https://api.github.com/users/gaborkaszab/followers","following_url":"https://api.github.com/users/gaborkaszab/following{/other_user}","gists_url":"https://api.github.com/users/gaborkaszab/gists{/gist_id}","starred_url":"https://api.github.com/users/gaborkaszab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaborkaszab/subscriptions","organizations_url":"https://api.github.com/users/gaborkaszab/orgs","repos_url":"https://api.github.com/users/gaborkaszab/repos","events_url":"https://api.github.com/users/gaborkaszab/events{/privacy}","received_events_url":"https://api.github.com/users/gaborkaszab/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-06T08:36:19Z","updated_at":"2023-02-06T08:36:19Z","author_association":"COLLABORATOR","body":"Thanks @amogh-jahagirdar, @rdblue and @nastra for reviewing!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1418703342/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1418726533","html_url":"https://github.com/apache/iceberg/pull/6637#issuecomment-1418726533","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6637","id":1418726533,"node_id":"IC_kwDOCW7NX85UkAyF","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-06T08:56:48Z","updated_at":"2023-02-06T08:56:48Z","author_association":"CONTRIBUTOR","body":"> hililiwei requested review from jackye1995 and removed request for flyrain and yyanyy\r\n\r\nMisclick. 😂\r\n\r\n> Apart from the style changes for branch that can now be removed, I have no further comments. Let me know when this is rebased!\r\n\r\nPTAL, thx.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1418726533/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1418765884","html_url":"https://github.com/apache/iceberg/pull/6614#issuecomment-1418765884","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6614","id":1418765884,"node_id":"IC_kwDOCW7NX85UkKY8","user":{"login":"xuzhiwen1255","id":105710753,"node_id":"U_kgDOBk0EoQ","avatar_url":"https://avatars.githubusercontent.com/u/105710753?v=4","gravatar_id":"","url":"https://api.github.com/users/xuzhiwen1255","html_url":"https://github.com/xuzhiwen1255","followers_url":"https://api.github.com/users/xuzhiwen1255/followers","following_url":"https://api.github.com/users/xuzhiwen1255/following{/other_user}","gists_url":"https://api.github.com/users/xuzhiwen1255/gists{/gist_id}","starred_url":"https://api.github.com/users/xuzhiwen1255/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xuzhiwen1255/subscriptions","organizations_url":"https://api.github.com/users/xuzhiwen1255/orgs","repos_url":"https://api.github.com/users/xuzhiwen1255/repos","events_url":"https://api.github.com/users/xuzhiwen1255/events{/privacy}","received_events_url":"https://api.github.com/users/xuzhiwen1255/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-06T09:23:28Z","updated_at":"2023-02-06T09:23:28Z","author_association":"CONTRIBUTOR","body":"@pvary Can you take a look? Thank you","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1418765884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1418896382","html_url":"https://github.com/apache/iceberg/issues/6257#issuecomment-1418896382","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6257","id":1418896382,"node_id":"IC_kwDOCW7NX85UkqP-","user":{"login":"gaborkaszab","id":29145491,"node_id":"MDQ6VXNlcjI5MTQ1NDkx","avatar_url":"https://avatars.githubusercontent.com/u/29145491?v=4","gravatar_id":"","url":"https://api.github.com/users/gaborkaszab","html_url":"https://github.com/gaborkaszab","followers_url":"https://api.github.com/users/gaborkaszab/followers","following_url":"https://api.github.com/users/gaborkaszab/following{/other_user}","gists_url":"https://api.github.com/users/gaborkaszab/gists{/gist_id}","starred_url":"https://api.github.com/users/gaborkaszab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaborkaszab/subscriptions","organizations_url":"https://api.github.com/users/gaborkaszab/orgs","repos_url":"https://api.github.com/users/gaborkaszab/repos","events_url":"https://api.github.com/users/gaborkaszab/events{/privacy}","received_events_url":"https://api.github.com/users/gaborkaszab/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-06T11:02:02Z","updated_at":"2023-02-06T11:02:02Z","author_association":"COLLABORATOR","body":"Thanks for the feedback, @szehon-ho!\r\nAbout documenting this phenomenon: I found the [spark-queries page](https://iceberg.apache.org/docs/latest/spark-queries/#partitions) that talks about the partition metadata table. Here I can add a short remark about the \"old\" partition rows.\r\nI'm wondering if there is another part of the Iceberg docs that are not Spark specific and covers the metadata tables.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1418896382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1419010527","html_url":"https://github.com/apache/iceberg/issues/6750#issuecomment-1419010527","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6750","id":1419010527,"node_id":"IC_kwDOCW7NX85UlGHf","user":{"login":"bluzy","id":7729319,"node_id":"MDQ6VXNlcjc3MjkzMTk=","avatar_url":"https://avatars.githubusercontent.com/u/7729319?v=4","gravatar_id":"","url":"https://api.github.com/users/bluzy","html_url":"https://github.com/bluzy","followers_url":"https://api.github.com/users/bluzy/followers","following_url":"https://api.github.com/users/bluzy/following{/other_user}","gists_url":"https://api.github.com/users/bluzy/gists{/gist_id}","starred_url":"https://api.github.com/users/bluzy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluzy/subscriptions","organizations_url":"https://api.github.com/users/bluzy/orgs","repos_url":"https://api.github.com/users/bluzy/repos","events_url":"https://api.github.com/users/bluzy/events{/privacy}","received_events_url":"https://api.github.com/users/bluzy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-06T12:32:51Z","updated_at":"2023-02-06T12:32:51Z","author_association":"NONE","body":"@szehon-ho\r\nRetryingMetaStoreClient added on https://github.com/apache/iceberg/pull/3099\r\nBut I doubt the retry logic doesn't change own ugi if another user handle it.\r\nI guess turning `retryByDefault` to `true` may solve this problem, but I'm not sure what side effects it might cause. \r\nSorry for lack of my knowledge, can you help me?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1419010527/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1419098480","html_url":"https://github.com/apache/iceberg/issues/3466#issuecomment-1419098480","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3466","id":1419098480,"node_id":"IC_kwDOCW7NX85Ulblw","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-06T13:38:56Z","updated_at":"2023-02-06T13:38:56Z","author_association":"MEMBER","body":"As I wrote above the issue os that the rewrite command becomes out of date while running so it fails. At least this is my hypothesis above","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1419098480/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1419162378","html_url":"https://github.com/apache/iceberg/issues/6564#issuecomment-1419162378","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6564","id":1419162378,"node_id":"IC_kwDOCW7NX85UlrMK","user":{"login":"Hayder-Aziz-cardano","id":119299238,"node_id":"U_kgDOBxxcpg","avatar_url":"https://avatars.githubusercontent.com/u/119299238?v=4","gravatar_id":"","url":"https://api.github.com/users/Hayder-Aziz-cardano","html_url":"https://github.com/Hayder-Aziz-cardano","followers_url":"https://api.github.com/users/Hayder-Aziz-cardano/followers","following_url":"https://api.github.com/users/Hayder-Aziz-cardano/following{/other_user}","gists_url":"https://api.github.com/users/Hayder-Aziz-cardano/gists{/gist_id}","starred_url":"https://api.github.com/users/Hayder-Aziz-cardano/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hayder-Aziz-cardano/subscriptions","organizations_url":"https://api.github.com/users/Hayder-Aziz-cardano/orgs","repos_url":"https://api.github.com/users/Hayder-Aziz-cardano/repos","events_url":"https://api.github.com/users/Hayder-Aziz-cardano/events{/privacy}","received_events_url":"https://api.github.com/users/Hayder-Aziz-cardano/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-06T14:22:39Z","updated_at":"2023-02-06T14:22:39Z","author_association":"NONE","body":"it would be really nice to get it working with polars (which utilises pyarrow / connectorx) as it provides the possibility of running execution services without large monolithic services like hive or spark.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1419162378/reactions","total_count":34,"+1":18,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":9,"rocket":3,"eyes":4},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1419307821","html_url":"https://github.com/apache/iceberg/pull/6622#issuecomment-1419307821","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6622","id":1419307821,"node_id":"IC_kwDOCW7NX85UmOst","user":{"login":"huaxingao","id":13592258,"node_id":"MDQ6VXNlcjEzNTkyMjU4","avatar_url":"https://avatars.githubusercontent.com/u/13592258?v=4","gravatar_id":"","url":"https://api.github.com/users/huaxingao","html_url":"https://github.com/huaxingao","followers_url":"https://api.github.com/users/huaxingao/followers","following_url":"https://api.github.com/users/huaxingao/following{/other_user}","gists_url":"https://api.github.com/users/huaxingao/gists{/gist_id}","starred_url":"https://api.github.com/users/huaxingao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huaxingao/subscriptions","organizations_url":"https://api.github.com/users/huaxingao/orgs","repos_url":"https://api.github.com/users/huaxingao/repos","events_url":"https://api.github.com/users/huaxingao/events{/privacy}","received_events_url":"https://api.github.com/users/huaxingao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-06T15:53:01Z","updated_at":"2023-02-06T15:53:01Z","author_association":"CONTRIBUTOR","body":"@rdblue @aokolnychyi \r\nI have addressed all the comments. Could you please take a look again? Thanks a lot!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1419307821/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1419311188","html_url":"https://github.com/apache/iceberg/issues/6758#issuecomment-1419311188","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6758","id":1419311188,"node_id":"IC_kwDOCW7NX85UmPhU","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-06T15:54:37Z","updated_at":"2023-02-06T15:54:37Z","author_association":"MEMBER","body":"@amogh-jahagirdar + @jackye1995 Do you have any thoughts on this?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1419311188/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1419396445","html_url":"https://github.com/apache/iceberg/issues/6758#issuecomment-1419396445","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6758","id":1419396445,"node_id":"IC_kwDOCW7NX85UmkVd","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-06T16:47:59Z","updated_at":"2023-02-06T16:48:28Z","author_association":"CONTRIBUTOR","body":"So internally we have a fix, where we extend Hadoop `Path` to work with double slash instead of the posix standard, and use that Path object for Iceberg for the specific `FileSystem` implementation. For existing tables written with //, it seems like a case that has to continue to be supported in this way.\r\n\r\nBut I agree it would be good to enforce this across all FileIOs, and just make sure removing trailing slash is done whenever needed. I am not sure if it has to be in the spec, given it has been like this for a pretty long time.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1419396445/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1419591723","html_url":"https://github.com/apache/iceberg/issues/6758#issuecomment-1419591723","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6758","id":1419591723,"node_id":"IC_kwDOCW7NX85UnUAr","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-06T18:59:40Z","updated_at":"2023-02-06T18:59:40Z","author_association":"MEMBER","body":"https://github.com/apache/iceberg/blob/cecb10bb8ab0458fb3f6a650692a8e432f08cbd2/core/src/main/java/org/apache/iceberg/BaseMetastoreTableOperations.java#L226 I think it makes sense to do the remove trailing slash here. I'm not sure why we only do it for custom metadata locations","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1419591723/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1419594072","html_url":"https://github.com/apache/iceberg/issues/6758#issuecomment-1419594072","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6758","id":1419594072,"node_id":"IC_kwDOCW7NX85UnUlY","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-06T19:01:43Z","updated_at":"2023-02-06T19:01:43Z","author_association":"MEMBER","body":"For the Spec I was just considering something like \"path\" a path is a POSIX normalized path","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1419594072/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1419597451","html_url":"https://github.com/apache/iceberg/issues/6758#issuecomment-1419597451","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6758","id":1419597451,"node_id":"IC_kwDOCW7NX85UnVaL","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-06T19:04:14Z","updated_at":"2023-02-06T19:05:52Z","author_association":"CONTRIBUTOR","body":"Mostly agree with @jackye1995 here. I think at minimum, we for sure should remove trailing slash when writing any file that's part of the Iceberg table. \r\n\r\nAs for the spec change, I think it's good to define at the spec level. Even though our systems will need to enforce backwards compatibility for the files written with double slash, at least for future Iceberg releases we can establish the guarantee. \r\n\r\nStandardizing file paths reduces this complexity of having to understand nuances of each FileIO implementation. Iceberg users would be confident just from the spec that all paths written will be a normalized posix path.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1419597451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1419693712","html_url":"https://github.com/apache/iceberg/pull/6757#issuecomment-1419693712","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6757","id":1419693712,"node_id":"IC_kwDOCW7NX85Uns6Q","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-06T20:17:48Z","updated_at":"2023-02-06T20:17:48Z","author_association":"CONTRIBUTOR","body":"@nastra, can you write up a design doc?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1419693712/reactions","total_count":5,"+1":5,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1419729043","html_url":"https://github.com/apache/iceberg/pull/6749#issuecomment-1419729043","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6749","id":1419729043,"node_id":"IC_kwDOCW7NX85Un1iT","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-06T20:48:17Z","updated_at":"2023-02-06T20:48:17Z","author_association":"CONTRIBUTOR","body":"Good catch, thanks for getting this fixed.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1419729043/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1419751904","html_url":"https://github.com/apache/iceberg/issues/6758#issuecomment-1419751904","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6758","id":1419751904,"node_id":"IC_kwDOCW7NX85Un7Hg","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-06T21:03:09Z","updated_at":"2023-02-06T21:03:09Z","author_association":"MEMBER","body":"This is also an issue for data files here\r\nhttps://github.com/apache/iceberg/blob/223177faf955bd8f11864477da16013cf5d7cc75/core/src/main/java/org/apache/iceberg/LocationProviders.java#L126-L135","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1419751904/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1419813815","html_url":"https://github.com/apache/iceberg/issues/6708#issuecomment-1419813815","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6708","id":1419813815,"node_id":"IC_kwDOCW7NX85UoKO3","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-06T21:47:19Z","updated_at":"2023-02-06T21:47:19Z","author_association":"CONTRIBUTOR","body":"> py4j.protocol.Py4JNetworkError: Answer from Java side is empty\r\n\r\nMeans that the Spark process has died. Do you see anything in the logs?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1419813815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1419814726","html_url":"https://github.com/apache/iceberg/issues/6708#issuecomment-1419814726","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6708","id":1419814726,"node_id":"IC_kwDOCW7NX85UoKdG","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-06T21:48:01Z","updated_at":"2023-02-06T21:48:01Z","author_association":"CONTRIBUTOR","body":"Can you run a `docker-compose pull` to make sure that you're running the latest version? We recently did some updates to the stack.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1419814726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1419851420","html_url":"https://github.com/apache/iceberg/issues/6739#issuecomment-1419851420","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6739","id":1419851420,"node_id":"IC_kwDOCW7NX85UoTac","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-06T22:14:15Z","updated_at":"2023-02-06T22:14:15Z","author_association":"CONTRIBUTOR","body":"Sounds really promising! ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1419851420/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1419974962","html_url":"https://github.com/apache/iceberg/issues/5418#issuecomment-1419974962","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5418","id":1419974962,"node_id":"IC_kwDOCW7NX85Uoxky","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T00:13:06Z","updated_at":"2023-02-07T00:13:06Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1419974962/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1420045743","html_url":"https://github.com/apache/iceberg/issues/3466#issuecomment-1420045743","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3466","id":1420045743,"node_id":"IC_kwDOCW7NX85UpC2v","user":{"login":"372242283","id":43502242,"node_id":"MDQ6VXNlcjQzNTAyMjQy","avatar_url":"https://avatars.githubusercontent.com/u/43502242?v=4","gravatar_id":"","url":"https://api.github.com/users/372242283","html_url":"https://github.com/372242283","followers_url":"https://api.github.com/users/372242283/followers","following_url":"https://api.github.com/users/372242283/following{/other_user}","gists_url":"https://api.github.com/users/372242283/gists{/gist_id}","starred_url":"https://api.github.com/users/372242283/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/372242283/subscriptions","organizations_url":"https://api.github.com/users/372242283/orgs","repos_url":"https://api.github.com/users/372242283/repos","events_url":"https://api.github.com/users/372242283/events{/privacy}","received_events_url":"https://api.github.com/users/372242283/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T01:43:03Z","updated_at":"2023-02-07T01:43:03Z","author_association":"NONE","body":"> As I wrote above the issue os that the rewrite command becomes out of date while running so it fails. At least this is my hypothesis above\r\n\r\nThis problem happened by accident. I think other people also encountered the same problem. How should we fix or solve this problem? Thank you","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1420045743/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1420050929","html_url":"https://github.com/apache/iceberg/issues/6756#issuecomment-1420050929","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6756","id":1420050929,"node_id":"IC_kwDOCW7NX85UpEHx","user":{"login":"zoucao","id":32817398,"node_id":"MDQ6VXNlcjMyODE3Mzk4","avatar_url":"https://avatars.githubusercontent.com/u/32817398?v=4","gravatar_id":"","url":"https://api.github.com/users/zoucao","html_url":"https://github.com/zoucao","followers_url":"https://api.github.com/users/zoucao/followers","following_url":"https://api.github.com/users/zoucao/following{/other_user}","gists_url":"https://api.github.com/users/zoucao/gists{/gist_id}","starred_url":"https://api.github.com/users/zoucao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zoucao/subscriptions","organizations_url":"https://api.github.com/users/zoucao/orgs","repos_url":"https://api.github.com/users/zoucao/repos","events_url":"https://api.github.com/users/zoucao/events{/privacy}","received_events_url":"https://api.github.com/users/zoucao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T01:52:57Z","updated_at":"2023-02-07T01:52:57Z","author_association":"CONTRIBUTOR","body":"gentle ping @stevenzwu, what do you think about it  ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1420050929/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1420127931","html_url":"https://github.com/apache/iceberg/pull/6581#issuecomment-1420127931","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6581","id":1420127931,"node_id":"IC_kwDOCW7NX85UpW67","user":{"login":"eric666666","id":51162281,"node_id":"MDQ6VXNlcjUxMTYyMjgx","avatar_url":"https://avatars.githubusercontent.com/u/51162281?v=4","gravatar_id":"","url":"https://api.github.com/users/eric666666","html_url":"https://github.com/eric666666","followers_url":"https://api.github.com/users/eric666666/followers","following_url":"https://api.github.com/users/eric666666/following{/other_user}","gists_url":"https://api.github.com/users/eric666666/gists{/gist_id}","starred_url":"https://api.github.com/users/eric666666/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eric666666/subscriptions","organizations_url":"https://api.github.com/users/eric666666/orgs","repos_url":"https://api.github.com/users/eric666666/repos","events_url":"https://api.github.com/users/eric666666/events{/privacy}","received_events_url":"https://api.github.com/users/eric666666/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T03:03:09Z","updated_at":"2023-02-07T03:03:09Z","author_association":"NONE","body":"Is this action currently available? Is there any usage documentation.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1420127931/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1420131220","html_url":"https://github.com/apache/iceberg/pull/6581#issuecomment-1420131220","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6581","id":1420131220,"node_id":"IC_kwDOCW7NX85UpXuU","user":{"login":"eric666666","id":51162281,"node_id":"MDQ6VXNlcjUxMTYyMjgx","avatar_url":"https://avatars.githubusercontent.com/u/51162281?v=4","gravatar_id":"","url":"https://api.github.com/users/eric666666","html_url":"https://github.com/eric666666","followers_url":"https://api.github.com/users/eric666666/followers","following_url":"https://api.github.com/users/eric666666/following{/other_user}","gists_url":"https://api.github.com/users/eric666666/gists{/gist_id}","starred_url":"https://api.github.com/users/eric666666/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eric666666/subscriptions","organizations_url":"https://api.github.com/users/eric666666/orgs","repos_url":"https://api.github.com/users/eric666666/repos","events_url":"https://api.github.com/users/eric666666/events{/privacy}","received_events_url":"https://api.github.com/users/eric666666/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T03:07:18Z","updated_at":"2023-02-07T03:07:18Z","author_association":"NONE","body":"> Is this action currently available? Is there any usage documentation.\r\n\r\nWe have already applied the v2 table to production. It is too uncomfortable to delete the delete file when the snapshot expires. When will this Pr be merged into the master.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1420131220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1420194127","html_url":"https://github.com/apache/iceberg/pull/6735#issuecomment-1420194127","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6735","id":1420194127,"node_id":"IC_kwDOCW7NX85UpnFP","user":{"login":"slfan1989","id":55643692,"node_id":"MDQ6VXNlcjU1NjQzNjky","avatar_url":"https://avatars.githubusercontent.com/u/55643692?v=4","gravatar_id":"","url":"https://api.github.com/users/slfan1989","html_url":"https://github.com/slfan1989","followers_url":"https://api.github.com/users/slfan1989/followers","following_url":"https://api.github.com/users/slfan1989/following{/other_user}","gists_url":"https://api.github.com/users/slfan1989/gists{/gist_id}","starred_url":"https://api.github.com/users/slfan1989/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/slfan1989/subscriptions","organizations_url":"https://api.github.com/users/slfan1989/orgs","repos_url":"https://api.github.com/users/slfan1989/repos","events_url":"https://api.github.com/users/slfan1989/events{/privacy}","received_events_url":"https://api.github.com/users/slfan1989/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T04:43:29Z","updated_at":"2023-02-07T04:43:29Z","author_association":"CONTRIBUTOR","body":"@Fokko @jackye1995 Can you help review this pr? Thank you very much!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1420194127/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1420235524","html_url":"https://github.com/apache/iceberg/issues/6750#issuecomment-1420235524","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6750","id":1420235524,"node_id":"IC_kwDOCW7NX85UpxME","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T05:50:17Z","updated_at":"2023-02-07T05:50:17Z","author_association":"CONTRIBUTOR","body":"I think that adding the user to the cache key in the HMS client pool would be the best solution. See #6175","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1420235524/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1420238961","html_url":"https://github.com/apache/iceberg/pull/6761#issuecomment-1420238961","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6761","id":1420238961,"node_id":"IC_kwDOCW7NX85UpyBx","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T05:55:33Z","updated_at":"2023-02-07T05:55:33Z","author_association":"CONTRIBUTOR","body":"I think #6175 would be a better fix for your issue ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1420238961/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1420241011","html_url":"https://github.com/apache/iceberg/pull/6761#issuecomment-1420241011","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6761","id":1420241011,"node_id":"IC_kwDOCW7NX85Upyhz","user":{"login":"bluzy","id":7729319,"node_id":"MDQ6VXNlcjc3MjkzMTk=","avatar_url":"https://avatars.githubusercontent.com/u/7729319?v=4","gravatar_id":"","url":"https://api.github.com/users/bluzy","html_url":"https://github.com/bluzy","followers_url":"https://api.github.com/users/bluzy/followers","following_url":"https://api.github.com/users/bluzy/following{/other_user}","gists_url":"https://api.github.com/users/bluzy/gists{/gist_id}","starred_url":"https://api.github.com/users/bluzy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluzy/subscriptions","organizations_url":"https://api.github.com/users/bluzy/orgs","repos_url":"https://api.github.com/users/bluzy/repos","events_url":"https://api.github.com/users/bluzy/events{/privacy}","received_events_url":"https://api.github.com/users/bluzy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T05:59:03Z","updated_at":"2023-02-07T05:59:03Z","author_association":"NONE","body":"> I think #6175 would be a better fix for your issue\r\n\r\n@pvary Oh I didn't know that.\r\nI think #6175 can solve my issue. Thank you.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1420241011/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1420333684","html_url":"https://github.com/apache/iceberg/pull/6753#issuecomment-1420333684","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6753","id":1420333684,"node_id":"IC_kwDOCW7NX85UqJJ0","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T07:47:02Z","updated_at":"2023-02-07T07:47:02Z","author_association":"COLLABORATOR","body":"@stevenzwu @hililiwei You guys may want to take a look.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1420333684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1420569509","html_url":"https://github.com/apache/iceberg/issues/2040#issuecomment-1420569509","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2040","id":1420569509,"node_id":"IC_kwDOCW7NX85UrCul","user":{"login":"Akshay-connectwise","id":124677543,"node_id":"U_kgDOB25tpw","avatar_url":"https://avatars.githubusercontent.com/u/124677543?v=4","gravatar_id":"","url":"https://api.github.com/users/Akshay-connectwise","html_url":"https://github.com/Akshay-connectwise","followers_url":"https://api.github.com/users/Akshay-connectwise/followers","following_url":"https://api.github.com/users/Akshay-connectwise/following{/other_user}","gists_url":"https://api.github.com/users/Akshay-connectwise/gists{/gist_id}","starred_url":"https://api.github.com/users/Akshay-connectwise/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Akshay-connectwise/subscriptions","organizations_url":"https://api.github.com/users/Akshay-connectwise/orgs","repos_url":"https://api.github.com/users/Akshay-connectwise/repos","events_url":"https://api.github.com/users/Akshay-connectwise/events{/privacy}","received_events_url":"https://api.github.com/users/Akshay-connectwise/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T10:48:26Z","updated_at":"2023-02-07T12:18:38Z","author_association":"NONE","body":"Hi @RussellSpitzer,\r\nHave tried setting up the table properties but it didn't worked for me below is table creation query and error when I have an extra column \"comment\" . This is using Pyspark in jupyter notebook\r\n-->spark.sql(\"CREATE TABLE iceberg.employee ( \\\r\n\tfirstname string, \\\r\n\tmiddlename string, \\\r\n\tlastname string, \\\r\n\tid string, \\\r\n\tgender string, \\\r\n\tsalary bigint ) \\\r\nUSING iceberg \\\r\nTBLPROPERTIES ('SPARK_WRITE_ACCEPT_ANY_SCHEMA'='write.spark.accept-any-schema')\")\r\n\r\nError:\r\nAnalysisException: \r\nCannot write to 'local_schema_evo.iceberg.employee', too many data columns:\r\nTable columns: 'firstname', 'middlename', 'lastname', 'id', 'gender', 'salary'\r\nData columns: 'firstname', 'middlename', 'lastname', 'id', 'gender', 'salary', 'comment'\r\n\r\nWhile checking table properties this property is enabled but still not working. \r\n|Table Properties            |[SPARK_WRITE_ACCEPT_ANY_SCHEMA=write.spark.accept-any-schema,current-snapshot-id=none,format=iceberg/parquet,format-version=1]|\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1420569509/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1420792180","html_url":"https://github.com/apache/iceberg/issues/2040#issuecomment-1420792180","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2040","id":1420792180,"node_id":"IC_kwDOCW7NX85Ur5F0","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T13:41:36Z","updated_at":"2023-02-07T13:41:36Z","author_association":"MEMBER","body":"The property key is \n\n'write.spark.accept-any-schema'\nAnd the value should be \n'true'","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1420792180/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1420826427","html_url":"https://github.com/apache/iceberg/issues/2040#issuecomment-1420826427","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2040","id":1420826427,"node_id":"IC_kwDOCW7NX85UsBc7","user":{"login":"Akshay-connectwise","id":124677543,"node_id":"U_kgDOB25tpw","avatar_url":"https://avatars.githubusercontent.com/u/124677543?v=4","gravatar_id":"","url":"https://api.github.com/users/Akshay-connectwise","html_url":"https://github.com/Akshay-connectwise","followers_url":"https://api.github.com/users/Akshay-connectwise/followers","following_url":"https://api.github.com/users/Akshay-connectwise/following{/other_user}","gists_url":"https://api.github.com/users/Akshay-connectwise/gists{/gist_id}","starred_url":"https://api.github.com/users/Akshay-connectwise/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Akshay-connectwise/subscriptions","organizations_url":"https://api.github.com/users/Akshay-connectwise/orgs","repos_url":"https://api.github.com/users/Akshay-connectwise/repos","events_url":"https://api.github.com/users/Akshay-connectwise/events{/privacy}","received_events_url":"https://api.github.com/users/Akshay-connectwise/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T14:03:21Z","updated_at":"2023-02-07T14:03:21Z","author_association":"NONE","body":"Thanks!!\r\nAfter adding the property key able to append data with additional column while keeping \"mergeSchema\" option true.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1420826427/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1420971731","html_url":"https://github.com/apache/iceberg/issues/6514#issuecomment-1420971731","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6514","id":1420971731,"node_id":"IC_kwDOCW7NX85Usk7T","user":{"login":"fqaiser94","id":20507243,"node_id":"MDQ6VXNlcjIwNTA3MjQz","avatar_url":"https://avatars.githubusercontent.com/u/20507243?v=4","gravatar_id":"","url":"https://api.github.com/users/fqaiser94","html_url":"https://github.com/fqaiser94","followers_url":"https://api.github.com/users/fqaiser94/followers","following_url":"https://api.github.com/users/fqaiser94/following{/other_user}","gists_url":"https://api.github.com/users/fqaiser94/gists{/gist_id}","starred_url":"https://api.github.com/users/fqaiser94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fqaiser94/subscriptions","organizations_url":"https://api.github.com/users/fqaiser94/orgs","repos_url":"https://api.github.com/users/fqaiser94/repos","events_url":"https://api.github.com/users/fqaiser94/events{/privacy}","received_events_url":"https://api.github.com/users/fqaiser94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T15:32:31Z","updated_at":"2023-02-07T15:32:31Z","author_association":"CONTRIBUTOR","body":"Created a PR for this here: https://github.com/apache/iceberg/pull/6513","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1420971731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421053585","html_url":"https://github.com/apache/iceberg/pull/6738#issuecomment-1421053585","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6738","id":1421053585,"node_id":"IC_kwDOCW7NX85Us46R","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T16:24:12Z","updated_at":"2023-02-07T16:24:12Z","author_association":"CONTRIBUTOR","body":"Thanks, @Fokko!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421053585/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421059012","html_url":"https://github.com/apache/iceberg/pull/6719#issuecomment-1421059012","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6719","id":1421059012,"node_id":"IC_kwDOCW7NX85Us6PE","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T16:27:39Z","updated_at":"2023-02-07T16:27:39Z","author_association":"CONTRIBUTOR","body":"Sorry, @Fokko. I thought I had reviewed and merged this one already, but it looks like I hadn't finished it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421059012/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421061183","html_url":"https://github.com/apache/iceberg/pull/6657#issuecomment-1421061183","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6657","id":1421061183,"node_id":"IC_kwDOCW7NX85Us6w_","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T16:29:04Z","updated_at":"2023-02-07T16:29:04Z","author_association":"CONTRIBUTOR","body":"Thanks for the update, @Fokko! Looks good now so I merged.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421061183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421091541","html_url":"https://github.com/apache/iceberg/pull/6717#issuecomment-1421091541","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6717","id":1421091541,"node_id":"IC_kwDOCW7NX85UtCLV","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T16:48:43Z","updated_at":"2023-02-07T16:48:43Z","author_association":"CONTRIBUTOR","body":"@aokolnychyi you might be also interested in this because #6651 depends on this","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421091541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421118698","html_url":"https://github.com/apache/iceberg/pull/6644#issuecomment-1421118698","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6644","id":1421118698,"node_id":"IC_kwDOCW7NX85UtIzq","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T17:06:45Z","updated_at":"2023-02-07T17:06:45Z","author_association":"CONTRIBUTOR","body":"@rubenvdg can you rebase? We were waiting for https://github.com/apache/iceberg/pull/6719 to be merged so we don't update the docs right away","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421118698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421124658","html_url":"https://github.com/apache/iceberg/issues/6758#issuecomment-1421124658","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6758","id":1421124658,"node_id":"IC_kwDOCW7NX85UtKQy","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T17:10:27Z","updated_at":"2023-02-07T17:10:27Z","author_association":"MEMBER","body":"@findepi Is this an issue with Trino's file IO rules? Or does it always require all paths be Posix compliant? I know you have special S3 IO code as well","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421124658/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421134926","html_url":"https://github.com/apache/iceberg/pull/6721#issuecomment-1421134926","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6721","id":1421134926,"node_id":"IC_kwDOCW7NX85UtMxO","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T17:14:29Z","updated_at":"2023-02-07T17:14:29Z","author_association":"CONTRIBUTOR","body":"I think it might be useful at some point for using filtering in Dask: https://www.coiled.io/blog/parquet-file-column-pruning-predicate-pushdown\r\n\r\nThe `filter` method does not (yet) accept the expressions, and requires `Union[List[Tuple[str, str, Any]], List[List[Tuple[str, str, Any]]]],`: https://docs.dask.org/en/stable/generated/dask.dataframe.read_parquet.html#dask-dataframe-read-parquet","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421134926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421136110","html_url":"https://github.com/apache/iceberg/pull/6721#issuecomment-1421136110","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6721","id":1421136110,"node_id":"IC_kwDOCW7NX85UtNDu","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T17:14:51Z","updated_at":"2023-02-07T17:14:51Z","author_association":"CONTRIBUTOR","body":"Thanks for the review @rdblue","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421136110/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421151085","html_url":"https://github.com/apache/iceberg/issues/6758#issuecomment-1421151085","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6758","id":1421151085,"node_id":"IC_kwDOCW7NX85UtQtt","user":{"login":"findepi","id":144328,"node_id":"MDQ6VXNlcjE0NDMyOA==","avatar_url":"https://avatars.githubusercontent.com/u/144328?v=4","gravatar_id":"","url":"https://api.github.com/users/findepi","html_url":"https://github.com/findepi","followers_url":"https://api.github.com/users/findepi/followers","following_url":"https://api.github.com/users/findepi/following{/other_user}","gists_url":"https://api.github.com/users/findepi/gists{/gist_id}","starred_url":"https://api.github.com/users/findepi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/findepi/subscriptions","organizations_url":"https://api.github.com/users/findepi/orgs","repos_url":"https://api.github.com/users/findepi/repos","events_url":"https://api.github.com/users/findepi/events{/privacy}","received_events_url":"https://api.github.com/users/findepi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T17:22:01Z","updated_at":"2023-02-07T17:22:01Z","author_association":"MEMBER","body":"@RussellSpitzer thanks for the ping, but honestly I do not know.\r\nI guess by non-POSIX you mean handling of double-slashes. For that @electrum @ebyhr are experts and I think we differentiate between paths containing repeated slashes.\r\n\r\n@RussellSpitzer what else I should look at?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421151085/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421155443","html_url":"https://github.com/apache/iceberg/issues/6758#issuecomment-1421155443","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6758","id":1421155443,"node_id":"IC_kwDOCW7NX85UtRxz","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T17:25:18Z","updated_at":"2023-02-07T17:25:18Z","author_association":"MEMBER","body":"That's basically the only issue, I think you may be safe if you never use a Hadoop File System implementation but it can potentially make an Iceberg table with paths that another framework like Spark or Flink could not access. So our big thought here is should we force all Iceberg \"paths\" to be posix normalized (no double slashes, no relative path elements, etc ...) \r\n\r\nAnother example would be setting the table location like ```foo/bar/../baz```\r\nIn our HadoopFileIo this would be equivelent to ```foo/baz```\r\nBut S3FileIO treats it like a string an would probably make ```foo/bar/../baz``` with a `..` directory","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421155443/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421233502","html_url":"https://github.com/apache/iceberg/issues/6758#issuecomment-1421233502","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6758","id":1421233502,"node_id":"IC_kwDOCW7NX85Utk1e","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T18:09:51Z","updated_at":"2023-02-07T18:09:51Z","author_association":"CONTRIBUTOR","body":"If we add this enforcement and still want backwards compatibility, it seems like we will need to do that as a feature flag.\r\n\r\nAnd this cannot just be an engine level feature flag, because such enforcement will lead to some tables having hybrid file paths, and some are stored in posix style and some are stored literally.\r\n\r\nSo it seems necessary to:\r\n1. introduce this flag in all the places that stores a file path (catalog, table metadata, manifest list, manifest file), so the reader understands how to parse the file paths differently.\r\n2. add an engine level config to turn this feature on for subsequent writes.\r\n3. add some migration procedure to fix tables with broken file paths.\r\n\r\nWould you agree with the actions above?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421233502/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421239068","html_url":"https://github.com/apache/iceberg/issues/6758#issuecomment-1421239068","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6758","id":1421239068,"node_id":"IC_kwDOCW7NX85UtmMc","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T18:14:33Z","updated_at":"2023-02-07T18:14:33Z","author_association":"MEMBER","body":"I think (2) we can actually do immediately without losing backwards compatibility. All readers can read paths written in the posix compliant matter, so implementing 2 even without a feature flag should be valid. The only issue is that new files will be in a slightly different location in S3 than they would have been previously. So I don't think this even needs a flag.\r\n\r\nIE If we say from this point on, all files that are created will have posix normalized paths, should have no effect on compatibility. So I don't think we need (1). We let everyone read paths as they are in the metadata, we just make sure they are all written in the metadata in a way that is universally compatible.\r\n\r\nThen I do think we may need a (3) but this is just for tables which have been written with non-posix compatible FileIO's that need to be used with a posix compatible file IO. This is a bit more intensive.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421239068/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421247540","html_url":"https://github.com/apache/iceberg/issues/6758#issuecomment-1421247540","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6758","id":1421247540,"node_id":"IC_kwDOCW7NX85UtoQ0","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T18:19:22Z","updated_at":"2023-02-07T18:19:22Z","author_association":"CONTRIBUTOR","body":"I see, I thought you were saying the file paths will still be stored in the original way like `s3://foo/bar//baz`, but will store data at `s3://foo/bar/baz`. Reader also sees `s3://foo/bar//baz` in the manifest, but will read the file at `s3://foo/bar/baz`.\r\n\r\nSo instead, you actually mean we will never even store non-posix paths in Iceberg metadata going forward?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421247540/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]