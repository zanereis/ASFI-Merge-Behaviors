[{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665180775","html_url":"https://github.com/apache/hudi/issues/1845#issuecomment-665180775","issue_url":"https://api.github.com/repos/apache/hudi/issues/1845","id":665180775,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTE4MDc3NQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-28T17:44:40Z","updated_at":"2020-07-28T17:44:40Z","author_association":"CONTRIBUTOR","body":"@sbernauer : Do you mean using SCHEMA_v1 at step 4. Otherwise, both reader and writer schema is same. right ?\r\n\r\nThere are couple of issues  here : \r\n\r\n1.  Regarding your production setup, From the looks of it, you are not passing any transformers : In this case the source avro record is converted to HoodieRecord. In this process, we serialize the record to bytes using the schema referenced by the generic record. We do this to reduce memory footprint while shuffling records as Spark native serialization of avro records also serializes Schema for each record.  I am a little surprised on how this issue was not seen early enough in the community. This made me wonder if the schema was indeed backwards compatible. But from your snippet, it does not look to be the case. Let me open a jira to track this issue. We are anyways going to tackle schema evolution in general in next release. For your problem though, you can implement a new Payload class which does not serialize to bytes upon construction (Example : https://github.com/apache/hudi/blob/hoodie-0.4.0/hoodie-spark/src/main/java/com/uber/hoodie/OverwriteWithLatestAvroPayload.java). Note that once you do this, you will be able to write the records to parquet files successfully but we would need to test reading from it. Hudi uses parquet-avro library and passes latest schema to. If parquet-avro is unable to read, then you can set (\"hoodie.avro.schema.externalTransformation=true\") after https://github.com/apache/hudi/pull/1876 gets landed (ETA: sometime this week).\r\n\r\n2. Regarding your unit-test failure, this happens in AvroConversionUtils which is used when transformer is configured. The code itself is based on spark-avro. I will open a jira for it. Would you be interested in looking at the code in AvroConversionUtils to see how this can be fixed since you already wrote the tests for it ? \r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665180775/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665185739","html_url":"https://github.com/apache/hudi/issues/1845#issuecomment-665185739","issue_url":"https://api.github.com/repos/apache/hudi/issues/1845","id":665185739,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTE4NTczOQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-28T17:54:50Z","updated_at":"2020-07-28T17:54:50Z","author_association":"CONTRIBUTOR","body":"For issue (1) : Opened https://issues.apache.org/jira/browse/HUDI-1128\r\nFor issue (2) : https://issues.apache.org/jira/browse/HUDI-1129","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665185739/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665192084","html_url":"https://github.com/apache/hudi/pull/1870#issuecomment-665192084","issue_url":"https://api.github.com/repos/apache/hudi/issues/1870","id":665192084,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTE5MjA4NA==","user":{"login":"zhedoubushishi","id":31263084,"node_id":"MDQ6VXNlcjMxMjYzMDg0","avatar_url":"https://avatars.githubusercontent.com/u/31263084?v=4","gravatar_id":"","url":"https://api.github.com/users/zhedoubushishi","html_url":"https://github.com/zhedoubushishi","followers_url":"https://api.github.com/users/zhedoubushishi/followers","following_url":"https://api.github.com/users/zhedoubushishi/following{/other_user}","gists_url":"https://api.github.com/users/zhedoubushishi/gists{/gist_id}","starred_url":"https://api.github.com/users/zhedoubushishi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhedoubushishi/subscriptions","organizations_url":"https://api.github.com/users/zhedoubushishi/orgs","repos_url":"https://api.github.com/users/zhedoubushishi/repos","events_url":"https://api.github.com/users/zhedoubushishi/events{/privacy}","received_events_url":"https://api.github.com/users/zhedoubushishi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-28T18:07:15Z","updated_at":"2020-07-28T18:07:15Z","author_association":"CONTRIBUTOR","body":"> @zhedoubushishi There is a conflict file. Can you please fix it?\r\n\r\nSure. Done.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665192084/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665278060","html_url":"https://github.com/apache/hudi/issues/1872#issuecomment-665278060","issue_url":"https://api.github.com/repos/apache/hudi/issues/1872","id":665278060,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTI3ODA2MA==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-28T20:55:48Z","updated_at":"2020-07-28T20:55:56Z","author_association":"MEMBER","body":"@luffyd were you able to figure out a workaround? If not, consider opening a jira. We think adding  jitter and retries when hudi calls S3 may help. (feel free to open Pull request too)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665278060/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665288297","html_url":"https://github.com/apache/hudi/pull/1880#issuecomment-665288297","issue_url":"https://api.github.com/repos/apache/hudi/issues/1880","id":665288297,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTI4ODI5Nw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-28T21:17:38Z","updated_at":"2020-07-28T21:17:38Z","author_association":"MEMBER","body":"This is a good addition. \r\n+1 on @yanghua 's comments on adding tests and completeness of feature. \r\n\r\nCan we implement this such that, users can do `readStream()` using commit times? this is a very desired feature on spark","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665288297/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665350793","html_url":"https://github.com/apache/hudi/pull/1884#issuecomment-665350793","issue_url":"https://api.github.com/repos/apache/hudi/issues/1884","id":665350793,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTM1MDc5Mw==","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-28T23:47:51Z","updated_at":"2020-07-28T23:47:51Z","author_association":"MEMBER","body":"@yanghua @vinothchandar This is another set of incremental changes for testutils re-organization.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665350793/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665363288","html_url":"https://github.com/apache/hudi/pull/1871#issuecomment-665363288","issue_url":"https://api.github.com/repos/apache/hudi/issues/1871","id":665363288,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTM2MzI4OA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-29T00:32:58Z","updated_at":"2020-07-29T00:32:58Z","author_association":"MEMBER","body":"On the DataPrep I was wondering through,\r\nif we should call it `HoodieTestTable` or something, since it's just creating some files, not really writing data. Also our code will probably generate 1,2 commits in most places. So should it include helpers like fakeTestTable.generateTwoCommits() etc. Idea here is to make test shorter. I am fine to just begin by standardizing though. \r\nWe should probably have another `HoodieTestTableWithData` which actually generates test table using regular writeClient APIs, does sanity asserts. and actually writes data into these files ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665363288/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665432999","html_url":"https://github.com/apache/hudi/issues/1878#issuecomment-665432999","issue_url":"https://api.github.com/repos/apache/hudi/issues/1878","id":665432999,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTQzMjk5OQ==","user":{"login":"rubenssoto","id":36298331,"node_id":"MDQ6VXNlcjM2Mjk4MzMx","avatar_url":"https://avatars.githubusercontent.com/u/36298331?v=4","gravatar_id":"","url":"https://api.github.com/users/rubenssoto","html_url":"https://github.com/rubenssoto","followers_url":"https://api.github.com/users/rubenssoto/followers","following_url":"https://api.github.com/users/rubenssoto/following{/other_user}","gists_url":"https://api.github.com/users/rubenssoto/gists{/gist_id}","starred_url":"https://api.github.com/users/rubenssoto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rubenssoto/subscriptions","organizations_url":"https://api.github.com/users/rubenssoto/orgs","repos_url":"https://api.github.com/users/rubenssoto/repos","events_url":"https://api.github.com/users/rubenssoto/events{/privacy}","received_events_url":"https://api.github.com/users/rubenssoto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-29T05:05:15Z","updated_at":"2020-07-29T05:17:45Z","author_association":"NONE","body":"Hi bvaradar, how are you? I hope doing fine!\r\n\r\nI have a new case, which is a little more important to me, the problem is almost the same. I adopted the strategy to first batch all data in an insert operation and after that, get the latest data with structured streaming. \r\n\r\nAnswer your question, all my tables have PK with integers id and normally they are auto-increment. Does Hudi already order data in an insert operation by pk? Because in my first batch I am sorting the data by date, is it necessary?\r\n\r\nI think I have the CoW problem that you said. I have an order table with my clients orders, every minute new orders arrive, and my clients could give a grade to the order at any point in time, for example in a streaming batch could have a client order grade for an order that was made in the last month.\r\n\r\nThis table, today, is very small, in hudi dataset, are 15 files of 500mb each, I didn't partition the table because a daily partition is small and partition by month I think don't make sense. \r\nMy streaming is running right now, but Hudi rewrites all 15 files every streaming batch, my data is small, so its fine, but I think it is not efficient and when data the grows it could become a problem.\r\n\r\nI will use aws Athena to query all my tables and this specific order table may be delayed up to 15 minutes. I saw that Athena only query Read Optmized MoR, how MoR could help me in this case?\r\n\r\nThe last question, in an insert operation, how can I control the file size?\r\n\r\nThank you for your time!\r\n\r\nSome images of my streaming:\r\n<img width=\"1680\" alt=\"Captura de Tela 2020-07-29 às 02 04 06\" src=\"https://user-images.githubusercontent.com/36298331/88758955-10e86800-d140-11ea-81c5-81052c2f1bf2.png\">\r\n<img width=\"1680\" alt=\"Captura de Tela 2020-07-29 às 02 03 54\" src=\"https://user-images.githubusercontent.com/36298331/88758971-15148580-d140-11ea-820c-e198ebf664f6.png\">\r\n<img width=\"1680\" alt=\"Captura de Tela 2020-07-29 às 02 03 33\" src=\"https://user-images.githubusercontent.com/36298331/88758974-1645b280-d140-11ea-868f-9e36b60f0c81.png\">\r\n<img width=\"1680\" alt=\"Captura de Tela 2020-07-29 às 02 01 51\" src=\"https://user-images.githubusercontent.com/36298331/88758975-180f7600-d140-11ea-97a1-a1e724abf092.png\">\r\n\r\n**_Hudi Options In batch Insert_**\r\n\r\nhudi_options = {\r\n  'hoodie.table.name': table_name,\r\n  'hoodie.datasource.write.recordkey.field': primary_key_column,\r\n  'hoodie.datasource.write.table.name': table_name,\r\n  'hoodie.datasource.write.operation': write_operation,\r\n  'hoodie.combine.before.insert': 'true',\r\n  'hoodie.combine.before.upsert': 'false',\r\n  'hoodie.datasource.write.precombine.field': precombined_column,\r\n  'hoodie.datasource.write.keygenerator.class': 'org.apache.hudi.keygen.NonpartitionedKeyGenerator',\r\n  'hoodie.parquet.small.file.limit': 700000000,\r\n  'hoodie.parquet.max.file.size': 900000000,\r\n  'hoodie.datasource.hive_sync.enable': 'true',\r\n  'hoodie.datasource.hive_sync.table': table_name,\r\n  'hoodie.datasource.hive_sync.database': 'datalake_raw',\r\n  'hoodie.datasource.hive_sync.jdbcurl':'jdbc:hive2://ip-10-0-88-165.us-west-2.compute.internal:10000',\r\n  'hoodie.upsert.shuffle.parallelism': 60,\r\n  'hoodie.insert.shuffle.parallelism': 60\r\n}\r\n\r\n\r\n**_Hudi Options In UPSERT_**\r\n\r\nhudi_options = {\r\n  'hoodie.table.name': table_name,\r\n  'hoodie.datasource.write.recordkey.field': primary_key_column,\r\n  'hoodie.datasource.write.table.name': table_name,\r\n  'hoodie.datasource.write.operation': write_operation,\r\n  'hoodie.combine.before.insert': 'false',\r\n  'hoodie.combine.before.upsert': 'true',\r\n  'hoodie.datasource.write.precombine.field': precombined_column,\r\n  'hoodie.datasource.write.keygenerator.class': 'org.apache.hudi.keygen.NonpartitionedKeyGenerator',\r\n  'hoodie.parquet.small.file.limit': 700000000,\r\n  'hoodie.parquet.max.file.size': 900000000,\r\n  'hoodie.datasource.hive_sync.enable': 'true',\r\n  'hoodie.datasource.hive_sync.table': table_name,\r\n  'hoodie.datasource.hive_sync.database': 'datalake_raw',\r\n  'hoodie.datasource.hive_sync.jdbcurl':'jdbc:hive2://ip-10-0-88-165.us-west-2.compute.internal:10000'\r\n}\r\n\r\nIs there any options wrong?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665432999/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665437032","html_url":"https://github.com/apache/hudi/pull/1871#issuecomment-665437032","issue_url":"https://api.github.com/repos/apache/hudi/issues/1871","id":665437032,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTQzNzAzMg==","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-29T05:19:34Z","updated_at":"2020-07-29T05:19:34Z","author_association":"MEMBER","body":"Make sense. Working on incorporating the feature of writing data to files.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665437032/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665452095","html_url":"https://github.com/apache/hudi/pull/1816#issuecomment-665452095","issue_url":"https://api.github.com/repos/apache/hudi/issues/1816","id":665452095,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTQ1MjA5NQ==","user":{"login":"NikhilSuthar","id":8020219,"node_id":"MDQ6VXNlcjgwMjAyMTk=","avatar_url":"https://avatars.githubusercontent.com/u/8020219?v=4","gravatar_id":"","url":"https://api.github.com/users/NikhilSuthar","html_url":"https://github.com/NikhilSuthar","followers_url":"https://api.github.com/users/NikhilSuthar/followers","following_url":"https://api.github.com/users/NikhilSuthar/following{/other_user}","gists_url":"https://api.github.com/users/NikhilSuthar/gists{/gist_id}","starred_url":"https://api.github.com/users/NikhilSuthar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NikhilSuthar/subscriptions","organizations_url":"https://api.github.com/users/NikhilSuthar/orgs","repos_url":"https://api.github.com/users/NikhilSuthar/repos","events_url":"https://api.github.com/users/NikhilSuthar/events{/privacy}","received_events_url":"https://api.github.com/users/NikhilSuthar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-29T06:05:57Z","updated_at":"2020-07-29T06:06:23Z","author_association":"NONE","body":"@pratyakshsharma could you please share the documentation that has an example of composite key uses. We are not getting, how to use it, and does it also support Pyspark?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665452095/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665478130","html_url":"https://github.com/apache/hudi/pull/1848#issuecomment-665478130","issue_url":"https://api.github.com/repos/apache/hudi/issues/1848","id":665478130,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTQ3ODEzMA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-29T07:09:39Z","updated_at":"2020-07-29T07:09:39Z","author_association":"CONTRIBUTOR","body":"@garyli1019 : I took this patch and ran it in EMR (Spark-2.4.5-amzn-0). I got the following exceptions when loading  S3 dataset.\r\n\r\nI am using hudi-spark-bundle in the spark session.\r\n\r\n\r\nSetting default log level to \"WARN\".\r\nTo adjust logging level use sc.setLogLevel(newLevel). For SparkR, use setLogLevel(newLevel).\r\n20/07/29 06:57:50 WARN Client: Neither spark.yarn.jars nor spark.yarn.archive is set, falling back to uploading libraries under SPARK_HOME.\r\nSpark context Web UI available at http://ip-172-31-33-232.us-east-2.compute.internal:4040\r\nSpark context available as 'sc' (master = yarn, app id = application_1595775804042_9837).\r\nSpark session available as 'spark'.\r\nWelcome to\r\n      ____              __\r\n     / __/__  ___ _____/ /__\r\n    _\\ \\/ _ \\/ _ `/ __/  '_/\r\n   /___/ .__/\\_,_/_/ /_/\\_\\   version 2.4.5-amzn-0\r\n      /_/\r\n         \r\nUsing Scala version 2.11.12 (OpenJDK 64-Bit Server VM, Java 1.8.0_252)\r\nType in expressions to have them evaluated.\r\nType :help for more information.\r\n\r\nscala> val dfh = spark.read.format(\"hudi\").load(\"s3a://hudi.streaming.perf/orders_stream_hudi_mor_4/*/*\")\r\njava.lang.NoSuchMethodError: org.apache.spark.sql.execution.datasources.PartitionedFile.<init>(Lorg/apache/spark/sql/catalyst/InternalRow;Ljava/lang/String;JJ[Ljava/lang/String;)V\r\n  at org.apache.hudi.MergeOnReadSnapshotRelation$$anonfun$4.apply(MergeOnReadSnapshotRelation.scala:144)\r\n  at org.apache.hudi.MergeOnReadSnapshotRelation$$anonfun$4.apply(MergeOnReadSnapshotRelation.scala:141)\r\n  at scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:234)\r\n  at scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:234)\r\n  at scala.collection.Iterator$class.foreach(Iterator.scala:891)\r\n  at scala.collection.AbstractIterator.foreach(Iterator.scala:1334)\r\n  at scala.collection.IterableLike$class.foreach(IterableLike.scala:72)\r\n  at scala.collection.AbstractIterable.foreach(Iterable.scala:54)\r\n  at scala.collection.TraversableLike$class.map(TraversableLike.scala:234)\r\n  at scala.collection.AbstractTraversable.map(Traversable.scala:104)\r\n  at org.apache.hudi.MergeOnReadSnapshotRelation.buildFileIndex(MergeOnReadSnapshotRelation.scala:141)\r\n  at org.apache.hudi.MergeOnReadSnapshotRelation.<init>(MergeOnReadSnapshotRelation.scala:75)\r\n  at org.apache.hudi.DefaultSource.createRelation(DefaultSource.scala:70)\r\n  at org.apache.hudi.DefaultSource.createRelation(DefaultSource.scala:50)\r\n  at org.apache.spark.sql.execution.datasources.DataSource.resolveRelation(DataSource.scala:318)\r\n  at org.apache.spark.sql.DataFrameReader.loadV1Source(DataFrameReader.scala:223)\r\n  at org.apache.spark.sql.DataFrameReader.load(DataFrameReader.scala:211)\r\n  at org.apache.spark.sql.DataFrameReader.load(DataFrameReader.scala:178)\r\n  ... 49 elided\r\n\r\nscala> \r\n\r\nHave you seen this issue before ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665478130/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665661859","html_url":"https://github.com/apache/hudi/pull/1886#issuecomment-665661859","issue_url":"https://api.github.com/repos/apache/hudi/issues/1886","id":665661859,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTY2MTg1OQ==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-29T13:23:58Z","updated_at":"2020-07-29T13:23:58Z","author_association":"CONTRIBUTOR","body":"@yanghua please take a look when free","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665661859/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665798153","html_url":"https://github.com/apache/hudi/pull/1848#issuecomment-665798153","issue_url":"https://api.github.com/repos/apache/hudi/issues/1848","id":665798153,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTc5ODE1Mw==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-29T17:28:36Z","updated_at":"2020-07-29T17:28:36Z","author_association":"MEMBER","body":"@bvaradar Thanks for trying this out. `java.lang.NoSuchMethodError: org.apache.spark.sql.execution.datasources.PartitionedFile` looks strange. I will try it out on my production today to see if I can reproduce. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665798153/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665812122","html_url":"https://github.com/apache/hudi/issues/1885#issuecomment-665812122","issue_url":"https://api.github.com/repos/apache/hudi/issues/1885","id":665812122,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTgxMjEyMg==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-29T17:57:55Z","updated_at":"2020-07-29T17:57:55Z","author_association":"MEMBER","body":"Hi @reenarosid \r\n\r\nYou probably want to use both fields (a,b) as key since that together forms unique key. You can configure complex key using following properties:\r\nhoodie.datasource.write.keygenerator.class=org.apache.hudi.keygen.ComplexKeyGenerator\r\nhoodie.datasource.write.recordkey.field=comma_seperated_list_of_primary_keys\r\n\r\nLet me know if that doesnt work. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665812122/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665822501","html_url":"https://github.com/apache/hudi/issues/1885#issuecomment-665822501","issue_url":"https://api.github.com/repos/apache/hudi/issues/1885","id":665822501,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTgyMjUwMQ==","user":{"login":"reena-cs","id":18308856,"node_id":"MDQ6VXNlcjE4MzA4ODU2","avatar_url":"https://avatars.githubusercontent.com/u/18308856?v=4","gravatar_id":"","url":"https://api.github.com/users/reena-cs","html_url":"https://github.com/reena-cs","followers_url":"https://api.github.com/users/reena-cs/followers","following_url":"https://api.github.com/users/reena-cs/following{/other_user}","gists_url":"https://api.github.com/users/reena-cs/gists{/gist_id}","starred_url":"https://api.github.com/users/reena-cs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reena-cs/subscriptions","organizations_url":"https://api.github.com/users/reena-cs/orgs","repos_url":"https://api.github.com/users/reena-cs/repos","events_url":"https://api.github.com/users/reena-cs/events{/privacy}","received_events_url":"https://api.github.com/users/reena-cs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-29T18:16:31Z","updated_at":"2020-07-29T18:55:46Z","author_association":"NONE","body":"@satishkotha Thanks for your help, it worked.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665822501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665856107","html_url":"https://github.com/apache/hudi/issues/1586#issuecomment-665856107","issue_url":"https://api.github.com/repos/apache/hudi/issues/1586","id":665856107,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTg1NjEwNw==","user":{"login":"zhedoubushishi","id":31263084,"node_id":"MDQ6VXNlcjMxMjYzMDg0","avatar_url":"https://avatars.githubusercontent.com/u/31263084?v=4","gravatar_id":"","url":"https://api.github.com/users/zhedoubushishi","html_url":"https://github.com/zhedoubushishi","followers_url":"https://api.github.com/users/zhedoubushishi/followers","following_url":"https://api.github.com/users/zhedoubushishi/following{/other_user}","gists_url":"https://api.github.com/users/zhedoubushishi/gists{/gist_id}","starred_url":"https://api.github.com/users/zhedoubushishi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhedoubushishi/subscriptions","organizations_url":"https://api.github.com/users/zhedoubushishi/orgs","repos_url":"https://api.github.com/users/zhedoubushishi/repos","events_url":"https://api.github.com/users/zhedoubushishi/events{/privacy}","received_events_url":"https://api.github.com/users/zhedoubushishi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-29T19:25:31Z","updated_at":"2020-07-29T19:28:22Z","author_association":"CONTRIBUTOR","body":"I added a log print to checked the ```--hoodie-conf``` read by JCommander:\r\n\r\n```\r\n20/07/25 00:50:06 INFO HoodieDeltaStreamer: debug => config is hoodie.datasource.write.recordkey.field=f1\r\n20/07/25 00:50:06 INFO HoodieDeltaStreamer: debug => config is f2,f3\r\n20/07/25 00:50:06 INFO HoodieDeltaStreamer: debug => config is hoodie.datasource.write.keygenerator.class=org.apache.hudi.keygen.ComplexKeyGenerator\r\n20/07/25 00:50:06 INFO HoodieDeltaStreamer: debug => config is hoodie.datasource.write.partitionpath.field=dt\r\n20/07/25 00:50:06 INFO HoodieDeltaStreamer: debug => config is hoodie.datasource.hive_sync.database=default\r\n20/07/25 00:50:06 INFO HoodieDeltaStreamer: debug => config is hoodie.datasource.hive_sync.table=hudi_table\r\n20/07/25 00:50:06 INFO HoodieDeltaStreamer: debug => config is hoodie.datasource.hive_sync.partition_fields=dt\r\n20/07/25 00:50:06 INFO HoodieDeltaStreamer: debug => config is hoodie.datasource.hive_sync.partition_extractor_class=org.apache.hudi.hive.MultiPartKeysValueExtractor\r\n20/07/25 00:50:06 INFO HoodieDeltaStreamer: debug => config is hoodie.deltastreamer.source.dfs.root=s3://hudi/data\r\n```\r\n\r\nIt shows that JCommander will automatically split the string by \",\":\r\n```\r\n20/07/25 00:50:06 INFO HoodieDeltaStreamer: debug => config is hoodie.datasource.write.recordkey.field=f1\r\n20/07/25 00:50:06 INFO HoodieDeltaStreamer: debug => config is f2,f3\r\n```\r\nThat's why it unable to read multiple fields as record key.\r\n\r\nWe need to handle this special case tho it looks like an issue from JCommander side.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665856107/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665867630","html_url":"https://github.com/apache/hudi/issues/1885#issuecomment-665867630","issue_url":"https://api.github.com/repos/apache/hudi/issues/1885","id":665867630,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTg2NzYzMA==","user":{"login":"reena-cs","id":18308856,"node_id":"MDQ6VXNlcjE4MzA4ODU2","avatar_url":"https://avatars.githubusercontent.com/u/18308856?v=4","gravatar_id":"","url":"https://api.github.com/users/reena-cs","html_url":"https://github.com/reena-cs","followers_url":"https://api.github.com/users/reena-cs/followers","following_url":"https://api.github.com/users/reena-cs/following{/other_user}","gists_url":"https://api.github.com/users/reena-cs/gists{/gist_id}","starred_url":"https://api.github.com/users/reena-cs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reena-cs/subscriptions","organizations_url":"https://api.github.com/users/reena-cs/orgs","repos_url":"https://api.github.com/users/reena-cs/repos","events_url":"https://api.github.com/users/reena-cs/events{/privacy}","received_events_url":"https://api.github.com/users/reena-cs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-29T19:49:53Z","updated_at":"2020-07-29T19:49:53Z","author_association":"NONE","body":"Considering the above scenario, where the primary key is nothing but a combination of two fields a and b, the PRECOMBINE_FIELD_OPT_KEY is a/b,  and the table has only two fields :\r\n\r\n will I be able to update any of those records? \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665867630/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665909566","html_url":"https://github.com/apache/hudi/issues/1885#issuecomment-665909566","issue_url":"https://api.github.com/repos/apache/hudi/issues/1885","id":665909566,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTkwOTU2Ng==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-29T20:29:15Z","updated_at":"2020-07-29T20:29:51Z","author_association":"MEMBER","body":"If all columns in the table are part of 'key', updates do not really make sense. Update usually means we want to change 'value' associated with key. You can consider deleting previous key and inserting new key combination.  Is this a real scenario to have just 2 columns, both part of the key? \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665909566/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665914074","html_url":"https://github.com/apache/hudi/issues/1885#issuecomment-665914074","issue_url":"https://api.github.com/repos/apache/hudi/issues/1885","id":665914074,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTkxNDA3NA==","user":{"login":"reena-cs","id":18308856,"node_id":"MDQ6VXNlcjE4MzA4ODU2","avatar_url":"https://avatars.githubusercontent.com/u/18308856?v=4","gravatar_id":"","url":"https://api.github.com/users/reena-cs","html_url":"https://github.com/reena-cs","followers_url":"https://api.github.com/users/reena-cs/followers","following_url":"https://api.github.com/users/reena-cs/following{/other_user}","gists_url":"https://api.github.com/users/reena-cs/gists{/gist_id}","starred_url":"https://api.github.com/users/reena-cs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reena-cs/subscriptions","organizations_url":"https://api.github.com/users/reena-cs/orgs","repos_url":"https://api.github.com/users/reena-cs/repos","events_url":"https://api.github.com/users/reena-cs/events{/privacy}","received_events_url":"https://api.github.com/users/reena-cs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-29T20:38:23Z","updated_at":"2020-07-29T20:38:23Z","author_association":"NONE","body":"@satishkotha  thanks again for your valuable suggestion, it makes sense. Yes, this is a real scenario.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665914074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665917346","html_url":"https://github.com/apache/hudi/issues/1885#issuecomment-665917346","issue_url":"https://api.github.com/repos/apache/hudi/issues/1885","id":665917346,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTkxNzM0Ng==","user":{"login":"reena-cs","id":18308856,"node_id":"MDQ6VXNlcjE4MzA4ODU2","avatar_url":"https://avatars.githubusercontent.com/u/18308856?v=4","gravatar_id":"","url":"https://api.github.com/users/reena-cs","html_url":"https://github.com/reena-cs","followers_url":"https://api.github.com/users/reena-cs/followers","following_url":"https://api.github.com/users/reena-cs/following{/other_user}","gists_url":"https://api.github.com/users/reena-cs/gists{/gist_id}","starred_url":"https://api.github.com/users/reena-cs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reena-cs/subscriptions","organizations_url":"https://api.github.com/users/reena-cs/orgs","repos_url":"https://api.github.com/users/reena-cs/repos","events_url":"https://api.github.com/users/reena-cs/events{/privacy}","received_events_url":"https://api.github.com/users/reena-cs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-29T20:45:21Z","updated_at":"2020-07-29T20:46:39Z","author_association":"NONE","body":"-- not a real scenario--\r\n@satishkotha Is there a way to add duplicate in the above scenario(a,b are record key) :\r\neg: a,b are the record keys and i want to insert the following:\r\ninsert [ a:1,b:1   a:6,b:7    a:1,b:1]  \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665917346/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665977221","html_url":"https://github.com/apache/hudi/issues/1885#issuecomment-665977221","issue_url":"https://api.github.com/repos/apache/hudi/issues/1885","id":665977221,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTk3NzIyMQ==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-29T23:13:29Z","updated_at":"2020-07-29T23:13:29Z","author_association":"MEMBER","body":"It is possible. But, there are edge cases where it may not work (depends on if keys are distributed to same file group etc). Consider adding another column, say timestamp (or version or uuid) to disambiguate if you need to store all versions. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665977221/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665979160","html_url":"https://github.com/apache/hudi/pull/1876#issuecomment-665979160","issue_url":"https://api.github.com/repos/apache/hudi/issues/1876","id":665979160,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTk3OTE2MA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-29T23:19:37Z","updated_at":"2020-07-29T23:19:37Z","author_association":"MEMBER","body":"finally @bvaradar @umehrot2 tests passing now. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665979160/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665979938","html_url":"https://github.com/apache/hudi/pull/1817#issuecomment-665979938","issue_url":"https://api.github.com/repos/apache/hudi/issues/1817","id":665979938,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTk3OTkzOA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-29T23:22:19Z","updated_at":"2020-07-29T23:22:19Z","author_association":"MEMBER","body":"yes this is trying to fix things for Hive primarily. We can take a separate approach for spark incremental queries","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665979938/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665984117","html_url":"https://github.com/apache/hudi/pull/1876#issuecomment-665984117","issue_url":"https://api.github.com/repos/apache/hudi/issues/1876","id":665984117,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTk4NDExNw==","user":{"login":"umehrot2","id":8647012,"node_id":"MDQ6VXNlcjg2NDcwMTI=","avatar_url":"https://avatars.githubusercontent.com/u/8647012?v=4","gravatar_id":"","url":"https://api.github.com/users/umehrot2","html_url":"https://github.com/umehrot2","followers_url":"https://api.github.com/users/umehrot2/followers","following_url":"https://api.github.com/users/umehrot2/following{/other_user}","gists_url":"https://api.github.com/users/umehrot2/gists{/gist_id}","starred_url":"https://api.github.com/users/umehrot2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/umehrot2/subscriptions","organizations_url":"https://api.github.com/users/umehrot2/orgs","repos_url":"https://api.github.com/users/umehrot2/repos","events_url":"https://api.github.com/users/umehrot2/events{/privacy}","received_events_url":"https://api.github.com/users/umehrot2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-29T23:36:53Z","updated_at":"2020-07-29T23:36:53Z","author_association":"CONTRIBUTOR","body":"> finally @bvaradar @umehrot2 tests passing now.\r\n\r\n@vinothchandar So what is the next step ? Do we do a thorough review of this ? Also shall I start to rebase my changes on top of this ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665984117/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665999807","html_url":"https://github.com/apache/hudi/pull/1768#issuecomment-665999807","issue_url":"https://api.github.com/repos/apache/hudi/issues/1768","id":665999807,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTk5OTgwNw==","user":{"login":"umehrot2","id":8647012,"node_id":"MDQ6VXNlcjg2NDcwMTI=","avatar_url":"https://avatars.githubusercontent.com/u/8647012?v=4","gravatar_id":"","url":"https://api.github.com/users/umehrot2","html_url":"https://github.com/umehrot2","followers_url":"https://api.github.com/users/umehrot2/followers","following_url":"https://api.github.com/users/umehrot2/following{/other_user}","gists_url":"https://api.github.com/users/umehrot2/gists{/gist_id}","starred_url":"https://api.github.com/users/umehrot2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/umehrot2/subscriptions","organizations_url":"https://api.github.com/users/umehrot2/orgs","repos_url":"https://api.github.com/users/umehrot2/repos","events_url":"https://api.github.com/users/umehrot2/events{/privacy}","received_events_url":"https://api.github.com/users/umehrot2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-30T00:25:55Z","updated_at":"2020-07-30T00:25:55Z","author_association":"CONTRIBUTOR","body":"@vinothchandar finally got the unit and integration tests to pass. This is ready for review.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/665999807/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/666028265","html_url":"https://github.com/apache/hudi/pull/1884#issuecomment-666028265","issue_url":"https://api.github.com/repos/apache/hudi/issues/1884","id":666028265,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjAyODI2NQ==","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-30T01:41:27Z","updated_at":"2020-07-30T01:41:27Z","author_association":"MEMBER","body":"@yanghua address the comments in the last 2 commits. thanks.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/666028265/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/666064032","html_url":"https://github.com/apache/hudi/pull/1858#issuecomment-666064032","issue_url":"https://api.github.com/repos/apache/hudi/issues/1858","id":666064032,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjA2NDAzMg==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-30T03:09:48Z","updated_at":"2020-07-30T03:09:48Z","author_association":"CONTRIBUTOR","body":"@n3nash @vinothchandar : you folks can review the patch. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/666064032/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/666091024","html_url":"https://github.com/apache/hudi/pull/1848#issuecomment-666091024","issue_url":"https://api.github.com/repos/apache/hudi/issues/1848","id":666091024,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjA5MTAyNA==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-30T04:12:56Z","updated_at":"2020-07-30T04:12:56Z","author_association":"MEMBER","body":"@bvaradar I tested on Spark 2.4.0 cdh release with a small dataset, and found a broadcast configuration issue. Pushed a new commit with the fix. Now this work fine on my cluster. I will test a larger dataset tomorrow.\r\nI couldn't reproduce `java.lang.NoSuchMethodError: org.apache.spark.sql.execution.datasources.PartitionedFile`. Is this class somehow missing on aws release? Are you able to import from the spark-shell?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/666091024/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/666232604","html_url":"https://github.com/apache/hudi/issues/1845#issuecomment-666232604","issue_url":"https://api.github.com/repos/apache/hudi/issues/1845","id":666232604,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjIzMjYwNA==","user":{"login":"sbernauer","id":29303194,"node_id":"MDQ6VXNlcjI5MzAzMTk0","avatar_url":"https://avatars.githubusercontent.com/u/29303194?v=4","gravatar_id":"","url":"https://api.github.com/users/sbernauer","html_url":"https://github.com/sbernauer","followers_url":"https://api.github.com/users/sbernauer/followers","following_url":"https://api.github.com/users/sbernauer/following{/other_user}","gists_url":"https://api.github.com/users/sbernauer/gists{/gist_id}","starred_url":"https://api.github.com/users/sbernauer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sbernauer/subscriptions","organizations_url":"https://api.github.com/users/sbernauer/orgs","repos_url":"https://api.github.com/users/sbernauer/repos","events_url":"https://api.github.com/users/sbernauer/events{/privacy}","received_events_url":"https://api.github.com/users/sbernauer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-30T08:43:07Z","updated_at":"2020-07-30T08:43:07Z","author_association":"CONTRIBUTOR","body":"Thanks @bvaradar for opening the tickets!\r\nI will continue commenting in this tickets.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/666232604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/666277215","html_url":"https://github.com/apache/hudi/issues/1845#issuecomment-666277215","issue_url":"https://api.github.com/repos/apache/hudi/issues/1845","id":666277215,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjI3NzIxNQ==","user":{"login":"sbernauer","id":29303194,"node_id":"MDQ6VXNlcjI5MzAzMTk0","avatar_url":"https://avatars.githubusercontent.com/u/29303194?v=4","gravatar_id":"","url":"https://api.github.com/users/sbernauer","html_url":"https://github.com/sbernauer","followers_url":"https://api.github.com/users/sbernauer/followers","following_url":"https://api.github.com/users/sbernauer/following{/other_user}","gists_url":"https://api.github.com/users/sbernauer/gists{/gist_id}","starred_url":"https://api.github.com/users/sbernauer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sbernauer/subscriptions","organizations_url":"https://api.github.com/users/sbernauer/orgs","repos_url":"https://api.github.com/users/sbernauer/repos","events_url":"https://api.github.com/users/sbernauer/events{/privacy}","received_events_url":"https://api.github.com/users/sbernauer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-30T10:11:10Z","updated_at":"2020-07-30T10:11:10Z","author_association":"CONTRIBUTOR","body":"> Do you mean using SCHEMA_v1 at step 4. Otherwise, both reader and writer schema is same. right ?\r\n\r\nI could have been more precise. At Step 4 we consume events without the new optional field (we could call them events produced with SCHEMA_V1). The Deltastreamer is passed the SCHEMA_v2.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/666277215/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/666299251","html_url":"https://github.com/apache/hudi/issues/1835#issuecomment-666299251","issue_url":"https://api.github.com/repos/apache/hudi/issues/1835","id":666299251,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjI5OTI1MQ==","user":{"login":"rajgowtham24","id":68343070,"node_id":"MDQ6VXNlcjY4MzQzMDcw","avatar_url":"https://avatars.githubusercontent.com/u/68343070?v=4","gravatar_id":"","url":"https://api.github.com/users/rajgowtham24","html_url":"https://github.com/rajgowtham24","followers_url":"https://api.github.com/users/rajgowtham24/followers","following_url":"https://api.github.com/users/rajgowtham24/following{/other_user}","gists_url":"https://api.github.com/users/rajgowtham24/gists{/gist_id}","starred_url":"https://api.github.com/users/rajgowtham24/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rajgowtham24/subscriptions","organizations_url":"https://api.github.com/users/rajgowtham24/orgs","repos_url":"https://api.github.com/users/rajgowtham24/repos","events_url":"https://api.github.com/users/rajgowtham24/events{/privacy}","received_events_url":"https://api.github.com/users/rajgowtham24/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-30T11:02:21Z","updated_at":"2020-07-30T11:02:21Z","author_association":"NONE","body":"Hi Balaji, Since the issue is marked as jar-mismatch, let me know what other version can i try ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/666299251/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/666386090","html_url":"https://github.com/apache/hudi/pull/1880#issuecomment-666386090","issue_url":"https://api.github.com/repos/apache/hudi/issues/1880","id":666386090,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjM4NjA5MA==","user":{"login":"leesf","id":10128888,"node_id":"MDQ6VXNlcjEwMTI4ODg4","avatar_url":"https://avatars.githubusercontent.com/u/10128888?v=4","gravatar_id":"","url":"https://api.github.com/users/leesf","html_url":"https://github.com/leesf","followers_url":"https://api.github.com/users/leesf/followers","following_url":"https://api.github.com/users/leesf/following{/other_user}","gists_url":"https://api.github.com/users/leesf/gists{/gist_id}","starred_url":"https://api.github.com/users/leesf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leesf/subscriptions","organizations_url":"https://api.github.com/users/leesf/orgs","repos_url":"https://api.github.com/users/leesf/repos","events_url":"https://api.github.com/users/leesf/events{/privacy}","received_events_url":"https://api.github.com/users/leesf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-30T14:06:34Z","updated_at":"2020-07-30T14:06:34Z","author_association":"CONTRIBUTOR","body":"agree with @yanghua that we would implement the full feature in this PR.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/666386090/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/666419674","html_url":"https://github.com/apache/hudi/issues/1586#issuecomment-666419674","issue_url":"https://api.github.com/repos/apache/hudi/issues/1586","id":666419674,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjQxOTY3NA==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-30T14:50:29Z","updated_at":"2020-07-30T14:50:29Z","author_association":"CONTRIBUTOR","body":"@zhedoubushishi Interesting! Were you able to deep dive into how can we ensure JCommander does not split by comma or any work around we could do? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/666419674/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/666426275","html_url":"https://github.com/apache/hudi/pull/1816#issuecomment-666426275","issue_url":"https://api.github.com/repos/apache/hudi/issues/1816","id":666426275,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjQyNjI3NQ==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-30T14:57:17Z","updated_at":"2020-07-30T14:57:58Z","author_association":"CONTRIBUTOR","body":"@NikhilSuthar For checking the usage, you could actually go to master and check TestComplexKeyGenerator and TestCustomKeyGenerator classes. That should help you. To answer your other question, right now the entire codebase is in java and scala. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/666426275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/666515458","html_url":"https://github.com/apache/hudi/issues/1887#issuecomment-666515458","issue_url":"https://api.github.com/repos/apache/hudi/issues/1887","id":666515458,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjUxNTQ1OA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-30T16:42:36Z","updated_at":"2020-07-30T16:42:36Z","author_association":"CONTRIBUTOR","body":"this usually means you are running multiple writers at the same time. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/666515458/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/666557905","html_url":"https://github.com/apache/hudi/issues/1887#issuecomment-666557905","issue_url":"https://api.github.com/repos/apache/hudi/issues/1887","id":666557905,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjU1NzkwNQ==","user":{"login":"nowordofalie","id":6585424,"node_id":"MDQ6VXNlcjY1ODU0MjQ=","avatar_url":"https://avatars.githubusercontent.com/u/6585424?v=4","gravatar_id":"","url":"https://api.github.com/users/nowordofalie","html_url":"https://github.com/nowordofalie","followers_url":"https://api.github.com/users/nowordofalie/followers","following_url":"https://api.github.com/users/nowordofalie/following{/other_user}","gists_url":"https://api.github.com/users/nowordofalie/gists{/gist_id}","starred_url":"https://api.github.com/users/nowordofalie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nowordofalie/subscriptions","organizations_url":"https://api.github.com/users/nowordofalie/orgs","repos_url":"https://api.github.com/users/nowordofalie/repos","events_url":"https://api.github.com/users/nowordofalie/events{/privacy}","received_events_url":"https://api.github.com/users/nowordofalie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-30T17:45:00Z","updated_at":"2020-07-30T17:45:00Z","author_association":"NONE","body":"Thanks @bvaradar for your help, will take a look ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/666557905/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/666724588","html_url":"https://github.com/apache/hudi/issues/1813#issuecomment-666724588","issue_url":"https://api.github.com/repos/apache/hudi/issues/1813","id":666724588,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjcyNDU4OA==","user":{"login":"jcunhafonte","id":17337794,"node_id":"MDQ6VXNlcjE3MzM3Nzk0","avatar_url":"https://avatars.githubusercontent.com/u/17337794?v=4","gravatar_id":"","url":"https://api.github.com/users/jcunhafonte","html_url":"https://github.com/jcunhafonte","followers_url":"https://api.github.com/users/jcunhafonte/followers","following_url":"https://api.github.com/users/jcunhafonte/following{/other_user}","gists_url":"https://api.github.com/users/jcunhafonte/gists{/gist_id}","starred_url":"https://api.github.com/users/jcunhafonte/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jcunhafonte/subscriptions","organizations_url":"https://api.github.com/users/jcunhafonte/orgs","repos_url":"https://api.github.com/users/jcunhafonte/repos","events_url":"https://api.github.com/users/jcunhafonte/events{/privacy}","received_events_url":"https://api.github.com/users/jcunhafonte/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-30T21:44:24Z","updated_at":"2020-07-30T21:44:24Z","author_association":"NONE","body":"Thank you again for the clarification @bhasudha.\r\n\r\n@bvaradar I have tested it with continuous mode and I can confirm it works fine with that option. Without continuous mode it works if there are new changes to the directories that is reading. Thank you once again. Let me know if I can clarify anything else.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/666724588/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/666757074","html_url":"https://github.com/apache/hudi/pull/1149#issuecomment-666757074","issue_url":"https://api.github.com/repos/apache/hudi/issues/1149","id":666757074,"node_id":"MDEyOklzc3VlQ29tbWVudDY2Njc1NzA3NA==","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-30T22:48:20Z","updated_at":"2020-07-30T22:48:20Z","author_association":"CONTRIBUTOR","body":"I'll take a pass tonight.  Also, @nsivabalan could you `Squash and merge` in Github?  I'd like to keep the commits local in this PR.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/666757074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/666765346","html_url":"https://github.com/apache/hudi/issues/1890#issuecomment-666765346","issue_url":"https://api.github.com/repos/apache/hudi/issues/1890","id":666765346,"node_id":"MDEyOklzc3VlQ29tbWVudDY2Njc2NTM0Ng==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-30T23:08:44Z","updated_at":"2020-07-30T23:08:44Z","author_association":"MEMBER","body":"Compaction failed with the same error. This is very strange cause most of the log files are just loading fine.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/666765346/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/666767040","html_url":"https://github.com/apache/hudi/pull/1768#issuecomment-666767040","issue_url":"https://api.github.com/repos/apache/hudi/issues/1768","id":666767040,"node_id":"MDEyOklzc3VlQ29tbWVudDY2Njc2NzA0MA==","user":{"login":"umehrot2","id":8647012,"node_id":"MDQ6VXNlcjg2NDcwMTI=","avatar_url":"https://avatars.githubusercontent.com/u/8647012?v=4","gravatar_id":"","url":"https://api.github.com/users/umehrot2","html_url":"https://github.com/umehrot2","followers_url":"https://api.github.com/users/umehrot2/followers","following_url":"https://api.github.com/users/umehrot2/following{/other_user}","gists_url":"https://api.github.com/users/umehrot2/gists{/gist_id}","starred_url":"https://api.github.com/users/umehrot2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/umehrot2/subscriptions","organizations_url":"https://api.github.com/users/umehrot2/orgs","repos_url":"https://api.github.com/users/umehrot2/repos","events_url":"https://api.github.com/users/umehrot2/events{/privacy}","received_events_url":"https://api.github.com/users/umehrot2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-30T23:13:58Z","updated_at":"2020-07-30T23:13:58Z","author_association":"CONTRIBUTOR","body":"> LGTM overall.\r\n> \r\n> One high level question though. this parallelizes till the first level only right? so we are assuming this helps the common cases like date based tables with multiple years of data? I mean - if you only have a few years of data <10 say, and `yyyy` is the top level partitioning field, would this parallelization still help?\r\n\r\n@vinothchandar you are right about this. It will parallelize only on the top level partition folder. I think this will still help with parallelization, and would work best where there is only one level of partitioning. But I agree there is scope to further improve this by getting leaf level partition directories instead to help with multi level partitioning scenario. Is it okay if I open a JIRA for this and pursue it separately ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/666767040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/666775499","html_url":"https://github.com/apache/hudi/issues/1889#issuecomment-666775499","issue_url":"https://api.github.com/repos/apache/hudi/issues/1889","id":666775499,"node_id":"MDEyOklzc3VlQ29tbWVudDY2Njc3NTQ5OQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-30T23:38:55Z","updated_at":"2020-07-30T23:38:55Z","author_association":"CONTRIBUTOR","body":"Let me take a look at this tonight/tomorrow morning and get back.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/666775499/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/666775983","html_url":"https://github.com/apache/hudi/issues/1867#issuecomment-666775983","issue_url":"https://api.github.com/repos/apache/hudi/issues/1867","id":666775983,"node_id":"MDEyOklzc3VlQ29tbWVudDY2Njc3NTk4Mw==","user":{"login":"bschell","id":8600774,"node_id":"MDQ6VXNlcjg2MDA3NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/8600774?v=4","gravatar_id":"","url":"https://api.github.com/users/bschell","html_url":"https://github.com/bschell","followers_url":"https://api.github.com/users/bschell/followers","following_url":"https://api.github.com/users/bschell/following{/other_user}","gists_url":"https://api.github.com/users/bschell/gists{/gist_id}","starred_url":"https://api.github.com/users/bschell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bschell/subscriptions","organizations_url":"https://api.github.com/users/bschell/orgs","repos_url":"https://api.github.com/users/bschell/repos","events_url":"https://api.github.com/users/bschell/events{/privacy}","received_events_url":"https://api.github.com/users/bschell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-30T23:40:30Z","updated_at":"2020-07-30T23:40:30Z","author_association":"CONTRIBUTOR","body":"@tsolanki95 As mentioned, it would be good to know the steps that you take to encounter this issue. Is this consistently reproducible? Does it resolve on retry? Otherwise it might be best to open a ticket with AWS EMR Support.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/666775983/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/666776616","html_url":"https://github.com/apache/hudi/issues/1890#issuecomment-666776616","issue_url":"https://api.github.com/repos/apache/hudi/issues/1890","id":666776616,"node_id":"MDEyOklzc3VlQ29tbWVudDY2Njc3NjYxNg==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-30T23:42:35Z","updated_at":"2020-07-30T23:42:35Z","author_association":"CONTRIBUTOR","body":"@garyli1019 : QQ : Are you able to repro this in 0.5.3 (through hive) ? I will take a look tonight/tomorrow morning to get back. @n3nash @satishkotha : Just checking with you if this rings any bell for you ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/666776616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/666851910","html_url":"https://github.com/apache/hudi/issues/1890#issuecomment-666851910","issue_url":"https://api.github.com/repos/apache/hudi/issues/1890","id":666851910,"node_id":"MDEyOklzc3VlQ29tbWVudDY2Njg1MTkxMA==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-31T01:03:42Z","updated_at":"2020-07-31T02:28:31Z","author_association":"MEMBER","body":"@bvaradar Yes I can reproduce this with 0.5.3 during the compaction.\r\nEDIT: Also only in a few partitions. Found a related issue #1823 \r\n```\r\ncom.esotericsoftware.kryo.KryoException: Unable to find class: org.apache.hudi.common.model.OverwriteWithLatestAvroPayload$$Lambda$101/1933964683\r\nSerialization trace:\r\norderingVal (org.apache.hudi.common.model.OverwriteWithLatestAvroPayload)\r\ndata (org.apache.hudi.common.model.HoodieRecord)\r\n\tat com.esotericsoftware.kryo.util.DefaultClassResolver.readName(DefaultClassResolver.java:160)\r\n\tat com.esotericsoftware.kryo.util.DefaultClassResolver.readClass(DefaultClassResolver.java:133)\r\n\tat com.esotericsoftware.kryo.Kryo.readClass(Kryo.java:693)\r\n\tat com.esotericsoftware.kryo.serializers.ObjectField.read(ObjectField.java:118)\r\n\tat com.esotericsoftware.kryo.serializers.FieldSerializer.read(FieldSerializer.java:543)\r\n\tat com.esotericsoftware.kryo.Kryo.readObject(Kryo.java:731)\r\n\tat com.esotericsoftware.kryo.serializers.ObjectField.read(ObjectField.java:125)\r\n\tat com.esotericsoftware.kryo.serializers.FieldSerializer.read(FieldSerializer.java:543)\r\n\tat com.esotericsoftware.kryo.Kryo.readClassAndObject(Kryo.java:813)\r\n\tat org.apache.hudi.common.util.SerializationUtils$KryoSerializerInstance.deserialize(SerializationUtils.java:107)\r\n\tat org.apache.hudi.common.util.SerializationUtils.deserialize(SerializationUtils.java:81)\r\n\tat org.apache.hudi.common.util.collection.DiskBasedMap.get(DiskBasedMap.java:217)\r\n\tat org.apache.hudi.common.util.collection.LazyFileIterable$LazyFileIterator.next(LazyFileIterable.java:92)\r\n\tat org.apache.hudi.common.util.collection.ExternalSpillableMap$IteratorWrapper.next(ExternalSpillableMap.java:285)\r\n\tat org.apache.hudi.io.HoodieMergeHandle.close(HoodieMergeHandle.java:317)\r\n\tat org.apache.hudi.table.HoodieCopyOnWriteTable.handleUpdateInternal(HoodieCopyOnWriteTable.java:209)\r\n\tat org.apache.hudi.table.HoodieCopyOnWriteTable.handleUpdate(HoodieCopyOnWriteTable.java:190)\r\n\tat org.apache.hudi.table.compact.HoodieMergeOnReadTableCompactor.compact(HoodieMergeOnReadTableCompactor.java:139)\r\n\tat org.apache.hudi.table.compact.HoodieMergeOnReadTableCompactor.lambda$compact$644ebad7$1(HoodieMergeOnReadTableCompactor.java:98)\r\n\tat org.apache.spark.api.java.JavaPairRDD$$anonfun$toScalaFunction$1.apply(JavaPairRDD.scala:1040)\r\n\tat scala.collection.Iterator$$anon$11.next(Iterator.scala:410)\r\n\tat scala.collection.Iterator$$anon$12.nextCur(Iterator.scala:435)\r\n\tat scala.collection.Iterator$$anon$12.hasNext(Iterator.scala:441)\r\n\tat org.apache.spark.storage.memory.MemoryStore.putIterator(MemoryStore.scala:221)\r\n\tat org.apache.spark.storage.memory.MemoryStore.putIteratorAsBytes(MemoryStore.scala:349)\r\n\tat org.apache.spark.storage.BlockManager$$anonfun$doPutIterator$1.apply(BlockManager.scala:1193)\r\n\tat org.apache.spark.storage.BlockManager$$anonfun$doPutIterator$1.apply(BlockManager.scala:1167)\r\n\tat org.apache.spark.storage.BlockManager.doPut(BlockManager.scala:1102)\r\n\tat org.apache.spark.storage.BlockManager.doPutIterator(BlockManager.scala:1167)\r\n\tat org.apache.spark.storage.BlockManager.getOrElseUpdate(BlockManager.scala:893)\r\n\tat org.apache.spark.rdd.RDD.getOrCompute(RDD.scala:335)\r\n\tat org.apache.spark.rdd.RDD.iterator(RDD.scala:286)\r\n\tat org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n\tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:324)\r\n\tat org.apache.spark.rdd.RDD.iterator(RDD.scala:288)\r\n\tat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\r\n\tat org.apache.spark.scheduler.Task.run(Task.scala:121)\r\n\tat org.apache.spark.executor.Executor$TaskRunner$$anonfun$11.apply(Executor.scala:407)\r\n\tat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1408)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:413)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.lang.ClassNotFoundException: org.apache.hudi.common.model.OverwriteWithLatestAvroPayload$$Lambda$101/1933964683\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Class.java:348)\r\n\tat com.esotericsoftware.kryo.util.DefaultClassResolver.readName(DefaultClassResolver.java:154)\r\n\t... 42 more\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/666851910/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/666878079","html_url":"https://github.com/apache/hudi/issues/1823#issuecomment-666878079","issue_url":"https://api.github.com/repos/apache/hudi/issues/1823","id":666878079,"node_id":"MDEyOklzc3VlQ29tbWVudDY2Njg3ODA3OQ==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-31T02:29:56Z","updated_at":"2020-07-31T02:29:56Z","author_association":"MEMBER","body":"Hi @RajasekarSribalan , I am seeing the same issue as you did.\r\n```\r\ncom.esotericsoftware.kryo.KryoException: Unable to find class: org.apache.hudi.common.model.OverwriteWithLatestAvroPayload$$Lambda$46/188376151\r\nSerialization trace:\r\norderingVal (org.apache.hudi.common.model.OverwriteWithLatestAvroPayload)\r\ndata (org.apache.hudi.common.model.HoodieRecord)\r\n```\r\nHave you solved this problem?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/666878079/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/666919866","html_url":"https://github.com/apache/hudi/pull/1768#issuecomment-666919866","issue_url":"https://api.github.com/repos/apache/hudi/issues/1768","id":666919866,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjkxOTg2Ng==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-31T04:55:20Z","updated_at":"2020-07-31T04:55:31Z","author_association":"MEMBER","body":"> Is it okay if I open a JIRA for this and pursue it separately ?\r\n\r\nSounds good. let's lump this into the JIRA we have for marker file improvements more holistically ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/666919866/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667023700","html_url":"https://github.com/apache/hudi/issues/1878#issuecomment-667023700","issue_url":"https://api.github.com/repos/apache/hudi/issues/1878","id":667023700,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzAyMzcwMA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-31T09:16:37Z","updated_at":"2020-07-31T09:16:37Z","author_association":"CONTRIBUTOR","body":"For a monotonically increasing id, you can use bulk-insert instead of insert for first time loading of files, this would nicely order records by the id and your range-pruning during index lookup would be efficient. The parallelism configuration https://hudi.apache.org/docs/configurations.html#withBulkInsertParallelism controls the number of file getting generated. \r\n\r\n`I will use aws Athena to query all my tables and this specific order table may be delayed up to 15 minutes. I saw that Athena only query Read Optmized MoR, how MoR could help me in this case?`\r\n  ===>. Would let @umehrot2  answer this question. But If your use-case allows, you can schedule compaction for the MOR table at a frequency to align with a SLA that you want to maintain. This way you can still query those data using RO.\r\n\r\nFor the insert operations, the same config (as in upsert) controls file sizing ('hoodie.parquet.max.file.size')\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667023700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667035480","html_url":"https://github.com/apache/hudi/issues/1835#issuecomment-667035480","issue_url":"https://api.github.com/repos/apache/hudi/issues/1835","id":667035480,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzAzNTQ4MA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-31T09:44:58Z","updated_at":"2020-07-31T09:44:58Z","author_association":"CONTRIBUTOR","body":"The marking is based on my suspicions of the root-cause. I have not seen this issue arise out of any other case.\r\n\r\nThe integration tests which covers this code path does work fine and we are not seeing this issue elsewhere. \r\n\r\nI looked at your attached logs once again.  I see 2 references to the jar (1 with version number and one without) \r\n\r\n/usr/lib/hudi/hudi-utilities-bundle_2.11-0.5.2-incubating.jar\r\n\r\n/usr/lib/hudi/hudi-utilities-bundle.jar\r\n\r\nMaybe try not passing this \"ls /usr/lib/hudi/hudi-utilities-bundle_2.11-0.5.2-incubating.jar\" in your spark-submit and see ?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667035480/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667037723","html_url":"https://github.com/apache/hudi/issues/1586#issuecomment-667037723","issue_url":"https://api.github.com/repos/apache/hudi/issues/1586","id":667037723,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzAzNzcyMw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-31T09:50:06Z","updated_at":"2020-07-31T09:50:06Z","author_association":"CONTRIBUTOR","body":"Opened https://issues.apache.org/jira/browse/HUDI-1140 ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667037723/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667059345","html_url":"https://github.com/apache/hudi/issues/1889#issuecomment-667059345","issue_url":"https://api.github.com/repos/apache/hudi/issues/1889","id":667059345,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzA1OTM0NQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-31T10:46:10Z","updated_at":"2020-07-31T10:46:10Z","author_association":"CONTRIBUTOR","body":"@thomasrynnehmrc : Thanks for opening the ticket. This is a known bottleneck with S3. We will be targeting listing in general with our next release after 0.6 release (https://cwiki.apache.org/confluence/display/HUDI/RFC+-+15%3A+HUDI+File+Listing+and+Query+Planning+Improvements). Since you are specifically noticing .hoodie folder listing as bottleneck, can you just try the below patch for my curiosity (This is untested though). This would work if the same PathFilter instance is being used to filter (your observation after trying this patch should tell us).\r\n\r\n```\r\ndiff --git a/hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java b/hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java\r\nindex 86199d25..5be27ed6 100644\r\n--- a/hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java\r\n+++ b/hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java\r\n@@ -67,6 +67,8 @@ public class HoodieROTablePathFilter implements Configurable, PathFilter, Serial\r\n    */\r\n   private HashSet<String> nonHoodiePathCache;\r\n \r\n+  private HashMap<String, HoodieTableMetaClient> metaClientMap;\r\n+\r\n   /**\r\n    * Hadoop configurations for the FileSystem.\r\n    */\r\n@@ -82,6 +84,7 @@ public class HoodieROTablePathFilter implements Configurable, PathFilter, Serial\r\n     this.hoodiePathCache = new HashMap<>();\r\n     this.nonHoodiePathCache = new HashSet<>();\r\n     this.conf = new SerializableConfiguration(conf);\r\n+    this.metaClientMap = new HashMap<>();\r\n   }\r\n \r\n   /**\r\n@@ -149,7 +152,12 @@ public class HoodieROTablePathFilter implements Configurable, PathFilter, Serial\r\n \r\n       if (baseDir != null) {\r\n         try {\r\n-          HoodieTableMetaClient metaClient = new HoodieTableMetaClient(fs.getConf(), baseDir.toString());\r\n+          HoodieTableMetaClient metaClient = metaClientMap.get(baseDir.toString());\r\n+          if (null == metaClient) {\r\n+            metaClient = new HoodieTableMetaClient(fs.getConf(), baseDir.toString(), true);\r\n+            metaClientMap.put(baseDir.toString(), metaClient);\r\n+          }\r\n+\r\n           HoodieTableFileSystemView fsView = new HoodieTableFileSystemView(metaClient,\r\n               metaClient.getActiveTimeline().getCommitsTimeline().filterCompletedInstants(), fs.listStatus(folder));\r\n           List<HoodieBaseFile> latestFiles = fsView.getLatestBaseFiles().collect(Collectors.toList());\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667059345/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667062787","html_url":"https://github.com/apache/hudi/issues/1890#issuecomment-667062787","issue_url":"https://api.github.com/repos/apache/hudi/issues/1890","id":667062787,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzA2Mjc4Nw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-31T10:56:30Z","updated_at":"2020-07-31T10:56:30Z","author_association":"CONTRIBUTOR","body":"@garyli1019 : I am just guessing here -> Could this be due to type of orderingVal ? Is that (de)serializable with Kryo? Can you try to see by writing a quick test if you can serialize and deserialize orderingVal correctly ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667062787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667076680","html_url":"https://github.com/apache/hudi/pull/1855#issuecomment-667076680","issue_url":"https://api.github.com/repos/apache/hudi/issues/1855","id":667076680,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzA3NjY4MA==","user":{"login":"DeyinZhong","id":44561252,"node_id":"MDQ6VXNlcjQ0NTYxMjUy","avatar_url":"https://avatars.githubusercontent.com/u/44561252?v=4","gravatar_id":"","url":"https://api.github.com/users/DeyinZhong","html_url":"https://github.com/DeyinZhong","followers_url":"https://api.github.com/users/DeyinZhong/followers","following_url":"https://api.github.com/users/DeyinZhong/following{/other_user}","gists_url":"https://api.github.com/users/DeyinZhong/gists{/gist_id}","starred_url":"https://api.github.com/users/DeyinZhong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DeyinZhong/subscriptions","organizations_url":"https://api.github.com/users/DeyinZhong/orgs","repos_url":"https://api.github.com/users/DeyinZhong/repos","events_url":"https://api.github.com/users/DeyinZhong/events{/privacy}","received_events_url":"https://api.github.com/users/DeyinZhong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-31T11:36:02Z","updated_at":"2020-07-31T11:36:02Z","author_association":"CONTRIBUTOR","body":"> > > @DeyinZhong Thanks for your contributing, LGTM, would you please also update the docs(http://hudi.apache.org/docs/cloud.html), the docs branch is asf-site. Please ping me if you have any problem.\r\n> > \r\n> > \r\n> > Thanks,@leesf, I try to update the docs follow the 'https://github.com/apache/hudi/tree/asf-site', add file hudi/content/docs/cos_hoodie.html and append cos link in cloud.html, rebuild by command 'bundle exec jekyll serve ' in hudi/docs, but there is no change in _site/cloud.html. please help me to do this work, thank you very much.\r\n> \r\n> Hi @DeyinZhong you should modify `cloud.md` file rather than `cloud.html` file.\r\n\r\ndocument for hudi on cos: https://github.com/apache/hudi/pull/1891","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667076680/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667082374","html_url":"https://github.com/apache/hudi/pull/1149#issuecomment-667082374","issue_url":"https://api.github.com/repos/apache/hudi/issues/1149","id":667082374,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzA4MjM3NA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-31T11:53:01Z","updated_at":"2020-07-31T11:53:01Z","author_association":"CONTRIBUTOR","body":"I noticed that base interface don't need to be defined as \"UserDefined\" anymore since its applicable to our own partitioners as well. So, have stripped off \"UserDefined\" from the naming. Also, have renamed args and variables to userDefinedBulkInsertPartitioner wherever applicable. Once CI succeeds, will land this PR. @yihua : thanks for helping out with this. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667082374/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667103547","html_url":"https://github.com/apache/hudi/issues/1890#issuecomment-667103547","issue_url":"https://api.github.com/repos/apache/hudi/issues/1890","id":667103547,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzEwMzU0Nw==","user":{"login":"zherenyu831","id":52404525,"node_id":"MDQ6VXNlcjUyNDA0NTI1","avatar_url":"https://avatars.githubusercontent.com/u/52404525?v=4","gravatar_id":"","url":"https://api.github.com/users/zherenyu831","html_url":"https://github.com/zherenyu831","followers_url":"https://api.github.com/users/zherenyu831/followers","following_url":"https://api.github.com/users/zherenyu831/following{/other_user}","gists_url":"https://api.github.com/users/zherenyu831/gists{/gist_id}","starred_url":"https://api.github.com/users/zherenyu831/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zherenyu831/subscriptions","organizations_url":"https://api.github.com/users/zherenyu831/orgs","repos_url":"https://api.github.com/users/zherenyu831/repos","events_url":"https://api.github.com/users/zherenyu831/events{/privacy}","received_events_url":"https://api.github.com/users/zherenyu831/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-31T12:50:43Z","updated_at":"2020-07-31T12:51:08Z","author_association":"CONTRIBUTOR","body":"We also having it now, the reason is we using custom payload while upsert data, but when we bulk insert at very beginning, we used `org.apache.hudi.common.model.OverwriteWithLatestAvroPayload`, and in hoodie.properties file, the payload class is `org.apache.hudi.common.model.OverwriteWithLatestAvroPayload`, if you are facing same problem as us, just change the payload class in hoodie.properties, it fix the problem","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667103547/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667119148","html_url":"https://github.com/apache/hudi/issues/1889#issuecomment-667119148","issue_url":"https://api.github.com/repos/apache/hudi/issues/1889","id":667119148,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzExOTE0OA==","user":{"login":"thomasrynnehmrc","id":32709546,"node_id":"MDQ6VXNlcjMyNzA5NTQ2","avatar_url":"https://avatars.githubusercontent.com/u/32709546?v=4","gravatar_id":"","url":"https://api.github.com/users/thomasrynnehmrc","html_url":"https://github.com/thomasrynnehmrc","followers_url":"https://api.github.com/users/thomasrynnehmrc/followers","following_url":"https://api.github.com/users/thomasrynnehmrc/following{/other_user}","gists_url":"https://api.github.com/users/thomasrynnehmrc/gists{/gist_id}","starred_url":"https://api.github.com/users/thomasrynnehmrc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thomasrynnehmrc/subscriptions","organizations_url":"https://api.github.com/users/thomasrynnehmrc/orgs","repos_url":"https://api.github.com/users/thomasrynnehmrc/repos","events_url":"https://api.github.com/users/thomasrynnehmrc/events{/privacy}","received_events_url":"https://api.github.com/users/thomasrynnehmrc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-31T13:27:21Z","updated_at":"2020-07-31T13:27:21Z","author_association":"NONE","body":"Yes, this has fixed it, thank you.\r\n\r\nAfter this change the filtering took 2 minutes instead of 3 hours.\r\n\r\nI was not able to run against a full rebuild of Hudi, but I added a copy of HoodieROTablePathFilter to our project, with the changes applied, and also added a copy of DefaultSource that referenced the modified HoodieROTablePathFilter\r\n\r\nI would appreciate it if you could add this fix to hudi ahead of the planned listing changes so that I can remove the copied code and also so that we do not need to apply the fix to all clients.\r\n\r\nThe listing changes you mention sound good too.\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667119148/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667228852","html_url":"https://github.com/apache/hudi/pull/1894#issuecomment-667228852","issue_url":"https://api.github.com/repos/apache/hudi/issues/1894","id":667228852,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzIyODg1Mg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-31T16:58:52Z","updated_at":"2020-07-31T16:58:52Z","author_association":"MEMBER","body":"if you see, https://api.travis-ci.org/v3/job/713740328/log.txt you will find logs for Spark deltastreamer (the actual code, not tests). I think we can pass the log4J.properties when we kick off the deltastreamer from ITTHoodieDemo here? https://github.com/apache/hudi/blob/master/hudi-integ-test/src/test/java/org/apache/hudi/integ/ITTestHoodieDemo.java#L135 \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667228852/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667241386","html_url":"https://github.com/apache/hudi/pull/1768#issuecomment-667241386","issue_url":"https://api.github.com/repos/apache/hudi/issues/1768","id":667241386,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzI0MTM4Ng==","user":{"login":"umehrot2","id":8647012,"node_id":"MDQ6VXNlcjg2NDcwMTI=","avatar_url":"https://avatars.githubusercontent.com/u/8647012?v=4","gravatar_id":"","url":"https://api.github.com/users/umehrot2","html_url":"https://github.com/umehrot2","followers_url":"https://api.github.com/users/umehrot2/followers","following_url":"https://api.github.com/users/umehrot2/following{/other_user}","gists_url":"https://api.github.com/users/umehrot2/gists{/gist_id}","starred_url":"https://api.github.com/users/umehrot2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/umehrot2/subscriptions","organizations_url":"https://api.github.com/users/umehrot2/orgs","repos_url":"https://api.github.com/users/umehrot2/repos","events_url":"https://api.github.com/users/umehrot2/events{/privacy}","received_events_url":"https://api.github.com/users/umehrot2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-31T17:25:33Z","updated_at":"2020-07-31T17:25:33Z","author_association":"CONTRIBUTOR","body":"> > Is it okay if I open a JIRA for this and pursue it separately ?\r\n> \r\n> Sounds good. let's lump this into the JIRA we have for marker file improvements more holistically ?\r\n\r\nAdded a comment about this on https://issues.apache.org/jira/browse/HUDI-1138. Let me try to fix some conflict that it is showing with current master.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667241386/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667246163","html_url":"https://github.com/apache/hudi/issues/1893#issuecomment-667246163","issue_url":"https://api.github.com/repos/apache/hudi/issues/1893","id":667246163,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzI0NjE2Mw==","user":{"login":"rubenssoto","id":36298331,"node_id":"MDQ6VXNlcjM2Mjk4MzMx","avatar_url":"https://avatars.githubusercontent.com/u/36298331?v=4","gravatar_id":"","url":"https://api.github.com/users/rubenssoto","html_url":"https://github.com/rubenssoto","followers_url":"https://api.github.com/users/rubenssoto/followers","following_url":"https://api.github.com/users/rubenssoto/following{/other_user}","gists_url":"https://api.github.com/users/rubenssoto/gists{/gist_id}","starred_url":"https://api.github.com/users/rubenssoto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rubenssoto/subscriptions","organizations_url":"https://api.github.com/users/rubenssoto/orgs","repos_url":"https://api.github.com/users/rubenssoto/repos","events_url":"https://api.github.com/users/rubenssoto/events{/privacy}","received_events_url":"https://api.github.com/users/rubenssoto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-31T17:36:57Z","updated_at":"2020-07-31T17:36:57Z","author_association":"NONE","body":"The problem was solved using hoodie.copyonwrite.record.size.estimate config.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667246163/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667249720","html_url":"https://github.com/apache/hudi/issues/143#issuecomment-667249720","issue_url":"https://api.github.com/repos/apache/hudi/issues/143","id":667249720,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzI0OTcyMA==","user":{"login":"afeldman1","id":4326577,"node_id":"MDQ6VXNlcjQzMjY1Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/4326577?v=4","gravatar_id":"","url":"https://api.github.com/users/afeldman1","html_url":"https://github.com/afeldman1","followers_url":"https://api.github.com/users/afeldman1/followers","following_url":"https://api.github.com/users/afeldman1/following{/other_user}","gists_url":"https://api.github.com/users/afeldman1/gists{/gist_id}","starred_url":"https://api.github.com/users/afeldman1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afeldman1/subscriptions","organizations_url":"https://api.github.com/users/afeldman1/orgs","repos_url":"https://api.github.com/users/afeldman1/repos","events_url":"https://api.github.com/users/afeldman1/events{/privacy}","received_events_url":"https://api.github.com/users/afeldman1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-31T17:44:39Z","updated_at":"2020-07-31T17:44:39Z","author_association":"NONE","body":"afeldman1@gmail.com","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667249720/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667254308","html_url":"https://github.com/apache/hudi/issues/1890#issuecomment-667254308","issue_url":"https://api.github.com/repos/apache/hudi/issues/1890","id":667254308,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzI1NDMwOA==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-31T17:54:37Z","updated_at":"2020-07-31T17:54:37Z","author_association":"MEMBER","body":"@zherenyu831 Thanks for sharing your experience! In my `hoodie.properties` file the payload was `org.apache.hudi.common.model.OverwriteWithLatestAvroPayload`. The strange part is the compaction was just partially failed and most of the log files are ser/deser fine. \r\n@bvaradar The orderingVal I set up for upsert is a `String` type. Not sure if `orderingVal (org.apache.hudi.common.model.OverwriteWithLatestAvroPayload)` mean Kryo is trying to deser `orderingVal` as a OverwriteWithLatestAvroPayload type. I will dig into this deeper today.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667254308/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667345505","html_url":"https://github.com/apache/hudi/pull/1149#issuecomment-667345505","issue_url":"https://api.github.com/repos/apache/hudi/issues/1149","id":667345505,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzM0NTUwNQ==","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-31T20:35:27Z","updated_at":"2020-07-31T20:35:49Z","author_association":"CONTRIBUTOR","body":"@nsivabalan @n3nash  I just recall that Uber internally implements `UserDefinedBulkInsertPartitioner` interface to have custom partitioners so the name change of the `UserDefinedBulkInsertPartitioner` class is a breaking change.\r\n\r\nShall we keep the naming `UserDefinedBulkInsertPartitioner`?  We can do this in a separate PR.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667345505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667402304","html_url":"https://github.com/apache/hudi/issues/1890#issuecomment-667402304","issue_url":"https://api.github.com/repos/apache/hudi/issues/1890","id":667402304,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzQwMjMwNA==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-31T21:52:19Z","updated_at":"2020-08-01T05:44:13Z","author_association":"MEMBER","body":"~~Solved. I guess it's because I didn't drop the hudi meta columns when reading from a hudi COW source and write to another folder as MOR. The existing hudi meta columns might cause some issues on the schema side maybe. \r\nWhen dropping the hudi meta columns before writing, the problem was solved. Both compaction and MOR data source reader is working fine.~~","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667402304/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667423657","html_url":"https://github.com/apache/hudi/issues/1586#issuecomment-667423657","issue_url":"https://api.github.com/repos/apache/hudi/issues/1586","id":667423657,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzQyMzY1Nw==","user":{"login":"zhedoubushishi","id":31263084,"node_id":"MDQ6VXNlcjMxMjYzMDg0","avatar_url":"https://avatars.githubusercontent.com/u/31263084?v=4","gravatar_id":"","url":"https://api.github.com/users/zhedoubushishi","html_url":"https://github.com/zhedoubushishi","followers_url":"https://api.github.com/users/zhedoubushishi/followers","following_url":"https://api.github.com/users/zhedoubushishi/following{/other_user}","gists_url":"https://api.github.com/users/zhedoubushishi/gists{/gist_id}","starred_url":"https://api.github.com/users/zhedoubushishi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhedoubushishi/subscriptions","organizations_url":"https://api.github.com/users/zhedoubushishi/orgs","repos_url":"https://api.github.com/users/zhedoubushishi/repos","events_url":"https://api.github.com/users/zhedoubushishi/events{/privacy}","received_events_url":"https://api.github.com/users/zhedoubushishi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-31T23:19:52Z","updated_at":"2020-07-31T23:19:52Z","author_association":"CONTRIBUTOR","body":"> @zhedoubushishi Interesting! Were you able to deep dive into how can we ensure JCommander does not split by comma or any work around we could do?\r\n\r\nSure. Will take a look later.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667423657/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667430557","html_url":"https://github.com/apache/hudi/pull/1726#issuecomment-667430557","issue_url":"https://api.github.com/repos/apache/hudi/issues/1726","id":667430557,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzQzMDU1Nw==","user":{"login":"leesf","id":10128888,"node_id":"MDQ6VXNlcjEwMTI4ODg4","avatar_url":"https://avatars.githubusercontent.com/u/10128888?v=4","gravatar_id":"","url":"https://api.github.com/users/leesf","html_url":"https://github.com/leesf","followers_url":"https://api.github.com/users/leesf/followers","following_url":"https://api.github.com/users/leesf/following{/other_user}","gists_url":"https://api.github.com/users/leesf/gists{/gist_id}","starred_url":"https://api.github.com/users/leesf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leesf/subscriptions","organizations_url":"https://api.github.com/users/leesf/orgs","repos_url":"https://api.github.com/users/leesf/repos","events_url":"https://api.github.com/users/leesf/events{/privacy}","received_events_url":"https://api.github.com/users/leesf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-31T23:53:20Z","updated_at":"2020-07-31T23:53:20Z","author_association":"CONTRIBUTOR","body":"@UZi5136225 would you please rebase to fix the conflicts and upload the metrics result.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667430557/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667430846","html_url":"https://github.com/apache/hudi/pull/1095#issuecomment-667430846","issue_url":"https://api.github.com/repos/apache/hudi/issues/1095","id":667430846,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzQzMDg0Ng==","user":{"login":"leesf","id":10128888,"node_id":"MDQ6VXNlcjEwMTI4ODg4","avatar_url":"https://avatars.githubusercontent.com/u/10128888?v=4","gravatar_id":"","url":"https://api.github.com/users/leesf","html_url":"https://github.com/leesf","followers_url":"https://api.github.com/users/leesf/followers","following_url":"https://api.github.com/users/leesf/following{/other_user}","gists_url":"https://api.github.com/users/leesf/gists{/gist_id}","starred_url":"https://api.github.com/users/leesf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leesf/subscriptions","organizations_url":"https://api.github.com/users/leesf/orgs","repos_url":"https://api.github.com/users/leesf/repos","events_url":"https://api.github.com/users/leesf/events{/privacy}","received_events_url":"https://api.github.com/users/leesf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-31T23:54:56Z","updated_at":"2020-07-31T23:54:56Z","author_association":"CONTRIBUTOR","body":"closing this one in favor of https://github.com/apache/hudi/pull/1726","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667430846/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667433436","html_url":"https://github.com/apache/hudi/issues/1875#issuecomment-667433436","issue_url":"https://api.github.com/repos/apache/hudi/issues/1875","id":667433436,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzQzMzQzNg==","user":{"login":"FelixKJose","id":22526075,"node_id":"MDQ6VXNlcjIyNTI2MDc1","avatar_url":"https://avatars.githubusercontent.com/u/22526075?v=4","gravatar_id":"","url":"https://api.github.com/users/FelixKJose","html_url":"https://github.com/FelixKJose","followers_url":"https://api.github.com/users/FelixKJose/followers","following_url":"https://api.github.com/users/FelixKJose/following{/other_user}","gists_url":"https://api.github.com/users/FelixKJose/gists{/gist_id}","starred_url":"https://api.github.com/users/FelixKJose/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FelixKJose/subscriptions","organizations_url":"https://api.github.com/users/FelixKJose/orgs","repos_url":"https://api.github.com/users/FelixKJose/repos","events_url":"https://api.github.com/users/FelixKJose/events{/privacy}","received_events_url":"https://api.github.com/users/FelixKJose/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-01T00:08:19Z","updated_at":"2020-08-01T00:08:19Z","author_association":"NONE","body":"I have got this issue resolved. \r\n**Solution:**\r\n\r\nIssue was that the JDBC connector/driver jar was missing in Spark Classpath of the EMR master node. Even though EMR documentation says that  MySQL driver is already present in the cluster, its under  /usr/share/java/ folder but not under /usr/lib/spark/jars. \r\nSo to resolve this issue you have to copy the connector jar to spark class path as follows:\r\n`sudo cp /usr/share/java/mariadb-connector-java.jar /usr/lib/spark/jars`\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667433436/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667433589","html_url":"https://github.com/apache/hudi/issues/1875#issuecomment-667433589","issue_url":"https://api.github.com/repos/apache/hudi/issues/1875","id":667433589,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzQzMzU4OQ==","user":{"login":"FelixKJose","id":22526075,"node_id":"MDQ6VXNlcjIyNTI2MDc1","avatar_url":"https://avatars.githubusercontent.com/u/22526075?v=4","gravatar_id":"","url":"https://api.github.com/users/FelixKJose","html_url":"https://github.com/FelixKJose","followers_url":"https://api.github.com/users/FelixKJose/followers","following_url":"https://api.github.com/users/FelixKJose/following{/other_user}","gists_url":"https://api.github.com/users/FelixKJose/gists{/gist_id}","starred_url":"https://api.github.com/users/FelixKJose/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FelixKJose/subscriptions","organizations_url":"https://api.github.com/users/FelixKJose/orgs","repos_url":"https://api.github.com/users/FelixKJose/repos","events_url":"https://api.github.com/users/FelixKJose/events{/privacy}","received_events_url":"https://api.github.com/users/FelixKJose/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-01T00:09:08Z","updated_at":"2020-08-01T00:09:08Z","author_association":"NONE","body":"@bvaradar How can I mark this issue as resolved?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667433589/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667458092","html_url":"https://github.com/apache/hudi/pull/1884#issuecomment-667458092","issue_url":"https://api.github.com/repos/apache/hudi/issues/1884","id":667458092,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzQ1ODA5Mg==","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-01T02:57:54Z","updated_at":"2020-08-01T02:57:54Z","author_association":"MEMBER","body":"@yanghua rebased and resolved conflicts. thanks","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667458092/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667465216","html_url":"https://github.com/apache/hudi/issues/1890#issuecomment-667465216","issue_url":"https://api.github.com/repos/apache/hudi/issues/1890","id":667465216,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzQ2NTIxNg==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-01T04:09:26Z","updated_at":"2020-08-01T05:42:43Z","author_association":"MEMBER","body":"This issue happened to me again. Now the cause could be narrowed down.\r\nWhen the log file was larger than `HoodieStorageConfig.LOGFILE_SIZE_MAX_BYTES`(1GB in default), the log file will be split into two files and the total size of the two log files is larger than 2GB. When loading these two splits, this issue happened. \r\n~~My guess was the serializer has been reset after loading the first file~~ Created a ticket to track this https://issues.apache.org/jira/browse/HUDI-1141\r\nEDIT: Looks like this could be an integer overflow issue. https://github.com/apache/hudi/blame/master/hudi-common/src/main/java/org/apache/hudi/common/util/collection/DiskBasedMap.java#L354\r\n`Integer.MAXVALUE` is ~2GB. The file size fields in the relevant classes are all `Integer`.\r\nIn my test, some log groups are larger than 2GB, so the smaller log file group is fine but large ones were failing. \r\n@bvaradar What do you think? Should we fix this or we should just avoid having such a large log? \r\nThis kind of large log file is unusual because I was just stress-testing the merging.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667465216/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667466216","html_url":"https://github.com/apache/hudi/issues/1895#issuecomment-667466216","issue_url":"https://api.github.com/repos/apache/hudi/issues/1895","id":667466216,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzQ2NjIxNg==","user":{"login":"zherenyu831","id":52404525,"node_id":"MDQ6VXNlcjUyNDA0NTI1","avatar_url":"https://avatars.githubusercontent.com/u/52404525?v=4","gravatar_id":"","url":"https://api.github.com/users/zherenyu831","html_url":"https://github.com/zherenyu831","followers_url":"https://api.github.com/users/zherenyu831/followers","following_url":"https://api.github.com/users/zherenyu831/following{/other_user}","gists_url":"https://api.github.com/users/zherenyu831/gists{/gist_id}","starred_url":"https://api.github.com/users/zherenyu831/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zherenyu831/subscriptions","organizations_url":"https://api.github.com/users/zherenyu831/orgs","repos_url":"https://api.github.com/users/zherenyu831/repos","events_url":"https://api.github.com/users/zherenyu831/events{/privacy}","received_events_url":"https://api.github.com/users/zherenyu831/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-01T04:20:06Z","updated_at":"2020-08-01T04:20:06Z","author_association":"CONTRIBUTOR","body":"@FelixKJose We also faced same problem before, our solution is convert TIMESTAMP to DOUBLE before upsert/insert, which will like `1596255542.123` MILLIS will be the `.123` ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667466216/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667466538","html_url":"https://github.com/apache/hudi/pull/1848#issuecomment-667466538","issue_url":"https://api.github.com/repos/apache/hudi/issues/1848","id":667466538,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzQ2NjUzOA==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-01T04:23:06Z","updated_at":"2020-08-01T04:23:06Z","author_association":"MEMBER","body":"Tested on 100GB MOR table. A few partitions have 100% duplicate upsert log file, the other has parquet files only.\r\nFor parquet files only partitions, the `SNAPSHOT` query is as efficient as the `READ_OPTIMIZED` query. The file split with log files is expensive but is expected.\r\nFor one 50MB parquet file, the log file was ~1GB. Each file split has been loaded as one task.\r\nCount performance for 50MB parquet + 1GB log:\r\nmerge: 40s\r\nunmerge: 40s\r\nShow performance. Because data source V1 doesn't support `limit()`, so it will just scan the whole file.\r\nwithout column pruning: df_mor.show(10) took 40s\r\nwith column pruning: df_mor.select(\"_hoodie_commit_time\").show(10) took 27s\r\n@vinothchandar @umehrot2 @bvaradar ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667466538/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667502384","html_url":"https://github.com/apache/hudi/pull/1868#issuecomment-667502384","issue_url":"https://api.github.com/repos/apache/hudi/issues/1868","id":667502384,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzUwMjM4NA==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-01T09:25:13Z","updated_at":"2020-08-01T09:25:29Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/1868?src=pr&el=h1) Report\n> Merging [#1868](https://codecov.io/gh/apache/hudi/pull/1868?src=pr&el=desc) into [master](https://codecov.io/gh/apache/hudi/commit/5e7931b1f9d586a44bcfa13e21917b24d4f78596&el=desc) will **increase** coverage by `10.19%`.\n> The diff coverage is `91.30%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/1868/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/1868?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #1868       +/-   ##\n=============================================\n+ Coverage     46.39%   56.59%   +10.19%     \n- Complexity     2859     3573      +714     \n=============================================\n  Files           453      459        +6     \n  Lines         19440    19583      +143     \n  Branches       1953     1959        +6     \n=============================================\n+ Hits           9020    11083     +2063     \n+ Misses         9636     7754     -1882     \n+ Partials        784      746       -38     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| #hudicli | `69.53% <91.30%> (+39.40%)` | `1552.00 <6.00> (+943.00)` | |\n| #hudiclient | `79.25% <91.30%> (+52.88%)` | `1362.00 <6.00> (+943.00)` | |\n| #hudicommon | `55.07% <ø> (ø)` | `1518.00 <ø> (ø)` | |\n| #hudihadoopmr | `38.99% <ø> (ø)` | `163.00 <ø> (ø)` | |\n| #hudihivesync | `72.01% <ø> (-0.25%)` | `121.00 <ø> (ø)` | |\n| #hudispark | `49.24% <ø> (+<0.01%)` | `124.00 <ø> (+2.00)` | |\n| #huditimelineservice | `63.47% <ø> (ø)` | `47.00 <ø> (ø)` | |\n| #hudiutilities | `11.91% <ø> (-62.74%)` | `48.00 <ø> (-231.00)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/1868?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...he/hudi/table/action/commit/UpsertPartitioner.java](https://codecov.io/gh/apache/hudi/pull/1868/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvYWN0aW9uL2NvbW1pdC9VcHNlcnRQYXJ0aXRpb25lci5qYXZh) | `95.77% <85.71%> (+39.74%)` | `33.00 <1.00> (+17.00)` | |\n| [...ction/commit/InsertBucketCumulativeWeightPair.java](https://codecov.io/gh/apache/hudi/pull/1868/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvYWN0aW9uL2NvbW1pdC9JbnNlcnRCdWNrZXRDdW11bGF0aXZlV2VpZ2h0UGFpci5qYXZh) | `100.00% <100.00%> (ø)` | `5.00 <5.00> (?)` | |\n| [...a/org/apache/hudi/utilities/sources/RowSource.java](https://codecov.io/gh/apache/hudi/pull/1868/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUm93U291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [.../org/apache/hudi/utilities/sources/AvroSource.java](https://codecov.io/gh/apache/hudi/pull/1868/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [.../org/apache/hudi/utilities/sources/JsonSource.java](https://codecov.io/gh/apache/hudi/pull/1868/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvblNvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [...rg/apache/hudi/utilities/sources/CsvDFSSource.java](https://codecov.io/gh/apache/hudi/pull/1868/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQ3N2REZTU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-10.00%)` | |\n| [...g/apache/hudi/utilities/sources/JsonDFSSource.java](https://codecov.io/gh/apache/hudi/pull/1868/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkRGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [...apache/hudi/utilities/sources/JsonKafkaSource.java](https://codecov.io/gh/apache/hudi/pull/1868/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkthZmthU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-6.00%)` | |\n| [...pache/hudi/utilities/sources/ParquetDFSSource.java](https://codecov.io/gh/apache/hudi/pull/1868/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUGFycXVldERGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-5.00%)` | |\n| [...udi/utilities/schema/DelegatingSchemaProvider.java](https://codecov.io/gh/apache/hudi/pull/1868/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9EZWxlZ2F0aW5nU2NoZW1hUHJvdmlkZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-3.00%)` | |\n| ... and [151 more](https://codecov.io/gh/apache/hudi/pull/1868/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667502384/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667504257","html_url":"https://github.com/apache/hudi/issues/1586#issuecomment-667504257","issue_url":"https://api.github.com/repos/apache/hudi/issues/1586","id":667504257,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzUwNDI1Nw==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-01T09:39:40Z","updated_at":"2020-08-01T09:39:40Z","author_association":"CONTRIBUTOR","body":"https://www.baeldung.com/jcommander-parsing-command-line-parameters#separated-lists might be useful. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667504257/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667530374","html_url":"https://github.com/apache/hudi/pull/1810#issuecomment-667530374","issue_url":"https://api.github.com/repos/apache/hudi/issues/1810","id":667530374,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzUzMDM3NA==","user":{"login":"leesf","id":10128888,"node_id":"MDQ6VXNlcjEwMTI4ODg4","avatar_url":"https://avatars.githubusercontent.com/u/10128888?v=4","gravatar_id":"","url":"https://api.github.com/users/leesf","html_url":"https://github.com/leesf","followers_url":"https://api.github.com/users/leesf/followers","following_url":"https://api.github.com/users/leesf/following{/other_user}","gists_url":"https://api.github.com/users/leesf/gists{/gist_id}","starred_url":"https://api.github.com/users/leesf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leesf/subscriptions","organizations_url":"https://api.github.com/users/leesf/orgs","repos_url":"https://api.github.com/users/leesf/repos","events_url":"https://api.github.com/users/leesf/events{/privacy}","received_events_url":"https://api.github.com/users/leesf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-01T13:14:49Z","updated_at":"2020-08-01T13:14:49Z","author_association":"CONTRIBUTOR","body":"@lw309637554 would you please rebase and fix the conflicts.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667530374/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667553349","html_url":"https://github.com/apache/hudi/pull/1810#issuecomment-667553349","issue_url":"https://api.github.com/repos/apache/hudi/issues/1810","id":667553349,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzU1MzM0OQ==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-01T16:08:07Z","updated_at":"2020-08-01T16:08:07Z","author_association":"CONTRIBUTOR","body":"> @lw309637554 would you please rebase and fix the conflicts.\r\n\r\nokay, done","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667553349/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667559062","html_url":"https://github.com/apache/hudi/pull/1703#issuecomment-667559062","issue_url":"https://api.github.com/repos/apache/hudi/issues/1703","id":667559062,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzU1OTA2Mg==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-01T16:54:36Z","updated_at":"2020-08-01T16:54:36Z","author_association":"CONTRIBUTOR","body":"@kwondw : my bad. this one slipped out from my radar. Can you rebase and ping me once CI is green so that I can merge this PR. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667559062/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667596610","html_url":"https://github.com/apache/hudi/issues/1895#issuecomment-667596610","issue_url":"https://api.github.com/repos/apache/hudi/issues/1895","id":667596610,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzU5NjYxMA==","user":{"login":"FelixKJose","id":22526075,"node_id":"MDQ6VXNlcjIyNTI2MDc1","avatar_url":"https://avatars.githubusercontent.com/u/22526075?v=4","gravatar_id":"","url":"https://api.github.com/users/FelixKJose","html_url":"https://github.com/FelixKJose","followers_url":"https://api.github.com/users/FelixKJose/followers","following_url":"https://api.github.com/users/FelixKJose/following{/other_user}","gists_url":"https://api.github.com/users/FelixKJose/gists{/gist_id}","starred_url":"https://api.github.com/users/FelixKJose/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FelixKJose/subscriptions","organizations_url":"https://api.github.com/users/FelixKJose/orgs","repos_url":"https://api.github.com/users/FelixKJose/repos","events_url":"https://api.github.com/users/FelixKJose/events{/privacy}","received_events_url":"https://api.github.com/users/FelixKJose/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-01T22:49:41Z","updated_at":"2020-08-01T22:49:41Z","author_association":"NONE","body":"@zherenyu831 So you are saying Spark cannot store timestamp TIMESTAMP_MILLIS apart from this work around? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667596610/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667599251","html_url":"https://github.com/apache/hudi/pull/1898#issuecomment-667599251","issue_url":"https://api.github.com/repos/apache/hudi/issues/1898","id":667599251,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzU5OTI1MQ==","user":{"login":"sreeram26","id":6570704,"node_id":"MDQ6VXNlcjY1NzA3MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/6570704?v=4","gravatar_id":"","url":"https://api.github.com/users/sreeram26","html_url":"https://github.com/sreeram26","followers_url":"https://api.github.com/users/sreeram26/followers","following_url":"https://api.github.com/users/sreeram26/following{/other_user}","gists_url":"https://api.github.com/users/sreeram26/gists{/gist_id}","starred_url":"https://api.github.com/users/sreeram26/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sreeram26/subscriptions","organizations_url":"https://api.github.com/users/sreeram26/orgs","repos_url":"https://api.github.com/users/sreeram26/repos","events_url":"https://api.github.com/users/sreeram26/events{/privacy}","received_events_url":"https://api.github.com/users/sreeram26/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-01T23:21:27Z","updated_at":"2020-08-01T23:21:27Z","author_association":"CONTRIBUTOR","body":"Trying to fix the build failure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667599251/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667603415","html_url":"https://github.com/apache/hudi/issues/1895#issuecomment-667603415","issue_url":"https://api.github.com/repos/apache/hudi/issues/1895","id":667603415,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzYwMzQxNQ==","user":{"login":"FelixKJose","id":22526075,"node_id":"MDQ6VXNlcjIyNTI2MDc1","avatar_url":"https://avatars.githubusercontent.com/u/22526075?v=4","gravatar_id":"","url":"https://api.github.com/users/FelixKJose","html_url":"https://github.com/FelixKJose","followers_url":"https://api.github.com/users/FelixKJose/followers","following_url":"https://api.github.com/users/FelixKJose/following{/other_user}","gists_url":"https://api.github.com/users/FelixKJose/gists{/gist_id}","starred_url":"https://api.github.com/users/FelixKJose/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FelixKJose/subscriptions","organizations_url":"https://api.github.com/users/FelixKJose/orgs","repos_url":"https://api.github.com/users/FelixKJose/repos","events_url":"https://api.github.com/users/FelixKJose/events{/privacy}","received_events_url":"https://api.github.com/users/FelixKJose/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-02T00:11:53Z","updated_at":"2020-08-02T00:11:53Z","author_association":"NONE","body":"@umehrot2 @bhasudha @vinothchandar @bvaradar what do you think? Any advice?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667603415/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667615546","html_url":"https://github.com/apache/hudi/pull/1898#issuecomment-667615546","issue_url":"https://api.github.com/repos/apache/hudi/issues/1898","id":667615546,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzYxNTU0Ng==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-02T02:34:43Z","updated_at":"2020-08-02T02:34:43Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/1898?src=pr&el=h1) Report\n> Merging [#1898](https://codecov.io/gh/apache/hudi/pull/1898?src=pr&el=desc) into [master](https://codecov.io/gh/apache/hudi/commit/10e426879237b636f8b5913ac931dd7f8af8b817&el=desc) will **decrease** coverage by `0.08%`.\n> The diff coverage is `20.93%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/1898/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/1898?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #1898      +/-   ##\n============================================\n- Coverage     61.40%   61.31%   -0.09%     \n- Complexity     3800     3801       +1     \n============================================\n  Files           458      458              \n  Lines         19573    19612      +39     \n  Branches       1959     1988      +29     \n============================================\n+ Hits          12018    12025       +7     \n- Misses         6741     6743       +2     \n- Partials        814      844      +30     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| #hudicli | `69.48% <ø> (ø)` | `1547.00 <ø> (ø)` | |\n| #hudiclient | `79.21% <ø> (ø)` | `1357.00 <ø> (ø)` | |\n| #hudicommon | `55.07% <ø> (ø)` | `1518.00 <ø> (ø)` | |\n| #hudihadoopmr | `38.99% <ø> (ø)` | `163.00 <ø> (ø)` | |\n| #hudihivesync | `72.01% <ø> (ø)` | `121.00 <ø> (ø)` | |\n| #hudispark | `49.24% <ø> (ø)` | `124.00 <ø> (ø)` | |\n| #huditimelineservice | `63.47% <ø> (ø)` | `47.00 <ø> (ø)` | |\n| #hudiutilities | `72.72% <20.93%> (-1.41%)` | `281.00 <1.00> (+1.00)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/1898?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...i/utilities/deltastreamer/HoodieDeltaStreamer.java](https://codecov.io/gh/apache/hudi/pull/1898/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvSG9vZGllRGVsdGFTdHJlYW1lci5qYXZh) | `70.70% <20.93%> (-9.49%)` | `12.00 <1.00> (+1.00)` | :arrow_down: |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667615546/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667621120","html_url":"https://github.com/apache/hudi/pull/1899#issuecomment-667621120","issue_url":"https://api.github.com/repos/apache/hudi/issues/1899","id":667621120,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzYyMTEyMA==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-02T03:33:19Z","updated_at":"2020-08-02T03:33:19Z","author_association":"CONTRIBUTOR","body":"Hi @yanghua, please take a look when free :)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667621120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667621169","html_url":"https://github.com/apache/hudi/pull/1900#issuecomment-667621169","issue_url":"https://api.github.com/repos/apache/hudi/issues/1900","id":667621169,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzYyMTE2OQ==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-02T03:33:46Z","updated_at":"2020-08-02T03:33:46Z","author_association":"CONTRIBUTOR","body":"Hi @yanghua , please take a look when free :)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667621169/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667638178","html_url":"https://github.com/apache/hudi/issues/1895#issuecomment-667638178","issue_url":"https://api.github.com/repos/apache/hudi/issues/1895","id":667638178,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzYzODE3OA==","user":{"login":"zherenyu831","id":52404525,"node_id":"MDQ6VXNlcjUyNDA0NTI1","avatar_url":"https://avatars.githubusercontent.com/u/52404525?v=4","gravatar_id":"","url":"https://api.github.com/users/zherenyu831","html_url":"https://github.com/zherenyu831","followers_url":"https://api.github.com/users/zherenyu831/followers","following_url":"https://api.github.com/users/zherenyu831/following{/other_user}","gists_url":"https://api.github.com/users/zherenyu831/gists{/gist_id}","starred_url":"https://api.github.com/users/zherenyu831/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zherenyu831/subscriptions","organizations_url":"https://api.github.com/users/zherenyu831/orgs","repos_url":"https://api.github.com/users/zherenyu831/repos","events_url":"https://api.github.com/users/zherenyu831/events{/privacy}","received_events_url":"https://api.github.com/users/zherenyu831/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-02T07:07:25Z","updated_at":"2020-08-02T07:07:58Z","author_association":"CONTRIBUTOR","body":"@FelixKJose \r\n\r\n> @zherenyu831 So you are saying Spark cannot store timestamp TIMESTAMP_MILLIS apart from this work around?\r\n\r\nWe tried `spark.conf.set(\"spark.sql.parquet.outputTimestampType\", \"TIMESTAMP_MILLIS\")` \r\nbut not works, so we decided to use double type instead of timestamp type","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667638178/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667674515","html_url":"https://github.com/apache/hudi/pull/1900#issuecomment-667674515","issue_url":"https://api.github.com/repos/apache/hudi/issues/1900","id":667674515,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzY3NDUxNQ==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-02T13:31:48Z","updated_at":"2020-08-02T13:31:48Z","author_association":"CONTRIBUTOR","body":"> Hi @yanghua , please take a look when free :)\r\n\r\nThere is a conflict file. Pls resolve it then ping me. tks.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667674515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667675696","html_url":"https://github.com/apache/hudi/issues/1878#issuecomment-667675696","issue_url":"https://api.github.com/repos/apache/hudi/issues/1878","id":667675696,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzY3NTY5Ng==","user":{"login":"rubenssoto","id":36298331,"node_id":"MDQ6VXNlcjM2Mjk4MzMx","avatar_url":"https://avatars.githubusercontent.com/u/36298331?v=4","gravatar_id":"","url":"https://api.github.com/users/rubenssoto","html_url":"https://github.com/rubenssoto","followers_url":"https://api.github.com/users/rubenssoto/followers","following_url":"https://api.github.com/users/rubenssoto/following{/other_user}","gists_url":"https://api.github.com/users/rubenssoto/gists{/gist_id}","starred_url":"https://api.github.com/users/rubenssoto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rubenssoto/subscriptions","organizations_url":"https://api.github.com/users/rubenssoto/orgs","repos_url":"https://api.github.com/users/rubenssoto/repos","events_url":"https://api.github.com/users/rubenssoto/events{/privacy}","received_events_url":"https://api.github.com/users/rubenssoto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-02T13:42:15Z","updated_at":"2020-08-02T13:42:15Z","author_association":"NONE","body":"Bulk-insert do some deduplication?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667675696/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667681236","html_url":"https://github.com/apache/hudi/pull/1898#issuecomment-667681236","issue_url":"https://api.github.com/repos/apache/hudi/issues/1898","id":667681236,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzY4MTIzNg==","user":{"login":"sreeram26","id":6570704,"node_id":"MDQ6VXNlcjY1NzA3MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/6570704?v=4","gravatar_id":"","url":"https://api.github.com/users/sreeram26","html_url":"https://github.com/sreeram26","followers_url":"https://api.github.com/users/sreeram26/followers","following_url":"https://api.github.com/users/sreeram26/following{/other_user}","gists_url":"https://api.github.com/users/sreeram26/gists{/gist_id}","starred_url":"https://api.github.com/users/sreeram26/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sreeram26/subscriptions","organizations_url":"https://api.github.com/users/sreeram26/orgs","repos_url":"https://api.github.com/users/sreeram26/repos","events_url":"https://api.github.com/users/sreeram26/events{/privacy}","received_events_url":"https://api.github.com/users/sreeram26/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-02T14:30:51Z","updated_at":"2020-08-02T14:30:51Z","author_association":"CONTRIBUTOR","body":"Testing in docker \r\n\r\n```\r\nroot@adhoc-2:/opt# spark-submit \\\r\n>   --class org.apache.hudi.utilities.deltastreamer.HoodieDeltaStreamer $HUDI_UTILITIES_BUNDLE \\\r\n>   --table-type COPY_ON_WRITE \\\r\n>   --source-class org.apache.hudi.utilities.sources.JsonKafkaSource \\\r\n>   --source-ordering-field ts  \\\r\n>   --target-base-path /user/hive/warehouse/stock_ticks_cow \\\r\n>   --target-table stock_ticks_cow --props /var/demo/config/kafka-source.properties \\\r\n>   --schemaprovider-class org.apache.hudi.utilities.schema.FilebasedSchemaProvider \\\r\n>   --hoodie-conf hoodie.datasource.write.recordkey.field=key,symbol \\\r\n>   --hoodie-conf hoodie.datasource.write.keygenerator.class=org.apache.hudi.keygen.ComplexKeyGenerator\r\n\r\n0: jdbc:hive2://hiveserver:10000> select `_hoodie_record_key` from stock_ticks_cow where  symbol = 'GOOG';\r\n+-------------------------------------+--+\r\n|         _hoodie_record_key          |\r\n+-------------------------------------+--+\r\n| key:GOOG_2018-08-31 10,symbol:GOOG  |\r\n| key:GOOG_2018-08-31 09,symbol:GOOG  |\r\n+-------------------------------------+--+\r\n2 rows selected (0.302 seconds)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667681236/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667682599","html_url":"https://github.com/apache/hudi/pull/1900#issuecomment-667682599","issue_url":"https://api.github.com/repos/apache/hudi/issues/1900","id":667682599,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzY4MjU5OQ==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-02T14:41:43Z","updated_at":"2020-08-02T14:41:43Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/1900?src=pr&el=h1) Report\n> Merging [#1900](https://codecov.io/gh/apache/hudi/pull/1900?src=pr&el=desc) into [master](https://codecov.io/gh/apache/hudi/commit/30dcd5cf06c3f48bbdde1e18403ff7d0556ca511&el=desc) will **decrease** coverage by `0.69%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/1900/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/1900?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #1900      +/-   ##\n============================================\n- Coverage     61.38%   60.69%   -0.70%     \n+ Complexity     3799     3758      -41     \n============================================\n  Files           458      458              \n  Lines         19573    19573              \n  Branches       1959     1959              \n============================================\n- Hits          12015    11879     -136     \n- Misses         6744     6892     +148     \n+ Partials        814      802      -12     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| #hudicli | `67.63% <ø> (-1.86%)` | `1505.00 <ø> (-42.00)` | |\n| #hudiclient | `76.73% <ø> (-2.49%)` | `1315.00 <ø> (-42.00)` | |\n| #hudicommon | `55.07% <ø> (+0.04%)` | `1518.00 <ø> (+1.00)` | |\n| #hudihadoopmr | `38.99% <ø> (ø)` | `163.00 <ø> (ø)` | |\n| #hudihivesync | `72.01% <ø> (ø)` | `121.00 <ø> (ø)` | |\n| #hudispark | `49.24% <ø> (ø)` | `124.00 <ø> (ø)` | |\n| #huditimelineservice | `63.47% <ø> (ø)` | `47.00 <ø> (ø)` | |\n| #hudiutilities | `74.12% <ø> (ø)` | `280.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/1900?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...n/java/org/apache/hudi/index/hbase/HBaseIndex.java](https://codecov.io/gh/apache/hudi/pull/1900/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaW5kZXgvaGJhc2UvSEJhc2VJbmRleC5qYXZh) | `22.00% <0.00%> (-59.81%)` | `8.00% <0.00%> (-34.00%)` | |\n| [.../index/hbase/DefaultHBaseQPSResourceAllocator.java](https://codecov.io/gh/apache/hudi/pull/1900/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaW5kZXgvaGJhc2UvRGVmYXVsdEhCYXNlUVBTUmVzb3VyY2VBbGxvY2F0b3IuamF2YQ==) | `55.55% <0.00%> (-44.45%)` | `3.00% <0.00%> (-2.00%)` | |\n| [...org/apache/hudi/config/HoodieHBaseIndexConfig.java](https://codecov.io/gh/apache/hudi/pull/1900/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29uZmlnL0hvb2RpZUhCYXNlSW5kZXhDb25maWcuamF2YQ==) | `39.18% <0.00%> (-5.41%)` | `2.00% <0.00%> (ø%)` | |\n| [...java/org/apache/hudi/config/HoodieWriteConfig.java](https://codecov.io/gh/apache/hudi/pull/1900/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29uZmlnL0hvb2RpZVdyaXRlQ29uZmlnLmphdmE=) | `77.25% <0.00%> (-1.45%)` | `88.00% <0.00%> (-4.00%)` | |\n| [...java/org/apache/hudi/client/HoodieWriteClient.java](https://codecov.io/gh/apache/hudi/pull/1900/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpZW50L0hvb2RpZVdyaXRlQ2xpZW50LmphdmE=) | `75.86% <0.00%> (-0.87%)` | `46.00% <0.00%> (-1.00%)` | |\n| [...ache/hudi/common/fs/inline/InMemoryFileSystem.java](https://codecov.io/gh/apache/hudi/pull/1900/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2ZzL2lubGluZS9Jbk1lbW9yeUZpbGVTeXN0ZW0uamF2YQ==) | `89.65% <0.00%> (+10.34%)` | `16.00% <0.00%> (+1.00%)` | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667682599/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667685860","html_url":"https://github.com/apache/hudi/pull/1900#issuecomment-667685860","issue_url":"https://api.github.com/repos/apache/hudi/issues/1900","id":667685860,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzY4NTg2MA==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-02T15:09:08Z","updated_at":"2020-08-02T15:09:08Z","author_association":"CONTRIBUTOR","body":"> > Hi @yanghua , please take a look when free :)\r\n> \r\n> There is a conflict file. Pls resolve it then ping me. tks.\r\n\r\n@yanghua thanks for your review, it is ready now","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667685860/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667721158","html_url":"https://github.com/apache/hudi/pull/1149#issuecomment-667721158","issue_url":"https://api.github.com/repos/apache/hudi/issues/1149","id":667721158,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzcyMTE1OA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-02T20:30:36Z","updated_at":"2020-08-02T20:30:36Z","author_association":"CONTRIBUTOR","body":"I thought of adding an empty interface called UserDefinedBulkInsertPartitioner, but then BulkInsertPartitioner itself has a new method  boolean arePartitionRecordsSorted(); So, anyways, existing users will have to make code changes to give implementation to this method. So, not sure if there will be benefit adding an empty UserDefinedBulkInsertPartitioner interface extending from BulkInsertPartitioner. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667721158/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667751541","html_url":"https://github.com/apache/hudi/pull/1772#issuecomment-667751541","issue_url":"https://api.github.com/repos/apache/hudi/issues/1772","id":667751541,"node_id":"MDEyOklzc3VlQ29tbWVudDY2Nzc1MTU0MQ==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-03T00:58:17Z","updated_at":"2020-08-03T00:58:17Z","author_association":"CONTRIBUTOR","body":"@hddong You should fix these conflict files.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667751541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667762743","html_url":"https://github.com/apache/hudi/pull/1903#issuecomment-667762743","issue_url":"https://api.github.com/repos/apache/hudi/issues/1903","id":667762743,"node_id":"MDEyOklzc3VlQ29tbWVudDY2Nzc2Mjc0Mw==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-03T01:53:23Z","updated_at":"2024-11-17T10:21:02Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/hudi/pull/1903?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\nAll modified and coverable lines are covered by tests :white_check_mark:\n> Project coverage is 60.29%. Comparing base [(`30dcd5c`)](https://app.codecov.io/gh/apache/hudi/commit/30dcd5cf06c3f48bbdde1e18403ff7d0556ca511?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) to head [(`4f7a435`)](https://app.codecov.io/gh/apache/hudi/commit/4f7a435790cadb57278f97f1b9a111acffb895d3?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n> Report is 4782 commits behind head on master.\n\n<details><summary>Additional details and impacted files</summary>\n\n\n[![Impacted file tree graph](https://app.codecov.io/gh/apache/hudi/pull/1903/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)](https://app.codecov.io/gh/apache/hudi/pull/1903?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #1903      +/-   ##\n============================================\n- Coverage     61.38%   60.29%   -1.10%     \n+ Complexity     3799     3637     -162     \n============================================\n  Files           458      448      -10     \n  Lines         19573    18912     -661     \n  Branches       1959     1881      -78     \n============================================\n- Hits          12015    11403     -612     \n- Misses         6744     6754      +10     \n+ Partials        814      755      -59     \n```\n\n| [Flag](https://app.codecov.io/gh/apache/hudi/pull/1903/flags?src=pr&el=flags&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [hudicli](https://app.codecov.io/gh/apache/hudi/pull/1903/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `40.96% <ø> (ø)` | |\n| [hudiclient](https://app.codecov.io/gh/apache/hudi/pull/1903/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `76.73% <ø> (-2.49%)` | :arrow_down: |\n| [hudicommon](https://app.codecov.io/gh/apache/hudi/pull/1903/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `55.07% <ø> (+0.04%)` | :arrow_up: |\n| [hudihadoopmr](https://app.codecov.io/gh/apache/hudi/pull/1903/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `38.99% <ø> (ø)` | |\n| [hudihivesync](https://app.codecov.io/gh/apache/hudi/pull/1903/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `?` | |\n| [hudispark](https://app.codecov.io/gh/apache/hudi/pull/1903/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `49.24% <ø> (ø)` | |\n| [huditimelineservice](https://app.codecov.io/gh/apache/hudi/pull/1903/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `63.47% <ø> (ø)` | |\n| [hudiutilities](https://app.codecov.io/gh/apache/hudi/pull/1903/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `74.12% <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n[see 16 files with indirect coverage changes](https://app.codecov.io/gh/apache/hudi/pull/1903/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667762743/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667773074","html_url":"https://github.com/apache/hudi/pull/1886#issuecomment-667773074","issue_url":"https://api.github.com/repos/apache/hudi/issues/1886","id":667773074,"node_id":"MDEyOklzc3VlQ29tbWVudDY2Nzc3MzA3NA==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-03T02:40:33Z","updated_at":"2020-08-03T02:40:33Z","author_association":"CONTRIBUTOR","body":"> \r\n> \r\n> @Mathieu1124 Thanks for your contribution. Left some comments you can consider. Did you test this feature in your local?\r\n\r\nYes, I tested  it in my local, it works good.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667773074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667773592","html_url":"https://github.com/apache/hudi/pull/1900#issuecomment-667773592","issue_url":"https://api.github.com/repos/apache/hudi/issues/1900","id":667773592,"node_id":"MDEyOklzc3VlQ29tbWVudDY2Nzc3MzU5Mg==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-03T02:43:07Z","updated_at":"2020-08-03T02:43:07Z","author_association":"CONTRIBUTOR","body":"> \r\n> \r\n> @Mathieu1124 Thanks for your contribution. Left some comments. IMO, you should add more information to the doc of the classes.\r\n\r\n@yanghua  Thanks for your detailed review, I will enrich and improve the docs.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667773592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667785088","html_url":"https://github.com/apache/hudi/pull/1810#issuecomment-667785088","issue_url":"https://api.github.com/repos/apache/hudi/issues/1810","id":667785088,"node_id":"MDEyOklzc3VlQ29tbWVudDY2Nzc4NTA4OA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-03T03:34:47Z","updated_at":"2020-08-03T03:34:47Z","author_association":"MEMBER","body":"This is on my plate for this week.  ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667785088/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667948739","html_url":"https://github.com/apache/hudi/pull/1888#issuecomment-667948739","issue_url":"https://api.github.com/repos/apache/hudi/issues/1888","id":667948739,"node_id":"MDEyOklzc3VlQ29tbWVudDY2Nzk0ODczOQ==","user":{"login":"sbernauer","id":29303194,"node_id":"MDQ6VXNlcjI5MzAzMTk0","avatar_url":"https://avatars.githubusercontent.com/u/29303194?v=4","gravatar_id":"","url":"https://api.github.com/users/sbernauer","html_url":"https://github.com/sbernauer","followers_url":"https://api.github.com/users/sbernauer/followers","following_url":"https://api.github.com/users/sbernauer/following{/other_user}","gists_url":"https://api.github.com/users/sbernauer/gists{/gist_id}","starred_url":"https://api.github.com/users/sbernauer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sbernauer/subscriptions","organizations_url":"https://api.github.com/users/sbernauer/orgs","repos_url":"https://api.github.com/users/sbernauer/repos","events_url":"https://api.github.com/users/sbernauer/events{/privacy}","received_events_url":"https://api.github.com/users/sbernauer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-03T10:37:07Z","updated_at":"2020-08-03T10:37:07Z","author_association":"CONTRIBUTOR","body":"Hi @bvaradar the test currently fails because of the EOFException from https://issues.apache.org/jira/browse/HUDI-1128","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667948739/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667986444","html_url":"https://github.com/apache/hudi/issues/764#issuecomment-667986444","issue_url":"https://api.github.com/repos/apache/hudi/issues/764","id":667986444,"node_id":"MDEyOklzc3VlQ29tbWVudDY2Nzk4NjQ0NA==","user":{"login":"mingujotemp","id":66587776,"node_id":"MDQ6VXNlcjY2NTg3Nzc2","avatar_url":"https://avatars.githubusercontent.com/u/66587776?v=4","gravatar_id":"","url":"https://api.github.com/users/mingujotemp","html_url":"https://github.com/mingujotemp","followers_url":"https://api.github.com/users/mingujotemp/followers","following_url":"https://api.github.com/users/mingujotemp/following{/other_user}","gists_url":"https://api.github.com/users/mingujotemp/gists{/gist_id}","starred_url":"https://api.github.com/users/mingujotemp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mingujotemp/subscriptions","organizations_url":"https://api.github.com/users/mingujotemp/orgs","repos_url":"https://api.github.com/users/mingujotemp/repos","events_url":"https://api.github.com/users/mingujotemp/events{/privacy}","received_events_url":"https://api.github.com/users/mingujotemp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-03T12:07:12Z","updated_at":"2020-08-03T12:07:12Z","author_association":"NONE","body":"experiencing exact same issue from using Hudi + Glue on EMR..","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667986444/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667986820","html_url":"https://github.com/apache/hudi/issues/764#issuecomment-667986820","issue_url":"https://api.github.com/repos/apache/hudi/issues/764","id":667986820,"node_id":"MDEyOklzc3VlQ29tbWVudDY2Nzk4NjgyMA==","user":{"login":"mingujotemp","id":66587776,"node_id":"MDQ6VXNlcjY2NTg3Nzc2","avatar_url":"https://avatars.githubusercontent.com/u/66587776?v=4","gravatar_id":"","url":"https://api.github.com/users/mingujotemp","html_url":"https://github.com/mingujotemp","followers_url":"https://api.github.com/users/mingujotemp/followers","following_url":"https://api.github.com/users/mingujotemp/following{/other_user}","gists_url":"https://api.github.com/users/mingujotemp/gists{/gist_id}","starred_url":"https://api.github.com/users/mingujotemp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mingujotemp/subscriptions","organizations_url":"https://api.github.com/users/mingujotemp/orgs","repos_url":"https://api.github.com/users/mingujotemp/repos","events_url":"https://api.github.com/users/mingujotemp/events{/privacy}","received_events_url":"https://api.github.com/users/mingujotemp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-03T12:08:03Z","updated_at":"2020-08-03T12:08:12Z","author_association":"NONE","body":"Here's my config\r\n```\r\nhudi_options = {\r\n  'hoodie.table.name': tableName,\r\n  'hoodie.datasource.write.recordkey.field': 'id',\r\n#   'hoodie.index.class': '',\r\n  'hoodie.index.type': 'GLOBAL_BLOOM',\r\n  'hoodie.datasource.write.partitionpath.field': 'partition_test',\r\n#   'hoodie.datasource.write.partitionpath.field': '',\r\n#   'hoodie.datasource.write.keygenerator.class': 'org.apache.hudi.NonpartitionedKeyGenerator',\r\n  'hoodie.datasource.write.table.name': tableName,\r\n  'hoodie.datasource.write.operation': 'upsert',\r\n  'hoodie.datasource.write.precombine.field': 'updated_at',\r\n  'hoodie.upsert.shuffle.parallelism': 2, \r\n  'hoodie.insert.shuffle.parallelism': 2,\r\n  'hoodie.bulkinsert.shuffle.parallelism': 10,\r\n  'hoodie.datasource.hive_sync.database': 'raw_staging',\r\n  'hoodie.datasource.hive_sync.table': tableName,\r\n  'hoodie.datasource.hive_sync.enable': 'true',\r\n  'hoodie.datasource.hive_sync.assume_date_partitioning': 'false',\r\n#   'hoodie.datasource.hive_sync.partition_extractor_class': 'org.apache.hudi.hive.NonPartitionedExtractor',\r\n  'hoodie.datasource.hive_sync.partition_fields': 'partition_test',\r\n  'hoodie.combine.before.insert': 'true',\r\n  'hoodie.combine.before.upsert': 'true',\r\n  'hoodie.consistency.check.enabled': 'true',\r\n  'hoodie.bloom.index.update.partition.path': 'true',\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/667986820/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/668059406","html_url":"https://github.com/apache/hudi/pull/1752#issuecomment-668059406","issue_url":"https://api.github.com/repos/apache/hudi/issues/1752","id":668059406,"node_id":"MDEyOklzc3VlQ29tbWVudDY2ODA1OTQwNg==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-03T14:38:26Z","updated_at":"2020-08-03T14:38:26Z","author_association":"CONTRIBUTOR","body":"All tests passes now. Will run this in a setup for few hours before merging. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/668059406/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/668061087","html_url":"https://github.com/apache/hudi/issues/1867#issuecomment-668061087","issue_url":"https://api.github.com/repos/apache/hudi/issues/1867","id":668061087,"node_id":"MDEyOklzc3VlQ29tbWVudDY2ODA2MTA4Nw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-03T14:41:49Z","updated_at":"2020-08-03T14:41:49Z","author_association":"CONTRIBUTOR","body":"@tsolanki95 : This would be best addressed by opening a ticket with EMR support. Closing this ticket. Please reopen if this is specific to hudi.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/668061087/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/668063037","html_url":"https://github.com/apache/hudi/issues/1889#issuecomment-668063037","issue_url":"https://api.github.com/repos/apache/hudi/issues/1889","id":668063037,"node_id":"MDEyOklzc3VlQ29tbWVudDY2ODA2MzAzNw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-03T14:45:25Z","updated_at":"2020-08-03T14:45:25Z","author_association":"CONTRIBUTOR","body":"Opened https://issues.apache.org/jira/browse/HUDI-1144 . I will land it today/tomorrow and will have it for 0.6.0 release","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/668063037/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]