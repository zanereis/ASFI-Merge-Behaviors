[{"url":"https://api.github.com/repos/apache/doris/issues/comments/584179072","html_url":"https://github.com/apache/doris/issues/2663#issuecomment-584179072","issue_url":"https://api.github.com/repos/apache/doris/issues/2663","id":584179072,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDE3OTA3Mg==","user":{"login":"imay","id":1249159,"node_id":"MDQ6VXNlcjEyNDkxNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1249159?v=4","gravatar_id":"","url":"https://api.github.com/users/imay","html_url":"https://github.com/imay","followers_url":"https://api.github.com/users/imay/followers","following_url":"https://api.github.com/users/imay/following{/other_user}","gists_url":"https://api.github.com/users/imay/gists{/gist_id}","starred_url":"https://api.github.com/users/imay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imay/subscriptions","organizations_url":"https://api.github.com/users/imay/orgs","repos_url":"https://api.github.com/users/imay/repos","events_url":"https://api.github.com/users/imay/events{/privacy}","received_events_url":"https://api.github.com/users/imay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T15:30:39Z","updated_at":"2020-02-10T15:30:39Z","author_association":"CONTRIBUTOR","body":"> I mean, for example, the origin partition(p1, p2) ranges are:\r\n> [0, 10)\r\n> [10, 20)\r\n> \r\n> And user create 2 temp partitions (tp1, tp2) with range:\r\n> [10, 11) and [15, 18)\r\n> \r\n> And user replace the (p1, p2) with (tp1, tp2), should we allow this operation?\r\n> \r\n> Two options. First, we check strictly. The range must be covered and equal. But if user really want to new range of tp1 and tp2? So the second option is, we only check for conflicts and not for coverage.\r\n\r\nOh I see.\r\n\r\nMy concern is that Doris should not allow the existence of holes at this time. If there is a hole, it may cause problems in other modules. So I am more inclined to check if it is covered. For the problem you said, then you need the user to create another 3 placeholders partition tp3 [0, 10), tp4 [11, 15), tp5 [18, 20). In this case, we can make the user operate successfully.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/584179072/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/584438238","html_url":"https://github.com/apache/doris/issues/2663#issuecomment-584438238","issue_url":"https://api.github.com/repos/apache/doris/issues/2663","id":584438238,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDQzODIzOA==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-11T01:16:53Z","updated_at":"2020-02-11T01:16:53Z","author_association":"CONTRIBUTOR","body":"> My concern is that Doris should not allow the existence of holes at this time. If there is a hole, it may cause problems in other modules. So I am more inclined to check if it is covered. For the problem you said, then you need the user to create another 3 placeholders partition tp3 [0, 10), tp4 [11, 15), tp5 [18, 20). In this case, we can make the user operate successfully.\r\n\r\nActually, Doris do support holes in partition range, and it will not cause any problem.(It is same as user drop a partition in the middle of the ranges).\r\n\r\nI think let user create the placeholders is not friendly, so may be we can give an option to user, the default behavior is to check strictly. But if user insist, he can set an option to allow replacing partitions with holes. ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/584438238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/584456355","html_url":"https://github.com/apache/doris/issues/2873#issuecomment-584456355","issue_url":"https://api.github.com/repos/apache/doris/issues/2873","id":584456355,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDQ1NjM1NQ==","user":{"login":"yangzhg","id":9098473,"node_id":"MDQ6VXNlcjkwOTg0NzM=","avatar_url":"https://avatars.githubusercontent.com/u/9098473?v=4","gravatar_id":"","url":"https://api.github.com/users/yangzhg","html_url":"https://github.com/yangzhg","followers_url":"https://api.github.com/users/yangzhg/followers","following_url":"https://api.github.com/users/yangzhg/following{/other_user}","gists_url":"https://api.github.com/users/yangzhg/gists{/gist_id}","starred_url":"https://api.github.com/users/yangzhg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yangzhg/subscriptions","organizations_url":"https://api.github.com/users/yangzhg/orgs","repos_url":"https://api.github.com/users/yangzhg/repos","events_url":"https://api.github.com/users/yangzhg/events{/privacy}","received_events_url":"https://api.github.com/users/yangzhg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-11T02:39:09Z","updated_at":"2020-02-11T02:39:09Z","author_association":"MEMBER","body":"the syntax you using is invalid the right syntax likes `ALTER TABLE table1 ADD  INDEX index_name (siteid, citycod)  [USING BITMAP] COMMENT 'balabala';`\r\nyou can refer to https://github.com/apache/incubator-doris/pull/2573","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/584456355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/584457567","html_url":"https://github.com/apache/doris/issues/2663#issuecomment-584457567","issue_url":"https://api.github.com/repos/apache/doris/issues/2663","id":584457567,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDQ1NzU2Nw==","user":{"login":"imay","id":1249159,"node_id":"MDQ6VXNlcjEyNDkxNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1249159?v=4","gravatar_id":"","url":"https://api.github.com/users/imay","html_url":"https://github.com/imay","followers_url":"https://api.github.com/users/imay/followers","following_url":"https://api.github.com/users/imay/following{/other_user}","gists_url":"https://api.github.com/users/imay/gists{/gist_id}","starred_url":"https://api.github.com/users/imay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imay/subscriptions","organizations_url":"https://api.github.com/users/imay/orgs","repos_url":"https://api.github.com/users/imay/repos","events_url":"https://api.github.com/users/imay/events{/privacy}","received_events_url":"https://api.github.com/users/imay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-11T02:46:26Z","updated_at":"2020-02-11T02:46:26Z","author_association":"CONTRIBUTOR","body":"> Actually, Doris do support holes in partition range, and it will not cause any problem.(It is same as user drop a partition in the middle of the ranges).\r\n\r\nIf it will work fine, it is OK to leave a hole after swap partitions.\r\n \r\n> I think let user create the placeholders is not friendly, so may be we can give an option to user, the default behavior is to check strictly. But if user insist, he can set an option to allow replacing partitions with holes.\r\n\r\nThat will be great.\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/584457567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/584472515","html_url":"https://github.com/apache/doris/pull/2879#issuecomment-584472515","issue_url":"https://api.github.com/repos/apache/doris/issues/2879","id":584472515,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDQ3MjUxNQ==","user":{"login":"HangyuanLiu","id":12147090,"node_id":"MDQ6VXNlcjEyMTQ3MDkw","avatar_url":"https://avatars.githubusercontent.com/u/12147090?v=4","gravatar_id":"","url":"https://api.github.com/users/HangyuanLiu","html_url":"https://github.com/HangyuanLiu","followers_url":"https://api.github.com/users/HangyuanLiu/followers","following_url":"https://api.github.com/users/HangyuanLiu/following{/other_user}","gists_url":"https://api.github.com/users/HangyuanLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/HangyuanLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HangyuanLiu/subscriptions","organizations_url":"https://api.github.com/users/HangyuanLiu/orgs","repos_url":"https://api.github.com/users/HangyuanLiu/repos","events_url":"https://api.github.com/users/HangyuanLiu/events{/privacy}","received_events_url":"https://api.github.com/users/HangyuanLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-11T04:19:21Z","updated_at":"2020-02-11T04:19:21Z","author_association":"CONTRIBUTOR","body":"你好，可以在文档中给出一些使用案例吗？比如在某个场景下，使用bitmap会大幅提高doris的性能。作为一个使用方，目前感觉不知如何介入这个优秀的功能。","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/584472515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/584583539","html_url":"https://github.com/apache/doris/pull/2879#issuecomment-584583539","issue_url":"https://api.github.com/repos/apache/doris/issues/2879","id":584583539,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDU4MzUzOQ==","user":{"login":"kangkaisen","id":9894906,"node_id":"MDQ6VXNlcjk4OTQ5MDY=","avatar_url":"https://avatars.githubusercontent.com/u/9894906?v=4","gravatar_id":"","url":"https://api.github.com/users/kangkaisen","html_url":"https://github.com/kangkaisen","followers_url":"https://api.github.com/users/kangkaisen/followers","following_url":"https://api.github.com/users/kangkaisen/following{/other_user}","gists_url":"https://api.github.com/users/kangkaisen/gists{/gist_id}","starred_url":"https://api.github.com/users/kangkaisen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kangkaisen/subscriptions","organizations_url":"https://api.github.com/users/kangkaisen/orgs","repos_url":"https://api.github.com/users/kangkaisen/repos","events_url":"https://api.github.com/users/kangkaisen/events{/privacy}","received_events_url":"https://api.github.com/users/kangkaisen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-11T11:06:52Z","updated_at":"2020-02-11T11:06:52Z","author_association":"CONTRIBUTOR","body":"> 你好，可以在文档中给出一些使用案例吗？比如在某个场景下，使用bitmap会大幅提高doris的性能。作为一个使用方，目前感觉不知如何介入这个优秀的功能。\r\n\r\n倒排索引主要用在多维过滤场景。\r\n\r\n这一点 可以加到 http://doris.apache.org/documentation/cn/getting-started/best-practice.html 这个文档里面。","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/584583539/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/584629275","html_url":"https://github.com/apache/doris/issues/2872#issuecomment-584629275","issue_url":"https://api.github.com/repos/apache/doris/issues/2872","id":584629275,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDYyOTI3NQ==","user":{"login":"gaodayue","id":1198446,"node_id":"MDQ6VXNlcjExOTg0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/1198446?v=4","gravatar_id":"","url":"https://api.github.com/users/gaodayue","html_url":"https://github.com/gaodayue","followers_url":"https://api.github.com/users/gaodayue/followers","following_url":"https://api.github.com/users/gaodayue/following{/other_user}","gists_url":"https://api.github.com/users/gaodayue/gists{/gist_id}","starred_url":"https://api.github.com/users/gaodayue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaodayue/subscriptions","organizations_url":"https://api.github.com/users/gaodayue/orgs","repos_url":"https://api.github.com/users/gaodayue/repos","events_url":"https://api.github.com/users/gaodayue/events{/privacy}","received_events_url":"https://api.github.com/users/gaodayue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-11T13:16:37Z","updated_at":"2020-02-11T13:16:37Z","author_association":"CONTRIBUTOR","body":"> What do you mean incompatible ? Why there is an incompatible feature on going?\r\n\r\nIt means incompatible with the segment_v2 file format in master branch. It's OK because segment_v2 is not released yet.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/584629275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/584996542","html_url":"https://github.com/apache/doris/issues/2885#issuecomment-584996542","issue_url":"https://api.github.com/repos/apache/doris/issues/2885","id":584996542,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDk5NjU0Mg==","user":{"login":"liutang123","id":17537020,"node_id":"MDQ6VXNlcjE3NTM3MDIw","avatar_url":"https://avatars.githubusercontent.com/u/17537020?v=4","gravatar_id":"","url":"https://api.github.com/users/liutang123","html_url":"https://github.com/liutang123","followers_url":"https://api.github.com/users/liutang123/followers","following_url":"https://api.github.com/users/liutang123/following{/other_user}","gists_url":"https://api.github.com/users/liutang123/gists{/gist_id}","starred_url":"https://api.github.com/users/liutang123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liutang123/subscriptions","organizations_url":"https://api.github.com/users/liutang123/orgs","repos_url":"https://api.github.com/users/liutang123/repos","events_url":"https://api.github.com/users/liutang123/events{/privacy}","received_events_url":"https://api.github.com/users/liutang123/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-12T02:57:11Z","updated_at":"2020-02-12T02:57:11Z","author_association":"CONTRIBUTOR","body":"cc @Seaven @kangpinghuang @imay @gaodayue ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/584996542/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/585084555","html_url":"https://github.com/apache/doris/pull/2847#issuecomment-585084555","issue_url":"https://api.github.com/repos/apache/doris/issues/2847","id":585084555,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTA4NDU1NQ==","user":{"login":"kangkaisen","id":9894906,"node_id":"MDQ6VXNlcjk4OTQ5MDY=","avatar_url":"https://avatars.githubusercontent.com/u/9894906?v=4","gravatar_id":"","url":"https://api.github.com/users/kangkaisen","html_url":"https://github.com/kangkaisen","followers_url":"https://api.github.com/users/kangkaisen/followers","following_url":"https://api.github.com/users/kangkaisen/following{/other_user}","gists_url":"https://api.github.com/users/kangkaisen/gists{/gist_id}","starred_url":"https://api.github.com/users/kangkaisen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kangkaisen/subscriptions","organizations_url":"https://api.github.com/users/kangkaisen/orgs","repos_url":"https://api.github.com/users/kangkaisen/repos","events_url":"https://api.github.com/users/kangkaisen/events{/privacy}","received_events_url":"https://api.github.com/users/kangkaisen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-12T08:15:11Z","updated_at":"2020-02-12T08:15:25Z","author_association":"CONTRIBUTOR","body":"1. Add `in_memory` property to partition level.\r\n2. Handle FE and BE `in_memory` meta consistency in `ReportHandler`.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/585084555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/585129943","html_url":"https://github.com/apache/doris/issues/199#issuecomment-585129943","issue_url":"https://api.github.com/repos/apache/doris/issues/199","id":585129943,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTEyOTk0Mw==","user":{"login":"clay4megtr","id":17047853,"node_id":"MDQ6VXNlcjE3MDQ3ODUz","avatar_url":"https://avatars.githubusercontent.com/u/17047853?v=4","gravatar_id":"","url":"https://api.github.com/users/clay4megtr","html_url":"https://github.com/clay4megtr","followers_url":"https://api.github.com/users/clay4megtr/followers","following_url":"https://api.github.com/users/clay4megtr/following{/other_user}","gists_url":"https://api.github.com/users/clay4megtr/gists{/gist_id}","starred_url":"https://api.github.com/users/clay4megtr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clay4megtr/subscriptions","organizations_url":"https://api.github.com/users/clay4megtr/orgs","repos_url":"https://api.github.com/users/clay4megtr/repos","events_url":"https://api.github.com/users/clay4megtr/events{/privacy}","received_events_url":"https://api.github.com/users/clay4megtr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-12T10:08:59Z","updated_at":"2020-02-12T10:08:59Z","author_association":"NONE","body":"@morningman  流式导入的接口指的是java  api的接口？？ wiki地址可以发下吗？？ ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/585129943/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/585130716","html_url":"https://github.com/apache/doris/issues/199#issuecomment-585130716","issue_url":"https://api.github.com/repos/apache/doris/issues/199","id":585130716,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTEzMDcxNg==","user":{"login":"clay4megtr","id":17047853,"node_id":"MDQ6VXNlcjE3MDQ3ODUz","avatar_url":"https://avatars.githubusercontent.com/u/17047853?v=4","gravatar_id":"","url":"https://api.github.com/users/clay4megtr","html_url":"https://github.com/clay4megtr","followers_url":"https://api.github.com/users/clay4megtr/followers","following_url":"https://api.github.com/users/clay4megtr/following{/other_user}","gists_url":"https://api.github.com/users/clay4megtr/gists{/gist_id}","starred_url":"https://api.github.com/users/clay4megtr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clay4megtr/subscriptions","organizations_url":"https://api.github.com/users/clay4megtr/orgs","repos_url":"https://api.github.com/users/clay4megtr/repos","events_url":"https://api.github.com/users/clay4megtr/events{/privacy}","received_events_url":"https://api.github.com/users/clay4megtr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-12T10:10:40Z","updated_at":"2020-02-12T10:10:40Z","author_association":"NONE","body":"@saga1015   我也在做canal+mq的方式做增量导入，请教一下，你们用的哪种方式导入的呀","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/585130716/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/585205876","html_url":"https://github.com/apache/doris/issues/199#issuecomment-585205876","issue_url":"https://api.github.com/repos/apache/doris/issues/199","id":585205876,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTIwNTg3Ng==","user":{"login":"HangyuanLiu","id":12147090,"node_id":"MDQ6VXNlcjEyMTQ3MDkw","avatar_url":"https://avatars.githubusercontent.com/u/12147090?v=4","gravatar_id":"","url":"https://api.github.com/users/HangyuanLiu","html_url":"https://github.com/HangyuanLiu","followers_url":"https://api.github.com/users/HangyuanLiu/followers","following_url":"https://api.github.com/users/HangyuanLiu/following{/other_user}","gists_url":"https://api.github.com/users/HangyuanLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/HangyuanLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HangyuanLiu/subscriptions","organizations_url":"https://api.github.com/users/HangyuanLiu/orgs","repos_url":"https://api.github.com/users/HangyuanLiu/repos","events_url":"https://api.github.com/users/HangyuanLiu/events{/privacy}","received_events_url":"https://api.github.com/users/HangyuanLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-12T13:31:10Z","updated_at":"2020-02-12T13:31:10Z","author_association":"CONTRIBUTOR","body":"> @saga1015 我也在做canal+mq的方式做增量导入，请教一下，你们用的哪种方式导入的呀\r\n\r\n有kafka load ,可直接从kafka 中读取数据：http://doris.incubator.apache.org/documentation/cn/administrator-guide/load-data/routine-load-manual.html\r\n\r\n> @morningman 流式导入的接口指的是java api的接口？？ wiki地址可以发下吗？？\r\n\r\nhttps://github.com/apache/incubator-doris/tree/master/samples/stream_load/java","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/585205876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/585522781","html_url":"https://github.com/apache/doris/pull/2847#issuecomment-585522781","issue_url":"https://api.github.com/repos/apache/doris/issues/2847","id":585522781,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTUyMjc4MQ==","user":{"login":"kangkaisen","id":9894906,"node_id":"MDQ6VXNlcjk4OTQ5MDY=","avatar_url":"https://avatars.githubusercontent.com/u/9894906?v=4","gravatar_id":"","url":"https://api.github.com/users/kangkaisen","html_url":"https://github.com/kangkaisen","followers_url":"https://api.github.com/users/kangkaisen/followers","following_url":"https://api.github.com/users/kangkaisen/following{/other_user}","gists_url":"https://api.github.com/users/kangkaisen/gists{/gist_id}","starred_url":"https://api.github.com/users/kangkaisen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kangkaisen/subscriptions","organizations_url":"https://api.github.com/users/kangkaisen/orgs","repos_url":"https://api.github.com/users/kangkaisen/repos","events_url":"https://api.github.com/users/kangkaisen/events{/privacy}","received_events_url":"https://api.github.com/users/kangkaisen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-13T02:47:22Z","updated_at":"2020-02-13T02:47:22Z","author_association":"CONTRIBUTOR","body":"> LGTM.\r\n> The report process is inefficient, may be we should optimize it later.\r\n\r\nYes. I agree with you. I also considered this point. I think we can handle `SetTabletInMemory` once an hour even once a day, if which has a performance issue.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/585522781/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/585568499","html_url":"https://github.com/apache/doris/pull/2890#issuecomment-585568499","issue_url":"https://api.github.com/repos/apache/doris/issues/2890","id":585568499,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTU2ODQ5OQ==","user":{"login":"kangkaisen","id":9894906,"node_id":"MDQ6VXNlcjk4OTQ5MDY=","avatar_url":"https://avatars.githubusercontent.com/u/9894906?v=4","gravatar_id":"","url":"https://api.github.com/users/kangkaisen","html_url":"https://github.com/kangkaisen","followers_url":"https://api.github.com/users/kangkaisen/followers","following_url":"https://api.github.com/users/kangkaisen/following{/other_user}","gists_url":"https://api.github.com/users/kangkaisen/gists{/gist_id}","starred_url":"https://api.github.com/users/kangkaisen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kangkaisen/subscriptions","organizations_url":"https://api.github.com/users/kangkaisen/orgs","repos_url":"https://api.github.com/users/kangkaisen/repos","events_url":"https://api.github.com/users/kangkaisen/events{/privacy}","received_events_url":"https://api.github.com/users/kangkaisen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-13T06:11:20Z","updated_at":"2020-02-13T06:11:20Z","author_association":"CONTRIBUTOR","body":"Update the PR:\r\nfor compaction, schema_change, check_sum: we don't use page cache\r\nfor query and config::disable_storage_page_cache is false, we use page cache","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/585568499/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/585751181","html_url":"https://github.com/apache/doris/pull/2777#issuecomment-585751181","issue_url":"https://api.github.com/repos/apache/doris/issues/2777","id":585751181,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTc1MTE4MQ==","user":{"login":"WingsGo","id":22497357,"node_id":"MDQ6VXNlcjIyNDk3MzU3","avatar_url":"https://avatars.githubusercontent.com/u/22497357?v=4","gravatar_id":"","url":"https://api.github.com/users/WingsGo","html_url":"https://github.com/WingsGo","followers_url":"https://api.github.com/users/WingsGo/followers","following_url":"https://api.github.com/users/WingsGo/following{/other_user}","gists_url":"https://api.github.com/users/WingsGo/gists{/gist_id}","starred_url":"https://api.github.com/users/WingsGo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WingsGo/subscriptions","organizations_url":"https://api.github.com/users/WingsGo/orgs","repos_url":"https://api.github.com/users/WingsGo/repos","events_url":"https://api.github.com/users/WingsGo/events{/privacy}","received_events_url":"https://api.github.com/users/WingsGo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-13T13:21:54Z","updated_at":"2020-02-13T13:21:54Z","author_association":"CONTRIBUTOR","body":"@imay  @morningman  @chaoyli  Plz review this PR~","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/585751181/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/585758880","html_url":"https://github.com/apache/doris/issues/2896#issuecomment-585758880","issue_url":"https://api.github.com/repos/apache/doris/issues/2896","id":585758880,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTc1ODg4MA==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-13T13:41:04Z","updated_at":"2020-02-13T13:44:53Z","author_association":"CONTRIBUTOR","body":"This ThreadPool have three features.\r\n1. Using a token mechanism to receive tasks.\r\n    In Doris, tasks are submitted into ThreadPool without group.\r\n    If a task in one group should be handled serially, it will stall all tasks in ThreadPool.\r\n    For example, MemTableFlush tasks belong to different tablets can be flushed concurrently\r\n    and tasks belongs one tablet should be flushed serially.\r\n    So we need a token mechanism to divide tasks into groups. \r\n\r\n2. Support set min_threads and max_threads in ThreadPool.\r\n    Now, Doris will start all threads in ThreadPool. It is not efficiently.\r\n    We should start threads as little as possible if have no tasks. \r\n    At peek time, ThreadPool can expand threads up to max_threads.\r\n\r\n3. Better trace to resource usage of any thread than C++ library.\r\n     All threads in ThreadPool are in black box. Resource usage in this ThreadPool is not clear.\r\n    New thread implementation should handle this question.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/585758880/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/585760983","html_url":"https://github.com/apache/doris/pull/2895#issuecomment-585760983","issue_url":"https://api.github.com/repos/apache/doris/issues/2895","id":585760983,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTc2MDk4Mw==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-13T13:46:08Z","updated_at":"2020-02-13T13:55:20Z","author_association":"CONTRIBUTOR","body":"#2896 ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/585760983/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/585763911","html_url":"https://github.com/apache/doris/pull/2895#issuecomment-585763911","issue_url":"https://api.github.com/repos/apache/doris/issues/2895","id":585763911,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTc2MzkxMQ==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-13T13:52:34Z","updated_at":"2020-02-13T14:11:55Z","author_association":"CONTRIBUTOR","body":"This patch imports many basis class.\r\n\r\n1. scoped_refptr\r\n    scoped_refptr is used to replace std::shared_ptr,  is generally faster and smaller.\r\n    - **_advantage_**\r\n      -  only requires a single allocation, and ref count is on the same cache line as the object\r\n      - the pointer only requires 8 bytes (since the ref count is within the object)\r\n      -  you can manually increase or decrease reference counts when more control is required\r\n      - you can convert from a raw pointer back to a scoped_refptr safely without worrying about double freeing\r\n      - since we control the implementation, we can implement features, such as debug builds that capture the stack trace of every referent to help debug leaks.\r\n    - **_disadvantage_**\r\n      - the referred-to object must inherit from RefCounted\r\n      - does not support the weak_ptr use cases\r\n2. MonoTime/MonoDelta\r\n    MonoTime: The MonoTime represents a particular point in time, relative to some fixed but unspecified reference point.\r\n    MonoDelta: The MonoDelta class represents an elapsed duration of time, the delta between two MonoTime instances.\r\n3. CountDownLatch\r\n     This is a C++ implementation of the Java CountDownLatch\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/585763911/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/585766207","html_url":"https://github.com/apache/doris/pull/2895#issuecomment-585766207","issue_url":"https://api.github.com/repos/apache/doris/issues/2895","id":585766207,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTc2NjIwNw==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-13T13:57:48Z","updated_at":"2020-02-13T13:59:06Z","author_association":"CONTRIBUTOR","body":"Thread pool design point:\r\nAll tasks submitted directly to the thread pool enter a FIFO queue and are\r\ndispatched to a worker thread when one becomes free. Tasks may also be\r\nsubmitted via ThreadPoolTokens. The token wait() and shutdown() functions\r\ncan then be used to block on logical groups of tasks.\r\n\r\nA token operates in one of two ExecutionModes, determined at token\r\nconstruction time:\r\n1. SERIAL: submitted tasks are run one at a time.\r\n2. CONCURRENT: submitted tasks may be run in parallel. This isn't unlike\r\n    tasks submitted without a token, but the logical grouping that tokens\r\n    impart can be useful when a pool is shared by many contexts (e.g. to\r\n    safely shut down one context, to derive context-specific metrics, etc.).\r\n\r\nTasks submitted without a token or via ExecutionMode::CONCURRENT tokens are\r\nprocessed in FIFO order. On the other hand, ExecutionMode::SERIAL tokens are\r\nprocessed in a round-robin fashion, one task at a time. This prevents them\r\nfrom starving one another. However, tokenless (and CONCURRENT token-based)\r\ntasks can starve SERIAL token-based tasks.\r\n\r\n```\r\nUsage Example:\r\nstd::unique_ptr<ThreadPool> thread_pool;\r\nCHECK_OK(\r\n      ThreadPoolBuilder(\"my_pool\")\r\n            .set_min_threads(0)\r\n            .set_max_threads(5)\r\n            .set_max_queue_size(10)\r\n            .set_idle_timeout(MonoDelta::FromMilliseconds(2000))\r\n            .build(&thread_pool));\r\n     thread_pool->submit(shared_ptr<Runnable>(new Task()));\r\n```","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/585766207/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/585767725","html_url":"https://github.com/apache/doris/pull/2895#issuecomment-585767725","issue_url":"https://api.github.com/repos/apache/doris/issues/2895","id":585767725,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTc2NzcyNQ==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-13T14:01:03Z","updated_at":"2020-02-13T14:01:03Z","author_association":"CONTRIBUTOR","body":"Thread design point:\r\n1. It is a thin wrapper around pthread that can register itself with the singleton ThreadMgr\r\n(a private class implemented in thread.cpp entirely, which tracks all live threads so\r\nthat they may be monitored via the debug webpages). This class has a limited subset of\r\nboost::thread's API. Construction is almost the same, but clients must supply a\r\ncategory and a name for each thread so that they can be identified in the debug web\r\nUI. Otherwise, join() is the only supported method from boost::thread.\r\n2. Each Thread object knows its operating system thread ID (TID), which can be used to\r\nattach debuggers to specific threads, to retrieve resource-usage statistics from the\r\noperating system, and to assign threads to resource control groups.\r\n3. Threads are shared objects, but in a degenerate way. They may only have\r\nup to two referents: the caller that created the thread (parent), and\r\nthe thread itself (child). Moreover, the only two methods to mutate state\r\n(join() and the destructor) are constrained: the child may not join() on\r\nitself, and the destructor is only run when there's one referent left.\r\nThese constraints allow us to access thread internals without any locks.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/585767725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/585807638","html_url":"https://github.com/apache/doris/pull/2895#issuecomment-585807638","issue_url":"https://api.github.com/repos/apache/doris/issues/2895","id":585807638,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTgwNzYzOA==","user":{"login":"lingbin","id":3818369,"node_id":"MDQ6VXNlcjM4MTgzNjk=","avatar_url":"https://avatars.githubusercontent.com/u/3818369?v=4","gravatar_id":"","url":"https://api.github.com/users/lingbin","html_url":"https://github.com/lingbin","followers_url":"https://api.github.com/users/lingbin/followers","following_url":"https://api.github.com/users/lingbin/following{/other_user}","gists_url":"https://api.github.com/users/lingbin/gists{/gist_id}","starred_url":"https://api.github.com/users/lingbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lingbin/subscriptions","organizations_url":"https://api.github.com/users/lingbin/orgs","repos_url":"https://api.github.com/users/lingbin/repos","events_url":"https://api.github.com/users/lingbin/events{/privacy}","received_events_url":"https://api.github.com/users/lingbin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-13T15:14:42Z","updated_at":"2020-02-13T15:14:42Z","author_association":"CONTRIBUTOR","body":"Could you please split this PR into multiple commits?\r\nFor example:\r\n1. import some gutil\r\n2. import some util\r\n3. import new thread-pool\r\n4. some refactor on current code","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/585807638/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/586089869","html_url":"https://github.com/apache/doris/issues/2896#issuecomment-586089869","issue_url":"https://api.github.com/repos/apache/doris/issues/2896","id":586089869,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjA4OTg2OQ==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-14T04:15:42Z","updated_at":"2020-02-16T13:47:05Z","author_association":"CONTRIBUTOR","body":"1. import scoped_refptr from gutil #2899 [done]\r\n2. import ConditionVariable from Kudu #2905\r\n3. import ThreadPool #2915","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/586089869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/586094212","html_url":"https://github.com/apache/doris/pull/2899#issuecomment-586094212","issue_url":"https://api.github.com/repos/apache/doris/issues/2899","id":586094212,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjA5NDIxMg==","user":{"login":"lingbin","id":3818369,"node_id":"MDQ6VXNlcjM4MTgzNjk=","avatar_url":"https://avatars.githubusercontent.com/u/3818369?v=4","gravatar_id":"","url":"https://api.github.com/users/lingbin","html_url":"https://github.com/lingbin","followers_url":"https://api.github.com/users/lingbin/followers","following_url":"https://api.github.com/users/lingbin/following{/other_user}","gists_url":"https://api.github.com/users/lingbin/gists{/gist_id}","starred_url":"https://api.github.com/users/lingbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lingbin/subscriptions","organizations_url":"https://api.github.com/users/lingbin/orgs","repos_url":"https://api.github.com/users/lingbin/repos","events_url":"https://api.github.com/users/lingbin/events{/privacy}","received_events_url":"https://api.github.com/users/lingbin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-14T04:37:20Z","updated_at":"2020-02-14T04:37:20Z","author_association":"CONTRIBUTOR","body":"I checked the code of kudu. Almost all tools in `gutil` do not have UT. It may be because these utils have been thoroughly tested(maybe in Chromium project) and because these tool classes have been widely used, so I feel it is ok to import them without UTs.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/586094212/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/586149630","html_url":"https://github.com/apache/doris/pull/2905#issuecomment-586149630","issue_url":"https://api.github.com/repos/apache/doris/issues/2905","id":586149630,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjE0OTYzMA==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-14T08:22:59Z","updated_at":"2020-02-14T08:22:59Z","author_association":"CONTRIBUTOR","body":"related issue is #2896","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/586149630/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/586573867","html_url":"https://github.com/apache/doris/pull/2911#issuecomment-586573867","issue_url":"https://api.github.com/repos/apache/doris/issues/2911","id":586573867,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjU3Mzg2Nw==","user":{"login":"HangyuanLiu","id":12147090,"node_id":"MDQ6VXNlcjEyMTQ3MDkw","avatar_url":"https://avatars.githubusercontent.com/u/12147090?v=4","gravatar_id":"","url":"https://api.github.com/users/HangyuanLiu","html_url":"https://github.com/HangyuanLiu","followers_url":"https://api.github.com/users/HangyuanLiu/followers","following_url":"https://api.github.com/users/HangyuanLiu/following{/other_user}","gists_url":"https://api.github.com/users/HangyuanLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/HangyuanLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HangyuanLiu/subscriptions","organizations_url":"https://api.github.com/users/HangyuanLiu/orgs","repos_url":"https://api.github.com/users/HangyuanLiu/repos","events_url":"https://api.github.com/users/HangyuanLiu/events{/privacy}","received_events_url":"https://api.github.com/users/HangyuanLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-15T09:55:54Z","updated_at":"2020-02-15T09:56:08Z","author_association":"CONTRIBUTOR","body":"Please Resolve confilicts ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/586573867/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/586704100","html_url":"https://github.com/apache/doris/pull/2911#issuecomment-586704100","issue_url":"https://api.github.com/repos/apache/doris/issues/2911","id":586704100,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjcwNDEwMA==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-16T13:05:19Z","updated_at":"2020-02-16T13:05:19Z","author_association":"CONTRIBUTOR","body":"Is it necessary to implement this function? Why not using `length(str) == 0`?","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/586704100/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/586779930","html_url":"https://github.com/apache/doris/issues/2910#issuecomment-586779930","issue_url":"https://api.github.com/repos/apache/doris/issues/2910","id":586779930,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Njc3OTkzMA==","user":{"login":"trueeyu","id":11428742,"node_id":"MDQ6VXNlcjExNDI4NzQy","avatar_url":"https://avatars.githubusercontent.com/u/11428742?v=4","gravatar_id":"","url":"https://api.github.com/users/trueeyu","html_url":"https://github.com/trueeyu","followers_url":"https://api.github.com/users/trueeyu/followers","following_url":"https://api.github.com/users/trueeyu/following{/other_user}","gists_url":"https://api.github.com/users/trueeyu/gists{/gist_id}","starred_url":"https://api.github.com/users/trueeyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trueeyu/subscriptions","organizations_url":"https://api.github.com/users/trueeyu/orgs","repos_url":"https://api.github.com/users/trueeyu/repos","events_url":"https://api.github.com/users/trueeyu/events{/privacy}","received_events_url":"https://api.github.com/users/trueeyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-17T01:12:05Z","updated_at":"2020-02-17T01:12:05Z","author_association":"CONTRIBUTOR","body":"Let me handle it.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/586779930/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/586792476","html_url":"https://github.com/apache/doris/pull/2911#issuecomment-586792476","issue_url":"https://api.github.com/repos/apache/doris/issues/2911","id":586792476,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Njc5MjQ3Ng==","user":{"login":"HangyuanLiu","id":12147090,"node_id":"MDQ6VXNlcjEyMTQ3MDkw","avatar_url":"https://avatars.githubusercontent.com/u/12147090?v=4","gravatar_id":"","url":"https://api.github.com/users/HangyuanLiu","html_url":"https://github.com/HangyuanLiu","followers_url":"https://api.github.com/users/HangyuanLiu/followers","following_url":"https://api.github.com/users/HangyuanLiu/following{/other_user}","gists_url":"https://api.github.com/users/HangyuanLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/HangyuanLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HangyuanLiu/subscriptions","organizations_url":"https://api.github.com/users/HangyuanLiu/orgs","repos_url":"https://api.github.com/users/HangyuanLiu/repos","events_url":"https://api.github.com/users/HangyuanLiu/events{/privacy}","received_events_url":"https://api.github.com/users/HangyuanLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-17T02:31:15Z","updated_at":"2020-02-17T02:31:15Z","author_association":"CONTRIBUTOR","body":"> Is it necessary to implement this function? Why not using `length(str) == 0`?\r\n@morningman \r\nI think is necessary ,length(null) == null and empty(null) == 1. And empty(array) is necessary when we implement complex type","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/586792476/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/586809826","html_url":"https://github.com/apache/doris/pull/2902#issuecomment-586809826","issue_url":"https://api.github.com/repos/apache/doris/issues/2902","id":586809826,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjgwOTgyNg==","user":{"login":"kangkaisen","id":9894906,"node_id":"MDQ6VXNlcjk4OTQ5MDY=","avatar_url":"https://avatars.githubusercontent.com/u/9894906?v=4","gravatar_id":"","url":"https://api.github.com/users/kangkaisen","html_url":"https://github.com/kangkaisen","followers_url":"https://api.github.com/users/kangkaisen/followers","following_url":"https://api.github.com/users/kangkaisen/following{/other_user}","gists_url":"https://api.github.com/users/kangkaisen/gists{/gist_id}","starred_url":"https://api.github.com/users/kangkaisen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kangkaisen/subscriptions","organizations_url":"https://api.github.com/users/kangkaisen/orgs","repos_url":"https://api.github.com/users/kangkaisen/repos","events_url":"https://api.github.com/users/kangkaisen/events{/privacy}","received_events_url":"https://api.github.com/users/kangkaisen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-17T04:13:53Z","updated_at":"2020-02-17T04:19:13Z","author_association":"CONTRIBUTOR","body":"> How about adding a unit test for `bitmap_union_count()` window function?\r\n\r\nI will add a UT for `bitmap_get_value`, But If we want to test a window function, I think we need to test `analytic_eval_node`, but we don't have UT for `analytic_eval_node`. I think we could test window function in integration testing in the future.\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/586809826/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/586827030","html_url":"https://github.com/apache/doris/pull/2847#issuecomment-586827030","issue_url":"https://api.github.com/repos/apache/doris/issues/2847","id":586827030,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjgyNzAzMA==","user":{"login":"kangkaisen","id":9894906,"node_id":"MDQ6VXNlcjk4OTQ5MDY=","avatar_url":"https://avatars.githubusercontent.com/u/9894906?v=4","gravatar_id":"","url":"https://api.github.com/users/kangkaisen","html_url":"https://github.com/kangkaisen","followers_url":"https://api.github.com/users/kangkaisen/followers","following_url":"https://api.github.com/users/kangkaisen/following{/other_user}","gists_url":"https://api.github.com/users/kangkaisen/gists{/gist_id}","starred_url":"https://api.github.com/users/kangkaisen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kangkaisen/subscriptions","organizations_url":"https://api.github.com/users/kangkaisen/orgs","repos_url":"https://api.github.com/users/kangkaisen/repos","events_url":"https://api.github.com/users/kangkaisen/events{/privacy}","received_events_url":"https://api.github.com/users/kangkaisen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-17T05:43:10Z","updated_at":"2020-02-17T05:43:10Z","author_association":"CONTRIBUTOR","body":"**Update the PR to Fix conflict only, not change from morningman last review.**","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/586827030/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/586973267","html_url":"https://github.com/apache/doris/issues/2916#issuecomment-586973267","issue_url":"https://api.github.com/repos/apache/doris/issues/2916","id":586973267,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Njk3MzI2Nw==","user":{"login":"wuyunfeng","id":5183061,"node_id":"MDQ6VXNlcjUxODMwNjE=","avatar_url":"https://avatars.githubusercontent.com/u/5183061?v=4","gravatar_id":"","url":"https://api.github.com/users/wuyunfeng","html_url":"https://github.com/wuyunfeng","followers_url":"https://api.github.com/users/wuyunfeng/followers","following_url":"https://api.github.com/users/wuyunfeng/following{/other_user}","gists_url":"https://api.github.com/users/wuyunfeng/gists{/gist_id}","starred_url":"https://api.github.com/users/wuyunfeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wuyunfeng/subscriptions","organizations_url":"https://api.github.com/users/wuyunfeng/orgs","repos_url":"https://api.github.com/users/wuyunfeng/repos","events_url":"https://api.github.com/users/wuyunfeng/events{/privacy}","received_events_url":"https://api.github.com/users/wuyunfeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-17T12:33:40Z","updated_at":"2020-02-17T12:33:40Z","author_association":"MEMBER","body":"@hexian55   hi,  whether  port `9201` is http port？","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/586973267/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/586974693","html_url":"https://github.com/apache/doris/issues/2893#issuecomment-586974693","issue_url":"https://api.github.com/repos/apache/doris/issues/2893","id":586974693,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Njk3NDY5Mw==","user":{"login":"imay","id":1249159,"node_id":"MDQ6VXNlcjEyNDkxNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1249159?v=4","gravatar_id":"","url":"https://api.github.com/users/imay","html_url":"https://github.com/imay","followers_url":"https://api.github.com/users/imay/followers","following_url":"https://api.github.com/users/imay/following{/other_user}","gists_url":"https://api.github.com/users/imay/gists{/gist_id}","starred_url":"https://api.github.com/users/imay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imay/subscriptions","organizations_url":"https://api.github.com/users/imay/orgs","repos_url":"https://api.github.com/users/imay/repos","events_url":"https://api.github.com/users/imay/events{/privacy}","received_events_url":"https://api.github.com/users/imay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-17T12:37:47Z","updated_at":"2020-02-17T12:37:47Z","author_association":"CONTRIBUTOR","body":"My concern is that even if this is done, it may not solve the problem. I think we need to ensure that all references should be completed before the object is released. Otherwise, the destruction is successful here, and another thread may refer to the object that has already been destroyed, which may cause crash","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/586974693/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/587005666","html_url":"https://github.com/apache/doris/pull/2911#issuecomment-587005666","issue_url":"https://api.github.com/repos/apache/doris/issues/2911","id":587005666,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NzAwNTY2Ng==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-17T13:56:52Z","updated_at":"2020-02-17T13:56:52Z","author_association":"CONTRIBUTOR","body":"> I think is necessary ,length(null) == null and empty(null) == 1. And empty(array) is necessary when we implement complex type\r\n\r\nso maybe `null_or_empty` is better? like `Strings.isNullOrEmpty(xxx)` in Guava lib ?","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/587005666/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/587007075","html_url":"https://github.com/apache/doris/issues/2916#issuecomment-587007075","issue_url":"https://api.github.com/repos/apache/doris/issues/2916","id":587007075,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NzAwNzA3NQ==","user":{"login":"hexian55","id":16074700,"node_id":"MDQ6VXNlcjE2MDc0NzAw","avatar_url":"https://avatars.githubusercontent.com/u/16074700?v=4","gravatar_id":"","url":"https://api.github.com/users/hexian55","html_url":"https://github.com/hexian55","followers_url":"https://api.github.com/users/hexian55/followers","following_url":"https://api.github.com/users/hexian55/following{/other_user}","gists_url":"https://api.github.com/users/hexian55/gists{/gist_id}","starred_url":"https://api.github.com/users/hexian55/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hexian55/subscriptions","organizations_url":"https://api.github.com/users/hexian55/orgs","repos_url":"https://api.github.com/users/hexian55/repos","events_url":"https://api.github.com/users/hexian55/events{/privacy}","received_events_url":"https://api.github.com/users/hexian55/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-17T14:00:20Z","updated_at":"2020-02-17T14:00:20Z","author_association":"CONTRIBUTOR","body":"Of course, if the address is wrong or the index does not exist, the error message is not like this","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/587007075/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/587024102","html_url":"https://github.com/apache/doris/issues/2916#issuecomment-587024102","issue_url":"https://api.github.com/repos/apache/doris/issues/2916","id":587024102,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NzAyNDEwMg==","user":{"login":"wuyunfeng","id":5183061,"node_id":"MDQ6VXNlcjUxODMwNjE=","avatar_url":"https://avatars.githubusercontent.com/u/5183061?v=4","gravatar_id":"","url":"https://api.github.com/users/wuyunfeng","html_url":"https://github.com/wuyunfeng","followers_url":"https://api.github.com/users/wuyunfeng/followers","following_url":"https://api.github.com/users/wuyunfeng/following{/other_user}","gists_url":"https://api.github.com/users/wuyunfeng/gists{/gist_id}","starred_url":"https://api.github.com/users/wuyunfeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wuyunfeng/subscriptions","organizations_url":"https://api.github.com/users/wuyunfeng/orgs","repos_url":"https://api.github.com/users/wuyunfeng/repos","events_url":"https://api.github.com/users/wuyunfeng/events{/privacy}","received_events_url":"https://api.github.com/users/wuyunfeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-17T14:38:48Z","updated_at":"2020-02-17T14:54:33Z","author_association":"MEMBER","body":"1. Can you provide the `sql` you executed against the ES Table?  This Internal `Privoxy` Error  is so confused.\r\n2. Another way, can you see the log of your ES  cluster (node which the shard of the index resides in) when you send `sql` for this ES external table?  \r\n3. By the way, the `hosts` you provided is a LB(load balance) or a proxy server for ES Cluster , or VPN settings? Can you query the ES cluster directly?","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/587024102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/587246903","html_url":"https://github.com/apache/doris/pull/2925#issuecomment-587246903","issue_url":"https://api.github.com/repos/apache/doris/issues/2925","id":587246903,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NzI0NjkwMw==","user":{"login":"wutiangan","id":6271078,"node_id":"MDQ6VXNlcjYyNzEwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/6271078?v=4","gravatar_id":"","url":"https://api.github.com/users/wutiangan","html_url":"https://github.com/wutiangan","followers_url":"https://api.github.com/users/wutiangan/followers","following_url":"https://api.github.com/users/wutiangan/following{/other_user}","gists_url":"https://api.github.com/users/wutiangan/gists{/gist_id}","starred_url":"https://api.github.com/users/wutiangan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wutiangan/subscriptions","organizations_url":"https://api.github.com/users/wutiangan/orgs","repos_url":"https://api.github.com/users/wutiangan/repos","events_url":"https://api.github.com/users/wutiangan/events{/privacy}","received_events_url":"https://api.github.com/users/wutiangan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T02:42:06Z","updated_at":"2020-02-18T02:42:06Z","author_association":"CONTRIBUTOR","body":"fix bug: Error of exporting double type data to hdfs (#2924) ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/587246903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/587248686","html_url":"https://github.com/apache/doris/pull/2928#issuecomment-587248686","issue_url":"https://api.github.com/repos/apache/doris/issues/2928","id":587248686,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NzI0ODY4Ng==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T02:51:10Z","updated_at":"2020-02-18T02:51:10Z","author_association":"CONTRIBUTOR","body":"#2928 ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/587248686/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/587249112","html_url":"https://github.com/apache/doris/pull/2902#issuecomment-587249112","issue_url":"https://api.github.com/repos/apache/doris/issues/2902","id":587249112,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NzI0OTExMg==","user":{"login":"kangkaisen","id":9894906,"node_id":"MDQ6VXNlcjk4OTQ5MDY=","avatar_url":"https://avatars.githubusercontent.com/u/9894906?v=4","gravatar_id":"","url":"https://api.github.com/users/kangkaisen","html_url":"https://github.com/kangkaisen","followers_url":"https://api.github.com/users/kangkaisen/followers","following_url":"https://api.github.com/users/kangkaisen/following{/other_user}","gists_url":"https://api.github.com/users/kangkaisen/gists{/gist_id}","starred_url":"https://api.github.com/users/kangkaisen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kangkaisen/subscriptions","organizations_url":"https://api.github.com/users/kangkaisen/orgs","repos_url":"https://api.github.com/users/kangkaisen/repos","events_url":"https://api.github.com/users/kangkaisen/events{/privacy}","received_events_url":"https://api.github.com/users/kangkaisen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T02:53:17Z","updated_at":"2020-02-18T02:53:17Z","author_association":"CONTRIBUTOR","body":"Update, only fix the conflict.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/587249112/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/587258256","html_url":"https://github.com/apache/doris/issues/2916#issuecomment-587258256","issue_url":"https://api.github.com/repos/apache/doris/issues/2916","id":587258256,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NzI1ODI1Ng==","user":{"login":"hexian55","id":16074700,"node_id":"MDQ6VXNlcjE2MDc0NzAw","avatar_url":"https://avatars.githubusercontent.com/u/16074700?v=4","gravatar_id":"","url":"https://api.github.com/users/hexian55","html_url":"https://github.com/hexian55","followers_url":"https://api.github.com/users/hexian55/followers","following_url":"https://api.github.com/users/hexian55/following{/other_user}","gists_url":"https://api.github.com/users/hexian55/gists{/gist_id}","starred_url":"https://api.github.com/users/hexian55/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hexian55/subscriptions","organizations_url":"https://api.github.com/users/hexian55/orgs","repos_url":"https://api.github.com/users/hexian55/repos","events_url":"https://api.github.com/users/hexian55/events{/privacy}","received_events_url":"https://api.github.com/users/hexian55/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T03:12:57Z","updated_at":"2020-02-18T03:13:22Z","author_association":"CONTRIBUTOR","body":"1.executed any sql,has same as the error log.\r\n3.es host is es node host,not LB  proxy or vpn\r\n\r\n\r\nif i create new table, can see fe node logs:\r\n2020-02-18 11:06:22,877 INFO 4556 [EsStateStore.registerTable():77] register a new table [Table [id=11040, name=doris_table_test4, type=ELASTICSEARCH]] to sync list\r\n2020-02-18 11:06:22,877 INFO 4556 [Catalog.createEsTable():3642] successfully create tabledoris_table_test4 with id 11040\r\n\r\nnext to executed select sql,  es cluster not has any error or warn log.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/587258256/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/587260325","html_url":"https://github.com/apache/doris/pull/2925#issuecomment-587260325","issue_url":"https://api.github.com/repos/apache/doris/issues/2925","id":587260325,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NzI2MDMyNQ==","user":{"login":"kangpinghuang","id":40422952,"node_id":"MDQ6VXNlcjQwNDIyOTUy","avatar_url":"https://avatars.githubusercontent.com/u/40422952?v=4","gravatar_id":"","url":"https://api.github.com/users/kangpinghuang","html_url":"https://github.com/kangpinghuang","followers_url":"https://api.github.com/users/kangpinghuang/followers","following_url":"https://api.github.com/users/kangpinghuang/following{/other_user}","gists_url":"https://api.github.com/users/kangpinghuang/gists{/gist_id}","starred_url":"https://api.github.com/users/kangpinghuang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kangpinghuang/subscriptions","organizations_url":"https://api.github.com/users/kangpinghuang/orgs","repos_url":"https://api.github.com/users/kangpinghuang/repos","events_url":"https://api.github.com/users/kangpinghuang/events{/privacy}","received_events_url":"https://api.github.com/users/kangpinghuang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T03:23:07Z","updated_at":"2020-02-18T03:23:07Z","author_association":"CONTRIBUTOR","body":"pls add some description for this pr and add some comment for this modification.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/587260325/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/587260329","html_url":"https://github.com/apache/doris/pull/2911#issuecomment-587260329","issue_url":"https://api.github.com/repos/apache/doris/issues/2911","id":587260329,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NzI2MDMyOQ==","user":{"login":"HangyuanLiu","id":12147090,"node_id":"MDQ6VXNlcjEyMTQ3MDkw","avatar_url":"https://avatars.githubusercontent.com/u/12147090?v=4","gravatar_id":"","url":"https://api.github.com/users/HangyuanLiu","html_url":"https://github.com/HangyuanLiu","followers_url":"https://api.github.com/users/HangyuanLiu/followers","following_url":"https://api.github.com/users/HangyuanLiu/following{/other_user}","gists_url":"https://api.github.com/users/HangyuanLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/HangyuanLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HangyuanLiu/subscriptions","organizations_url":"https://api.github.com/users/HangyuanLiu/orgs","repos_url":"https://api.github.com/users/HangyuanLiu/repos","events_url":"https://api.github.com/users/HangyuanLiu/events{/privacy}","received_events_url":"https://api.github.com/users/HangyuanLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T03:23:07Z","updated_at":"2020-02-18T03:23:07Z","author_association":"CONTRIBUTOR","body":"> > I think is necessary ,length(null) == null and empty(null) == 1. And empty(array) is necessary when we implement complex type\r\n> \r\n> so maybe `null_or_empty` is better? like `Strings.isNullOrEmpty(xxx)` in Guava lib ?\r\n\r\nOK","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/587260329/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/587268035","html_url":"https://github.com/apache/doris/issues/2893#issuecomment-587268035","issue_url":"https://api.github.com/repos/apache/doris/issues/2893","id":587268035,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NzI2ODAzNQ==","user":{"login":"vagetablechicken","id":24697960,"node_id":"MDQ6VXNlcjI0Njk3OTYw","avatar_url":"https://avatars.githubusercontent.com/u/24697960?v=4","gravatar_id":"","url":"https://api.github.com/users/vagetablechicken","html_url":"https://github.com/vagetablechicken","followers_url":"https://api.github.com/users/vagetablechicken/followers","following_url":"https://api.github.com/users/vagetablechicken/following{/other_user}","gists_url":"https://api.github.com/users/vagetablechicken/gists{/gist_id}","starred_url":"https://api.github.com/users/vagetablechicken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vagetablechicken/subscriptions","organizations_url":"https://api.github.com/users/vagetablechicken/orgs","repos_url":"https://api.github.com/users/vagetablechicken/repos","events_url":"https://api.github.com/users/vagetablechicken/events{/privacy}","received_events_url":"https://api.github.com/users/vagetablechicken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T04:04:52Z","updated_at":"2020-02-18T04:08:56Z","author_association":"CONTRIBUTOR","body":"Yes, this method may not help. But it can avoid coredump when we restart be. Receiving too much coredump alert sms is too painful.\r\n😂 \r\nOK, let's consider the more perfect method.\r\n\r\nStack trace is\r\n```\r\nCheck failure stack trace: ***\r\n@ 0x22f3e5d google::LogMessage::Fail()\r\n@ 0x22f5ce4 google::LogMessage::SendToLog()\r\n@ 0x22f3984 google::LogMessage::Flush()\r\n@ 0x22f6719 google::LogMessageFatal::~LogMessageFatal()\r\n@ 0xe9f09f doris::Condition::~Condition()\r\n@ 0x13a2d4d doris::TaskWorkerPool::~TaskWorkerPool()\r\n@ 0x13a2f71 doris::TaskWorkerPool::~TaskWorkerPool()\r\n@ 0x13a0b9b doris::AgentServer::~AgentServer()\r\n```\r\nThe thread created in TaskWorkerPool will be detached.\r\nhttps://github.com/apache/incubator-doris/blob/625411bd280270e1aa026a03632f3f7f6140653d/be/src/agent/task_worker_pool.cpp#L261\r\n\r\nAnd because of that, when the Condition is destroying, the work threads may still running.\r\nIf we want to ensure that all references should be completed before the object is released, we only have two choices:\r\n\r\n1. make threads joinable, waiting all threads finished in ~TaskWorkerPool() (p.s. it's similar with \"wait in PTHREAD_COND_DESTROY_WITH_LOG\" method. “wait in PTHREAD_COND_DESTROY_WITH_LOG” has a certain wait time, perhaps better.)\r\n1. interrupt the running threads in ~TaskWorkerPool()","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/587268035/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/587290329","html_url":"https://github.com/apache/doris/issues/2916#issuecomment-587290329","issue_url":"https://api.github.com/repos/apache/doris/issues/2916","id":587290329,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NzI5MDMyOQ==","user":{"login":"wuyunfeng","id":5183061,"node_id":"MDQ6VXNlcjUxODMwNjE=","avatar_url":"https://avatars.githubusercontent.com/u/5183061?v=4","gravatar_id":"","url":"https://api.github.com/users/wuyunfeng","html_url":"https://github.com/wuyunfeng","followers_url":"https://api.github.com/users/wuyunfeng/followers","following_url":"https://api.github.com/users/wuyunfeng/following{/other_user}","gists_url":"https://api.github.com/users/wuyunfeng/gists{/gist_id}","starred_url":"https://api.github.com/users/wuyunfeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wuyunfeng/subscriptions","organizations_url":"https://api.github.com/users/wuyunfeng/orgs","repos_url":"https://api.github.com/users/wuyunfeng/repos","events_url":"https://api.github.com/users/wuyunfeng/events{/privacy}","received_events_url":"https://api.github.com/users/wuyunfeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T05:50:30Z","updated_at":"2020-02-18T05:50:47Z","author_association":"MEMBER","body":"> next to executed select sql, es cluster not has any error or warn log.\r\n\r\nMaybe Elasticsearch cluster does not receive any request because of networking issue.\r\n\r\nCould you provide the `tcp packet` send to 9201 port which can obtained from `tcpdump -i {network card} src port 9201 or dst port 9201 -w doris_on_es.pcap`?","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/587290329/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/587312127","html_url":"https://github.com/apache/doris/issues/2916#issuecomment-587312127","issue_url":"https://api.github.com/repos/apache/doris/issues/2916","id":587312127,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NzMxMjEyNw==","user":{"login":"hexian55","id":16074700,"node_id":"MDQ6VXNlcjE2MDc0NzAw","avatar_url":"https://avatars.githubusercontent.com/u/16074700?v=4","gravatar_id":"","url":"https://api.github.com/users/hexian55","html_url":"https://github.com/hexian55","followers_url":"https://api.github.com/users/hexian55/followers","following_url":"https://api.github.com/users/hexian55/following{/other_user}","gists_url":"https://api.github.com/users/hexian55/gists{/gist_id}","starred_url":"https://api.github.com/users/hexian55/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hexian55/subscriptions","organizations_url":"https://api.github.com/users/hexian55/orgs","repos_url":"https://api.github.com/users/hexian55/repos","events_url":"https://api.github.com/users/hexian55/events{/privacy}","received_events_url":"https://api.github.com/users/hexian55/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T07:03:48Z","updated_at":"2020-02-18T07:03:48Z","author_association":"CONTRIBUTOR","body":"I'm sure it's not the ES cluster configuration and network problems.\r\nplease see my issue Description,if i set es Index does not exist,the error msg like this:\r\n\r\n2020-02-18 14:58:43,266 WARN 4691 [StmtExecutor.analyze():465] Analyze failed because\r\njava.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\n\tat java.util.ArrayList.rangeCheck(ArrayList.java:657) ~[?:1.8.0_242]\r\n\tat java.util.ArrayList.get(ArrayList.java:433) ~[?:1.8.0_242]\r\n\tat org.apache.doris.planner.EsScanNode.getShardLocations(EsScanNode.java:220) ~[palo-fe.jar:?]\r\n\tat org.apache.doris.planner.EsScanNode.finalize(EsScanNode.java:102) ~[palo-fe.jar:?]\r\n\tat org.apache.doris.planner.Planner.createPlanFragments(Planner.java:162) ~[palo-fe.jar:?]\r\n\tat org.apache.doris.planner.Planner.plan(Planner.java:78) ~[palo-fe.jar:?]\r\n\tat org.apache.doris.qe.StmtExecutor.analyze(StmtExecutor.java:453) [palo-fe.jar:?]\r\n\tat org.apache.doris.qe.StmtExecutor.execute(StmtExecutor.java:213) [palo-fe.jar:?]\r\n\tat org.apache.doris.qe.ConnectProcessor.handleQuery(ConnectProcessor.java:168) [palo-fe.jar:?]\r\n\tat org.apache.doris.qe.ConnectProcessor.dispatch(ConnectProcessor.java:259) [palo-fe.jar:?]\r\n\tat org.apache.doris.qe.ConnectProcessor.processOnce(ConnectProcessor.java:393) [palo-fe.jar:?]\r\n\tat org.apache.doris.qe.ConnectProcessor.loop(ConnectProcessor.java:403) [palo-fe.jar:?]\r\n\tat org.apache.doris.qe.ConnectScheduler$LoopHandler.run(ConnectScheduler.java:172) [palo-fe.jar:?]\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_242]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_242]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_242]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_242]\r\n\tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_242]","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/587312127/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/587332412","html_url":"https://github.com/apache/doris/pull/2931#issuecomment-587332412","issue_url":"https://api.github.com/repos/apache/doris/issues/2931","id":587332412,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NzMzMjQxMg==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T08:09:15Z","updated_at":"2020-02-18T08:09:15Z","author_association":"CONTRIBUTOR","body":"ThreadPool related issue #2896 ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/587332412/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/587446753","html_url":"https://github.com/apache/doris/issues/2936#issuecomment-587446753","issue_url":"https://api.github.com/repos/apache/doris/issues/2936","id":587446753,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NzQ0Njc1Mw==","user":{"login":"caiconghui","id":55968745,"node_id":"MDQ6VXNlcjU1OTY4NzQ1","avatar_url":"https://avatars.githubusercontent.com/u/55968745?v=4","gravatar_id":"","url":"https://api.github.com/users/caiconghui","html_url":"https://github.com/caiconghui","followers_url":"https://api.github.com/users/caiconghui/followers","following_url":"https://api.github.com/users/caiconghui/following{/other_user}","gists_url":"https://api.github.com/users/caiconghui/gists{/gist_id}","starred_url":"https://api.github.com/users/caiconghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caiconghui/subscriptions","organizations_url":"https://api.github.com/users/caiconghui/orgs","repos_url":"https://api.github.com/users/caiconghui/repos","events_url":"https://api.github.com/users/caiconghui/events{/privacy}","received_events_url":"https://api.github.com/users/caiconghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T12:56:11Z","updated_at":"2020-02-18T12:56:11Z","author_association":"CONTRIBUTOR","body":"#2935 ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/587446753/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/588043016","html_url":"https://github.com/apache/doris/issues/2932#issuecomment-588043016","issue_url":"https://api.github.com/repos/apache/doris/issues/2932","id":588043016,"node_id":"MDEyOklzc3VlQ29tbWVudDU4ODA0MzAxNg==","user":{"login":"kangkaisen","id":9894906,"node_id":"MDQ6VXNlcjk4OTQ5MDY=","avatar_url":"https://avatars.githubusercontent.com/u/9894906?v=4","gravatar_id":"","url":"https://api.github.com/users/kangkaisen","html_url":"https://github.com/kangkaisen","followers_url":"https://api.github.com/users/kangkaisen/followers","following_url":"https://api.github.com/users/kangkaisen/following{/other_user}","gists_url":"https://api.github.com/users/kangkaisen/gists{/gist_id}","starred_url":"https://api.github.com/users/kangkaisen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kangkaisen/subscriptions","organizations_url":"https://api.github.com/users/kangkaisen/orgs","repos_url":"https://api.github.com/users/kangkaisen/repos","events_url":"https://api.github.com/users/kangkaisen/events{/privacy}","received_events_url":"https://api.github.com/users/kangkaisen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-19T05:27:36Z","updated_at":"2020-02-19T05:27:36Z","author_association":"CONTRIBUTOR","body":"The logic chain is following:\r\n1. `date_format(if(, NULL, `dt`), '%Y%m%d')` as HASH_PARTITIONED exprs，which is not right, we should use Agg  intermediate materialized slot\r\n2. we don't use Agg  intermediate materialized slot as  HASH_PARTITIONED exprs, becasue\r\n```\r\n            // the parent fragment is partitioned on the grouping exprs;\r\n            // substitute grouping exprs to reference the *output* of the agg, not the input\r\n            partitionExprs = Expr.substituteList(partitionExprs,\r\n                    node.getAggInfo().getIntermediateSmap(), ctx_.getRootAnalyzer(), false);\r\n            parentPartition = DataPartition.hashPartitioned(partitionExprs);\r\n```\r\nthe partitionExprs substitute failed。\r\n3. partitionExprs substitute failed because partitionExprs  has a casttodate child,but agg info getIntermediateSmap has a cast in datetime child.\r\n4. The cast to date or cast to datetime child exist because `TupleIsNullPredicate` insert a `if` Expr.   we don't have `if date` fn, so Doris use `if int` Expr.\r\n5. the `date` in the `catstodate` depend on slot dt date type. the `datetime` in the `catstodatetime` depend on datetime arg type in `date_format` function.\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/588043016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/588043385","html_url":"https://github.com/apache/doris/issues/2932#issuecomment-588043385","issue_url":"https://api.github.com/repos/apache/doris/issues/2932","id":588043385,"node_id":"MDEyOklzc3VlQ29tbWVudDU4ODA0MzM4NQ==","user":{"login":"kangkaisen","id":9894906,"node_id":"MDQ6VXNlcjk4OTQ5MDY=","avatar_url":"https://avatars.githubusercontent.com/u/9894906?v=4","gravatar_id":"","url":"https://api.github.com/users/kangkaisen","html_url":"https://github.com/kangkaisen","followers_url":"https://api.github.com/users/kangkaisen/followers","following_url":"https://api.github.com/users/kangkaisen/following{/other_user}","gists_url":"https://api.github.com/users/kangkaisen/gists{/gist_id}","starred_url":"https://api.github.com/users/kangkaisen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kangkaisen/subscriptions","organizations_url":"https://api.github.com/users/kangkaisen/orgs","repos_url":"https://api.github.com/users/kangkaisen/repos","events_url":"https://api.github.com/users/kangkaisen/events{/privacy}","received_events_url":"https://api.github.com/users/kangkaisen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-19T05:29:20Z","updated_at":"2020-02-19T05:29:20Z","author_association":"CONTRIBUTOR","body":"**So we could fix this issue by make `if` fn support date type or make `date_format` fn support date type**","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/588043385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/588054993","html_url":"https://github.com/apache/doris/pull/2751#issuecomment-588054993","issue_url":"https://api.github.com/repos/apache/doris/issues/2751","id":588054993,"node_id":"MDEyOklzc3VlQ29tbWVudDU4ODA1NDk5Mw==","user":{"login":"WingsGo","id":22497357,"node_id":"MDQ6VXNlcjIyNDk3MzU3","avatar_url":"https://avatars.githubusercontent.com/u/22497357?v=4","gravatar_id":"","url":"https://api.github.com/users/WingsGo","html_url":"https://github.com/WingsGo","followers_url":"https://api.github.com/users/WingsGo/followers","following_url":"https://api.github.com/users/WingsGo/following{/other_user}","gists_url":"https://api.github.com/users/WingsGo/gists{/gist_id}","starred_url":"https://api.github.com/users/WingsGo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WingsGo/subscriptions","organizations_url":"https://api.github.com/users/WingsGo/orgs","repos_url":"https://api.github.com/users/WingsGo/repos","events_url":"https://api.github.com/users/WingsGo/events{/privacy}","received_events_url":"https://api.github.com/users/WingsGo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-19T06:17:11Z","updated_at":"2020-02-19T06:17:11Z","author_association":"CONTRIBUTOR","body":"> If you can reproduce this bug, you can use watch command in GDB. This command can used to know the variable modified in which place.\r\n\r\nWe reproduce this bug and print current_num_rows_per_row_block variable，but it's strange that the variable we print is 0, in coredump, the variable current_num_rows_per_row_block is 1024，i wonder why this thing happen?","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/588054993/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/588065768","html_url":"https://github.com/apache/doris/pull/2944#issuecomment-588065768","issue_url":"https://api.github.com/repos/apache/doris/issues/2944","id":588065768,"node_id":"MDEyOklzc3VlQ29tbWVudDU4ODA2NTc2OA==","user":{"login":"imay","id":1249159,"node_id":"MDQ6VXNlcjEyNDkxNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1249159?v=4","gravatar_id":"","url":"https://api.github.com/users/imay","html_url":"https://github.com/imay","followers_url":"https://api.github.com/users/imay/followers","following_url":"https://api.github.com/users/imay/following{/other_user}","gists_url":"https://api.github.com/users/imay/gists{/gist_id}","starred_url":"https://api.github.com/users/imay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imay/subscriptions","organizations_url":"https://api.github.com/users/imay/orgs","repos_url":"https://api.github.com/users/imay/repos","events_url":"https://api.github.com/users/imay/events{/privacy}","received_events_url":"https://api.github.com/users/imay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-19T06:58:27Z","updated_at":"2020-02-19T06:58:27Z","author_association":"CONTRIBUTOR","body":"#2943 ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/588065768/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/588076034","html_url":"https://github.com/apache/doris/pull/2751#issuecomment-588076034","issue_url":"https://api.github.com/repos/apache/doris/issues/2751","id":588076034,"node_id":"MDEyOklzc3VlQ29tbWVudDU4ODA3NjAzNA==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-19T07:32:52Z","updated_at":"2020-02-19T07:32:52Z","author_association":"CONTRIBUTOR","body":"The current_num_rows_per_row_block is loaded in olap_index.cpp.\r\nIf you can reproduce the bug, you can print the variable\r\nmeta.file_header.message().num_rows_per_block() in olap_index.cpp.\r\nI double that the meta in olap_index is wrong upon writer.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/588076034/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/588081302","html_url":"https://github.com/apache/doris/issues/2946#issuecomment-588081302","issue_url":"https://api.github.com/repos/apache/doris/issues/2946","id":588081302,"node_id":"MDEyOklzc3VlQ29tbWVudDU4ODA4MTMwMg==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-19T07:49:05Z","updated_at":"2020-02-19T07:51:10Z","author_association":"CONTRIBUTOR","body":"I test the case in the 0.11.28 branch, it is OK.\r\nBut it is not OK in master.\r\n![Screen Shot 2020-02-19 at 3 48 18 PM](https://user-images.githubusercontent.com/44767902/74812933-53a34a00-532f-11ea-9e3e-093c9a34a7a1.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/588081302/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/588156273","html_url":"https://github.com/apache/doris/issues/2780#issuecomment-588156273","issue_url":"https://api.github.com/repos/apache/doris/issues/2780","id":588156273,"node_id":"MDEyOklzc3VlQ29tbWVudDU4ODE1NjI3Mw==","user":{"login":"vagetablechicken","id":24697960,"node_id":"MDQ6VXNlcjI0Njk3OTYw","avatar_url":"https://avatars.githubusercontent.com/u/24697960?v=4","gravatar_id":"","url":"https://api.github.com/users/vagetablechicken","html_url":"https://github.com/vagetablechicken","followers_url":"https://api.github.com/users/vagetablechicken/followers","following_url":"https://api.github.com/users/vagetablechicken/following{/other_user}","gists_url":"https://api.github.com/users/vagetablechicken/gists{/gist_id}","starred_url":"https://api.github.com/users/vagetablechicken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vagetablechicken/subscriptions","organizations_url":"https://api.github.com/users/vagetablechicken/orgs","repos_url":"https://api.github.com/users/vagetablechicken/repos","events_url":"https://api.github.com/users/vagetablechicken/events{/privacy}","received_events_url":"https://api.github.com/users/vagetablechicken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-19T10:43:48Z","updated_at":"2020-02-20T11:14:27Z","author_association":"CONTRIBUTOR","body":"# OlapTableSink Multithreading Solution Design\r\n\r\n## single-thread model (original model)\r\n![image](https://user-images.githubusercontent.com/24697960/74130744-bbfe7700-4c1d-11ea-89e0-f6e9748bafe0.png)\r\n\r\n## multi-thread model\r\n![image](https://user-images.githubusercontent.com/24697960/74131130-a2116400-4c1e-11ea-9696-3934555e870b.png)\r\n\r\nWhen we create an OlapTableSink, prepare N buffers and N send threads.\r\n \r\nIf a row needs to be added to NodeChannel(node_id=A, only consider node_id),  the main thread copy it to buffer A%N. \r\n\r\nWe can limit the buffer size(use MemTracker), the mem_limit is configurable. If a buffer is full, we block adding rows to this buffer , until all rows in buffer have been consumed. \r\n\r\n### Extra cost of multi-thread ver \r\nthread: buffer_num\r\nmem: buffer_num*(mem_limit+buffer_running_mem)\r\n\r\n### single/multi version switch\r\nThe acceleration effect is evident for large data imports. But no need for every OlapTableSink.\r\nSo I design it:\r\nWe can select origin(single-thread) version or multi-thread version by set broker load property, and configure the buffer_num & mem_limit_per_buffer.\r\nWe add fields to TOlapTableSink, like\r\n```\r\nstruct TOlapTableSink {\r\n    ...\r\n    14: optional i64 load_channel_timeout_s // the timeout of load channels in second\r\n    15: optional i32 buffer_num\r\n    16: optional i64 mem_limit_per_buf\r\n    17: optional i64 size_limit_per_buf\r\n}\r\n```\r\n`buffer_num > 0` means using \"multi-thread & buffer\" mode. \r\n`buffer_num = 0` or not set means using \"single-thread\" mode(the origin mode).\r\n(`buffer_num = 1` is hard to define. We should avoid setting buffer_num to 1.)\r\n\r\nSo we can use \r\n```\r\nLOAD LABEL ...\r\n        PROPERTIES \r\n        ( \r\n        \"buffer_num\"=\"5\", \r\n        \"mem_limit_per_buf\"=\"5368709120\", \r\n        \"size_limit_per_buf\"=\"62914560\"\r\n        );\r\n```\r\n\r\n# A Test Case\r\ncluster: 5 be\r\n{\"ScannedRows\":895737370,\"TaskNumber\":1,\"FileNumber\":300,\"FileSize\":60216822679} // 56G\r\n\r\n## origin ver\r\n| LoadStartTime       | LoadFinishTime      |\r\n|----|----|\r\n | 2020-02-19 20:44:00 | 2020-02-20 00:35:01 |\r\n\r\n## multi-thread ver\r\nbuffer_num/mem_limit_per_buf/size_limit_per_buf = 5/1G/30M\r\n| LoadStartTime       | LoadFinishTime      |\r\n|----|----|\r\n | 2020-02-18 17:57:38 | 2020-02-18 20:05:13 |\r\n\r\nbuffer_num/mem_limit_per_buf/size_limit_per_buf = 5/5G/30M\r\n| LoadStartTime       | LoadFinishTime      |\r\n|----|----|\r\n | 2020-02-18 20:14:58 | 2020-02-18 22:19:54 |\r\n\r\nbuffer_num/mem_limit_per_buf/size_limit_per_buf = 5/5G/60M\r\n| LoadStartTime       | LoadFinishTime      |\r\n|----|----|\r\n | 2020-02-18 22:28:08 | 2020-02-19 00:36:28 |\r\n\r\n## Test Analysis\r\n56G broker load, the origin ver will run for 4 hours, the multi-ver can halve the time.\r\nBut increasing mem_limit & size_limit doesn't do much good.(not bad, cause we can only use minimum mem,  the more memory is waste. 😀 )\r\n\r\n1. Because we use modular hashing(node_id%buffer_num), the buffer_num should <= be_num.\r\nbuffer_num=be_num is ideal.\r\n1. In single-thread ver, we only have a thread to add_batch/wait_packet. In multi-thread ver, we have buffer_num thread to do them. But the add_batch/wait_packet in one thread are in sequence, can't save time in one thread. Thus, the `actual consume` time is the ideal of load run time. For example, \r\n`mem_handle: 3506.55s, deep_copy: 22.1017s, spsc push block if full: 7.81192s, consume: 7298.54s, actual consume: 7285s.` means the ideal run time is 7285s, our configuration can make the process 7298s. It means little to further optimize.\r\n1. we use spsc_queue(ringbuffer) to be the buffer, it has fixed length(size_limit_per_buf). So, the size_limit_per_buf should not be too big. We can use size_limit_per_buf*30B to estimate the mem of queue.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/588156273/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/588157911","html_url":"https://github.com/apache/doris/pull/2944#issuecomment-588157911","issue_url":"https://api.github.com/repos/apache/doris/issues/2944","id":588157911,"node_id":"MDEyOklzc3VlQ29tbWVudDU4ODE1NzkxMQ==","user":{"login":"vagetablechicken","id":24697960,"node_id":"MDQ6VXNlcjI0Njk3OTYw","avatar_url":"https://avatars.githubusercontent.com/u/24697960?v=4","gravatar_id":"","url":"https://api.github.com/users/vagetablechicken","html_url":"https://github.com/vagetablechicken","followers_url":"https://api.github.com/users/vagetablechicken/followers","following_url":"https://api.github.com/users/vagetablechicken/following{/other_user}","gists_url":"https://api.github.com/users/vagetablechicken/gists{/gist_id}","starred_url":"https://api.github.com/users/vagetablechicken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vagetablechicken/subscriptions","organizations_url":"https://api.github.com/users/vagetablechicken/orgs","repos_url":"https://api.github.com/users/vagetablechicken/repos","events_url":"https://api.github.com/users/vagetablechicken/events{/privacy}","received_events_url":"https://api.github.com/users/vagetablechicken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-19T10:48:04Z","updated_at":"2020-02-19T10:59:02Z","author_association":"CONTRIBUTOR","body":"> If `heap_profile_dir` is not empty, then the profile will be opened and the performance of the process will be reduced. I estimate that the purpose of the previous configuration is to enable the profile through this configuration. But now you can do it with the `HEAPPROFILE` parameter, you can refer [here](http://doris.apache.org/documentation/cn/developer-guide/debug-tool.html).\r\n> So this thing should be able to be deleted\r\n\r\nThe two methods, HEAPPROFILE & pprof, are complete. That is why I think heap_profile_dir is useless.  I'll delete it.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/588157911/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/588163478","html_url":"https://github.com/apache/doris/issues/2780#issuecomment-588163478","issue_url":"https://api.github.com/repos/apache/doris/issues/2780","id":588163478,"node_id":"MDEyOklzc3VlQ29tbWVudDU4ODE2MzQ3OA==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-19T11:01:53Z","updated_at":"2020-02-19T11:01:53Z","author_association":"CONTRIBUTOR","body":"The enhancement of this test case seems not obvious?","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/588163478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/588210735","html_url":"https://github.com/apache/doris/issues/2780#issuecomment-588210735","issue_url":"https://api.github.com/repos/apache/doris/issues/2780","id":588210735,"node_id":"MDEyOklzc3VlQ29tbWVudDU4ODIxMDczNQ==","user":{"login":"vagetablechicken","id":24697960,"node_id":"MDQ6VXNlcjI0Njk3OTYw","avatar_url":"https://avatars.githubusercontent.com/u/24697960?v=4","gravatar_id":"","url":"https://api.github.com/users/vagetablechicken","html_url":"https://github.com/vagetablechicken","followers_url":"https://api.github.com/users/vagetablechicken/followers","following_url":"https://api.github.com/users/vagetablechicken/following{/other_user}","gists_url":"https://api.github.com/users/vagetablechicken/gists{/gist_id}","starred_url":"https://api.github.com/users/vagetablechicken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vagetablechicken/subscriptions","organizations_url":"https://api.github.com/users/vagetablechicken/orgs","repos_url":"https://api.github.com/users/vagetablechicken/repos","events_url":"https://api.github.com/users/vagetablechicken/events{/privacy}","received_events_url":"https://api.github.com/users/vagetablechicken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-19T12:49:35Z","updated_at":"2020-02-19T12:49:35Z","author_association":"CONTRIBUTOR","body":"> The enhancement of this test case seems not obvious?\r\n\r\nthe origin ver is being tested. It typically takes 5h. I haven't tested it recently, so I ran this test again.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/588210735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/588286553","html_url":"https://github.com/apache/doris/pull/2949#issuecomment-588286553","issue_url":"https://api.github.com/repos/apache/doris/issues/2949","id":588286553,"node_id":"MDEyOklzc3VlQ29tbWVudDU4ODI4NjU1Mw==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-19T15:34:31Z","updated_at":"2020-02-19T15:34:31Z","author_association":"CONTRIBUTOR","body":"If you just move the old code from the AlphaRowset, the question of AlphaRowset still exists.\r\nLike \r\n\r\n- I/O exemplification of read StreamHead.\r\n\r\n- Two much virtual functions of read caused by streaming read of ORC.\r\n\r\n- Not import ORCFile the latest enhancement in recent years.\r\n\r\nThis are all questions we start to build SegmentV2.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/588286553/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/588563520","html_url":"https://github.com/apache/doris/pull/2751#issuecomment-588563520","issue_url":"https://api.github.com/repos/apache/doris/issues/2751","id":588563520,"node_id":"MDEyOklzc3VlQ29tbWVudDU4ODU2MzUyMA==","user":{"login":"WingsGo","id":22497357,"node_id":"MDQ6VXNlcjIyNDk3MzU3","avatar_url":"https://avatars.githubusercontent.com/u/22497357?v=4","gravatar_id":"","url":"https://api.github.com/users/WingsGo","html_url":"https://github.com/WingsGo","followers_url":"https://api.github.com/users/WingsGo/followers","following_url":"https://api.github.com/users/WingsGo/following{/other_user}","gists_url":"https://api.github.com/users/WingsGo/gists{/gist_id}","starred_url":"https://api.github.com/users/WingsGo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WingsGo/subscriptions","organizations_url":"https://api.github.com/users/WingsGo/orgs","repos_url":"https://api.github.com/users/WingsGo/repos","events_url":"https://api.github.com/users/WingsGo/events{/privacy}","received_events_url":"https://api.github.com/users/WingsGo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-20T01:30:48Z","updated_at":"2020-02-20T01:30:48Z","author_association":"CONTRIBUTOR","body":"> The current_num_rows_per_row_block is loaded in olap_index.cpp.\r\n> If you can reproduce the bug, you can print the variable\r\n> meta.file_header.message().num_rows_per_block() in olap_index.cpp.\r\n> I double that the meta in olap_index is wrong upon writer.\r\n\r\nOK, I will reproduce the bug and print it to check if there is something wrong.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/588563520/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/588605086","html_url":"https://github.com/apache/doris/pull/2940#issuecomment-588605086","issue_url":"https://api.github.com/repos/apache/doris/issues/2940","id":588605086,"node_id":"MDEyOklzc3VlQ29tbWVudDU4ODYwNTA4Ng==","user":{"login":"wangbo","id":12951030,"node_id":"MDQ6VXNlcjEyOTUxMDMw","avatar_url":"https://avatars.githubusercontent.com/u/12951030?v=4","gravatar_id":"","url":"https://api.github.com/users/wangbo","html_url":"https://github.com/wangbo","followers_url":"https://api.github.com/users/wangbo/followers","following_url":"https://api.github.com/users/wangbo/following{/other_user}","gists_url":"https://api.github.com/users/wangbo/gists{/gist_id}","starred_url":"https://api.github.com/users/wangbo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangbo/subscriptions","organizations_url":"https://api.github.com/users/wangbo/orgs","repos_url":"https://api.github.com/users/wangbo/repos","events_url":"https://api.github.com/users/wangbo/events{/privacy}","received_events_url":"https://api.github.com/users/wangbo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-20T04:36:46Z","updated_at":"2020-02-20T05:02:00Z","author_association":"CONTRIBUTOR","body":"@morningman \r\n> spark 构建全局索引的工作，我理解是 spark导入功能中的一部分是吧？\r\n\r\n是的，如果本次导入是有精确去重字段的话，是需要在流程中加一步构建全局字典。\r\n\r\n> 目前一个spark导入作业所需要的信息，使用sql表述感觉非常复杂了，比如条件过滤，列转换和映射，以及访问spark、hive等所需要的各种连接信息，权限信息。\r\n这些其实通过sql来表达已经比较吃力了\r\n\r\n目前这个job的sql版我已经写完了，并跑通基本测试了。接下来主要是测试，这部分花时间应该会比较长，也是最重要的一部分，测试内容包括资源用量以及性能，至少要和kylin现有的能力持平。所以sql表达的问题不是重点。\r\n\r\n> 比如如果需要使用kerberos访问，我们不得不将keytab的文件内容转成 base64 来表示。\r\n\r\n这个没太明白，是什么使用kerberos访问什么呢？目前我测试时，是用的一个hadoop账户直接提交的spark作业到yarn，只要提交作业的本地节点有keytab完成一次认证就可以了，不需要做什么上传。\r\n\r\n> 这些信息都要驻留在FE内存中，同时也需要序列化到FE元数据中。当作业很多时，对内存和元数据存储的开销都非常大。\r\n\r\n构建全局字典的元信息分为两部分，一部分是doris的元数据信息，包括olaptable的schema信息，这个是一定得持久化的。\r\n另一部分是作业的信息，输入路径配置参数什么的，没有其他由于构建全局字典要额外的引入的信息。\r\n所以我确认下你想表达的意思是，通过外部xml封装的方案去解决job信息过多导致的可能存在的fe内存使用过高的问题是吧？如果是这样的话，我觉得可以。\r\n只是实现方案上如果用xml的话，感觉上还得写一个简单的协议将xml同步到多个fe，如果现有的的元数据持久化方案支持根据标识读盘的话，可能会简单一些。甚至我觉得可以建一张doris的表存进去","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/588605086/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/588769716","html_url":"https://github.com/apache/doris/pull/2940#issuecomment-588769716","issue_url":"https://api.github.com/repos/apache/doris/issues/2940","id":588769716,"node_id":"MDEyOklzc3VlQ29tbWVudDU4ODc2OTcxNg==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-20T08:37:31Z","updated_at":"2020-02-20T08:37:43Z","author_association":"CONTRIBUTOR","body":"> 目前这个job的sql版我已经写完了，并跑通基本测试了。接下来主要是测试，这部分花时间应该会比较长，也是最重要的一部分，测试内容包括资源用量以及性能，至少要和kylin现有的能力持平。所以sql表达的问题不是重点。\r\n\r\n不是，你理解错了，我说的不是构建字典使用的spark sql。其实我是说给doris提交导入作业的dml 语句","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/588769716/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/588817101","html_url":"https://github.com/apache/doris/pull/2940#issuecomment-588817101","issue_url":"https://api.github.com/repos/apache/doris/issues/2940","id":588817101,"node_id":"MDEyOklzc3VlQ29tbWVudDU4ODgxNzEwMQ==","user":{"login":"wangbo","id":12951030,"node_id":"MDQ6VXNlcjEyOTUxMDMw","avatar_url":"https://avatars.githubusercontent.com/u/12951030?v=4","gravatar_id":"","url":"https://api.github.com/users/wangbo","html_url":"https://github.com/wangbo","followers_url":"https://api.github.com/users/wangbo/followers","following_url":"https://api.github.com/users/wangbo/following{/other_user}","gists_url":"https://api.github.com/users/wangbo/gists{/gist_id}","starred_url":"https://api.github.com/users/wangbo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangbo/subscriptions","organizations_url":"https://api.github.com/users/wangbo/orgs","repos_url":"https://api.github.com/users/wangbo/repos","events_url":"https://api.github.com/users/wangbo/events{/privacy}","received_events_url":"https://api.github.com/users/wangbo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-20T09:12:02Z","updated_at":"2020-02-20T09:12:02Z","author_association":"CONTRIBUTOR","body":"@morningman 懂你的意思了。\r\n有两个问题需要解决\r\n第一个是输入信息的方式，这个具体可以等元信息详细接口出来之后再定，如果通过kv的方式描述，放在dml确实很复杂的话，也可以通过http提交。建议是dml和http上传同时支持，原因是根据我经历的用户使用场景，其实连接信息和过滤条件应该不会很多，字段映射什么的其实可以按照约定来，也不一定非得上传。另外我觉得如果能是kv格式的txt可能最好，xml对用户来说还是有一定构建成本的。\r\n第二个问题是持久化的问题，我也比较同意作业提交这种信息不写入元数据log，因为这些数据丢了不会影响数据库正常运行，且具备一次性的属性，所以和元数据log分开存储的方式是比较合适的，甚至我觉得可以把部分信息放在spark作业里解析，doris只需要知道将作业提交到哪个集群就可以了，在提交作业时将这些文件随作业提交。不过还是得解决冗余问题，因为如果夜间生产fe切主的话，对生产影响还是挺大的。","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/588817101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/589467268","html_url":"https://github.com/apache/doris/pull/2953#issuecomment-589467268","issue_url":"https://api.github.com/repos/apache/doris/issues/2953","id":589467268,"node_id":"MDEyOklzc3VlQ29tbWVudDU4OTQ2NzI2OA==","user":{"login":"gaodayue","id":1198446,"node_id":"MDQ6VXNlcjExOTg0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/1198446?v=4","gravatar_id":"","url":"https://api.github.com/users/gaodayue","html_url":"https://github.com/gaodayue","followers_url":"https://api.github.com/users/gaodayue/followers","following_url":"https://api.github.com/users/gaodayue/following{/other_user}","gists_url":"https://api.github.com/users/gaodayue/gists{/gist_id}","starred_url":"https://api.github.com/users/gaodayue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaodayue/subscriptions","organizations_url":"https://api.github.com/users/gaodayue/orgs","repos_url":"https://api.github.com/users/gaodayue/repos","events_url":"https://api.github.com/users/gaodayue/events{/privacy}","received_events_url":"https://api.github.com/users/gaodayue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-21T02:22:55Z","updated_at":"2020-02-21T02:22:55Z","author_association":"CONTRIBUTOR","body":"The failed UT `GenericPoolTest` is un-related to this PR","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/589467268/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/589483637","html_url":"https://github.com/apache/doris/issues/2916#issuecomment-589483637","issue_url":"https://api.github.com/repos/apache/doris/issues/2916","id":589483637,"node_id":"MDEyOklzc3VlQ29tbWVudDU4OTQ4MzYzNw==","user":{"login":"hexian55","id":16074700,"node_id":"MDQ6VXNlcjE2MDc0NzAw","avatar_url":"https://avatars.githubusercontent.com/u/16074700?v=4","gravatar_id":"","url":"https://api.github.com/users/hexian55","html_url":"https://github.com/hexian55","followers_url":"https://api.github.com/users/hexian55/followers","following_url":"https://api.github.com/users/hexian55/following{/other_user}","gists_url":"https://api.github.com/users/hexian55/gists{/gist_id}","starred_url":"https://api.github.com/users/hexian55/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hexian55/subscriptions","organizations_url":"https://api.github.com/users/hexian55/orgs","repos_url":"https://api.github.com/users/hexian55/repos","events_url":"https://api.github.com/users/hexian55/events{/privacy}","received_events_url":"https://api.github.com/users/hexian55/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-21T03:41:05Z","updated_at":"2020-02-21T03:41:05Z","author_association":"CONTRIBUTOR","body":"@imay   @morningman   Please help me","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/589483637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/589489360","html_url":"https://github.com/apache/doris/issues/2916#issuecomment-589489360","issue_url":"https://api.github.com/repos/apache/doris/issues/2916","id":589489360,"node_id":"MDEyOklzc3VlQ29tbWVudDU4OTQ4OTM2MA==","user":{"login":"imay","id":1249159,"node_id":"MDQ6VXNlcjEyNDkxNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1249159?v=4","gravatar_id":"","url":"https://api.github.com/users/imay","html_url":"https://github.com/imay","followers_url":"https://api.github.com/users/imay/followers","following_url":"https://api.github.com/users/imay/following{/other_user}","gists_url":"https://api.github.com/users/imay/gists{/gist_id}","starred_url":"https://api.github.com/users/imay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imay/subscriptions","organizations_url":"https://api.github.com/users/imay/orgs","repos_url":"https://api.github.com/users/imay/repos","events_url":"https://api.github.com/users/imay/events{/privacy}","received_events_url":"https://api.github.com/users/imay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-21T04:12:53Z","updated_at":"2020-02-21T04:12:53Z","author_association":"CONTRIBUTOR","body":"> @imay @morningman Please help me\r\n\r\nCould we talk with weixin? My id is ApacheZhaoc","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/589489360/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/589548962","html_url":"https://github.com/apache/doris/issues/2820#issuecomment-589548962","issue_url":"https://api.github.com/repos/apache/doris/issues/2820","id":589548962,"node_id":"MDEyOklzc3VlQ29tbWVudDU4OTU0ODk2Mg==","user":{"login":"hxianshun","id":34292183,"node_id":"MDQ6VXNlcjM0MjkyMTgz","avatar_url":"https://avatars.githubusercontent.com/u/34292183?v=4","gravatar_id":"","url":"https://api.github.com/users/hxianshun","html_url":"https://github.com/hxianshun","followers_url":"https://api.github.com/users/hxianshun/followers","following_url":"https://api.github.com/users/hxianshun/following{/other_user}","gists_url":"https://api.github.com/users/hxianshun/gists{/gist_id}","starred_url":"https://api.github.com/users/hxianshun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hxianshun/subscriptions","organizations_url":"https://api.github.com/users/hxianshun/orgs","repos_url":"https://api.github.com/users/hxianshun/repos","events_url":"https://api.github.com/users/hxianshun/events{/privacy}","received_events_url":"https://api.github.com/users/hxianshun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-21T08:21:57Z","updated_at":"2020-02-21T08:21:57Z","author_association":"CONTRIBUTOR","body":"This problem has been sloved. The reason is that the CPU's version of docker is higher than my local environment. So use 'thirdparty' to build croaringbitmap and then rebuild 'be' would work. ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/589548962/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/589564958","html_url":"https://github.com/apache/doris/issues/2967#issuecomment-589564958","issue_url":"https://api.github.com/repos/apache/doris/issues/2967","id":589564958,"node_id":"MDEyOklzc3VlQ29tbWVudDU4OTU2NDk1OA==","user":{"login":"kangpinghuang","id":40422952,"node_id":"MDQ6VXNlcjQwNDIyOTUy","avatar_url":"https://avatars.githubusercontent.com/u/40422952?v=4","gravatar_id":"","url":"https://api.github.com/users/kangpinghuang","html_url":"https://github.com/kangpinghuang","followers_url":"https://api.github.com/users/kangpinghuang/followers","following_url":"https://api.github.com/users/kangpinghuang/following{/other_user}","gists_url":"https://api.github.com/users/kangpinghuang/gists{/gist_id}","starred_url":"https://api.github.com/users/kangpinghuang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kangpinghuang/subscriptions","organizations_url":"https://api.github.com/users/kangpinghuang/orgs","repos_url":"https://api.github.com/users/kangpinghuang/repos","events_url":"https://api.github.com/users/kangpinghuang/events{/privacy}","received_events_url":"https://api.github.com/users/kangpinghuang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-21T09:09:40Z","updated_at":"2020-02-21T09:09:40Z","author_association":"CONTRIBUTOR","body":"parent issue: #2886","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/589564958/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/589649037","html_url":"https://github.com/apache/doris/pull/2969#issuecomment-589649037","issue_url":"https://api.github.com/repos/apache/doris/issues/2969","id":589649037,"node_id":"MDEyOklzc3VlQ29tbWVudDU4OTY0OTAzNw==","user":{"login":"lingbin","id":3818369,"node_id":"MDQ6VXNlcjM4MTgzNjk=","avatar_url":"https://avatars.githubusercontent.com/u/3818369?v=4","gravatar_id":"","url":"https://api.github.com/users/lingbin","html_url":"https://github.com/lingbin","followers_url":"https://api.github.com/users/lingbin/followers","following_url":"https://api.github.com/users/lingbin/following{/other_user}","gists_url":"https://api.github.com/users/lingbin/gists{/gist_id}","starred_url":"https://api.github.com/users/lingbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lingbin/subscriptions","organizations_url":"https://api.github.com/users/lingbin/orgs","repos_url":"https://api.github.com/users/lingbin/repos","events_url":"https://api.github.com/users/lingbin/events{/privacy}","received_events_url":"https://api.github.com/users/lingbin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-21T13:17:29Z","updated_at":"2020-02-21T13:18:08Z","author_association":"CONTRIBUTOR","body":"> why change precis_code to a posix code?\r\n\r\nIs It actually an POSIX errno?\r\n\r\nFor example: For Status::IOError, it is error code is `TStatusCode::IO_ERROR`, but its \"posix_code\" may be `EIO`, `ENOTDIR`, `EEXIST` and so on. ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/589649037/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/589652338","html_url":"https://github.com/apache/doris/pull/2969#issuecomment-589652338","issue_url":"https://api.github.com/repos/apache/doris/issues/2969","id":589652338,"node_id":"MDEyOklzc3VlQ29tbWVudDU4OTY1MjMzOA==","user":{"login":"imay","id":1249159,"node_id":"MDQ6VXNlcjEyNDkxNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1249159?v=4","gravatar_id":"","url":"https://api.github.com/users/imay","html_url":"https://github.com/imay","followers_url":"https://api.github.com/users/imay/followers","following_url":"https://api.github.com/users/imay/following{/other_user}","gists_url":"https://api.github.com/users/imay/gists{/gist_id}","starred_url":"https://api.github.com/users/imay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imay/subscriptions","organizations_url":"https://api.github.com/users/imay/orgs","repos_url":"https://api.github.com/users/imay/repos","events_url":"https://api.github.com/users/imay/events{/privacy}","received_events_url":"https://api.github.com/users/imay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-21T13:27:05Z","updated_at":"2020-02-21T13:27:05Z","author_association":"CONTRIBUTOR","body":"> Is It actually an POSIX errno?\r\n> \r\n> For example: For Status::IOError, it is error code is TStatusCode::IO_ERROR, but its \"posix_code\" may be `EIO`, `ENOTDIR`, `EEXIST` and so on.\r\n\r\nActually no. This field is intended to unify Doris' error code. When user can get a code, he/she will know the specific error. If this is used as posix_code, its usage will be narrowed.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/589652338/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/589654754","html_url":"https://github.com/apache/doris/pull/2969#issuecomment-589654754","issue_url":"https://api.github.com/repos/apache/doris/issues/2969","id":589654754,"node_id":"MDEyOklzc3VlQ29tbWVudDU4OTY1NDc1NA==","user":{"login":"lingbin","id":3818369,"node_id":"MDQ6VXNlcjM4MTgzNjk=","avatar_url":"https://avatars.githubusercontent.com/u/3818369?v=4","gravatar_id":"","url":"https://api.github.com/users/lingbin","html_url":"https://github.com/lingbin","followers_url":"https://api.github.com/users/lingbin/followers","following_url":"https://api.github.com/users/lingbin/following{/other_user}","gists_url":"https://api.github.com/users/lingbin/gists{/gist_id}","starred_url":"https://api.github.com/users/lingbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lingbin/subscriptions","organizations_url":"https://api.github.com/users/lingbin/orgs","repos_url":"https://api.github.com/users/lingbin/repos","events_url":"https://api.github.com/users/lingbin/events{/privacy}","received_events_url":"https://api.github.com/users/lingbin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-21T13:33:56Z","updated_at":"2020-02-21T13:33:56Z","author_association":"CONTRIBUTOR","body":"> > Is It actually an POSIX errno?\r\n> > For example: For Status::IOError, it is error code is TStatusCode::IO_ERROR, but its \"posix_code\" may be `EIO`, `ENOTDIR`, `EEXIST` and so on.\r\n> \r\n> Actually no. This field is intended to unify Doris' error code. When user can get a code, he/she will know the specific error. If this is used as posix_code, its usage will be narrowed.\r\n\r\nMy previous understanding was: There is only **one level** of error code defined by Doris, which is `TStatusCode`. According to you, it looks like it will be divided into **two levels** in the future, but is it a bit too much?\r\n\r\nAnyway, I will change it back currently.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/589654754/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/589659754","html_url":"https://github.com/apache/doris/pull/2969#issuecomment-589659754","issue_url":"https://api.github.com/repos/apache/doris/issues/2969","id":589659754,"node_id":"MDEyOklzc3VlQ29tbWVudDU4OTY1OTc1NA==","user":{"login":"imay","id":1249159,"node_id":"MDQ6VXNlcjEyNDkxNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1249159?v=4","gravatar_id":"","url":"https://api.github.com/users/imay","html_url":"https://github.com/imay","followers_url":"https://api.github.com/users/imay/followers","following_url":"https://api.github.com/users/imay/following{/other_user}","gists_url":"https://api.github.com/users/imay/gists{/gist_id}","starred_url":"https://api.github.com/users/imay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imay/subscriptions","organizations_url":"https://api.github.com/users/imay/orgs","repos_url":"https://api.github.com/users/imay/repos","events_url":"https://api.github.com/users/imay/events{/privacy}","received_events_url":"https://api.github.com/users/imay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-21T13:47:53Z","updated_at":"2020-02-21T13:47:53Z","author_association":"CONTRIBUTOR","body":"> My previous understanding was: There is only **one level** of error code defined by Doris, which is `TStatusCode`. According to you, it looks like it will be divided into **two levels** in the future, but is it a bit too much?\r\n\r\nThe main purpose is to help users determine the problem through error codes. TstatusCode is mainly used to classify the errors that occur, while precise_code is used to determine the specific error\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/589659754/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/589928568","html_url":"https://github.com/apache/doris/issues/2967#issuecomment-589928568","issue_url":"https://api.github.com/repos/apache/doris/issues/2967","id":589928568,"node_id":"MDEyOklzc3VlQ29tbWVudDU4OTkyODU2OA==","user":{"login":"gaodayue","id":1198446,"node_id":"MDQ6VXNlcjExOTg0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/1198446?v=4","gravatar_id":"","url":"https://api.github.com/users/gaodayue","html_url":"https://github.com/gaodayue","followers_url":"https://api.github.com/users/gaodayue/followers","following_url":"https://api.github.com/users/gaodayue/following{/other_user}","gists_url":"https://api.github.com/users/gaodayue/gists{/gist_id}","starred_url":"https://api.github.com/users/gaodayue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaodayue/subscriptions","organizations_url":"https://api.github.com/users/gaodayue/orgs","repos_url":"https://api.github.com/users/gaodayue/repos","events_url":"https://api.github.com/users/gaodayue/events{/privacy}","received_events_url":"https://api.github.com/users/gaodayue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-22T07:31:58Z","updated_at":"2020-02-22T07:31:58Z","author_association":"CONTRIBUTOR","body":"To obtain accurate and reproducible test results, we should\r\n1. write benchmark code that directly tests different `PageBuilder` and `PageDecoder`\r\n2. open source it so that other people can review and run the benchmark\r\n\r\nIn addition, I think we should add a test case on seek read performance for segment_v2 because it significant affects the performance of SegmentIterator.\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/589928568/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/590018446","html_url":"https://github.com/apache/doris/pull/2953#issuecomment-590018446","issue_url":"https://api.github.com/repos/apache/doris/issues/2953","id":590018446,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDAxODQ0Ng==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-23T02:09:27Z","updated_at":"2020-02-23T02:31:53Z","author_association":"CONTRIBUTOR","body":"I have three question:\r\n1. Bitmap index have save dict_column and bitmap with four page, every read have four I/O, this may be consuming. I think dict_column store a bitmap PagePointer will be better. Like this:\r\n**DictColumnValueIndex** : val -> dict_column_page_pointer\r\n**DictColumnPage** : dict_column|bitmap_page_pointer\r\n**BitmapPage** : RoaringBitMap\r\nwhich can save one I/O operation\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/590018446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/590019622","html_url":"https://github.com/apache/doris/pull/2953#issuecomment-590019622","issue_url":"https://api.github.com/repos/apache/doris/issues/2953","id":590019622,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDAxOTYyMg==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-23T02:31:30Z","updated_at":"2020-02-23T02:31:30Z","author_association":"CONTRIBUTOR","body":"2. I think ZoneMap and OrdinalIndex Read/Writer logic remaining the same may be better. \r\nFirstly ZoneMap and OrdinalIndex is simple, may not need to used IndexedColumnWriter/Reader complicated logic.\r\nSecondly IndexedColumnWriter will also contain all index writer, if we add BTree index in the futher.\r\nThirdly if use the above optimization, the ZoneMap and OrdinalIndex also not suitable.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/590019622/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/590019930","html_url":"https://github.com/apache/doris/pull/2953#issuecomment-590019930","issue_url":"https://api.github.com/repos/apache/doris/issues/2953","id":590019930,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDAxOTkzMA==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-23T02:37:59Z","updated_at":"2020-02-23T02:37:59Z","author_association":"CONTRIBUTOR","body":"3. I found the default decoding of VARCHAR and CHAR is dictionary encoding without policy, this may be consuming space when cardinality is high. And if we want to change it, we should rebuild all of the data.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/590019930/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/590147597","html_url":"https://github.com/apache/doris/issues/2916#issuecomment-590147597","issue_url":"https://api.github.com/repos/apache/doris/issues/2916","id":590147597,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDE0NzU5Nw==","user":{"login":"wuyunfeng","id":5183061,"node_id":"MDQ6VXNlcjUxODMwNjE=","avatar_url":"https://avatars.githubusercontent.com/u/5183061?v=4","gravatar_id":"","url":"https://api.github.com/users/wuyunfeng","html_url":"https://github.com/wuyunfeng","followers_url":"https://api.github.com/users/wuyunfeng/followers","following_url":"https://api.github.com/users/wuyunfeng/following{/other_user}","gists_url":"https://api.github.com/users/wuyunfeng/gists{/gist_id}","starred_url":"https://api.github.com/users/wuyunfeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wuyunfeng/subscriptions","organizations_url":"https://api.github.com/users/wuyunfeng/orgs","repos_url":"https://api.github.com/users/wuyunfeng/repos","events_url":"https://api.github.com/users/wuyunfeng/events{/privacy}","received_events_url":"https://api.github.com/users/wuyunfeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-24T02:20:54Z","updated_at":"2020-02-24T02:29:35Z","author_association":"MEMBER","body":"@hexian55  你加下 imay的微信，我们拉个讨论组，最近太忙把这事给忘了，咱们当面沟通说","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/590147597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/590163258","html_url":"https://github.com/apache/doris/issues/2976#issuecomment-590163258","issue_url":"https://api.github.com/repos/apache/doris/issues/2976","id":590163258,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDE2MzI1OA==","user":{"login":"imay","id":1249159,"node_id":"MDQ6VXNlcjEyNDkxNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1249159?v=4","gravatar_id":"","url":"https://api.github.com/users/imay","html_url":"https://github.com/imay","followers_url":"https://api.github.com/users/imay/followers","following_url":"https://api.github.com/users/imay/following{/other_user}","gists_url":"https://api.github.com/users/imay/gists{/gist_id}","starred_url":"https://api.github.com/users/imay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imay/subscriptions","organizations_url":"https://api.github.com/users/imay/orgs","repos_url":"https://api.github.com/users/imay/repos","events_url":"https://api.github.com/users/imay/events{/privacy}","received_events_url":"https://api.github.com/users/imay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-24T04:25:07Z","updated_at":"2020-02-24T04:25:07Z","author_association":"CONTRIBUTOR","body":"I prefer 2.\r\nIf we follow the third way, its behavior will be inconsistent with `insert into select *`.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/590163258/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/590167658","html_url":"https://github.com/apache/doris/issues/2976#issuecomment-590167658","issue_url":"https://api.github.com/repos/apache/doris/issues/2976","id":590167658,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDE2NzY1OA==","user":{"login":"gaodayue","id":1198446,"node_id":"MDQ6VXNlcjExOTg0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/1198446?v=4","gravatar_id":"","url":"https://api.github.com/users/gaodayue","html_url":"https://github.com/gaodayue","followers_url":"https://api.github.com/users/gaodayue/followers","following_url":"https://api.github.com/users/gaodayue/following{/other_user}","gists_url":"https://api.github.com/users/gaodayue/gists{/gist_id}","starred_url":"https://api.github.com/users/gaodayue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaodayue/subscriptions","organizations_url":"https://api.github.com/users/gaodayue/orgs","repos_url":"https://api.github.com/users/gaodayue/repos","events_url":"https://api.github.com/users/gaodayue/events{/privacy}","received_events_url":"https://api.github.com/users/gaodayue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-24T04:57:26Z","updated_at":"2020-02-24T04:57:26Z","author_association":"CONTRIBUTOR","body":"Usually it's a mistake to directly select HLL or bitmap column without applying function on it. In order to work around the \"select *\" queries issued automatically by BI tools, we could return NULL for HLL and bitmap columns by default. For users who want to get the raw binary of HLL and bitmap, we could add a configuration like `return_raw_value_for_complex_type` to support such scenario.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/590167658/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/590273942","html_url":"https://github.com/apache/doris/pull/2953#issuecomment-590273942","issue_url":"https://api.github.com/repos/apache/doris/issues/2953","id":590273942,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDI3Mzk0Mg==","user":{"login":"gaodayue","id":1198446,"node_id":"MDQ6VXNlcjExOTg0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/1198446?v=4","gravatar_id":"","url":"https://api.github.com/users/gaodayue","html_url":"https://github.com/gaodayue","followers_url":"https://api.github.com/users/gaodayue/followers","following_url":"https://api.github.com/users/gaodayue/following{/other_user}","gists_url":"https://api.github.com/users/gaodayue/gists{/gist_id}","starred_url":"https://api.github.com/users/gaodayue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaodayue/subscriptions","organizations_url":"https://api.github.com/users/gaodayue/orgs","repos_url":"https://api.github.com/users/gaodayue/repos","events_url":"https://api.github.com/users/gaodayue/events{/privacy}","received_events_url":"https://api.github.com/users/gaodayue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-24T11:19:15Z","updated_at":"2020-02-24T11:22:16Z","author_association":"CONTRIBUTOR","body":"@chaoyli answers inline\r\n\r\n> Bitmap index have save dict_column and bitmap with four page, every read have four I/O, this may be consuming. I think dict_column store a bitmap PagePointer will be better. Like this:\r\nDictColumnValueIndex : val -> dict_column_page_pointer\r\nDictColumnPage : dict_column|bitmap_page_pointer\r\nBitmapPage : RoaringBitMap\r\nwhich can save one I/O operation\r\n\r\nStoring bitmap_page_pointer in DictColumnPage has several drawbacks\r\n1. Binary search inside DictColumnPage is more complicated because we now need to separate `dict_column` and `bitmap_page_pointer`\r\n2. Storage size is not necessarily reduced because now we need to store a bitmap page pointer for each dictionary item. Previously we only store a bitmap page pointer for each bitmap page.\r\n3. The implementation is more complicated because now we tightly couples DictColumn with BitmapColumn. We lose the benefits of IndexedColumn abstraction.\r\n\r\n> I think ZoneMap and OrdinalIndex Read/Writer logic remaining the same may be better.\r\nFirstly ZoneMap and OrdinalIndex is simple, may not need to used IndexedColumnWriter/Reader complicated logic.\r\nSecondly IndexedColumnWriter will also contain all index writer, if we add BTree index in the futher.\r\nThirdly if use the above optimization, the ZoneMap and OrdinalIndex also not suitable.\r\n\r\nThe problems with implementing all kinds of indexes from scratch instead of reusing existing abstractions is *lower code reusability* and *higher long-term maintenance cost*. The nice thing about `IndexedColumn` is that it can be used as the building blocks for all kinds of data and indexes, leading to a more **layered system**. Considering you worries about the cost of using BTree index for ZoneMap, I think IndexedColumn can support both single-level and multiple-level index in in the future.\r\n\r\n> I found the default decoding of VARCHAR and CHAR is dictionary encoding without policy, this may be consuming space when cardinality is high. And if we want to change it, we should rebuild all of the data.\r\n\r\nActually the current implementation of `BinaryDictPageBuilder` will fallback to plain encoding automatically when it found the cardinality is high and the size of dictionary page is too big.\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/590273942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/590287074","html_url":"https://github.com/apache/doris/issues/2981#issuecomment-590287074","issue_url":"https://api.github.com/repos/apache/doris/issues/2981","id":590287074,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDI4NzA3NA==","user":{"login":"kangpinghuang","id":40422952,"node_id":"MDQ6VXNlcjQwNDIyOTUy","avatar_url":"https://avatars.githubusercontent.com/u/40422952?v=4","gravatar_id":"","url":"https://api.github.com/users/kangpinghuang","html_url":"https://github.com/kangpinghuang","followers_url":"https://api.github.com/users/kangpinghuang/followers","following_url":"https://api.github.com/users/kangpinghuang/following{/other_user}","gists_url":"https://api.github.com/users/kangpinghuang/gists{/gist_id}","starred_url":"https://api.github.com/users/kangpinghuang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kangpinghuang/subscriptions","organizations_url":"https://api.github.com/users/kangpinghuang/orgs","repos_url":"https://api.github.com/users/kangpinghuang/repos","events_url":"https://api.github.com/users/kangpinghuang/events{/privacy}","received_events_url":"https://api.github.com/users/kangpinghuang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-24T11:59:02Z","updated_at":"2020-02-24T11:59:02Z","author_association":"CONTRIBUTOR","body":"parent issue #2938 ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/590287074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/590360534","html_url":"https://github.com/apache/doris/issues/2916#issuecomment-590360534","issue_url":"https://api.github.com/repos/apache/doris/issues/2916","id":590360534,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDM2MDUzNA==","user":{"login":"hexian55","id":16074700,"node_id":"MDQ6VXNlcjE2MDc0NzAw","avatar_url":"https://avatars.githubusercontent.com/u/16074700?v=4","gravatar_id":"","url":"https://api.github.com/users/hexian55","html_url":"https://github.com/hexian55","followers_url":"https://api.github.com/users/hexian55/followers","following_url":"https://api.github.com/users/hexian55/following{/other_user}","gists_url":"https://api.github.com/users/hexian55/gists{/gist_id}","starred_url":"https://api.github.com/users/hexian55/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hexian55/subscriptions","organizations_url":"https://api.github.com/users/hexian55/orgs","repos_url":"https://api.github.com/users/hexian55/repos","events_url":"https://api.github.com/users/hexian55/events{/privacy}","received_events_url":"https://api.github.com/users/hexian55/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-24T14:54:41Z","updated_at":"2020-02-24T14:54:41Z","author_association":"CONTRIBUTOR","body":"ok","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/590360534/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/590641429","html_url":"https://github.com/apache/doris/pull/2953#issuecomment-590641429","issue_url":"https://api.github.com/repos/apache/doris/issues/2953","id":590641429,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDY0MTQyOQ==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-25T01:54:36Z","updated_at":"2020-02-25T01:56:50Z","author_association":"CONTRIBUTOR","body":"1. The indention it not to reduce storage size, it's to reduce I/O operation for store bitmap pointer like reverted index in Lucene. I think is also have no BinarySearch.\r\n2. ZoneMap/Ordinal Index is so easy, I think it's may be better not integrated into so complicated indexed column.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/590641429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/590787675","html_url":"https://github.com/apache/doris/pull/2977#issuecomment-590787675","issue_url":"https://api.github.com/repos/apache/doris/issues/2977","id":590787675,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDc4NzY3NQ==","user":{"login":"HangyuanLiu","id":12147090,"node_id":"MDQ6VXNlcjEyMTQ3MDkw","avatar_url":"https://avatars.githubusercontent.com/u/12147090?v=4","gravatar_id":"","url":"https://api.github.com/users/HangyuanLiu","html_url":"https://github.com/HangyuanLiu","followers_url":"https://api.github.com/users/HangyuanLiu/followers","following_url":"https://api.github.com/users/HangyuanLiu/following{/other_user}","gists_url":"https://api.github.com/users/HangyuanLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/HangyuanLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HangyuanLiu/subscriptions","organizations_url":"https://api.github.com/users/HangyuanLiu/orgs","repos_url":"https://api.github.com/users/HangyuanLiu/repos","events_url":"https://api.github.com/users/HangyuanLiu/events{/privacy}","received_events_url":"https://api.github.com/users/HangyuanLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-25T10:09:12Z","updated_at":"2020-02-25T10:09:12Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/590787675/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/590816129","html_url":"https://github.com/apache/doris/issues/2974#issuecomment-590816129","issue_url":"https://api.github.com/repos/apache/doris/issues/2974","id":590816129,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDgxNjEyOQ==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-25T11:15:03Z","updated_at":"2020-02-25T11:15:03Z","author_association":"CONTRIBUTOR","body":"Like we discussed in WeChat group, `PREAGGREGATION: OFF` is a bug that is already fixed in latest master branch.\r\nHope you next test.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/590816129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/590879625","html_url":"https://github.com/apache/doris/issues/2976#issuecomment-590879625","issue_url":"https://api.github.com/repos/apache/doris/issues/2976","id":590879625,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDg3OTYyNQ==","user":{"login":"kangkaisen","id":9894906,"node_id":"MDQ6VXNlcjk4OTQ5MDY=","avatar_url":"https://avatars.githubusercontent.com/u/9894906?v=4","gravatar_id":"","url":"https://api.github.com/users/kangkaisen","html_url":"https://github.com/kangkaisen","followers_url":"https://api.github.com/users/kangkaisen/followers","following_url":"https://api.github.com/users/kangkaisen/following{/other_user}","gists_url":"https://api.github.com/users/kangkaisen/gists{/gist_id}","starred_url":"https://api.github.com/users/kangkaisen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kangkaisen/subscriptions","organizations_url":"https://api.github.com/users/kangkaisen/orgs","repos_url":"https://api.github.com/users/kangkaisen/repos","events_url":"https://api.github.com/users/kangkaisen/events{/privacy}","received_events_url":"https://api.github.com/users/kangkaisen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-25T13:58:07Z","updated_at":"2020-02-25T13:58:07Z","author_association":"CONTRIBUTOR","body":"> For users who want to get the raw binary of HLL and bitmap, we could add a configuration like `return_raw_value_for_complex_type` to support such scenario.\r\n\r\nWe don't need a configuration, If users indeed want to get the raw binary of HLL and bitmap, they could use `select hll_column, bitmap_cilumn from table`.  which sql is valid in Doris.\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/590879625/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/590897385","html_url":"https://github.com/apache/doris/pull/2980#issuecomment-590897385","issue_url":"https://api.github.com/repos/apache/doris/issues/2980","id":590897385,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDg5NzM4NQ==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-25T14:36:37Z","updated_at":"2020-02-25T14:36:37Z","author_association":"CONTRIBUTOR","body":"I don't quite understand how this configuration solves the problem you mentioned in the #2954 ? For example, the current clusters are HDD, and now some machines need to be replaced with SSDs. How to use this configuration in this case?","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/590897385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/590913254","html_url":"https://github.com/apache/doris/pull/2980#issuecomment-590913254","issue_url":"https://api.github.com/repos/apache/doris/issues/2980","id":590913254,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDkxMzI1NA==","user":{"login":"WingsGo","id":22497357,"node_id":"MDQ6VXNlcjIyNDk3MzU3","avatar_url":"https://avatars.githubusercontent.com/u/22497357?v=4","gravatar_id":"","url":"https://api.github.com/users/WingsGo","html_url":"https://github.com/WingsGo","followers_url":"https://api.github.com/users/WingsGo/followers","following_url":"https://api.github.com/users/WingsGo/following{/other_user}","gists_url":"https://api.github.com/users/WingsGo/gists{/gist_id}","starred_url":"https://api.github.com/users/WingsGo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WingsGo/subscriptions","organizations_url":"https://api.github.com/users/WingsGo/orgs","repos_url":"https://api.github.com/users/WingsGo/repos","events_url":"https://api.github.com/users/WingsGo/events{/privacy}","received_events_url":"https://api.github.com/users/WingsGo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-25T15:07:37Z","updated_at":"2020-02-25T15:08:48Z","author_association":"CONTRIBUTOR","body":"> I don't quite understand how this configuration solves the problem you mentioned in the #2954 ? For example, the current clusters are HDD, and now some machines need to be replaced with SSDs. How to use this configuration in this case?\r\n\r\nYes, this configuration can not change partitions already is HDD. But if cluster medium is changed from HDD to SSD, admin should change the history partitions storage medium. But for users, they may have no idea that the cluster storage_medium is changed or even they don't konw about they can specify the storage_medium.So in this case, they will create table as usual, this will cause all partitions's storage_medium after migration is default (HDD), but currently, the cluster have no machine who's medium is HDD, this will cause some problem about cluster balance.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/590913254/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/591243381","html_url":"https://github.com/apache/doris/pull/2996#issuecomment-591243381","issue_url":"https://api.github.com/repos/apache/doris/issues/2996","id":591243381,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTI0MzM4MQ==","user":{"login":"caiconghui","id":55968745,"node_id":"MDQ6VXNlcjU1OTY4NzQ1","avatar_url":"https://avatars.githubusercontent.com/u/55968745?v=4","gravatar_id":"","url":"https://api.github.com/users/caiconghui","html_url":"https://github.com/caiconghui","followers_url":"https://api.github.com/users/caiconghui/followers","following_url":"https://api.github.com/users/caiconghui/following{/other_user}","gists_url":"https://api.github.com/users/caiconghui/gists{/gist_id}","starred_url":"https://api.github.com/users/caiconghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caiconghui/subscriptions","organizations_url":"https://api.github.com/users/caiconghui/orgs","repos_url":"https://api.github.com/users/caiconghui/repos","events_url":"https://api.github.com/users/caiconghui/events{/privacy}","received_events_url":"https://api.github.com/users/caiconghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T05:15:36Z","updated_at":"2020-02-26T05:15:36Z","author_association":"CONTRIBUTOR","body":"for #2997 ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/591243381/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/591370257","html_url":"https://github.com/apache/doris/issues/2893#issuecomment-591370257","issue_url":"https://api.github.com/repos/apache/doris/issues/2893","id":591370257,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTM3MDI1Nw==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T11:05:44Z","updated_at":"2020-02-26T11:05:44Z","author_association":"CONTRIBUTOR","body":"Thread in this place is not elegant and will be refactored will imported ThreadPool framework.\r\nhttps://github.com/apache/incubator-doris/pull/2915\r\nIf you have interest, we can discuss to do it.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/591370257/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/591464914","html_url":"https://github.com/apache/doris/pull/3004#issuecomment-591464914","issue_url":"https://api.github.com/repos/apache/doris/issues/3004","id":591464914,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTQ2NDkxNA==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T14:50:47Z","updated_at":"2020-02-26T14:50:47Z","author_association":"CONTRIBUTOR","body":"Does access s3 need a SDK or dependent library?\r\nThis library may be incorporated into third-party ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/591464914/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/591737881","html_url":"https://github.com/apache/doris/pull/2980#issuecomment-591737881","issue_url":"https://api.github.com/repos/apache/doris/issues/2980","id":591737881,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTczNzg4MQ==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T01:56:54Z","updated_at":"2020-02-27T01:56:54Z","author_association":"CONTRIBUTOR","body":"So you mean, when all the disks of a cluster are replaced with SSD, we set this parameter to SSD?\r\n\r\nThen if only a part of the disks in the cluster are replaced with SSDs, do we need to change this parameter to SSDs? If it is changed, then all new data will fall on the SSD?","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/591737881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/591737887","html_url":"https://github.com/apache/doris/pull/2980#issuecomment-591737887","issue_url":"https://api.github.com/repos/apache/doris/issues/2980","id":591737887,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTczNzg4Nw==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T01:56:56Z","updated_at":"2020-02-27T01:56:56Z","author_association":"CONTRIBUTOR","body":"So you mean, when all the disks of a cluster are replaced with SSD, we set this parameter to SSD?\r\n\r\nThen if only a part of the disks in the cluster are replaced with SSDs, do we need to change this parameter to SSDs? If it is changed, then all new data will fall on the SSD?","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/591737887/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/591762513","html_url":"https://github.com/apache/doris/pull/2980#issuecomment-591762513","issue_url":"https://api.github.com/repos/apache/doris/issues/2980","id":591762513,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTc2MjUxMw==","user":{"login":"WingsGo","id":22497357,"node_id":"MDQ6VXNlcjIyNDk3MzU3","avatar_url":"https://avatars.githubusercontent.com/u/22497357?v=4","gravatar_id":"","url":"https://api.github.com/users/WingsGo","html_url":"https://github.com/WingsGo","followers_url":"https://api.github.com/users/WingsGo/followers","following_url":"https://api.github.com/users/WingsGo/following{/other_user}","gists_url":"https://api.github.com/users/WingsGo/gists{/gist_id}","starred_url":"https://api.github.com/users/WingsGo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WingsGo/subscriptions","organizations_url":"https://api.github.com/users/WingsGo/orgs","repos_url":"https://api.github.com/users/WingsGo/repos","events_url":"https://api.github.com/users/WingsGo/events{/privacy}","received_events_url":"https://api.github.com/users/WingsGo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T03:33:49Z","updated_at":"2020-02-27T03:33:49Z","author_association":"CONTRIBUTOR","body":"In my opinion, this configuration gives admin a choice, if part of the disk are replaced with SSD, we don't need to change anything, the PR doesn't affect anything either. This PR is just an admin option, it will help admin control the system more conviently without change users's behavior. If the cluster is combine with HDD and SSD, admin should let users konwn what kind of table's medium should they choose.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/591762513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/591799150","html_url":"https://github.com/apache/doris/pull/3004#issuecomment-591799150","issue_url":"https://api.github.com/repos/apache/doris/issues/3004","id":591799150,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTc5OTE1MA==","user":{"login":"frwrdt","id":38685812,"node_id":"MDQ6VXNlcjM4Njg1ODEy","avatar_url":"https://avatars.githubusercontent.com/u/38685812?v=4","gravatar_id":"","url":"https://api.github.com/users/frwrdt","html_url":"https://github.com/frwrdt","followers_url":"https://api.github.com/users/frwrdt/followers","following_url":"https://api.github.com/users/frwrdt/following{/other_user}","gists_url":"https://api.github.com/users/frwrdt/gists{/gist_id}","starred_url":"https://api.github.com/users/frwrdt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/frwrdt/subscriptions","organizations_url":"https://api.github.com/users/frwrdt/orgs","repos_url":"https://api.github.com/users/frwrdt/repos","events_url":"https://api.github.com/users/frwrdt/events{/privacy}","received_events_url":"https://api.github.com/users/frwrdt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T06:05:34Z","updated_at":"2020-02-27T06:06:05Z","author_association":"CONTRIBUTOR","body":"> Does access s3 need a SDK or dependent library?\r\n> This library may be incorporated into third-party\r\n\r\nThere is no change in pom.xml and lib for be and fe. \r\nThis pr just add hadoop-aws sdk in pom.xml for broker and there is no conflict in dependencies.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/591799150/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/591880810","html_url":"https://github.com/apache/doris/issues/2893#issuecomment-591880810","issue_url":"https://api.github.com/repos/apache/doris/issues/2893","id":591880810,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTg4MDgxMA==","user":{"login":"vagetablechicken","id":24697960,"node_id":"MDQ6VXNlcjI0Njk3OTYw","avatar_url":"https://avatars.githubusercontent.com/u/24697960?v=4","gravatar_id":"","url":"https://api.github.com/users/vagetablechicken","html_url":"https://github.com/vagetablechicken","followers_url":"https://api.github.com/users/vagetablechicken/followers","following_url":"https://api.github.com/users/vagetablechicken/following{/other_user}","gists_url":"https://api.github.com/users/vagetablechicken/gists{/gist_id}","starred_url":"https://api.github.com/users/vagetablechicken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vagetablechicken/subscriptions","organizations_url":"https://api.github.com/users/vagetablechicken/orgs","repos_url":"https://api.github.com/users/vagetablechicken/repos","events_url":"https://api.github.com/users/vagetablechicken/events{/privacy}","received_events_url":"https://api.github.com/users/vagetablechicken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T09:51:48Z","updated_at":"2020-02-27T09:51:48Z","author_association":"CONTRIBUTOR","body":"> Thread in this place is not elegant and will be refactored will imported ThreadPool framework.\r\n> #2915\r\n> If you have interest, we can discuss to do it.\r\n\r\nThat's nice. Actually, I'm meant to create a issue about thread pool, which using KUDU as a reference model.\r\nIf TaskWorkerPool was replaced by KUDU::ThreadPool, it can be shutdown. And the variable number of threads is an excellent design.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/591880810/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/591912340","html_url":"https://github.com/apache/doris/issues/3010#issuecomment-591912340","issue_url":"https://api.github.com/repos/apache/doris/issues/3010","id":591912340,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTkxMjM0MA==","user":{"login":"wyb","id":972887,"node_id":"MDQ6VXNlcjk3Mjg4Nw==","avatar_url":"https://avatars.githubusercontent.com/u/972887?v=4","gravatar_id":"","url":"https://api.github.com/users/wyb","html_url":"https://github.com/wyb","followers_url":"https://api.github.com/users/wyb/followers","following_url":"https://api.github.com/users/wyb/following{/other_user}","gists_url":"https://api.github.com/users/wyb/gists{/gist_id}","starred_url":"https://api.github.com/users/wyb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wyb/subscriptions","organizations_url":"https://api.github.com/users/wyb/orgs","repos_url":"https://api.github.com/users/wyb/repos","events_url":"https://api.github.com/users/wyb/events{/privacy}","received_events_url":"https://api.github.com/users/wyb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T11:03:44Z","updated_at":"2020-02-27T11:03:44Z","author_association":"CONTRIBUTOR","body":"Discussed with @wangbo, update loadstmt for temporary use.\r\n\r\n```sql\r\nLOAD LABEL db_name.label_name \r\n(\r\n  DATA INFILE \"/tmp/file1\" INTO TABLE t1 ...,\r\n  -- DATA FROM TABLE hive_table ...\r\n)\r\nWITH spark.cluster_name\r\n[PROPERTIES (\"bitmap_data\" = \"hive_db.table\", key1=value1, ... )]\r\n```","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/591912340/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/591924549","html_url":"https://github.com/apache/doris/issues/3010#issuecomment-591924549","issue_url":"https://api.github.com/repos/apache/doris/issues/3010","id":591924549,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTkyNDU0OQ==","user":{"login":"kangpinghuang","id":40422952,"node_id":"MDQ6VXNlcjQwNDIyOTUy","avatar_url":"https://avatars.githubusercontent.com/u/40422952?v=4","gravatar_id":"","url":"https://api.github.com/users/kangpinghuang","html_url":"https://github.com/kangpinghuang","followers_url":"https://api.github.com/users/kangpinghuang/followers","following_url":"https://api.github.com/users/kangpinghuang/following{/other_user}","gists_url":"https://api.github.com/users/kangpinghuang/gists{/gist_id}","starred_url":"https://api.github.com/users/kangpinghuang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kangpinghuang/subscriptions","organizations_url":"https://api.github.com/users/kangpinghuang/orgs","repos_url":"https://api.github.com/users/kangpinghuang/repos","events_url":"https://api.github.com/users/kangpinghuang/events{/privacy}","received_events_url":"https://api.github.com/users/kangpinghuang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T11:33:28Z","updated_at":"2020-02-27T11:33:28Z","author_association":"CONTRIBUTOR","body":"hi, I think JobConf should add the level relation(tree) of rollup indexes which can be decided better in FE.\r\ntables/columns/sources/indexes is a array, not a struct?\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/591924549/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/592024596","html_url":"https://github.com/apache/doris/issues/3010#issuecomment-592024596","issue_url":"https://api.github.com/repos/apache/doris/issues/3010","id":592024596,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjAyNDU5Ng==","user":{"login":"wyb","id":972887,"node_id":"MDQ6VXNlcjk3Mjg4Nw==","avatar_url":"https://avatars.githubusercontent.com/u/972887?v=4","gravatar_id":"","url":"https://api.github.com/users/wyb","html_url":"https://github.com/wyb","followers_url":"https://api.github.com/users/wyb/followers","following_url":"https://api.github.com/users/wyb/following{/other_user}","gists_url":"https://api.github.com/users/wyb/gists{/gist_id}","starred_url":"https://api.github.com/users/wyb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wyb/subscriptions","organizations_url":"https://api.github.com/users/wyb/orgs","repos_url":"https://api.github.com/users/wyb/repos","events_url":"https://api.github.com/users/wyb/events{/privacy}","received_events_url":"https://api.github.com/users/wyb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T15:32:54Z","updated_at":"2020-02-27T15:32:54Z","author_association":"CONTRIBUTOR","body":"@kangpinghuang \r\nLevel relation for rollup data conversion is the strategy in ETL, if we update the strategy later, we can only update the ETL code, so i think it is better to deal with it in ETL.\r\n\r\nWe will get the attributes of column by column name, it is more convenient when using map.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/592024596/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/592275347","html_url":"https://github.com/apache/doris/issues/3008#issuecomment-592275347","issue_url":"https://api.github.com/repos/apache/doris/issues/3008","id":592275347,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjI3NTM0Nw==","user":{"login":"gaodayue","id":1198446,"node_id":"MDQ6VXNlcjExOTg0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/1198446?v=4","gravatar_id":"","url":"https://api.github.com/users/gaodayue","html_url":"https://github.com/gaodayue","followers_url":"https://api.github.com/users/gaodayue/followers","following_url":"https://api.github.com/users/gaodayue/following{/other_user}","gists_url":"https://api.github.com/users/gaodayue/gists{/gist_id}","starred_url":"https://api.github.com/users/gaodayue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaodayue/subscriptions","organizations_url":"https://api.github.com/users/gaodayue/orgs","repos_url":"https://api.github.com/users/gaodayue/repos","events_url":"https://api.github.com/users/gaodayue/events{/privacy}","received_events_url":"https://api.github.com/users/gaodayue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-28T02:09:48Z","updated_at":"2020-02-28T02:09:48Z","author_association":"CONTRIBUTOR","body":"Maybe it's related to #2946 , needs investigation","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/592275347/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/592297343","html_url":"https://github.com/apache/doris/issues/2974#issuecomment-592297343","issue_url":"https://api.github.com/repos/apache/doris/issues/2974","id":592297343,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjI5NzM0Mw==","user":{"login":"BabySid","id":6658943,"node_id":"MDQ6VXNlcjY2NTg5NDM=","avatar_url":"https://avatars.githubusercontent.com/u/6658943?v=4","gravatar_id":"","url":"https://api.github.com/users/BabySid","html_url":"https://github.com/BabySid","followers_url":"https://api.github.com/users/BabySid/followers","following_url":"https://api.github.com/users/BabySid/following{/other_user}","gists_url":"https://api.github.com/users/BabySid/gists{/gist_id}","starred_url":"https://api.github.com/users/BabySid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BabySid/subscriptions","organizations_url":"https://api.github.com/users/BabySid/orgs","repos_url":"https://api.github.com/users/BabySid/repos","events_url":"https://api.github.com/users/BabySid/events{/privacy}","received_events_url":"https://api.github.com/users/BabySid/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-28T03:40:16Z","updated_at":"2020-02-28T03:40:27Z","author_association":"CONTRIBUTOR","body":"@morningman \r\nThe conclusion is very surprising.\r\nit take ~1s using the newest version.\r\nIt gives me great confidence to use doris instead of druid（druid take ~3s）in the future.\r\nfinally thanks very much for @imay 's advice on how to use rollup\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/592297343/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/592314531","html_url":"https://github.com/apache/doris/issues/3010#issuecomment-592314531","issue_url":"https://api.github.com/repos/apache/doris/issues/3010","id":592314531,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjMxNDUzMQ==","user":{"login":"wangbo","id":12951030,"node_id":"MDQ6VXNlcjEyOTUxMDMw","avatar_url":"https://avatars.githubusercontent.com/u/12951030?v=4","gravatar_id":"","url":"https://api.github.com/users/wangbo","html_url":"https://github.com/wangbo","followers_url":"https://api.github.com/users/wangbo/followers","following_url":"https://api.github.com/users/wangbo/following{/other_user}","gists_url":"https://api.github.com/users/wangbo/gists{/gist_id}","starred_url":"https://api.github.com/users/wangbo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangbo/subscriptions","organizations_url":"https://api.github.com/users/wangbo/orgs","repos_url":"https://api.github.com/users/wangbo/repos","events_url":"https://api.github.com/users/wangbo/events{/privacy}","received_events_url":"https://api.github.com/users/wangbo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-28T05:00:47Z","updated_at":"2020-02-28T05:05:53Z","author_association":"CONTRIBUTOR","body":"> I think JobConf should add the level relation(tree) of rollup indexes which can be decided better in FE.\r\n\r\n> Level relation for rollup data conversion is the strategy in ETL, if we update the strategy later, we can only update the ETL code, so i think it is better to deal with it in ETL.\r\n\r\nI think we can make a ```RollupUtil```,it read input info(table schema) and calculate the rollup relation,then we can package it into a jar which would be submitted with spark jar.\r\nSo we can use it both in Fe and ```EtLJob```.\r\nTotally,We can calculate the tree relation using table schema when we need it.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/592314531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]