[{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/889423370","html_url":"https://github.com/apache/accumulo/issues/1793#issuecomment-889423370","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1793","id":889423370,"node_id":"IC_kwDOACaFSM41A4YK","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-29T20:06:33Z","updated_at":"2021-07-29T20:06:33Z","author_association":"MEMBER","body":"Normally this test will create a slow op for a compaction then enter into a loop to wait until it shows up in the metrics file. To complete successfully, in the file `currentFateOps` will be ` >= tableCount`. Typically, this takes some time to happen and will appear in the file after about a minute. Somehow `currentFateOps` was always zero and `totalFateOps` was always 4. or comparison, this is how the output of the test should look.\r\n\r\n<details>\r\n\r\n```\r\n2021-07-29T15:29:06,002 [util.SlowOps] INFO : Created table id: 1, name 'MasterMetricsIT_compactionMetrics0_0'\r\n2021-07-29T15:29:06,263 [util.SlowOps] INFO : Starting compaction.  Attempt 1\r\n2021-07-29T15:29:09,303 [util.SlowOps] DEBUG: Compaction running for MasterMetricsIT_compactionMetrics0_0\r\n2021-07-29T15:29:09,303 [functional.MasterMetricsIT] INFO : Received metrics LineUpdate{lastUpdate=15017606383, line='1627586943249 master.fate: Context=master, ProcessName=Master, Hostname=thor, currentFateOps=0, totalFateOps=0, totalZkConnErrors=0, FateTxState_NEW=0, FateTxState_IN_PROGRESS=0, FateTxState_FAILED_IN_PROGRESS=0, FateTxState_FAILED=0, FateTxState_SUCCESSFUL=0, FateTxState_UNKNOWN=0'}\r\n2021-07-29T15:29:14,318 [functional.MasterMetricsIT] INFO : Received metrics update LineUpdate{lastUpdate=20019595081, line='1627586948250 master.fate: Context=master, ProcessName=Master, Hostname=thor, currentFateOps=0, totalFateOps=0, totalZkConnErrors=0, FateTxState_NEW=0, FateTxState_IN_PROGRESS=0, FateTxState_FAILED_IN_PROGRESS=0, FateTxState_FAILED=0, FateTxState_SUCCESSFUL=0, FateTxState_UNKNOWN=0'}\r\n2021-07-29T15:29:24,319 [functional.MasterMetricsIT] INFO : Received metrics update LineUpdate{lastUpdate=30026699322, line='1627586958252 master.fate: Context=master, ProcessName=Master, Hostname=thor, currentFateOps=0, totalFateOps=0, totalZkConnErrors=0, FateTxState_NEW=0, FateTxState_IN_PROGRESS=0, FateTxState_FAILED_IN_PROGRESS=0, FateTxState_FAILED=0, FateTxState_SUCCESSFUL=0, FateTxState_UNKNOWN=0'}\r\n2021-07-29T15:29:34,319 [functional.MasterMetricsIT] INFO : Received metrics update LineUpdate{lastUpdate=40034605394, line='1627586968244 master.fate: Context=master, ProcessName=Master, Hostname=thor, currentFateOps=0, totalFateOps=0, totalZkConnErrors=0, FateTxState_NEW=0, FateTxState_IN_PROGRESS=0, FateTxState_FAILED_IN_PROGRESS=0, FateTxState_FAILED=0, FateTxState_SUCCESSFUL=0, FateTxState_UNKNOWN=0'}\r\n2021-07-29T15:29:44,320 [functional.MasterMetricsIT] INFO : Received metrics update LineUpdate{lastUpdate=50042852335, line='1627586978249 master.fate: Context=master, ProcessName=Master, Hostname=thor, currentFateOps=0, totalFateOps=0, totalZkConnErrors=0, FateTxState_NEW=0, FateTxState_IN_PROGRESS=0, FateTxState_FAILED_IN_PROGRESS=0, FateTxState_FAILED=0, FateTxState_SUCCESSFUL=0, FateTxState_UNKNOWN=0'}\r\n2021-07-29T15:29:54,320 [functional.MasterMetricsIT] INFO : Received metrics update LineUpdate{lastUpdate=60051744888, line='1627586988245 master.fate: Context=master, ProcessName=Master, Hostname=thor, currentFateOps=0, totalFateOps=0, totalZkConnErrors=0, FateTxState_NEW=0, FateTxState_IN_PROGRESS=0, FateTxState_FAILED_IN_PROGRESS=0, FateTxState_FAILED=0, FateTxState_SUCCESSFUL=0, FateTxState_UNKNOWN=0'}\r\n2021-07-29T15:30:04,321 [functional.MasterMetricsIT] INFO : Received metrics update LineUpdate{lastUpdate=70056551575, line='1627586998247 master.fate: Context=master, ProcessName=Master, Hostname=thor, currentFateOps=1, totalFateOps=3, totalZkConnErrors=0, FateTxState_NEW=0, FateTxState_IN_PROGRESS=1, FateTxState_FAILED_IN_PROGRESS=0, FateTxState_FAILED=0, FateTxState_SUCCESSFUL=0, FateTxState_UNKNOWN=0, FateTxOpType_CompactRange=1'}\r\n2021-07-29T15:30:04,322 [functional.MasterMetricsIT] INFO : Found required number of fate operations\r\n2021-07-29T15:30:04,322 [functional.MasterMetricsIT] ERROR: IN_PROGRESS: 1\r\n2021-07-29T15:30:09,706 [functional.MasterMetricsIT] INFO : Received metrics {1627587003247 master.fate: Context=master, FateTxOpType_CompactRange=1, FateTxState_FAILED=0, FateTxState_FAILED_IN_PROGRESS=0, FateTxState_IN_PROGRESS=1, FateTxState_NEW=0, FateTxState_SUCCESSFUL=0, FateTxState_UNKNOWN=0, Hostname=thor, ProcessName=Master, currentFateOps=1, totalFateOps=3, totalZkConnErrors=0}\r\n```\r\n</details>\r\n\r\nMy guess is that this is not an issue with the test. Potentially the slow op was not actually slow and completed faster than expected","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/889423370/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/889425555","html_url":"https://github.com/apache/accumulo/issues/1793#issuecomment-889425555","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1793","id":889425555,"node_id":"IC_kwDOACaFSM41A46T","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-29T20:10:09Z","updated_at":"2021-07-29T20:22:54Z","author_association":"MEMBER","body":"> STDOUT had a curious comment about tasks remaining in a threadpool when stopped\r\n\r\nAs for this comment, I can reproduce it by making it so the test reaches its timeout while in the loop in `ManagerMetricsIT.blockForRequiredTables()`. I think this happens because the compactions are never cancelled (which is taken care of after `blockForRequiredTables()` completes).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/889425555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/889935593","html_url":"https://github.com/apache/accumulo/issues/1793#issuecomment-889935593","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1793","id":889935593,"node_id":"IC_kwDOACaFSM41C1bp","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-30T14:35:42Z","updated_at":"2021-07-30T14:35:42Z","author_association":"MEMBER","body":"It looks like there was a ticket previous to this one, #1598 (and subsequent PR #1599) which aimed to fix this issue by reducing the resources this test uses. It does seem like this error is transient and not easily reproducible. Not to sure what else can be done to make this test more reliable.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/889935593/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/889999862","html_url":"https://github.com/apache/accumulo/pull/2185#issuecomment-889999862","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2185","id":889999862,"node_id":"IC_kwDOACaFSM41DFH2","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-30T16:18:22Z","updated_at":"2021-07-30T16:18:22Z","author_association":"CONTRIBUTOR","body":"> Everything looks good from my perspective. Have you done any testing to verify that Accumulo will automatically re-sort the WALs once these are deleted? Any way to create a test for that?\r\n\r\nYeah I did some manual testing with Uno. It may be possible to create an IT with the old files saved off but I imagine it would be quite involved. I am not sure its worth the work for a one time thing that will only ever happen between versions.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/889999862/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/890066855","html_url":"https://github.com/apache/accumulo/pull/2188#issuecomment-890066855","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2188","id":890066855,"node_id":"IC_kwDOACaFSM41DVen","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-30T18:11:06Z","updated_at":"2021-07-30T18:11:06Z","author_association":"MEMBER","body":"> A follow-on task may be to implement a bridge between micrometer and the hadoop metrics system\r\n\r\n@EdColeman, do you think this should wait until after these changes are made or incorporated in some way into these changes?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/890066855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/890074825","html_url":"https://github.com/apache/accumulo/pull/2188#issuecomment-890074825","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2188","id":890074825,"node_id":"IC_kwDOACaFSM41DXbJ","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-30T18:26:31Z","updated_at":"2021-07-30T18:26:31Z","author_association":"CONTRIBUTOR","body":"These changes would have more impact if the hadoop metrics could be removed from the code base - and to do that it, it would ease transitions if there was a way to do the translation for users.  If the translation happens where the metrics are collected / reported, then that would be the only place where the hadoop metrics classes are used / needed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/890074825/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/890077405","html_url":"https://github.com/apache/accumulo/pull/2185#issuecomment-890077405","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2185","id":890077405,"node_id":"IC_kwDOACaFSM41DYDd","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-30T18:31:15Z","updated_at":"2021-07-30T18:31:15Z","author_association":"CONTRIBUTOR","body":"@ctubbsii I reverted the changes I made adding a new upgradeFiles method to the Upgrade interface and now this change is much simpler. I believe I got rid of the changes you had concern over. This PR was just the new code I added to fix old sorted logs.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/890077405/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/890081008","html_url":"https://github.com/apache/accumulo/issues/1793#issuecomment-890081008","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1793","id":890081008,"node_id":"IC_kwDOACaFSM41DY7w","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-30T18:38:20Z","updated_at":"2021-07-30T18:38:20Z","author_association":"MEMBER","body":"To be fair, I haven't seen it in awhile, so we can close this for now.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/890081008/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/890133440","html_url":"https://github.com/apache/accumulo/pull/2185#issuecomment-890133440","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2185","id":890133440,"node_id":"IC_kwDOACaFSM41DlvA","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-30T20:21:08Z","updated_at":"2021-07-30T20:21:08Z","author_association":"CONTRIBUTOR","body":"So I did so more testing and while it successfully deleted the old data, I am not 100% sure that it won't delete WALs that still have referenced data in them. This is a little tricky to test manually, as you need to make sure the table is recovering but also have unloaded tablets (before the data is flushed to disk). I am going to open a ticket to test this using Continuous Ingest.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/890133440/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/890491909","html_url":"https://github.com/apache/accumulo/issues/2217#issuecomment-890491909","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2217","id":890491909,"node_id":"IC_kwDOACaFSM41E9QF","user":{"login":"Shivakumar-SG","id":47275182,"node_id":"MDQ6VXNlcjQ3Mjc1MTgy","avatar_url":"https://avatars.githubusercontent.com/u/47275182?v=4","gravatar_id":"","url":"https://api.github.com/users/Shivakumar-SG","html_url":"https://github.com/Shivakumar-SG","followers_url":"https://api.github.com/users/Shivakumar-SG/followers","following_url":"https://api.github.com/users/Shivakumar-SG/following{/other_user}","gists_url":"https://api.github.com/users/Shivakumar-SG/gists{/gist_id}","starred_url":"https://api.github.com/users/Shivakumar-SG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Shivakumar-SG/subscriptions","organizations_url":"https://api.github.com/users/Shivakumar-SG/orgs","repos_url":"https://api.github.com/users/Shivakumar-SG/repos","events_url":"https://api.github.com/users/Shivakumar-SG/events{/privacy}","received_events_url":"https://api.github.com/users/Shivakumar-SG/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-01T10:25:09Z","updated_at":"2021-08-01T11:09:27Z","author_association":"CONTRIBUTOR","body":"Hey, I would like to take up this issue.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/890491909/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/890499877","html_url":"https://github.com/apache/accumulo/issues/2217#issuecomment-890499877","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2217","id":890499877,"node_id":"IC_kwDOACaFSM41E_Ml","user":{"login":"Shivakumar-SG","id":47275182,"node_id":"MDQ6VXNlcjQ3Mjc1MTgy","avatar_url":"https://avatars.githubusercontent.com/u/47275182?v=4","gravatar_id":"","url":"https://api.github.com/users/Shivakumar-SG","html_url":"https://github.com/Shivakumar-SG","followers_url":"https://api.github.com/users/Shivakumar-SG/followers","following_url":"https://api.github.com/users/Shivakumar-SG/following{/other_user}","gists_url":"https://api.github.com/users/Shivakumar-SG/gists{/gist_id}","starred_url":"https://api.github.com/users/Shivakumar-SG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Shivakumar-SG/subscriptions","organizations_url":"https://api.github.com/users/Shivakumar-SG/orgs","repos_url":"https://api.github.com/users/Shivakumar-SG/repos","events_url":"https://api.github.com/users/Shivakumar-SG/events{/privacy}","received_events_url":"https://api.github.com/users/Shivakumar-SG/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-01T11:15:39Z","updated_at":"2021-08-01T11:15:39Z","author_association":"CONTRIBUTOR","body":"I'm a bit confused about how to reproduce the above mentioned output as I'm a newbie to open source😌. \r\n@EdColeman Would you mind giving me a lil start?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/890499877/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/890511823","html_url":"https://github.com/apache/accumulo/issues/2217#issuecomment-890511823","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2217","id":890511823,"node_id":"IC_kwDOACaFSM41FCHP","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-01T12:25:51Z","updated_at":"2021-08-01T13:10:04Z","author_association":"CONTRIBUTOR","body":"Maybe @Manno15 has additional suggestions, but the coding for this issue is probably the easiest part, but to develop and test might be more complicated.\r\n\r\nMore information on running the command is available in the documentation [Troubleshooting Tools](https://accumulo.apache.org/docs/2.x/troubleshooting/tools)\r\n\r\nRFiles are the  storage format used by Accumulo.  \r\n\r\nTo generate sample inputs there are some options.\r\n\r\n- Writing tests that use LogHistogram class (internal to PrintInfo) directly\r\n- Using / adopting org.apache.accumulo.core.file.rfile.RFileTest\r\n\r\nOptions to generate \"real\" files:\r\n\r\n- Running an Accumulo instance. See  [Setup](https://accumulo.apache.org/docs/2.x/getting-started/quickstart) \r\n- Running one or more of the integration tests. The output would end up in ./test/target/mini-tests/[TEST-NAME]/accumulo/tables/[TABLE_ID]  Running integration tests using maven is shown in [Running a Build](https://accumulo.apache.org/contributor/building)\r\n\r\nThe general structure used by Accumulo is described in the [Advanced Troubleshooting](https://accumulo.apache.org/docs/2.x/troubleshooting/advanced) and generate rfiles will be placed into directories according that structure and can then be displayed using the print-info shell command.\r\n\r\nSuccessful development and testing would likely require one or more of the above to demonstrate larger prefixes (MB, GB...) are being correctly formatted.\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/890511823/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/891265795","html_url":"https://github.com/apache/accumulo/issues/2209#issuecomment-891265795","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2209","id":891265795,"node_id":"IC_kwDOACaFSM41H6MD","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-02T19:11:21Z","updated_at":"2021-08-02T19:11:21Z","author_association":"MEMBER","body":"Looking closer at this test it looks like it is failing from a NullPointerException thrown from calling `getLoaded()` on a null `TabletMetadata` object. It is null because the `TabletsMetadata` object returned from the builder in `AmpleImpl.readTablet()` is empty, triggering the NoSuchElementException, returning null. Still looking into why this is happening.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/891265795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/891835852","html_url":"https://github.com/apache/accumulo/pull/2221#issuecomment-891835852","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2221","id":891835852,"node_id":"IC_kwDOACaFSM41KFXM","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-03T13:13:14Z","updated_at":"2021-08-03T13:13:14Z","author_association":"CONTRIBUTOR","body":"In case there are any questions about the default buffer size being 256K, I used the default value defined in [QATConfigurationKeys](https://github.com/Intel-bigdata/IntelQATCodec/blob/master/hadoop_qat_wrapper/src/main/java/org/apache/hadoop/io/compress/conf/QatConfigurationKeys.java)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/891835852/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/891864482","html_url":"https://github.com/apache/accumulo/pull/2220#issuecomment-891864482","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2220","id":891864482,"node_id":"IC_kwDOACaFSM41KMWi","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-03T13:51:27Z","updated_at":"2021-08-03T13:51:27Z","author_association":"CONTRIBUTOR","body":"@Shivakumar-SG It looks like the build failed due to not being formatted correctly. You can run something like `mvn package -DskipTests` at the root of the project and it will apply the proper formatting for you. Include those changes into a new commit for this PR and the build should pass from there. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/891864482/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/891992667","html_url":"https://github.com/apache/accumulo/issues/2219#issuecomment-891992667","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2219","id":891992667,"node_id":"IC_kwDOACaFSM41Krpb","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-03T16:34:13Z","updated_at":"2021-08-03T16:34:13Z","author_association":"CONTRIBUTOR","body":"Probably out of scope for this change, but is there any movement towards also supporting zstd as a compression scheme.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/891992667/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892008577","html_url":"https://github.com/apache/accumulo/pull/2221#issuecomment-892008577","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2221","id":892008577,"node_id":"IC_kwDOACaFSM41KviB","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-03T16:58:32Z","updated_at":"2021-08-03T16:58:32Z","author_association":"CONTRIBUTOR","body":"@ctubbsii suggested re-working this PR to update the gzip codec to try and use the QAT if it's available instead of creating a new codec iff the QAT only performs gzip compression.\r\n\r\nAccording to the codec [documentation](https://github.com/Intel-bigdata/IntelQATCodec) the QATCodec depends on the QATZip library. [QATZip](https://github.com/intel/QATzip) says it \"produces data using the standard gzip* format (RFC1952) with extended headers. The data can be decompressed with a compliant gzip* implementation\"","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892008577/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892071890","html_url":"https://github.com/apache/accumulo/pull/2220#issuecomment-892071890","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2220","id":892071890,"node_id":"IC_kwDOACaFSM41K-_S","user":{"login":"Shivakumar-SG","id":47275182,"node_id":"MDQ6VXNlcjQ3Mjc1MTgy","avatar_url":"https://avatars.githubusercontent.com/u/47275182?v=4","gravatar_id":"","url":"https://api.github.com/users/Shivakumar-SG","html_url":"https://github.com/Shivakumar-SG","followers_url":"https://api.github.com/users/Shivakumar-SG/followers","following_url":"https://api.github.com/users/Shivakumar-SG/following{/other_user}","gists_url":"https://api.github.com/users/Shivakumar-SG/gists{/gist_id}","starred_url":"https://api.github.com/users/Shivakumar-SG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Shivakumar-SG/subscriptions","organizations_url":"https://api.github.com/users/Shivakumar-SG/orgs","repos_url":"https://api.github.com/users/Shivakumar-SG/repos","events_url":"https://api.github.com/users/Shivakumar-SG/events{/privacy}","received_events_url":"https://api.github.com/users/Shivakumar-SG/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-03T18:33:50Z","updated_at":"2021-08-03T18:33:50Z","author_association":"CONTRIBUTOR","body":"I have been trying from past few hours to run `mvn package -DskipTests`, but its throwing me many errors and I couldn't fix them. What would you want me to do?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892071890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892078509","html_url":"https://github.com/apache/accumulo/pull/2220#issuecomment-892078509","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2220","id":892078509,"node_id":"IC_kwDOACaFSM41LAmt","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-03T18:44:40Z","updated_at":"2021-08-03T18:44:40Z","author_association":"MEMBER","body":"@Shivakumar-SG what errors are being thrown?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892078509/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892080119","html_url":"https://github.com/apache/accumulo/pull/2220#issuecomment-892080119","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2220","id":892080119,"node_id":"IC_kwDOACaFSM41LA_3","user":{"login":"Shivakumar-SG","id":47275182,"node_id":"MDQ6VXNlcjQ3Mjc1MTgy","avatar_url":"https://avatars.githubusercontent.com/u/47275182?v=4","gravatar_id":"","url":"https://api.github.com/users/Shivakumar-SG","html_url":"https://github.com/Shivakumar-SG","followers_url":"https://api.github.com/users/Shivakumar-SG/followers","following_url":"https://api.github.com/users/Shivakumar-SG/following{/other_user}","gists_url":"https://api.github.com/users/Shivakumar-SG/gists{/gist_id}","starred_url":"https://api.github.com/users/Shivakumar-SG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Shivakumar-SG/subscriptions","organizations_url":"https://api.github.com/users/Shivakumar-SG/orgs","repos_url":"https://api.github.com/users/Shivakumar-SG/repos","events_url":"https://api.github.com/users/Shivakumar-SG/events{/privacy}","received_events_url":"https://api.github.com/users/Shivakumar-SG/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-03T18:47:19Z","updated_at":"2021-08-03T18:47:19Z","author_association":"CONTRIBUTOR","body":"A whole lot many actually :(","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892080119/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892083006","html_url":"https://github.com/apache/accumulo/pull/2220#issuecomment-892083006","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2220","id":892083006,"node_id":"IC_kwDOACaFSM41LBs-","user":{"login":"Shivakumar-SG","id":47275182,"node_id":"MDQ6VXNlcjQ3Mjc1MTgy","avatar_url":"https://avatars.githubusercontent.com/u/47275182?v=4","gravatar_id":"","url":"https://api.github.com/users/Shivakumar-SG","html_url":"https://github.com/Shivakumar-SG","followers_url":"https://api.github.com/users/Shivakumar-SG/followers","following_url":"https://api.github.com/users/Shivakumar-SG/following{/other_user}","gists_url":"https://api.github.com/users/Shivakumar-SG/gists{/gist_id}","starred_url":"https://api.github.com/users/Shivakumar-SG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Shivakumar-SG/subscriptions","organizations_url":"https://api.github.com/users/Shivakumar-SG/orgs","repos_url":"https://api.github.com/users/Shivakumar-SG/repos","events_url":"https://api.github.com/users/Shivakumar-SG/events{/privacy}","received_events_url":"https://api.github.com/users/Shivakumar-SG/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-03T18:51:55Z","updated_at":"2021-08-03T18:51:55Z","author_association":"CONTRIBUTOR","body":"if the build failed because of just the formatting, it would be great if someone could help me with the formatted code of my version","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892083006/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892083616","html_url":"https://github.com/apache/accumulo/pull/2220#issuecomment-892083616","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2220","id":892083616,"node_id":"IC_kwDOACaFSM41LB2g","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-03T18:52:53Z","updated_at":"2021-08-03T18:52:53Z","author_association":"MEMBER","body":"> if the build failed because of just the formatting, it would be great if someone could help me with the formatted code of my version\r\n\r\nSure, I can make a PR to your branch with the formatting changes.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892083616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892085093","html_url":"https://github.com/apache/accumulo/pull/2220#issuecomment-892085093","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2220","id":892085093,"node_id":"IC_kwDOACaFSM41LCNl","user":{"login":"Shivakumar-SG","id":47275182,"node_id":"MDQ6VXNlcjQ3Mjc1MTgy","avatar_url":"https://avatars.githubusercontent.com/u/47275182?v=4","gravatar_id":"","url":"https://api.github.com/users/Shivakumar-SG","html_url":"https://github.com/Shivakumar-SG","followers_url":"https://api.github.com/users/Shivakumar-SG/followers","following_url":"https://api.github.com/users/Shivakumar-SG/following{/other_user}","gists_url":"https://api.github.com/users/Shivakumar-SG/gists{/gist_id}","starred_url":"https://api.github.com/users/Shivakumar-SG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Shivakumar-SG/subscriptions","organizations_url":"https://api.github.com/users/Shivakumar-SG/orgs","repos_url":"https://api.github.com/users/Shivakumar-SG/repos","events_url":"https://api.github.com/users/Shivakumar-SG/events{/privacy}","received_events_url":"https://api.github.com/users/Shivakumar-SG/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-03T18:55:01Z","updated_at":"2021-08-03T18:55:01Z","author_association":"CONTRIBUTOR","body":"@DomGarguilo That would be great! Thank you so much","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892085093/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892095846","html_url":"https://github.com/apache/accumulo/pull/2220#issuecomment-892095846","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2220","id":892095846,"node_id":"IC_kwDOACaFSM41LE1m","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-03T19:11:48Z","updated_at":"2021-08-03T19:13:04Z","author_association":"CONTRIBUTOR","body":"Can you provide more information?\r\n\r\n- What platform are you running on?\r\n- What command are you running?\r\n- What is the first or  first few errors that you are getting?\r\n\r\nYou can do the same build as the verification checks, but skipping all of the tests by running:\r\n\r\n`mvn package javadoc:jar -Psec-bugs -DskipITs=true -DskipTests=true`\r\n\r\nThe javadoc and sec-bugs will add to the build time, but running those before submitting the PR can highlight issues that will fail the automatic build.  This should also format the files to the community standards.\r\n\r\nMore information on building is at [Building Accumulo](https://accumulo.apache.org/contributor/building)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892095846/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892113563","html_url":"https://github.com/apache/accumulo/pull/2220#issuecomment-892113563","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2220","id":892113563,"node_id":"IC_kwDOACaFSM41LJKb","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-03T19:40:22Z","updated_at":"2021-08-03T19:46:27Z","author_association":"CONTRIBUTOR","body":"It looks like you are missing the import for `bigNumberForSize()` which is `import org.apache.accumulo.core.util.NumUtil`","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892113563/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892115290","html_url":"https://github.com/apache/accumulo/pull/2220#issuecomment-892115290","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2220","id":892115290,"node_id":"IC_kwDOACaFSM41LJla","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-03T19:43:18Z","updated_at":"2021-08-03T19:43:18Z","author_association":"CONTRIBUTOR","body":"It also looks like an extra file (.DS_Store) was pushed along with you commit - that file should not be included.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892115290/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892118960","html_url":"https://github.com/apache/accumulo/pull/2220#issuecomment-892118960","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2220","id":892118960,"node_id":"IC_kwDOACaFSM41LKew","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-03T19:49:30Z","updated_at":"2021-08-03T19:49:30Z","author_association":"MEMBER","body":"It looks like with these changes the output is something like:\r\n![Screenshot from 2021-08-03 15-48-14](https://user-images.githubusercontent.com/47725857/128076980-c94ad179-cfef-41d1-9993-580689abb517.png)\r\n\r\nIs this what we are looking for?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892118960/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892120923","html_url":"https://github.com/apache/accumulo/pull/2220#issuecomment-892120923","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2220","id":892120923,"node_id":"IC_kwDOACaFSM41LK9b","user":{"login":"Shivakumar-SG","id":47275182,"node_id":"MDQ6VXNlcjQ3Mjc1MTgy","avatar_url":"https://avatars.githubusercontent.com/u/47275182?v=4","gravatar_id":"","url":"https://api.github.com/users/Shivakumar-SG","html_url":"https://github.com/Shivakumar-SG","followers_url":"https://api.github.com/users/Shivakumar-SG/followers","following_url":"https://api.github.com/users/Shivakumar-SG/following{/other_user}","gists_url":"https://api.github.com/users/Shivakumar-SG/gists{/gist_id}","starred_url":"https://api.github.com/users/Shivakumar-SG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Shivakumar-SG/subscriptions","organizations_url":"https://api.github.com/users/Shivakumar-SG/orgs","repos_url":"https://api.github.com/users/Shivakumar-SG/repos","events_url":"https://api.github.com/users/Shivakumar-SG/events{/privacy}","received_events_url":"https://api.github.com/users/Shivakumar-SG/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-03T19:52:46Z","updated_at":"2021-08-03T19:54:18Z","author_association":"CONTRIBUTOR","body":"> It looks like you are missing the import for `bigNumberForSize()` which is `import org.apache.accumulo.core.util.NumUtil`\r\n\r\nInitially, I did import and when the command `mvn package -DskipTests` is run, it takes `NumUtil` out.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892120923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892122487","html_url":"https://github.com/apache/accumulo/issues/2209#issuecomment-892122487","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2209","id":892122487,"node_id":"IC_kwDOACaFSM41LLV3","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-03T19:55:01Z","updated_at":"2021-08-03T19:55:01Z","author_association":"CONTRIBUTOR","body":"Tracked down the problem and fixed it in f503f1f.  After [MetadataTableUtil.splitTablet](https://github.com/apache/accumulo/blob/f503f1f6e66fe5657f305e18a65d07852ba035e0/test/src/main/java/org/apache/accumulo/test/functional/SplitRecoveryIT.java#L209) was called `extent` no longer existed in the metadata table.  Needed to use `high` instead.  The extents `extent` and `high` share the same end row in the test, but have different prev end rows. The changes in #2189 to check the prev end row made this difference matter.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892122487/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":2,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892122833","html_url":"https://github.com/apache/accumulo/pull/2220#issuecomment-892122833","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2220","id":892122833,"node_id":"IC_kwDOACaFSM41LLbR","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-03T19:55:35Z","updated_at":"2021-08-03T19:55:35Z","author_association":"CONTRIBUTOR","body":"\r\n> Initially, I did import and when the command mvn package -DskipTests is run, it takes it out.\r\n\r\nThat is most likely due to the import being unused since you weren't calling the function correctly (as suggested above). One of the format rules removes all unused imports. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892122833/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892124982","html_url":"https://github.com/apache/accumulo/issues/2209#issuecomment-892124982","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2209","id":892124982,"node_id":"IC_kwDOACaFSM41LL82","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-03T19:58:54Z","updated_at":"2021-08-03T19:58:54Z","author_association":"MEMBER","body":"Awesome. LGTM","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892124982/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892126588","html_url":"https://github.com/apache/accumulo/pull/2220#issuecomment-892126588","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2220","id":892126588,"node_id":"IC_kwDOACaFSM41LMV8","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-03T20:01:26Z","updated_at":"2021-08-03T20:01:26Z","author_association":"CONTRIBUTOR","body":"> Is this what we are looking for?\r\n\r\nThat output looks good to me. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892126588/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892155365","html_url":"https://github.com/apache/accumulo/pull/2220#issuecomment-892155365","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2220","id":892155365,"node_id":"IC_kwDOACaFSM41LTXl","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-03T20:48:14Z","updated_at":"2021-08-03T20:48:52Z","author_association":"CONTRIBUTOR","body":"For discussion on output format - it looks like there are some options - using powers of 10 or 2.  To produce a sample:\r\n\r\n```\r\n    for (int x = 1; x < 15; x++) {\r\n      System.out.println(\r\n          String.format(\"%s%11s\", \" \", NumUtil.bigNumberForQuantity((long) Math.pow(10, x))));\r\n    } \r\n    System.out.println(\"---\");\r\n    for (int x = 1; x < 16; x++) {\r\n      System.out.println(\r\n          String.format(\"%s%11s\", \" \", NumUtil.bigNumberForSize((long) Math.pow(16, x))));\r\n    }\r\n```\r\nThis produces:\r\n```\r\n          10\r\n         100\r\n       1.00K\r\n      10.00K\r\n     100.00K\r\n       1.00M\r\n      10.00M\r\n     100.00M\r\n       1.00B\r\n      10.00B\r\n     100.00B\r\n       1.00T\r\n      10.00T\r\n     100.00T\r\n---\r\n          16\r\n         256\r\n       4.00K\r\n      64.00K\r\n       1.00M\r\n      16.00M\r\n     256.00M\r\n       4.00G\r\n      64.00G\r\n       1.00T\r\n      16.00T\r\n```\r\nHaving even numbers seems more pleasing (to me) base 2 or 10 work, but being the buckets are calculated using 100, bigNumberForQuantity might be easier to implement with this PR.  Being this is size, an argument for the second option is valid, but might require additional work to calculate the buckets correctly.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892155365/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892171689","html_url":"https://github.com/apache/accumulo/pull/2220#issuecomment-892171689","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2220","id":892171689,"node_id":"IC_kwDOACaFSM41LXWp","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-03T21:15:43Z","updated_at":"2021-08-03T21:15:43Z","author_association":"CONTRIBUTOR","body":"> Having even numbers seems more pleasing (to me) base 2 or 10 work, but being the buckets are calculated using 100, bigNumberForQuantity might be easier to implement with this PR. Being this is size, an argument for the second option is valid, but might require additional work to calculate the buckets correctly.\r\n\r\nGood point, I concur that Quantity might be preferable since it lines up closer to the original output. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892171689/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892595808","html_url":"https://github.com/apache/accumulo/pull/2194#issuecomment-892595808","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2194","id":892595808,"node_id":"IC_kwDOACaFSM41M-5g","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-04T11:54:53Z","updated_at":"2021-08-04T11:54:53Z","author_association":"CONTRIBUTOR","body":"Closing this and will create a follow-on refactored version that substantially changes the structure.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892595808/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892663277","html_url":"https://github.com/apache/accumulo/pull/2220#issuecomment-892663277","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2220","id":892663277,"node_id":"IC_kwDOACaFSM41NPXt","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-04T13:34:28Z","updated_at":"2021-08-04T13:34:28Z","author_association":"CONTRIBUTOR","body":"@Shivakumar-SG What are your thoughts on the conversation above? \r\n\r\n> Having even numbers seems more pleasing (to me) base 2 or 10 work, but being the buckets are calculated using 100, bigNumberForQuantity might be easier to implement with this PR. Being this is size, an argument for the second option is valid, but might require additional work to calculate the buckets correctly.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892663277/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892687796","html_url":"https://github.com/apache/accumulo/pull/2197#issuecomment-892687796","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2197","id":892687796,"node_id":"IC_kwDOACaFSM41NVW0","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-04T14:05:32Z","updated_at":"2021-08-04T14:05:32Z","author_association":"CONTRIBUTOR","body":"@ctubbsii mind taking a quick high level look at this branch before I redo the tests? I think I implemented the changes we discussed and got everything compiling (ignore tests for now). Changes include:\r\n\r\n- I dropped the `init` method from CryptoService\r\n- Added TableId to CryptoEnvironment\r\n- Created NoCryptoFactory for no crypto\r\n- Used NoCryptoFactory in RFile API, until we figure out how to support crypto in the RFile API\r\n- Implemented CryptoFactoryLoader for loading the factory and services\r\n- Created a basic factory called PerTableCryptoFactory\r\n\r\nClasses to take a quick look at:\r\n[Property](https://github.com/apache/accumulo/pull/2197/files#diff-6c2d215eebb1a6157a2b7d95f49496834bd91a150c8aedd97cca6b01aedc05cb)\r\n[CryptoFactoryLoader](https://github.com/apache/accumulo/pull/2197/files#diff-6bc04f7fde1143ced2a2ef3097baf6429467690b93557e44c0c9c2542b6d32e9)\r\n[PerTableCryptoFactory](https://github.com/apache/accumulo/pull/2197/files#diff-8a243847ef39a9dedc8daceaa1629aca85a4a550b2ff20ec3ec249c0bb917625)\r\n[CryptoFactory interface](https://github.com/apache/accumulo/pull/2197/files#diff-3ab2b08082155f62ed88ac1bb83d9456ece437b562425e255bc76170f3004e7f)\r\n[CryptoEnvironment interface](https://github.com/apache/accumulo/pull/2197/files#diff-e9b7d2e72ebd5675e60efb4646ae6cbe868199c557225ec18db0392d2368b300)\r\n[TableConfiguration](https://github.com/apache/accumulo/pull/2197/files#diff-c8804c4993551d0fc6f293963d664d4e35151f7639955f4c7e2b3a7bf2a694b1)\r\n[ServerContext](https://github.com/apache/accumulo/pull/2197/files#diff-44b9172cc16cdb9b671926c7aed1b0d57372715bc181dd79ef0be76828b708f3)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892687796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892697912","html_url":"https://github.com/apache/accumulo/pull/2220#issuecomment-892697912","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2220","id":892697912,"node_id":"IC_kwDOACaFSM41NX04","user":{"login":"Shivakumar-SG","id":47275182,"node_id":"MDQ6VXNlcjQ3Mjc1MTgy","avatar_url":"https://avatars.githubusercontent.com/u/47275182?v=4","gravatar_id":"","url":"https://api.github.com/users/Shivakumar-SG","html_url":"https://github.com/Shivakumar-SG","followers_url":"https://api.github.com/users/Shivakumar-SG/followers","following_url":"https://api.github.com/users/Shivakumar-SG/following{/other_user}","gists_url":"https://api.github.com/users/Shivakumar-SG/gists{/gist_id}","starred_url":"https://api.github.com/users/Shivakumar-SG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Shivakumar-SG/subscriptions","organizations_url":"https://api.github.com/users/Shivakumar-SG/orgs","repos_url":"https://api.github.com/users/Shivakumar-SG/repos","events_url":"https://api.github.com/users/Shivakumar-SG/events{/privacy}","received_events_url":"https://api.github.com/users/Shivakumar-SG/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-04T14:17:32Z","updated_at":"2021-08-04T14:17:32Z","author_association":"CONTRIBUTOR","body":"> @Shivakumar-SG What are your thoughts on the conversation above?\r\n> \r\n> > Having even numbers seems more pleasing (to me) base 2 or 10 work, but being the buckets are calculated using 100, bigNumberForQuantity might be easier to implement with this PR. Being this is size, an argument for the second option is valid, but might require additional work to calculate the buckets correctly.\r\n\r\n@Manno15 Thank you for showing your interest in my views but I'm just a student who is still learning and knows pretty much nothing about this repo. So I don't think so that I'm fit to share my views on such a big project.\r\nI will just do what you tell me to do sir!","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892697912/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892835059","html_url":"https://github.com/apache/accumulo/pull/2220#issuecomment-892835059","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2220","id":892835059,"node_id":"IC_kwDOACaFSM41N5Tz","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-04T17:21:48Z","updated_at":"2021-08-04T17:21:48Z","author_association":"CONTRIBUTOR","body":"Thanks for the contribution @Shivakumar-SG and welcome to the Apache Accumulo community! If you would like to be listed as a contributor on Accumulo's people page please make a website PR for people.md. https://github.com/apache/accumulo-website/edit/main/pages/people.md\r\n\r\nIf you intend to make more contributions, please consider subscribing to the dev list and introducing yourself. Also, you can use the dev list or slack to reach out if you have questions about anything. https://accumulo.apache.org/contact-us/","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892835059/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892839151","html_url":"https://github.com/apache/accumulo/pull/2220#issuecomment-892839151","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2220","id":892839151,"node_id":"IC_kwDOACaFSM41N6Tv","user":{"login":"Shivakumar-SG","id":47275182,"node_id":"MDQ6VXNlcjQ3Mjc1MTgy","avatar_url":"https://avatars.githubusercontent.com/u/47275182?v=4","gravatar_id":"","url":"https://api.github.com/users/Shivakumar-SG","html_url":"https://github.com/Shivakumar-SG","followers_url":"https://api.github.com/users/Shivakumar-SG/followers","following_url":"https://api.github.com/users/Shivakumar-SG/following{/other_user}","gists_url":"https://api.github.com/users/Shivakumar-SG/gists{/gist_id}","starred_url":"https://api.github.com/users/Shivakumar-SG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Shivakumar-SG/subscriptions","organizations_url":"https://api.github.com/users/Shivakumar-SG/orgs","repos_url":"https://api.github.com/users/Shivakumar-SG/repos","events_url":"https://api.github.com/users/Shivakumar-SG/events{/privacy}","received_events_url":"https://api.github.com/users/Shivakumar-SG/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-04T17:28:27Z","updated_at":"2021-08-04T17:28:27Z","author_association":"CONTRIBUTOR","body":"I will consider your options. Thank you so much for letting me do this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892839151/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892842755","html_url":"https://github.com/apache/accumulo/pull/2220#issuecomment-892842755","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2220","id":892842755,"node_id":"IC_kwDOACaFSM41N7MD","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-04T17:34:14Z","updated_at":"2021-08-04T17:34:37Z","author_association":"CONTRIBUTOR","body":"Thanks for the contribution Shivakumar-SG and welcome to the Apache Accumulo community. If you would like to be listed as a contributor on Accumulo's people page please make a website PR for people.md. https://github.com/apache/accumulo-website/edit/main/pages/people.md by:\r\n -  adding your name (in alphabetical order) to the contributor's list.\r\n -  reference the PR number (#2220)\r\n \r\nIf you intend to make more contributions, please consider subscribing to the dev list and introducing yourself. Also, you can use the dev list or slack to reach out if you have questions about anything. https://accumulo.apache.org/contact-us/","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892842755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892863469","html_url":"https://github.com/apache/accumulo/pull/2220#issuecomment-892863469","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2220","id":892863469,"node_id":"IC_kwDOACaFSM41OAPt","user":{"login":"Shivakumar-SG","id":47275182,"node_id":"MDQ6VXNlcjQ3Mjc1MTgy","avatar_url":"https://avatars.githubusercontent.com/u/47275182?v=4","gravatar_id":"","url":"https://api.github.com/users/Shivakumar-SG","html_url":"https://github.com/Shivakumar-SG","followers_url":"https://api.github.com/users/Shivakumar-SG/followers","following_url":"https://api.github.com/users/Shivakumar-SG/following{/other_user}","gists_url":"https://api.github.com/users/Shivakumar-SG/gists{/gist_id}","starred_url":"https://api.github.com/users/Shivakumar-SG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Shivakumar-SG/subscriptions","organizations_url":"https://api.github.com/users/Shivakumar-SG/orgs","repos_url":"https://api.github.com/users/Shivakumar-SG/repos","events_url":"https://api.github.com/users/Shivakumar-SG/events{/privacy}","received_events_url":"https://api.github.com/users/Shivakumar-SG/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-04T18:06:58Z","updated_at":"2021-08-04T18:06:58Z","author_association":"CONTRIBUTOR","body":"Thank you for helping me out in this @EdColeman and @DomGarguilo :)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892863469/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892886656","html_url":"https://github.com/apache/accumulo/pull/2221#issuecomment-892886656","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2221","id":892886656,"node_id":"IC_kwDOACaFSM41OF6A","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-04T18:43:09Z","updated_at":"2021-08-04T18:43:09Z","author_association":"CONTRIBUTOR","body":"I commented on a few things above, but it seems that some of your suggestions apply also to code that is in this class but outside of this PR. I'm wondering if we should first implement some of your suggestions in the class, then update this PR accordingly.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892886656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892894021","html_url":"https://github.com/apache/accumulo/issues/2219#issuecomment-892894021","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2219","id":892894021,"node_id":"IC_kwDOACaFSM41OHtF","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-04T18:54:49Z","updated_at":"2021-08-04T18:54:49Z","author_association":"MEMBER","body":"> Probably out of scope for this change, but is there any movement towards also supporting zstd as a compression scheme.\r\n\r\nThat was already added in #456 for 2.0. It shouldn't be backported to 1.10, because it's not a forward-compatible change suitable for a bugfix release.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892894021/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892902243","html_url":"https://github.com/apache/accumulo/pull/2194#issuecomment-892902243","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2194","id":892902243,"node_id":"IC_kwDOACaFSM41OJtj","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-04T19:07:32Z","updated_at":"2021-08-04T19:07:32Z","author_association":"MEMBER","body":"Superseded by #2224","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892902243/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892902598","html_url":"https://github.com/apache/accumulo/pull/2223#issuecomment-892902598","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2223","id":892902598,"node_id":"IC_kwDOACaFSM41OJzG","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-04T19:08:04Z","updated_at":"2021-08-04T19:08:04Z","author_association":"MEMBER","body":"Superseded by #2224","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/892902598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/893391587","html_url":"https://github.com/apache/accumulo/pull/2221#issuecomment-893391587","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2221","id":893391587,"node_id":"IC_kwDOACaFSM41QBLj","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-05T11:42:45Z","updated_at":"2021-08-05T11:42:45Z","author_association":"CONTRIBUTOR","body":"I modified the code to attempt to load the QATCodec if the property `accumulo.rfile.compression.quickassist.enabled` exists. If there is an issue loading the codec, then it will fall back to the default codec if the property `accumulo.rfile.compression.quickassist.fallback.on.failure` exists. I also made some other mods based on the other comments. I did not fix or improve the code where I used the same pattern that already exists in other places in the class. I think that should be a different issue on the main branch.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/893391587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/893581104","html_url":"https://github.com/apache/accumulo/issues/1377#issuecomment-893581104","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1377","id":893581104,"node_id":"IC_kwDOACaFSM41Qvcw","user":{"login":"jmark99","id":31573345,"node_id":"MDQ6VXNlcjMxNTczMzQ1","avatar_url":"https://avatars.githubusercontent.com/u/31573345?v=4","gravatar_id":"","url":"https://api.github.com/users/jmark99","html_url":"https://github.com/jmark99","followers_url":"https://api.github.com/users/jmark99/followers","following_url":"https://api.github.com/users/jmark99/following{/other_user}","gists_url":"https://api.github.com/users/jmark99/gists{/gist_id}","starred_url":"https://api.github.com/users/jmark99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmark99/subscriptions","organizations_url":"https://api.github.com/users/jmark99/orgs","repos_url":"https://api.github.com/users/jmark99/repos","events_url":"https://api.github.com/users/jmark99/events{/privacy}","received_events_url":"https://api.github.com/users/jmark99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-05T16:08:35Z","updated_at":"2021-08-05T16:08:35Z","author_association":"CONTRIBUTOR","body":"Unassigned myself as @mjwall expressed interest in working on the ticket as it may be related to the fix needed for #1916 that he has been investigating.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/893581104/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/893873619","html_url":"https://github.com/apache/accumulo/issues/2226#issuecomment-893873619","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2226","id":893873619,"node_id":"IC_kwDOACaFSM41R23T","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-05T23:00:20Z","updated_at":"2021-08-05T23:00:20Z","author_association":"MEMBER","body":"BigDecimal seems tricky. You may need to normalize them in order to store them somehow. You can do some normalization by stripping trailing zero digits, but you still have to store the original precision in order to restore it on deserialization, and it has to be part of the ordering (example: 2.0 is not the same as 2.00, so we'd also have to decide which to sort first, the more precise or less precise values). After stripping trailing zero digits, you are still left with an unscaled integer that you need to normalize somehow if you want to do something like store the exponent first in order to order by magnitude, similar to how we store Double values. It gets further complicated that the unscaled integer is actually a BigInteger, so you'd have to store that part similar to our BigIntegerLexicoder. And then, after that, you still have to store the original scale, so we can order two equivalent numerical values lastly by precision. And, you have to deal with negative values too.\r\n\r\nI haven't seen too much pressure to implement this. Given the complexity of implementing, I probably wouldn't prioritize this. Hopefully most users will be happy with more limited precision Double values or BigInteger.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/893873619/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/894018608","html_url":"https://github.com/apache/accumulo/pull/2221#issuecomment-894018608","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2221","id":894018608,"node_id":"IC_kwDOACaFSM41SaQw","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-06T05:51:37Z","updated_at":"2021-08-06T05:51:37Z","author_association":"MEMBER","body":"> I modified the code to attempt to load the QATCodec if the property `accumulo.rfile.compression.quickassist.enabled` exists. If there is an issue loading the codec, then it will fall back to the default codec if the property `accumulo.rfile.compression.quickassist.fallback.on.failure` exists.\r\n\r\nThis doesn't quite work as I'd expect. I didn't get a chance to thoroughly review the updates yet, but what I saw looked like it was \r\nnow simply checking that these properties were null or non-null. This will not work as the user intends if the user says `-Daccumulo.rfile.compression.quickassist.enabled=false`. That's non-null, but clearly it shouldn't activate in that case. I think it should be activated if it's something like `value != null && (value.isEmpty() || Boolean.parseBoolean(value))`. This should work if you just do `-Dprop.enabled` or `-Dprop.enabled=true`, but will not work if it's not set at all, or if `-Dprop.enabled=false`.\r\n\r\nAlso, I'm not sure it's good to require users want to optionally use it to set two properties. It should be easy for users who just want to use it as an optional optimization to do so with just one property.\r\n\r\n> I did not fix or improve the code where I used the same pattern that already exists in other places in the class. I think that should be a different issue on the main branch.\r\n\r\nThat seems reasonable. However, given that there seem to be many existing problems in this class, I'm thinking we should focus on polishing it in the main branch to solidify the behavior before backporting it. I found a few other problems, such as our code trying to defer to the property \"io.compression.codec.snappy.class\" in the Hadoop config file... but there's no such property in Hadoop's config. LZO is the only codec whose implementation seems to be pluggable by class name in a property. So, it also doesn't make sense to look for a corresponding \"io.compression.codec.qat.class\" property either (also, it seems like it should have been an \"io.compression.codec.gz.class\" property set to the QAT implementation... but that property also doesn't exist in Hadoop... if it did, users activating it would be super simple and easy to do out of the box without our needing to do anything special).\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/894018608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/894263638","html_url":"https://github.com/apache/accumulo/pull/2221#issuecomment-894263638","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2221","id":894263638,"node_id":"IC_kwDOACaFSM41TWFW","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-06T13:32:59Z","updated_at":"2021-08-06T13:39:10Z","author_association":"CONTRIBUTOR","body":"> This doesn't quite work as I'd expect. I didn't get a chance to thoroughly review the updates yet, but what I saw looked like it was\r\nnow simply checking that these properties were null or non-null. This will not work as the user intends if the user says -Daccumulo.rfile.compression.quickassist.enabled=false. That's non-null, but clearly it shouldn't activate in that case. I think it should be activated if it's something like value != null && (value.isEmpty() || Boolean.parseBoolean(value)). This should work if you just do -Dprop.enabled or -Dprop.enabled=true, but will not work if it's not set at all, or if -Dprop.enabled=false.\r\n\r\nI think I got confused by your two previous statements:\r\n\r\n> Also, to support -Duse.qat in addition to -Duse.qat=true, this logic will need to be adjusted a bit. Could see how Maven does it, because it supports similar flags like -DskipTests where you don't have to specify -DskipTests=true.\r\n\r\n> Could support both sets of user expectations with values of .enabled=[true,false,required/force]. However, considering the forwards-compatible requirement of 1.10.2 with 1.10.1/1.10.0, it's impossible for a user of \"1.10.x\" versions to expect that it will always fail if QAT isn't available. The user might set '.enabled=force', but then need to downgrade to 1.10.1 for whatever reason, and the option is completely ignored. So, at best, the user can only reasonably expect 1.10 versions to treat this as an optimization, and never a requirement, unless they know for sure they are a sufficiently recent 1.10 version.\r\n\r\nIf I'm reading this correctly now, you are saying that there should be one property (`accumulo.rfile.compression.use.quickassist`), that could have multiple values. I'm thinking the values should be:\r\n\r\n  * false (default)\r\n  * bestEffort - falls back to `gz` if QAT unavailable or error in setting it up\r\n  * required - fails if QAT unavailable or error in setting it up\r\n\r\nEdit: I guess `false` is not really useful after thinking about it. False is the lack of one of the other values.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/894263638/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/894328502","html_url":"https://github.com/apache/accumulo/issues/2226#issuecomment-894328502","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2226","id":894328502,"node_id":"IC_kwDOACaFSM41Tl62","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-06T15:12:32Z","updated_at":"2021-08-06T15:12:32Z","author_association":"MEMBER","body":"> I probably wouldn't prioritize this.\r\n\r\nYea, I'll leave it for now and see if there is any interest eventually.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/894328502/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/894377704","html_url":"https://github.com/apache/accumulo/pull/2215#issuecomment-894377704","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2215","id":894377704,"node_id":"IC_kwDOACaFSM41Tx7o","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-06T16:34:20Z","updated_at":"2021-08-06T19:38:20Z","author_association":"CONTRIBUTOR","body":"~~Converting to draft PR as the most recent changes are still a WIP. I would still appreciate some feedback.~~ Specifically with moving `TransactionStatus` to public API.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/894377704/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/894477962","html_url":"https://github.com/apache/accumulo/pull/2215#issuecomment-894477962","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2215","id":894477962,"node_id":"IC_kwDOACaFSM41UKaK","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-06T19:37:06Z","updated_at":"2021-08-06T19:37:06Z","author_association":"CONTRIBUTOR","body":"I have finalized the consolidation of the fate print and dump options. Now, the stack info gets stored inside `TransactionStatus` as well. The only part I am unsure of is creating the gson object inside adminUtil but I couldn't find any alternatives.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/894477962/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/895476936","html_url":"https://github.com/apache/accumulo/issues/2165#issuecomment-895476936","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2165","id":895476936,"node_id":"IC_kwDOACaFSM41X-TI","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-09T19:19:07Z","updated_at":"2021-08-09T19:19:07Z","author_association":"MEMBER","body":"I set up some crude performance tests to see what the difference is between the normal byte streams and the Unsynchronized variants. From what I can tell the Unsynchronized byte streams are slower. I set up identical loops in which I created a `UnsynchronizedByteArrayOutputStream`/`ByteArrayOutputStream` wraped it in a `DataOutputStream` then wrote to it (String, int and double each tested separately). Then created a `ByteArrayInputStream`/`UnsynchronizedByteArrayInputStream` wraped in a `DataInputStream` and read from it, asserting that the sent and received data matched each time. From my data the Unsynchronized version ran on average ~60ms where as the regular streams ran at an average of ~45ms. Below is the code I used to test.\r\n<details closed>\r\n\r\n<summary>Code</summary>\r\n\r\n```java\r\n  @Test\r\n  public void testUnsyncEncodeDecode() throws IOException {\r\n    long start = System.currentTimeMillis();\r\n    for (int i = 0; i < 10_000; i++) {\r\n      try (UnsynchronizedByteArrayOutputStream baos = new UnsynchronizedByteArrayOutputStream();\r\n          DataOutputStream dos = new DataOutputStream(baos)) {\r\n        String out = getRandomString();\r\n        dos.writeUTF(out);\r\n        try (\r\n            UnsynchronizedByteArrayInputStream bais =\r\n                new UnsynchronizedByteArrayInputStream(baos.toByteArray());\r\n            DataInputStream dis = new DataInputStream(bais)) {\r\n          String in = dis.readUTF();\r\n          assertEquals(in, out);\r\n        }\r\n      }\r\n      try (UnsynchronizedByteArrayOutputStream baos = new UnsynchronizedByteArrayOutputStream();\r\n          DataOutputStream dos = new DataOutputStream(baos)) {\r\n        int out = random.nextInt();\r\n        dos.writeInt(out);\r\n        try (\r\n            UnsynchronizedByteArrayInputStream bais =\r\n                new UnsynchronizedByteArrayInputStream(baos.toByteArray());\r\n            DataInputStream dis = new DataInputStream(bais)) {\r\n          int in = dis.readInt();\r\n          assertEquals(in, out);\r\n        }\r\n      }\r\n      try (UnsynchronizedByteArrayOutputStream baos = new UnsynchronizedByteArrayOutputStream();\r\n          DataOutputStream dos = new DataOutputStream(baos)) {\r\n        double out = random.nextDouble();\r\n        dos.writeDouble(out);\r\n        try (\r\n            UnsynchronizedByteArrayInputStream bais =\r\n                new UnsynchronizedByteArrayInputStream(baos.toByteArray());\r\n            DataInputStream dis = new DataInputStream(bais)) {\r\n          double in = dis.readDouble();\r\n          assertEquals(in, out, 0.001);\r\n        }\r\n      }\r\n    }\r\n    long finish = System.currentTimeMillis();\r\n    System.out.println(\"time taken: \" + (finish - start));\r\n  }\r\n\r\n  @Test\r\n  public void testClassicEncodeDecode() throws IOException {\r\n    long start = System.currentTimeMillis();\r\n    for (int i = 0; i < 10_000; i++) {\r\n      try (ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n          DataOutputStream dos = new DataOutputStream(baos)) {\r\n        String out = getRandomString();\r\n        dos.writeUTF(out);\r\n        try (ByteArrayInputStream bais = new ByteArrayInputStream(baos.toByteArray());\r\n            DataInputStream dis = new DataInputStream(bais)) {\r\n          String in = dis.readUTF();\r\n          assertEquals(in, out);\r\n        }\r\n      }\r\n      try (ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n          DataOutputStream dos = new DataOutputStream(baos)) {\r\n        int out = random.nextInt();\r\n        dos.writeInt(out);\r\n        try (ByteArrayInputStream bais = new ByteArrayInputStream(baos.toByteArray());\r\n            DataInputStream dis = new DataInputStream(bais)) {\r\n          int in = dis.readInt();\r\n          assertEquals(in, out);\r\n        }\r\n      }\r\n      try (ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n          DataOutputStream dos = new DataOutputStream(baos)) {\r\n        double out = random.nextDouble();\r\n        dos.writeDouble(out);\r\n        try (ByteArrayInputStream bais = new ByteArrayInputStream(baos.toByteArray());\r\n            DataInputStream dis = new DataInputStream(bais)) {\r\n          double in = dis.readDouble();\r\n          assertEquals(in, out, 0.001);\r\n        }\r\n      }\r\n    }\r\n    long finish = System.currentTimeMillis();\r\n    System.out.println(\"time taken: \" + (finish - start));\r\n  }\r\n\r\n```\r\n</details>\r\n\r\nI'm not sure if this kind of testing is helpful, just thought I would pass along my findings.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/895476936/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/895487731","html_url":"https://github.com/apache/accumulo/issues/2165#issuecomment-895487731","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2165","id":895487731,"node_id":"IC_kwDOACaFSM41YA7z","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-09T19:37:21Z","updated_at":"2021-08-09T19:37:21Z","author_association":"CONTRIBUTOR","body":"Suggest taking a look at JMH for writing a Java benchmark.\nhttps://github.com/openjdk/jmh\n\nOn Mon, Aug 9, 2021 at 3:19 PM Dom G. ***@***.***> wrote:\n\n> I set up some crude performance tests to see what the difference is\n> between the normal byte streams and the Unsynchronized variants. From what\n> I can tell the Unsynchronized byte streams are slower. I set up identical\n> loops in which I created a UnsynchronizedByteArrayOutputStream/\n> ByteArrayOutputStream wraped it in a DataOutputStream then wrote to it\n> (String, int and double each tested separately). Then created a\n> ByteArrayInputStream/UnsynchronizedByteArrayInputStream wraped in a\n> DataInputStream and read from it, asserting that the sent and received\n> data matched each time. From my data the Unsynchronized version ran on\n> average ~60ms where as the regular streams ran at an average of ~45ms.\n> Below is the code I used to test.\n> Code\n>\n>   @Test\n>   public void testUnsyncEncodeDecode() throws IOException {\n>     long start = System.currentTimeMillis();\n>     for (int i = 0; i < 10_000; i++) {\n>       try (UnsynchronizedByteArrayOutputStream baos = new UnsynchronizedByteArrayOutputStream();\n>           DataOutputStream dos = new DataOutputStream(baos)) {\n>         String out = getRandomString();\n>         dos.writeUTF(out);\n>         try (\n>             UnsynchronizedByteArrayInputStream bais =\n>                 new UnsynchronizedByteArrayInputStream(baos.toByteArray());\n>             DataInputStream dis = new DataInputStream(bais)) {\n>           String in = dis.readUTF();\n>           assertEquals(in, out);\n>         }\n>       }\n>       try (UnsynchronizedByteArrayOutputStream baos = new UnsynchronizedByteArrayOutputStream();\n>           DataOutputStream dos = new DataOutputStream(baos)) {\n>         int out = random.nextInt();\n>         dos.writeInt(out);\n>         try (\n>             UnsynchronizedByteArrayInputStream bais =\n>                 new UnsynchronizedByteArrayInputStream(baos.toByteArray());\n>             DataInputStream dis = new DataInputStream(bais)) {\n>           int in = dis.readInt();\n>           assertEquals(in, out);\n>         }\n>       }\n>       try (UnsynchronizedByteArrayOutputStream baos = new UnsynchronizedByteArrayOutputStream();\n>           DataOutputStream dos = new DataOutputStream(baos)) {\n>         double out = random.nextDouble();\n>         dos.writeDouble(out);\n>         try (\n>             UnsynchronizedByteArrayInputStream bais =\n>                 new UnsynchronizedByteArrayInputStream(baos.toByteArray());\n>             DataInputStream dis = new DataInputStream(bais)) {\n>           double in = dis.readDouble();\n>           assertEquals(in, out, 0.001);\n>         }\n>       }\n>     }\n>     long finish = System.currentTimeMillis();\n>     System.out.println(\"time taken: \" + (finish - start));\n>   }\n>\n>   @Test\n>   public void testClassicEncodeDecode() throws IOException {\n>     long start = System.currentTimeMillis();\n>     for (int i = 0; i < 10_000; i++) {\n>       try (ByteArrayOutputStream baos = new ByteArrayOutputStream();\n>           DataOutputStream dos = new DataOutputStream(baos)) {\n>         String out = getRandomString();\n>         dos.writeUTF(out);\n>         try (ByteArrayInputStream bais = new ByteArrayInputStream(baos.toByteArray());\n>             DataInputStream dis = new DataInputStream(bais)) {\n>           String in = dis.readUTF();\n>           assertEquals(in, out);\n>         }\n>       }\n>       try (ByteArrayOutputStream baos = new ByteArrayOutputStream();\n>           DataOutputStream dos = new DataOutputStream(baos)) {\n>         int out = random.nextInt();\n>         dos.writeInt(out);\n>         try (ByteArrayInputStream bais = new ByteArrayInputStream(baos.toByteArray());\n>             DataInputStream dis = new DataInputStream(bais)) {\n>           int in = dis.readInt();\n>           assertEquals(in, out);\n>         }\n>       }\n>       try (ByteArrayOutputStream baos = new ByteArrayOutputStream();\n>           DataOutputStream dos = new DataOutputStream(baos)) {\n>         double out = random.nextDouble();\n>         dos.writeDouble(out);\n>         try (ByteArrayInputStream bais = new ByteArrayInputStream(baos.toByteArray());\n>             DataInputStream dis = new DataInputStream(bais)) {\n>           double in = dis.readDouble();\n>           assertEquals(in, out, 0.001);\n>         }\n>       }\n>     }\n>     long finish = System.currentTimeMillis();\n>     System.out.println(\"time taken: \" + (finish - start));\n>   }\n>\n> I'm not sure if this kind of testing is helpful, just thought I would pass\n> along my findings.\n>\n> —\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/accumulo/issues/2165#issuecomment-895476936>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AAEKUZZDJQPEFWD44YZKM3TT4AS3NANCNFSM46XLZSTA>\n> .\n> Triage notifications on the go with GitHub Mobile for iOS\n> <https://apps.apple.com/app/apple-store/id1477376905?ct=notification-email&mt=8&pt=524675>\n> or Android\n> <https://play.google.com/store/apps/details?id=com.github.android&utm_campaign=notification-email>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/895487731/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/896075425","html_url":"https://github.com/apache/accumulo/pull/2228#issuecomment-896075425","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2228","id":896075425,"node_id":"IC_kwDOACaFSM41aQah","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-10T14:25:10Z","updated_at":"2021-08-10T14:31:44Z","author_association":"CONTRIBUTOR","body":"It looks like JLine is still listed as a dependency in the core package. With these changes, JLine can be removed from the core's pom file. Here: https://github.com/apache/accumulo/blob/3da639ac6c49ad1b9671230e3443632d27887f75/core/pom.xml#L129-L130\r\n\r\nAlso needs to be done for the server/base pom file: https://github.com/apache/accumulo/blob/3da639ac6c49ad1b9671230e3443632d27887f75/server/base/pom.xml#L95-L98","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/896075425/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/896082585","html_url":"https://github.com/apache/accumulo/pull/2228#issuecomment-896082585","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2228","id":896082585,"node_id":"IC_kwDOACaFSM41aSKZ","user":{"login":"harjitdotsingh","id":75006,"node_id":"MDQ6VXNlcjc1MDA2","avatar_url":"https://avatars.githubusercontent.com/u/75006?v=4","gravatar_id":"","url":"https://api.github.com/users/harjitdotsingh","html_url":"https://github.com/harjitdotsingh","followers_url":"https://api.github.com/users/harjitdotsingh/followers","following_url":"https://api.github.com/users/harjitdotsingh/following{/other_user}","gists_url":"https://api.github.com/users/harjitdotsingh/gists{/gist_id}","starred_url":"https://api.github.com/users/harjitdotsingh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harjitdotsingh/subscriptions","organizations_url":"https://api.github.com/users/harjitdotsingh/orgs","repos_url":"https://api.github.com/users/harjitdotsingh/repos","events_url":"https://api.github.com/users/harjitdotsingh/events{/privacy}","received_events_url":"https://api.github.com/users/harjitdotsingh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-10T14:34:01Z","updated_at":"2021-08-10T14:34:01Z","author_association":"CONTRIBUTOR","body":"oops . Let me fix that...\n\nOn Tue, Aug 10, 2021 at 10:25 AM Jeffrey Manno ***@***.***>\nwrote:\n\n> It looks like JLine is still listed as a dependency in the core package.\n> With these changes, JLine can be removed from the core's pom file.\n>\n> —\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/accumulo/pull/2228#issuecomment-896075425>, or\n> unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AAASJ7UTS2UFK7Q2N6Q4F5DT4EZFDANCNFSM5B4IUG5A>\n> .\n> Triage notifications on the go with GitHub Mobile for iOS\n> <https://apps.apple.com/app/apple-store/id1477376905?ct=notification-email&mt=8&pt=524675>\n> or Android\n> <https://play.google.com/store/apps/details?id=com.github.android&utm_campaign=notification-email>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/896082585/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/896100177","html_url":"https://github.com/apache/accumulo/pull/2228#issuecomment-896100177","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2228","id":896100177,"node_id":"IC_kwDOACaFSM41aWdR","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-10T14:56:21Z","updated_at":"2021-08-10T14:56:21Z","author_association":"CONTRIBUTOR","body":"It seems you still have some references to JLine inside `Initialize.java` that should be removed. Then the pom changes can be made to server/base.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/896100177/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/896112834","html_url":"https://github.com/apache/accumulo/pull/2228#issuecomment-896112834","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2228","id":896112834,"node_id":"IC_kwDOACaFSM41aZjC","user":{"login":"harjitdotsingh","id":75006,"node_id":"MDQ6VXNlcjc1MDA2","avatar_url":"https://avatars.githubusercontent.com/u/75006?v=4","gravatar_id":"","url":"https://api.github.com/users/harjitdotsingh","html_url":"https://github.com/harjitdotsingh","followers_url":"https://api.github.com/users/harjitdotsingh/followers","following_url":"https://api.github.com/users/harjitdotsingh/following{/other_user}","gists_url":"https://api.github.com/users/harjitdotsingh/gists{/gist_id}","starred_url":"https://api.github.com/users/harjitdotsingh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harjitdotsingh/subscriptions","organizations_url":"https://api.github.com/users/harjitdotsingh/orgs","repos_url":"https://api.github.com/users/harjitdotsingh/repos","events_url":"https://api.github.com/users/harjitdotsingh/events{/privacy}","received_events_url":"https://api.github.com/users/harjitdotsingh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-10T15:10:14Z","updated_at":"2021-08-10T15:10:14Z","author_association":"CONTRIBUTOR","body":"We still have this lines. I don't know if there is a equivalent of these in\nSystem.console().\n\nif (terminal == null)\n  terminal = TerminalBuilder.builder().jansi(false).build();\nif (reader == null)\n  reader = LineReaderBuilder.builder().terminal(terminal).build();\nreturn reader;\n\n\nOn Tue, Aug 10, 2021 at 10:56 AM Jeffrey Manno ***@***.***>\nwrote:\n\n> It seems you still have some references to JLine inside Initialize.java\n> that should be removed. Then the pom changes can be made to server/base.\n>\n> —\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/accumulo/pull/2228#issuecomment-896100177>, or\n> unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AAASJ7W7U6LZNF25KRV7IVDT4E4Z7ANCNFSM5B4IUG5A>\n> .\n> Triage notifications on the go with GitHub Mobile for iOS\n> <https://apps.apple.com/app/apple-store/id1477376905?ct=notification-email&mt=8&pt=524675>\n> or Android\n> <https://play.google.com/store/apps/details?id=com.github.android&utm_campaign=notification-email>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/896112834/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/896113719","html_url":"https://github.com/apache/accumulo/pull/2228#issuecomment-896113719","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2228","id":896113719,"node_id":"IC_kwDOACaFSM41aZw3","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-10T15:11:27Z","updated_at":"2021-08-10T15:11:27Z","author_association":"CONTRIBUTOR","body":"Those just build the terminal objects. You shouldn't need those anymore since you are using the console to print instead of the reader object from JLine","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/896113719/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/896122105","html_url":"https://github.com/apache/accumulo/pull/2228#issuecomment-896122105","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2228","id":896122105,"node_id":"IC_kwDOACaFSM41abz5","user":{"login":"harjitdotsingh","id":75006,"node_id":"MDQ6VXNlcjc1MDA2","avatar_url":"https://avatars.githubusercontent.com/u/75006?v=4","gravatar_id":"","url":"https://api.github.com/users/harjitdotsingh","html_url":"https://github.com/harjitdotsingh","followers_url":"https://api.github.com/users/harjitdotsingh/followers","following_url":"https://api.github.com/users/harjitdotsingh/following{/other_user}","gists_url":"https://api.github.com/users/harjitdotsingh/gists{/gist_id}","starred_url":"https://api.github.com/users/harjitdotsingh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harjitdotsingh/subscriptions","organizations_url":"https://api.github.com/users/harjitdotsingh/orgs","repos_url":"https://api.github.com/users/harjitdotsingh/repos","events_url":"https://api.github.com/users/harjitdotsingh/events{/privacy}","received_events_url":"https://api.github.com/users/harjitdotsingh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-10T15:36:14Z","updated_at":"2021-08-10T15:36:14Z","author_association":"CONTRIBUTOR","body":"Makes sense thats what was i doing right now. Like minds think alike. I wasn't sure  so i kept it there. I will clean it up . \n\n> On Aug 10, 2021, at 11:13 AM, Jeffrey Manno ***@***.***> wrote:\n> \n> ﻿\n> Those just build the terminal objects. You shouldn't need those anymore since you are using the console to print instead of the reader object from JLine\n> \n> —\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub, or unsubscribe.\n> Triage notifications on the go with GitHub Mobile for iOS or Android.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/896122105/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/896174440","html_url":"https://github.com/apache/accumulo/issues/2165#issuecomment-896174440","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2165","id":896174440,"node_id":"IC_kwDOACaFSM41aolo","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-10T17:26:59Z","updated_at":"2021-08-10T17:26:59Z","author_association":"MEMBER","body":"Moved the tests to JMH and separated the data types into separate benchmarks. An example of one is as follows where the Unsyncronized versions and data types are swapped out for the other:\r\n<details closed>\r\n\r\n<summary>Test example</summary>\r\n\r\n```java\r\n    @Benchmark\r\n    public void testUnsyncInt() throws IOException {\r\n        try (UnsynchronizedByteArrayOutputStream baos = new UnsynchronizedByteArrayOutputStream();\r\n             DataOutputStream dos = new DataOutputStream(baos)) {\r\n            int out = MyState.random.nextInt();\r\n            dos.writeInt(out);\r\n            try (UnsynchronizedByteArrayInputStream bais = new UnsynchronizedByteArrayInputStream(baos.toByteArray());\r\n                 DataInputStream dis = new DataInputStream(bais)) {\r\n                assertEquals(dis.readInt(), out);\r\n            }\r\n        }\r\n    }\r\n```\r\n</details>\r\n\r\nThe results of the tests are as follows:\r\n\r\n```\r\nBenchmark                      Mode  Cnt  Score    Error  Units\r\nMyBenchmark.testClassicDouble  avgt   25  0.088 ±  0.001  us/op\r\nMyBenchmark.testClassicInt     avgt   25  0.108 ±  0.001  us/op\r\nMyBenchmark.testClassicString  avgt   25  0.347 ±  0.002  us/op\r\nMyBenchmark.testUnsyncDouble   avgt   25  0.200 ±  0.006  us/op\r\nMyBenchmark.testUnsyncInt      avgt   25  0.228 ±  0.022  us/op\r\nMyBenchmark.testUnsyncString   avgt   25  0.419 ±  0.012  us/op\r\n```\r\nNot too sure how well these tests map to our use cases. If there are any suggestions for additional tests/test tweaks that might be able to better show which of these byte streams would be best for us that would be great.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/896174440/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/896216249","html_url":"https://github.com/apache/accumulo/pull/2228#issuecomment-896216249","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2228","id":896216249,"node_id":"IC_kwDOACaFSM41ayy5","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-10T18:26:01Z","updated_at":"2021-08-10T18:26:56Z","author_association":"CONTRIBUTOR","body":"It appears System.console() will always return null for our tests. Especially in an IDE. https://stackoverflow.com/questions/4644415/java-how-to-get-input-from-system-console has some reasoning into why and has alternative solutions. Though I wonder for our use case, a simple System.out.println() would suffice. \r\n\r\nEDIT: I tested it locally and everything passes when replaced with System.out.println (only for the console.writer parts).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/896216249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/896224693","html_url":"https://github.com/apache/accumulo/pull/2228#issuecomment-896224693","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2228","id":896224693,"node_id":"IC_kwDOACaFSM41a021","user":{"login":"harjitdotsingh","id":75006,"node_id":"MDQ6VXNlcjc1MDA2","avatar_url":"https://avatars.githubusercontent.com/u/75006?v=4","gravatar_id":"","url":"https://api.github.com/users/harjitdotsingh","html_url":"https://github.com/harjitdotsingh","followers_url":"https://api.github.com/users/harjitdotsingh/followers","following_url":"https://api.github.com/users/harjitdotsingh/following{/other_user}","gists_url":"https://api.github.com/users/harjitdotsingh/gists{/gist_id}","starred_url":"https://api.github.com/users/harjitdotsingh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harjitdotsingh/subscriptions","organizations_url":"https://api.github.com/users/harjitdotsingh/orgs","repos_url":"https://api.github.com/users/harjitdotsingh/repos","events_url":"https://api.github.com/users/harjitdotsingh/events{/privacy}","received_events_url":"https://api.github.com/users/harjitdotsingh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-10T18:39:01Z","updated_at":"2021-08-10T18:39:01Z","author_association":"CONTRIBUTOR","body":"Thanks, that what I wasn't able to understand why it was failing with a\nnullpointerexception. That helps\n\nOn Tue, Aug 10, 2021 at 2:26 PM Jeffrey Manno ***@***.***>\nwrote:\n\n> It appears System.console() will always return null for our tests.\n> Especially in an IDE.\n> https://stackoverflow.com/questions/4644415/java-how-to-get-input-from-system-console\n> has some reasoning into why and has alternative solutions. Though I wonder\n> for our use case, a simple System.out.println() would suffice.\n>\n> —\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/accumulo/pull/2228#issuecomment-896216249>, or\n> unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AAASJ7WLKZXNIYCF7XS7H3DT4FVMHANCNFSM5B4IUG5A>\n> .\n> Triage notifications on the go with GitHub Mobile for iOS\n> <https://apps.apple.com/app/apple-store/id1477376905?ct=notification-email&mt=8&pt=524675>\n> or Android\n> <https://play.google.com/store/apps/details?id=com.github.android&utm_campaign=notification-email>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/896224693/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/896274618","html_url":"https://github.com/apache/accumulo/pull/2228#issuecomment-896274618","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2228","id":896274618,"node_id":"IC_kwDOACaFSM41bBC6","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-10T19:52:41Z","updated_at":"2021-08-10T19:52:41Z","author_association":"MEMBER","body":"Looks like the files are not formatted. Try running `mvn package -DskipTests` and including the changes made.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/896274618/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/896282021","html_url":"https://github.com/apache/accumulo/pull/2228#issuecomment-896282021","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2228","id":896282021,"node_id":"IC_kwDOACaFSM41bC2l","user":{"login":"harjitdotsingh","id":75006,"node_id":"MDQ6VXNlcjc1MDA2","avatar_url":"https://avatars.githubusercontent.com/u/75006?v=4","gravatar_id":"","url":"https://api.github.com/users/harjitdotsingh","html_url":"https://github.com/harjitdotsingh","followers_url":"https://api.github.com/users/harjitdotsingh/followers","following_url":"https://api.github.com/users/harjitdotsingh/following{/other_user}","gists_url":"https://api.github.com/users/harjitdotsingh/gists{/gist_id}","starred_url":"https://api.github.com/users/harjitdotsingh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harjitdotsingh/subscriptions","organizations_url":"https://api.github.com/users/harjitdotsingh/orgs","repos_url":"https://api.github.com/users/harjitdotsingh/repos","events_url":"https://api.github.com/users/harjitdotsingh/events{/privacy}","received_events_url":"https://api.github.com/users/harjitdotsingh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-10T20:03:48Z","updated_at":"2021-08-10T20:03:48Z","author_association":"CONTRIBUTOR","body":"I did that and pushed. I don't know why it didn't format it the first time\n\n- Harjit\n\nOn Tue, Aug 10, 2021 at 3:52 PM Dom G. ***@***.***> wrote:\n\n> Looks like the files are not formatted. Try running mvn package\n> -DskipTests and including the changes made.\n>\n> —\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/accumulo/pull/2228#issuecomment-896274618>, or\n> unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AAASJ7WUZL5HAEYMYQ2BQALT4F7RHANCNFSM5B4IUG5A>\n> .\n> Triage notifications on the go with GitHub Mobile for iOS\n> <https://apps.apple.com/app/apple-store/id1477376905?ct=notification-email&mt=8&pt=524675>\n> or Android\n> <https://play.google.com/store/apps/details?id=com.github.android&utm_campaign=notification-email>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/896282021/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/896326198","html_url":"https://github.com/apache/accumulo/pull/2228#issuecomment-896326198","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2228","id":896326198,"node_id":"IC_kwDOACaFSM41bNo2","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-10T21:26:13Z","updated_at":"2021-08-10T21:26:13Z","author_association":"CONTRIBUTOR","body":"There appears to be an issue with GitHub actions at the moment. I apologise for the delay in the build @harjitdotsingh ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/896326198/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/896329532","html_url":"https://github.com/apache/accumulo/pull/2228#issuecomment-896329532","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2228","id":896329532,"node_id":"IC_kwDOACaFSM41bOc8","user":{"login":"harjitdotsingh","id":75006,"node_id":"MDQ6VXNlcjc1MDA2","avatar_url":"https://avatars.githubusercontent.com/u/75006?v=4","gravatar_id":"","url":"https://api.github.com/users/harjitdotsingh","html_url":"https://github.com/harjitdotsingh","followers_url":"https://api.github.com/users/harjitdotsingh/followers","following_url":"https://api.github.com/users/harjitdotsingh/following{/other_user}","gists_url":"https://api.github.com/users/harjitdotsingh/gists{/gist_id}","starred_url":"https://api.github.com/users/harjitdotsingh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harjitdotsingh/subscriptions","organizations_url":"https://api.github.com/users/harjitdotsingh/orgs","repos_url":"https://api.github.com/users/harjitdotsingh/repos","events_url":"https://api.github.com/users/harjitdotsingh/events{/privacy}","received_events_url":"https://api.github.com/users/harjitdotsingh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-10T21:33:29Z","updated_at":"2021-08-10T21:33:29Z","author_association":"CONTRIBUTOR","body":"I hope I didn't break it :-)\n\nOn Tue, Aug 10, 2021 at 5:26 PM Jeffrey Manno ***@***.***>\nwrote:\n\n> There appears to be an issue with GitHub actions at the moment. I\n> apologise for the delay in the build @harjitdotsingh\n> <https://github.com/harjitdotsingh>\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/accumulo/pull/2228#issuecomment-896326198>, or\n> unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AAASJ7TFHDNVS7EFV35XP4LT4GKQBANCNFSM5B4IUG5A>\n> .\n> Triage notifications on the go with GitHub Mobile for iOS\n> <https://apps.apple.com/app/apple-store/id1477376905?ct=notification-email&mt=8&pt=524675>\n> or Android\n> <https://play.google.com/store/apps/details?id=com.github.android&utm_campaign=notification-email>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/896329532/reactions","total_count":1,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/896331365","html_url":"https://github.com/apache/accumulo/pull/2228#issuecomment-896331365","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2228","id":896331365,"node_id":"IC_kwDOACaFSM41bO5l","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-10T21:37:25Z","updated_at":"2021-08-10T21:37:25Z","author_association":"CONTRIBUTOR","body":"I did run the tests locally and they all pass.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/896331365/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/896924703","html_url":"https://github.com/apache/accumulo/issues/2227#issuecomment-896924703","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2227","id":896924703,"node_id":"IC_kwDOACaFSM41dfwf","user":{"login":"harjitdotsingh","id":75006,"node_id":"MDQ6VXNlcjc1MDA2","avatar_url":"https://avatars.githubusercontent.com/u/75006?v=4","gravatar_id":"","url":"https://api.github.com/users/harjitdotsingh","html_url":"https://github.com/harjitdotsingh","followers_url":"https://api.github.com/users/harjitdotsingh/followers","following_url":"https://api.github.com/users/harjitdotsingh/following{/other_user}","gists_url":"https://api.github.com/users/harjitdotsingh/gists{/gist_id}","starred_url":"https://api.github.com/users/harjitdotsingh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harjitdotsingh/subscriptions","organizations_url":"https://api.github.com/users/harjitdotsingh/orgs","repos_url":"https://api.github.com/users/harjitdotsingh/repos","events_url":"https://api.github.com/users/harjitdotsingh/events{/privacy}","received_events_url":"https://api.github.com/users/harjitdotsingh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-11T15:28:14Z","updated_at":"2021-08-11T15:28:14Z","author_association":"CONTRIBUTOR","body":"Please assign in to me. Would love to work on this","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/896924703/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/896942001","html_url":"https://github.com/apache/accumulo/pull/2228#issuecomment-896942001","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2228","id":896942001,"node_id":"IC_kwDOACaFSM41dj-x","user":{"login":"harjitdotsingh","id":75006,"node_id":"MDQ6VXNlcjc1MDA2","avatar_url":"https://avatars.githubusercontent.com/u/75006?v=4","gravatar_id":"","url":"https://api.github.com/users/harjitdotsingh","html_url":"https://github.com/harjitdotsingh","followers_url":"https://api.github.com/users/harjitdotsingh/followers","following_url":"https://api.github.com/users/harjitdotsingh/following{/other_user}","gists_url":"https://api.github.com/users/harjitdotsingh/gists{/gist_id}","starred_url":"https://api.github.com/users/harjitdotsingh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harjitdotsingh/subscriptions","organizations_url":"https://api.github.com/users/harjitdotsingh/orgs","repos_url":"https://api.github.com/users/harjitdotsingh/repos","events_url":"https://api.github.com/users/harjitdotsingh/events{/privacy}","received_events_url":"https://api.github.com/users/harjitdotsingh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-11T15:50:13Z","updated_at":"2021-08-11T15:50:13Z","author_association":"CONTRIBUTOR","body":"Thanks  For all your help and feedback.  Do I have to close this to be merged or somebody from the team would do that ?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/896942001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/896945134","html_url":"https://github.com/apache/accumulo/pull/2228#issuecomment-896945134","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2228","id":896945134,"node_id":"IC_kwDOACaFSM41dkvu","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-11T15:54:28Z","updated_at":"2021-08-11T15:54:28Z","author_association":"CONTRIBUTOR","body":"I will give more time for others to give any feedback then either I or someone else will merge it in. You do not have to do anything at the moment. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/896945134/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/897060792","html_url":"https://github.com/apache/accumulo/issues/2222#issuecomment-897060792","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2222","id":897060792,"node_id":"IC_kwDOACaFSM41eA-4","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-11T18:39:31Z","updated_at":"2021-08-11T18:39:31Z","author_association":"MEMBER","body":"> expects the call to block until all ongoing metadata writes related to compactions are complete\r\n\r\nFor this condition I'm wondering if adding a check to the while loop in `close()` would account for this. Maybe something like:\r\n```java\r\nfileMgr.chopStatus != FileSelectionStatus.NOT_ACTIVE\r\n```\r\n> AND prevent any new writes from occurring after the `close()` call returns\r\n\r\nFor this condition maybe adding a check  [here](https://github.com/apache/accumulo/blob/a9100ac35f3d72677b767d7670dfb032c7e7d733/server/tserver/src/main/java/org/apache/accumulo/tserver/tablet/CompactableImpl.java#L690). Something like:\r\n```java\r\nif (completed && !closed)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/897060792/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/897672439","html_url":"https://github.com/apache/accumulo/pull/2225#issuecomment-897672439","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2225","id":897672439,"node_id":"IC_kwDOACaFSM41gWT3","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-12T14:10:14Z","updated_at":"2021-08-12T14:10:14Z","author_association":"CONTRIBUTOR","body":"@EdColeman you read my mind with these comments and beat me to the punch. :1st_place_medal:  Thanks for getting these in.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/897672439/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/898589278","html_url":"https://github.com/apache/accumulo/issues/2027#issuecomment-898589278","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2027","id":898589278,"node_id":"IC_kwDOACaFSM41j2Je","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-13T16:43:17Z","updated_at":"2021-08-13T16:44:49Z","author_association":"CONTRIBUTOR","body":"What command do we run at release time to check for API breakage? Just maven's apilyzer plugin?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/898589278/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/898605395","html_url":"https://github.com/apache/accumulo/issues/2027#issuecomment-898605395","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2027","id":898605395,"node_id":"IC_kwDOACaFSM41j6FT","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-13T17:13:26Z","updated_at":"2021-08-13T17:13:26Z","author_association":"CONTRIBUTOR","body":"We use the apilyzer-maven-plugin. Check out https://accumulo.apache.org/blog/2019/11/04/checkstyle-import-control.html","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/898605395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/900675683","html_url":"https://github.com/apache/accumulo/issues/2027#issuecomment-900675683","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2027","id":900675683,"node_id":"IC_kwDOACaFSM41rzhj","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-17T22:34:19Z","updated_at":"2021-08-17T22:34:19Z","author_association":"MEMBER","body":"This task is basically to highlight whenever we change the API in a potentially breaking way. It's not necessarily intended to restrict the imports or to analyze the API classes, but just to highlight that the API changed in some way. I hadn't put a lot of thought into how this would work, but it could theoretically work by analyzing the diff against the base branch to see whether any public API methods have been added, deleted, or modified in public API classes. The intent wasn't to identify a PR that should not be merged, but just to fail the task to highlight that we should look more closely at the API implications. The task could be called \"No API changes\" or similar, so that a failure would simply imply that there were API changes.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/900675683/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/901278684","html_url":"https://github.com/apache/accumulo/pull/2231#issuecomment-901278684","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2231","id":901278684,"node_id":"IC_kwDOACaFSM41uGvc","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-18T17:02:57Z","updated_at":"2021-08-18T17:02:57Z","author_association":"CONTRIBUTOR","body":"I tested an upgrade from 2.0.1 to Snapshot still works using Uno just using a single volume and it removed the old directories properly. @keith-turner I think this is ready to merge if you want to take another quick look at it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/901278684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/901358043","html_url":"https://github.com/apache/accumulo/pull/1723#issuecomment-901358043","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1723","id":901358043,"node_id":"IC_kwDOACaFSM41uaHb","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-18T19:04:33Z","updated_at":"2021-08-18T19:04:33Z","author_association":"CONTRIBUTOR","body":"Closing since it appears PR #2098 fixed and closed issue #1628 which this was aiming to fix. Thank you for the work in this PR @tynyttie!","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/901358043/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/902304592","html_url":"https://github.com/apache/accumulo/issues/1542#issuecomment-902304592","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1542","id":902304592,"node_id":"IC_kwDOACaFSM41yBNQ","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-19T22:57:00Z","updated_at":"2021-08-19T22:57:00Z","author_association":"CONTRIBUTOR","body":"From my testing, #1552 has fixed this issue. I went back and tested multiple commits including the current, the initial commit mentioned in this ticket, and then the commit from #1552. I was only able to reproduce this error from commits before #1552 and have not been able to reproduce it on any other commit after #1552. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/902304592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/902707638","html_url":"https://github.com/apache/accumulo/pull/2236#issuecomment-902707638","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2236","id":902707638,"node_id":"IC_kwDOACaFSM41zjm2","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-20T13:51:45Z","updated_at":"2021-08-20T13:53:32Z","author_association":"CONTRIBUTOR","body":"Tested the most useful option, setting the compression on the recovery file in Uno. It worked well but I noticed that the sort recovery options are named differently. I think it would be good to name them all the same. I can do that as a follow on.\r\n`tserver.wal.sort.file.compress.type=snappy`\r\n<pre>\r\n09:35:49 {main} ~/workspace/uno/install/logs/accumulo$ hdfs dfs -ls -R /accumulo/recovery\r\ndrwx------   - mike supergroup          0 2021-08-20 09:35 /accumulo/recovery/5f821693-2a9e-4b1f-ab35-9b4542764ff0\r\n-rw-r--r--   3 mike supergroup          0 2021-08-20 09:35 /accumulo/recovery/5f821693-2a9e-4b1f-ab35-9b4542764ff0/finished\r\n-rw-r--r--   3 mike supergroup        334 2021-08-20 09:35 /accumulo/recovery/5f821693-2a9e-4b1f-ab35-9b4542764ff0/part-r-00000.rf\r\ndrwx------   - mike supergroup          0 2021-08-20 09:35 /accumulo/recovery/cdbf6848-11c4-4864-b149-da02fd4543ed\r\n-rw-r--r--   3 mike supergroup          0 2021-08-20 09:35 /accumulo/recovery/cdbf6848-11c4-4864-b149-da02fd4543ed/finished\r\n-rw-r--r--   3 mike supergroup      20182 2021-08-20 09:35 /accumulo/recovery/cdbf6848-11c4-4864-b149-da02fd4543ed/part-r-00000.rf\r\n09:36:16 {main} ~/workspace/uno/install/logs/accumulo$ accumulo rfile-info /accumulo/recovery/cdbf6848-11c4-4864-b149-da02fd4543ed/part-r-00000.rf\r\nReading file: hdfs://localhost:8020/accumulo/recovery/cdbf6848-11c4-4864-b149-da02fd4543ed/part-r-00000.rf\r\nNo on disk encryption detected.\r\nRFile Version            : 8\r\nLocality group           : <DEFAULT>\r\n\tNum   blocks           : 1\r\n\tIndex level 0          : 56 bytes  1 blocks\r\n\tFirst key              : %00;%80;%00;%00;%00;%00;%00;%00;%00;%00;%00;%00;%00; OPEN:cdbf6848-11c4-4864-b149-da02fd4543ed [] 9223372036854775807 false\r\n\tLast key               : %03;%80;%00;%00;%0f;%00;%00;%00;%00;%00;%00;%00;%03; MANY_MUTATIONS: [] 9223372036854775807 false\r\n\tNum entries            : 54\r\n\tColumn families        : [MANY_MUTATIONS, COMPACTION_FINISH, DEFINE_TABLET, COMPACTION_START, OPEN, MUTATION]\r\n\r\nMeta block     : BCFile.index\r\n      Raw size             : 8 bytes\r\n      Compressed size      : 18 bytes\r\n      Compression type     : snappy\r\n\r\nMeta block     : RFile.index\r\n      Raw size             : 307 bytes\r\n      Compressed size      : 236 bytes\r\n      Compression type     : snappy\r\n</pre>","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/902707638/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/902866074","html_url":"https://github.com/apache/accumulo/issues/2138#issuecomment-902866074","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2138","id":902866074,"node_id":"IC_kwDOACaFSM410KSa","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-20T18:06:05Z","updated_at":"2021-08-20T18:06:05Z","author_association":"CONTRIBUTOR","body":"@keith-turner @ctubbsii  - take a look at the draft PR, let me know if this is what you had in mind. I have not tested it yet.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/902866074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/902882759","html_url":"https://github.com/apache/accumulo/issues/2239#issuecomment-902882759","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2239","id":902882759,"node_id":"IC_kwDOACaFSM410OXH","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-20T18:37:18Z","updated_at":"2021-08-20T18:37:18Z","author_association":"CONTRIBUTOR","body":"AccumuloUncaughtExceptionHandler for the win!","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/902882759/reactions","total_count":3,"+1":2,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/902882813","html_url":"https://github.com/apache/accumulo/pull/2238#issuecomment-902882813","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2238","id":902882813,"node_id":"IC_kwDOACaFSM410OX9","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-20T18:37:25Z","updated_at":"2021-08-20T18:37:25Z","author_association":"CONTRIBUTOR","body":"Based on the conversation on #2138 it seems there was consensus on using a YAML file to configure the cluster. Any reason why a simple properties file (similar to accumulo.properties) wouldn't work? ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/902882813/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/902883888","html_url":"https://github.com/apache/accumulo/pull/2238#issuecomment-902883888","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2238","id":902883888,"node_id":"IC_kwDOACaFSM410Oow","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-20T18:39:33Z","updated_at":"2021-08-20T18:39:33Z","author_association":"CONTRIBUTOR","body":"It was brought up [here](https://github.com/apache/accumulo/issues/2138#issuecomment-870957594)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/902883888/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/902884422","html_url":"https://github.com/apache/accumulo/pull/2238#issuecomment-902884422","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2238","id":902884422,"node_id":"IC_kwDOACaFSM410OxG","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-20T18:40:29Z","updated_at":"2021-08-20T18:40:29Z","author_association":"CONTRIBUTOR","body":"> It was brought up [here](https://github.com/apache/accumulo/issues/2138#issuecomment-870957594)\r\n\r\nThanks. Sorry I missed that.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/902884422/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/902884961","html_url":"https://github.com/apache/accumulo/pull/2238#issuecomment-902884961","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2238","id":902884961,"node_id":"IC_kwDOACaFSM410O5h","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-20T18:41:33Z","updated_at":"2021-08-20T18:41:33Z","author_association":"CONTRIBUTOR","body":"Sure, no problem.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/902884961/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/903065792","html_url":"https://github.com/apache/accumulo/issues/1542#issuecomment-903065792","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1542","id":903065792,"node_id":"IC_kwDOACaFSM4107DA","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-21T06:02:55Z","updated_at":"2021-08-21T06:02:55Z","author_association":"MEMBER","body":"Looks like it was fixed by #1552, according to @Manno15 , so I'll close this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/903065792/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/903330633","html_url":"https://github.com/apache/accumulo/issues/2153#issuecomment-903330633","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2153","id":903330633,"node_id":"IC_kwDOACaFSM4117tJ","user":{"login":"shreelakshmijoshi","id":74366348,"node_id":"MDQ6VXNlcjc0MzY2MzQ4","avatar_url":"https://avatars.githubusercontent.com/u/74366348?v=4","gravatar_id":"","url":"https://api.github.com/users/shreelakshmijoshi","html_url":"https://github.com/shreelakshmijoshi","followers_url":"https://api.github.com/users/shreelakshmijoshi/followers","following_url":"https://api.github.com/users/shreelakshmijoshi/following{/other_user}","gists_url":"https://api.github.com/users/shreelakshmijoshi/gists{/gist_id}","starred_url":"https://api.github.com/users/shreelakshmijoshi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shreelakshmijoshi/subscriptions","organizations_url":"https://api.github.com/users/shreelakshmijoshi/orgs","repos_url":"https://api.github.com/users/shreelakshmijoshi/repos","events_url":"https://api.github.com/users/shreelakshmijoshi/events{/privacy}","received_events_url":"https://api.github.com/users/shreelakshmijoshi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-22T21:07:30Z","updated_at":"2021-08-22T21:07:30Z","author_association":"NONE","body":"Hi @Manno15 ,\r\nI am a new open source contributor and would like to work on the issue, would you provide some more reference to help me understand the problem better ?\r\nIs this issue open for contribution ? ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/903330633/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/903728553","html_url":"https://github.com/apache/accumulo/issues/2153#issuecomment-903728553","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2153","id":903728553,"node_id":"IC_kwDOACaFSM413c2p","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-23T12:41:08Z","updated_at":"2021-08-23T12:41:08Z","author_association":"CONTRIBUTOR","body":"Are you able to build the base (main) branch?  Some helpful documentation can be found at [building accumulo](https://accumulo.apache.org/contributor/building).  When you submit a PR, there are a set of validations that will run - if you can follow the build instructions, running:\r\n```\r\nmvn clean verify package javadoc:jar -Psec-bugs -DskipITs=true -DskipTests=true\r\n``` \r\nWill run the complete set of validations that the build process will run, skipping tests - running those successfully before submitting a PR will catch issues that would fail the process. If your PR adds or modifies tests, then you will want to make sure that your exercise those (again, see the building Accumulo for more details)\r\n\r\nIf you have question with the issue, maybe ask direct questions where things are unclear? ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/903728553/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/903786603","html_url":"https://github.com/apache/accumulo/issues/2153#issuecomment-903786603","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2153","id":903786603,"node_id":"IC_kwDOACaFSM413rBr","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-23T13:48:33Z","updated_at":"2021-08-23T13:48:33Z","author_association":"CONTRIBUTOR","body":"> I am a new open source contributor and would like to work on the issue, would you provide some more reference to help me understand the problem better ?\r\nIs this issue open for contribution ?\r\n\r\nHey, @shreelakshmijoshi! I would be more than glad to assist you. Yes, this issue is open for contribution if you wish to take it on.  There is a `closeConsistencyCheck` function inside `Tablet.java` (as seen below). In there, we do multiple checks to make things are consistent as expected. This issue would like to add two more checks in that function, one for lastFlushID and one for lastCompactID. Let me know if you need any further explanation or help!\r\n\r\n https://github.com/apache/accumulo/blob/5d3344dbb488d602025ce8f2acb5f807969f45ec/server/tserver/src/main/java/org/apache/accumulo/tserver/tablet/Tablet.java#L1345","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/903786603/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/903902374","html_url":"https://github.com/apache/accumulo/issues/2239#issuecomment-903902374","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2239","id":903902374,"node_id":"IC_kwDOACaFSM414HSm","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-23T15:59:54Z","updated_at":"2021-08-23T16:00:32Z","author_association":"CONTRIBUTOR","body":"To help differentiate between all files and compacting files, I edited the log message slightly: \r\n\r\n``` \r\nCompacting not in set of all files [[C00000o6.rf, 30685229 787039], [F00000on.rf, 1723078 46410], [A00000ed.rf, 34076028 870729]],\r\n compacting files [[C00000k7.rf, 10046277 266635], [C00000mz.rf, 9978439 255846], [F00000ny.rf, 2311671 61351], [C00000h4.rf, 7956997 203207]]\r\n\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/903902374/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/903913036","html_url":"https://github.com/apache/accumulo/issues/2239#issuecomment-903913036","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2239","id":903913036,"node_id":"IC_kwDOACaFSM414J5M","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-23T16:09:25Z","updated_at":"2021-08-23T16:21:07Z","author_association":"MEMBER","body":"> ```\r\n> Compacting not in set of all files\r\n> ```\r\n\r\nUnrelated to this bug, it seems that this message could be changed to be more evident in what it refers to. I find its meaning unclear.\r\n\r\nPossibly something along the lines of \"Compacting files that are outside of the known set of all files\" ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/903913036/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/904083356","html_url":"https://github.com/apache/accumulo/pull/2238#issuecomment-904083356","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2238","id":904083356,"node_id":"IC_kwDOACaFSM414zec","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-23T20:06:52Z","updated_at":"2021-08-23T20:06:52Z","author_association":"CONTRIBUTOR","body":"@ctubbsii - Thanks for the suggestions. I have made several modifications based on them. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/904083356/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/904144553","html_url":"https://github.com/apache/accumulo/issues/2239#issuecomment-904144553","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2239","id":904144553,"node_id":"IC_kwDOACaFSM415Cap","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-23T21:25:38Z","updated_at":"2021-08-23T21:25:38Z","author_association":"CONTRIBUTOR","body":"I wonder if this is a timing issue. I added some log messages and it appears the compacting files were indeed at one point in the set of 'allFiles' but not when the sanity check took place. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/904144553/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/904580594","html_url":"https://github.com/apache/accumulo/issues/2239#issuecomment-904580594","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2239","id":904580594,"node_id":"IC_kwDOACaFSM416s3y","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-24T12:08:21Z","updated_at":"2021-08-24T12:08:21Z","author_association":"CONTRIBUTOR","body":"> I wonder if this is a timing issue. I added some log messages and it appears the compacting files were indeed at one point in the set of 'allFiles' but not when the sanity check took place.\r\n\r\nIt may be that this is a common occurrence on a highly active system. If that is the case, it's probably worthwhile to check the files sooner, before the constructor, [as soon as we get the set](https://github.com/apache/accumulo/blob/a9100ac35f3d72677b767d7670dfb032c7e7d733/server/tserver/src/main/java/org/apache/accumulo/tserver/tablet/CompactableImpl.java#L986). Then maybe just put a debug statement. \r\n\r\nIt may still be a bug though, I don't know the code well enough to know the intent behind the two sets of files.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/904580594/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/904599616","html_url":"https://github.com/apache/accumulo/pull/2240#issuecomment-904599616","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2240","id":904599616,"node_id":"IC_kwDOACaFSM416xhA","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-24T12:32:04Z","updated_at":"2021-08-24T12:32:04Z","author_association":"CONTRIBUTOR","body":"So, I wrote a new test in CompactionIT. The compaction fails with a TableNotFoundException, but at a different point in the code. I wonder if this is already handled.\r\n\r\n```\r\norg.apache.accumulo.core.client.TableNotFoundException: Table (Id=1) does not exist (Table does not exist)\r\n\tat org.apache.accumulo.core.clientImpl.TableOperationsImpl.doFateOperation(TableOperationsImpl.java:390)\r\n\tat org.apache.accumulo.core.clientImpl.TableOperationsImpl.compact(TableOperationsImpl.java:866)\r\n\tat org.apache.accumulo.test.functional.CompactionIT.testDeleteTableAbortsCompaction(CompactionIT.java:223)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n\tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n\tat org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)\r\n\tat org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: ThriftTableOperationException(tableId:1, tableName:, op:COMPACT, type:NOTFOUND, description:Table does not exist)\r\n\tat org.apache.accumulo.core.manager.thrift.FateService$waitForFateOperation_result$waitForFateOperation_resultStandardScheme.read(FateService.java:4731)\r\n\tat org.apache.accumulo.core.manager.thrift.FateService$waitForFateOperation_result$waitForFateOperation_resultStandardScheme.read(FateService.java:1)\r\n\tat org.apache.accumulo.core.manager.thrift.FateService$waitForFateOperation_result.read(FateService.java:4626)\r\n\tat org.apache.thrift.TServiceClient.receiveBase(TServiceClient.java:88)\r\n\tat org.apache.accumulo.core.manager.thrift.FateService$Client.recv_waitForFateOperation(FateService.java:157)\r\n\tat org.apache.accumulo.core.manager.thrift.FateService$Client.waitForFateOperation(FateService.java:142)\r\n\tat org.apache.accumulo.core.clientImpl.TableOperationsImpl.waitForFateOperation(TableOperationsImpl.java:303)\r\n\tat org.apache.accumulo.core.clientImpl.TableOperationsImpl.doFateOperation(TableOperationsImpl.java:372)\r\n\t... 16 more\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/904599616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/904651300","html_url":"https://github.com/apache/accumulo/issues/2239#issuecomment-904651300","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2239","id":904651300,"node_id":"IC_kwDOACaFSM416-Ik","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-24T13:39:00Z","updated_at":"2021-08-24T13:39:00Z","author_association":"CONTRIBUTOR","body":"> It may be that this is a common occurrence on a highly active system. If that is the case, it's probably worthwhile to check the files sooner, before the constructor, as soon as we get the set. Then maybe just put a debug statement.\r\n\r\nGood idea, I will take a look at it.\r\n\r\n> It may still be a bug though, I don't know the code well enough to know the intent behind the two sets of files.\r\n\r\nNeither do I, unfortunately. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/904651300/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/904705067","html_url":"https://github.com/apache/accumulo/pull/2241#issuecomment-904705067","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2241","id":904705067,"node_id":"IC_kwDOACaFSM417LQr","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-24T14:43:02Z","updated_at":"2021-08-24T14:43:02Z","author_association":"CONTRIBUTOR","body":"> Would it be better if it was something more like srvContext ? It looks like we have other contexts (ClientContext, ClassLoaderContext) as well as M/R contexts. It may be that ServerContext and ClientContext are not used together - but with using 'context' anyone should not assume that all instances of context are server contexts.\r\n> \r\n> 'context' does read better, but wondering if there are benefits to being more specific to add clarity or if it just makes it harder to read for something that is already obvious.\r\n\r\nThe other context objects are only used in specific classes. I went with the name that was most popular but I am not opposed to the more specific name `serverContext`. It would just require more changes.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/904705067/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]