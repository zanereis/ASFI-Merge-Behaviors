[{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1097523827","html_url":"https://github.com/apache/hudi/issues/4881#issuecomment-1097523827","issue_url":"https://api.github.com/repos/apache/hudi/issues/4881","id":1097523827,"node_id":"IC_kwDOBI7nWM5BauJz","user":{"login":"zhilinli123","id":76689593,"node_id":"MDQ6VXNlcjc2Njg5NTkz","avatar_url":"https://avatars.githubusercontent.com/u/76689593?v=4","gravatar_id":"","url":"https://api.github.com/users/zhilinli123","html_url":"https://github.com/zhilinli123","followers_url":"https://api.github.com/users/zhilinli123/followers","following_url":"https://api.github.com/users/zhilinli123/following{/other_user}","gists_url":"https://api.github.com/users/zhilinli123/gists{/gist_id}","starred_url":"https://api.github.com/users/zhilinli123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhilinli123/subscriptions","organizations_url":"https://api.github.com/users/zhilinli123/orgs","repos_url":"https://api.github.com/users/zhilinli123/repos","events_url":"https://api.github.com/users/zhilinli123/events{/privacy}","received_events_url":"https://api.github.com/users/zhilinli123/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-13T03:47:15Z","updated_at":"2022-04-13T03:47:15Z","author_association":"NONE","body":"> That's weird, what version did you use ?\r\n\r\nhudi:0.10.1 ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1097523827/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1097544892","html_url":"https://github.com/apache/hudi/issues/5231#issuecomment-1097544892","issue_url":"https://api.github.com/repos/apache/hudi/issues/5231","id":1097544892,"node_id":"IC_kwDOBI7nWM5BazS8","user":{"login":"codejoyan","id":48707638,"node_id":"MDQ6VXNlcjQ4NzA3NjM4","avatar_url":"https://avatars.githubusercontent.com/u/48707638?v=4","gravatar_id":"","url":"https://api.github.com/users/codejoyan","html_url":"https://github.com/codejoyan","followers_url":"https://api.github.com/users/codejoyan/followers","following_url":"https://api.github.com/users/codejoyan/following{/other_user}","gists_url":"https://api.github.com/users/codejoyan/gists{/gist_id}","starred_url":"https://api.github.com/users/codejoyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codejoyan/subscriptions","organizations_url":"https://api.github.com/users/codejoyan/orgs","repos_url":"https://api.github.com/users/codejoyan/repos","events_url":"https://api.github.com/users/codejoyan/events{/privacy}","received_events_url":"https://api.github.com/users/codejoyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-13T04:32:12Z","updated_at":"2022-04-13T04:32:12Z","author_association":"CONTRIBUTOR","body":"Thanks @alexeykudinkin for the solution. I will do some testing and go through the PR.\r\nWill let you know if I have further questions. Thank you very much!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1097544892/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1097571587","html_url":"https://github.com/apache/hudi/issues/5290#issuecomment-1097571587","issue_url":"https://api.github.com/repos/apache/hudi/issues/5290","id":1097571587,"node_id":"IC_kwDOBI7nWM5Ba50D","user":{"login":"easonwood","id":5763104,"node_id":"MDQ6VXNlcjU3NjMxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5763104?v=4","gravatar_id":"","url":"https://api.github.com/users/easonwood","html_url":"https://github.com/easonwood","followers_url":"https://api.github.com/users/easonwood/followers","following_url":"https://api.github.com/users/easonwood/following{/other_user}","gists_url":"https://api.github.com/users/easonwood/gists{/gist_id}","starred_url":"https://api.github.com/users/easonwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/easonwood/subscriptions","organizations_url":"https://api.github.com/users/easonwood/orgs","repos_url":"https://api.github.com/users/easonwood/repos","events_url":"https://api.github.com/users/easonwood/events{/privacy}","received_events_url":"https://api.github.com/users/easonwood/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-13T05:23:32Z","updated_at":"2022-04-13T05:23:32Z","author_association":"NONE","body":"Sometimes, the error continues like this and blocks the job:\r\n22/04/13 03:45:29 ERROR HoodieTimelineArchiveLog: Failed to archive commits, .commit file: 20220411034143.rollback.inflight\r\njava.io.IOException: Not an Avro data file\r\n\tat org.apache.avro.file.DataFileReader.openReader(DataFileReader.java:50)\r\n\tat org.apache.hudi.common.table.timeline.TimelineMetadataUtils.deserializeAvroMetadata(TimelineMetadataUtils.java:175)\r\n\tat org.apache.hudi.client.utils.MetadataConversionUtils.createMetaWrapper(MetadataConversionUtils.java:84)\r\n\tat org.apache.hudi.table.HoodieTimelineArchiveLog.convertToAvroRecord(HoodieTimelineArchiveLog.java:370)\r\n\tat org.apache.hudi.table.HoodieTimelineArchiveLog.archive(HoodieTimelineArchiveLog.java:311)\r\n\tat org.apache.hudi.table.HoodieTimelineArchiveLog.archiveIfRequired(HoodieTimelineArchiveLog.java:128)\r\n\tat org.apache.hudi.client.AbstractHoodieWriteClient.postCommit(AbstractHoodieWriteClient.java:430)\r\n\tat org.apache.hudi.client.AbstractHoodieWriteClient.commitStats(AbstractHoodieWriteClient.java:186)\r\n\tat org.apache.hudi.client.SparkRDDWriteClient.commit(SparkRDDWriteClient.java:121)\r\n\tat org.apache.hudi.HoodieSparkSqlWriter$.commitAndPerformPostOperations(HoodieSparkSqlWriter.scala:479)\r\n\tat org.apache.hudi.HoodieSparkSqlWriter$.write(HoodieSparkSqlWriter.scala:223)\r\n\tat org.apache.hudi.DefaultSource.createRelation(DefaultSource.scala:145)\r\n\tat org.apache.spark.sql.execution.datasources.SaveIntoDataSourceCommand.run(SaveIntoDataSourceCommand.scala:46)\r\n\tat org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult$lzycompute(commands.scala:70)\r\n\tat org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult(commands.scala:68)\r\n\tat org.apache.spark.sql.execution.command.ExecutedCommandExec.doExecute(commands.scala:90)\r\n\tat org.apache.spark.sql.execution.SparkPlan.$anonfun$execute$1(SparkPlan.scala:194)\r\n\tat org.apache.spark.sql.execution.SparkPlan.$anonfun$executeQuery$1(SparkPlan.scala:232)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n\tat org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:229)\r\n\tat org.apache.spark.sql.execution.SparkPlan.execute(SparkPlan.scala:190)\r\n\tat org.apache.spark.sql.execution.QueryExecution.toRdd$lzycompute(QueryExecution.scala:134)\r\n\tat org.apache.spark.sql.execution.QueryExecution.toRdd(QueryExecution.scala:133)\r\n\tat org.apache.spark.sql.DataFrameWriter.$anonfun$runCommand$1(DataFrameWriter.scala:989)\r\n\tat org.apache.spark.sql.catalyst.QueryPlanningTracker$.withTracker(QueryPlanningTracker.scala:107)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withTracker(SQLExecution.scala:232)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.executeQuery$1(SQLExecution.scala:110)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$6(SQLExecution.scala:135)\r\n\tat org.apache.spark.sql.catalyst.QueryPlanningTracker$.withTracker(QueryPlanningTracker.scala:107)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withTracker(SQLExecution.scala:232)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:135)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:253)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:134)\r\n\tat org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:68)\r\n\tat org.apache.spark.sql.DataFrameWriter.runCommand(DataFrameWriter.scala:989)\r\n\tat org.apache.spark.sql.DataFrameWriter.saveToV1Source(DataFrameWriter.scala:438)\r\n\tat org.apache.spark.sql.DataFrameWriter.saveInternal(DataFrameWriter.scala:415)\r\n\tat org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:293)\r\n\tat us.zoom.op.DmsStreamingIncrement$.saveHudi(DmsStreamingIncrement.scala:278)\r\n\tat us.zoom.op.DmsStreamingIncrement$.$anonfun$main$6(DmsStreamingIncrement.scala:248)\r\n\tat java.util.TreeMap.forEach(TreeMap.java:1005)\r\n\tat us.zoom.op.DmsStreamingIncrement$.main(DmsStreamingIncrement.scala:177)\r\n\tat us.zoom.op.DmsStreamingIncrement.main(DmsStreamingIncrement.scala)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:735)\r\n22/04/13 03:45:29 ERROR ApplicationMaster: User class threw exception: org.apache.hudi.exception.HoodieCommitException: Failed to archive commits\r\norg.apache.hudi.exception.HoodieCommitException: Failed to archive commits\r\n\tat org.apache.hudi.table.HoodieTimelineArchiveLog.archive(HoodieTimelineArchiveLog.java:324)\r\n\tat org.apache.hudi.table.HoodieTimelineArchiveLog.archiveIfRequired(HoodieTimelineArchiveLog.java:128)\r\n\tat org.apache.hudi.client.AbstractHoodieWriteClient.postCommit(AbstractHoodieWriteClient.java:430)\r\n\tat org.apache.hudi.client.AbstractHoodieWriteClient.commitStats(AbstractHoodieWriteClient.java:186)\r\n\tat org.apache.hudi.client.SparkRDDWriteClient.commit(SparkRDDWriteClient.java:121)\r\n\tat org.apache.hudi.HoodieSparkSqlWriter$.commitAndPerformPostOperations(HoodieSparkSqlWriter.scala:479)\r\n\tat org.apache.hudi.HoodieSparkSqlWriter$.write(HoodieSparkSqlWriter.scala:223)\r\n\tat org.apache.hudi.DefaultSource.createRelation(DefaultSource.scala:145)\r\n\tat org.apache.spark.sql.execution.datasources.SaveIntoDataSourceCommand.run(SaveIntoDataSourceCommand.scala:46)\r\n\tat org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult$lzycompute(commands.scala:70)\r\n\tat org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult(commands.scala:68)\r\n\tat org.apache.spark.sql.execution.command.ExecutedCommandExec.doExecute(commands.scala:90)\r\n\tat org.apache.spark.sql.execution.SparkPlan.$anonfun$execute$1(SparkPlan.scala:194)\r\n\tat org.apache.spark.sql.execution.SparkPlan.$anonfun$executeQuery$1(SparkPlan.scala:232)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n\tat org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:229)\r\n\tat org.apache.spark.sql.execution.SparkPlan.execute(SparkPlan.scala:190)\r\n\tat org.apache.spark.sql.execution.QueryExecution.toRdd$lzycompute(QueryExecution.scala:134)\r\n\tat org.apache.spark.sql.execution.QueryExecution.toRdd(QueryExecution.scala:133)\r\n\tat org.apache.spark.sql.DataFrameWriter.$anonfun$runCommand$1(DataFrameWriter.scala:989)\r\n\tat org.apache.spark.sql.catalyst.QueryPlanningTracker$.withTracker(QueryPlanningTracker.scala:107)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withTracker(SQLExecution.scala:232)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.executeQuery$1(SQLExecution.scala:110)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$6(SQLExecution.scala:135)\r\n\tat org.apache.spark.sql.catalyst.QueryPlanningTracker$.withTracker(QueryPlanningTracker.scala:107)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withTracker(SQLExecution.scala:232)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:135)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:253)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:134)\r\n\tat org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:68)\r\n\tat org.apache.spark.sql.DataFrameWriter.runCommand(DataFrameWriter.scala:989)\r\n\tat org.apache.spark.sql.DataFrameWriter.saveToV1Source(DataFrameWriter.scala:438)\r\n\tat org.apache.spark.sql.DataFrameWriter.saveInternal(DataFrameWriter.scala:415)\r\n\tat org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:293)\r\n\tat us.zoom.op.DmsStreamingIncrement$.saveHudi(DmsStreamingIncrement.scala:278)\r\n\tat us.zoom.op.DmsStreamingIncrement$.$anonfun$main$6(DmsStreamingIncrement.scala:248)\r\n\tat java.util.TreeMap.forEach(TreeMap.java:1005)\r\n\tat us.zoom.op.DmsStreamingIncrement$.main(DmsStreamingIncrement.scala:177)\r\n\tat us.zoom.op.DmsStreamingIncrement.main(DmsStreamingIncrement.scala)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:735)\r\nCaused by: java.io.IOException: Not an Avro data file\r\n\tat org.apache.avro.file.DataFileReader.openReader(DataFileReader.java:50)\r\n\tat org.apache.hudi.common.table.timeline.TimelineMetadataUtils.deserializeAvroMetadata(TimelineMetadataUtils.java:175)\r\n\tat org.apache.hudi.client.utils.MetadataConversionUtils.createMetaWrapper(MetadataConversionUtils.java:84)\r\n\tat org.apache.hudi.table.HoodieTimelineArchiveLog.convertToAvroRecord(HoodieTimelineArchiveLog.java:370)\r\n\tat org.apache.hudi.table.HoodieTimelineArchiveLog.archive(HoodieTimelineArchiveLog.java:311)\r\n\t... 44 more","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1097571587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1097581271","html_url":"https://github.com/apache/hudi/issues/5290#issuecomment-1097581271","issue_url":"https://api.github.com/repos/apache/hudi/issues/5290","id":1097581271,"node_id":"IC_kwDOBI7nWM5Ba8LX","user":{"login":"easonwood","id":5763104,"node_id":"MDQ6VXNlcjU3NjMxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5763104?v=4","gravatar_id":"","url":"https://api.github.com/users/easonwood","html_url":"https://github.com/easonwood","followers_url":"https://api.github.com/users/easonwood/followers","following_url":"https://api.github.com/users/easonwood/following{/other_user}","gists_url":"https://api.github.com/users/easonwood/gists{/gist_id}","starred_url":"https://api.github.com/users/easonwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/easonwood/subscriptions","organizations_url":"https://api.github.com/users/easonwood/orgs","repos_url":"https://api.github.com/users/easonwood/repos","events_url":"https://api.github.com/users/easonwood/events{/privacy}","received_events_url":"https://api.github.com/users/easonwood/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-13T05:42:15Z","updated_at":"2022-04-13T05:52:12Z","author_association":"NONE","body":"After deleting such empty files: 20220411034143.rollback.inflight,\r\nJob still runs and Data are loaded to Hudi successfully.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1097581271/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1097596563","html_url":"https://github.com/apache/hudi/pull/5309#issuecomment-1097596563","issue_url":"https://api.github.com/repos/apache/hudi/issues/5309","id":1097596563,"node_id":"IC_kwDOBI7nWM5Ba_6T","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-13T06:09:36Z","updated_at":"2022-04-13T06:09:36Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"10c1260e5cda2ca9e0fb1093cf7310272a453996\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8035\",\n    \"triggerID\" : \"10c1260e5cda2ca9e0fb1093cf7310272a453996\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 10c1260e5cda2ca9e0fb1093cf7310272a453996 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8035) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1097596563/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1097613242","html_url":"https://github.com/apache/hudi/pull/5310#issuecomment-1097613242","issue_url":"https://api.github.com/repos/apache/hudi/issues/5310","id":1097613242,"node_id":"IC_kwDOBI7nWM5BbD-6","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-13T06:36:12Z","updated_at":"2022-04-13T06:36:33Z","author_association":"CONTRIBUTOR","body":"cc @codope  Can you help review this ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1097613242/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1097626338","html_url":"https://github.com/apache/hudi/pull/4243#issuecomment-1097626338","issue_url":"https://api.github.com/repos/apache/hudi/issues/4243","id":1097626338,"node_id":"IC_kwDOBI7nWM5BbHLi","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-13T06:55:12Z","updated_at":"2022-04-13T06:55:12Z","author_association":"CONTRIBUTOR","body":"Comments addressed in #5312 .","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1097626338/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1097641941","html_url":"https://github.com/apache/hudi/pull/5201#issuecomment-1097641941","issue_url":"https://api.github.com/repos/apache/hudi/issues/5201","id":1097641941,"node_id":"IC_kwDOBI7nWM5BbK_V","user":{"login":"YannByron","id":10036681,"node_id":"MDQ6VXNlcjEwMDM2Njgx","avatar_url":"https://avatars.githubusercontent.com/u/10036681?v=4","gravatar_id":"","url":"https://api.github.com/users/YannByron","html_url":"https://github.com/YannByron","followers_url":"https://api.github.com/users/YannByron/followers","following_url":"https://api.github.com/users/YannByron/following{/other_user}","gists_url":"https://api.github.com/users/YannByron/gists{/gist_id}","starred_url":"https://api.github.com/users/YannByron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YannByron/subscriptions","organizations_url":"https://api.github.com/users/YannByron/orgs","repos_url":"https://api.github.com/users/YannByron/repos","events_url":"https://api.github.com/users/YannByron/events{/privacy}","received_events_url":"https://api.github.com/users/YannByron/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-13T07:15:48Z","updated_at":"2022-04-13T07:15:48Z","author_association":"CONTRIBUTOR","body":"> I would suggest to revert this PR before we reach unified conclusion.\r\n\r\nas discussed with @xushiyan, fix some bugs for users when this config is on with a high prior. and we also think this config should be discarded in the short run.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1097641941/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1097658762","html_url":"https://github.com/apache/hudi/issues/5313#issuecomment-1097658762","issue_url":"https://api.github.com/repos/apache/hudi/issues/5313","id":1097658762,"node_id":"IC_kwDOBI7nWM5BbPGK","user":{"login":"hangc0276","id":5436568,"node_id":"MDQ6VXNlcjU0MzY1Njg=","avatar_url":"https://avatars.githubusercontent.com/u/5436568?v=4","gravatar_id":"","url":"https://api.github.com/users/hangc0276","html_url":"https://github.com/hangc0276","followers_url":"https://api.github.com/users/hangc0276/followers","following_url":"https://api.github.com/users/hangc0276/following{/other_user}","gists_url":"https://api.github.com/users/hangc0276/gists{/gist_id}","starred_url":"https://api.github.com/users/hangc0276/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hangc0276/subscriptions","organizations_url":"https://api.github.com/users/hangc0276/orgs","repos_url":"https://api.github.com/users/hangc0276/repos","events_url":"https://api.github.com/users/hangc0276/events{/privacy}","received_events_url":"https://api.github.com/users/hangc0276/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-13T07:35:57Z","updated_at":"2022-04-13T07:35:57Z","author_association":"NONE","body":"### Motivation\r\n[Apache Pulsar](https://github.com/apache/pulsar) is doing integration with Hudi, and take Hudi as tiered storage to offload topic cold data into Hudi. When consumers fetch cold data from topic, Pulsar broker will locate the target data is stored in Pulsar or not. If the target data stored in tiered storage (Hudi), Pulsar broker will fetch data from Hudi by Java API, and package them into Pulsar format and dispatch to consumer side.\r\n\r\nHowever, we found current Hudi implementation doesn't support read Hudi table records by Java API, and we couldn't read the target data out from Hudi into Pulsar Broker, which will block the Pulsar & Hudi integration.\r\n\r\n### What we need\r\n1. We need Hudi to support reading records by Java API\r\n2. We need Hudi to support read records out which keep the writer order, or support order by specific fields.\r\n\r\nDoes the Hudi community has plan to support this feature?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1097658762/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1097696244","html_url":"https://github.com/apache/hudi/pull/5311#issuecomment-1097696244","issue_url":"https://api.github.com/repos/apache/hudi/issues/5311","id":1097696244,"node_id":"IC_kwDOBI7nWM5BbYP0","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-13T08:18:06Z","updated_at":"2022-04-13T08:18:06Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"dca808f6065b14146ca087526e9b545ecf84eb53\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8039\",\n    \"triggerID\" : \"dca808f6065b14146ca087526e9b545ecf84eb53\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* dca808f6065b14146ca087526e9b545ecf84eb53 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8039) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1097696244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1097792643","html_url":"https://github.com/apache/hudi/pull/5312#issuecomment-1097792643","issue_url":"https://api.github.com/repos/apache/hudi/issues/5312","id":1097792643,"node_id":"IC_kwDOBI7nWM5BbvyD","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-13T09:26:49Z","updated_at":"2022-04-13T09:26:49Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"2a079343e61c00543c63640bd812949da96527b8\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8041\",\n    \"triggerID\" : \"2a079343e61c00543c63640bd812949da96527b8\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 2a079343e61c00543c63640bd812949da96527b8 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8041) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1097792643/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1097803474","html_url":"https://github.com/apache/hudi/issues/4881#issuecomment-1097803474","issue_url":"https://api.github.com/repos/apache/hudi/issues/4881","id":1097803474,"node_id":"IC_kwDOBI7nWM5BbybS","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-13T09:32:40Z","updated_at":"2022-04-13T09:32:40Z","author_association":"CONTRIBUTOR","body":"The expect behavior is that only after the bootstrap ends up we can handle the in-coming new records. Maybe when you set the bootstrap parallelism as `>1`, the in-coming records are handled before the bootstrap finish. Can you give some log in the `BootstrapOperator` to confirm this behavior ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1097803474/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1097836001","html_url":"https://github.com/apache/hudi/pull/5310#issuecomment-1097836001","issue_url":"https://api.github.com/repos/apache/hudi/issues/5310","id":1097836001,"node_id":"IC_kwDOBI7nWM5Bb6Xh","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-13T09:52:46Z","updated_at":"2022-04-13T09:52:46Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"65b45d5f08e67df9217bf77d68e0a9ccbbc3da71\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8037\",\n    \"triggerID\" : \"65b45d5f08e67df9217bf77d68e0a9ccbbc3da71\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"608c11c30887311a7dd828b4fe01c9643d032a04\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"608c11c30887311a7dd828b4fe01c9643d032a04\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"71bc8ffeb6032809f4401198d2c45041263d6b8f\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8042\",\n    \"triggerID\" : \"71bc8ffeb6032809f4401198d2c45041263d6b8f\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 608c11c30887311a7dd828b4fe01c9643d032a04 UNKNOWN\n* 71bc8ffeb6032809f4401198d2c45041263d6b8f Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8042) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1097836001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1097841833","html_url":"https://github.com/apache/hudi/pull/5201#issuecomment-1097841833","issue_url":"https://api.github.com/repos/apache/hudi/issues/5201","id":1097841833,"node_id":"IC_kwDOBI7nWM5Bb7yp","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-13T09:57:13Z","updated_at":"2022-04-13T09:57:13Z","author_association":"MEMBER","body":"> I would suggest to revert this PR before we reach unified conclusion.\r\n\r\n@danny0405 BigQuery requires tables not to store partition columns on the parquet files when there are physical partition paths. To support reading from BigQuery, we're to enable this config, which was introduced long time back. As for this PR itself, it's only meant to fix bugs of the behaviors when this is enabled.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1097841833/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1097905227","html_url":"https://github.com/apache/hudi/pull/5308#issuecomment-1097905227","issue_url":"https://api.github.com/repos/apache/hudi/issues/5308","id":1097905227,"node_id":"IC_kwDOBI7nWM5BcLRL","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-13T10:48:08Z","updated_at":"2022-04-13T10:48:08Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"4833349933c202632b3230f3db85ed3dac3a47cc\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8031\",\n    \"triggerID\" : \"4833349933c202632b3230f3db85ed3dac3a47cc\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"192c99c64209bfd34220c0ef6c9acd47926f2117\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8036\",\n    \"triggerID\" : \"192c99c64209bfd34220c0ef6c9acd47926f2117\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"4082b4566643bf3a37ae7b924182e96e2057cb81\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8043\",\n    \"triggerID\" : \"4082b4566643bf3a37ae7b924182e96e2057cb81\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 4082b4566643bf3a37ae7b924182e96e2057cb81 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8043) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1097905227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1097912778","html_url":"https://github.com/apache/hudi/pull/5314#issuecomment-1097912778","issue_url":"https://api.github.com/repos/apache/hudi/issues/5314","id":1097912778,"node_id":"IC_kwDOBI7nWM5BcNHK","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-13T10:57:58Z","updated_at":"2022-04-13T10:57:58Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"4d69b748afc498ed7d6073f30e8613b63fd0f90d\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8044\",\n    \"triggerID\" : \"4d69b748afc498ed7d6073f30e8613b63fd0f90d\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 4d69b748afc498ed7d6073f30e8613b63fd0f90d Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8044) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1097912778/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098029916","html_url":"https://github.com/apache/hudi/pull/5201#issuecomment-1098029916","issue_url":"https://api.github.com/repos/apache/hudi/issues/5201","id":1098029916,"node_id":"IC_kwDOBI7nWM5Bcptc","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-13T13:08:40Z","updated_at":"2022-04-13T13:08:40Z","author_association":"CONTRIBUTOR","body":"> > I would suggest to revert this PR before we reach unified conclusion.\r\n> \r\n> @danny0405 BigQuery requires tables not to store partition columns on the parquet files when there are physical partition paths. To support reading from BigQuery, we're to enable this config, which was introduced long time back. As for this PR itself, it's only meant to fix bugs of the behaviors when this is enabled.\r\n\r\nShouldn’t the BigQuery inputformat adapter the dataset with partition columns? And why bring in the complexities to the writer/reader of spark based on little gains.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098029916/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098039672","html_url":"https://github.com/apache/hudi/pull/5315#issuecomment-1098039672","issue_url":"https://api.github.com/repos/apache/hudi/issues/5315","id":1098039672,"node_id":"IC_kwDOBI7nWM5BcsF4","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-13T13:17:59Z","updated_at":"2022-04-13T13:17:59Z","author_association":"CONTRIBUTOR","body":"can we file a jira for tracking purposes. for bugs, lets ensure we have a tracking jira. some context around how it surfaced as well. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098039672/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098066788","html_url":"https://github.com/apache/hudi/issues/4635#issuecomment-1098066788","issue_url":"https://api.github.com/repos/apache/hudi/issues/4635","id":1098066788,"node_id":"IC_kwDOBI7nWM5Bcytk","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-13T13:42:14Z","updated_at":"2022-04-13T13:42:14Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/hudi/pull/5138\r\nclosing this as we have landed a fix. please re-open or open a new issue if you encounter any new issues","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098066788/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098125514","html_url":"https://github.com/apache/hudi/pull/5315#issuecomment-1098125514","issue_url":"https://api.github.com/repos/apache/hudi/issues/5315","id":1098125514,"node_id":"IC_kwDOBI7nWM5BdBDK","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-13T14:32:39Z","updated_at":"2022-04-13T14:32:39Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"ae877d541f71332168777571d555e3b45f96faca\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8051\",\n    \"triggerID\" : \"ae877d541f71332168777571d555e3b45f96faca\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* ae877d541f71332168777571d555e3b45f96faca Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8051) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098125514/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098225878","html_url":"https://github.com/apache/hudi/pull/5317#issuecomment-1098225878","issue_url":"https://api.github.com/repos/apache/hudi/issues/5317","id":1098225878,"node_id":"IC_kwDOBI7nWM5BdZjW","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-13T16:00:58Z","updated_at":"2022-04-13T16:00:58Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"84d9d31554dced460d1e250dd7e70b374ab05685\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8053\",\n    \"triggerID\" : \"84d9d31554dced460d1e250dd7e70b374ab05685\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 84d9d31554dced460d1e250dd7e70b374ab05685 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8053) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098225878/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098264940","html_url":"https://github.com/apache/hudi/issues/5231#issuecomment-1098264940","issue_url":"https://api.github.com/repos/apache/hudi/issues/5231","id":1098264940,"node_id":"IC_kwDOBI7nWM5BdjFs","user":{"login":"vingov","id":1142498,"node_id":"MDQ6VXNlcjExNDI0OTg=","avatar_url":"https://avatars.githubusercontent.com/u/1142498?v=4","gravatar_id":"","url":"https://api.github.com/users/vingov","html_url":"https://github.com/vingov","followers_url":"https://api.github.com/users/vingov/followers","following_url":"https://api.github.com/users/vingov/following{/other_user}","gists_url":"https://api.github.com/users/vingov/gists{/gist_id}","starred_url":"https://api.github.com/users/vingov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vingov/subscriptions","organizations_url":"https://api.github.com/users/vingov/orgs","repos_url":"https://api.github.com/users/vingov/repos","events_url":"https://api.github.com/users/vingov/events{/privacy}","received_events_url":"https://api.github.com/users/vingov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-13T16:40:45Z","updated_at":"2022-04-13T16:40:45Z","author_association":"CONTRIBUTOR","body":"Thanks, @codejoyan & @alexeykudinkin for fixing this critical issue for BQ integration!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098264940/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098347742","html_url":"https://github.com/apache/hudi/pull/5201#issuecomment-1098347742","issue_url":"https://api.github.com/repos/apache/hudi/issues/5201","id":1098347742,"node_id":"IC_kwDOBI7nWM5Bd3Te","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-13T18:17:59Z","updated_at":"2022-04-13T18:19:28Z","author_association":"MEMBER","body":"> Shouldn’t the BigQuery inputformat adapter the dataset with partition columns? And why bring in the complexities to the writer/reader of spark based on little gains.\r\n\r\nHey @danny0405 BQ does not support custom inputformat as such. We had some previous discussion in the RFC with @vingov here  https://github.com/apache/hudi/pull/4503#discussion_r786981999. There are big companies who rely heavily on BQ so it's worth the efforts. Besides, this is an existing config default to false, so people don't need it don't use. Hope this helps clarify the context.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098347742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098478227","html_url":"https://github.com/apache/hudi/pull/5318#issuecomment-1098478227","issue_url":"https://api.github.com/repos/apache/hudi/issues/5318","id":1098478227,"node_id":"IC_kwDOBI7nWM5BeXKT","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-13T20:53:42Z","updated_at":"2022-04-13T20:53:42Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"e5f1732f0a11c7c13fa5243007dc435a4d76f66b\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8055\",\n    \"triggerID\" : \"e5f1732f0a11c7c13fa5243007dc435a4d76f66b\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"bb6dda9354aacc9bc48cf84d7104ed801d01491f\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8056\",\n    \"triggerID\" : \"bb6dda9354aacc9bc48cf84d7104ed801d01491f\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* bb6dda9354aacc9bc48cf84d7104ed801d01491f Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8056) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098478227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098508902","html_url":"https://github.com/apache/hudi/issues/5298#issuecomment-1098508902","issue_url":"https://api.github.com/repos/apache/hudi/issues/5298","id":1098508902,"node_id":"IC_kwDOBI7nWM5Beepm","user":{"login":"kasured","id":4102441,"node_id":"MDQ6VXNlcjQxMDI0NDE=","avatar_url":"https://avatars.githubusercontent.com/u/4102441?v=4","gravatar_id":"","url":"https://api.github.com/users/kasured","html_url":"https://github.com/kasured","followers_url":"https://api.github.com/users/kasured/followers","following_url":"https://api.github.com/users/kasured/following{/other_user}","gists_url":"https://api.github.com/users/kasured/gists{/gist_id}","starred_url":"https://api.github.com/users/kasured/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kasured/subscriptions","organizations_url":"https://api.github.com/users/kasured/orgs","repos_url":"https://api.github.com/users/kasured/repos","events_url":"https://api.github.com/users/kasured/events{/privacy}","received_events_url":"https://api.github.com/users/kasured/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-13T21:33:18Z","updated_at":"2022-04-13T21:33:18Z","author_association":"NONE","body":"After changing the code and removing foreachBatch we were able to fix the issue https://github.com/apache/hudi/issues/2043#issuecomment-682100271. However, now the issue is reproducible for both inline and async variants of compaction.\r\n\r\nI have updated the section **Main observations so far**. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098508902/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098509166","html_url":"https://github.com/apache/hudi/pull/5307#issuecomment-1098509166","issue_url":"https://api.github.com/repos/apache/hudi/issues/5307","id":1098509166,"node_id":"IC_kwDOBI7nWM5Beetu","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-13T21:33:39Z","updated_at":"2022-04-13T21:33:39Z","author_association":"CONTRIBUTOR","body":"@yihua : this has to go into RC2 right ? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098509166/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098529223","html_url":"https://github.com/apache/hudi/pull/5272#issuecomment-1098529223","issue_url":"https://api.github.com/repos/apache/hudi/issues/5272","id":1098529223,"node_id":"IC_kwDOBI7nWM5BejnH","user":{"login":"alexeykudinkin","id":428277,"node_id":"MDQ6VXNlcjQyODI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/428277?v=4","gravatar_id":"","url":"https://api.github.com/users/alexeykudinkin","html_url":"https://github.com/alexeykudinkin","followers_url":"https://api.github.com/users/alexeykudinkin/followers","following_url":"https://api.github.com/users/alexeykudinkin/following{/other_user}","gists_url":"https://api.github.com/users/alexeykudinkin/gists{/gist_id}","starred_url":"https://api.github.com/users/alexeykudinkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexeykudinkin/subscriptions","organizations_url":"https://api.github.com/users/alexeykudinkin/orgs","repos_url":"https://api.github.com/users/alexeykudinkin/repos","events_url":"https://api.github.com/users/alexeykudinkin/events{/privacy}","received_events_url":"https://api.github.com/users/alexeykudinkin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-13T22:04:40Z","updated_at":"2022-04-13T22:04:40Z","author_association":"CONTRIBUTOR","body":"@XuQianJin-Stars please update PR description to follow the format","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098529223/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098580619","html_url":"https://github.com/apache/hudi/issues/5254#issuecomment-1098580619","issue_url":"https://api.github.com/repos/apache/hudi/issues/5254","id":1098580619,"node_id":"IC_kwDOBI7nWM5BewKL","user":{"login":"l-jhon","id":27521093,"node_id":"MDQ6VXNlcjI3NTIxMDkz","avatar_url":"https://avatars.githubusercontent.com/u/27521093?v=4","gravatar_id":"","url":"https://api.github.com/users/l-jhon","html_url":"https://github.com/l-jhon","followers_url":"https://api.github.com/users/l-jhon/followers","following_url":"https://api.github.com/users/l-jhon/following{/other_user}","gists_url":"https://api.github.com/users/l-jhon/gists{/gist_id}","starred_url":"https://api.github.com/users/l-jhon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/l-jhon/subscriptions","organizations_url":"https://api.github.com/users/l-jhon/orgs","repos_url":"https://api.github.com/users/l-jhon/repos","events_url":"https://api.github.com/users/l-jhon/events{/privacy}","received_events_url":"https://api.github.com/users/l-jhon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-13T23:49:24Z","updated_at":"2022-04-13T23:49:24Z","author_association":"NONE","body":"We solved this problem using clustering inline instead of async, now the data ingestion works without problems.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098580619/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098589005","html_url":"https://github.com/apache/hudi/pull/5292#issuecomment-1098589005","issue_url":"https://api.github.com/repos/apache/hudi/issues/5292","id":1098589005,"node_id":"IC_kwDOBI7nWM5BeyNN","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-14T00:09:46Z","updated_at":"2022-04-14T00:09:46Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"eb4b3f5674a03a0d92862e888fe9165bb267d9da\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=7986\",\n    \"triggerID\" : \"eb4b3f5674a03a0d92862e888fe9165bb267d9da\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"24dab3203a0bdfd1563420f004718b1cd690c4b8\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=7988\",\n    \"triggerID\" : \"24dab3203a0bdfd1563420f004718b1cd690c4b8\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"0e1a4ab5e8ca3bceac4751125e5770711281ac9d\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8059\",\n    \"triggerID\" : \"0e1a4ab5e8ca3bceac4751125e5770711281ac9d\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 0e1a4ab5e8ca3bceac4751125e5770711281ac9d Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8059) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098589005/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098627779","html_url":"https://github.com/apache/hudi/issues/5313#issuecomment-1098627779","issue_url":"https://api.github.com/repos/apache/hudi/issues/5313","id":1098627779,"node_id":"IC_kwDOBI7nWM5Be7rD","user":{"login":"simonsssu","id":12323514,"node_id":"MDQ6VXNlcjEyMzIzNTE0","avatar_url":"https://avatars.githubusercontent.com/u/12323514?v=4","gravatar_id":"","url":"https://api.github.com/users/simonsssu","html_url":"https://github.com/simonsssu","followers_url":"https://api.github.com/users/simonsssu/followers","following_url":"https://api.github.com/users/simonsssu/following{/other_user}","gists_url":"https://api.github.com/users/simonsssu/gists{/gist_id}","starred_url":"https://api.github.com/users/simonsssu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simonsssu/subscriptions","organizations_url":"https://api.github.com/users/simonsssu/orgs","repos_url":"https://api.github.com/users/simonsssu/repos","events_url":"https://api.github.com/users/simonsssu/events{/privacy}","received_events_url":"https://api.github.com/users/simonsssu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-14T01:41:32Z","updated_at":"2022-04-14T01:41:32Z","author_association":"CONTRIBUTOR","body":"Hi all, I'm interested in this issue. I will open a JIRA to track this.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098627779/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098630016","html_url":"https://github.com/apache/hudi/pull/5319#issuecomment-1098630016","issue_url":"https://api.github.com/repos/apache/hudi/issues/5319","id":1098630016,"node_id":"IC_kwDOBI7nWM5Be8OA","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-14T01:47:22Z","updated_at":"2022-04-14T01:47:22Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"815ccb2926df7f374760a5d27fef42398461d07c\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8060\",\n    \"triggerID\" : \"815ccb2926df7f374760a5d27fef42398461d07c\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 815ccb2926df7f374760a5d27fef42398461d07c Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8060) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098630016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098633232","html_url":"https://github.com/apache/hudi/issues/5313#issuecomment-1098633232","issue_url":"https://api.github.com/repos/apache/hudi/issues/5313","id":1098633232,"node_id":"IC_kwDOBI7nWM5Be9AQ","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-14T01:54:56Z","updated_at":"2022-04-14T01:54:56Z","author_association":"CONTRIBUTOR","body":"> Hi all, I'm interested in this issue. I will open a JIRA to track this.\r\n\r\nThat's cool. Sounds like the Java reader should read in streaming way ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098633232/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098639926","html_url":"https://github.com/apache/hudi/issues/5313#issuecomment-1098639926","issue_url":"https://api.github.com/repos/apache/hudi/issues/5313","id":1098639926,"node_id":"IC_kwDOBI7nWM5Be-o2","user":{"login":"simonsssu","id":12323514,"node_id":"MDQ6VXNlcjEyMzIzNTE0","avatar_url":"https://avatars.githubusercontent.com/u/12323514?v=4","gravatar_id":"","url":"https://api.github.com/users/simonsssu","html_url":"https://github.com/simonsssu","followers_url":"https://api.github.com/users/simonsssu/followers","following_url":"https://api.github.com/users/simonsssu/following{/other_user}","gists_url":"https://api.github.com/users/simonsssu/gists{/gist_id}","starred_url":"https://api.github.com/users/simonsssu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simonsssu/subscriptions","organizations_url":"https://api.github.com/users/simonsssu/orgs","repos_url":"https://api.github.com/users/simonsssu/repos","events_url":"https://api.github.com/users/simonsssu/events{/privacy}","received_events_url":"https://api.github.com/users/simonsssu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-14T02:10:40Z","updated_at":"2022-04-14T02:10:40Z","author_association":"CONTRIBUTOR","body":"IMO, both streaming way or batch should be supported , just like using a option 'read.streaming.enabled'","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098639926/reactions","total_count":2,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098650763","html_url":"https://github.com/apache/hudi/pull/4542#issuecomment-1098650763","issue_url":"https://api.github.com/repos/apache/hudi/issues/4542","id":1098650763,"node_id":"IC_kwDOBI7nWM5BfBSL","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-14T02:34:41Z","updated_at":"2022-04-14T02:34:41Z","author_association":"MEMBER","body":"> @xushiyan I think a better approach would be to provide a hudi-aws-bundle with all the different dependencies for aws separately? As @parisni points out as well, there are more issues here? Can we summarize how we are on master and if anything needs to be done before the release.\r\n\r\nas discussed, we should have the aws bundle with some dep issue resolved https://issues.apache.org/jira/browse/HUDI-3878","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098650763/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098682305","html_url":"https://github.com/apache/hudi/pull/5272#issuecomment-1098682305","issue_url":"https://api.github.com/repos/apache/hudi/issues/5272","id":1098682305,"node_id":"IC_kwDOBI7nWM5BfI_B","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-14T03:52:22Z","updated_at":"2022-04-14T03:52:22Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"76a2f42dbb28b75940f3b8ff28a41d96dae8e4d0\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=7945\",\n    \"triggerID\" : \"76a2f42dbb28b75940f3b8ff28a41d96dae8e4d0\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"1cb81a90f3053bb03de07c384771723ebaa80cce\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=7957\",\n    \"triggerID\" : \"1cb81a90f3053bb03de07c384771723ebaa80cce\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"1cb81a90f3053bb03de07c384771723ebaa80cce\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=7960\",\n    \"triggerID\" : \"1094241168\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"0d6e6af5d236a017bb079e868e08dfe6c59186e0\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8029\",\n    \"triggerID\" : \"0d6e6af5d236a017bb079e868e08dfe6c59186e0\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"477b34930f113b4221c994f5db864222f99be02f\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8033\",\n    \"triggerID\" : \"477b34930f113b4221c994f5db864222f99be02f\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"48161e578f336f0d00c76e178aec0e4f5ca972e0\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8045\",\n    \"triggerID\" : \"48161e578f336f0d00c76e178aec0e4f5ca972e0\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"de50fc14eaa3c5b4c4ba94d60b3e1368f882ba3d\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"de50fc14eaa3c5b4c4ba94d60b3e1368f882ba3d\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"9d25e9a00f50af178ca00da88bf7a50467a36f6b\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"9d25e9a00f50af178ca00da88bf7a50467a36f6b\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"e42f8de7186c0cb19f2182799d116c7953f0f0c7\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8046\",\n    \"triggerID\" : \"e42f8de7186c0cb19f2182799d116c7953f0f0c7\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"f3e859e1f5a06799ef8477e918485ece86766ead\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"f3e859e1f5a06799ef8477e918485ece86766ead\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"bc65d331698b4c481290201bf21c970acaf71bd9\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8047\",\n    \"triggerID\" : \"bc65d331698b4c481290201bf21c970acaf71bd9\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"08f5f5123fb8207afaa07f5285311e69f333251d\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8049\",\n    \"triggerID\" : \"08f5f5123fb8207afaa07f5285311e69f333251d\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"08f5f5123fb8207afaa07f5285311e69f333251d\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8054\",\n    \"triggerID\" : \"1098223198\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"8bd617189c8c234bc2f007e932a14f4b315ca529\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8061\",\n    \"triggerID\" : \"8bd617189c8c234bc2f007e932a14f4b315ca529\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* de50fc14eaa3c5b4c4ba94d60b3e1368f882ba3d UNKNOWN\n* 9d25e9a00f50af178ca00da88bf7a50467a36f6b UNKNOWN\n* f3e859e1f5a06799ef8477e918485ece86766ead UNKNOWN\n* 8bd617189c8c234bc2f007e932a14f4b315ca529 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8061) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098682305/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098685950","html_url":"https://github.com/apache/hudi/issues/5136#issuecomment-1098685950","issue_url":"https://api.github.com/repos/apache/hudi/issues/5136","id":1098685950,"node_id":"IC_kwDOBI7nWM5BfJ3-","user":{"login":"wqwl611","id":67826098,"node_id":"MDQ6VXNlcjY3ODI2MDk4","avatar_url":"https://avatars.githubusercontent.com/u/67826098?v=4","gravatar_id":"","url":"https://api.github.com/users/wqwl611","html_url":"https://github.com/wqwl611","followers_url":"https://api.github.com/users/wqwl611/followers","following_url":"https://api.github.com/users/wqwl611/following{/other_user}","gists_url":"https://api.github.com/users/wqwl611/gists{/gist_id}","starred_url":"https://api.github.com/users/wqwl611/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wqwl611/subscriptions","organizations_url":"https://api.github.com/users/wqwl611/orgs","repos_url":"https://api.github.com/users/wqwl611/repos","events_url":"https://api.github.com/users/wqwl611/events{/privacy}","received_events_url":"https://api.github.com/users/wqwl611/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-14T04:01:49Z","updated_at":"2022-04-14T04:01:49Z","author_association":"CONTRIBUTOR","body":"ignore","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098685950/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098701463","html_url":"https://github.com/apache/hudi/pull/5282#issuecomment-1098701463","issue_url":"https://api.github.com/repos/apache/hudi/issues/5282","id":1098701463,"node_id":"IC_kwDOBI7nWM5BfNqX","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-14T04:36:12Z","updated_at":"2022-04-14T04:36:12Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"ec64e73e3e0fd7e50d3c0057875d49aa99f91a5e\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=7962\",\n    \"triggerID\" : \"ec64e73e3e0fd7e50d3c0057875d49aa99f91a5e\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"3e38c6db5fc5e4ecf47dd7b0993f4a3845bb8ea3\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"3e38c6db5fc5e4ecf47dd7b0993f4a3845bb8ea3\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"85b49cc51bef5e41aaf8fab94751b558f5b271ab\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=7975\",\n    \"triggerID\" : \"85b49cc51bef5e41aaf8fab94751b558f5b271ab\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"e329fa9c91e49050f20f354244ec6727947db35f\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8062\",\n    \"triggerID\" : \"e329fa9c91e49050f20f354244ec6727947db35f\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 3e38c6db5fc5e4ecf47dd7b0993f4a3845bb8ea3 UNKNOWN\n* e329fa9c91e49050f20f354244ec6727947db35f Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8062) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098701463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098743224","html_url":"https://github.com/apache/hudi/pull/5320#issuecomment-1098743224","issue_url":"https://api.github.com/repos/apache/hudi/issues/5320","id":1098743224,"node_id":"IC_kwDOBI7nWM5BfX24","user":{"login":"KnightChess","id":20125927,"node_id":"MDQ6VXNlcjIwMTI1OTI3","avatar_url":"https://avatars.githubusercontent.com/u/20125927?v=4","gravatar_id":"","url":"https://api.github.com/users/KnightChess","html_url":"https://github.com/KnightChess","followers_url":"https://api.github.com/users/KnightChess/followers","following_url":"https://api.github.com/users/KnightChess/following{/other_user}","gists_url":"https://api.github.com/users/KnightChess/gists{/gist_id}","starred_url":"https://api.github.com/users/KnightChess/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KnightChess/subscriptions","organizations_url":"https://api.github.com/users/KnightChess/orgs","repos_url":"https://api.github.com/users/KnightChess/repos","events_url":"https://api.github.com/users/KnightChess/events{/privacy}","received_events_url":"https://api.github.com/users/KnightChess/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-14T06:09:21Z","updated_at":"2022-04-14T06:09:21Z","author_association":"CONTRIBUTOR","body":"@leesf cc :)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098743224/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098763484","html_url":"https://github.com/apache/hudi/pull/5201#issuecomment-1098763484","issue_url":"https://api.github.com/repos/apache/hudi/issues/5201","id":1098763484,"node_id":"IC_kwDOBI7nWM5Bfczc","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-14T06:41:40Z","updated_at":"2022-04-14T06:43:34Z","author_association":"CONTRIBUTOR","body":"> > Shouldn’t the BigQuery inputformat adapter the dataset with partition columns? And why bring in the complexities to the writer/reader of spark based on little gains.\r\n> \r\n> Hey @danny0405 BQ does not support custom inputformat as such. We had some previous discussion in the RFC with @vingov here [#4503 (comment)](https://github.com/apache/hudi/pull/4503#discussion_r786981999). There are big companies who rely heavily on BQ so it's worth the efforts. Besides, this is an existing config default to false, so people don't need it don't use. Hope this helps clarify the context.\r\n\r\nI know we are fixing a critical bug for BigQuery but the way the patch fixes seems not right ? For example, i can imagine that after this patch, the table written by Flink still can not read with BigQuery.\r\n\r\nWe should not rush in a fix that partially worked and we should work in the direction that the Bigquery inputformat can solve the problem. There is also confusion with this patch because even though we drop the partition fields in the data set columns, we still keep that in the metadata fields.\r\n\r\n@vinothchandar  WDYT ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098763484/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098785166","html_url":"https://github.com/apache/hudi/pull/5201#issuecomment-1098785166","issue_url":"https://api.github.com/repos/apache/hudi/issues/5201","id":1098785166,"node_id":"IC_kwDOBI7nWM5BfiGO","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-14T07:15:25Z","updated_at":"2022-04-14T07:16:10Z","author_association":"MEMBER","body":"@danny0405 BQ integration is limited to COW partitioned table for this version we'll highlight that in the release notes. We're not aiming to tackle all cases but iteratively improve; the timeline of getting first-class integration w BQ is not practical wrt our plan. On the other side, this is an uncommonly used, default-false config. We'll document the use for limited scenarios, and in future to remove it. The confusion on having column in meta field and intended usage will be addressed and clarified. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098785166/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098906476","html_url":"https://github.com/apache/hudi/pull/5321#issuecomment-1098906476","issue_url":"https://api.github.com/repos/apache/hudi/issues/5321","id":1098906476,"node_id":"IC_kwDOBI7nWM5Bf_ts","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-14T09:14:10Z","updated_at":"2022-04-14T09:14:10Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"de4d5aa429f0aaaf1bb86123238fd40c69e49d85\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"de4d5aa429f0aaaf1bb86123238fd40c69e49d85\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* de4d5aa429f0aaaf1bb86123238fd40c69e49d85 UNKNOWN\n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1098906476/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1099237144","html_url":"https://github.com/apache/hudi/pull/5201#issuecomment-1099237144","issue_url":"https://api.github.com/repos/apache/hudi/issues/5201","id":1099237144,"node_id":"IC_kwDOBI7nWM5BhQcY","user":{"login":"vingov","id":1142498,"node_id":"MDQ6VXNlcjExNDI0OTg=","avatar_url":"https://avatars.githubusercontent.com/u/1142498?v=4","gravatar_id":"","url":"https://api.github.com/users/vingov","html_url":"https://github.com/vingov","followers_url":"https://api.github.com/users/vingov/followers","following_url":"https://api.github.com/users/vingov/following{/other_user}","gists_url":"https://api.github.com/users/vingov/gists{/gist_id}","starred_url":"https://api.github.com/users/vingov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vingov/subscriptions","organizations_url":"https://api.github.com/users/vingov/orgs","repos_url":"https://api.github.com/users/vingov/repos","events_url":"https://api.github.com/users/vingov/events{/privacy}","received_events_url":"https://api.github.com/users/vingov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-14T14:20:14Z","updated_at":"2022-04-14T14:20:14Z","author_association":"CONTRIBUTOR","body":"> > > Shouldn’t the BigQuery inputformat adapter the dataset with partition columns? And why bring in the complexities to the writer/reader of spark based on little gains.\n> > \n> > Hey @danny0405 BQ does not support custom inputformat as such. We had some previous discussion in the RFC with @vingov here [#4503 (comment)](https://github.com/apache/hudi/pull/4503#discussion_r786981999). There are big companies who rely heavily on BQ so it's worth the efforts. Besides, this is an existing config default to false, so people don't need it don't use. Hope this helps clarify the context.\n> \n> I know we are fixing a critical bug for BigQuery but the way the patch fixes seems not right ? For example, i can imagine that after this patch, the table written by Flink still can not read with BigQuery.\n> \n> We should not rush in a fix that partially worked and we should work in the direction that the Bigquery inputformat can solve the problem. There is also confusion with this patch because even though we drop the partition fields in the data set columns, we still keep that in the metadata fields.\n> \n> @vinothchandar  WDYT ?\n\nHi @danny0405 - I understand your concern, In Uber and Wal-Mart there is already a use case to read Hudi tables using Big Query for ML use cases, this patch is to support those use cases.\n\nFrom Uber, we already reached out to the Big Query team and requested them to support custom input formats, they don't have any road map to add it hence we need this patch until then to support the existing customers.\n\nI understand this is a stop-gap solution until we have the leverage to nudge Big Query team to add that custom input format support, @vinothchandar  is already working with some of the Big query folks to make it happen. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1099237144/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1099265580","html_url":"https://github.com/apache/hudi/pull/5060#issuecomment-1099265580","issue_url":"https://api.github.com/repos/apache/hudi/issues/5060","id":1099265580,"node_id":"IC_kwDOBI7nWM5BhXYs","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-14T14:49:11Z","updated_at":"2022-04-14T14:49:11Z","author_association":"MEMBER","body":"hey @sekaiga this patch seems to break in CI environment. https://dev.azure.com/apache-hudi-ci-org/apache-hudi-ci/_build/results?buildId=8070&view=results\r\nwould you be able to look into it and put up any applicable fix? otherwise, we'll just revert it soon. thanks.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1099265580/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1099678498","html_url":"https://github.com/apache/hudi/pull/5325#issuecomment-1099678498","issue_url":"https://api.github.com/repos/apache/hudi/issues/5325","id":1099678498,"node_id":"IC_kwDOBI7nWM5Bi8Mi","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-14T22:25:49Z","updated_at":"2022-04-14T22:25:49Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"efe99c7b646e5d5e116426ec8987c7af5b0a794a\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8076\",\n    \"triggerID\" : \"efe99c7b646e5d5e116426ec8987c7af5b0a794a\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* efe99c7b646e5d5e116426ec8987c7af5b0a794a Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8076) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1099678498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1099815631","html_url":"https://github.com/apache/hudi/pull/4015#issuecomment-1099815631","issue_url":"https://api.github.com/repos/apache/hudi/issues/4015","id":1099815631,"node_id":"IC_kwDOBI7nWM5BjdrP","user":{"login":"hj2016","id":18521084,"node_id":"MDQ6VXNlcjE4NTIxMDg0","avatar_url":"https://avatars.githubusercontent.com/u/18521084?v=4","gravatar_id":"","url":"https://api.github.com/users/hj2016","html_url":"https://github.com/hj2016","followers_url":"https://api.github.com/users/hj2016/followers","following_url":"https://api.github.com/users/hj2016/following{/other_user}","gists_url":"https://api.github.com/users/hj2016/gists{/gist_id}","starred_url":"https://api.github.com/users/hj2016/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hj2016/subscriptions","organizations_url":"https://api.github.com/users/hj2016/orgs","repos_url":"https://api.github.com/users/hj2016/repos","events_url":"https://api.github.com/users/hj2016/events{/privacy}","received_events_url":"https://api.github.com/users/hj2016/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-15T03:23:20Z","updated_at":"2022-04-15T04:43:50Z","author_association":"CONTRIBUTOR","body":"@nsivabalan \r\n![image](https://user-images.githubusercontent.com/18521084/163519526-6aecde0b-569c-4a0a-a0f8-0f94c1d174d8.png)\r\n\r\n\r\nThe hudi log file consists of blocks. A log may contain several blocks information written by deltacommits. Each block is divided by MAGIC. The content of each block is shown in the figure above. The Block Header will record the deltacommit instantTime of each block. It will scan and read the blocks that need to be merged during the compact process. HoodieLogFileReader is used to read log files and convert the log files into blocks. First, it will try to read the MAGIC separation. If find the separation, it will read the size of next position and check if it exceed the total size of the file to recognize bad blocks. If a bad block is recognized, it will skip the bad block content and create a bad block object HoodieCorruptBlock. Skipping he bad block means to retrieve the MAGIC (#HUDI#) after the current block total size position, read 1 megabyte each time until the next MAGIC separation. After finding the MAGIC, jump to the current MAGIC position, and then you can continue to read complete block information.\r\n\r\nThe position of the bad block mentioned above is retrieved after the block total size position. If the file only contains MAGIC content without task content, it will lead to error. At this time, the HoodieLogFileReader will write MAGIC continuously, and consider MAGIC  the Block Total size, and the next normal block will be skipped during the retrieval process and returned as a bad block. This part of the block data is lost during the merging process. In this situation, the skipped bad block is retrieved after the MAGIC instead of after the block total size, and the normal block will not be skipped when continuous MAGIC occurs during reading.\r\n\r\nThis problem was discovered when we do random online kill flink task. The data will not be lost by repairing and merging data in this way.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1099815631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1099818042","html_url":"https://github.com/apache/hudi/issues/5327#issuecomment-1099818042","issue_url":"https://api.github.com/repos/apache/hudi/issues/5327","id":1099818042,"node_id":"IC_kwDOBI7nWM5BjeQ6","user":{"login":"XuQianJin-Stars","id":10494131,"node_id":"MDQ6VXNlcjEwNDk0MTMx","avatar_url":"https://avatars.githubusercontent.com/u/10494131?v=4","gravatar_id":"","url":"https://api.github.com/users/XuQianJin-Stars","html_url":"https://github.com/XuQianJin-Stars","followers_url":"https://api.github.com/users/XuQianJin-Stars/followers","following_url":"https://api.github.com/users/XuQianJin-Stars/following{/other_user}","gists_url":"https://api.github.com/users/XuQianJin-Stars/gists{/gist_id}","starred_url":"https://api.github.com/users/XuQianJin-Stars/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XuQianJin-Stars/subscriptions","organizations_url":"https://api.github.com/users/XuQianJin-Stars/orgs","repos_url":"https://api.github.com/users/XuQianJin-Stars/repos","events_url":"https://api.github.com/users/XuQianJin-Stars/events{/privacy}","received_events_url":"https://api.github.com/users/XuQianJin-Stars/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-15T03:28:38Z","updated_at":"2022-04-15T05:11:19Z","author_association":"CONTRIBUTOR","body":"Here we need to add some configuration of synchronization rules.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1099818042/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1099904189","html_url":"https://github.com/apache/hudi/issues/5327#issuecomment-1099904189","issue_url":"https://api.github.com/repos/apache/hudi/issues/5327","id":1099904189,"node_id":"IC_kwDOBI7nWM5BjzS9","user":{"login":"CodeCooker17","id":64473732,"node_id":"MDQ6VXNlcjY0NDczNzMy","avatar_url":"https://avatars.githubusercontent.com/u/64473732?v=4","gravatar_id":"","url":"https://api.github.com/users/CodeCooker17","html_url":"https://github.com/CodeCooker17","followers_url":"https://api.github.com/users/CodeCooker17/followers","following_url":"https://api.github.com/users/CodeCooker17/following{/other_user}","gists_url":"https://api.github.com/users/CodeCooker17/gists{/gist_id}","starred_url":"https://api.github.com/users/CodeCooker17/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CodeCooker17/subscriptions","organizations_url":"https://api.github.com/users/CodeCooker17/orgs","repos_url":"https://api.github.com/users/CodeCooker17/repos","events_url":"https://api.github.com/users/CodeCooker17/events{/privacy}","received_events_url":"https://api.github.com/users/CodeCooker17/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-15T06:59:57Z","updated_at":"2022-04-15T06:59:57Z","author_association":"CONTRIBUTOR","body":"> Here we need to add some configuration of synchronization rules.\r\n\r\nIs there some solution design for synchronization rules now? In addition to the two points mentioned above, are there other optimizations? Because the above two points have been optimized in our practice, I don't know if we can contribute.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1099904189/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1099918952","html_url":"https://github.com/apache/hudi/pull/5329#issuecomment-1099918952","issue_url":"https://api.github.com/repos/apache/hudi/issues/5329","id":1099918952,"node_id":"IC_kwDOBI7nWM5Bj25o","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-15T07:18:04Z","updated_at":"2022-04-15T07:18:04Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"f5bde1e0961619a6ba26d6d8221a68ec4e5d0395\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8078\",\n    \"triggerID\" : \"f5bde1e0961619a6ba26d6d8221a68ec4e5d0395\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* f5bde1e0961619a6ba26d6d8221a68ec4e5d0395 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8078) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1099918952/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1099967428","html_url":"https://github.com/apache/hudi/issues/5327#issuecomment-1099967428","issue_url":"https://api.github.com/repos/apache/hudi/issues/5327","id":1099967428,"node_id":"IC_kwDOBI7nWM5BkCvE","user":{"login":"XuQianJin-Stars","id":10494131,"node_id":"MDQ6VXNlcjEwNDk0MTMx","avatar_url":"https://avatars.githubusercontent.com/u/10494131?v=4","gravatar_id":"","url":"https://api.github.com/users/XuQianJin-Stars","html_url":"https://github.com/XuQianJin-Stars","followers_url":"https://api.github.com/users/XuQianJin-Stars/followers","following_url":"https://api.github.com/users/XuQianJin-Stars/following{/other_user}","gists_url":"https://api.github.com/users/XuQianJin-Stars/gists{/gist_id}","starred_url":"https://api.github.com/users/XuQianJin-Stars/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XuQianJin-Stars/subscriptions","organizations_url":"https://api.github.com/users/XuQianJin-Stars/orgs","repos_url":"https://api.github.com/users/XuQianJin-Stars/repos","events_url":"https://api.github.com/users/XuQianJin-Stars/events{/privacy}","received_events_url":"https://api.github.com/users/XuQianJin-Stars/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-15T08:39:03Z","updated_at":"2022-04-15T08:39:03Z","author_association":"CONTRIBUTOR","body":"> > Here we need to add some configuration of synchronization rules.\r\n> \r\n> Is there some solution design for synchronization rules now? In addition to the two points mentioned above, are there other optimizations? Because the above two points have been optimized in our practice, I don't know if we can contribute.\r\n\r\nWell, can contribute.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1099967428/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1099994068","html_url":"https://github.com/apache/hudi/issues/5298#issuecomment-1099994068","issue_url":"https://api.github.com/repos/apache/hudi/issues/5298","id":1099994068,"node_id":"IC_kwDOBI7nWM5BkJPU","user":{"login":"kasured","id":4102441,"node_id":"MDQ6VXNlcjQxMDI0NDE=","avatar_url":"https://avatars.githubusercontent.com/u/4102441?v=4","gravatar_id":"","url":"https://api.github.com/users/kasured","html_url":"https://github.com/kasured","followers_url":"https://api.github.com/users/kasured/followers","following_url":"https://api.github.com/users/kasured/following{/other_user}","gists_url":"https://api.github.com/users/kasured/gists{/gist_id}","starred_url":"https://api.github.com/users/kasured/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kasured/subscriptions","organizations_url":"https://api.github.com/users/kasured/orgs","repos_url":"https://api.github.com/users/kasured/repos","events_url":"https://api.github.com/users/kasured/events{/privacy}","received_events_url":"https://api.github.com/users/kasured/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-15T09:27:35Z","updated_at":"2022-04-15T17:35:06Z","author_association":"NONE","body":"Upon further investigation and after enabling additional logs on EMR, the deletion of the file during compaction is happening in the class org.apache.hudi.table.HoodieTable#reconcileAgainstMarkers. For some reason this file is considered invalid(duplicated)\r\n\r\n> if (!invalidDataPaths.isEmpty()) {\r\n>         LOG.info(\"Removing duplicate data files created due to spark retries before committing. Paths=\" + invalidDataPaths);\r\n> \r\n\r\nHowever, later in the logs this file is registered and committed in the instant file in .hoodie folder \r\n\r\n> INFO SparkRDDWriteClient: Committing Compaction 20220414232316. Finished with result HoodieCommitMetadata{partitionToWriteStats={cluster=96/shard=14377=[HoodieWriteStat{fileId='9d9f72e9-9381-40d0-af0c-cb48c25bd78d-0', path='cluster=96/shard=14377/9d9f72e9-9381-40d0-af0c-cb48c25bd78d-0_0-617-7132_20220414232316.parquet', prevCommit='20220414225217', numWrites=122886, numDeletes=0, numUpdateWrites=121939, totalWriteBytes=23331178, totalWriteErrors=0, tempPath='null', partitionPath='cluster=96/shard=14377', totalLogRecords=341027, totalLogFilesCompacted=3, totalLogSizeCompacted=285373803, totalUpdatedRecordsCompacted=121939, totalLogBlocks=9, totalCorruptLogBlock=0, totalRollbackBlocks=0}]}, compacted=true,\r\n\r\nSo it leaves the system in an inconsistent state. It looks like some concurrency issues to me\r\n\r\nIn the meantime, according to the logic in HoodieTable it seems like the file is being deleted because there is a marker file MERGE in the temp folder for that instant. This mechanism is described here https://hudi.apache.org/blog/2021/08/18/improving-marker-mechanism/. However, I do not see any single failed task in Spark and in the logs there are no retries that might cause that logic to kick in.\r\n\r\nI will be trying the following things\r\n- Create each StreamingQuery in its own separate thread and with new SparkSession. Also I will allocate a separate spark pool for each table. It will isolate resources up to SparkContext that will still be shared but that is ok with Spark. **Update**: this did not help.\r\n- I will try to change the default 'direct' to 'timeline_server_based' property for 'hoodie.write.markers.type'. It will use timeline service that will delegate marker logic from executors to a dedicated process. **Update**: this did not help either\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1099994068/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100019832","html_url":"https://github.com/apache/hudi/issues/5330#issuecomment-1100019832","issue_url":"https://api.github.com/repos/apache/hudi/issues/5330","id":1100019832,"node_id":"IC_kwDOBI7nWM5BkPh4","user":{"login":"Guanpx","id":29246713,"node_id":"MDQ6VXNlcjI5MjQ2NzEz","avatar_url":"https://avatars.githubusercontent.com/u/29246713?v=4","gravatar_id":"","url":"https://api.github.com/users/Guanpx","html_url":"https://github.com/Guanpx","followers_url":"https://api.github.com/users/Guanpx/followers","following_url":"https://api.github.com/users/Guanpx/following{/other_user}","gists_url":"https://api.github.com/users/Guanpx/gists{/gist_id}","starred_url":"https://api.github.com/users/Guanpx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Guanpx/subscriptions","organizations_url":"https://api.github.com/users/Guanpx/orgs","repos_url":"https://api.github.com/users/Guanpx/repos","events_url":"https://api.github.com/users/Guanpx/events{/privacy}","received_events_url":"https://api.github.com/users/Guanpx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-15T10:17:29Z","updated_at":"2022-04-15T10:17:29Z","author_association":"NONE","body":"cc @danny0405 ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100019832/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100196310","html_url":"https://github.com/apache/hudi/pull/5328#issuecomment-1100196310","issue_url":"https://api.github.com/repos/apache/hudi/issues/5328","id":1100196310,"node_id":"IC_kwDOBI7nWM5Bk6nW","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-15T16:00:04Z","updated_at":"2022-04-15T16:00:04Z","author_association":"CONTRIBUTOR","body":"high level comment. I would prefer to introduce a new sort mode instead of fixing NONE. and add documentation around when to use which sort mode so that users are aware of diff sort modes and their implications","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100196310/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100289976","html_url":"https://github.com/apache/hudi/pull/5329#issuecomment-1100289976","issue_url":"https://api.github.com/repos/apache/hudi/issues/5329","id":1100289976,"node_id":"IC_kwDOBI7nWM5BlRe4","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-15T18:50:37Z","updated_at":"2022-04-15T18:50:37Z","author_association":"CONTRIBUTOR","body":"@alexeykudinkin : can you stamp this","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100289976/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100291410","html_url":"https://github.com/apache/hudi/pull/5329#issuecomment-1100291410","issue_url":"https://api.github.com/repos/apache/hudi/issues/5329","id":1100291410,"node_id":"IC_kwDOBI7nWM5BlR1S","user":{"login":"alexeykudinkin","id":428277,"node_id":"MDQ6VXNlcjQyODI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/428277?v=4","gravatar_id":"","url":"https://api.github.com/users/alexeykudinkin","html_url":"https://github.com/alexeykudinkin","followers_url":"https://api.github.com/users/alexeykudinkin/followers","following_url":"https://api.github.com/users/alexeykudinkin/following{/other_user}","gists_url":"https://api.github.com/users/alexeykudinkin/gists{/gist_id}","starred_url":"https://api.github.com/users/alexeykudinkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexeykudinkin/subscriptions","organizations_url":"https://api.github.com/users/alexeykudinkin/orgs","repos_url":"https://api.github.com/users/alexeykudinkin/repos","events_url":"https://api.github.com/users/alexeykudinkin/events{/privacy}","received_events_url":"https://api.github.com/users/alexeykudinkin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-15T18:53:51Z","updated_at":"2022-04-15T18:53:51Z","author_association":"CONTRIBUTOR","body":"@nsivabalan done","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100291410/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100291962","html_url":"https://github.com/apache/hudi/pull/5319#issuecomment-1100291962","issue_url":"https://api.github.com/repos/apache/hudi/issues/5319","id":1100291962,"node_id":"IC_kwDOBI7nWM5BlR96","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-15T18:55:02Z","updated_at":"2022-04-15T18:55:02Z","author_association":"CONTRIBUTOR","body":"please create a jira and tag ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100291962/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100295279","html_url":"https://github.com/apache/hudi/pull/5292#issuecomment-1100295279","issue_url":"https://api.github.com/repos/apache/hudi/issues/5292","id":1100295279,"node_id":"IC_kwDOBI7nWM5BlSxv","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-15T19:01:05Z","updated_at":"2022-04-15T19:01:05Z","author_association":"CONTRIBUTOR","body":"please prefix w/ right jira. I understand, its still WIP. but a gentle reminder. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100295279/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100297837","html_url":"https://github.com/apache/hudi/pull/5264#issuecomment-1100297837","issue_url":"https://api.github.com/repos/apache/hudi/issues/5264","id":1100297837,"node_id":"IC_kwDOBI7nWM5BlTZt","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-15T19:06:10Z","updated_at":"2022-04-15T19:06:10Z","author_association":"CONTRIBUTOR","body":"generally record key, partition path and precombine should be comparable and so likely primitive types. wondering whats the use-case which demands byte[] to be chosen as a field for record key or partition path. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100297837/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100299905","html_url":"https://github.com/apache/hudi/pull/5246#issuecomment-1100299905","issue_url":"https://api.github.com/repos/apache/hudi/issues/5246","id":1100299905,"node_id":"IC_kwDOBI7nWM5BlT6B","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-15T19:10:07Z","updated_at":"2022-04-15T19:10:07Z","author_association":"CONTRIBUTOR","body":"@xushiyan : for now, I have assigned the PR to you. let me know if you can't take this up. I will find someone or I will take this up. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100299905/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100334046","html_url":"https://github.com/apache/hudi/pull/5177#issuecomment-1100334046","issue_url":"https://api.github.com/repos/apache/hudi/issues/5177","id":1100334046,"node_id":"IC_kwDOBI7nWM5BlcPe","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-15T19:51:47Z","updated_at":"2022-04-15T19:51:47Z","author_association":"CONTRIBUTOR","body":"can we close this. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100334046/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100337466","html_url":"https://github.com/apache/hudi/pull/5139#issuecomment-1100337466","issue_url":"https://api.github.com/repos/apache/hudi/issues/5139","id":1100337466,"node_id":"IC_kwDOBI7nWM5BldE6","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-15T19:53:47Z","updated_at":"2022-04-15T19:53:47Z","author_association":"CONTRIBUTOR","body":"@yihua : ping me once the patch is ready to be reviewed again","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100337466/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100343028","html_url":"https://github.com/apache/hudi/pull/5111#issuecomment-1100343028","issue_url":"https://api.github.com/repos/apache/hudi/issues/5111","id":1100343028,"node_id":"IC_kwDOBI7nWM5Bleb0","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-15T19:56:57Z","updated_at":"2022-04-15T19:56:57Z","author_association":"CONTRIBUTOR","body":"@alexeykudinkin : can you follow up on the review when you get a chance.\r\n@miomiocat : can you rebase w/ latest master","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100343028/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100350369","html_url":"https://github.com/apache/hudi/pull/5087#issuecomment-1100350369","issue_url":"https://api.github.com/repos/apache/hudi/issues/5087","id":1100350369,"node_id":"IC_kwDOBI7nWM5BlgOh","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-15T20:01:33Z","updated_at":"2022-04-15T20:01:33Z","author_association":"CONTRIBUTOR","body":"@danny0405 : can you follow up on the patch when you get a chance. guess author is waiting for review follow up from you. a gentle reminder. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100350369/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100367520","html_url":"https://github.com/apache/hudi/pull/5071#issuecomment-1100367520","issue_url":"https://api.github.com/repos/apache/hudi/issues/5071","id":1100367520,"node_id":"IC_kwDOBI7nWM5Blkag","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-15T20:14:36Z","updated_at":"2022-04-15T20:14:36Z","author_association":"CONTRIBUTOR","body":"@pratyakshsharma : once the patch is ready, do ping me here. I can review ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100367520/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100369298","html_url":"https://github.com/apache/hudi/pull/5057#issuecomment-1100369298","issue_url":"https://api.github.com/repos/apache/hudi/issues/5057","id":1100369298,"node_id":"IC_kwDOBI7nWM5Blk2S","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-15T20:15:36Z","updated_at":"2022-04-15T20:15:36Z","author_association":"CONTRIBUTOR","body":"@JerryYue-M : can you rebase w/ latest master","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100369298/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100370034","html_url":"https://github.com/apache/hudi/pull/5057#issuecomment-1100370034","issue_url":"https://api.github.com/repos/apache/hudi/issues/5057","id":1100370034,"node_id":"IC_kwDOBI7nWM5BllBy","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-15T20:16:00Z","updated_at":"2022-04-15T20:16:00Z","author_association":"CONTRIBUTOR","body":"@wangxianghu : can you review the patch when you get a chance","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100370034/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100372635","html_url":"https://github.com/apache/hudi/pull/5064#issuecomment-1100372635","issue_url":"https://api.github.com/repos/apache/hudi/issues/5064","id":1100372635,"node_id":"IC_kwDOBI7nWM5Bllqb","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-15T20:17:25Z","updated_at":"2022-04-15T20:17:25Z","author_association":"CONTRIBUTOR","body":"@xiarixiaoyao : can you review this when you get a chance. I have assigned it to myself as well. So, will try to review in a weeks time. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100372635/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100400894","html_url":"https://github.com/apache/hudi/pull/5335#issuecomment-1100400894","issue_url":"https://api.github.com/repos/apache/hudi/issues/5335","id":1100400894,"node_id":"IC_kwDOBI7nWM5Blsj-","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-15T21:14:49Z","updated_at":"2022-04-15T21:14:49Z","author_association":"CONTRIBUTOR","body":"cc @vingov @bhasudha ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100400894/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100475164","html_url":"https://github.com/apache/hudi/pull/5336#issuecomment-1100475164","issue_url":"https://api.github.com/repos/apache/hudi/issues/5336","id":1100475164,"node_id":"IC_kwDOBI7nWM5Bl-sc","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-15T23:56:43Z","updated_at":"2022-04-15T23:56:43Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"2d1fc1b7ff81bff43152335b8135a31467c53674\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8084\",\n    \"triggerID\" : \"2d1fc1b7ff81bff43152335b8135a31467c53674\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 2d1fc1b7ff81bff43152335b8135a31467c53674 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8084) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100475164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100508616","html_url":"https://github.com/apache/hudi/pull/5064#issuecomment-1100508616","issue_url":"https://api.github.com/repos/apache/hudi/issues/5064","id":1100508616,"node_id":"IC_kwDOBI7nWM5BmG3I","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-16T02:08:39Z","updated_at":"2022-04-16T02:08:39Z","author_association":"CONTRIBUTOR","body":"@minihippo  could you pls rebase the code and run azure again, thanks","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100508616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100510039","html_url":"https://github.com/apache/hudi/pull/5087#issuecomment-1100510039","issue_url":"https://api.github.com/repos/apache/hudi/issues/5087","id":1100510039,"node_id":"IC_kwDOBI7nWM5BmHNX","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-16T02:13:57Z","updated_at":"2022-04-18T09:07:34Z","author_association":"CONTRIBUTOR","body":"> @danny0405 : can you follow up on the patch when you get a chance. guess author is waiting for review follow up from you. a gentle reminder.\r\n\r\nI don't see there is any gains for current stage of code besides reduction of duplicate code, but with this patch, there is regression for performance for unnecessary copy of objects. So i'm not very sure we should work in this direction.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100510039/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100510685","html_url":"https://github.com/apache/hudi/pull/5057#issuecomment-1100510685","issue_url":"https://api.github.com/repos/apache/hudi/issues/5057","id":1100510685,"node_id":"IC_kwDOBI7nWM5BmHXd","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-16T02:16:26Z","updated_at":"2022-04-16T02:16:26Z","author_association":"CONTRIBUTOR","body":"@JerryYue-M You may need to rebase the code with latest master, would take a look soon ~","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100510685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100525225","html_url":"https://github.com/apache/hudi/pull/5337#issuecomment-1100525225","issue_url":"https://api.github.com/repos/apache/hudi/issues/5337","id":1100525225,"node_id":"IC_kwDOBI7nWM5BmK6p","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-16T03:35:54Z","updated_at":"2022-04-16T03:35:54Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"3da31d0812e520a29079c628c7a134bc66f066f1\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8085\",\n    \"triggerID\" : \"3da31d0812e520a29079c628c7a134bc66f066f1\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 3da31d0812e520a29079c628c7a134bc66f066f1 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=8085) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100525225/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100568175","html_url":"https://github.com/apache/hudi/issues/5189#issuecomment-1100568175","issue_url":"https://api.github.com/repos/apache/hudi/issues/5189","id":1100568175,"node_id":"IC_kwDOBI7nWM5BmVZv","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-16T04:44:41Z","updated_at":"2022-04-16T04:44:41Z","author_association":"CONTRIBUTOR","body":"@harsh1231 : in the mean time (until @bvaradar responds), can you investigate as to why we are encountering duplicate issue. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100568175/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100568252","html_url":"https://github.com/apache/hudi/issues/5198#issuecomment-1100568252","issue_url":"https://api.github.com/repos/apache/hudi/issues/5198","id":1100568252,"node_id":"IC_kwDOBI7nWM5BmVa8","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-16T04:45:29Z","updated_at":"2022-04-16T04:45:29Z","author_association":"CONTRIBUTOR","body":"@babumahesh-koo : do you have any updates on this end","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100568252/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100568451","html_url":"https://github.com/apache/hudi/issues/5211#issuecomment-1100568451","issue_url":"https://api.github.com/repos/apache/hudi/issues/5211","id":1100568451,"node_id":"IC_kwDOBI7nWM5BmVeD","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-16T04:46:33Z","updated_at":"2022-04-16T04:46:33Z","author_association":"CONTRIBUTOR","body":"So you want to read multiple hudi tables w/ one spark.read? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100568451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100568785","html_url":"https://github.com/apache/hudi/issues/5231#issuecomment-1100568785","issue_url":"https://api.github.com/repos/apache/hudi/issues/5231","id":1100568785,"node_id":"IC_kwDOBI7nWM5BmVjR","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-16T04:48:25Z","updated_at":"2022-04-16T04:48:25Z","author_association":"CONTRIBUTOR","body":"thanks @alexeykudinkin to find the root cause and fixing it ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100568785/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100569034","html_url":"https://github.com/apache/hudi/issues/5233#issuecomment-1100569034","issue_url":"https://api.github.com/repos/apache/hudi/issues/5233","id":1100569034,"node_id":"IC_kwDOBI7nWM5BmVnK","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-16T04:50:41Z","updated_at":"2022-04-16T04:50:41Z","author_association":"CONTRIBUTOR","body":"did you set default value for \"_hoodie_is_deleted\" to null or false? can you post the schema for the table. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100569034/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100570312","html_url":"https://github.com/apache/hudi/issues/5242#issuecomment-1100570312","issue_url":"https://api.github.com/repos/apache/hudi/issues/5242","id":1100570312,"node_id":"IC_kwDOBI7nWM5BmV7I","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-16T04:55:46Z","updated_at":"2022-04-16T04:55:46Z","author_association":"CONTRIBUTOR","body":"@yihua : timeline server port related issue. Can you chime in here please.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100570312/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100570586","html_url":"https://github.com/apache/hudi/issues/5248#issuecomment-1100570586","issue_url":"https://api.github.com/repos/apache/hudi/issues/5248","id":1100570586,"node_id":"IC_kwDOBI7nWM5BmV_a","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-16T04:57:06Z","updated_at":"2022-04-16T04:57:06Z","author_association":"CONTRIBUTOR","body":"@XuQianJin-Stars : Can you file a tracking jira and follow up on the issue. seems like we need to fix this. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100570586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100570805","html_url":"https://github.com/apache/hudi/issues/5249#issuecomment-1100570805","issue_url":"https://api.github.com/repos/apache/hudi/issues/5249","id":1100570805,"node_id":"IC_kwDOBI7nWM5BmWC1","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-16T04:58:00Z","updated_at":"2022-04-16T04:58:00Z","author_association":"CONTRIBUTOR","body":"@harsh1231 : Can you take a stab at this please. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100570805/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100571599","html_url":"https://github.com/apache/hudi/issues/5258#issuecomment-1100571599","issue_url":"https://api.github.com/repos/apache/hudi/issues/5258","id":1100571599,"node_id":"IC_kwDOBI7nWM5BmWPP","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-16T05:01:03Z","updated_at":"2022-04-16T05:01:03Z","author_association":"CONTRIBUTOR","body":"can you try w/ scala 11 bundle and let us know if it succeeds. \r\nhudi-spark-bundle_2.11-0.10.1.jar\r\nand for spark-avro, can you try setting it via `--packages org.apache.spark:spark-avro_2.11:2.4.4`","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100571599/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100572710","html_url":"https://github.com/apache/hudi/issues/5262#issuecomment-1100572710","issue_url":"https://api.github.com/repos/apache/hudi/issues/5262","id":1100572710,"node_id":"IC_kwDOBI7nWM5BmWgm","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-16T05:04:44Z","updated_at":"2022-04-16T05:04:44Z","author_association":"CONTRIBUTOR","body":"@stym06 : likely schema has changed. Can you inspect let us know if thats the case. related jira https://issues.apache.org/jira/browse/HUDI-1711","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100572710/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100574209","html_url":"https://github.com/apache/hudi/issues/5281#issuecomment-1100574209","issue_url":"https://api.github.com/repos/apache/hudi/issues/5281","id":1100574209,"node_id":"IC_kwDOBI7nWM5BmW4B","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-16T05:10:14Z","updated_at":"2022-04-16T05:10:14Z","author_association":"CONTRIBUTOR","body":"Interesting. whats your lifecycle policy btw? any objects that was never updated in the last X days to be deleted? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100574209/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100576020","html_url":"https://github.com/apache/hudi/issues/5291#issuecomment-1100576020","issue_url":"https://api.github.com/repos/apache/hudi/issues/5291","id":1100576020,"node_id":"IC_kwDOBI7nWM5BmXUU","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-16T05:19:48Z","updated_at":"2022-04-16T05:19:48Z","author_association":"CONTRIBUTOR","body":"@zhedoubushishi : can you chime in here please.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100576020/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100576398","html_url":"https://github.com/apache/hudi/issues/5301#issuecomment-1100576398","issue_url":"https://api.github.com/repos/apache/hudi/issues/5301","id":1100576398,"node_id":"IC_kwDOBI7nWM5BmXaO","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-16T05:22:26Z","updated_at":"2022-04-16T05:22:26Z","author_association":"CONTRIBUTOR","body":"@XuQianJin-Stars : Can you file a tracking jira and follow up please. \r\nand close out the github issue. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100576398/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100577200","html_url":"https://github.com/apache/hudi/issues/5313#issuecomment-1100577200","issue_url":"https://api.github.com/repos/apache/hudi/issues/5313","id":1100577200,"node_id":"IC_kwDOBI7nWM5BmXmw","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-16T05:27:25Z","updated_at":"2022-04-16T05:27:25Z","author_association":"CONTRIBUTOR","body":"cool. @simonsssu : I have created a tracking jira [here](https://issues.apache.org/jira/browse/HUDI-3892). Can you let me know your jira id. I can assign it to you. Also, this might be time sensitive, since its blocking pulsar integration. Just wanted to send out a gentle reminder. \r\nOnce you have the patch, do ping me. I can help review it. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100577200/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100577433","html_url":"https://github.com/apache/hudi/issues/5313#issuecomment-1100577433","issue_url":"https://api.github.com/repos/apache/hudi/issues/5313","id":1100577433,"node_id":"IC_kwDOBI7nWM5BmXqZ","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-16T05:29:17Z","updated_at":"2022-04-16T05:29:17Z","author_association":"CONTRIBUTOR","body":"@hangc0276 : We can definitely take this up. excited for hudi used as tiered storage :) \r\nAs @simonsssu showed interest to work on it, I will coordinate w/ him/her and get this going. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100577433/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100577643","html_url":"https://github.com/apache/hudi/issues/5326#issuecomment-1100577643","issue_url":"https://api.github.com/repos/apache/hudi/issues/5326","id":1100577643,"node_id":"IC_kwDOBI7nWM5BmXtr","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-16T05:30:40Z","updated_at":"2022-04-16T05:30:40Z","author_association":"CONTRIBUTOR","body":"@harsh1231 : Can you chime in here please. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100577643/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100577811","html_url":"https://github.com/apache/hudi/issues/5326#issuecomment-1100577811","issue_url":"https://api.github.com/repos/apache/hudi/issues/5326","id":1100577811,"node_id":"IC_kwDOBI7nWM5BmXwT","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-16T05:31:40Z","updated_at":"2022-04-16T05:31:40Z","author_association":"CONTRIBUTOR","body":"@zxding : guess you are asking for adding arbitrary tags to each metrics right? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100577811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100577825","html_url":"https://github.com/apache/hudi/issues/4825#issuecomment-1100577825","issue_url":"https://api.github.com/repos/apache/hudi/issues/4825","id":1100577825,"node_id":"IC_kwDOBI7nWM5BmXwh","user":{"login":"puchangchun","id":19191526,"node_id":"MDQ6VXNlcjE5MTkxNTI2","avatar_url":"https://avatars.githubusercontent.com/u/19191526?v=4","gravatar_id":"","url":"https://api.github.com/users/puchangchun","html_url":"https://github.com/puchangchun","followers_url":"https://api.github.com/users/puchangchun/followers","following_url":"https://api.github.com/users/puchangchun/following{/other_user}","gists_url":"https://api.github.com/users/puchangchun/gists{/gist_id}","starred_url":"https://api.github.com/users/puchangchun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/puchangchun/subscriptions","organizations_url":"https://api.github.com/users/puchangchun/orgs","repos_url":"https://api.github.com/users/puchangchun/repos","events_url":"https://api.github.com/users/puchangchun/events{/privacy}","received_events_url":"https://api.github.com/users/puchangchun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-16T05:31:47Z","updated_at":"2022-04-16T05:32:10Z","author_association":"NONE","body":"I'm running fine locally, but I reported this error in the Flink cluster environment, and I'm Jar already include  the HiveConf.class","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100577825/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100580381","html_url":"https://github.com/apache/hudi/issues/5298#issuecomment-1100580381","issue_url":"https://api.github.com/repos/apache/hudi/issues/5298","id":1100580381,"node_id":"IC_kwDOBI7nWM5BmYYd","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-16T05:48:17Z","updated_at":"2022-04-16T05:48:17Z","author_association":"CONTRIBUTOR","body":"@kasured : before I dive in, few pointers on the write configs used.\r\n1. I see you have enabled both inline and async compaction. Guess w/ streaming sink to hudi, only async compaction is possible and for MOR table, hudi automatically does async compaction. So, probably you can remove these configs. \r\n```\r\n\"hoodie.compact.inline\" = \"true\"\r\n \"hoodie.datasource.compaction.async.enable\" = \"true\"\r\n```\r\n\r\n2. and I also see you have enabled clustering. can we disable clustering and see if the issue is still reproducible. \r\n\r\nwith these changes, can you let us know if the problem still persists? \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100580381/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100583106","html_url":"https://github.com/apache/hudi/issues/5326#issuecomment-1100583106","issue_url":"https://api.github.com/repos/apache/hudi/issues/5326","id":1100583106,"node_id":"IC_kwDOBI7nWM5BmZDC","user":{"login":"zxding","id":7269835,"node_id":"MDQ6VXNlcjcyNjk4MzU=","avatar_url":"https://avatars.githubusercontent.com/u/7269835?v=4","gravatar_id":"","url":"https://api.github.com/users/zxding","html_url":"https://github.com/zxding","followers_url":"https://api.github.com/users/zxding/followers","following_url":"https://api.github.com/users/zxding/following{/other_user}","gists_url":"https://api.github.com/users/zxding/gists{/gist_id}","starred_url":"https://api.github.com/users/zxding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zxding/subscriptions","organizations_url":"https://api.github.com/users/zxding/orgs","repos_url":"https://api.github.com/users/zxding/repos","events_url":"https://api.github.com/users/zxding/events{/privacy}","received_events_url":"https://api.github.com/users/zxding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-16T06:07:03Z","updated_at":"2022-05-21T13:20:38Z","author_association":"NONE","body":"yes，any suggestion？\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100583106/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100619414","html_url":"https://github.com/apache/hudi/issues/5298#issuecomment-1100619414","issue_url":"https://api.github.com/repos/apache/hudi/issues/5298","id":1100619414,"node_id":"IC_kwDOBI7nWM5Bmh6W","user":{"login":"kasured","id":4102441,"node_id":"MDQ6VXNlcjQxMDI0NDE=","avatar_url":"https://avatars.githubusercontent.com/u/4102441?v=4","gravatar_id":"","url":"https://api.github.com/users/kasured","html_url":"https://github.com/kasured","followers_url":"https://api.github.com/users/kasured/followers","following_url":"https://api.github.com/users/kasured/following{/other_user}","gists_url":"https://api.github.com/users/kasured/gists{/gist_id}","starred_url":"https://api.github.com/users/kasured/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kasured/subscriptions","organizations_url":"https://api.github.com/users/kasured/orgs","repos_url":"https://api.github.com/users/kasured/repos","events_url":"https://api.github.com/users/kasured/events{/privacy}","received_events_url":"https://api.github.com/users/kasured/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-16T09:28:34Z","updated_at":"2022-04-16T11:14:56Z","author_association":"NONE","body":"@nsivabalan Thank you for looking into that. I have updated the configuration in the description as it was a little out of date. Since the creation of the ticket you can see that I have tried multiple options.\r\n\r\n1. At first iteration I had foreachBatch which was not causing async compaction to happen (please see the linked issues). After the code was rewritten to use just structured streaming constructs async compaction started to be scheduled and executed. So I have tried both inline enabled with async disabled, and vice versa and the issue that I describe is reproduced in both cases\r\n2. Not sure what you mean as I have cluster disabled explicitly with \"hoodie.clustering.inline\" = \"false\". And also I have not seen any clustering actions neither in the .hoodie nor in the logs \r\n\r\nAll in all please check these two sections **Main observations so far** and **Tried Options**. They are up to date and have the summary of all that I have tried so far\r\n\r\nIf I would some up the main pain point is that when we use multiple isolated StreamingQuery in one spark application (for now we are testing with 3 tables), every first round of compaction leads to marker merge files left in the .temp folder. When HoodieTable finalize write logic kicks in it sees those files that were not deleted and treats them as invalid and deletes those. However, instant.commit file for compaction still points to that file. And when the reader reads that instant it fails with FileNotFoundException\r\n\r\n```\r\n// we are not including log appends here, since they are already fail-safe.\r\n      Set<String> invalidDataPaths = getInvalidDataPaths(markers);\r\n      Set<String> validDataPaths = stats.stream()\r\n          .map(HoodieWriteStat::getPath)\r\n          .filter(p -> p.endsWith(this.getBaseFileExtension()))\r\n          .collect(Collectors.toSet());\r\n\r\n      // Contains list of partially created files. These needs to be cleaned up.\r\n      invalidDataPaths.removeAll(validDataPaths);\r\n\r\n      if (!invalidDataPaths.isEmpty()) {\r\n        LOG.info(\"Removing duplicate data files created due to spark retries before committing. Paths=\" + invalidDataPaths);\r\n        Map<String, List<Pair<String, String>>> invalidPathsByPartition = invalidDataPaths.stream()\r\n            .map(dp -> Pair.of(new Path(basePath, dp).getParent().toString(), new Path(basePath, dp).toString()))\r\n            .collect(Collectors.groupingBy(Pair::getKey));\r\n```\r\n\r\n> INFO HoodieTable: Removing duplicate data files created due to spark retries before committing. Paths=[table=some_table/cluster=96/shard=14377/7a3553ed-9d81-4a8f-bb2e-2a6d6bb3c1cc-0_2-77-1336_20220416100103.parquet, table=some_table/cluster=96/shard=14377/f778c16d-b674-405d-b32c-b7f5962b2471-0_0-58-1250_20220416100103.parquet, table=some_table/cluster=96/shard=14377/8100e3bd-c520-4531-8c15-00483db1638e-0_1-77-1335_20220416100103.parquet, table=some_table/cluster=96/shard=14377/afe5b900-7483-4c8a-bc5d-5a0ff221aca3-0_3-77-1337_20220416100103.parquet]\r\n\r\nNow the questions is why those files are left and not cleared by the compaction commit process earlier I was not able to figure out yet. It might be some concurrency issue where some of the building blocks are shared within the sparkContext unsafely.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100619414/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100682574","html_url":"https://github.com/apache/hudi/issues/5281#issuecomment-1100682574","issue_url":"https://api.github.com/repos/apache/hudi/issues/5281","id":1100682574,"node_id":"IC_kwDOBI7nWM5BmxVO","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-16T14:57:21Z","updated_at":"2022-04-16T14:57:21Z","author_association":"CONTRIBUTOR","body":"have filed a tracking ticket https://issues.apache.org/jira/browse/HUDI-3893\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100682574/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100683830","html_url":"https://github.com/apache/hudi/issues/5281#issuecomment-1100683830","issue_url":"https://api.github.com/repos/apache/hudi/issues/5281","id":1100683830,"node_id":"IC_kwDOBI7nWM5Bmxo2","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-16T15:02:06Z","updated_at":"2022-04-16T15:02:06Z","author_association":"CONTRIBUTOR","body":"do you think you can add a lambda or something for following \r\n```\r\ntouch ${HUDI_TABLE_PATH}/.hoodie/hoodie.properties\r\n```\r\nand that should solve the problem right? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100683830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100684177","html_url":"https://github.com/apache/hudi/issues/5253#issuecomment-1100684177","issue_url":"https://api.github.com/repos/apache/hudi/issues/5253","id":1100684177,"node_id":"IC_kwDOBI7nWM5BmxuR","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-16T15:03:55Z","updated_at":"2022-04-16T15:03:55Z","author_association":"CONTRIBUTOR","body":"@YannByron @XuQianJin-Stars : can either of you folks please chime in here when you get a chance. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100684177/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100686361","html_url":"https://github.com/apache/hudi/issues/5298#issuecomment-1100686361","issue_url":"https://api.github.com/repos/apache/hudi/issues/5298","id":1100686361,"node_id":"IC_kwDOBI7nWM5BmyQZ","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-16T15:12:58Z","updated_at":"2022-04-16T15:12:58Z","author_association":"CONTRIBUTOR","body":"yes, I really appreciate your digging in deeper. \r\nlet me try to understand the concurrency here. \r\nwhat do you mean by multiple concurrent streaming writes? there are 3 streams reading from diff upstream sources and writing to 1 hudi table? or one streaming pipeline which writes to 3 different hudi tables? or 3 different streaming pipeline writing to 3 diff hudi table but using same spark session ? \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100686361/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100687324","html_url":"https://github.com/apache/hudi/issues/5298#issuecomment-1100687324","issue_url":"https://api.github.com/repos/apache/hudi/issues/5298","id":1100687324,"node_id":"IC_kwDOBI7nWM5Bmyfc","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-16T15:19:37Z","updated_at":"2022-04-16T15:21:48Z","author_association":"CONTRIBUTOR","body":"btw, we did fix an issue wrt how spark lazy initialization and cache invalidation could result in wrong files in commit metadata https://github.com/apache/hudi/pull/4753. looks like exactly matching what you are reporting. \r\nCan you try applying the patch and let us know if you still see the issue. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100687324/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100693250","html_url":"https://github.com/apache/hudi/issues/5330#issuecomment-1100693250","issue_url":"https://api.github.com/repos/apache/hudi/issues/5330","id":1100693250,"node_id":"IC_kwDOBI7nWM5Bmz8C","user":{"login":"wxplovecc","id":3350718,"node_id":"MDQ6VXNlcjMzNTA3MTg=","avatar_url":"https://avatars.githubusercontent.com/u/3350718?v=4","gravatar_id":"","url":"https://api.github.com/users/wxplovecc","html_url":"https://github.com/wxplovecc","followers_url":"https://api.github.com/users/wxplovecc/followers","following_url":"https://api.github.com/users/wxplovecc/following{/other_user}","gists_url":"https://api.github.com/users/wxplovecc/gists{/gist_id}","starred_url":"https://api.github.com/users/wxplovecc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxplovecc/subscriptions","organizations_url":"https://api.github.com/users/wxplovecc/orgs","repos_url":"https://api.github.com/users/wxplovecc/repos","events_url":"https://api.github.com/users/wxplovecc/events{/privacy}","received_events_url":"https://api.github.com/users/wxplovecc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-16T15:45:25Z","updated_at":"2022-04-16T15:45:25Z","author_association":"CONTRIBUTOR","body":"see https://github.com/apache/hudi/pull/5185","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100693250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100717281","html_url":"https://github.com/apache/hudi/issues/5298#issuecomment-1100717281","issue_url":"https://api.github.com/repos/apache/hudi/issues/5298","id":1100717281,"node_id":"IC_kwDOBI7nWM5Bm5zh","user":{"login":"kasured","id":4102441,"node_id":"MDQ6VXNlcjQxMDI0NDE=","avatar_url":"https://avatars.githubusercontent.com/u/4102441?v=4","gravatar_id":"","url":"https://api.github.com/users/kasured","html_url":"https://github.com/kasured","followers_url":"https://api.github.com/users/kasured/followers","following_url":"https://api.github.com/users/kasured/following{/other_user}","gists_url":"https://api.github.com/users/kasured/gists{/gist_id}","starred_url":"https://api.github.com/users/kasured/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kasured/subscriptions","organizations_url":"https://api.github.com/users/kasured/orgs","repos_url":"https://api.github.com/users/kasured/repos","events_url":"https://api.github.com/users/kasured/events{/privacy}","received_events_url":"https://api.github.com/users/kasured/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-16T17:41:40Z","updated_at":"2022-04-16T17:41:40Z","author_association":"NONE","body":"@nsivabalan Sure, let me provide more details. There is a StreamingQuery entity which s started by Spark to consume the stream. This is basically what we use and described here https://hudi.apache.org/docs/compaction#spark-structured-streaming\r\n\r\nSo what we do is we create multiple StreamingQuery streams and start them. Each of them though consumes from single kafka topic and writes to single Hudi table. So it is `3 different streaming pipeline writing to 3 diff hudi table but using same spark session` with the only exception that we use 3 different SparkSession objects. Each of them are reusing single sparkContext which is okay as there should be only one spark context per jvm.\r\n\r\nAs to 4753 I have already specified it in the section **Possibly Related Issues** HUDI-3370. However, from what I checked it is related to metadata service which we do not use \"hoodie.metadata.enable\" = \"false\". May it also be relevant even if we do not use metadata table? I am asking cause we are using 0.9.0 from Amazon and I will need to replace it with the one with patch  ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1100717281/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]