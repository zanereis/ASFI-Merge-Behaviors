[{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489061583","html_url":"https://github.com/openzipkin/zipkin/pull/2398#issuecomment-489061583","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2398","id":489061583,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTA2MTU4Mw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-03T11:11:51Z","updated_at":"2019-05-03T11:11:51Z","author_association":"MEMBER","body":"the above jitpack curl command should also work for master now (`TAG=master-SNAPSHOT`)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489061583/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489063296","html_url":"https://github.com/openzipkin/zipkin/pull/2398#issuecomment-489063296","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2398","id":489063296,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTA2MzI5Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-03T11:20:20Z","updated_at":"2019-05-03T11:20:20Z","author_association":"MEMBER","body":"ps I just tried with brave-webmvc-example just to verify service names are ok. I think it is ok.\r\n\r\n![Screen Shot 2019-05-03 at 7 19 10 PM](https://user-images.githubusercontent.com/64215/57134336-76806400-6dd8-11e9-9520-dcac8ea53400.png)\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489063296/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489064226","html_url":"https://github.com/openzipkin/zipkin/issues/2219#issuecomment-489064226","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2219","id":489064226,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTA2NDIyNg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-03T11:24:46Z","updated_at":"2019-05-03T11:25:08Z","author_association":"MEMBER","body":"This will go out in next release after 2.13. For the impatient, you can grab off master like this for testing.\r\n\r\n```bash\r\n$ TAG=master-SNAPSHOT\r\n$ curl -sSL https://jitpack.io/com/github/apache/incubator-zipkin/zipkin-server/${TAG}/zipkin-server-${TAG}-exec.jar > zipkin.jar\r\n$ STORAGE_TYPE=elasticsearch java -jar zipkin.jar \r\n```\r\n\r\nNote: the implementation reads both index/type delimiters which *should* allow for smooth upgrading, for some definition of smooth.\r\n\r\nMassive notes here: https://github.com/apache/incubator-zipkin/blob/master/zipkin-storage/elasticsearch/src/main/java/zipkin2/elasticsearch/internal/IndexNameFormatter.java#L73\r\n\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489064226/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489274261","html_url":"https://github.com/openzipkin/zipkin/issues/2550#issuecomment-489274261","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2550","id":489274261,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTI3NDI2MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-04T00:03:23Z","updated_at":"2019-05-04T00:03:23Z","author_association":"MEMBER","body":"thanks to @jeqo for releasing zipkin-api.. once https://github.com/apache/incubator-zipkin/pull/2556 is merged we should be good","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489274261/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489496399","html_url":"https://github.com/openzipkin/zipkin/issues/2555#issuecomment-489496399","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2555","id":489496399,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTQ5NjM5OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T04:18:11Z","updated_at":"2019-05-06T04:18:11Z","author_association":"MEMBER","body":"this should be in the brave project. do you mind recreating it there?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489496399/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489503822","html_url":"https://github.com/openzipkin/zipkin/pull/2558#issuecomment-489503822","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2558","id":489503822,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTUwMzgyMg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T05:24:06Z","updated_at":"2019-05-06T05:24:06Z","author_association":"MEMBER","body":"cc @xeraa @jcarres-mdsol ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489503822/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489503904","html_url":"https://github.com/openzipkin/zipkin/pull/2558#issuecomment-489503904","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2558","id":489503904,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTUwMzkwNA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T05:24:51Z","updated_at":"2019-05-06T05:24:51Z","author_association":"MEMBER","body":"as a side effect, this could make travis work again. When we merged ES 7, we broke travis' 50m hard timeout","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489503904/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489505050","html_url":"https://github.com/openzipkin/zipkin/pull/2558#issuecomment-489505050","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2558","id":489505050,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTUwNTA1MA==","user":{"login":"xeraa","id":432211,"node_id":"MDQ6VXNlcjQzMjIxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/432211?v=4","gravatar_id":"","url":"https://api.github.com/users/xeraa","html_url":"https://github.com/xeraa","followers_url":"https://api.github.com/users/xeraa/followers","following_url":"https://api.github.com/users/xeraa/following{/other_user}","gists_url":"https://api.github.com/users/xeraa/gists{/gist_id}","starred_url":"https://api.github.com/users/xeraa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xeraa/subscriptions","organizations_url":"https://api.github.com/users/xeraa/orgs","repos_url":"https://api.github.com/users/xeraa/repos","events_url":"https://api.github.com/users/xeraa/events{/privacy}","received_events_url":"https://api.github.com/users/xeraa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T05:35:22Z","updated_at":"2019-05-06T05:35:22Z","author_association":"MEMBER","body":"I‘m afraid this is the sanest choice and it accurately describes our support policy (we‘ll probably provide some more guidance around that soon).","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489505050/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489543760","html_url":"https://github.com/openzipkin/zipkin/pull/2398#issuecomment-489543760","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2398","id":489543760,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTU0Mzc2MA==","user":{"login":"chefky","id":208810,"node_id":"MDQ6VXNlcjIwODgxMA==","avatar_url":"https://avatars.githubusercontent.com/u/208810?v=4","gravatar_id":"","url":"https://api.github.com/users/chefky","html_url":"https://github.com/chefky","followers_url":"https://api.github.com/users/chefky/followers","following_url":"https://api.github.com/users/chefky/following{/other_user}","gists_url":"https://api.github.com/users/chefky/gists{/gist_id}","starred_url":"https://api.github.com/users/chefky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chefky/subscriptions","organizations_url":"https://api.github.com/users/chefky/orgs","repos_url":"https://api.github.com/users/chefky/repos","events_url":"https://api.github.com/users/chefky/events{/privacy}","received_events_url":"https://api.github.com/users/chefky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T08:21:07Z","updated_at":"2019-05-06T08:21:07Z","author_association":"NONE","body":"Trying the latest snapshot with elasticsearch 7.0 -- getting an issue when\nI update the zipkin-span_template. I need the tags field to be searchable\nsince I am using tags.http.status_code to determine success rate of an API.\nI just got the default value that is created by zipkin via 'GET\n/_template/zipkin-span_template' in kibana, and edited the tags field to:\n\n[image: Screen Shot 2019-05-06 at 4.03.24 PM.png]\nGot this to work prior to latest snapshot + elasticsearch 7.0, but now I\nget an error:\n\n2019-05-06 15:47:55.847 DEBUG 21101 --- [und.io:9243/...]\nz.s.i.ZipkinHttpCollector                : Cannot store spans\n[327a37f9ae4eaa6d/52a9ba8e5a3f60f9, 327a37f9ae4eaa6d/87f3b8e489f2895b] due\nto\nIllegalStateException({\"took\":801,\"errors\":true,\"items\":[{\"index\":{\"_index\":\"zipkin-span-2019-05-06\",\"_type\":\"span\",\"_id\":\"WewdjGoBqE8vRr9QDFH6\",\"status\":400,\"error\":{\"type\":\"illegal_argument_exception\",\"reason\":\"Can't\nmerge because of conflicts: [Cannot update excludes setting for\n[_source]]\"}}},{\"index\":{\"_index\":\"zipkin-span-2019-05-06\",\"_type\":\"span\",\"_id\":\"WuwdjGoBqE8vRr9QDFH6\",\"status\":400,\"error\":{\"type\":\"illegal_argument_exception\",\"reason\":\"Can't\nmerge because of conflicts: [Cannot update excludes setting for\n[_source]]\"}}}]})\n\n\njava.lang.IllegalStateException:\n{\"took\":801,\"errors\":true,\"items\":[{\"index\":{\"_index\":\"zipkin-span-2019-05-06\",\"_type\":\"span\",\"_id\":\"WewdjGoBqE8vRr9QDFH6\",\"status\":400,\"error\":{\"type\":\"illegal_argument_exception\",\"reason\":\"Can't\nmerge because of conflicts: [Cannot update excludes setting for\n[_source]]\"}}},{\"index\":{\"_index\":\"zipkin-span-2019-05-06\",\"_type\":\"span\",\"_id\":\"WuwdjGoBqE8vRr9QDFH6\",\"status\":400,\"error\":{\"type\":\"illegal_argument_exception\",\"reason\":\"Can't\nmerge because of conflicts: [Cannot update excludes setting for\n[_source]]\"}}}]}\n\nat\nzipkin2.elasticsearch.internal.HttpBulkIndexer$CheckForErrors.convert(HttpBulkIndexer.java:60)\n~[zipkin-storage-elasticsearch-2.13.1-SNAPSHOT.jar!/:2.13.1-SNAPSHOT]\n\nat\nzipkin2.elasticsearch.internal.HttpBulkIndexer$CheckForErrors.convert(HttpBulkIndexer.java:53)\n~[zipkin-storage-elasticsearch-2.13.1-SNAPSHOT.jar!/:2.13.1-SNAPSHOT]\n\nat\nzipkin2.elasticsearch.internal.client.HttpCall.parseResponse(HttpCall.java:151)\n~[zipkin-storage-elasticsearch-2.13.1-SNAPSHOT.jar!/:2.13.1-SNAPSHOT]\n\nat\nzipkin2.elasticsearch.internal.client.HttpCall$V2CallbackAdapter.onResponse(HttpCall.java:128)\n[zipkin-storage-elasticsearch-2.13.1-SNAPSHOT.jar!/:2.13.1-SNAPSHOT]\n\nat okhttp3.RealCall$AsyncCall.execute(RealCall.java:174)\n[okhttp-3.14.0.jar!/:?]\n\nat okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)\n[okhttp-3.14.0.jar!/:?]\n\nat\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n[?:1.8.0_191]\n\nat\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n[?:1.8.0_191]\nat java.lang.Thread.run(Thread.java:748) [?:1.8.0_191]\n\nTried to remove setting for _source but then I get this:\n\n\"Rejecting mapping update to [zipkin-span-2019-05-06] as the final mapping\nwould have more than 1 type: [_doc, span]\"\n\nAny ideas would be appreciated.\n\nThanks,\nKaren\n\n\n\n\nOn Fri, May 3, 2019 at 7:08 PM Adrian Cole <notifications@github.com> wrote:\n\n> Merged #2398 <https://github.com/apache/incubator-zipkin/pull/2398> into\n> master.\n>\n> —\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/incubator-zipkin/pull/2398#event-2317083480>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AABS7KSYPFZA3IX5HJNRKPLPTQMMLANCNFSM4GYAFONQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489543760/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489547378","html_url":"https://github.com/openzipkin/zipkin/pull/2398#issuecomment-489547378","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2398","id":489547378,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTU0NzM3OA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T08:35:41Z","updated_at":"2019-05-06T08:35:41Z","author_association":"MEMBER","body":"are you saying you have a secondary index template and are trying to merge\nthis with the one we create?\n\naside: conventionally we add the tag error when http status is error\n\nOn Mon, May 6, 2019, 4:21 PM chefky <notifications@github.com> wrote:\n\n> Trying the latest snapshot with elasticsearch 7.0 -- getting an issue when\n> I update the zipkin-span_template. I need the tags field to be searchable\n> since I am using tags.http.status_code to determine success rate of an API.\n> I just got the default value that is created by zipkin via 'GET\n> /_template/zipkin-span_template' in kibana, and edited the tags field to:\n>\n> [image: Screen Shot 2019-05-06 at 4.03.24 PM.png]\n> Got this to work prior to latest snapshot + elasticsearch 7.0, but now I\n> get an error:\n>\n> 2019-05-06 15:47:55.847 DEBUG 21101 --- [und.io:9243/...]\n> z.s.i.ZipkinHttpCollector : Cannot store spans\n> [327a37f9ae4eaa6d/52a9ba8e5a3f60f9, 327a37f9ae4eaa6d/87f3b8e489f2895b] due\n> to\n>\n> IllegalStateException({\"took\":801,\"errors\":true,\"items\":[{\"index\":{\"_index\":\"zipkin-span-2019-05-06\",\"_type\":\"span\",\"_id\":\"WewdjGoBqE8vRr9QDFH6\",\"status\":400,\"error\":{\"type\":\"illegal_argument_exception\",\"reason\":\"Can't\n> merge because of conflicts: [Cannot update excludes setting for\n>\n> [_source]]\"}}},{\"index\":{\"_index\":\"zipkin-span-2019-05-06\",\"_type\":\"span\",\"_id\":\"WuwdjGoBqE8vRr9QDFH6\",\"status\":400,\"error\":{\"type\":\"illegal_argument_exception\",\"reason\":\"Can't\n> merge because of conflicts: [Cannot update excludes setting for\n> [_source]]\"}}}]})\n>\n>\n> java.lang.IllegalStateException:\n>\n> {\"took\":801,\"errors\":true,\"items\":[{\"index\":{\"_index\":\"zipkin-span-2019-05-06\",\"_type\":\"span\",\"_id\":\"WewdjGoBqE8vRr9QDFH6\",\"status\":400,\"error\":{\"type\":\"illegal_argument_exception\",\"reason\":\"Can't\n> merge because of conflicts: [Cannot update excludes setting for\n>\n> [_source]]\"}}},{\"index\":{\"_index\":\"zipkin-span-2019-05-06\",\"_type\":\"span\",\"_id\":\"WuwdjGoBqE8vRr9QDFH6\",\"status\":400,\"error\":{\"type\":\"illegal_argument_exception\",\"reason\":\"Can't\n> merge because of conflicts: [Cannot update excludes setting for\n> [_source]]\"}}}]}\n>\n> at\n>\n> zipkin2.elasticsearch.internal.HttpBulkIndexer$CheckForErrors.convert(HttpBulkIndexer.java:60)\n> ~[zipkin-storage-elasticsearch-2.13.1-SNAPSHOT.jar!/:2.13.1-SNAPSHOT]\n>\n> at\n>\n> zipkin2.elasticsearch.internal.HttpBulkIndexer$CheckForErrors.convert(HttpBulkIndexer.java:53)\n> ~[zipkin-storage-elasticsearch-2.13.1-SNAPSHOT.jar!/:2.13.1-SNAPSHOT]\n>\n> at\n>\n> zipkin2.elasticsearch.internal.client.HttpCall.parseResponse(HttpCall.java:151)\n> ~[zipkin-storage-elasticsearch-2.13.1-SNAPSHOT.jar!/:2.13.1-SNAPSHOT]\n>\n> at\n>\n> zipkin2.elasticsearch.internal.client.HttpCall$V2CallbackAdapter.onResponse(HttpCall.java:128)\n> [zipkin-storage-elasticsearch-2.13.1-SNAPSHOT.jar!/:2.13.1-SNAPSHOT]\n>\n> at okhttp3.RealCall$AsyncCall.execute(RealCall.java:174)\n> [okhttp-3.14.0.jar!/:?]\n>\n> at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)\n> [okhttp-3.14.0.jar!/:?]\n>\n> at\n>\n> java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n> [?:1.8.0_191]\n>\n> at\n>\n> java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n> [?:1.8.0_191]\n> at java.lang.Thread.run(Thread.java:748) [?:1.8.0_191]\n>\n> Tried to remove setting for _source but then I get this:\n>\n> \"Rejecting mapping update to [zipkin-span-2019-05-06] as the final mapping\n> would have more than 1 type: [_doc, span]\"\n>\n> Any ideas would be appreciated.\n>\n> Thanks,\n> Karen\n>\n>\n>\n>\n> On Fri, May 3, 2019 at 7:08 PM Adrian Cole <notifications@github.com>\n> wrote:\n>\n> > Merged #2398 <https://github.com/apache/incubator-zipkin/pull/2398> into\n> > master.\n> >\n> > —\n> > You are receiving this because you are subscribed to this thread.\n> > Reply to this email directly, view it on GitHub\n> > <https://github.com/apache/incubator-zipkin/pull/2398#event-2317083480>,\n> > or mute the thread\n> > <\n> https://github.com/notifications/unsubscribe-auth/AABS7KSYPFZA3IX5HJNRKPLPTQMMLANCNFSM4GYAFONQ\n> >\n> > .\n> >\n>\n> —\n> You are receiving this because you modified the open/close state.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/incubator-zipkin/pull/2398#issuecomment-489543760>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAAPVV7RYHPWL64LGQN6BNDPT7S7NANCNFSM4GYAFONQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489547378/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489554650","html_url":"https://github.com/openzipkin/zipkin/pull/2398#issuecomment-489554650","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2398","id":489554650,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTU1NDY1MA==","user":{"login":"chefky","id":208810,"node_id":"MDQ6VXNlcjIwODgxMA==","avatar_url":"https://avatars.githubusercontent.com/u/208810?v=4","gravatar_id":"","url":"https://api.github.com/users/chefky","html_url":"https://github.com/chefky","followers_url":"https://api.github.com/users/chefky/followers","following_url":"https://api.github.com/users/chefky/following{/other_user}","gists_url":"https://api.github.com/users/chefky/gists{/gist_id}","starred_url":"https://api.github.com/users/chefky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chefky/subscriptions","organizations_url":"https://api.github.com/users/chefky/orgs","repos_url":"https://api.github.com/users/chefky/repos","events_url":"https://api.github.com/users/chefky/events{/privacy}","received_events_url":"https://api.github.com/users/chefky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T09:04:48Z","updated_at":"2019-05-06T09:04:48Z","author_association":"NONE","body":"Am trying to overwrite the one that you created, but I do this in Kibana,\nafter the default template has been created. Original tags field has\nenabled = false, so I just run PUT _template/zipkin-span_template with\neverything the same as default, except for the tags field. This is saved\nsuccessfully, but the next time I run my test program and new spans are\ncreated, I get the merge conflict. Since this was working in previous\nversions, I thought zipkin checked for existing templates and did nothing\nif one was found.\n\nOn the side note : I need to track specific error codes as we have some\nexceptions (e.g. 4XX codes, as well as 503, do not affect success rate)\n\n\nOn Mon, May 6, 2019 at 4:35 PM Adrian Cole <notifications@github.com> wrote:\n\n> are you saying you have a secondary index template and are trying to merge\n> this with the one we create?\n>\n> aside: conventionally we add the tag error when http status is error\n>\n> On Mon, May 6, 2019, 4:21 PM chefky <notifications@github.com> wrote:\n>\n> > Trying the latest snapshot with elasticsearch 7.0 -- getting an issue\n> when\n> > I update the zipkin-span_template. I need the tags field to be searchable\n> > since I am using tags.http.status_code to determine success rate of an\n> API.\n> > I just got the default value that is created by zipkin via 'GET\n> > /_template/zipkin-span_template' in kibana, and edited the tags field to:\n> >\n> > [image: Screen Shot 2019-05-06 at 4.03.24 PM.png]\n> > Got this to work prior to latest snapshot + elasticsearch 7.0, but now I\n> > get an error:\n> >\n> > 2019-05-06 15:47:55.847 DEBUG 21101 --- [und.io:9243/...]\n> > z.s.i.ZipkinHttpCollector : Cannot store spans\n> > [327a37f9ae4eaa6d/52a9ba8e5a3f60f9, 327a37f9ae4eaa6d/87f3b8e489f2895b]\n> due\n> > to\n> >\n> >\n> IllegalStateException({\"took\":801,\"errors\":true,\"items\":[{\"index\":{\"_index\":\"zipkin-span-2019-05-06\",\"_type\":\"span\",\"_id\":\"WewdjGoBqE8vRr9QDFH6\",\"status\":400,\"error\":{\"type\":\"illegal_argument_exception\",\"reason\":\"Can't\n> > merge because of conflicts: [Cannot update excludes setting for\n> >\n> >\n> [_source]]\"}}},{\"index\":{\"_index\":\"zipkin-span-2019-05-06\",\"_type\":\"span\",\"_id\":\"WuwdjGoBqE8vRr9QDFH6\",\"status\":400,\"error\":{\"type\":\"illegal_argument_exception\",\"reason\":\"Can't\n> > merge because of conflicts: [Cannot update excludes setting for\n> > [_source]]\"}}}]})\n> >\n> >\n> > java.lang.IllegalStateException:\n> >\n> >\n> {\"took\":801,\"errors\":true,\"items\":[{\"index\":{\"_index\":\"zipkin-span-2019-05-06\",\"_type\":\"span\",\"_id\":\"WewdjGoBqE8vRr9QDFH6\",\"status\":400,\"error\":{\"type\":\"illegal_argument_exception\",\"reason\":\"Can't\n> > merge because of conflicts: [Cannot update excludes setting for\n> >\n> >\n> [_source]]\"}}},{\"index\":{\"_index\":\"zipkin-span-2019-05-06\",\"_type\":\"span\",\"_id\":\"WuwdjGoBqE8vRr9QDFH6\",\"status\":400,\"error\":{\"type\":\"illegal_argument_exception\",\"reason\":\"Can't\n> > merge because of conflicts: [Cannot update excludes setting for\n> > [_source]]\"}}}]}\n> >\n> > at\n> >\n> >\n> zipkin2.elasticsearch.internal.HttpBulkIndexer$CheckForErrors.convert(HttpBulkIndexer.java:60)\n> > ~[zipkin-storage-elasticsearch-2.13.1-SNAPSHOT.jar!/:2.13.1-SNAPSHOT]\n> >\n> > at\n> >\n> >\n> zipkin2.elasticsearch.internal.HttpBulkIndexer$CheckForErrors.convert(HttpBulkIndexer.java:53)\n> > ~[zipkin-storage-elasticsearch-2.13.1-SNAPSHOT.jar!/:2.13.1-SNAPSHOT]\n> >\n> > at\n> >\n> >\n> zipkin2.elasticsearch.internal.client.HttpCall.parseResponse(HttpCall.java:151)\n> > ~[zipkin-storage-elasticsearch-2.13.1-SNAPSHOT.jar!/:2.13.1-SNAPSHOT]\n> >\n> > at\n> >\n> >\n> zipkin2.elasticsearch.internal.client.HttpCall$V2CallbackAdapter.onResponse(HttpCall.java:128)\n> > [zipkin-storage-elasticsearch-2.13.1-SNAPSHOT.jar!/:2.13.1-SNAPSHOT]\n> >\n> > at okhttp3.RealCall$AsyncCall.execute(RealCall.java:174)\n> > [okhttp-3.14.0.jar!/:?]\n> >\n> > at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)\n> > [okhttp-3.14.0.jar!/:?]\n> >\n> > at\n> >\n> >\n> java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n> > [?:1.8.0_191]\n> >\n> > at\n> >\n> >\n> java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n> > [?:1.8.0_191]\n> > at java.lang.Thread.run(Thread.java:748) [?:1.8.0_191]\n> >\n> > Tried to remove setting for _source but then I get this:\n> >\n> > \"Rejecting mapping update to [zipkin-span-2019-05-06] as the final\n> mapping\n> > would have more than 1 type: [_doc, span]\"\n> >\n> > Any ideas would be appreciated.\n> >\n> > Thanks,\n> > Karen\n> >\n> >\n> >\n> >\n> > On Fri, May 3, 2019 at 7:08 PM Adrian Cole <notifications@github.com>\n> > wrote:\n> >\n> > > Merged #2398 <https://github.com/apache/incubator-zipkin/pull/2398>\n> into\n> > > master.\n> > >\n> > > —\n> > > You are receiving this because you are subscribed to this thread.\n> > > Reply to this email directly, view it on GitHub\n> > > <https://github.com/apache/incubator-zipkin/pull/2398#event-2317083480\n> >,\n> > > or mute the thread\n> > > <\n> >\n> https://github.com/notifications/unsubscribe-auth/AABS7KSYPFZA3IX5HJNRKPLPTQMMLANCNFSM4GYAFONQ\n> > >\n> > > .\n> > >\n> >\n> > —\n> > You are receiving this because you modified the open/close state.\n> > Reply to this email directly, view it on GitHub\n> > <\n> https://github.com/apache/incubator-zipkin/pull/2398#issuecomment-489543760\n> >,\n> > or mute the thread\n> > <\n> https://github.com/notifications/unsubscribe-auth/AAAPVV7RYHPWL64LGQN6BNDPT7S7NANCNFSM4GYAFONQ\n> >\n> > .\n> >\n>\n> —\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/incubator-zipkin/pull/2398#issuecomment-489547378>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AABS7KRX3FTRBGJRNLEAQFDPT7UWBANCNFSM4GYAFONQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489554650/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489559710","html_url":"https://github.com/openzipkin/zipkin/pull/2398#issuecomment-489559710","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2398","id":489559710,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTU1OTcxMA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T09:24:46Z","updated_at":"2019-05-06T09:24:46Z","author_association":"MEMBER","body":"Custom index templates are not covered in the code here. Let's move to chat\nand help troubleshoot to the degree we can?\nhttps://gitter.im/openzipkin/zipkin\n\nOn Mon, May 6, 2019 at 5:04 PM chefky <notifications@github.com> wrote:\n\n> Am trying to overwrite the one that you created, but I do this in Kibana,\n> after the default template has been created. Original tags field has\n> enabled = false, so I just run PUT _template/zipkin-span_template with\n> everything the same as default, except for the tags field. This is saved\n> successfully, but the next time I run my test program and new spans are\n> created, I get the merge conflict. Since this was working in previous\n> versions, I thought zipkin checked for existing templates and did nothing\n> if one was found.\n>\n> On the side note : I need to track specific error codes as we have some\n> exceptions (e.g. 4XX codes, as well as 503, do not affect success rate)\n>\n>\n> On Mon, May 6, 2019 at 4:35 PM Adrian Cole <notifications@github.com>\n> wrote:\n>\n> > are you saying you have a secondary index template and are trying to\n> merge\n> > this with the one we create?\n> >\n> > aside: conventionally we add the tag error when http status is error\n> >\n> > On Mon, May 6, 2019, 4:21 PM chefky <notifications@github.com> wrote:\n> >\n> > > Trying the latest snapshot with elasticsearch 7.0 -- getting an issue\n> > when\n> > > I update the zipkin-span_template. I need the tags field to be\n> searchable\n> > > since I am using tags.http.status_code to determine success rate of an\n> > API.\n> > > I just got the default value that is created by zipkin via 'GET\n> > > /_template/zipkin-span_template' in kibana, and edited the tags field\n> to:\n> > >\n> > > [image: Screen Shot 2019-05-06 at 4.03.24 PM.png]\n> > > Got this to work prior to latest snapshot + elasticsearch 7.0, but now\n> I\n> > > get an error:\n> > >\n> > > 2019-05-06 15:47:55.847 DEBUG 21101 --- [und.io:9243/...]\n> > > z.s.i.ZipkinHttpCollector : Cannot store spans\n> > > [327a37f9ae4eaa6d/52a9ba8e5a3f60f9, 327a37f9ae4eaa6d/87f3b8e489f2895b]\n> > due\n> > > to\n> > >\n> > >\n> >\n> IllegalStateException({\"took\":801,\"errors\":true,\"items\":[{\"index\":{\"_index\":\"zipkin-span-2019-05-06\",\"_type\":\"span\",\"_id\":\"WewdjGoBqE8vRr9QDFH6\",\"status\":400,\"error\":{\"type\":\"illegal_argument_exception\",\"reason\":\"Can't\n> > > merge because of conflicts: [Cannot update excludes setting for\n> > >\n> > >\n> >\n> [_source]]\"}}},{\"index\":{\"_index\":\"zipkin-span-2019-05-06\",\"_type\":\"span\",\"_id\":\"WuwdjGoBqE8vRr9QDFH6\",\"status\":400,\"error\":{\"type\":\"illegal_argument_exception\",\"reason\":\"Can't\n> > > merge because of conflicts: [Cannot update excludes setting for\n> > > [_source]]\"}}}]})\n> > >\n> > >\n> > > java.lang.IllegalStateException:\n> > >\n> > >\n> >\n> {\"took\":801,\"errors\":true,\"items\":[{\"index\":{\"_index\":\"zipkin-span-2019-05-06\",\"_type\":\"span\",\"_id\":\"WewdjGoBqE8vRr9QDFH6\",\"status\":400,\"error\":{\"type\":\"illegal_argument_exception\",\"reason\":\"Can't\n> > > merge because of conflicts: [Cannot update excludes setting for\n> > >\n> > >\n> >\n> [_source]]\"}}},{\"index\":{\"_index\":\"zipkin-span-2019-05-06\",\"_type\":\"span\",\"_id\":\"WuwdjGoBqE8vRr9QDFH6\",\"status\":400,\"error\":{\"type\":\"illegal_argument_exception\",\"reason\":\"Can't\n> > > merge because of conflicts: [Cannot update excludes setting for\n> > > [_source]]\"}}}]}\n> > >\n> > > at\n> > >\n> > >\n> >\n> zipkin2.elasticsearch.internal.HttpBulkIndexer$CheckForErrors.convert(HttpBulkIndexer.java:60)\n> > > ~[zipkin-storage-elasticsearch-2.13.1-SNAPSHOT.jar!/:2.13.1-SNAPSHOT]\n> > >\n> > > at\n> > >\n> > >\n> >\n> zipkin2.elasticsearch.internal.HttpBulkIndexer$CheckForErrors.convert(HttpBulkIndexer.java:53)\n> > > ~[zipkin-storage-elasticsearch-2.13.1-SNAPSHOT.jar!/:2.13.1-SNAPSHOT]\n> > >\n> > > at\n> > >\n> > >\n> >\n> zipkin2.elasticsearch.internal.client.HttpCall.parseResponse(HttpCall.java:151)\n> > > ~[zipkin-storage-elasticsearch-2.13.1-SNAPSHOT.jar!/:2.13.1-SNAPSHOT]\n> > >\n> > > at\n> > >\n> > >\n> >\n> zipkin2.elasticsearch.internal.client.HttpCall$V2CallbackAdapter.onResponse(HttpCall.java:128)\n> > > [zipkin-storage-elasticsearch-2.13.1-SNAPSHOT.jar!/:2.13.1-SNAPSHOT]\n> > >\n> > > at okhttp3.RealCall$AsyncCall.execute(RealCall.java:174)\n> > > [okhttp-3.14.0.jar!/:?]\n> > >\n> > > at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)\n> > > [okhttp-3.14.0.jar!/:?]\n> > >\n> > > at\n> > >\n> > >\n> >\n> java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n> > > [?:1.8.0_191]\n> > >\n> > > at\n> > >\n> > >\n> >\n> java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n> > > [?:1.8.0_191]\n> > > at java.lang.Thread.run(Thread.java:748) [?:1.8.0_191]\n> > >\n> > > Tried to remove setting for _source but then I get this:\n> > >\n> > > \"Rejecting mapping update to [zipkin-span-2019-05-06] as the final\n> > mapping\n> > > would have more than 1 type: [_doc, span]\"\n> > >\n> > > Any ideas would be appreciated.\n> > >\n> > > Thanks,\n> > > Karen\n> > >\n> > >\n> > >\n> > >\n> > > On Fri, May 3, 2019 at 7:08 PM Adrian Cole <notifications@github.com>\n> > > wrote:\n> > >\n> > > > Merged #2398 <https://github.com/apache/incubator-zipkin/pull/2398>\n> > into\n> > > > master.\n> > > >\n> > > > —\n> > > > You are receiving this because you are subscribed to this thread.\n> > > > Reply to this email directly, view it on GitHub\n> > > > <\n> https://github.com/apache/incubator-zipkin/pull/2398#event-2317083480\n> > >,\n> > > > or mute the thread\n> > > > <\n> > >\n> >\n> https://github.com/notifications/unsubscribe-auth/AABS7KSYPFZA3IX5HJNRKPLPTQMMLANCNFSM4GYAFONQ\n> > > >\n> > > > .\n> > > >\n> > >\n> > > —\n> > > You are receiving this because you modified the open/close state.\n> > > Reply to this email directly, view it on GitHub\n> > > <\n> >\n> https://github.com/apache/incubator-zipkin/pull/2398#issuecomment-489543760\n> > >,\n> > > or mute the thread\n> > > <\n> >\n> https://github.com/notifications/unsubscribe-auth/AAAPVV7RYHPWL64LGQN6BNDPT7S7NANCNFSM4GYAFONQ\n> > >\n> > > .\n> > >\n> >\n> > —\n> > You are receiving this because you commented.\n> > Reply to this email directly, view it on GitHub\n> > <\n> https://github.com/apache/incubator-zipkin/pull/2398#issuecomment-489547378\n> >,\n> > or mute the thread\n> > <\n> https://github.com/notifications/unsubscribe-auth/AABS7KRX3FTRBGJRNLEAQFDPT7UWBANCNFSM4GYAFONQ\n> >\n> > .\n> >\n>\n> —\n> You are receiving this because you modified the open/close state.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/incubator-zipkin/pull/2398#issuecomment-489554650>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAAPVV4O7XKXOFZM5URKBPLPT7YDFANCNFSM4GYAFONQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489559710/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489580406","html_url":"https://github.com/openzipkin/zipkin/pull/2398#issuecomment-489580406","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2398","id":489580406,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTU4MDQwNg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T10:53:26Z","updated_at":"2019-05-06T10:53:46Z","author_association":"MEMBER","body":"@chefky it is near impossible for us to warranty anything custom with elasticsearch especially as versions change. keeping that in mind, I spent an hour trying to figure out the magic incantation and it \"seems to work\" on my laptop. If you need more support on elasticsearch, probably best to ask them as they know the nuance here. anyway with all disclosures aside.. https://gist.github.com/adriancole/1af1259102e7a2da1b3c9103565165d7","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489580406/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489592572","html_url":"https://github.com/openzipkin/zipkin/issues/2550#issuecomment-489592572","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2550","id":489592572,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTU5MjU3Mg==","user":{"login":"Yinevg","id":20527868,"node_id":"MDQ6VXNlcjIwNTI3ODY4","avatar_url":"https://avatars.githubusercontent.com/u/20527868?v=4","gravatar_id":"","url":"https://api.github.com/users/Yinevg","html_url":"https://github.com/Yinevg","followers_url":"https://api.github.com/users/Yinevg/followers","following_url":"https://api.github.com/users/Yinevg/following{/other_user}","gists_url":"https://api.github.com/users/Yinevg/gists{/gist_id}","starred_url":"https://api.github.com/users/Yinevg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Yinevg/subscriptions","organizations_url":"https://api.github.com/users/Yinevg/orgs","repos_url":"https://api.github.com/users/Yinevg/repos","events_url":"https://api.github.com/users/Yinevg/events{/privacy}","received_events_url":"https://api.github.com/users/Yinevg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T11:48:26Z","updated_at":"2019-05-06T11:48:26Z","author_association":"NONE","body":"> thanks to @jeqo for releasing zipkin-api.. once #2556 is merged we should be good\r\n\r\nExcuse me, I meet the same issue.  Is there a solution now？\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489592572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489593182","html_url":"https://github.com/openzipkin/zipkin/issues/2550#issuecomment-489593182","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2550","id":489593182,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTU5MzE4Mg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T11:50:51Z","updated_at":"2019-05-06T11:50:51Z","author_association":"MEMBER","body":"@Yinevg can you try from latest master?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489593182/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489594517","html_url":"https://github.com/openzipkin/zipkin/issues/2550#issuecomment-489594517","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2550","id":489594517,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTU5NDUxNw==","user":{"login":"Yinevg","id":20527868,"node_id":"MDQ6VXNlcjIwNTI3ODY4","avatar_url":"https://avatars.githubusercontent.com/u/20527868?v=4","gravatar_id":"","url":"https://api.github.com/users/Yinevg","html_url":"https://github.com/Yinevg","followers_url":"https://api.github.com/users/Yinevg/followers","following_url":"https://api.github.com/users/Yinevg/following{/other_user}","gists_url":"https://api.github.com/users/Yinevg/gists{/gist_id}","starred_url":"https://api.github.com/users/Yinevg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Yinevg/subscriptions","organizations_url":"https://api.github.com/users/Yinevg/orgs","repos_url":"https://api.github.com/users/Yinevg/repos","events_url":"https://api.github.com/users/Yinevg/events{/privacy}","received_events_url":"https://api.github.com/users/Yinevg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T11:56:30Z","updated_at":"2019-05-06T11:56:30Z","author_association":"NONE","body":"> @Yinevg can you try from latest master?\r\n\r\n I tried it a few minutes ago, but still failed.\r\n```\r\n[ERROR] Failed to execute goal com.squareup.wire:wire-maven-plugin:3.0.0-alpha01:generate-sources (default) on project zipkin-server: Wire Plugin: Failure compiling proto sources.: google/protobuf/descriptor.proto needs to import google\\protobuf\\descriptor.proto\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489594517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489595795","html_url":"https://github.com/openzipkin/zipkin/issues/2550#issuecomment-489595795","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2550","id":489595795,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTU5NTc5NQ==","user":{"login":"Yinevg","id":20527868,"node_id":"MDQ6VXNlcjIwNTI3ODY4","avatar_url":"https://avatars.githubusercontent.com/u/20527868?v=4","gravatar_id":"","url":"https://api.github.com/users/Yinevg","html_url":"https://github.com/Yinevg","followers_url":"https://api.github.com/users/Yinevg/followers","following_url":"https://api.github.com/users/Yinevg/following{/other_user}","gists_url":"https://api.github.com/users/Yinevg/gists{/gist_id}","starred_url":"https://api.github.com/users/Yinevg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Yinevg/subscriptions","organizations_url":"https://api.github.com/users/Yinevg/orgs","repos_url":"https://api.github.com/users/Yinevg/repos","events_url":"https://api.github.com/users/Yinevg/events{/privacy}","received_events_url":"https://api.github.com/users/Yinevg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T12:01:50Z","updated_at":"2019-05-06T12:01:50Z","author_association":"NONE","body":"> @Yinevg can you try from latest master?\r\n\r\nBesides, In ITZipkinGrpcCollector.kt, I didn't find `import zipkin2.proto3.ListOfSpans`.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489595795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489600908","html_url":"https://github.com/openzipkin/zipkin/issues/2550#issuecomment-489600908","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2550","id":489600908,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTYwMDkwOA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T12:21:33Z","updated_at":"2019-05-06T12:21:33Z","author_association":"MEMBER","body":"@Yinevg We no longer depend on google library so I think you don't have latest commit. please join gitter for more help https://gitter.im/openzipkin/zipkin","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489600908/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489607438","html_url":"https://github.com/openzipkin/zipkin/pull/2556#issuecomment-489607438","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2556","id":489607438,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTYwNzQzOA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T12:46:33Z","updated_at":"2019-05-06T12:46:33Z","author_association":"MEMBER","body":"@Yinevg sorry I forgot this wasnt' merged yet!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489607438/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489616923","html_url":"https://github.com/openzipkin/zipkin/pull/2558#issuecomment-489616923","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2558","id":489616923,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTYxNjkyMw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T13:18:20Z","updated_at":"2019-05-06T13:18:20Z","author_association":"MEMBER","body":"travis may still be unhappy after this change (regarding the 50m limit). Any further efforts will be in a different PR.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489616923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489825286","html_url":"https://github.com/openzipkin/zipkin/pull/2502#issuecomment-489825286","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2502","id":489825286,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTgyNTI4Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T23:37:31Z","updated_at":"2019-05-06T23:37:31Z","author_association":"MEMBER","body":"PS sorry about the CI meltdown. As of now, if you rebase, it should pass tests and not die on timeouts anymore.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489825286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489864871","html_url":"https://github.com/openzipkin/zipkin/issues/2461#issuecomment-489864871","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2461","id":489864871,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTg2NDg3MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-07T00:56:32Z","updated_at":"2019-05-07T00:56:32Z","author_association":"MEMBER","body":"ps the biggest problem with scribe is that twitter still use it, and there is no other implementation in finagle besides scribe. I ask them every year about this always same. this implies techdebt https://github.com/twitter/finagle/tree/develop/finagle-zipkin-scribe\r\n\r\n@trustin how ugly would an http adapter be anyway? We only need to support what we support now, which is only the following definition and no fancy transport (only normal TCP). It would be nice to know what it would feel like even if the code to do it lives (and dies) here.\r\n\r\n```\r\n@ThriftService(\"Scribe\")\r\npublic interface Scribe {\r\n\r\n  @ThriftMethod(value = \"Log\")\r\n  ListenableFuture<ResultCode> log(@ThriftField(value = 1) List<LogEntry> messages);\r\n\r\n  enum ResultCode {\r\n    OK(0),\r\n    TRY_LATER(1);\r\n\r\n    final int value;\r\n\r\n    ResultCode(int value) {\r\n      this.value = value;\r\n    }\r\n\r\n    @ThriftEnumValue\r\n    public int value() {\r\n      return value;\r\n    }\r\n  }\r\n\r\n  @ThriftStruct(value = \"LogEntry\")\r\n  final class LogEntry {\r\n\r\n    @ThriftField(value = 1)\r\n    public String category;\r\n\r\n    @ThriftField(value = 2)\r\n    public String message;\r\n  }\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489864871/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489891187","html_url":"https://github.com/openzipkin/zipkin/issues/2461#issuecomment-489891187","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2461","id":489891187,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTg5MTE4Nw==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-07T03:13:51Z","updated_at":"2019-05-07T03:13:51Z","author_association":"CONTRIBUTOR","body":"Is it ok for scribe to be a separate port? I guess it has to be if it's not HTTP.\r\n\r\nIf so, I think it's best to implement it directly as a Netty server on a different port that can wrap TCP payloads into HTTP ones sent to the standard endpoint on localhost.\r\n\r\nI found this implementation of thrift on Netty that seems to implement way more than would be needed, but could be a reference.\r\n\r\nhttps://github.com/airlift/drift/tree/master/drift-transport-netty/src/main/java/io/airlift/drift/transport/netty","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489891187/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489891527","html_url":"https://github.com/openzipkin/zipkin/issues/2461#issuecomment-489891527","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2461","id":489891527,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTg5MTUyNw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-07T03:15:53Z","updated_at":"2019-05-07T03:15:53Z","author_association":"MEMBER","body":"yeah actually it is better that it is a different port (9410 is what a lot\nof things are pointed at)\n\nmain thing is we are best if netty is aligned.\n\nOn Tue, May 7, 2019 at 11:13 AM Anuraag Agrawal <notifications@github.com>\nwrote:\n\n> Is it ok for scribe to be a separate port? I guess it has to be if it's\n> not HTTP.\n>\n> If so, I think it's best to implement it directly as a Netty server on a\n> different port that can wrap TCP payloads into HTTP ones sent to the\n> standard endpoint on localhost.\n>\n> I found this implementation of thrift on Netty that seems to implement way\n> more than would be needed, but could be a reference.\n>\n>\n> https://github.com/airlift/drift/tree/master/drift-transport-netty/src/main/java/io/airlift/drift/transport/netty\n>\n> —\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/incubator-zipkin/issues/2461#issuecomment-489891187>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAAPVV367QMC7CHBLFX7AN3PUDXXDANCNFSM4HADJNGQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489891527/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489892850","html_url":"https://github.com/openzipkin/zipkin/issues/2461#issuecomment-489892850","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2461","id":489892850,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTg5Mjg1MA==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-07T03:24:03Z","updated_at":"2019-05-07T03:24:03Z","author_association":"CONTRIBUTOR","body":"Yeah I don't think it makes as much sense to use some library, and have potential Netty version issues since it's be a very small proxy. Can just implement it directly.\r\n\r\nI've been writing TCP-HTTP proxies recently coincidentally so have it fresh in my mind I can try to hack something together.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489892850/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489960485","html_url":"https://github.com/openzipkin/zipkin/pull/2562#issuecomment-489960485","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2562","id":489960485,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTk2MDQ4NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-07T07:06:25Z","updated_at":"2019-05-07T07:06:25Z","author_association":"MEMBER","body":"verified you can create a secondary index template without the type name now\r\n\r\ncc @apache/zipkin-committers as sometimes people ask about this\r\n\r\n```bash\r\n# start server with elasticsearch 7.0.1 completely wiped out\r\n# seed our index templates\r\n$ curl -s localhost:9411/api/v2/traces\r\n# add a second index template, taking care to do it exactly like we made ours (do not include_type_name=true)\r\n$ curl -X PUT -v -s localhost:9200/_template/zipkin-span_http.status_code -H'Content-Type: application/json' -d'{\r\n  \"index_patterns\": [\r\n    \"zipkin-span-*\"\r\n  ],\r\n  \"order\": 0,\r\n  \"mappings\": {\r\n    \"properties\": {\r\n      \"tags.http.status_code\": {\r\n        \"norms\": false,\r\n        \"type\": \"keyword\"\r\n      }\r\n    }\r\n  }\r\n}'\r\n# make some traffic that has an http 404 (ex brave-webmvc-example)\r\n$ curl -s localhost:8081/bobby\r\n# verify the index\r\n$ curl -s 'localhost:9200/zipkin-span-*/_search?q=tags.http.status_code:404'\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489960485/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489968510","html_url":"https://github.com/openzipkin/zipkin/pull/2563#issuecomment-489968510","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2563","id":489968510,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTk2ODUxMA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-07T07:33:55Z","updated_at":"2019-05-07T07:33:55Z","author_association":"MEMBER","body":"I am excited","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489968510/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489972023","html_url":"https://github.com/openzipkin/zipkin/pull/2563#issuecomment-489972023","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2563","id":489972023,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTk3MjAyMw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-07T07:45:24Z","updated_at":"2019-05-07T07:45:24Z","author_association":"MEMBER","body":"taking a look now thanks!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489972023/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489972157","html_url":"https://github.com/openzipkin/zipkin/pull/2563#issuecomment-489972157","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2563","id":489972157,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTk3MjE1Nw==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-07T07:45:48Z","updated_at":"2019-05-07T07:45:48Z","author_association":"CONTRIBUTOR","body":"For reference, the IDL is at https://github.com/facebookarchive/scribe/blob/master/if/scribe.thrift\r\n\r\nIt'd be a pain to have to wire up the thrift compiler to the build :(","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489972157/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489973054","html_url":"https://github.com/openzipkin/zipkin/pull/2563#issuecomment-489973054","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2563","id":489973054,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTk3MzA1NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-07T07:48:29Z","updated_at":"2019-05-07T07:48:29Z","author_association":"MEMBER","body":"ack. the types are very simple though.. it is possible that we temporarily use thrift compiler, then inline it.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489973054/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489973547","html_url":"https://github.com/openzipkin/zipkin/pull/2563#issuecomment-489973547","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2563","id":489973547,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTk3MzU0Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-07T07:50:04Z","updated_at":"2019-05-07T07:50:04Z","author_association":"MEMBER","body":"ps here is the old thrift def https://github.com/openzipkin-attic/zipkin-csharp/blob/master/tools/thrift/scribe.thrift","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489973547/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489978066","html_url":"https://github.com/openzipkin/zipkin/pull/2563#issuecomment-489978066","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2563","id":489978066,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTk3ODA2Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-07T08:04:20Z","updated_at":"2019-05-07T08:04:20Z","author_association":"MEMBER","body":"ps almost integrated. will push a commit","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489978066/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489981703","html_url":"https://github.com/openzipkin/zipkin/pull/2563#issuecomment-489981703","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2563","id":489981703,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTk4MTcwMw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-07T08:15:17Z","updated_at":"2019-05-07T08:15:17Z","author_association":"MEMBER","body":"ok I ported the impl but not sure what I'm doing :) the ScribeTest fails because the state checks used aren't valid anymore or maybe the server isn't started yet","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489981703/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489983726","html_url":"https://github.com/openzipkin/zipkin/pull/2563#issuecomment-489983726","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2563","id":489983726,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTk4MzcyNg==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-07T08:21:44Z","updated_at":"2019-05-07T08:21:44Z","author_association":"CONTRIBUTOR","body":"Sweet thanks! I should be able to finish it up now.\r\n\r\nSince there is an `isRunning`, I wasn't sure if `start` is supposed to block or not, it's easy to make it do so with `syncUninterruptibly()`. Will play with it and the test.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489983726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489984369","html_url":"https://github.com/openzipkin/zipkin/pull/2563#issuecomment-489984369","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2563","id":489984369,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTk4NDM2OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-07T08:23:48Z","updated_at":"2019-05-07T08:23:48Z","author_association":"MEMBER","body":"yeah it doesn't have to block, but we should have a way in the test to know it has started. I think there are no other listeners so this point is not particularly common. The old one blocked I think..","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489984369/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489991296","html_url":"https://github.com/openzipkin/zipkin/pull/2564#issuecomment-489991296","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2564","id":489991296,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTk5MTI5Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-07T08:44:33Z","updated_at":"2019-05-07T08:44:33Z","author_association":"MEMBER","body":"note: this would occur in zipkin 2.14 (the next pending release is 2.13)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/489991296/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490047313","html_url":"https://github.com/openzipkin/zipkin/issues/2351#issuecomment-490047313","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2351","id":490047313,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDA0NzMxMw==","user":{"login":"jorgheymans","id":193792,"node_id":"MDQ6VXNlcjE5Mzc5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/193792?v=4","gravatar_id":"","url":"https://api.github.com/users/jorgheymans","html_url":"https://github.com/jorgheymans","followers_url":"https://api.github.com/users/jorgheymans/followers","following_url":"https://api.github.com/users/jorgheymans/following{/other_user}","gists_url":"https://api.github.com/users/jorgheymans/gists{/gist_id}","starred_url":"https://api.github.com/users/jorgheymans/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jorgheymans/subscriptions","organizations_url":"https://api.github.com/users/jorgheymans/orgs","repos_url":"https://api.github.com/users/jorgheymans/repos","events_url":"https://api.github.com/users/jorgheymans/events{/privacy}","received_events_url":"https://api.github.com/users/jorgheymans/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-07T11:52:14Z","updated_at":"2019-05-07T11:52:14Z","author_association":"CONTRIBUTOR","body":"- reinstate the 'x minutes ago' feature when listing traces.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490047313/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490301462","html_url":"https://github.com/openzipkin/zipkin/issues/2567#issuecomment-490301462","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2567","id":490301462,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDMwMTQ2Mg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-08T00:24:30Z","updated_at":"2019-05-08T00:24:30Z","author_association":"MEMBER","body":" https://github.com/apache/incubator-zipkin/pull/2568 should fix this. I will add another issue to remind us to remove the statements from the LICENSE file as the corresponding module (zipkin-ui) is scheduled to be deleted soon.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490301462/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490305011","html_url":"https://github.com/openzipkin/zipkin/pull/2564#issuecomment-490305011","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2564","id":490305011,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDMwNTAxMQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-08T00:45:55Z","updated_at":"2019-05-08T00:45:55Z","author_association":"MEMBER","body":"updated release notes to warn folks about this https://github.com/apache/incubator-zipkin/releases/tag/v2.13.0","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490305011/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490306481","html_url":"https://github.com/openzipkin/zipkin/pull/2502#issuecomment-490306481","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2502","id":490306481,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDMwNjQ4MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-08T00:54:24Z","updated_at":"2019-05-08T00:54:24Z","author_association":"MEMBER","body":"rebased and force pushed to get a green build so that folks can test this (especially with elasticsearch 7). Will post instructions shortly","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490306481/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490320395","html_url":"https://github.com/openzipkin/zipkin/pull/2502#issuecomment-490320395","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2502","id":490320395,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDMyMDM5NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-08T02:13:38Z","updated_at":"2019-05-08T02:13:38Z","author_association":"MEMBER","body":"updated the description with how to test this.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490320395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490320462","html_url":"https://github.com/openzipkin/zipkin/pull/2169#issuecomment-490320462","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2169","id":490320462,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDMyMDQ2Mg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-08T02:14:02Z","updated_at":"2019-05-08T02:14:02Z","author_association":"MEMBER","body":"https://github.com/apache/incubator-zipkin/pull/2502 now includes test instructions. please give a try!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490320462/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490320561","html_url":"https://github.com/openzipkin/zipkin/issues/2481#issuecomment-490320561","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2481","id":490320561,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDMyMDU2MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-08T02:14:41Z","updated_at":"2019-05-08T02:14:41Z","author_association":"MEMBER","body":"https://github.com/apache/incubator-zipkin/pull/2502 now includes test instructions please give a try","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490320561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490320611","html_url":"https://github.com/openzipkin/zipkin/issues/1760#issuecomment-490320611","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1760","id":490320611,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDMyMDYxMQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-08T02:14:58Z","updated_at":"2019-05-08T02:14:58Z","author_association":"MEMBER","body":"https://github.com/apache/incubator-zipkin/pull/2502 now includes test instructions please give a try","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490320611/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490320706","html_url":"https://github.com/openzipkin/zipkin/issues/2023#issuecomment-490320706","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2023","id":490320706,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDMyMDcwNg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-08T02:15:29Z","updated_at":"2019-05-08T02:15:29Z","author_association":"MEMBER","body":"https://github.com/apache/incubator-zipkin/pull/2502 now includes test instructions please give a try","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490320706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490370548","html_url":"https://github.com/openzipkin/zipkin/pull/2563#issuecomment-490370548","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2563","id":490370548,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDM3MDU0OA==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-08T06:52:38Z","updated_at":"2019-05-08T06:52:38Z","author_association":"CONTRIBUTOR","body":"Ok think it works.\r\n\r\n@trustin if possible, would be great for you to review since you're much better at Netty than me :)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490370548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490395996","html_url":"https://github.com/openzipkin/zipkin/pull/2563#issuecomment-490395996","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2563","id":490395996,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDM5NTk5Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-08T08:22:48Z","updated_at":"2019-05-08T08:22:48Z","author_association":"MEMBER","body":"@anuraaga I prefer not wrapping exceptions if that's the question :)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490395996/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490401574","html_url":"https://github.com/openzipkin/zipkin/pull/2563#issuecomment-490401574","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2563","id":490401574,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDQwMTU3NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-08T08:40:34Z","updated_at":"2019-05-08T08:40:34Z","author_association":"MEMBER","body":"updated description with jitpack instructions. testing with finagle now","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490401574/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490407996","html_url":"https://github.com/openzipkin/zipkin/pull/2563#issuecomment-490407996","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2563","id":490407996,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDQwNzk5Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-08T09:00:26Z","updated_at":"2019-05-08T09:01:12Z","author_association":"MEMBER","body":"ok I ran the https://github.com/openzipkin/zipkin-finagle-example/compare/raw-finagle with 100s of load on laptop (`wrk -t4 -c128 -d100s  http://localhost:8081 --latency`).\r\n\r\nI received some messages like below. However, I've not checked the base case.. will post back after doing that.\r\n\r\non zipkin:\r\n```\r\n2019-05-08 16:50:29.204  WARN 68201 --- [-worker-nio-2-6] z.c.s.ScribeInboundHandler               : Unexpected error handling connection.\r\n\r\njava.io.IOException: Connection reset by peer\r\n\tat sun.nio.ch.FileDispatcherImpl.read0(Native Method) ~[?:?]\r\n\tat sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:39) ~[?:?]\r\n\tat sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:223) ~[?:?]\r\n\tat sun.nio.ch.IOUtil.read(IOUtil.java:192) ~[?:?]\r\n\tat sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:382) ~[?:?]\r\n```\r\n\r\non the traced application:\r\n```\r\nMay 08, 2019 4:50:28 PM com.twitter.finagle.liveness.FailureAccrualFactory$$anon$4$$anon$5 didMarkDead\r\nINFO: FailureAccrualFactory marking connection to \"zipkin-tracer\" as dead. Remote Address: Inet(localhost/127.0.0.1:9410,Map())\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490407996/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490409885","html_url":"https://github.com/openzipkin/zipkin/pull/2570#issuecomment-490409885","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2570","id":490409885,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDQwOTg4NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-08T09:06:25Z","updated_at":"2019-05-08T09:06:25Z","author_association":"MEMBER","body":"PS I don't expect any reasonable human being to review 2.5K lines. I will merge this on green and take beatings as necessary.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490409885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490414884","html_url":"https://github.com/openzipkin/zipkin/pull/2563#issuecomment-490414884","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2563","id":490414884,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDQxNDg4NA==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-08T09:22:49Z","updated_at":"2019-05-08T09:22:49Z","author_association":"CONTRIBUTOR","body":"Thanks - also added some performance optimizations and more consistency with the swift server.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490414884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490415926","html_url":"https://github.com/openzipkin/zipkin/pull/2563#issuecomment-490415926","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2563","id":490415926,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDQxNTkyNg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-08T09:26:08Z","updated_at":"2019-05-08T09:26:08Z","author_association":"MEMBER","body":"FWIW the previous code somehow doesn't work as all spans are dropped sending to http somehow..","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490415926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490416600","html_url":"https://github.com/openzipkin/zipkin/pull/2563#issuecomment-490416600","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2563","id":490416600,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDQxNjYwMA==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-08T09:28:18Z","updated_at":"2019-05-08T09:28:18Z","author_association":"CONTRIBUTOR","body":"What do you mean by `dropped sending to http` exactly?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490416600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490416665","html_url":"https://github.com/openzipkin/zipkin/pull/2563#issuecomment-490416665","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2563","id":490416665,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDQxNjY2NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-08T09:28:30Z","updated_at":"2019-05-08T09:28:30Z","author_association":"MEMBER","body":"will try this codebase again all the same :)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490416665/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490417364","html_url":"https://github.com/openzipkin/zipkin/pull/2563#issuecomment-490417364","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2563","id":490417364,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDQxNzM2NA==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-08T09:30:39Z","updated_at":"2019-05-08T09:31:15Z","author_association":"CONTRIBUTOR","body":"By the way, while I would expect this server to support 128 connections no problem, I guess finagle limits to 5 if looking at performance of a single client\r\n\r\nhttps://github.com/twitter/finagle/blob/develop/finagle-zipkin-scribe/src/main/scala/com/twitter/finagle/zipkin/thrift/ScribeRawZipkinTracer.scala#L59","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490417364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490417726","html_url":"https://github.com/openzipkin/zipkin/pull/2563#issuecomment-490417726","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2563","id":490417726,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDQxNzcyNg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-08T09:31:42Z","updated_at":"2019-05-08T09:31:42Z","author_association":"MEMBER","body":"@anuraaga meaning when I switched the server to the version before this.. and ran the same wrk script.. I got the following. It is possible I am somehow fat fingering, but it is odd..\r\n\r\n```bash\r\n$ curl -s localhost:9411/health\r\n{\"status\":\"UP\",\"zipkin\":{\"status\":\"UP\",\"details\":{\"InMemoryStorage\":{\"status\":\"UP\"},\"ScribeCollector\":{\"status\":\"UP\"}}}}\r\n$ curl -s localhost:9411/metrics|jq .\r\n{\r\n  \"counter.zipkin_collector.messages.http\": 40,\r\n  \"counter.zipkin_collector.spans_dropped.http\": 0,\r\n  \"gauge.zipkin_collector.message_bytes.scribe\": 0,\r\n  \"counter.zipkin_collector.bytes.scribe\": 0,\r\n  \"gauge.zipkin_collector.message_spans.scribe\": 0,\r\n  \"counter.zipkin_collector.spans.scribe\": 0,\r\n  \"counter.zipkin_collector.messages_dropped.scribe\": 0,\r\n  \"gauge.zipkin_collector.message_bytes.http\": 1601652,\r\n  \"counter.zipkin_collector.messages.scribe\": 0,\r\n  \"counter.zipkin_collector.spans_dropped.scribe\": 0,\r\n  \"counter.zipkin_collector.bytes.http\": 89401054,\r\n  \"gauge.zipkin_collector.message_spans.http\": 3916,\r\n  \"counter.zipkin_collector.spans.http\": 257426,\r\n  \"counter.zipkin_collector.messages_dropped.http\": 0\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490417726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490418610","html_url":"https://github.com/openzipkin/zipkin/pull/2563#issuecomment-490418610","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2563","id":490418610,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDQxODYxMA==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-08T09:34:26Z","updated_at":"2019-05-08T09:34:26Z","author_association":"CONTRIBUTOR","body":"Ah I understand the test now - you're `wrk`ing to a server that then uses a finagle client, then it means it's using the defaults :)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490418610/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490420910","html_url":"https://github.com/openzipkin/zipkin/pull/2563#issuecomment-490420910","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2563","id":490420910,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDQyMDkxMA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-08T09:41:38Z","updated_at":"2019-05-08T09:41:38Z","author_association":"MEMBER","body":"ignore above as I found the fat fingering. I will run against base case now.\r\n\r\nFWIW latest commit still gets these (when using defaults in finagle on laptop)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490420910/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490424429","html_url":"https://github.com/openzipkin/zipkin/pull/2563#issuecomment-490424429","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2563","id":490424429,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDQyNDQyOQ==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-08T09:52:55Z","updated_at":"2019-05-08T09:52:55Z","author_association":"CONTRIBUTOR","body":"Updated to not log client connection close, same as normal armeria does. The interesting comparison will be whether base case and new case `didMarkDead` at a similar rate. If not, then I might be missing something needed to make sure finagle knows the connection's still alive.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490424429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490428257","html_url":"https://github.com/openzipkin/zipkin/pull/2563#issuecomment-490428257","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2563","id":490428257,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDQyODI1Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-08T10:05:40Z","updated_at":"2019-05-08T10:05:40Z","author_association":"MEMBER","body":"in a \"fair fight\" I got one connection fail client side on the old vs new (several)\r\n\r\nIs it possible that the scribe handler is happening on the I/O thread by chance?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490428257/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490428752","html_url":"https://github.com/openzipkin/zipkin/pull/2563#issuecomment-490428752","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2563","id":490428752,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDQyODc1Mg==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-08T10:07:16Z","updated_at":"2019-05-08T10:07:16Z","author_association":"CONTRIBUTOR","body":"Yeah it's on the I/O thread - but the collector is asynchronous so it should be ok right?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490428752/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490429341","html_url":"https://github.com/openzipkin/zipkin/pull/2563#issuecomment-490429341","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2563","id":490429341,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDQyOTM0MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-08T10:09:15Z","updated_at":"2019-05-08T10:09:15Z","author_association":"MEMBER","body":"ps to make this more fair can you go rebase/force push on latest master? I don't expect it to change things, but trying for apples/apples","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490429341/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490430025","html_url":"https://github.com/openzipkin/zipkin/pull/2563#issuecomment-490430025","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2563","id":490430025,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDQzMDAyNQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-08T10:11:47Z","updated_at":"2019-05-08T10:11:47Z","author_association":"MEMBER","body":"also this time when I compare I will compare request count vs trace count to see if the errors are not important","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490430025/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490430248","html_url":"https://github.com/openzipkin/zipkin/pull/2563#issuecomment-490430248","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2563","id":490430248,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDQzMDI0OA==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-08T10:12:26Z","updated_at":"2019-05-08T10:12:26Z","author_association":"CONTRIBUTOR","body":"Merged master. I'll also try to run the wrk after getting the binaries tomorrow.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490430248/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490432307","html_url":"https://github.com/openzipkin/zipkin/issues/2540#issuecomment-490432307","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2540","id":490432307,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDQzMjMwNw==","user":{"login":"nkorange","id":4593375,"node_id":"MDQ6VXNlcjQ1OTMzNzU=","avatar_url":"https://avatars.githubusercontent.com/u/4593375?v=4","gravatar_id":"","url":"https://api.github.com/users/nkorange","html_url":"https://github.com/nkorange","followers_url":"https://api.github.com/users/nkorange/followers","following_url":"https://api.github.com/users/nkorange/following{/other_user}","gists_url":"https://api.github.com/users/nkorange/gists{/gist_id}","starred_url":"https://api.github.com/users/nkorange/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nkorange/subscriptions","organizations_url":"https://api.github.com/users/nkorange/orgs","repos_url":"https://api.github.com/users/nkorange/repos","events_url":"https://api.github.com/users/nkorange/events{/privacy}","received_events_url":"https://api.github.com/users/nkorange/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-08T10:20:00Z","updated_at":"2019-05-08T10:20:39Z","author_association":"NONE","body":"@shakuzen I'm from Nacos team, let me explain this. Nacos is an open source registry center and configuration center originated from Alibaba and now more and more users are moving from Eureka to Nacos.\r\n\r\nWhen users are replacing their registry center from Eureka to Nacos, they frequently get an error like 'service $zipkin-server not found'. We guess Zipkin must have implicitly registered its address to Eureka so it can be found via a service name. \r\n\r\nTurning off the service discovery option of Zipkin usually works, but I think it's better for Nacos to be able to recognize Zipkin service. I would like to contribute for it and can you provide some clues where should I start?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490432307/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490434206","html_url":"https://github.com/openzipkin/zipkin/pull/2563#issuecomment-490434206","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2563","id":490434206,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDQzNDIwNg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-08T10:26:38Z","updated_at":"2019-05-08T10:26:38Z","author_association":"MEMBER","body":"getting log messages like this:\r\n\r\n```\r\n2019-05-08 18:25:48.325  WARN 84511 --- [entloop-nio-4-1] i.n.b.ServerBootstrap                    : Unknown channel option 'SO_BACKLOG' for channel '[id: 0x975d50ac, L:/127.0.0.1:9410 - R:/127.0.0.1:63794]'\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490434206/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490435633","html_url":"https://github.com/openzipkin/zipkin/pull/2563#issuecomment-490435633","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2563","id":490435633,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDQzNTYzMw==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-08T10:32:11Z","updated_at":"2019-05-08T10:32:11Z","author_association":"CONTRIBUTOR","body":"Yeah I'll remove that option I think, it only works on Linux and probably doesn't have much effect.\r\n\r\nCurrent hypothesis is I need to ensure responses go in order, which the other servers seem to implement. Going to try to repro first here with the binaries though","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490435633/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490453004","html_url":"https://github.com/openzipkin/zipkin/pull/2563#issuecomment-490453004","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2563","id":490453004,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDQ1MzAwNA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-08T11:40:19Z","updated_at":"2019-05-08T11:40:19Z","author_association":"MEMBER","body":"> Yeah it's on the I/O thread - but the collector is asynchronous so it\nshould be ok right?\nthe in-memory storage is not offloaded to a different thread. It is\npossible that the swift listener is offloading onto another thread always..\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490453004/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490454059","html_url":"https://github.com/openzipkin/zipkin/pull/2563#issuecomment-490454059","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2563","id":490454059,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDQ1NDA1OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-08T11:44:28Z","updated_at":"2019-05-08T11:44:28Z","author_association":"MEMBER","body":"I'm gonna backfill a test on master and rebase your branch over unless you scream :P","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490454059/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490460240","html_url":"https://github.com/openzipkin/zipkin/pull/2563#issuecomment-490460240","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2563","id":490460240,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDQ2MDI0MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-08T12:07:33Z","updated_at":"2019-05-08T12:07:33Z","author_association":"MEMBER","body":"@anuraaga in case interested.. yeah the sequence id dance happens if that's what you are referring to. In the sender we only have one thread that does anything so we use a simple counter https://github.com/apache/incubator-zipkin-reporter-java/blob/master/libthrift/src/main/java/zipkin2/reporter/libthrift/ScribeClient.java#L49","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490460240/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490476992","html_url":"https://github.com/openzipkin/zipkin/pull/2571#issuecomment-490476992","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2571","id":490476992,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDQ3Njk5Mg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-08T13:03:06Z","updated_at":"2019-05-08T13:03:06Z","author_association":"MEMBER","body":"this test isn't good enough. our sender code had a problem in it (not sure if finagle's has a similar problem or not) https://github.com/apache/incubator-zipkin-reporter-java/pull/143","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490476992/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490487975","html_url":"https://github.com/openzipkin/zipkin/pull/2563#issuecomment-490487975","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2563","id":490487975,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDQ4Nzk3NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-08T13:35:37Z","updated_at":"2019-05-08T13:35:37Z","author_association":"MEMBER","body":"PS because my test itself had a bug this PR is no longer at risk of me rebasing :P","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490487975/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490491129","html_url":"https://github.com/openzipkin/zipkin/pull/2563#issuecomment-490491129","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2563","id":490491129,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDQ5MTEyOQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-08T13:44:37Z","updated_at":"2019-05-08T13:44:37Z","author_association":"MEMBER","body":"ps whenever this is ready for next look, I will test again using finagle, except using our libthrift impl [1] instead of finagle's native one. This will reduce the amount of variables around socket resets.\r\n\r\n[1] ours, but with this socket reset fix https://github.com/apache/incubator-zipkin-reporter-java/pull/143","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490491129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490499161","html_url":"https://github.com/openzipkin/zipkin/issues/2369#issuecomment-490499161","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2369","id":490499161,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDQ5OTE2MQ==","user":{"login":"shakuzen","id":8924140,"node_id":"MDQ6VXNlcjg5MjQxNDA=","avatar_url":"https://avatars.githubusercontent.com/u/8924140?v=4","gravatar_id":"","url":"https://api.github.com/users/shakuzen","html_url":"https://github.com/shakuzen","followers_url":"https://api.github.com/users/shakuzen/followers","following_url":"https://api.github.com/users/shakuzen/following{/other_user}","gists_url":"https://api.github.com/users/shakuzen/gists{/gist_id}","starred_url":"https://api.github.com/users/shakuzen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shakuzen/subscriptions","organizations_url":"https://api.github.com/users/shakuzen/orgs","repos_url":"https://api.github.com/users/shakuzen/repos","events_url":"https://api.github.com/users/shakuzen/events{/privacy}","received_events_url":"https://api.github.com/users/shakuzen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-08T14:05:09Z","updated_at":"2019-05-08T14:05:09Z","author_association":"MEMBER","body":"> In our company also requirement is for monthly or weekly zipkin index. It would be great if you add this support.\r\n\r\n@singhabhinav03 could you elaborate on what you're trying to achieve that you cannot currently? The original request is to be able to have finer-grain indexes than daily because the data volume in one day is too large. Weekly or monthly indexes are only likely usable with relatively small amounts of tracing data.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490499161/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490699511","html_url":"https://github.com/openzipkin/zipkin/pull/2537#issuecomment-490699511","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2537","id":490699511,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDY5OTUxMQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-09T00:31:27Z","updated_at":"2019-05-09T00:31:27Z","author_association":"MEMBER","body":"any news on the stacking front (or lack of stacking front)?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490699511/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490736361","html_url":"https://github.com/openzipkin/zipkin/pull/2573#issuecomment-490736361","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2573","id":490736361,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDczNjM2MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-09T04:12:33Z","updated_at":"2019-05-09T04:12:33Z","author_association":"MEMBER","body":"I ran a 5m load test against before and after. As it is, this doesn't make a big difference, likely because by default under load senders will produce 3MiB or so json per message. This will still result in big arrays. OTOH, we now have a chance to optimize.\r\n\r\nthe left hand side is before and the right hand side is with this change. The test is brave-webmvc-example against zipkin+elasticsearch 6.7 for 5 minutes\r\n\r\n![Screen Shot 2019-05-09 at 12 08 03 PM](https://user-images.githubusercontent.com/64215/57426825-9dfd8380-7253-11e9-9587-ae4df18d9356.png)\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490736361/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490743514","html_url":"https://github.com/openzipkin/zipkin/pull/2529#issuecomment-490743514","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2529","id":490743514,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDc0MzUxNA==","user":{"login":"tacigar","id":19551419,"node_id":"MDQ6VXNlcjE5NTUxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/19551419?v=4","gravatar_id":"","url":"https://api.github.com/users/tacigar","html_url":"https://github.com/tacigar","followers_url":"https://api.github.com/users/tacigar/followers","following_url":"https://api.github.com/users/tacigar/following{/other_user}","gists_url":"https://api.github.com/users/tacigar/gists{/gist_id}","starred_url":"https://api.github.com/users/tacigar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tacigar/subscriptions","organizations_url":"https://api.github.com/users/tacigar/orgs","repos_url":"https://api.github.com/users/tacigar/repos","events_url":"https://api.github.com/users/tacigar/events{/privacy}","received_events_url":"https://api.github.com/users/tacigar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-09T04:57:16Z","updated_at":"2019-05-09T04:57:16Z","author_association":"MEMBER","body":"PTAL 🙇 ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490743514/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490744203","html_url":"https://github.com/openzipkin/zipkin/pull/2529#issuecomment-490744203","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2529","id":490744203,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDc0NDIwMw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-09T05:01:13Z","updated_at":"2019-05-09T05:01:13Z","author_association":"MEMBER","body":"are all the images still same?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490744203/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490746470","html_url":"https://github.com/openzipkin/zipkin/pull/2529#issuecomment-490746470","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2529","id":490746470,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDc0NjQ3MA==","user":{"login":"tacigar","id":19551419,"node_id":"MDQ6VXNlcjE5NTUxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/19551419?v=4","gravatar_id":"","url":"https://api.github.com/users/tacigar","html_url":"https://github.com/tacigar","followers_url":"https://api.github.com/users/tacigar/followers","following_url":"https://api.github.com/users/tacigar/following{/other_user}","gists_url":"https://api.github.com/users/tacigar/gists{/gist_id}","starred_url":"https://api.github.com/users/tacigar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tacigar/subscriptions","organizations_url":"https://api.github.com/users/tacigar/orgs","repos_url":"https://api.github.com/users/tacigar/repos","events_url":"https://api.github.com/users/tacigar/events{/privacy}","received_events_url":"https://api.github.com/users/tacigar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-09T05:14:08Z","updated_at":"2019-05-09T05:14:51Z","author_association":"MEMBER","body":"Yes\r\nI just added unit tests","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490746470/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490751349","html_url":"https://github.com/openzipkin/zipkin/pull/2573#issuecomment-490751349","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2573","id":490751349,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDc1MTM0OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-09T05:41:12Z","updated_at":"2019-05-09T05:41:12Z","author_association":"MEMBER","body":"the above load test result was before MD5 was added.. I'll run it again","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490751349/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490756025","html_url":"https://github.com/openzipkin/zipkin/pull/2573#issuecomment-490756025","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2573","id":490756025,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDc1NjAyNQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-09T06:04:29Z","updated_at":"2019-05-09T06:04:29Z","author_association":"MEMBER","body":"with hashing the load is up a bit from the base case (based on my not entirely scientific scenario). I will try to buy back some performance from elsewhere to pay for the hashing.\r\n\r\n<img width=\"981\" alt=\"Screen Shot 2019-05-09 at 2 02 56 PM\" src=\"https://user-images.githubusercontent.com/64215/57430765-449d5080-7263-11e9-874e-d84ed4527bf4.png\">\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490756025/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490759166","html_url":"https://github.com/openzipkin/zipkin/issues/451#issuecomment-490759166","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/451","id":490759166,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDc1OTE2Ng==","user":{"login":"shakuzen","id":8924140,"node_id":"MDQ6VXNlcjg5MjQxNDA=","avatar_url":"https://avatars.githubusercontent.com/u/8924140?v=4","gravatar_id":"","url":"https://api.github.com/users/shakuzen","html_url":"https://github.com/shakuzen","followers_url":"https://api.github.com/users/shakuzen/followers","following_url":"https://api.github.com/users/shakuzen/following{/other_user}","gists_url":"https://api.github.com/users/shakuzen/gists{/gist_id}","starred_url":"https://api.github.com/users/shakuzen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shakuzen/subscriptions","organizations_url":"https://api.github.com/users/shakuzen/orgs","repos_url":"https://api.github.com/users/shakuzen/repos","events_url":"https://api.github.com/users/shakuzen/events{/privacy}","received_events_url":"https://api.github.com/users/shakuzen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-09T06:18:32Z","updated_at":"2019-05-09T06:18:32Z","author_association":"MEMBER","body":"The server has long since been rewritten in Java so I believe this issue is now obsolete.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490759166/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490761229","html_url":"https://github.com/openzipkin/zipkin/issues/2540#issuecomment-490761229","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2540","id":490761229,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDc2MTIyOQ==","user":{"login":"shakuzen","id":8924140,"node_id":"MDQ6VXNlcjg5MjQxNDA=","avatar_url":"https://avatars.githubusercontent.com/u/8924140?v=4","gravatar_id":"","url":"https://api.github.com/users/shakuzen","html_url":"https://github.com/shakuzen","followers_url":"https://api.github.com/users/shakuzen/followers","following_url":"https://api.github.com/users/shakuzen/following{/other_user}","gists_url":"https://api.github.com/users/shakuzen/gists{/gist_id}","starred_url":"https://api.github.com/users/shakuzen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shakuzen/subscriptions","organizations_url":"https://api.github.com/users/shakuzen/orgs","repos_url":"https://api.github.com/users/shakuzen/repos","events_url":"https://api.github.com/users/shakuzen/events{/privacy}","received_events_url":"https://api.github.com/users/shakuzen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-09T06:27:36Z","updated_at":"2019-05-09T06:27:36Z","author_association":"MEMBER","body":"@nkorange thank you for reaching out. We have had several users ask about service discovery with Zipkin Server over the years (see #1870) and less ask about dynamic/external configuration. We don't currently support any service discovery as a first-class feature. There is a workaround to use Eureka mentioned in #1870. So unless a user is using that, or is building a custom Zipkin Server (which we don't officially support), there should be no service discovery.\r\n\r\nIf you want to come chat with us on Gitter (https://gitter.im/openzipkin/zipkin) about next steps, please do.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490761229/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490765427","html_url":"https://github.com/openzipkin/zipkin/pull/2572#issuecomment-490765427","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2572","id":490765427,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDc2NTQyNw==","user":{"login":"jorgheymans","id":193792,"node_id":"MDQ6VXNlcjE5Mzc5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/193792?v=4","gravatar_id":"","url":"https://api.github.com/users/jorgheymans","html_url":"https://github.com/jorgheymans","followers_url":"https://api.github.com/users/jorgheymans/followers","following_url":"https://api.github.com/users/jorgheymans/following{/other_user}","gists_url":"https://api.github.com/users/jorgheymans/gists{/gist_id}","starred_url":"https://api.github.com/users/jorgheymans/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jorgheymans/subscriptions","organizations_url":"https://api.github.com/users/jorgheymans/orgs","repos_url":"https://api.github.com/users/jorgheymans/repos","events_url":"https://api.github.com/users/jorgheymans/events{/privacy}","received_events_url":"https://api.github.com/users/jorgheymans/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-09T06:45:05Z","updated_at":"2019-05-09T06:45:05Z","author_association":"CONTRIBUTOR","body":"The query string is parsed into a map keyed with the annotation keys. So in\nfact the last one specified in the query wins, even though it can be the\nleast specific one. An easy fix would be to only overwrite keys in the map\nin case of a tag parameter and drop annotation parameters if a tag value is\npresent already. WDYT?\n\nOp do 9 mei 2019 02:20 schreef Adrian Cole <notifications@github.com>:\n\n> *@adriancole* commented on this pull request.\n> ------------------------------\n>\n> In zipkin/src/test/java/zipkin2/storage/QueryRequestTest.java\n> <https://github.com/apache/incubator-zipkin/pull/2572#discussion_r282301553>\n> :\n>\n> > +    // spaces in http.path mixed with 'and'\n> +    assertThat(queryBuilder.parseAnnotationQuery(\"fo and o and bar and http.path = /a \").annotationQuery)\n> +      .containsOnly(entry(\"fo\", \"\"), entry(\"o\", \"\"), entry(\"bar\", \"\"), entry(\"http.path\", \"/a\"));\n> +    // http.path in the beginning, more spaces\n> +    assertThat(queryBuilder.parseAnnotationQuery(\" http.path = /a   and fo and o   and bar\").annotationQuery)\n> +      .containsOnly(entry(\"fo\", \"\"), entry(\"o\", \"\"), entry(\"bar\", \"\"), entry(\"http.path\", \"/a\"));\n> +    // @adriancole said this would be hard to parse, annotation containing spaces\n> +    assertThat(queryBuilder.parseAnnotationQuery(\"L O L\").annotationQuery)\n> +      .containsOnly(entry(\"L O L\", \"\"));\n> +    // annotation with spaces combined with tag\n> +    assertThat(queryBuilder.parseAnnotationQuery(\"L O L and http.path = /a\").annotationQuery)\n> +      .containsOnly(entry(\"L O L\", \"\"), entry(\"http.path\", \"/a\"));\n> +    assertThat(queryBuilder.parseAnnotationQuery(\"bar =123 and L O L and http.path = /a and A B C\").annotationQuery)\n> +      .containsOnly(entry(\"L O L\", \"\"), entry(\"http.path\", \"/a\"), entry(\"bar\", \"123\"), entry(\"A B C\", \"\"));\n> +    // border case, L O L as a tag and annotation, seems that the annotation takes precedence\n> +    assertThat(queryBuilder.parseAnnotationQuery(\"L O L=123 and L O L and http.path = /a\").annotationQuery)\n>\n> the backend will do a redundant query. Technically, the most specific\n> would win based on the query rules.\n>\n> —\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/incubator-zipkin/pull/2572#discussion_r282301553>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AABPKAAYLLSPE43M7AYK2PLPUNU6TANCNFSM4HLTSUWQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490765427/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490766430","html_url":"https://github.com/openzipkin/zipkin/pull/2572#issuecomment-490766430","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2572","id":490766430,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDc2NjQzMA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-09T06:49:00Z","updated_at":"2019-05-09T06:49:00Z","author_association":"MEMBER","body":"sounds good\n\nOn Thu, May 9, 2019, 2:45 PM Jorg Heymans <notifications@github.com> wrote:\n\n> The query string is parsed into a map keyed with the annotation keys. So in\n> fact the last one specified in the query wins, even though it can be the\n> least specific one. An easy fix would be to only overwrite keys in the map\n> in case of a tag parameter and drop annotation parameters if a tag value is\n> present already. WDYT?\n>\n> Op do 9 mei 2019 02:20 schreef Adrian Cole <notifications@github.com>:\n>\n> > *@adriancole* commented on this pull request.\n> > ------------------------------\n> >\n> > In zipkin/src/test/java/zipkin2/storage/QueryRequestTest.java\n> > <\n> https://github.com/apache/incubator-zipkin/pull/2572#discussion_r282301553\n> >\n> > :\n> >\n> > > + // spaces in http.path mixed with 'and'\n> > + assertThat(queryBuilder.parseAnnotationQuery(\"fo and o and bar and\n> http.path = /a \").annotationQuery)\n> > + .containsOnly(entry(\"fo\", \"\"), entry(\"o\", \"\"), entry(\"bar\", \"\"),\n> entry(\"http.path\", \"/a\"));\n> > + // http.path in the beginning, more spaces\n> > + assertThat(queryBuilder.parseAnnotationQuery(\" http.path = /a and fo\n> and o and bar\").annotationQuery)\n> > + .containsOnly(entry(\"fo\", \"\"), entry(\"o\", \"\"), entry(\"bar\", \"\"),\n> entry(\"http.path\", \"/a\"));\n> > + // @adriancole said this would be hard to parse, annotation containing\n> spaces\n> > + assertThat(queryBuilder.parseAnnotationQuery(\"L O L\").annotationQuery)\n> > + .containsOnly(entry(\"L O L\", \"\"));\n> > + // annotation with spaces combined with tag\n> > + assertThat(queryBuilder.parseAnnotationQuery(\"L O L and http.path =\n> /a\").annotationQuery)\n> > + .containsOnly(entry(\"L O L\", \"\"), entry(\"http.path\", \"/a\"));\n> > + assertThat(queryBuilder.parseAnnotationQuery(\"bar =123 and L O L and\n> http.path = /a and A B C\").annotationQuery)\n> > + .containsOnly(entry(\"L O L\", \"\"), entry(\"http.path\", \"/a\"),\n> entry(\"bar\", \"123\"), entry(\"A B C\", \"\"));\n> > + // border case, L O L as a tag and annotation, seems that the\n> annotation takes precedence\n> > + assertThat(queryBuilder.parseAnnotationQuery(\"L O L=123 and L O L and\n> http.path = /a\").annotationQuery)\n> >\n> > the backend will do a redundant query. Technically, the most specific\n> > would win based on the query rules.\n> >\n> > —\n> > You are receiving this because you authored the thread.\n> > Reply to this email directly, view it on GitHub\n> > <\n> https://github.com/apache/incubator-zipkin/pull/2572#discussion_r282301553\n> >,\n> > or mute the thread\n> > <\n> https://github.com/notifications/unsubscribe-auth/AABPKAAYLLSPE43M7AYK2PLPUNU6TANCNFSM4HLTSUWQ\n> >\n> > .\n> >\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/incubator-zipkin/pull/2572#issuecomment-490765427>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAAPVV7D6XZIBMHBG2OVPNTPUPB7NANCNFSM4HLTSUWQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490766430/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490766879","html_url":"https://github.com/openzipkin/zipkin/pull/2529#issuecomment-490766879","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2529","id":490766879,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDc2Njg3OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-09T06:50:47Z","updated_at":"2019-05-09T06:50:47Z","author_association":"MEMBER","body":"thanks very much!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490766879/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490830711","html_url":"https://github.com/openzipkin/zipkin/pull/2563#issuecomment-490830711","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2563","id":490830711,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDgzMDcxMQ==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-09T09:31:03Z","updated_at":"2019-05-09T09:31:03Z","author_association":"CONTRIBUTOR","body":"Haven't gotten to try to repro locally yet but went ahead and added the code to guarantee response order.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490830711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490833886","html_url":"https://github.com/openzipkin/zipkin/pull/2572#issuecomment-490833886","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2572","id":490833886,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDgzMzg4Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-09T09:40:14Z","updated_at":"2019-05-09T09:40:14Z","author_association":"MEMBER","body":"will merge when you say you're done :) thanks!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490833886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490834243","html_url":"https://github.com/openzipkin/zipkin/pull/2572#issuecomment-490834243","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2572","id":490834243,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDgzNDI0Mw==","user":{"login":"jorgheymans","id":193792,"node_id":"MDQ6VXNlcjE5Mzc5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/193792?v=4","gravatar_id":"","url":"https://api.github.com/users/jorgheymans","html_url":"https://github.com/jorgheymans","followers_url":"https://api.github.com/users/jorgheymans/followers","following_url":"https://api.github.com/users/jorgheymans/following{/other_user}","gists_url":"https://api.github.com/users/jorgheymans/gists{/gist_id}","starred_url":"https://api.github.com/users/jorgheymans/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jorgheymans/subscriptions","organizations_url":"https://api.github.com/users/jorgheymans/orgs","repos_url":"https://api.github.com/users/jorgheymans/repos","events_url":"https://api.github.com/users/jorgheymans/events{/privacy}","received_events_url":"https://api.github.com/users/jorgheymans/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-09T09:41:22Z","updated_at":"2019-05-09T09:41:22Z","author_association":"CONTRIBUTOR","body":"good to go now, feel free to merge :)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490834243/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490834365","html_url":"https://github.com/openzipkin/zipkin/pull/2572#issuecomment-490834365","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2572","id":490834365,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDgzNDM2NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-09T09:41:43Z","updated_at":"2019-05-09T09:41:43Z","author_association":"MEMBER","body":"travis is upset ... lemme look","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490834365/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490841927","html_url":"https://github.com/openzipkin/zipkin/pull/2398#issuecomment-490841927","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2398","id":490841927,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDg0MTkyNw==","user":{"login":"pete-woods","id":152569,"node_id":"MDQ6VXNlcjE1MjU2OQ==","avatar_url":"https://avatars.githubusercontent.com/u/152569?v=4","gravatar_id":"","url":"https://api.github.com/users/pete-woods","html_url":"https://github.com/pete-woods","followers_url":"https://api.github.com/users/pete-woods/followers","following_url":"https://api.github.com/users/pete-woods/following{/other_user}","gists_url":"https://api.github.com/users/pete-woods/gists{/gist_id}","starred_url":"https://api.github.com/users/pete-woods/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pete-woods/subscriptions","organizations_url":"https://api.github.com/users/pete-woods/orgs","repos_url":"https://api.github.com/users/pete-woods/repos","events_url":"https://api.github.com/users/pete-woods/events{/privacy}","received_events_url":"https://api.github.com/users/pete-woods/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-09T10:05:29Z","updated_at":"2019-05-09T10:05:29Z","author_association":"NONE","body":"Thanks for fixing this so quickly, folks. Looking forward to `2.14`!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490841927/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490847217","html_url":"https://github.com/openzipkin/zipkin/pull/2563#issuecomment-490847217","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2563","id":490847217,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDg0NzIxNw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-09T10:22:47Z","updated_at":"2019-05-09T10:22:47Z","author_association":"MEMBER","body":"re-checking","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490847217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490936724","html_url":"https://github.com/openzipkin/zipkin/pull/2563#issuecomment-490936724","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2563","id":490936724,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDkzNjcyNA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-09T14:50:00Z","updated_at":"2019-05-09T14:50:00Z","author_association":"MEMBER","body":"over 1M messages with current code. no disconnects, which makes it better at this than the swift codebase","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490936724/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490936890","html_url":"https://github.com/openzipkin/zipkin/issues/1754#issuecomment-490936890","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1754","id":490936890,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDkzNjg5MA==","user":{"login":"devinsba","id":139938,"node_id":"MDQ6VXNlcjEzOTkzOA==","avatar_url":"https://avatars.githubusercontent.com/u/139938?v=4","gravatar_id":"","url":"https://api.github.com/users/devinsba","html_url":"https://github.com/devinsba","followers_url":"https://api.github.com/users/devinsba/followers","following_url":"https://api.github.com/users/devinsba/following{/other_user}","gists_url":"https://api.github.com/users/devinsba/gists{/gist_id}","starred_url":"https://api.github.com/users/devinsba/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devinsba/subscriptions","organizations_url":"https://api.github.com/users/devinsba/orgs","repos_url":"https://api.github.com/users/devinsba/repos","events_url":"https://api.github.com/users/devinsba/events{/privacy}","received_events_url":"https://api.github.com/users/devinsba/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-09T14:50:23Z","updated_at":"2019-05-09T14:50:23Z","author_association":"MEMBER","body":"Closing as I believe we have addressed this from zipkin-aws","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490936890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490939430","html_url":"https://github.com/openzipkin/zipkin/issues/1778#issuecomment-490939430","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1778","id":490939430,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDkzOTQzMA==","user":{"login":"devinsba","id":139938,"node_id":"MDQ6VXNlcjEzOTkzOA==","avatar_url":"https://avatars.githubusercontent.com/u/139938?v=4","gravatar_id":"","url":"https://api.github.com/users/devinsba","html_url":"https://github.com/devinsba","followers_url":"https://api.github.com/users/devinsba/followers","following_url":"https://api.github.com/users/devinsba/following{/other_user}","gists_url":"https://api.github.com/users/devinsba/gists{/gist_id}","starred_url":"https://api.github.com/users/devinsba/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devinsba/subscriptions","organizations_url":"https://api.github.com/users/devinsba/orgs","repos_url":"https://api.github.com/users/devinsba/repos","events_url":"https://api.github.com/users/devinsba/events{/privacy}","received_events_url":"https://api.github.com/users/devinsba/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-09T14:56:52Z","updated_at":"2019-05-09T14:56:52Z","author_association":"MEMBER","body":"I've been thinking about this one a lot, with the change to armeria we could get a pretty small server image with just the http collector and a passthrough storage shim. I'm wondering if there is an appetite here still. I know we don't particularly want to go down the route of reimplementing all of this in go due to duplicating work.\r\n\r\nThoughts?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490939430/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490945105","html_url":"https://github.com/openzipkin/zipkin/issues/1778#issuecomment-490945105","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1778","id":490945105,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDk0NTEwNQ==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-09T15:11:11Z","updated_at":"2019-05-09T15:11:11Z","author_association":"CONTRIBUTOR","body":"Do you think to use Graal to remove the JVM? I think even with armeria it would be a fairly heavyweight sidecar still unless using Graal. But then it'd be quite small (I have toyed with Graal and have failed in creating a server that supports TLS but a sidecar wouldn't need it).\r\n\r\nI wonder though if people can just use envoy as a zipkin sidecar though.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490945105/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490949408","html_url":"https://github.com/openzipkin/zipkin/issues/1778#issuecomment-490949408","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1778","id":490949408,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDk0OTQwOA==","user":{"login":"yurishkuro","id":3523016,"node_id":"MDQ6VXNlcjM1MjMwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/3523016?v=4","gravatar_id":"","url":"https://api.github.com/users/yurishkuro","html_url":"https://github.com/yurishkuro","followers_url":"https://api.github.com/users/yurishkuro/followers","following_url":"https://api.github.com/users/yurishkuro/following{/other_user}","gists_url":"https://api.github.com/users/yurishkuro/gists{/gist_id}","starred_url":"https://api.github.com/users/yurishkuro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurishkuro/subscriptions","organizations_url":"https://api.github.com/users/yurishkuro/orgs","repos_url":"https://api.github.com/users/yurishkuro/repos","events_url":"https://api.github.com/users/yurishkuro/events{/privacy}","received_events_url":"https://api.github.com/users/yurishkuro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-09T15:22:08Z","updated_at":"2019-05-09T15:22:08Z","author_association":"CONTRIBUTOR","body":"Have you folks considered OpenCensus agent?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490949408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490952559","html_url":"https://github.com/openzipkin/zipkin/issues/1778#issuecomment-490952559","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1778","id":490952559,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDk1MjU1OQ==","user":{"login":"jcchavezs","id":3075074,"node_id":"MDQ6VXNlcjMwNzUwNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/3075074?v=4","gravatar_id":"","url":"https://api.github.com/users/jcchavezs","html_url":"https://github.com/jcchavezs","followers_url":"https://api.github.com/users/jcchavezs/followers","following_url":"https://api.github.com/users/jcchavezs/following{/other_user}","gists_url":"https://api.github.com/users/jcchavezs/gists{/gist_id}","starred_url":"https://api.github.com/users/jcchavezs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jcchavezs/subscriptions","organizations_url":"https://api.github.com/users/jcchavezs/orgs","repos_url":"https://api.github.com/users/jcchavezs/repos","events_url":"https://api.github.com/users/jcchavezs/events{/privacy}","received_events_url":"https://api.github.com/users/jcchavezs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-09T15:30:04Z","updated_at":"2019-05-09T15:30:04Z","author_association":"CONTRIBUTOR","body":"I love this. I think it would be way easier for everyone to have this as\nsidecar if we deliver a binary.\n\nI started something related to this not so long ago\nhttps://github.com/jcchavezs/zipkin-agent but stopped it for a while. My\nidea was to cover the use case of PHP batching but there are many\npossibilities here.\n\nBefore start my own work on this I thought on using fluent and fluentbit\nbut configuration was a big issue.\n\nThat said, are you guys also up to write this in a non java?\n\ntor. 9. mai 2019, 17:11 skrev Anuraag Agrawal <notifications@github.com>:\n\n> Do you think to use Graal to remove the JVM? I think even with armeria it\n> would be a fairly heavyweight sidecar still unless using Graal. But then\n> it'd be quite small (I have toyed with Graal and have failed in creating a\n> server that supports TLS but a sidecar wouldn't need it).\n>\n> I wonder though if people can just use envoy as a zipkin sidecar though.\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/incubator-zipkin/issues/1778#issuecomment-490945105>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAXOYAWQ453CLCKN6JGEFQDPUQ5KHANCNFSM4ECKQCKQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490952559/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490992106","html_url":"https://github.com/openzipkin/zipkin/issues/1778#issuecomment-490992106","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1778","id":490992106,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDk5MjEwNg==","user":{"login":"devinsba","id":139938,"node_id":"MDQ6VXNlcjEzOTkzOA==","avatar_url":"https://avatars.githubusercontent.com/u/139938?v=4","gravatar_id":"","url":"https://api.github.com/users/devinsba","html_url":"https://github.com/devinsba","followers_url":"https://api.github.com/users/devinsba/followers","following_url":"https://api.github.com/users/devinsba/following{/other_user}","gists_url":"https://api.github.com/users/devinsba/gists{/gist_id}","starred_url":"https://api.github.com/users/devinsba/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devinsba/subscriptions","organizations_url":"https://api.github.com/users/devinsba/orgs","repos_url":"https://api.github.com/users/devinsba/repos","events_url":"https://api.github.com/users/devinsba/events{/privacy}","received_events_url":"https://api.github.com/users/devinsba/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-09T17:21:56Z","updated_at":"2019-05-09T17:21:56Z","author_association":"MEMBER","body":"So for me the answer for both \"maybe try OpenCensus agent\" and \"write it in something other than java\" are the same, if we do that we lose the ability to leverage the fairly extensive library of reporters that are already written in java. In my mind the power here would be in allowing the languages that do not support them to report spans over the ubiquitous http which would end up in kafka/kinesis/sqs/(whatever the future holds)\r\n\r\nIf we do feel that another language suits this better (smaller binary, faster startup, whatever) then we would want to write a compatibility test suite that could be run against both zipkin and the separate application to validate that both apps behave the same way for the same sets of input and follow the specifications of the API. Incidentally this would allow third-parties to also validate their implementations","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/490992106/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491036886","html_url":"https://github.com/openzipkin/zipkin/pull/2502#issuecomment-491036886","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2502","id":491036886,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTAzNjg4Ng==","user":{"login":"Logic-32","id":25107222,"node_id":"MDQ6VXNlcjI1MTA3MjIy","avatar_url":"https://avatars.githubusercontent.com/u/25107222?v=4","gravatar_id":"","url":"https://api.github.com/users/Logic-32","html_url":"https://github.com/Logic-32","followers_url":"https://api.github.com/users/Logic-32/followers","following_url":"https://api.github.com/users/Logic-32/following{/other_user}","gists_url":"https://api.github.com/users/Logic-32/gists{/gist_id}","starred_url":"https://api.github.com/users/Logic-32/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Logic-32/subscriptions","organizations_url":"https://api.github.com/users/Logic-32/orgs","repos_url":"https://api.github.com/users/Logic-32/repos","events_url":"https://api.github.com/users/Logic-32/events{/privacy}","received_events_url":"https://api.github.com/users/Logic-32/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-09T19:34:58Z","updated_at":"2019-05-09T19:34:58Z","author_association":"CONTRIBUTOR","body":"Thanks! If I can't get to the additional feedback tomorrow I'll get to it early next week.  Sorry for being sluggish but at least it gives people time to test :)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/491036886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]