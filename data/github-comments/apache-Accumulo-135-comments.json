[{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2118812103","html_url":"https://github.com/apache/accumulo/pull/4555#issuecomment-2118812103","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4555","id":2118812103,"node_id":"IC_kwDOACaFSM5-SoHH","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-18T12:41:32Z","updated_at":"2024-05-18T12:41:32Z","author_association":"CONTRIBUTOR","body":"I just checked the CI build and noticed that this commit is causing a new test failure in `MetricsIT` in the `confirmMetricsPublished` test so something probably needs tweaking:\r\n\r\n```\r\norg.opentest4j.AssertionFailedError: Found accumulo metric not in expectedMetricNames or flakyMetricNames: accumulo.tserver.compactions.majc.paused\r\n\tat org.junit.jupiter.api.AssertionUtils.fail(AssertionUtils.java:38)\r\n\tat org.junit.jupiter.api.Assertions.fail(Assertions.java:138)\r\n\tat org.apache.accumulo.test.metrics.MetricsIT.lambda$confirmMetricsPublished$1(MetricsIT.java:133)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\r\n\tat org.apache.accumulo.test.metrics.MetricsIT.confirmMetricsPublished(MetricsIT.java:124)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:840)\r\n```\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2118812103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2118812627","html_url":"https://github.com/apache/accumulo/pull/4555#issuecomment-2118812627","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4555","id":2118812627,"node_id":"IC_kwDOACaFSM5-SoPT","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-18T12:43:25Z","updated_at":"2024-05-18T12:43:25Z","author_association":"CONTRIBUTOR","body":"Looks like @EdColeman recently updated/added that test so he might have some insight into it if not sure.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2118812627/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2118885674","html_url":"https://github.com/apache/accumulo/pull/4563#issuecomment-2118885674","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4563","id":2118885674,"node_id":"IC_kwDOACaFSM5-S6Eq","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-18T17:18:54Z","updated_at":"2024-05-18T17:18:54Z","author_association":"CONTRIBUTOR","body":"Ran a full build and it passed w/ these changes.   This test squeaked by at 600.4s and the test timeout is 10 mins so it was close.  When some other PRs are merged it should further reduce the time.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2118885674/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2118886116","html_url":"https://github.com/apache/accumulo/pull/4568#issuecomment-2118886116","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4568","id":2118886116,"node_id":"IC_kwDOACaFSM5-S6Lk","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-18T17:20:12Z","updated_at":"2024-05-18T17:20:12Z","author_association":"CONTRIBUTOR","body":"Ran a full build with these changes and it was ok, some test failed but those were already failing before this change.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2118886116/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2118897010","html_url":"https://github.com/apache/accumulo/pull/4574#issuecomment-2118897010","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4574","id":2118897010,"node_id":"IC_kwDOACaFSM5-S81y","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-18T17:39:27Z","updated_at":"2024-05-18T17:39:27Z","author_association":"CONTRIBUTOR","body":"> @keith-turner - What do you think about moving part of these changes to main?\r\n\r\nLooked into the usage in each branch.  The following is for main.\r\n\r\n```\r\n$ find . -name \"*.java\" | xargs grep getKeyValues \r\n./server/base/src/main/java/org/apache/accumulo/server/util/MetadataTableUtil.java:      bw.addMutation(createCloneMutation(srcTableId, tableId, ti.next().getKeyValues()));\r\n./server/base/src/main/java/org/apache/accumulo/server/util/MetadataTableUtil.java:        for (Entry<Key,Value> entry : cloneTablet.getKeyValues().entrySet()) {\r\n./server/base/src/main/java/org/apache/accumulo/server/util/MetadataTableUtil.java:          bw.addMutation(createCloneMutation(srcTableId, tableId, st.getKeyValues()));\r\n./core/src/test/java/org/apache/accumulo/core/metadata/schema/TabletMetadataTest.java:    assertEquals(rowMap, tm.getKeyValues());\r\n./core/src/test/java/org/apache/accumulo/core/metadata/schema/TabletMetadataTest.java:    // Verify the various collections are immutable and non-null (except for getKeyValues) if\r\n./core/src/test/java/org/apache/accumulo/core/metadata/schema/TabletMetadataTest.java:    assertThrows(IllegalStateException.class, tm::getKeyValues);\r\n./core/src/test/java/org/apache/accumulo/core/metadata/schema/TabletMetadataTest.java:    assertEquals(1, tm2.getKeyValues().size());\r\n./core/src/test/java/org/apache/accumulo/core/metadata/schema/TabletMetadataTest.java:        () -> tm2.getKeyValues().put(new Key(), new Value()));\r\n./core/src/main/java/org/apache/accumulo/core/metadata/schema/TabletMetadata.java:  public SortedMap<Key,Value> getKeyValues() {\r\n```\r\n\r\nand the following if for elasticity ommitting a few false positives related to RootTableMetadata which has function w/. the same name\r\n\r\n```\r\n$ find . -name \"*.java\" | xargs grep getKeyValues\r\n./server/manager/src/main/java/org/apache/accumulo/manager/tableOps/merge/DeleteTablets.java:          tabletMeta.getKeyValues().keySet().forEach(key -> {\r\n./server/manager/src/main/java/org/apache/accumulo/manager/tableOps/merge/DeleteTablets.java:        tabletMutator.deleteAll(tabletMeta.getKeyValues().keySet());\r\n./server/manager/src/main/java/org/apache/accumulo/manager/upgrade/Upgrader11to12.java:      rtm.getKeyValues().filter(e -> UPGRADE_FAMILIES.contains(e.getKey().getColumnFamily()))\r\n./server/base/src/main/java/org/apache/accumulo/server/util/MetadataTableUtil.java:        bw.addMutation(createCloneMutation(srcTableId, tableId, ti.next().getKeyValues()));\r\n./server/base/src/main/java/org/apache/accumulo/server/util/MetadataTableUtil.java:          for (Entry<Key,Value> entry : cloneTablet.getKeyValues().entrySet()) {\r\n./server/base/src/main/java/org/apache/accumulo/server/util/MetadataTableUtil.java:            bw.addMutation(createCloneMutation(srcTableId, tableId, st.getKeyValues()));\r\n./server/base/src/test/java/org/apache/accumulo/server/SetEncodingIteratorTest.java:    SortedMap<Key,Value> sortedMapNoFiles = new TreeMap<>(tmNoFiles.getKeyValues());\r\n./server/base/src/test/java/org/apache/accumulo/server/SetEncodingIteratorTest.java:    SortedMap<Key,Value> sortedMapOneFile = new TreeMap<>(tmOneFile.getKeyValues());\r\n./server/base/src/test/java/org/apache/accumulo/server/SetEncodingIteratorTest.java:    SortedMap<Key,Value> sortedMap = new TreeMap<>(tmMultipleFiles.getKeyValues());\r\n./server/base/src/test/java/org/apache/accumulo/server/SetEncodingIteratorTest.java:    SortedMap<Key,Value> sortedMap2 = new TreeMap<>(tmMultipleFiles2.getKeyValues());\r\n./server/base/src/test/java/org/apache/accumulo/server/manager/state/TabletManagementTest.java:    assertEquals(entries, tmi.getTabletMetadata().getKeyValues());\r\n./server/base/src/test/java/org/apache/accumulo/server/manager/state/TabletManagementTest.java:    assertEquals(entries, tmi.getTabletMetadata().getKeyValues());\r\n./server/base/src/test/java/org/apache/accumulo/server/manager/state/TabletManagementTest.java:    assertEquals(entries, tmi.getTabletMetadata().getKeyValues());\r\n./test/src/main/java/org/apache/accumulo/test/functional/SplitIT.java:      var original = new TreeMap<>(tabletMetadata.getKeyValues());\r\n./test/src/main/java/org/apache/accumulo/test/functional/SplitIT.java:      var kvCopy = new TreeMap<>(tabletMetadata2.getKeyValues());\r\n./core/src/test/java/org/apache/accumulo/core/metadata/schema/TabletMetadataTest.java:    assertEquals(rowMap, tm.getKeyValues());\r\n./core/src/test/java/org/apache/accumulo/core/metadata/schema/TabletMetadataTest.java:    // Verify the various collections are immutable and non-null (except for getKeyValues) if\r\n./core/src/test/java/org/apache/accumulo/core/metadata/schema/TabletMetadataTest.java:    assertThrows(IllegalStateException.class, tm::getKeyValues);\r\n./core/src/test/java/org/apache/accumulo/core/metadata/schema/TabletMetadataTest.java:    assertEquals(1, tm2.getKeyValues().size());\r\n./core/src/test/java/org/apache/accumulo/core/metadata/schema/TabletMetadataTest.java:        () -> tm2.getKeyValues().put(new Key(), new Value()));\r\n./core/src/main/java/org/apache/accumulo/core/metadata/schema/TabletMetadata.java:  public SortedMap<Key,Value> getKeyValues() {\r\n\r\n```\r\n\r\nSeems like the only overlap outside of test is the clone table code, the merge code does not use it in main.  The function is used much less in main.  Since its used much less in main, would be easy to make the change in main.  When merging forward would need to make a lot of the changes in this PR in the merge commit so it would compile. I am fine w/ making the change in main, I am puzzling over what the path of least work is though and if there is some git magic I can leverage.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2118897010/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2118974726","html_url":"https://github.com/apache/accumulo/pull/4575#issuecomment-2118974726","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4575","id":2118974726,"node_id":"IC_kwDOACaFSM5-TP0G","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-18T19:03:45Z","updated_at":"2024-05-18T19:03:45Z","author_association":"CONTRIBUTOR","body":"This change should fix a few ITs that are currently failing.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2118974726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2118989047","html_url":"https://github.com/apache/accumulo/pull/4574#issuecomment-2118989047","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4574","id":2118989047,"node_id":"IC_kwDOACaFSM5-TTT3","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-18T19:55:32Z","updated_at":"2024-05-18T19:55:32Z","author_association":"CONTRIBUTOR","body":"If it ends up not being worth making the change in main that is fine too, I just figured I'd bring it up since I noticed it was in main too ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2118989047/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2120306559","html_url":"https://github.com/apache/accumulo/pull/4561#issuecomment-2120306559","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4561","id":2120306559,"node_id":"IC_kwDOACaFSM5-YU9_","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-20T11:53:19Z","updated_at":"2024-05-20T11:53:19Z","author_association":"CONTRIBUTOR","body":"Full IT build passed successfully","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2120306559/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2120454036","html_url":"https://github.com/apache/accumulo/pull/4555#issuecomment-2120454036","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4555","id":2120454036,"node_id":"IC_kwDOACaFSM5-Y4-U","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-20T13:22:38Z","updated_at":"2024-05-20T13:22:38Z","author_association":"CONTRIBUTOR","body":"Addressed in #4576 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2120454036/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2120563499","html_url":"https://github.com/apache/accumulo/issues/4528#issuecomment-2120563499","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4528","id":2120563499,"node_id":"IC_kwDOACaFSM5-ZTsr","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-20T14:21:25Z","updated_at":"2024-05-20T14:21:25Z","author_association":"CONTRIBUTOR","body":"> This only applies to elasticity, but would we also want to disallow eventual scans on the new [FATE](https://github.com/apache/accumulo/blob/b0f02ea6dec86297bd752aba73ee67ff11c06c16/core/src/main/java/org/apache/accumulo/core/metadata/AccumuloTable.java#L33) table that is now part of the accumulo namespace?\r\n\r\nI took care of this in elasticity","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2120563499/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2120632234","html_url":"https://github.com/apache/accumulo/pull/4541#issuecomment-2120632234","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4541","id":2120632234,"node_id":"IC_kwDOACaFSM5-Zkeq","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-20T14:57:09Z","updated_at":"2024-05-20T14:57:09Z","author_association":"MEMBER","body":"Closing as superseded by #4577 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2120632234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2120805808","html_url":"https://github.com/apache/accumulo/pull/4578#issuecomment-2120805808","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4578","id":2120805808,"node_id":"IC_kwDOACaFSM5-aO2w","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-20T16:36:57Z","updated_at":"2024-05-20T16:36:57Z","author_association":"CONTRIBUTOR","body":"This is what the logging looks like when enabled in log4j config.  The following is from running a test in CompactionIT\r\n\r\n```\r\n2024-05-20T12:35:03,531 [compact.CompactionDriver] TRACE: FATE[4aac76f381c47c33] tablets compacted:0/1 servers contacted:1 expected id:1 compaction extent:1<< sleepTime:500\r\n2024-05-20T12:35:04,218 [compact.CompactionDriver] TRACE: FATE[4aac76f381c47c33] tablets compacted:0/1 servers contacted:1 expected id:1 compaction extent:1<< sleepTime:500\r\n2024-05-20T12:35:04,766 [compact.CompactionDriver] TRACE: FATE[4aac76f381c47c33] tablets compacted:1/1 servers contacted:0 expected id:1 compaction extent:1<< sleepTime:0\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2120805808/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2121331080","html_url":"https://github.com/apache/accumulo/issues/4573#issuecomment-2121331080","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4573","id":2121331080,"node_id":"IC_kwDOACaFSM5-cPGI","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-20T22:37:00Z","updated_at":"2024-05-20T22:37:00Z","author_association":"MEMBER","body":"It looks like this might have been broken by #508 in an attempt to remove some special case handling of the CredentialProviderToken with dedicated client properties, and replace it with the generic handling with AuthenticationToken serialization. The problem with that is that the CredentialProviderToken extends PasswordToken, and was not intended to be serialized, but instead was taking advantage of the PasswordToken's methods for retrieving the secret after retrieval of the secret from the provider during the CredentialProviderToken construction. With serialization, it does store the password, because that's how PasswordToken serialization works.\r\n\r\nIn the spirit of preserving the intent of #508, to remove the special properties that handle CredentialProviderToken serialization in a special way, I think the best path forward is to fix the CredentialProviderToken to make it safe for serialization.\r\n\r\nThe other issue, about the init method being called inside the loop looks like an easy fix.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2121331080/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2121362382","html_url":"https://github.com/apache/accumulo/issues/4573#issuecomment-2121362382","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4573","id":2121362382,"node_id":"IC_kwDOACaFSM5-cWvO","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-20T23:06:09Z","updated_at":"2024-05-20T23:06:09Z","author_association":"MEMBER","body":"I created a PR to attempt to fix these issues in #4580 . Please take a look and see if it fixes the issues you're seeing. Note: the new serialization is incompatible with any earlier serialization for CredentialProviderToken (that's kind of the point, of course, since the problem is the current serialization, but still, I'm pointing it out to make it clear).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2121362382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2121389920","html_url":"https://github.com/apache/accumulo/issues/4571#issuecomment-2121389920","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4571","id":2121389920,"node_id":"IC_kwDOACaFSM5-cddg","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-20T23:27:39Z","updated_at":"2024-05-20T23:27:39Z","author_association":"CONTRIBUTOR","body":"Opened #4581.  Did not set the future directly in the PR.  Tried the approach of directly setting the future and ran into two problems.  First problem was that future can not be set if a tablet has write ahead logs.  Second problem was that TGW has a lot of cases it handles and would not to go down the path of duplicating a subset of this functionality.  So decided to make ondemand hosting work more directly w/ TGW in order to lower latency.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2121389920/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2121468480","html_url":"https://github.com/apache/accumulo/pull/4577#issuecomment-2121468480","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4577","id":2121468480,"node_id":"IC_kwDOACaFSM5-cwpA","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-21T00:14:05Z","updated_at":"2024-05-21T00:15:21Z","author_association":"CONTRIBUTOR","body":"@DomGarguilo sorry my writeup was awful for #4509.  For the write time was looking to track how long it takes to call ` getContext().getAmple().putScanServerFileReferences(refs);` [here](https://github.com/apache/accumulo/blob/dd61442925f9236fda1bc176394052c30547156f/server/tserver/src/main/java/org/apache/accumulo/tserver/ScanServer.java#L604). This is the time it takes to write out scan server refs to the metadata table.\r\n\r\nFor collisions, my terminology was really bad.  The event I wanted to track was the case where tablets files changed during the process of attempting to reserve files. That could be done by incrementing a metric immediately before returning null [here](https://github.com/apache/accumulo/blob/dd61442925f9236fda1bc176394052c30547156f/server/tserver/src/main/java/org/apache/accumulo/tserver/ScanServer.java#L638).  The [log message](https://github.com/apache/accumulo/blob/dd61442925f9236fda1bc176394052c30547156f/server/tserver/src/main/java/org/apache/accumulo/tserver/ScanServer.java#L635) a few lines up describes what is happening. Not sure colliosn is the best single word for the metric name that describes `tablet files changed while attempting to reference files`, but can not think of something more succinct.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2121468480/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2123009211","html_url":"https://github.com/apache/accumulo/pull/4581#issuecomment-2123009211","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4581","id":2123009211,"node_id":"IC_kwDOACaFSM5-ioy7","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-21T16:30:25Z","updated_at":"2024-05-21T16:30:25Z","author_association":"CONTRIBUTOR","body":"In SplitMillionIT this changes lowered the time to read 100 tablets after a clone operation from 20 -30 secs to 1-2 secs.  This is because the hosting operation is no longer impeded by the hosting operation.  There may still be further room for improvement, need to dig in and understand where the code is spending its time after making this improvement.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2123009211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2123164947","html_url":"https://github.com/apache/accumulo/pull/4572#issuecomment-2123164947","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4572","id":2123164947,"node_id":"IC_kwDOACaFSM5-jO0T","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-21T18:05:44Z","updated_at":"2024-05-21T18:11:18Z","author_association":"CONTRIBUTOR","body":"> https://github.com/apache/accumulo/issues/4553 says to add additional Compactor metrics, but I have to assume that we would want these for internal compactions too, right @ddanielr ?\r\n\r\nI experimented with pushing the metric data all into FileCompactor in 365e26146c42d56c4d2ab66d63d48cc12142b8fb in this [branch](https://github.com/keith-turner/accumulo/tree/addCompactorReadWriteEntriesMetrics).  Thinking that if the data collection is pushed there it can easily be used by tablet server and compactor.  One thing I am wondering now is if the metric name should be same for both processes.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2123164947/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2123342527","html_url":"https://github.com/apache/accumulo/pull/4572#issuecomment-2123342527","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4572","id":2123342527,"node_id":"IC_kwDOACaFSM5-j6K_","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-21T19:56:38Z","updated_at":"2024-05-21T19:56:38Z","author_association":"CONTRIBUTOR","body":"> One thing I am wondering now is if the metric name should be same for both processes.\r\n\r\nIMO, yes. The tags differentiate the process names, host names, etc. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2123342527/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2123388801","html_url":"https://github.com/apache/accumulo/pull/4577#issuecomment-2123388801","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4577","id":2123388801,"node_id":"IC_kwDOACaFSM5-kFeB","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-21T20:28:29Z","updated_at":"2024-05-21T20:28:29Z","author_association":"MEMBER","body":"@keith-turner, I reimplemented things based on your feedback. Was able to see these values when metrics were set to be logged:\r\n\r\n```\r\n\r\nMETRICS: 2024-05-21T16:23:46,854, accumulo.scan.reservation.total.timer{host=localhost,instance.name=uno,port=9996,process.name=sserver,resource.group=default} throughput=0.1/s mean=0.102909686s max=0.102909686s\r\nMETRICS: 2024-05-21T16:23:46,855, accumulo.scan.reservation.writeout.timer{host=localhost,instance.name=uno,port=9996,process.name=sserver,resource.group=default} throughput=0.1/s mean=0.025735159s max=0.025735159s\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2123388801/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2123469584","html_url":"https://github.com/apache/accumulo/pull/4581#issuecomment-2123469584","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4581","id":2123469584,"node_id":"IC_kwDOACaFSM5-kZMQ","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-21T21:26:32Z","updated_at":"2024-05-21T21:26:32Z","author_association":"CONTRIBUTOR","body":"> This looks good. I also noticed that manageTablets could be called from different threads. I tried to parallelize the calls to it from the EventCoordinator. But, it didn't provide any real speed increase.\r\n\r\nWorking through this made me wonder what will happen when like 1000 clients  processes all try to get some tablets hosted at around the same time.   Will it work through it quickly, slowly, or get jammed up.  Need to test this eventually.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2123469584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2123531148","html_url":"https://github.com/apache/accumulo/pull/4585#issuecomment-2123531148","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4585","id":2123531148,"node_id":"IC_kwDOACaFSM5-koOM","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-21T22:21:02Z","updated_at":"2024-05-21T22:21:02Z","author_association":"CONTRIBUTOR","body":"Logging looks like the following now for LRU block cache\r\n\r\n```\r\n2024-05-21T18:14:54,346 [lru.LruBlockCache] DEBUG: Cache Stats: DATA Sizes: Total=0.0042037964MB (4408), Free=9.995796MB (10481352), Max=10.0MB (10485760), Counts: Blocks=4, Access=44, Hit=39, Miss=5, Evictions=0, Evicted=0,Ratios: Hit Ratio=88.63636255264282%, Miss Ratio=11.363636702299118%, Evicted/Run=NaN, Duplicate Reads=0\r\n2024-05-21T18:14:54,357 [lru.LruBlockCache] DEBUG: Cache Stats: INDEX Sizes: Total=0.004058838MB (4256), Free=9.995941MB (10481504), Max=10.0MB (10485760), Counts: Blocks=4, Access=7, Hit=1, Miss=6, Evictions=0, Evicted=0,Ratios: Hit Ratio=14.28571492433548%, Miss Ratio=85.71428656578064%, Evicted/Run=NaN, Duplicate Reads=0\r\n2024-05-21T18:14:54,383 [lru.LruBlockCache] DEBUG: Cache Stats: SUMMARY Sizes: Total=0.0018310547MB (1920), Free=9.998169MB (10483840), Max=10.0MB (10485760), Counts: Blocks=0, Access=0, Hit=0, Miss=0, Evictions=0, Evicted=0,Ratios: Hit Ratio=NaN%, Miss Ratio=NaN%, Evicted/Run=NaN, Duplicate Reads=0\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2123531148/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2123575921","html_url":"https://github.com/apache/accumulo/pull/4580#issuecomment-2123575921","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4580","id":2123575921,"node_id":"IC_kwDOACaFSM5-kzJx","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-21T23:11:54Z","updated_at":"2024-05-21T23:11:54Z","author_association":"CONTRIBUTOR","body":"Could add a unit test to CredentialProviderTokenTest that ensures the serialized of form CredentialProviderToken does not contain a password.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2123575921/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2123601483","html_url":"https://github.com/apache/accumulo/pull/4567#issuecomment-2123601483","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4567","id":2123601483,"node_id":"IC_kwDOACaFSM5-k5ZL","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-21T23:44:09Z","updated_at":"2024-05-21T23:44:09Z","author_association":"CONTRIBUTOR","body":"The output changes in f5f92218bd organize services by resource group.  This slightly modifies the command and the json output.\r\n\r\n<details>\r\n  <summary>text output</summary>\r\n\r\n```\r\n> accumulo admin serviceStatus\r\n\r\nReport time: 2024-05-21T23:06:21.084Z\r\nZooKeeper read errors: 0\r\nManagers: count: 1\r\n  localhost:9999\r\nMonitors: count: 1\r\n  localhost:9995\r\nGarbage Collectors: count: 1\r\n  localhost:9998\r\nTablet Servers: count: 2\r\n  localhost:10000\r\n  localhost:9997\r\nScan Servers: count: 4\r\n  resource groups:\r\n    default\r\n    sg1\r\n  hosts (by group):\r\n    default (2):\r\n      localhost:10003\r\n      localhost:9996\r\n    sg1 (2):\r\n      localhost:10004\r\n      localhost:10005\r\nCoordinators: count: 1\r\n  localhost:9132\r\nCompactors: count: 4\r\n  resource groups:\r\n    q1\r\n    q2\r\n  hosts (by group):\r\n    q1 (2):\r\n      localhost:9133\r\n      localhost:9134\r\n    q2 (2):\r\n      localhost:9135\r\n      localhost:9136\r\n```\r\n\r\n</details>\r\n\r\n<details>\r\n   <summary>json output (formatted with jq)</summary>\r\n\r\n```\r\n> accumulo admin serviceStatus --json | jq\r\n\r\n{\r\n  \"reportTime\": \"2024-05-21T23:06:31.596Z\",\r\n  \"zkReadErrors\": 0,\r\n  \"noHosts\": false,\r\n  \"summaries\": {\r\n    \"COMPACTOR\": {\r\n      \"serviceType\": \"COMPACTOR\",\r\n      \"resourceGroups\": [\r\n        \"q1\",\r\n        \"q2\"\r\n      ],\r\n      \"serviceByGroups\": {\r\n        \"q1\": [\r\n          \"localhost:9133\",\r\n          \"localhost:9134\"\r\n        ],\r\n        \"q2\": [\r\n          \"localhost:9135\",\r\n          \"localhost:9136\"\r\n        ]\r\n      },\r\n      \"serviceCount\": 4,\r\n      \"errorCount\": 0\r\n    },\r\n    \"COORDINATOR\": {\r\n      \"serviceType\": \"COORDINATOR\",\r\n      \"resourceGroups\": [],\r\n      \"serviceByGroups\": {\r\n        \"NO_GROUP\": [\r\n          \"localhost:9132\"\r\n        ]\r\n      },\r\n      \"serviceCount\": 1,\r\n      \"errorCount\": 0\r\n    },\r\n    \"GC\": {\r\n      \"serviceType\": \"GC\",\r\n      \"resourceGroups\": [],\r\n      \"serviceByGroups\": {\r\n        \"NO_GROUP\": [\r\n          \"localhost:9998\"\r\n        ]\r\n      },\r\n      \"serviceCount\": 1,\r\n      \"errorCount\": 0\r\n    },\r\n    \"MANAGER\": {\r\n      \"serviceType\": \"MANAGER\",\r\n      \"resourceGroups\": [],\r\n      \"serviceByGroups\": {\r\n        \"NO_GROUP\": [\r\n          \"localhost:9999\"\r\n        ]\r\n      },\r\n      \"serviceCount\": 1,\r\n      \"errorCount\": 0\r\n    },\r\n    \"MONITOR\": {\r\n      \"serviceType\": \"MONITOR\",\r\n      \"resourceGroups\": [],\r\n      \"serviceByGroups\": {\r\n        \"NO_GROUP\": [\r\n          \"localhost:9995\"\r\n        ]\r\n      },\r\n      \"serviceCount\": 1,\r\n      \"errorCount\": 0\r\n    },\r\n    \"S_SERVER\": {\r\n      \"serviceType\": \"S_SERVER\",\r\n      \"resourceGroups\": [\r\n        \"default\",\r\n        \"sg1\"\r\n      ],\r\n      \"serviceByGroups\": {\r\n        \"default\": [\r\n          \"localhost:10003\",\r\n          \"localhost:9996\"\r\n        ],\r\n        \"sg1\": [\r\n          \"localhost:10004\",\r\n          \"localhost:10005\"\r\n        ]\r\n      },\r\n      \"serviceCount\": 4,\r\n      \"errorCount\": 0\r\n    },\r\n    \"T_SERVER\": {\r\n      \"serviceType\": \"T_SERVER\",\r\n      \"resourceGroups\": [],\r\n      \"serviceByGroups\": {\r\n        \"NO_GROUP\": [\r\n          \"localhost:10000\",\r\n          \"localhost:9997\"\r\n        ]\r\n      },\r\n      \"serviceCount\": 2,\r\n      \"errorCount\": 0\r\n    }\r\n  }\r\n}\r\n\r\n```\r\n</details>\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2123601483/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2124324712","html_url":"https://github.com/apache/accumulo/issues/4571#issuecomment-2124324712","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4571","id":2124324712,"node_id":"IC_kwDOACaFSM5-np9o","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-22T09:37:11Z","updated_at":"2024-05-22T09:37:11Z","author_association":"CONTRIBUTOR","body":"Closed by #4581?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2124324712/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2125553154","html_url":"https://github.com/apache/accumulo/pull/4572#issuecomment-2125553154","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4572","id":2125553154,"node_id":"IC_kwDOACaFSM5-sV4C","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-22T19:05:42Z","updated_at":"2024-05-22T19:05:42Z","author_association":"MEMBER","body":"> > One thing I am wondering now is if the metric name should be same for both processes.\r\n> \r\n> IMO, yes. The tags differentiate the process names, host names, etc.\r\n\r\nAre these just examples or do you think these tags should be applied here? @dlmarion ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2125553154/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2125817768","html_url":"https://github.com/apache/accumulo/pull/4572#issuecomment-2125817768","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4572","id":2125817768,"node_id":"IC_kwDOACaFSM5-tWeo","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-22T21:44:53Z","updated_at":"2024-05-22T21:44:53Z","author_association":"CONTRIBUTOR","body":"The process name and IP are set as common tags when the metrics are initialized and do not need to be added again.  \r\n\r\nCommon tags cannot be added once the metrics are initialized, but you could add custom tags when you create the meter if there is a need to differentiate a metric.  Adding a custom tag would be appropriate when it makes sense if multiple meters could be rolled up into and presented as a single metric.  \r\n\r\nSay something was like response.time and there were individual components that make up that value.  Using a tag like \"client.a\", \"client.b\" would let the overall response.time to be presented by the metrics collection / display - and still allow the ability to drill down to the component if needed.\r\n\r\nIf they do not make sense rolled up, then using a unique name for each meter would probably be better,","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2125817768/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2126965630","html_url":"https://github.com/apache/accumulo/pull/4593#issuecomment-2126965630","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4593","id":2126965630,"node_id":"IC_kwDOACaFSM5-xut-","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-23T12:17:45Z","updated_at":"2024-05-23T12:17:45Z","author_association":"CONTRIBUTOR","body":"Given that it's expected that this condition may occur when running multiple servers per host, then we might want to only lower the log level when the port search property is true. It looks like there is a clear path for passing a boolean down to this method to reflect whether the method is being called from some code that is, or is not, handling the port search case.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2126965630/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2126989447","html_url":"https://github.com/apache/accumulo/pull/4589#issuecomment-2126989447","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4589","id":2126989447,"node_id":"IC_kwDOACaFSM5-x0iH","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-23T12:30:20Z","updated_at":"2024-05-23T12:30:20Z","author_association":"CONTRIBUTOR","body":"@keith-turner  - does this replace #3852? Curious if the IT in #3852 should be added to this PR. Specifically the default case in the IT tests/confirms that FATE processes transactions in an interleaving manner.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2126989447/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2127049211","html_url":"https://github.com/apache/accumulo/pull/4580#issuecomment-2127049211","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4580","id":2127049211,"node_id":"IC_kwDOACaFSM5-yDH7","user":{"login":"gwynlionhart","id":92271840,"node_id":"U_kgDOBX_04A","avatar_url":"https://avatars.githubusercontent.com/u/92271840?v=4","gravatar_id":"","url":"https://api.github.com/users/gwynlionhart","html_url":"https://github.com/gwynlionhart","followers_url":"https://api.github.com/users/gwynlionhart/followers","following_url":"https://api.github.com/users/gwynlionhart/following{/other_user}","gists_url":"https://api.github.com/users/gwynlionhart/gists{/gist_id}","starred_url":"https://api.github.com/users/gwynlionhart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gwynlionhart/subscriptions","organizations_url":"https://api.github.com/users/gwynlionhart/orgs","repos_url":"https://api.github.com/users/gwynlionhart/repos","events_url":"https://api.github.com/users/gwynlionhart/events{/privacy}","received_events_url":"https://api.github.com/users/gwynlionhart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-23T13:00:44Z","updated_at":"2024-05-23T13:00:44Z","author_association":"NONE","body":"Thanks, I gave it a shot through tests and it looks fine. Regarding a test on whether the serialization contains a password, I wrote a small one:\r\n```   @Test\r\n  public void deserializesWithoutPassword() throws Exception {\r\n    CredentialProviderToken token = new CredentialProviderToken(\"bob.password\", keystorePath);\r\n    String serializedTokenString = new String(AuthenticationToken.AuthenticationTokenSerializer.serialize(token));\r\n    assertFalse(serializedTokenString.contains(new String(token.getPassword())));\r\n  }\r\n```\r\nYou'd have to make a jceks file where the password value doesn't contain any string from the JCEKS alias. My test fails for me because the passwords.jceks values all have the word \"password\" in the alias name with a password \"password\". But visually inspecting the serialized string and it no longer displays the password.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2127049211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2127051872","html_url":"https://github.com/apache/accumulo/issues/4573#issuecomment-2127051872","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4573","id":2127051872,"node_id":"IC_kwDOACaFSM5-yDxg","user":{"login":"gwynlionhart","id":92271840,"node_id":"U_kgDOBX_04A","avatar_url":"https://avatars.githubusercontent.com/u/92271840?v=4","gravatar_id":"","url":"https://api.github.com/users/gwynlionhart","html_url":"https://github.com/gwynlionhart","followers_url":"https://api.github.com/users/gwynlionhart/followers","following_url":"https://api.github.com/users/gwynlionhart/following{/other_user}","gists_url":"https://api.github.com/users/gwynlionhart/gists{/gist_id}","starred_url":"https://api.github.com/users/gwynlionhart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gwynlionhart/subscriptions","organizations_url":"https://api.github.com/users/gwynlionhart/orgs","repos_url":"https://api.github.com/users/gwynlionhart/repos","events_url":"https://api.github.com/users/gwynlionhart/events{/privacy}","received_events_url":"https://api.github.com/users/gwynlionhart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-23T13:01:59Z","updated_at":"2024-05-23T13:01:59Z","author_association":"NONE","body":"Checked out the PR and it looks good!","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2127051872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2127198232","html_url":"https://github.com/apache/accumulo/pull/4593#issuecomment-2127198232","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4593","id":2127198232,"node_id":"IC_kwDOACaFSM5-yngY","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-23T13:59:38Z","updated_at":"2024-05-23T13:59:38Z","author_association":"CONTRIBUTOR","body":"> Given that it's expected that this condition may occur when running multiple servers per host, then we might want to only lower the log level when the port search property is true. It looks like there is a clear path for passing a boolean down to this method to reflect whether the method is being called from some code that is, or is not, handling the port search case.\r\n\r\nThat's a good idea. I'll work on adding that to this PR.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2127198232/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2127259721","html_url":"https://github.com/apache/accumulo/pull/4596#issuecomment-2127259721","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4596","id":2127259721,"node_id":"IC_kwDOACaFSM5-y2hJ","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-23T14:24:41Z","updated_at":"2024-05-23T14:24:41Z","author_association":"CONTRIBUTOR","body":"I originally pointed this change at 2.1. but I'm not sure how we want to treat this since going back to 2.1.2 vs 2.1.3 would cause the manager to die on a malformed scan server ref.\r\n\r\nI'm open to suggestions on how to best proceed with this change.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2127259721/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2127262542","html_url":"https://github.com/apache/accumulo/pull/4510#issuecomment-2127262542","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4510","id":2127262542,"node_id":"IC_kwDOACaFSM5-y3NO","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-23T14:25:44Z","updated_at":"2024-05-23T14:25:44Z","author_association":"CONTRIBUTOR","body":"Closing this in favor of the UUID solution in #4596 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2127262542/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2127265056","html_url":"https://github.com/apache/accumulo/pull/4596#issuecomment-2127265056","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4596","id":2127265056,"node_id":"IC_kwDOACaFSM5-y30g","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-23T14:26:51Z","updated_at":"2024-05-23T14:26:51Z","author_association":"CONTRIBUTOR","body":"oldRef\r\n`~sservfile:/data/workspace/accumulo/test/target/mini-tests/`\r\nnewRef\r\n`~sserv01074c23-7c56-4cc0-8fc5-8b684c580e60`","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2127265056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2127507816","html_url":"https://github.com/apache/accumulo/pull/4596#issuecomment-2127507816","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4596","id":2127507816,"node_id":"IC_kwDOACaFSM5-zzFo","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-23T16:00:07Z","updated_at":"2024-05-23T16:01:01Z","author_association":"CONTRIBUTOR","body":"> I'm open to suggestions on how to best proceed with this change.\r\n\r\nWe could attempt the following :\r\n\r\n * Create a new prefix for the new data format, maybe `~scanr`\r\n * In 2.1.3 servers would start writing the new format under the new prefix\r\n * Push all of the logic for encoding/decoding to/from key/value into ScanServerRefTabletFile\r\n * Make ScanServerRefTabletFile internally track the prefix it was decoded from and it can use that to create mutations\r\n * When scanning to gather ScanServerRefTabletFile, scan both prefixes\r\n\r\nPushing all of the encode/decode into ScanServerRefTabletFile seens like a nice general improvement on its own because it would bring that logic all to a single place in the code.  Might look something like the following.  Then except for having to scan both prefixes, most of the code dealing w/ ScanServerRefTabletFile would hopefully be oblivious to how the data is represented.\r\n\r\n```java\r\npublic class ScanServerRefTabletFile extends TabletFile {\r\n  \r\n  private String prefix; // either old prefix of ~sserv or new one of ~scanr\r\n  private Text uuid;\r\n  private Text serverAddress;\r\n  \r\n  public ScanServerRefTabletFile(String file, String serverAddress, UUID serverLockUUID) {\r\n    super(new Path(URI.create(file)));\r\n    // for new data always use the new prefix\r\n    prefix = \"~scanr\";\r\n    uuid = new Text(serverLockUUID.toString());\r\n    this.serverAddress  = new Text(serverAddress);\r\n  }\r\n\r\n  private boolean isOldPrefix(Key k){\r\n    return k.getRow().toString().startsWith(\"~sserv\");\r\n  }\r\n  \r\n  private static String extractFile(Key k) {\r\n    // TODO extract file from key depending on prefix\r\n  }\r\n  \r\n  public ScanServerRefTabletFile(Key k, Value v) {\r\n    super(new Path(URI.create(extractFile(k))));\r\n    // TODO use prefix to determine how to extract uuid and serverAddress from key/value\r\n  }\r\n\r\n  public void put(Mutation m) {\r\n    // TODO use prefix determine how to put uuid, server, and file into the mutation\r\n  }\r\n\r\n  public void putDelete(Mutation m) {\r\n    // TODO use prefix determine how to put delete for uuid, server, and file into the mutation\r\n  }\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2127507816/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2127560868","html_url":"https://github.com/apache/accumulo/pull/4596#issuecomment-2127560868","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4596","id":2127560868,"node_id":"IC_kwDOACaFSM5-0ACk","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-23T16:19:19Z","updated_at":"2024-05-23T16:19:19Z","author_association":"CONTRIBUTOR","body":"> > I'm open to suggestions on how to best proceed with this change.\r\n> \r\n> We could attempt the following :\r\n> \r\n> * Create a new prefix for the new data format, maybe `~scanr`\r\n> * In 2.1.3 servers would start writing the new format under the new prefix\r\n> * Push all of the logic for encoding/decoding to/from key/value into ScanServerRefTabletFile\r\n> * Make ScanServerRefTabletFile internally track the prefix it was decoded from and it can use that to create mutations\r\n> * When scanning to gather ScanServerRefTabletFile, scan both prefixes\r\n> \r\n> Pushing all of the encode/decode into ScanServerRefTabletFile seens like a nice general improvement on its own because it would bring that logic all to a single place in the code. Might look something like the following. Then except for having to scan both prefixes, most of the code dealing w/ ScanServerRefTabletFile would hopefully be oblivious to how the data is represented.\r\n> \r\n> ```java\r\n> public class ScanServerRefTabletFile extends TabletFile {\r\n>   \r\n>   private String prefix; // either old prefix of ~sserv or new one of ~scanr\r\n>   private Text uuid;\r\n>   private Text serverAddress;\r\n>   \r\n>   public ScanServerRefTabletFile(String file, String serverAddress, UUID serverLockUUID) {\r\n>     super(new Path(URI.create(file)));\r\n>     // for new data always use the new prefix\r\n>     prefix = \"~scanr\";\r\n>     uuid = new Text(serverLockUUID.toString());\r\n>     this.serverAddress  = new Text(serverAddress);\r\n>   }\r\n> \r\n>   private boolean isOldPrefix(Key k){\r\n>     return k.getRow().toString().startsWith(\"~sserv\");\r\n>   }\r\n>   \r\n>   private static String extractFile(Key k) {\r\n>     // TODO extract file from key depending on prefix\r\n>   }\r\n>   \r\n>   public ScanServerRefTabletFile(Key k, Value v) {\r\n>     super(new Path(URI.create(extractFile(k))));\r\n>     // TODO use prefix to determine how to extract uuid and serverAddress from key/value\r\n>   }\r\n> \r\n>   public void put(Mutation m) {\r\n>     // TODO use prefix determine how to put uuid, server, and file into the mutation\r\n>   }\r\n> \r\n>   public void putDelete(Mutation m) {\r\n>     // TODO use prefix determine how to put delete for uuid, server, and file into the mutation\r\n>   }\r\n> }\r\n> ```\r\n\r\nThat makes a lot of sense and is much cleaner than dealing with the change in ample. \r\nThe existing code doesn't matter since the range is different and on the switch to 3.x we just remove the old range. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2127560868/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2127623693","html_url":"https://github.com/apache/accumulo/pull/4589#issuecomment-2127623693","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4589","id":2127623693,"node_id":"IC_kwDOACaFSM5-0PYN","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-23T16:47:44Z","updated_at":"2024-05-23T16:47:44Z","author_association":"CONTRIBUTOR","body":"> @keith-turner - does this replace https://github.com/apache/accumulo/pull/3852? Curious if the IT in https://github.com/apache/accumulo/pull/3852 should be added to this PR. Specifically the default case in the IT tests/confirms that FATE processes transactions in an interleaving manner.\r\n\r\nYeah I think it does.  It take the approach from #3852 of being able to continue running something that is ready in the thread that is working on it.  It adds some new code for prioritizing in progress stuff in the storage layer.  For the interleaving aspect, the isReady method currently offers a way to interleave when it returns a non-zero value.  I think I can pull that test over and adapt it a bit to use isReady instead of adding a new method.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2127623693/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2127800361","html_url":"https://github.com/apache/accumulo/pull/4572#issuecomment-2127800361","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4572","id":2127800361,"node_id":"IC_kwDOACaFSM5-06gp","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-23T18:34:04Z","updated_at":"2024-05-23T18:34:04Z","author_association":"MEMBER","body":"> I experimented with pushing the metric data all into FileCompactor in [365e261](https://github.com/apache/accumulo/commit/365e26146c42d56c4d2ab66d63d48cc12142b8fb) in this [branch](https://github.com/keith-turner/accumulo/tree/addCompactorReadWriteEntriesMetrics). Thinking that if the data collection is pushed there it can easily be used by tablet server and compactor. One thing I am wondering now is if the metric name should be same for both processes.\r\n\r\nI tried merging your branch into this one but I haven't been able to see these metrics. The new IT that I added was picking them up before but I am not seeing them at all now. Still looking into why that might be.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2127800361/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2127823541","html_url":"https://github.com/apache/accumulo/pull/4590#issuecomment-2127823541","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4590","id":2127823541,"node_id":"IC_kwDOACaFSM5-1AK1","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-23T18:49:59Z","updated_at":"2024-05-23T18:49:59Z","author_association":"MEMBER","body":"Would it be good to add a test for this?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2127823541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2127903186","html_url":"https://github.com/apache/accumulo/pull/4590#issuecomment-2127903186","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4590","id":2127903186,"node_id":"IC_kwDOACaFSM5-1TnS","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-23T19:45:29Z","updated_at":"2024-05-23T19:45:29Z","author_association":"CONTRIBUTOR","body":"> Would it be good to add a test for this?\r\n\r\nI used the existing test FateStoreIT.testListFateKeys() when working on this and thought it covered things pretty well.  ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2127903186/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2128180155","html_url":"https://github.com/apache/accumulo/pull/4574#issuecomment-2128180155","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4574","id":2128180155,"node_id":"IC_kwDOACaFSM5-2XO7","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-23T23:15:48Z","updated_at":"2024-05-23T23:15:48Z","author_association":"CONTRIBUTOR","body":"@cshannon opened #4600.  When that is merged, can merge it to elasticity and then into this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2128180155/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2128200138","html_url":"https://github.com/apache/accumulo/pull/4572#issuecomment-2128200138","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4572","id":2128200138,"node_id":"IC_kwDOACaFSM5-2cHK","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-23T23:35:37Z","updated_at":"2024-05-23T23:35:37Z","author_association":"CONTRIBUTOR","body":"> I tried merging your branch into this one but I haven't been able to see these metrics. The new IT that I added was picking them up before but I am not seeing them at all now. Still looking into why that might be.\r\n\r\n@DomGarguilo just saw this comment, missed it earlier when I reviewed. I can take at a look at this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2128200138/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2128244313","html_url":"https://github.com/apache/accumulo/issues/4599#issuecomment-2128244313","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4599","id":2128244313,"node_id":"IC_kwDOACaFSM5-2m5Z","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-23T23:58:13Z","updated_at":"2024-05-23T23:58:13Z","author_association":"CONTRIBUTOR","body":"One way to do this w/ the existing code is by subclassing an existing MeterRegistryFactory\r\n\r\n\r\n```java\r\npackage mypackage;\r\n\r\nimport io.micrometer.core.instrument.MeterRegistry;\r\nimport io.micrometer.core.instrument.config.MeterFilter;\r\nimport org.apache.accumulo.core.spi.metrics.LoggingMeterRegistryFactory;\r\n\r\npublic class FilteringLoggingMRFactory extends LoggingMeterRegistryFactory {\r\n    @Override\r\n    public MeterRegistry create(final InitParameters params) {\r\n       var meterRegistry = super.create(params);\r\n        MeterFilter myFilter = MeterFilter.denyNameStartsWith(\"accumulo.gc\");\r\n        meterRegistry.config().meterFilter(myFilter);\r\n        return meterRegistry;\r\n    }\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2128244313/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2129336830","html_url":"https://github.com/apache/accumulo/issues/4599#issuecomment-2129336830","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4599","id":2129336830,"node_id":"IC_kwDOACaFSM5-6xn-","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-24T11:49:25Z","updated_at":"2024-05-24T11:49:25Z","author_association":"CONTRIBUTOR","body":"So, that's a fair point. We don't necessarily have to implement something to provide some base functionality. A user can extend one of our existing implementations or create their own to provide this functionality.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2129336830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2129358394","html_url":"https://github.com/apache/accumulo/pull/3852#issuecomment-2129358394","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3852","id":2129358394,"node_id":"IC_kwDOACaFSM5-6246","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-24T12:00:16Z","updated_at":"2024-05-24T12:00:16Z","author_association":"CONTRIBUTOR","body":"Superceded by #4589 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2129358394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2129582096","html_url":"https://github.com/apache/accumulo/issues/4599#issuecomment-2129582096","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4599","id":2129582096,"node_id":"IC_kwDOACaFSM5-7tgQ","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-24T13:47:00Z","updated_at":"2024-05-24T13:47:00Z","author_association":"CONTRIBUTOR","body":"> We don't necessarily have to implement something to provide some base functionality. A user can extend one of our existing implementations or create their own to provide this functionality.\r\n\r\nWondering if it would be useful to provide some kind of help in the SPI for building micrometer filters related to Accumulo metrics. One possible way to do this would be to have constants related to metrics in the SPI.  This could enable writing a  MeterRegistryFactory that manipulates Accumulo metrics using those constants.   Could have something like the following.\r\n\r\n```java\r\npackage org.apache.accumulo.core.spi.metrics;\r\n\r\nclass MetricsConstants {\r\n\r\n   static class Tags {\r\n           String INSTANCE_TAG = \"instance.name\";\r\n  }\r\n\r\n  static class Meters {\r\n           String COMPACTIONS_QUEUED = \"...\";\r\n  }\r\n}\r\n\r\n```\r\n\r\nWith the above then could have  a scenario like the following.\r\n\r\n * Custom MeterRegistryFactory is written against 3.1 that drops the instance name tag.  Its impl uses the `INSTANCE_TAG` constant from the SPI.\r\n * Accumulo 4.0 makes a major changes to the instance name tag that user need to consider.  This change deletes  INSTANCE_TAG constant from the SPI.\r\n * The custom MeterRegistryFactory written against 3.1 no longer compiles against 4.0 forcing an investigation of the change.\r\n\r\nCompletely unrelated to metrics, but if this approach of putting metrics related constants in the SPI works then it could also potentially work for Accumulo's properties.  Could have constants related to those in the SPI maybe.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2129582096/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2129819681","html_url":"https://github.com/apache/accumulo/issues/4597#issuecomment-2129819681","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4597","id":2129819681,"node_id":"IC_kwDOACaFSM5-8ngh","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-24T15:27:53Z","updated_at":"2024-05-24T15:27:53Z","author_association":"CONTRIBUTOR","body":"I was unable to replicate this. I modified `accumulo-cluster` locally to emit debug output and so that it would always take the `ssh` path. I set the hosts in cluster.yaml to the public IP address of my dev box, but set my manager address to `localhost`. I saw the ssh command come across and compaction-coordinator logs appeared in the logs directory (Accumulo wouldn't start because I had ZK and Hadoop down). ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2129819681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2129945412","html_url":"https://github.com/apache/accumulo/issues/4594#issuecomment-2129945412","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4594","id":2129945412,"node_id":"IC_kwDOACaFSM5-9GNE","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-24T16:27:09Z","updated_at":"2024-05-24T16:27:09Z","author_association":"CONTRIBUTOR","body":"An IT already exists for this, see https://github.com/apache/accumulo/blob/2.1/test/src/main/java/org/apache/accumulo/test/ScanServerMetadataEntriesIT.java#L140","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2129945412/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2130056612","html_url":"https://github.com/apache/accumulo/pull/4574#issuecomment-2130056612","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4574","id":2130056612,"node_id":"IC_kwDOACaFSM5-9hWk","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-24T17:33:46Z","updated_at":"2024-05-24T17:33:46Z","author_association":"CONTRIBUTOR","body":"A lot of the changes that were in this PR are now in the commits 219d4f224e1d97d2bd7cd5dec5ec5968e89facef and ef213b520b2485f356cec7fd65f3ff4b66f43840","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2130056612/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2131238795","html_url":"https://github.com/apache/accumulo/pull/4371#issuecomment-2131238795","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4371","id":2131238795,"node_id":"IC_kwDOACaFSM5_CB-L","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-25T12:26:30Z","updated_at":"2024-05-25T12:26:30Z","author_association":"CONTRIBUTOR","body":"This change does not merge forward into elasticity because the code for dealing with Fate has drastically changed and trying to resolve conflicts doesn't really work as the code has diverged so much.\r\n\r\nI am thinking we may want to merge this forward as an empty commit to the elasticity branch using git merge -s and then create a follow on PR to apply these changes to elasticity.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2131238795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2135252661","html_url":"https://github.com/apache/accumulo/issues/4509#issuecomment-2135252661","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4509","id":2135252661,"node_id":"IC_kwDOACaFSM5_RV61","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-28T13:42:38Z","updated_at":"2024-05-28T13:42:38Z","author_association":"CONTRIBUTOR","body":"@DomGarguilo - can this be closed now that #4577 is merged?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2135252661/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2135268672","html_url":"https://github.com/apache/accumulo/issues/4509#issuecomment-2135268672","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4509","id":2135268672,"node_id":"IC_kwDOACaFSM5_RZ1A","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-28T13:49:48Z","updated_at":"2024-05-28T13:49:48Z","author_association":"MEMBER","body":"Closing as completed via #4577 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2135268672/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2135787085","html_url":"https://github.com/apache/accumulo/pull/4488#issuecomment-2135787085","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4488","id":2135787085,"node_id":"IC_kwDOACaFSM5_TYZN","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-28T17:38:19Z","updated_at":"2024-05-28T17:38:19Z","author_association":"CONTRIBUTOR","body":"These changes were merged as part of #4558 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2135787085/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2135842068","html_url":"https://github.com/apache/accumulo/issues/4344#issuecomment-2135842068","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4344","id":2135842068,"node_id":"IC_kwDOACaFSM5_Tl0U","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-28T18:09:27Z","updated_at":"2024-05-28T18:09:27Z","author_association":"CONTRIBUTOR","body":"Closed by #4418 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2135842068/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2135853487","html_url":"https://github.com/apache/accumulo/pull/4586#issuecomment-2135853487","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4586","id":2135853487,"node_id":"IC_kwDOACaFSM5_Tomv","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-28T18:16:50Z","updated_at":"2024-05-28T18:16:50Z","author_association":"CONTRIBUTOR","body":"@keith-turner  - you also have PR #4435 and from what I can tell, it's for the same issue. If so, can you close one of them?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2135853487/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2135868005","html_url":"https://github.com/apache/accumulo/issues/4587#issuecomment-2135868005","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4587","id":2135868005,"node_id":"IC_kwDOACaFSM5_TsJl","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-28T18:25:55Z","updated_at":"2024-05-28T18:27:30Z","author_association":"CONTRIBUTOR","body":"This is already started, in class `Upgrader12to13`, it's just that the upgrade is disabled in `AccumuloDataVersion`.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2135868005/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2135900901","html_url":"https://github.com/apache/accumulo/pull/4572#issuecomment-2135900901","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4572","id":2135900901,"node_id":"IC_kwDOACaFSM5_T0Ll","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-28T18:47:33Z","updated_at":"2024-05-28T18:47:33Z","author_association":"MEMBER","body":"> This looks good, need to figure out those `type` tags are needed.\r\n\r\nI ended up removing the tags. It seems like the other tags that are automatically added should be good enough to not need more tags but I can add them back if anyone thinks otherwise.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2135900901/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2135921286","html_url":"https://github.com/apache/accumulo/pull/4593#issuecomment-2135921286","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4593","id":2135921286,"node_id":"IC_kwDOACaFSM5_T5KG","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-28T19:01:22Z","updated_at":"2024-05-28T19:01:22Z","author_association":"CONTRIBUTOR","body":"Added the logic to modify the message if port search was enabled.\r\nTested this with enabling and disabling the `tserver.port.search` property and running multiple tservers locally. \r\n\r\n`tserver.port.search=true`\r\n```\r\n[rpc.TServerUtils] DEBUG: Failed attempting to create server at localhost:10000. Could not create ServerSocket on address localhost/127.0.0.1:10000.\r\n```\r\n\r\n`tserver.port.search=false`\r\n```\r\n[rpc.TServerUtils] WARN : Error attempting to create server at localhost:9997. Error: Could not create ServerSocket on address localhost/127.0.0.1:9997.\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2135921286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2135922282","html_url":"https://github.com/apache/accumulo/pull/4608#issuecomment-2135922282","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4608","id":2135922282,"node_id":"IC_kwDOACaFSM5_T5Zq","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-28T19:01:59Z","updated_at":"2024-05-28T19:01:59Z","author_association":"CONTRIBUTOR","body":"I merged -sours main into elasticity for a single commit in 6a3b97ca1581ae26ea3119e009e8cd03d29fc123 to ignore the changes from main for this.\r\n\r\nRan the following command to grab just f2005ca0114eb85c9ebc3d66a9872c19547847db since its parent was already merged to elasticity.\r\n\r\n```\r\ngit merge -sours f2005ca0114eb85c9ebc3d66a9872c19547847db\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2135922282/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2135994058","html_url":"https://github.com/apache/accumulo/pull/4572#issuecomment-2135994058","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4572","id":2135994058,"node_id":"IC_kwDOACaFSM5_UK7K","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-28T19:49:27Z","updated_at":"2024-05-28T19:49:27Z","author_association":"MEMBER","body":"\r\n\r\n\r\n> > I tried merging your branch into this one but I haven't been able to see these metrics. The new IT that I added was picking them up before but I am not seeing them at all now. Still looking into why that might be.\r\n> \r\n> @DomGarguilo just saw this comment, missed it earlier when I reviewed. I can take at a look at this.\r\n\r\nIn dfec4a1 I made wrapper methods in `Compactor` for `FileCompactor.getTotalEntriesWritten()` and `FileCompactor.getTotalEntriesRead()` so that when setting up the `FunctionCounter`, we can use `this` instead of `null` as the object that is used. This seemed to fix the issue I was seeing where I couldnt see the metrics. Not sure if using `null` as the object caused the issue but thats my best guess currently. The tests passes now.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2135994058/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2135996686","html_url":"https://github.com/apache/accumulo/issues/4612#issuecomment-2135996686","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4612","id":2135996686,"node_id":"IC_kwDOACaFSM5_ULkO","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-28T19:50:56Z","updated_at":"2024-05-28T19:50:56Z","author_association":"CONTRIBUTOR","body":"On it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2135996686/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2136022192","html_url":"https://github.com/apache/accumulo/issues/4612#issuecomment-2136022192","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4612","id":2136022192,"node_id":"IC_kwDOACaFSM5_URyw","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-28T20:08:25Z","updated_at":"2024-05-28T20:08:25Z","author_association":"CONTRIBUTOR","body":"This requires 814ac68a67 to be merged first which should be most of the changes becuase of ServiceLock usage changes.  After that is merged, the removal of the coordinator should just be some deletes - the methods that collects the info `getCoordinatorStatus`, places where it is called and removal of the test case.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2136022192/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2136088991","html_url":"https://github.com/apache/accumulo/issues/4594#issuecomment-2136088991","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4594","id":2136088991,"node_id":"IC_kwDOACaFSM5_UiGf","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-28T20:55:10Z","updated_at":"2024-05-28T20:55:10Z","author_association":"CONTRIBUTOR","body":"> An IT already exists for this, see https://github.com/apache/accumulo/blob/2.1/test/src/main/java/org/apache/accumulo/test/ScanServerMetadataEntriesIT.java#L140\r\n\r\nThat IT only tests the scan server ref expiration removal. \r\nLooking at the IT config, the scan refs expire after 5 seconds\r\nhttps://github.com/apache/accumulo/blob/04f5aaf7c27695b6d4ac0383bf79ef74ed3e54a8/test/src/main/java/org/apache/accumulo/test/ScanServerMetadataEntriesIT.java#L82 \r\n\r\nIf that test is modified to shutdown the scan server vs wait for the refs to expire then it runs for almost 10min until the manager cleans up the scan server refs.\r\n\r\n```\r\n      // Trigger Shutdown of scan server.\r\n      getCluster().getClusterControl().stop(ServerType.SCAN_SERVER);\r\n\r\n      // close happens asynchronously. Let the test fail by timeout\r\n      while (ctx.getAmple().getScanServerFileReferences().findAny().isPresent()) {\r\n        log.info(\"Scan Server Refs are still present\");\r\n        log.info(\"Refs: {}\", ctx.getAmple().getScanServerFileReferences().collect(Collectors.toList()));\r\n        Thread.sleep(1000);\r\n      }\r\n```\r\nThat can be verified by reducing the amount of time the manager waits before cleaning up references and the test will run  until the new specified interval.\r\n\r\nhttps://github.com/apache/accumulo/blob/04f5aaf7c27695b6d4ac0383bf79ef74ed3e54a8/server/manager/src/main/java/org/apache/accumulo/manager/Manager.java#L1253-L1254\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2136088991/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2137267592","html_url":"https://github.com/apache/accumulo/issues/4614#issuecomment-2137267592","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4614","id":2137267592,"node_id":"IC_kwDOACaFSM5_ZB2I","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-29T12:15:18Z","updated_at":"2024-05-29T12:15:18Z","author_association":"CONTRIBUTOR","body":"This test is also timing out in the 2.1 and 3.1 builds.  The cause of the timeout is at https://github.com/apache/accumulo/blob/2.1/test/src/main/java/org/apache/accumulo/test/FateSummaryIT.java#L235 when deleting the table. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2137267592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2137302936","html_url":"https://github.com/apache/accumulo/issues/4594#issuecomment-2137302936","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4594","id":2137302936,"node_id":"IC_kwDOACaFSM5_ZKeY","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-29T12:32:56Z","updated_at":"2024-05-29T12:32:56Z","author_association":"CONTRIBUTOR","body":"@ddanielr - you are correct, I misread the test. `getCluster().getClusterControl().stop(ServerType.SCAN_SERVER)` may not be stopping the ScanServer gracefully.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2137302936/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2137659979","html_url":"https://github.com/apache/accumulo/issues/4614#issuecomment-2137659979","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4614","id":2137659979,"node_id":"IC_kwDOACaFSM5_ahpL","user":{"login":"kevinrr888","id":43969518,"node_id":"MDQ6VXNlcjQzOTY5NTE4","avatar_url":"https://avatars.githubusercontent.com/u/43969518?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinrr888","html_url":"https://github.com/kevinrr888","followers_url":"https://api.github.com/users/kevinrr888/followers","following_url":"https://api.github.com/users/kevinrr888/following{/other_user}","gists_url":"https://api.github.com/users/kevinrr888/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinrr888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinrr888/subscriptions","organizations_url":"https://api.github.com/users/kevinrr888/orgs","repos_url":"https://api.github.com/users/kevinrr888/repos","events_url":"https://api.github.com/users/kevinrr888/events{/privacy}","received_events_url":"https://api.github.com/users/kevinrr888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-29T15:12:19Z","updated_at":"2024-05-29T15:12:19Z","author_association":"MEMBER","body":"I can rewrite this for elasticity and look into the timeout for 2.1/3.1","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2137659979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2137789906","html_url":"https://github.com/apache/accumulo/pull/4586#issuecomment-2137789906","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4586","id":2137789906,"node_id":"IC_kwDOACaFSM5_bBXS","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-29T16:12:56Z","updated_at":"2024-05-29T16:12:56Z","author_association":"CONTRIBUTOR","body":"> @keith-turner - you also have PR https://github.com/apache/accumulo/pull/4435 and from what I can tell, it's for the same issue. If so, can you close one of them?\r\n\r\nI had forgot about that one, was just trying to work down the TODOs in the elasticity branch.  Looking at the two PRs this one is better because it adds a test for an erroring planner plugin.  It also consolidates a duplicate code pattern. Will close the other one.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2137789906/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2137790797","html_url":"https://github.com/apache/accumulo/pull/4435#issuecomment-2137790797","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4435","id":2137790797,"node_id":"IC_kwDOACaFSM5_bBlN","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-29T16:13:22Z","updated_at":"2024-05-29T16:13:22Z","author_association":"CONTRIBUTOR","body":"Closing in favor of #4586","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2137790797/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2137816880","html_url":"https://github.com/apache/accumulo/pull/4551#issuecomment-2137816880","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4551","id":2137816880,"node_id":"IC_kwDOACaFSM5_bH8w","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-29T16:27:19Z","updated_at":"2024-05-29T16:27:19Z","author_association":"CONTRIBUTOR","body":"> Reminder to wire up to the Caches class in elasticity\r\n\r\nThis was done in merge commit 23ff6460c0e5479f4738219829ce2de6fd3a0951","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2137816880/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2137962896","html_url":"https://github.com/apache/accumulo/pull/4535#issuecomment-2137962896","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4535","id":2137962896,"node_id":"IC_kwDOACaFSM5_brmQ","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-29T17:53:15Z","updated_at":"2024-05-29T17:53:15Z","author_association":"CONTRIBUTOR","body":"Just started looking at this and my immediate thought is that this renames the threads using the metric name. Users that are looking at jstacks to find / debug issues will definitely be impacted.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2137962896/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2137975464","html_url":"https://github.com/apache/accumulo/pull/4535#issuecomment-2137975464","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4535","id":2137975464,"node_id":"IC_kwDOACaFSM5_buqo","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-29T18:00:46Z","updated_at":"2024-05-29T18:06:13Z","author_association":"CONTRIBUTOR","body":"> my immediate thought is that this renames the threads using the metric name\r\n\r\nMy thought was that would help tie things together.  If you were monitoring metrics and then decided to do a jstack to get more details then you'd have a common name to look for,\r\n\r\nThe other thing was that having consistent pool names makes it easier to recognize pools as well as make logs and other things besides metrics where the name might pop-up easier to grep .","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2137975464/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2138088081","html_url":"https://github.com/apache/accumulo/pull/4535#issuecomment-2138088081","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4535","id":2138088081,"node_id":"IC_kwDOACaFSM5_cKKR","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-29T19:10:03Z","updated_at":"2024-05-29T19:10:03Z","author_association":"CONTRIBUTOR","body":"58cba6563c modifies the pool builder so that if the pool name does not start with `METRICS_POOL_PREFIX` (accumulo.pool.) it will be added to the name.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2138088081/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2138153174","html_url":"https://github.com/apache/accumulo/issues/4609#issuecomment-2138153174","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4609","id":2138153174,"node_id":"IC_kwDOACaFSM5_caDW","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-29T19:50:44Z","updated_at":"2024-05-29T19:50:44Z","author_association":"CONTRIBUTOR","body":"@kevinrr888  - are you referencing the Runnable created at https://github.com/apache/accumulo/blob/main/core/src/main/java/org/apache/accumulo/core/fate/Fate.java#L227 and https://github.com/apache/accumulo/blob/elasticity/core/src/main/java/org/apache/accumulo/core/fate/Fate.java#L330 that is scheduled to run 3 seconds later?\r\n\r\nLooking at this, I think that we should probably be calling `scheduleAtFixedRate` instead of `schedule`.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2138153174/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2138219654","html_url":"https://github.com/apache/accumulo/issues/4609#issuecomment-2138219654","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4609","id":2138219654,"node_id":"IC_kwDOACaFSM5_cqSG","user":{"login":"kevinrr888","id":43969518,"node_id":"MDQ6VXNlcjQzOTY5NTE4","avatar_url":"https://avatars.githubusercontent.com/u/43969518?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinrr888","html_url":"https://github.com/kevinrr888","followers_url":"https://api.github.com/users/kevinrr888/followers","following_url":"https://api.github.com/users/kevinrr888/following{/other_user}","gists_url":"https://api.github.com/users/kevinrr888/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinrr888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinrr888/subscriptions","organizations_url":"https://api.github.com/users/kevinrr888/orgs","repos_url":"https://api.github.com/users/kevinrr888/repos","events_url":"https://api.github.com/users/kevinrr888/events{/privacy}","received_events_url":"https://api.github.com/users/kevinrr888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-29T20:34:56Z","updated_at":"2024-05-29T20:34:56Z","author_association":"MEMBER","body":"Yes, and also https://github.com/apache/accumulo/blob/0e3ed1d31fc61a981f7d05928b4696e4d737d4de/core/src/main/java/org/apache/accumulo/core/fate/Fate.java#L356\r\nI'm not sure about `scheduleAtFixedRate` vs `schedule` (could very well be better here, I'm just not familiar).\r\nIt is scheduled to run 3 seconds later and starting the `workFinder` is done at the end of the constructor, so I don't think either of these are technically a problem. The issue came about from working on https://github.com/apache/accumulo/pull/4524 where I need to start a new thread in Fate. I can't do this from the constructor (e.g., similar to how `workFinder` is started) without a build failure complaining about starting a thread in the constructor:\r\n```\r\n[INFO] BugInstance size is 1\r\n[INFO] Error size is 0\r\n[INFO] Total bugs: 1\r\n[ERROR] Medium: new org.apache.accumulo.core.fate.Fate(Object, FateStore, Function, AccumuloConfiguration) invokes Thread.start() [org.apache.accumulo.core.fate.Fate] At Fate.java:[line 353] SC_START_IN_CTOR\r\n[INFO] \r\n```\r\nWhy this causes a build failure and not `workFinder.start()`, I'm not sure. Regardless, since I can't do it in the constructor, I call a method after creating the Fate to start the thread. To stay consistent, it would be better if all the threads were started in one method after the creation of Fate. It would also be safer, and I think would be more readable to create the Fate then call something like `startup()` (it's not obvious that the Fate constructor creates threads unless you look at the code)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2138219654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2139363429","html_url":"https://github.com/apache/accumulo/issues/4462#issuecomment-2139363429","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4462","id":2139363429,"node_id":"IC_kwDOACaFSM5_hBhl","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-30T11:36:39Z","updated_at":"2024-05-30T11:36:39Z","author_association":"CONTRIBUTOR","body":"Closed by the merge of #4556 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2139363429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2140005278","html_url":"https://github.com/apache/accumulo/pull/4535#issuecomment-2140005278","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4535","id":2140005278,"node_id":"IC_kwDOACaFSM5_jeOe","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-30T15:44:49Z","updated_at":"2024-05-30T15:44:49Z","author_association":"CONTRIBUTOR","body":"There are places in the code where the thread name is set with useful information. https://github.com/apache/accumulo/blob/2.1/core/src/main/java/org/apache/accumulo/core/clientImpl/TabletServerBatchReaderIterator.java#L390 is a good example. I didn't see anything in these changes that undo this type of thing, we want to make sure we keep this amplifying information.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2140005278/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2140160392","html_url":"https://github.com/apache/accumulo/pull/4535#issuecomment-2140160392","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4535","id":2140160392,"node_id":"IC_kwDOACaFSM5_kEGI","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-30T16:26:22Z","updated_at":"2024-05-30T16:26:22Z","author_association":"CONTRIBUTOR","body":"I don't think that a user is going to be able to take a metric name and find it in the code easily unless, or until they learn to, remove the `accumulo.pool.` prefix. It might be easier to find the related code if all of the thread pool names were constants. Then the user would find the constant when they look for a metric name, and then find where that constant is being used. Just thinking about traceability from a problem metric to the code where that metric is emitted.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2140160392/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2140188706","html_url":"https://github.com/apache/accumulo/pull/4619#issuecomment-2140188706","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4619","id":2140188706,"node_id":"IC_kwDOACaFSM5_kLAi","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-30T16:34:40Z","updated_at":"2024-05-30T16:34:40Z","author_association":"CONTRIBUTOR","body":"I don't know if this will fix it, as the delete is still there inside the loop, so it could still cause the test to timeout.\r\n\r\nAlso, looking at this code:\r\nhttps://github.com/apache/accumulo/blob/d6eb1df8ee3155dfbf1fe03548433d6a61566f8f/test/src/main/java/org/apache/accumulo/test/FateSummaryIT.java#L197-L211\r\n\r\nI think your assumption is off by a factor of 10. You are inserting 10 rows, but with 10 columns each, so your compaction will iterate over 100 key/value pairs.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2140188706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2140200854","html_url":"https://github.com/apache/accumulo/pull/4619#issuecomment-2140200854","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4619","id":2140200854,"node_id":"IC_kwDOACaFSM5_kN-W","user":{"login":"kevinrr888","id":43969518,"node_id":"MDQ6VXNlcjQzOTY5NTE4","avatar_url":"https://avatars.githubusercontent.com/u/43969518?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinrr888","html_url":"https://github.com/kevinrr888","followers_url":"https://api.github.com/users/kevinrr888/followers","following_url":"https://api.github.com/users/kevinrr888/following{/other_user}","gists_url":"https://api.github.com/users/kevinrr888/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinrr888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinrr888/subscriptions","organizations_url":"https://api.github.com/users/kevinrr888/orgs","repos_url":"https://api.github.com/users/kevinrr888/repos","events_url":"https://api.github.com/users/kevinrr888/events{/privacy}","received_events_url":"https://api.github.com/users/kevinrr888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-30T16:38:31Z","updated_at":"2024-05-30T16:38:31Z","author_association":"MEMBER","body":"Update: I've spoken with Ed, Dom, and Arbaaz about this. Ed has the same failure running locally: the timeout on https://github.com/apache/accumulo/blob/2.1/test/src/main/java/org/apache/accumulo/test/FateSummaryIT.java#L235\r\nDom, Arbaaz, and I have not been able to reproduce this locally (passes for us - the delete table takes about 10-13 seconds). Dom and I are thinking it is a hardware difference in machines (Dom, Arbaaz, and I have the same machines). Perhaps my table is too large making the delete take too long on machines with less resources. Working on new fix","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2140200854/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2140450541","html_url":"https://github.com/apache/accumulo/pull/4619#issuecomment-2140450541","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4619","id":2140450541,"node_id":"IC_kwDOACaFSM5_lK7t","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-30T17:48:24Z","updated_at":"2024-05-30T17:48:24Z","author_association":"CONTRIBUTOR","body":"It looks like the table delete time is proportional to the number of transactions.  Using 125 transactions the delete completed in 3 seconds.  With 250 it took 30 seconds.  So, either the delete is waiting on transactions to complete before it can get a lock - or if it is calling cancel, then that takes longer with more transactions.\r\n\r\nI tried a version that waited for 0 transactions before issuing the delete and it would need to wait for about the same time as the delete is taking.  \r\n\r\nAnother observation from that test, the admin command seems fairly heavy weight.  If I slept 500 ms between transaction count checks, the admin command would show up in top with cpu usage pegged.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2140450541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2140508546","html_url":"https://github.com/apache/accumulo/pull/4535#issuecomment-2140508546","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4535","id":2140508546,"node_id":"IC_kwDOACaFSM5_lZGC","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-30T18:06:15Z","updated_at":"2024-05-30T18:06:15Z","author_association":"CONTRIBUTOR","body":"Using a common name would help if looking at the published metric name and then looking at a jstack.  To find the code, they would likely need to find the name (without the prefix) to find the constant name and then find where the constant name is used.  The constant name will not show up directly in the metrics as reported, any logs or in a jstack.  ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2140508546/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2140678310","html_url":"https://github.com/apache/accumulo/pull/4535#issuecomment-2140678310","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4535","id":2140678310,"node_id":"IC_kwDOACaFSM5_mCim","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-30T18:53:09Z","updated_at":"2024-05-30T18:53:09Z","author_association":"CONTRIBUTOR","body":"> To find the code, they would likely need to find the name (without the prefix) to find the constant name and then find where the constant name is used. The constant name will not show up directly in the metrics as reported, any logs or in a jstack.\r\n\r\nI agree.  With this change, if a user is looking at the metric `accumulo.pool.batch.writer.send`, they can find the corresponding thread in the jstack with the same name, but to find the place in the code where it's being created and used they have to look for `batch.writer.send`. I'm suggesting that maybe we can make this easier by creating named constants and use them everywhere. We already have some of them in a file, but only those that are used for metrics. If we created an Enum for the thread pool names, and made it such that the ThreadPoolBuilder object only accepted an enum, then it would force all future thread pools to follow the same pattern.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2140678310/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2140845122","html_url":"https://github.com/apache/accumulo/pull/4619#issuecomment-2140845122","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4619","id":2140845122,"node_id":"IC_kwDOACaFSM5_mrRC","user":{"login":"kevinrr888","id":43969518,"node_id":"MDQ6VXNlcjQzOTY5NTE4","avatar_url":"https://avatars.githubusercontent.com/u/43969518?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinrr888","html_url":"https://github.com/kevinrr888","followers_url":"https://api.github.com/users/kevinrr888/followers","following_url":"https://api.github.com/users/kevinrr888/following{/other_user}","gists_url":"https://api.github.com/users/kevinrr888/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinrr888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinrr888/subscriptions","organizations_url":"https://api.github.com/users/kevinrr888/orgs","repos_url":"https://api.github.com/users/kevinrr888/repos","events_url":"https://api.github.com/users/kevinrr888/events{/privacy}","received_events_url":"https://api.github.com/users/kevinrr888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-30T20:51:14Z","updated_at":"2024-05-30T20:51:14Z","author_association":"MEMBER","body":"I decreased the number of txns from 500 to 250, for me, this decreased the time to delete the table from 10-15 seconds down to 2-3 seconds. Hoping this speedup is enough for Jenkins to run this test successfully. For Ed, 500 txns caused a timeout, and 250 did not, so hoping Jenkins is similar. Probably shouldn't go much lower than 250 txns since less may not give enough attempts at running the print cmd before all the transactions complete. I have only ever seen it run at most 2 iterations of the do-while loop and I have run it quite a bit, but it is possible for more iterations. I tried running the test with 100 txns, and this would occasionally give me a failure when that 2nd iteration occurred (they would all be completed by then). Honestly, 250 txns would probably fail if 3 or more attempts had to occur but I think this is rare enough where it is okay. For example, on a run where 250 txns are created: 184 were still in progress at the first print attempt (which did not see a txn complete mid print), then 77 were in progress at the second attempt which succeeded. If the second attempt didn't see a txn complete mid print, all of the txns would have probably completed and the test would have failed. Out of my last 10 runs, two iterations only occurred once so a third attempt is probably around a 1% chance. This is originally why I went with 500 transactions. I don't know if this chance of failure would be considered too flaky to have for a test.\r\n\r\nTLDR: Using 250 transactions instead of 500 has a higher chance of failure probably around a 1% chance. Is this too flaky for a test?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2140845122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2140871562","html_url":"https://github.com/apache/accumulo/issues/4485#issuecomment-2140871562","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4485","id":2140871562,"node_id":"IC_kwDOACaFSM5_mxuK","user":{"login":"dtspence","id":33552925,"node_id":"MDQ6VXNlcjMzNTUyOTI1","avatar_url":"https://avatars.githubusercontent.com/u/33552925?v=4","gravatar_id":"","url":"https://api.github.com/users/dtspence","html_url":"https://github.com/dtspence","followers_url":"https://api.github.com/users/dtspence/followers","following_url":"https://api.github.com/users/dtspence/following{/other_user}","gists_url":"https://api.github.com/users/dtspence/gists{/gist_id}","starred_url":"https://api.github.com/users/dtspence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dtspence/subscriptions","organizations_url":"https://api.github.com/users/dtspence/orgs","repos_url":"https://api.github.com/users/dtspence/repos","events_url":"https://api.github.com/users/dtspence/events{/privacy}","received_events_url":"https://api.github.com/users/dtspence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-30T21:10:51Z","updated_at":"2024-05-30T21:10:51Z","author_association":"CONTRIBUTOR","body":"We believe the compaction is not emitting a key/value to respond to the cancellation. We also observed that the issue appears to occur when a tablet splits (due to growth).\r\n\r\nIn all (or most) of the observed instances the following occurs:\r\n* T-server performs a sized-based split on a tablet into A and B.\r\n* T-server starts compaction for A.\r\n* Manager begins to migrate A and asks the t-server to close A.\r\n* T-server attempts to unload tablet and cancel the running compaction(s).\r\n* T-server eventually cancels compactions and tablet is unloaded.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2140871562/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2140883083","html_url":"https://github.com/apache/accumulo/pull/4619#issuecomment-2140883083","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4619","id":2140883083,"node_id":"IC_kwDOACaFSM5_m0iL","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-30T21:20:32Z","updated_at":"2024-05-30T21:20:32Z","author_association":"CONTRIBUTOR","body":"> TLDR: Using 250 transactions instead of 500 has a higher chance of failure probably around a 1% chance. Is this too flaky for a test?\r\n\r\nThat is probably fine.  The test are run up to 5 times on failure, so if its 1% chance of failure per run then its very unlikely it will fail 5 times in a row.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2140883083/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2140951460","html_url":"https://github.com/apache/accumulo/pull/4619#issuecomment-2140951460","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4619","id":2140951460,"node_id":"IC_kwDOACaFSM5_nFOk","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-30T22:27:20Z","updated_at":"2024-05-30T22:27:20Z","author_association":"CONTRIBUTOR","body":"Merged these changes to main and elasticity.  When merging to elasticity I confirmed this was the only outstanding commit and did `git merge -sours main` to create f2c8c833e1d1a024ac74ad09884ceb666a2a71d6 in the elasticity branch.  ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2140951460/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2141904009","html_url":"https://github.com/apache/accumulo/issues/4485#issuecomment-2141904009","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4485","id":2141904009,"node_id":"IC_kwDOACaFSM5_qtyJ","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-31T11:59:49Z","updated_at":"2024-05-31T11:59:49Z","author_association":"CONTRIBUTOR","body":"If we introduced a delay in starting compactions for newly split tablets, then that might help mitigate this issue. We would have to make the delay time configurable most likely as timing the balancer can't really be done.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2141904009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2142079641","html_url":"https://github.com/apache/accumulo/issues/4611#issuecomment-2142079641","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4611","id":2142079641,"node_id":"IC_kwDOACaFSM5_rYqZ","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-31T12:57:47Z","updated_at":"2024-05-31T12:57:47Z","author_association":"CONTRIBUTOR","body":"I will fix this and will add some tests to the [RFileTest](https://github.com/apache/accumulo/blob/76459c17b1c5713219dffe751c0f9c47b0d5412b/core/src/test/java/org/apache/accumulo/core/file/rfile/RFileTest.java) and [FencedRFileTest](https://github.com/apache/accumulo/blob/76459c17b1c5713219dffe751c0f9c47b0d5412b/core/src/test/java/org/apache/accumulo/core/file/rfile/FencedRFileTest.java)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2142079641/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2142150732","html_url":"https://github.com/apache/accumulo/pull/4619#issuecomment-2142150732","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4619","id":2142150732,"node_id":"IC_kwDOACaFSM5_rqBM","user":{"login":"kevinrr888","id":43969518,"node_id":"MDQ6VXNlcjQzOTY5NTE4","avatar_url":"https://avatars.githubusercontent.com/u/43969518?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinrr888","html_url":"https://github.com/kevinrr888","followers_url":"https://api.github.com/users/kevinrr888/followers","following_url":"https://api.github.com/users/kevinrr888/following{/other_user}","gists_url":"https://api.github.com/users/kevinrr888/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinrr888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinrr888/subscriptions","organizations_url":"https://api.github.com/users/kevinrr888/orgs","repos_url":"https://api.github.com/users/kevinrr888/repos","events_url":"https://api.github.com/users/kevinrr888/events{/privacy}","received_events_url":"https://api.github.com/users/kevinrr888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-31T13:18:55Z","updated_at":"2024-05-31T13:18:55Z","author_association":"MEMBER","body":"> > TLDR: Using 250 transactions instead of 500 has a higher chance of failure probably around a 1% chance. Is this too flaky for a test?\r\n> \r\n> That is probably fine. The test are run up to 5 times on failure, so if its 1% chance of failure per run then its very unlikely it will fail 5 times in a row.\r\n\r\nOh got it didn't know they were retried","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2142150732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2142153631","html_url":"https://github.com/apache/accumulo/issues/4485#issuecomment-2142153631","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4485","id":2142153631,"node_id":"IC_kwDOACaFSM5_rquf","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-31T13:20:33Z","updated_at":"2024-05-31T13:20:33Z","author_association":"CONTRIBUTOR","body":"> If we introduced a delay in starting compactions for newly split tablets, then that might help mitigate this issue. We would have to make the delay time configurable most likely as timing the balancer can't really be done.\r\n\r\nIn 2.1, `Tablet.split()` is the only caller of the `TabletData` constructor that sets `Tablet.splitCreationTime`. In a normal Tablet load scenario, `splitCreationTime` remains zero. We could use this variable to introduce a delay in starting compactions for newly split tablets considering there is a good chance that at least one of them will be migrated.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2142153631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2142210970","html_url":"https://github.com/apache/accumulo/issues/4485#issuecomment-2142210970","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4485","id":2142210970,"node_id":"IC_kwDOACaFSM5_r4ua","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-31T13:50:40Z","updated_at":"2024-05-31T13:50:40Z","author_association":"CONTRIBUTOR","body":"Delaying starting compactions after split could negatively impact scans. It may be hard to calibrate the delay to avoid scan and compaction cancel problems.\r\n\r\nWe could attempt to repeatedly interrupt the compaction thread.  Currently an atomic boolean is used instead of interrupting the thread because in the past some external code would eat interrupts.  The atomic boolean is only checked when a key values is returned.  I experimented with pushing the atomic boolean check lower in the iterator stack in the past and it had an impact on performance.\r\n\r\nThe code could do both approaches for cancellation, add new code to repeatedly interrupt the compaction thread and leave the existing code that sets the atomic boolean.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2142210970/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2142237450","html_url":"https://github.com/apache/accumulo/issues/4485#issuecomment-2142237450","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4485","id":2142237450,"node_id":"IC_kwDOACaFSM5_r_MK","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-31T13:57:21Z","updated_at":"2024-05-31T13:57:21Z","author_association":"CONTRIBUTOR","body":"> Delaying starting compactions after split could negatively impact scans. It may be hard to calibrate the delay to avoid scan and compaction cancel problems.\r\n\r\nIf we made it configurable at the table-level, then the user could make the decision as to whether or not to enable this, and how long the delay should be. We could also potentially ignore the timeout if the tablet is over the scan max files.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2142237450/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2142324359","html_url":"https://github.com/apache/accumulo/issues/4485#issuecomment-2142324359","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4485","id":2142324359,"node_id":"IC_kwDOACaFSM5_sUaH","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-31T14:18:47Z","updated_at":"2024-05-31T14:18:47Z","author_association":"CONTRIBUTOR","body":"> If we made it configurable at the table-level, then the user could make the decision as to whether or not to enable this, and how long the delay should be. We could also potentially ignore the timeout if the tablet is over the scan max files.\r\n\r\nThe code would need to emit enough information through logging to know if the property value needs adjustment.  The property could be dropped in elasticity as it would not longer be needed there.\r\n\r\nThe property only addresses one potential cause of stuck compactions causing problems.  There could be other cases where a stuck compaction is causing problems that was started by other means. This could be a user initiated compaction that is not returning data and preventing tablet unload or a tablet that did not recently split but is stuck in a system compaction that is preventing unload.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2142324359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2142429339","html_url":"https://github.com/apache/accumulo/pull/4622#issuecomment-2142429339","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4622","id":2142429339,"node_id":"IC_kwDOACaFSM5_suCb","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-31T14:47:29Z","updated_at":"2024-05-31T14:47:29Z","author_association":"MEMBER","body":"This is slightly outside of the scope of this PR but its close enough that I think it can be addressed here:\r\n\r\nWhen running the test case that I added to in this PR, `testProgressViaMetrics()`, I see different values for the number of entries read and written by the compactor. The entries read is either 9216 or 18432 (double 9216). The entries written is either 4096 or 13312 (3.5 times 4096). I am not sure where this discrepancy is coming from between runs but I am wondering what the best solution for this is. My current thinking is that we just check that these values are above zero in the test as opposed to any specific value.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2142429339/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2142732636","html_url":"https://github.com/apache/accumulo/issues/4570#issuecomment-2142732636","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4570","id":2142732636,"node_id":"IC_kwDOACaFSM5_t4Fc","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-31T17:57:18Z","updated_at":"2024-05-31T17:57:18Z","author_association":"MEMBER","body":"I can start looking into this","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2142732636/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2143562038","html_url":"https://github.com/apache/accumulo/pull/4626#issuecomment-2143562038","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4626","id":2143562038,"node_id":"IC_kwDOACaFSM5_xCk2","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-01T19:40:51Z","updated_at":"2024-06-01T19:40:51Z","author_association":"CONTRIBUTOR","body":"requireRowRange has been renamed to `requireKeyExtentData` range and the checks have been more narrowed. Everywhere we are using fencing (currently) the ranges are derived from KeyExtent so it makes sense to validate. The actual RFiles can still use ranges that are not KeyExtent data ranges but `StoredTabletFile` will verify the correct format and we require that format when computing estimated overlapping entries","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2143562038/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2143570603","html_url":"https://github.com/apache/accumulo/pull/4626#issuecomment-2143570603","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4626","id":2143570603,"node_id":"IC_kwDOACaFSM5_xEqr","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-01T20:11:12Z","updated_at":"2024-06-01T20:11:12Z","author_association":"CONTRIBUTOR","body":"The sunny ITs all passed for main and also when merging forward into elasticity. I will keep an eye on the full ITs and fix anything else that might have broken as there were some validation changed in this PR that could require some more test fixes.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2143570603/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2143897756","html_url":"https://github.com/apache/accumulo/pull/4626#issuecomment-2143897756","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4626","id":2143897756,"node_id":"IC_kwDOACaFSM5_yUic","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-02T15:20:32Z","updated_at":"2024-06-02T15:20:32Z","author_association":"CONTRIBUTOR","body":"> The sunny ITs all passed for main and also when merging forward into elasticity. I will keep an eye on the full ITs and fix anything else that might have broken as there were some validation changed in this PR that could require some more test fixes.\r\n\r\nThe full IT build had 7 test failures but all are quick fixes. Fixed in 73125e9","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2143897756/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2143939199","html_url":"https://github.com/apache/accumulo/issues/4529#issuecomment-2143939199","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4529","id":2143939199,"node_id":"IC_kwDOACaFSM5_yep_","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-02T16:48:55Z","updated_at":"2024-06-02T16:48:55Z","author_association":"CONTRIBUTOR","body":"Adding this back to elasticity and removing from 3.1.0 as this I think this not be targeting 3.1.0 since it adds a new table as mentioned in an earlier comment","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2143939199/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]