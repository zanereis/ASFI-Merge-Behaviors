[{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745375596","html_url":"https://github.com/apache/tvm/pull/7107#issuecomment-745375596","issue_url":"https://api.github.com/repos/apache/tvm/issues/7107","id":745375596,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTM3NTU5Ng==","user":{"login":"ANSHUMAN87","id":32511895,"node_id":"MDQ6VXNlcjMyNTExODk1","avatar_url":"https://avatars.githubusercontent.com/u/32511895?v=4","gravatar_id":"","url":"https://api.github.com/users/ANSHUMAN87","html_url":"https://github.com/ANSHUMAN87","followers_url":"https://api.github.com/users/ANSHUMAN87/followers","following_url":"https://api.github.com/users/ANSHUMAN87/following{/other_user}","gists_url":"https://api.github.com/users/ANSHUMAN87/gists{/gist_id}","starred_url":"https://api.github.com/users/ANSHUMAN87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ANSHUMAN87/subscriptions","organizations_url":"https://api.github.com/users/ANSHUMAN87/orgs","repos_url":"https://api.github.com/users/ANSHUMAN87/repos","events_url":"https://api.github.com/users/ANSHUMAN87/events{/privacy}","received_events_url":"https://api.github.com/users/ANSHUMAN87/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T15:43:06Z","updated_at":"2020-12-15T15:43:06Z","author_association":"CONTRIBUTOR","body":"Thanks @tkonolige , @giuseros ! \r\nI believe your comments are addressed now. Please have a look. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745375596/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745386626","html_url":"https://github.com/apache/tvm/pull/7111#issuecomment-745386626","issue_url":"https://api.github.com/repos/apache/tvm/issues/7111","id":745386626,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTM4NjYyNg==","user":{"login":"zhiics","id":5145158,"node_id":"MDQ6VXNlcjUxNDUxNTg=","avatar_url":"https://avatars.githubusercontent.com/u/5145158?v=4","gravatar_id":"","url":"https://api.github.com/users/zhiics","html_url":"https://github.com/zhiics","followers_url":"https://api.github.com/users/zhiics/followers","following_url":"https://api.github.com/users/zhiics/following{/other_user}","gists_url":"https://api.github.com/users/zhiics/gists{/gist_id}","starred_url":"https://api.github.com/users/zhiics/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhiics/subscriptions","organizations_url":"https://api.github.com/users/zhiics/orgs","repos_url":"https://api.github.com/users/zhiics/repos","events_url":"https://api.github.com/users/zhiics/events{/privacy}","received_events_url":"https://api.github.com/users/zhiics/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T15:59:59Z","updated_at":"2020-12-15T15:59:59Z","author_association":"MEMBER","body":"@insop One of the reasons why we didn't test var was because there was no dynamic support from the frontend","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745386626/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745387152","html_url":"https://github.com/apache/tvm/pull/7111#issuecomment-745387152","issue_url":"https://api.github.com/repos/apache/tvm/issues/7111","id":745387152,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTM4NzE1Mg==","user":{"login":"zhiics","id":5145158,"node_id":"MDQ6VXNlcjUxNDUxNTg=","avatar_url":"https://avatars.githubusercontent.com/u/5145158?v=4","gravatar_id":"","url":"https://api.github.com/users/zhiics","html_url":"https://github.com/zhiics","followers_url":"https://api.github.com/users/zhiics/followers","following_url":"https://api.github.com/users/zhiics/following{/other_user}","gists_url":"https://api.github.com/users/zhiics/gists{/gist_id}","starred_url":"https://api.github.com/users/zhiics/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhiics/subscriptions","organizations_url":"https://api.github.com/users/zhiics/orgs","repos_url":"https://api.github.com/users/zhiics/repos","events_url":"https://api.github.com/users/zhiics/events{/privacy}","received_events_url":"https://api.github.com/users/zhiics/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T16:00:46Z","updated_at":"2020-12-15T16:00:46Z","author_association":"MEMBER","body":"@tsupei can you add a unit test?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745387152/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745407100","html_url":"https://github.com/apache/tvm/pull/6959#issuecomment-745407100","issue_url":"https://api.github.com/repos/apache/tvm/issues/6959","id":745407100,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTQwNzEwMA==","user":{"login":"tkonolige","id":1501680,"node_id":"MDQ6VXNlcjE1MDE2ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1501680?v=4","gravatar_id":"","url":"https://api.github.com/users/tkonolige","html_url":"https://github.com/tkonolige","followers_url":"https://api.github.com/users/tkonolige/followers","following_url":"https://api.github.com/users/tkonolige/following{/other_user}","gists_url":"https://api.github.com/users/tkonolige/gists{/gist_id}","starred_url":"https://api.github.com/users/tkonolige/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tkonolige/subscriptions","organizations_url":"https://api.github.com/users/tkonolige/orgs","repos_url":"https://api.github.com/users/tkonolige/repos","events_url":"https://api.github.com/users/tkonolige/events{/privacy}","received_events_url":"https://api.github.com/users/tkonolige/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T16:31:19Z","updated_at":"2020-12-15T16:31:19Z","author_association":"CONTRIBUTOR","body":"This seems reasonable, but I'm not really sure how well it will work. Have you tested it with autoscheduler or autotvm?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745407100/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745424329","html_url":"https://github.com/apache/tvm/pull/6959#issuecomment-745424329","issue_url":"https://api.github.com/repos/apache/tvm/issues/6959","id":745424329,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTQyNDMyOQ==","user":{"login":"junrushao","id":22515877,"node_id":"MDQ6VXNlcjIyNTE1ODc3","avatar_url":"https://avatars.githubusercontent.com/u/22515877?v=4","gravatar_id":"","url":"https://api.github.com/users/junrushao","html_url":"https://github.com/junrushao","followers_url":"https://api.github.com/users/junrushao/followers","following_url":"https://api.github.com/users/junrushao/following{/other_user}","gists_url":"https://api.github.com/users/junrushao/gists{/gist_id}","starred_url":"https://api.github.com/users/junrushao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junrushao/subscriptions","organizations_url":"https://api.github.com/users/junrushao/orgs","repos_url":"https://api.github.com/users/junrushao/repos","events_url":"https://api.github.com/users/junrushao/events{/privacy}","received_events_url":"https://api.github.com/users/junrushao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T16:57:03Z","updated_at":"2020-12-15T16:57:03Z","author_association":"MEMBER","body":"It looks promising :-) I can try it out with Jupyter later today ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745424329/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745439729","html_url":"https://github.com/apache/tvm/pull/6959#issuecomment-745439729","issue_url":"https://api.github.com/repos/apache/tvm/issues/6959","id":745439729,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTQzOTcyOQ==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T17:22:04Z","updated_at":"2020-12-15T17:22:04Z","author_association":"MEMBER","body":"@tkonolige I do not have bandwith to test it out, prelimary benchmark shows it is close to multprocess.Pool on most platforms. Given that it is mostly self contained we could try to merge it in","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745439729/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745440872","html_url":"https://github.com/apache/tvm/pull/6959#issuecomment-745440872","issue_url":"https://api.github.com/repos/apache/tvm/issues/6959","id":745440872,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTQ0MDg3Mg==","user":{"login":"tkonolige","id":1501680,"node_id":"MDQ6VXNlcjE1MDE2ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1501680?v=4","gravatar_id":"","url":"https://api.github.com/users/tkonolige","html_url":"https://github.com/tkonolige","followers_url":"https://api.github.com/users/tkonolige/followers","following_url":"https://api.github.com/users/tkonolige/following{/other_user}","gists_url":"https://api.github.com/users/tkonolige/gists{/gist_id}","starred_url":"https://api.github.com/users/tkonolige/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tkonolige/subscriptions","organizations_url":"https://api.github.com/users/tkonolige/orgs","repos_url":"https://api.github.com/users/tkonolige/repos","events_url":"https://api.github.com/users/tkonolige/events{/privacy}","received_events_url":"https://api.github.com/users/tkonolige/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T17:24:01Z","updated_at":"2020-12-15T17:24:01Z","author_association":"CONTRIBUTOR","body":"I can try and use it with autotvm today.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745440872/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745442320","html_url":"https://github.com/apache/tvm/issues/7104#issuecomment-745442320","issue_url":"https://api.github.com/repos/apache/tvm/issues/7104","id":745442320,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTQ0MjMyMA==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T17:26:26Z","updated_at":"2020-12-15T17:26:26Z","author_association":"MEMBER","body":"Let us move the discussion to https://discuss.tvm.apache.org/ once we confirmed the problem that is actionable, we can move back to issues","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745442320/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745451181","html_url":"https://github.com/apache/tvm/pull/7086#issuecomment-745451181","issue_url":"https://api.github.com/repos/apache/tvm/issues/7086","id":745451181,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTQ1MTE4MQ==","user":{"login":"jwfromm","id":9874242,"node_id":"MDQ6VXNlcjk4NzQyNDI=","avatar_url":"https://avatars.githubusercontent.com/u/9874242?v=4","gravatar_id":"","url":"https://api.github.com/users/jwfromm","html_url":"https://github.com/jwfromm","followers_url":"https://api.github.com/users/jwfromm/followers","following_url":"https://api.github.com/users/jwfromm/following{/other_user}","gists_url":"https://api.github.com/users/jwfromm/gists{/gist_id}","starred_url":"https://api.github.com/users/jwfromm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jwfromm/subscriptions","organizations_url":"https://api.github.com/users/jwfromm/orgs","repos_url":"https://api.github.com/users/jwfromm/repos","events_url":"https://api.github.com/users/jwfromm/events{/privacy}","received_events_url":"https://api.github.com/users/jwfromm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T17:40:36Z","updated_at":"2020-12-15T17:40:36Z","author_association":"CONTRIBUTOR","body":"@tqchen i think we're gonna need your input to make a decision here. The issue Lily mentioned should be resolved. Our two options for fixing it are to consolidate the reshapes as in this PR, or create separate attributes and functions for reverse_reshape. Which do you prefer?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745451181/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745464729","html_url":"https://github.com/apache/tvm/pull/7070#issuecomment-745464729","issue_url":"https://api.github.com/repos/apache/tvm/issues/7070","id":745464729,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTQ2NDcyOQ==","user":{"login":"giuseros","id":2017147,"node_id":"MDQ6VXNlcjIwMTcxNDc=","avatar_url":"https://avatars.githubusercontent.com/u/2017147?v=4","gravatar_id":"","url":"https://api.github.com/users/giuseros","html_url":"https://github.com/giuseros","followers_url":"https://api.github.com/users/giuseros/followers","following_url":"https://api.github.com/users/giuseros/following{/other_user}","gists_url":"https://api.github.com/users/giuseros/gists{/gist_id}","starred_url":"https://api.github.com/users/giuseros/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/giuseros/subscriptions","organizations_url":"https://api.github.com/users/giuseros/orgs","repos_url":"https://api.github.com/users/giuseros/repos","events_url":"https://api.github.com/users/giuseros/events{/privacy}","received_events_url":"https://api.github.com/users/giuseros/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T18:03:09Z","updated_at":"2020-12-15T18:03:09Z","author_association":"CONTRIBUTOR","body":"Hi @comaniac , @leandron , \r\nI updated the PR as follows:\r\n* I added two more options (--log-estimated-latency and --include-simple-tasks)\r\n* I added the tests back (as they were before). \r\nPlease, let me know if those tests are ok (or if I need to add more or less), and if there is any other autoscheduler relevant option I need to consider. \r\n\r\nThanks,","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745464729/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745512599","html_url":"https://github.com/apache/tvm/pull/7115#issuecomment-745512599","issue_url":"https://api.github.com/repos/apache/tvm/issues/7115","id":745512599,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTUxMjU5OQ==","user":{"login":"jwfromm","id":9874242,"node_id":"MDQ6VXNlcjk4NzQyNDI=","avatar_url":"https://avatars.githubusercontent.com/u/9874242?v=4","gravatar_id":"","url":"https://api.github.com/users/jwfromm","html_url":"https://github.com/jwfromm","followers_url":"https://api.github.com/users/jwfromm/followers","following_url":"https://api.github.com/users/jwfromm/following{/other_user}","gists_url":"https://api.github.com/users/jwfromm/gists{/gist_id}","starred_url":"https://api.github.com/users/jwfromm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jwfromm/subscriptions","organizations_url":"https://api.github.com/users/jwfromm/orgs","repos_url":"https://api.github.com/users/jwfromm/repos","events_url":"https://api.github.com/users/jwfromm/events{/privacy}","received_events_url":"https://api.github.com/users/jwfromm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T19:24:43Z","updated_at":"2020-12-15T19:24:43Z","author_association":"CONTRIBUTOR","body":"@masahi @hogepodge can you guys take a look at this PR? Let me know if there are other default behaviors we should consider.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745512599/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745516694","html_url":"https://github.com/apache/tvm/pull/7115#issuecomment-745516694","issue_url":"https://api.github.com/repos/apache/tvm/issues/7115","id":745516694,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTUxNjY5NA==","user":{"login":"comaniac","id":8262694,"node_id":"MDQ6VXNlcjgyNjI2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8262694?v=4","gravatar_id":"","url":"https://api.github.com/users/comaniac","html_url":"https://github.com/comaniac","followers_url":"https://api.github.com/users/comaniac/followers","following_url":"https://api.github.com/users/comaniac/following{/other_user}","gists_url":"https://api.github.com/users/comaniac/gists{/gist_id}","starred_url":"https://api.github.com/users/comaniac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/comaniac/subscriptions","organizations_url":"https://api.github.com/users/comaniac/orgs","repos_url":"https://api.github.com/users/comaniac/repos","events_url":"https://api.github.com/users/comaniac/events{/privacy}","received_events_url":"https://api.github.com/users/comaniac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T19:32:00Z","updated_at":"2020-12-15T19:32:00Z","author_association":"CONTRIBUTOR","body":"Hey this looks similar to #7055. Could you also review that PR to see how should we proceed?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745516694/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745519581","html_url":"https://github.com/apache/tvm/pull/7115#issuecomment-745519581","issue_url":"https://api.github.com/repos/apache/tvm/issues/7115","id":745519581,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTUxOTU4MQ==","user":{"login":"jwfromm","id":9874242,"node_id":"MDQ6VXNlcjk4NzQyNDI=","avatar_url":"https://avatars.githubusercontent.com/u/9874242?v=4","gravatar_id":"","url":"https://api.github.com/users/jwfromm","html_url":"https://github.com/jwfromm","followers_url":"https://api.github.com/users/jwfromm/followers","following_url":"https://api.github.com/users/jwfromm/following{/other_user}","gists_url":"https://api.github.com/users/jwfromm/gists{/gist_id}","starred_url":"https://api.github.com/users/jwfromm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jwfromm/subscriptions","organizations_url":"https://api.github.com/users/jwfromm/orgs","repos_url":"https://api.github.com/users/jwfromm/repos","events_url":"https://api.github.com/users/jwfromm/events{/privacy}","received_events_url":"https://api.github.com/users/jwfromm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T19:37:07Z","updated_at":"2020-12-15T19:37:07Z","author_association":"CONTRIBUTOR","body":"@comaniac thanks for pointing that out, you're right that there's a lot of overlap. I looked over #7055 and think that the implementation in this PR is cleaner and probably the one we want to merge. I added the removal of shape_dict in the tvmc frontend converter as well to make sure there's feature parity for both implementations. @dlexplorer are you ok with closing your PR and getting this one merged instead?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745519581/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745532366","html_url":"https://github.com/apache/tvm/pull/7083#issuecomment-745532366","issue_url":"https://api.github.com/repos/apache/tvm/issues/7083","id":745532366,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTUzMjM2Ng==","user":{"login":"altanh","id":3124994,"node_id":"MDQ6VXNlcjMxMjQ5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/3124994?v=4","gravatar_id":"","url":"https://api.github.com/users/altanh","html_url":"https://github.com/altanh","followers_url":"https://api.github.com/users/altanh/followers","following_url":"https://api.github.com/users/altanh/following{/other_user}","gists_url":"https://api.github.com/users/altanh/gists{/gist_id}","starred_url":"https://api.github.com/users/altanh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/altanh/subscriptions","organizations_url":"https://api.github.com/users/altanh/orgs","repos_url":"https://api.github.com/users/altanh/repos","events_url":"https://api.github.com/users/altanh/events{/privacy}","received_events_url":"https://api.github.com/users/altanh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T19:59:31Z","updated_at":"2020-12-15T19:59:31Z","author_association":"CONTRIBUTOR","body":"## Naming\r\nI propose we move everything PRNG to a new `random` namespace/module in Relay, so `relay.random.threefry_generate` etc.\r\n\r\n## Handling different PRNG kernels\r\n\r\nThe splitting, keygen, and bit-gen operations will be kernel-specific. However, AFAIK, most if not all of the commonly used random ops simply require random bits as inputs (i.e. don't care about how those bits were generated). I propose the following approach to handling different kernels (thanks to @jroesch for helpful discussion):\r\n\r\n- For each kernel `K` (e.g. `K = threefry`, `K = philox`, etc.), define `relay.random.K_key`, `relay.random.K_split` , and `relay.random.K_generate`.\r\n- In Python (and any other host language where we plan on writing Relay code directly), define `relay.random.key(seed: int, K: RandomAlg)` (where `RandomAlg` is some kind of enum with members `RandomAlg.THREEFRY` etc.) and `relay.random.split(key, K: RandomAlg)`. We can set a default K (for now obviously Threefry) to make it easier to use.\r\n- Now, for each random op `rop` that we care about, define `relay.random.rop_from_bits`, and in Python define `relay.random.rop(key, K)` which internally calls `relay.random.rop_from_bits(relay.random.K_generate(key))`. This should suffice to hide the algorithm from the user-facing API.\r\n\r\n**Problems.**\r\n\r\n- This might fail silently if the user inconsistently uses a key for kernel K with an op that uses kernel L â‰  K, if the keys are the same shape. This seems quite bad. Ideally, the keys will somehow be typed (perhaps we can use a Relay ADT?) but not sure how well supported this kind of use case is currently.\r\n\r\n## Other notes\r\n- I will open a follow-up PR that adds some initial operators (currently I have a uniform random op), along with support for non-multiple of 4 sizes.\r\n- We should think about how to generalize over dtypes - currently, only `uint64` is supported for random bit generation in Threefry. Do we want to support more in the bit generation (is it possible?), or should we delegate this responsibility to auxiliary ops that split/join the `uint64`s as needed (e.g. converting 5 `uint64` to 10 `uint32`)? I think we need to come up with some kind of standardized approach for all the future random ops.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745532366/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745537619","html_url":"https://github.com/apache/tvm/pull/7115#issuecomment-745537619","issue_url":"https://api.github.com/repos/apache/tvm/issues/7115","id":745537619,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTUzNzYxOQ==","user":{"login":"hogepodge","id":367747,"node_id":"MDQ6VXNlcjM2Nzc0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/367747?v=4","gravatar_id":"","url":"https://api.github.com/users/hogepodge","html_url":"https://github.com/hogepodge","followers_url":"https://api.github.com/users/hogepodge/followers","following_url":"https://api.github.com/users/hogepodge/following{/other_user}","gists_url":"https://api.github.com/users/hogepodge/gists{/gist_id}","starred_url":"https://api.github.com/users/hogepodge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hogepodge/subscriptions","organizations_url":"https://api.github.com/users/hogepodge/orgs","repos_url":"https://api.github.com/users/hogepodge/repos","events_url":"https://api.github.com/users/hogepodge/events{/privacy}","received_events_url":"https://api.github.com/users/hogepodge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T20:09:10Z","updated_at":"2020-12-15T20:09:10Z","author_association":"CONTRIBUTOR","body":"Looks good.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745537619/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745544492","html_url":"https://github.com/apache/tvm/pull/6959#issuecomment-745544492","issue_url":"https://api.github.com/repos/apache/tvm/issues/6959","id":745544492,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTU0NDQ5Mg==","user":{"login":"junrushao","id":22515877,"node_id":"MDQ6VXNlcjIyNTE1ODc3","avatar_url":"https://avatars.githubusercontent.com/u/22515877?v=4","gravatar_id":"","url":"https://api.github.com/users/junrushao","html_url":"https://github.com/junrushao","followers_url":"https://api.github.com/users/junrushao/followers","following_url":"https://api.github.com/users/junrushao/following{/other_user}","gists_url":"https://api.github.com/users/junrushao/gists{/gist_id}","starred_url":"https://api.github.com/users/junrushao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junrushao/subscriptions","organizations_url":"https://api.github.com/users/junrushao/orgs","repos_url":"https://api.github.com/users/junrushao/repos","events_url":"https://api.github.com/users/junrushao/events{/privacy}","received_events_url":"https://api.github.com/users/junrushao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T20:21:51Z","updated_at":"2020-12-15T20:21:58Z","author_association":"MEMBER","body":"Just tested with Jupyter notebook - it works smoothly!","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745544492/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745550031","html_url":"https://github.com/apache/tvm/pull/7115#issuecomment-745550031","issue_url":"https://api.github.com/repos/apache/tvm/issues/7115","id":745550031,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTU1MDAzMQ==","user":{"login":"jwfromm","id":9874242,"node_id":"MDQ6VXNlcjk4NzQyNDI=","avatar_url":"https://avatars.githubusercontent.com/u/9874242?v=4","gravatar_id":"","url":"https://api.github.com/users/jwfromm","html_url":"https://github.com/jwfromm","followers_url":"https://api.github.com/users/jwfromm/followers","following_url":"https://api.github.com/users/jwfromm/following{/other_user}","gists_url":"https://api.github.com/users/jwfromm/gists{/gist_id}","starred_url":"https://api.github.com/users/jwfromm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jwfromm/subscriptions","organizations_url":"https://api.github.com/users/jwfromm/orgs","repos_url":"https://api.github.com/users/jwfromm/repos","events_url":"https://api.github.com/users/jwfromm/events{/privacy}","received_events_url":"https://api.github.com/users/jwfromm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T20:32:27Z","updated_at":"2020-12-15T20:32:27Z","author_association":"CONTRIBUTOR","body":"@mbrookhart can you also weigh in on this implementation vs that in #7055?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745550031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745562909","html_url":"https://github.com/apache/tvm/pull/7115#issuecomment-745562909","issue_url":"https://api.github.com/repos/apache/tvm/issues/7115","id":745562909,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTU2MjkwOQ==","user":{"login":"dlexplorer","id":70961591,"node_id":"MDQ6VXNlcjcwOTYxNTkx","avatar_url":"https://avatars.githubusercontent.com/u/70961591?v=4","gravatar_id":"","url":"https://api.github.com/users/dlexplorer","html_url":"https://github.com/dlexplorer","followers_url":"https://api.github.com/users/dlexplorer/followers","following_url":"https://api.github.com/users/dlexplorer/following{/other_user}","gists_url":"https://api.github.com/users/dlexplorer/gists{/gist_id}","starred_url":"https://api.github.com/users/dlexplorer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlexplorer/subscriptions","organizations_url":"https://api.github.com/users/dlexplorer/orgs","repos_url":"https://api.github.com/users/dlexplorer/repos","events_url":"https://api.github.com/users/dlexplorer/events{/privacy}","received_events_url":"https://api.github.com/users/dlexplorer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T20:58:02Z","updated_at":"2020-12-15T20:58:02Z","author_association":"CONTRIBUTOR","body":"> @dlexplorer are you ok with closing your PR and getting this one merged instead?\r\nI verified problematic networks with this PR and they are converted successfully. Agree to close my PR\r\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745562909/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745604064","html_url":"https://github.com/apache/tvm/issues/6239#issuecomment-745604064","issue_url":"https://api.github.com/repos/apache/tvm/issues/6239","id":745604064,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTYwNDA2NA==","user":{"login":"TylerADavis","id":16804460,"node_id":"MDQ6VXNlcjE2ODA0NDYw","avatar_url":"https://avatars.githubusercontent.com/u/16804460?v=4","gravatar_id":"","url":"https://api.github.com/users/TylerADavis","html_url":"https://github.com/TylerADavis","followers_url":"https://api.github.com/users/TylerADavis/followers","following_url":"https://api.github.com/users/TylerADavis/following{/other_user}","gists_url":"https://api.github.com/users/TylerADavis/gists{/gist_id}","starred_url":"https://api.github.com/users/TylerADavis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TylerADavis/subscriptions","organizations_url":"https://api.github.com/users/TylerADavis/orgs","repos_url":"https://api.github.com/users/TylerADavis/repos","events_url":"https://api.github.com/users/TylerADavis/events{/privacy}","received_events_url":"https://api.github.com/users/TylerADavis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T22:19:54Z","updated_at":"2020-12-15T22:19:54Z","author_association":"CONTRIBUTOR","body":"It seems that true_divide is supported as of #6472, but `is_floating_point` is definitely missing. I'm currently looking at adding support for `is_floating_point`, and I hope to have something before the week is done.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745604064/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745629617","html_url":"https://github.com/apache/tvm/pull/7087#issuecomment-745629617","issue_url":"https://api.github.com/repos/apache/tvm/issues/7087","id":745629617,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTYyOTYxNw==","user":{"login":"comaniac","id":8262694,"node_id":"MDQ6VXNlcjgyNjI2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8262694?v=4","gravatar_id":"","url":"https://api.github.com/users/comaniac","html_url":"https://github.com/comaniac","followers_url":"https://api.github.com/users/comaniac/followers","following_url":"https://api.github.com/users/comaniac/following{/other_user}","gists_url":"https://api.github.com/users/comaniac/gists{/gist_id}","starred_url":"https://api.github.com/users/comaniac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/comaniac/subscriptions","organizations_url":"https://api.github.com/users/comaniac/orgs","repos_url":"https://api.github.com/users/comaniac/repos","events_url":"https://api.github.com/users/comaniac/events{/privacy}","received_events_url":"https://api.github.com/users/comaniac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T23:23:34Z","updated_at":"2020-12-15T23:23:34Z","author_association":"CONTRIBUTOR","body":"Thanks @yzhliu @giuseros!","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745629617/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745678926","html_url":"https://github.com/apache/tvm/pull/7115#issuecomment-745678926","issue_url":"https://api.github.com/repos/apache/tvm/issues/7115","id":745678926,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTY3ODkyNg==","user":{"login":"jwfromm","id":9874242,"node_id":"MDQ6VXNlcjk4NzQyNDI=","avatar_url":"https://avatars.githubusercontent.com/u/9874242?v=4","gravatar_id":"","url":"https://api.github.com/users/jwfromm","html_url":"https://github.com/jwfromm","followers_url":"https://api.github.com/users/jwfromm/followers","following_url":"https://api.github.com/users/jwfromm/following{/other_user}","gists_url":"https://api.github.com/users/jwfromm/gists{/gist_id}","starred_url":"https://api.github.com/users/jwfromm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jwfromm/subscriptions","organizations_url":"https://api.github.com/users/jwfromm/orgs","repos_url":"https://api.github.com/users/jwfromm/repos","events_url":"https://api.github.com/users/jwfromm/events{/privacy}","received_events_url":"https://api.github.com/users/jwfromm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T00:26:41Z","updated_at":"2020-12-16T00:26:41Z","author_association":"CONTRIBUTOR","body":"Seems like we might have hit a flaky cudnn test. I'll try rebasing and recommitting.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745678926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745699824","html_url":"https://github.com/apache/tvm/pull/6964#issuecomment-745699824","issue_url":"https://api.github.com/repos/apache/tvm/issues/6964","id":745699824,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTY5OTgyNA==","user":{"login":"tmoreau89","id":5974488,"node_id":"MDQ6VXNlcjU5NzQ0ODg=","avatar_url":"https://avatars.githubusercontent.com/u/5974488?v=4","gravatar_id":"","url":"https://api.github.com/users/tmoreau89","html_url":"https://github.com/tmoreau89","followers_url":"https://api.github.com/users/tmoreau89/followers","following_url":"https://api.github.com/users/tmoreau89/following{/other_user}","gists_url":"https://api.github.com/users/tmoreau89/gists{/gist_id}","starred_url":"https://api.github.com/users/tmoreau89/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tmoreau89/subscriptions","organizations_url":"https://api.github.com/users/tmoreau89/orgs","repos_url":"https://api.github.com/users/tmoreau89/repos","events_url":"https://api.github.com/users/tmoreau89/events{/privacy}","received_events_url":"https://api.github.com/users/tmoreau89/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T01:16:36Z","updated_at":"2020-12-16T01:16:36Z","author_association":"CONTRIBUTOR","body":"@liangfu care to take a pass? thanks!","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745699824/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745726115","html_url":"https://github.com/apache/tvm/pull/7118#issuecomment-745726115","issue_url":"https://api.github.com/repos/apache/tvm/issues/7118","id":745726115,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTcyNjExNQ==","user":{"login":"xndcn","id":1317792,"node_id":"MDQ6VXNlcjEzMTc3OTI=","avatar_url":"https://avatars.githubusercontent.com/u/1317792?v=4","gravatar_id":"","url":"https://api.github.com/users/xndcn","html_url":"https://github.com/xndcn","followers_url":"https://api.github.com/users/xndcn/followers","following_url":"https://api.github.com/users/xndcn/following{/other_user}","gists_url":"https://api.github.com/users/xndcn/gists{/gist_id}","starred_url":"https://api.github.com/users/xndcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xndcn/subscriptions","organizations_url":"https://api.github.com/users/xndcn/orgs","repos_url":"https://api.github.com/users/xndcn/repos","events_url":"https://api.github.com/users/xndcn/events{/privacy}","received_events_url":"https://api.github.com/users/xndcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T02:40:48Z","updated_at":"2020-12-16T05:51:34Z","author_association":"CONTRIBUTOR","body":"Page 17, https://developer.apple.com/metal/Metal-Shading-Language-Specification.pdf\r\n![metal.png](https://user-images.githubusercontent.com/1317792/102298667-7cff2780-3f8c-11eb-80ec-da097d8a33a8.png)","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745726115/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745768280","html_url":"https://github.com/apache/tvm/pull/7115#issuecomment-745768280","issue_url":"https://api.github.com/repos/apache/tvm/issues/7115","id":745768280,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTc2ODI4MA==","user":{"login":"dlexplorer","id":70961591,"node_id":"MDQ6VXNlcjcwOTYxNTkx","avatar_url":"https://avatars.githubusercontent.com/u/70961591?v=4","gravatar_id":"","url":"https://api.github.com/users/dlexplorer","html_url":"https://github.com/dlexplorer","followers_url":"https://api.github.com/users/dlexplorer/followers","following_url":"https://api.github.com/users/dlexplorer/following{/other_user}","gists_url":"https://api.github.com/users/dlexplorer/gists{/gist_id}","starred_url":"https://api.github.com/users/dlexplorer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlexplorer/subscriptions","organizations_url":"https://api.github.com/users/dlexplorer/orgs","repos_url":"https://api.github.com/users/dlexplorer/repos","events_url":"https://api.github.com/users/dlexplorer/events{/privacy}","received_events_url":"https://api.github.com/users/dlexplorer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T05:11:48Z","updated_at":"2020-12-16T05:12:56Z","author_association":"CONTRIBUTOR","body":"it may sense to remove shape init from this script as well: https://github.com/apache/tvm/blob/main/apps/wasm-standalone/wasm-graph/tools/build_graph_lib.py#L32","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745768280/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745815015","html_url":"https://github.com/apache/tvm/pull/7111#issuecomment-745815015","issue_url":"https://api.github.com/repos/apache/tvm/issues/7111","id":745815015,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTgxNTAxNQ==","user":{"login":"tsupei","id":54231421,"node_id":"MDQ6VXNlcjU0MjMxNDIx","avatar_url":"https://avatars.githubusercontent.com/u/54231421?v=4","gravatar_id":"","url":"https://api.github.com/users/tsupei","html_url":"https://github.com/tsupei","followers_url":"https://api.github.com/users/tsupei/followers","following_url":"https://api.github.com/users/tsupei/following{/other_user}","gists_url":"https://api.github.com/users/tsupei/gists{/gist_id}","starred_url":"https://api.github.com/users/tsupei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tsupei/subscriptions","organizations_url":"https://api.github.com/users/tsupei/orgs","repos_url":"https://api.github.com/users/tsupei/repos","events_url":"https://api.github.com/users/tsupei/events{/privacy}","received_events_url":"https://api.github.com/users/tsupei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T07:13:51Z","updated_at":"2020-12-16T07:13:51Z","author_association":"CONTRIBUTOR","body":"@zhiics I try to write a testcase modified from [https://github.com/apache/tvm/blob/main/tests/python/topi/python/test_topi_batch_matmul.py](https://github.com/apache/tvm/blob/main/tests/python/topi/python/test_topi_batch_matmul.py)\r\n\r\n```python\r\ndef verify_dynamic_batch_matmul(batch_size, M, N, K):\r\n    dynamic_batch_size = te.var(\"dynamic_batch_size\")\r\n    dynamic_M = te.var(\"dynamic_M\")\r\n    dynamic_N = te.var(\"dynamic_N\")\r\n    dynamic_K = te.var(\"dynamic_K\")\r\n\r\n    x = te.placeholder((dynamic_batch_size, dynamic_M, dynamic_K), name=\"x\")\r\n    y = te.placeholder((dynamic_batch_size, dynamic_N, dynamic_K), name=\"y\")\r\n    dtype = x.dtype\r\n    ...(skip)\r\n\r\n```\r\nIt seems that `te.var` is not supported in other places.  \r\n```bash\r\nRunning on target: llvm -device=arm_cpu\r\nCannot find config for target=llvm -keys=arm_cpu,cpu -device=arm_cpu, workload=('batch_matmul.x86', ('TENSOR', (dynamic_batch_size, dynamic_M, dynamic_K), 'float32'), ('TENSOR', (dynamic_batch_size, dynamic_N, dynamic_K), 'float32')). A fallback configuration is used, which may bring great performance regression.\r\nTraceback (most recent call last):\r\n  File \"tests/python/topi/python/test_topi_batch_matmul.py\", line 120, in <module>\r\n    test_batch_matmul()\r\n  File \"tests/python/topi/python/test_topi_batch_matmul.py\", line 116, in test_batch_matmul\r\n    verify_dynamic_batch_matmul(1, 16, 16, 32)\r\n  File \"tests/python/topi/python/test_topi_batch_matmul.py\", line 69, in verify_dynamic_batch_matmul\r\n    check_device(device, ctx)\r\n  File \"tests/python/topi/python/test_topi_batch_matmul.py\", line 60, in check_device\r\n    s = fschedule([out])\r\n  File \"/home/jojo6174/tvm-installation/tvm/python/tvm/autotvm/task/topi_integration.py\", line 235, in wrapper\r\n    return topi_schedule(cfg, outs, *args, **kwargs)\r\n  File \"/home/jojo6174/tvm-installation/tvm/python/tvm/topi/x86/batch_matmul.py\", line 128, in schedule_batch_matmul\r\n    traverse_inline(s, outs[0].op, _callback)\r\n  File \"/home/jojo6174/tvm-installation/tvm/python/tvm/topi/utils.py\", line 68, in traverse_inline\r\n    _traverse(final_op)\r\n  File \"/home/jojo6174/tvm-installation/tvm/python/tvm/topi/utils.py\", line 66, in _traverse\r\n    callback(op)\r\n  File \"/home/jojo6174/tvm-installation/tvm/python/tvm/topi/x86/batch_matmul.py\", line 106, in _callback\r\n    cfg.define_split(\"tile_y\", M, num_outputs=2)\r\n  File \"/home/jojo6174/tvm-installation/tvm/python/tvm/autotvm/task/space.py\", line 730, in define_split\r\n    return self._add_new_transform(SplitSpace, name, axes, policy, **kwargs)\r\n  File \"/home/jojo6174/tvm-installation/tvm/python/tvm/autotvm/task/space.py\", line 829, in _add_new_transform\r\n    axes = [x if isinstance(x, (VirtualAxis, Axis)) else self.axis(x) for x in axes]\r\n  File \"/home/jojo6174/tvm-installation/tvm/python/tvm/autotvm/task/space.py\", line 829, in <listcomp>\r\n    axes = [x if isinstance(x, (VirtualAxis, Axis)) else self.axis(x) for x in axes]\r\n  File \"/home/jojo6174/tvm-installation/tvm/python/tvm/autotvm/task/space.py\", line 687, in axis\r\n    return VirtualAxis(var)\r\n  File \"/home/jojo6174/tvm-installation/tvm/python/tvm/autotvm/task/space.py\", line 141, in __init__\r\n    raise RuntimeError(\"Invalid type of axis: \" + str(type(var)))\r\nRuntimeError: Invalid type of axis: <class 'tvm.tir.expr.Var'>\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745815015/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745977528","html_url":"https://github.com/apache/tvm/issues/7102#issuecomment-745977528","issue_url":"https://api.github.com/repos/apache/tvm/issues/7102","id":745977528,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTk3NzUyOA==","user":{"login":"insop","id":1240382,"node_id":"MDQ6VXNlcjEyNDAzODI=","avatar_url":"https://avatars.githubusercontent.com/u/1240382?v=4","gravatar_id":"","url":"https://api.github.com/users/insop","html_url":"https://github.com/insop","followers_url":"https://api.github.com/users/insop/followers","following_url":"https://api.github.com/users/insop/following{/other_user}","gists_url":"https://api.github.com/users/insop/gists{/gist_id}","starred_url":"https://api.github.com/users/insop/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/insop/subscriptions","organizations_url":"https://api.github.com/users/insop/orgs","repos_url":"https://api.github.com/users/insop/repos","events_url":"https://api.github.com/users/insop/events{/privacy}","received_events_url":"https://api.github.com/users/insop/received_events","type":"User","user_view_type":"public","site_admin":true},"created_at":"2020-12-16T09:23:09Z","updated_at":"2020-12-16T09:25:12Z","author_association":"CONTRIBUTOR","body":"Moved the post to https://github.com/apache/tvm/pull/7111 instead","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745977528/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745979049","html_url":"https://github.com/apache/tvm/pull/7111#issuecomment-745979049","issue_url":"https://api.github.com/repos/apache/tvm/issues/7111","id":745979049,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTk3OTA0OQ==","user":{"login":"insop","id":1240382,"node_id":"MDQ6VXNlcjEyNDAzODI=","avatar_url":"https://avatars.githubusercontent.com/u/1240382?v=4","gravatar_id":"","url":"https://api.github.com/users/insop","html_url":"https://github.com/insop","followers_url":"https://api.github.com/users/insop/followers","following_url":"https://api.github.com/users/insop/following{/other_user}","gists_url":"https://api.github.com/users/insop/gists{/gist_id}","starred_url":"https://api.github.com/users/insop/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/insop/subscriptions","organizations_url":"https://api.github.com/users/insop/orgs","repos_url":"https://api.github.com/users/insop/repos","events_url":"https://api.github.com/users/insop/events{/privacy}","received_events_url":"https://api.github.com/users/insop/received_events","type":"User","user_view_type":"public","site_admin":true},"created_at":"2020-12-16T09:24:19Z","updated_at":"2020-12-16T09:26:03Z","author_association":"CONTRIBUTOR","body":"@tsupei , @zhiics \r\n\r\nHow about this? by doing this, we can test.\r\nPatch is [here](https://github.com/insop/incubator-tvm/commit/9b7b1589f4a05a739e19652b7a2705e4bfc7bfcb.patch).\r\n\r\n```\r\nFrom 9b7b1589f4a05a739e19652b7a2705e4bfc7bfcb Mon Sep 17 00:00:00 2001\r\nFrom: Insop Song <insop.song@gmail.com>\r\nDate: Wed, 16 Dec 2020 01:19:04 -0800\r\nSubject: [PATCH] Add test to dynamic batch matmul\r\n\r\n---\r\n .../topi/python/test_topi_batch_matmul.py     | 38 ++++++++++++++++---\r\n 1 file changed, 32 insertions(+), 6 deletions(-)\r\n\r\ndiff --git a/tests/python/topi/python/test_topi_batch_matmul.py b/tests/python/topi/python/test_topi_batch_matmul.py\r\nindex e939f6c21..be6552f03 100644\r\n--- a/tests/python/topi/python/test_topi_batch_matmul.py\r\n+++ b/tests/python/topi/python/test_topi_batch_matmul.py\r\n@@ -32,10 +32,24 @@ _batch_matmul_implement = {\r\n }\r\n \r\n \r\n-def verify_batch_matmul(x_batch, y_batch, M, N, K):\r\n-    x = te.placeholder((x_batch, M, K), name=\"x\")\r\n-    y = te.placeholder((y_batch, N, K), name=\"y\")\r\n-    dtype = x.dtype\r\n+def verify_batch_matmul(x_batch, y_batch, M, N, K, dynamic=False, debug=False):\r\n+\r\n+    if not dynamic:\r\n+        x = te.placeholder((x_batch, M, K), name=\"x\")\r\n+        y = te.placeholder((y_batch, N, K), name=\"y\")\r\n+        dtype = x.dtype\r\n+    else:\r\n+        assert x_batch == y_batch or x_batch == 1 or y_batch == 1\r\n+        batch_size = max(x_batch, y_batch)\r\n+        dynamic_batch_size = te.var(\"dynamic_batch_size\")\r\n+        dynamic_M = te.var(\"dynamic_M\")\r\n+        dynamic_N = te.var(\"dynamic_N\")\r\n+        dynamic_K = te.var(\"dynamic_K\")\r\n+\r\n+        x = te.placeholder((dynamic_batch_size, dynamic_M, dynamic_K), name=\"x\")\r\n+        y = te.placeholder((dynamic_batch_size, dynamic_N, dynamic_K), name=\"y\")\r\n+        dtype = x.dtype\r\n+\r\n \r\n     # use memoize to pickle the test data for next time use\r\n     @memoize(\"topi.tests.test_topi_batch_matmul\")\r\n@@ -53,10 +67,19 @@ def verify_batch_matmul(x_batch, y_batch, M, N, K):\r\n         with tvm.target.Target(device):\r\n             fcompute, fschedule = tvm.topi.testing.dispatch(device, _batch_matmul_implement)\r\n             out = fcompute(x, y)\r\n-            s = fschedule([out])\r\n+            if not dynamic:\r\n+                s = fschedule([out])\r\n+                out_shape = out.shape\r\n+            else:\r\n+                s = te.create_schedule(out.op)\r\n+                out_shape = (batch_size, M, N)\r\n+\r\n+            if debug:\r\n+                print(tvm.lower(s, [x, y, out], simple_mode=True))\r\n+\r\n         a = tvm.nd.array(a_np, ctx)\r\n         b = tvm.nd.array(b_np, ctx)\r\n-        c = tvm.nd.array(np.zeros(get_const_tuple(out.shape), dtype=dtype), ctx)\r\n+        c = tvm.nd.array(np.zeros(get_const_tuple(out_shape), dtype=dtype), ctx)\r\n         f = tvm.build(s, [x, y, out], device, name=\"dense\")\r\n         f(a, b, c)\r\n         tvm.testing.assert_allclose(c.asnumpy(), c_np, rtol=1e-5)\r\n@@ -75,6 +98,9 @@ def test_batch_matmul():\r\n     verify_batch_matmul(1, 5, 16, 16, 32)\r\n     verify_batch_matmul(5, 1, 16, 16, 32)\r\n \r\n+    # Test dynamic batch\r\n+    verify_batch_matmul(1, 1, 16, 16, 32, dynamic=True, debug=True)\r\n+    verify_batch_matmul(5, 5, 16, 16, 32, dynamic=True)\r\n \r\n if __name__ == \"__main__\":\r\n     test_batch_matmul()\r\n-- \r\n2.28.0\r\n```\r\n\r\nTest restults\r\n\r\n```\r\n$ python ./test_topi_batch_matmul.py \r\nRunning on target: llvm -device=arm_cpu\r\nCannot find config for target=llvm -keys=arm_cpu,cpu -device=arm_cpu -link-params=0, workload=('batch_matmul.x86', ('TENSOR', (1, 16, 32), 'float32'), ('TENSOR', (1, 16, 32), 'float32')). A fallback configuration is used, which may bring great performance regression.\r\nRunning on target: llvm\r\nCannot find config for target=llvm -keys=cpu -link-params=0, workload=('batch_matmul.x86', ('TENSOR', (1, 16, 32), 'float32'), ('TENSOR', (1, 16, 32), 'float32')). A fallback configuration is used, which may bring great performance regression.\r\nRunning on target: llvm -device=arm_cpu\r\nCannot find config for target=llvm -keys=arm_cpu,cpu -device=arm_cpu -link-params=0, workload=('batch_matmul.x86', ('TENSOR', (5, 16, 32), 'float32'), ('TENSOR', (5, 16, 32), 'float32')). A fallback configuration is used, which may bring great performance regression.\r\nRunning on target: llvm\r\nCannot find config for target=llvm -keys=cpu -link-params=0, workload=('batch_matmul.x86', ('TENSOR', (5, 16, 32), 'float32'), ('TENSOR', (5, 16, 32), 'float32')). A fallback configuration is used, which may bring great performance regression.\r\nRunning on target: llvm -device=arm_cpu\r\nCannot find config for target=llvm -keys=arm_cpu,cpu -device=arm_cpu -link-params=0, workload=('batch_matmul.x86', ('TENSOR', (5, 16, 32), 'float32'), ('TENSOR', (5, 20, 32), 'float32')). A fallback configuration is used, which may bring great performance regression.\r\nRunning on target: llvm\r\nCannot find config for target=llvm -keys=cpu -link-params=0, workload=('batch_matmul.x86', ('TENSOR', (5, 16, 32), 'float32'), ('TENSOR', (5, 20, 32), 'float32')). A fallback configuration is used, which may bring great performance regression.\r\nRunning on target: llvm -device=arm_cpu\r\nCannot find config for target=llvm -keys=arm_cpu,cpu -device=arm_cpu -link-params=0, workload=('batch_matmul.x86', ('TENSOR', (30, 16, 32), 'float32'), ('TENSOR', (30, 20, 32), 'float32')). A fallback configuration is used, which may bring great performance regression.\r\nRunning on target: llvm\r\nCannot find config for target=llvm -keys=cpu -link-params=0, workload=('batch_matmul.x86', ('TENSOR', (30, 16, 32), 'float32'), ('TENSOR', (30, 20, 32), 'float32')). A fallback configuration is used, which may bring great performance regression.\r\nRunning on target: llvm -device=arm_cpu\r\nCannot find config for target=llvm -keys=arm_cpu,cpu -device=arm_cpu -link-params=0, workload=('batch_matmul.x86', ('TENSOR', (1, 16, 32), 'float32'), ('TENSOR', (5, 16, 32), 'float32')). A fallback configuration is used, which may bring great performance regression.\r\nRunning on target: llvm\r\nCannot find config for target=llvm -keys=cpu -link-params=0, workload=('batch_matmul.x86', ('TENSOR', (1, 16, 32), 'float32'), ('TENSOR', (5, 16, 32), 'float32')). A fallback configuration is used, which may bring great performance regression.\r\nRunning on target: llvm -device=arm_cpu\r\nCannot find config for target=llvm -keys=arm_cpu,cpu -device=arm_cpu -link-params=0, workload=('batch_matmul.x86', ('TENSOR', (5, 16, 32), 'float32'), ('TENSOR', (1, 16, 32), 'float32')). A fallback configuration is used, which may bring great performance regression.\r\nRunning on target: llvm\r\nCannot find config for target=llvm -keys=cpu -link-params=0, workload=('batch_matmul.x86', ('TENSOR', (5, 16, 32), 'float32'), ('TENSOR', (1, 16, 32), 'float32')). A fallback configuration is used, which may bring great performance regression.\r\nRunning on target: llvm -device=arm_cpu\r\nCannot find config for target=llvm -keys=arm_cpu,cpu -device=arm_cpu -link-params=0, workload=('batch_matmul.x86', ('TENSOR', (dynamic_batch_size, dynamic_M, dynamic_K), 'float32'), ('TENSOR', (dynamic_batch_size, dynamic_N, dynamic_K), 'float32')). A fallback configuration is used, which may bring great performance regression.\r\nprimfn(x_1: handle, y_1: handle, compute_1: handle) -> ()\r\n  attr = {\"global_symbol\": \"main\", \"tir.noalias\": True}\r\n  buffers = {compute: Buffer(compute_2: Pointer(float32), float32, [dynamic_batch_size: int32, dynamic_M: int32, dynamic_N: int32], [stride: int32, stride_1: int32, stride_2: int32], type=\"auto\"),\r\n             y: Buffer(y_2: Pointer(float32), float32, [dynamic_batch_size, dynamic_N, dynamic_K: int32], [stride_3: int32, stride_4: int32, stride_5: int32], type=\"auto\"),\r\n             x: Buffer(x_2: Pointer(float32), float32, [dynamic_batch_size, dynamic_M, dynamic_K], [stride_6: int32, stride_7: int32, stride_8: int32], type=\"auto\")}\r\n  buffer_map = {x_1: x, y_1: y, compute_1: compute} {\r\n  for (b: int32, 0, dynamic_batch_size) {\r\n    for (i: int32, 0, dynamic_M) {\r\n      for (j: int32, 0, dynamic_N) {\r\n        compute_2[(((b*stride) + (i*stride_1)) + (j*stride_2))] = 0f32\r\n        for (k: int32, 0, dynamic_K) {\r\n          compute_2[(((b*stride) + (i*stride_1)) + (j*stride_2))] = ((float32*)compute_2[(((b*stride) + (i*stride_1)) + (j*stride_2))] + ((float32*)x_2[(((b*stride_6) + (i*stride_7)) + (k*stride_8))]*(float32*)y_2[(((b*stride_3) + (j*stride_4)) + (k*stride_5))]))\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n\r\nRunning on target: llvm\r\nCannot find config for target=llvm -keys=cpu -link-params=0, workload=('batch_matmul.x86', ('TENSOR', (dynamic_batch_size, dynamic_M, dynamic_K), 'float32'), ('TENSOR', (dynamic_batch_size, dynamic_N, dynamic_K), 'float32')). A fallback configuration is used, which may bring great performance regression.\r\nprimfn(x_1: handle, y_1: handle, compute_1: handle) -> ()\r\n  attr = {\"global_symbol\": \"main\", \"tir.noalias\": True}\r\n  buffers = {y: Buffer(y_2: Pointer(float32), float32, [dynamic_batch_size: int32, dynamic_N: int32, dynamic_K: int32], [stride: int32, stride_1: int32, stride_2: int32], type=\"auto\"),\r\n             compute: Buffer(compute_2: Pointer(float32), float32, [dynamic_batch_size, dynamic_M: int32, dynamic_N], [stride_3: int32, stride_4: int32, stride_5: int32], type=\"auto\"),\r\n             x: Buffer(x_2: Pointer(float32), float32, [dynamic_batch_size, dynamic_M, dynamic_K], [stride_6: int32, stride_7: int32, stride_8: int32], type=\"auto\")}\r\n  buffer_map = {x_1: x, y_1: y, compute_1: compute} {\r\n  for (b: int32, 0, dynamic_batch_size) {\r\n    for (i: int32, 0, dynamic_M) {\r\n      for (j: int32, 0, dynamic_N) {\r\n        compute_2[(((b*stride_3) + (i*stride_4)) + (j*stride_5))] = 0f32\r\n        for (k: int32, 0, dynamic_K) {\r\n          compute_2[(((b*stride_3) + (i*stride_4)) + (j*stride_5))] = ((float32*)compute_2[(((b*stride_3) + (i*stride_4)) + (j*stride_5))] + ((float32*)x_2[(((b*stride_6) + (i*stride_7)) + (k*stride_8))]*(float32*)y_2[(((b*stride) + (j*stride_1)) + (k*stride_2))]))\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/745979049/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/746124247","html_url":"https://github.com/apache/tvm/pull/6949#issuecomment-746124247","issue_url":"https://api.github.com/repos/apache/tvm/issues/6949","id":746124247,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NjEyNDI0Nw==","user":{"login":"alter-xp","id":72853260,"node_id":"MDQ6VXNlcjcyODUzMjYw","avatar_url":"https://avatars.githubusercontent.com/u/72853260?v=4","gravatar_id":"","url":"https://api.github.com/users/alter-xp","html_url":"https://github.com/alter-xp","followers_url":"https://api.github.com/users/alter-xp/followers","following_url":"https://api.github.com/users/alter-xp/following{/other_user}","gists_url":"https://api.github.com/users/alter-xp/gists{/gist_id}","starred_url":"https://api.github.com/users/alter-xp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alter-xp/subscriptions","organizations_url":"https://api.github.com/users/alter-xp/orgs","repos_url":"https://api.github.com/users/alter-xp/repos","events_url":"https://api.github.com/users/alter-xp/events{/privacy}","received_events_url":"https://api.github.com/users/alter-xp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T11:13:28Z","updated_at":"2020-12-16T11:13:28Z","author_association":"CONTRIBUTOR","body":"eh, this branch has not been merged? Is there any problem?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/746124247/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/746319035","html_url":"https://github.com/apache/tvm/pull/7118#issuecomment-746319035","issue_url":"https://api.github.com/repos/apache/tvm/issues/7118","id":746319035,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NjMxOTAzNQ==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T13:53:24Z","updated_at":"2020-12-16T13:53:24Z","author_association":"MEMBER","body":"cc @antinucleon ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/746319035/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/746319344","html_url":"https://github.com/apache/tvm/pull/7118#issuecomment-746319344","issue_url":"https://api.github.com/repos/apache/tvm/issues/7118","id":746319344,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NjMxOTM0NA==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T13:53:34Z","updated_at":"2020-12-16T13:53:34Z","author_association":"MEMBER","body":"Thanks @xndcn ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/746319344/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/746322447","html_url":"https://github.com/apache/tvm/pull/7084#issuecomment-746322447","issue_url":"https://api.github.com/repos/apache/tvm/issues/7084","id":746322447,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NjMyMjQ0Nw==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T13:55:24Z","updated_at":"2020-12-16T13:55:24Z","author_association":"MEMBER","body":"One additional comment, overall lgtm. @junrushao1994 @tkonolige @areusch please take another look and https://tvm.apache.org/docs/contribute/code_review.html#approve-and-request-changes-explicitly","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/746322447/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747111481","html_url":"https://github.com/apache/tvm/pull/7083#issuecomment-747111481","issue_url":"https://api.github.com/repos/apache/tvm/issues/7083","id":747111481,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzExMTQ4MQ==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T23:56:15Z","updated_at":"2020-12-16T23:56:15Z","author_association":"MEMBER","body":"cc @antinucleon ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747111481/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747112272","html_url":"https://github.com/apache/tvm/pull/7083#issuecomment-747112272","issue_url":"https://api.github.com/repos/apache/tvm/issues/7083","id":747112272,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzExMjI3Mg==","user":{"login":"altanh","id":3124994,"node_id":"MDQ6VXNlcjMxMjQ5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/3124994?v=4","gravatar_id":"","url":"https://api.github.com/users/altanh","html_url":"https://github.com/altanh","followers_url":"https://api.github.com/users/altanh/followers","following_url":"https://api.github.com/users/altanh/following{/other_user}","gists_url":"https://api.github.com/users/altanh/gists{/gist_id}","starred_url":"https://api.github.com/users/altanh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/altanh/subscriptions","organizations_url":"https://api.github.com/users/altanh/orgs","repos_url":"https://api.github.com/users/altanh/repos","events_url":"https://api.github.com/users/altanh/events{/privacy}","received_events_url":"https://api.github.com/users/altanh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T23:58:51Z","updated_at":"2020-12-16T23:58:51Z","author_association":"CONTRIBUTOR","body":"I've moved everything to a new `random` namespace (for Relay and TOPI) and fixed a small bug. This should be good to go I think.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747112272/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747196507","html_url":"https://github.com/apache/tvm/pull/7111#issuecomment-747196507","issue_url":"https://api.github.com/repos/apache/tvm/issues/7111","id":747196507,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzE5NjUwNw==","user":{"login":"insop","id":1240382,"node_id":"MDQ6VXNlcjEyNDAzODI=","avatar_url":"https://avatars.githubusercontent.com/u/1240382?v=4","gravatar_id":"","url":"https://api.github.com/users/insop","html_url":"https://github.com/insop","followers_url":"https://api.github.com/users/insop/followers","following_url":"https://api.github.com/users/insop/following{/other_user}","gists_url":"https://api.github.com/users/insop/gists{/gist_id}","starred_url":"https://api.github.com/users/insop/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/insop/subscriptions","organizations_url":"https://api.github.com/users/insop/orgs","repos_url":"https://api.github.com/users/insop/repos","events_url":"https://api.github.com/users/insop/events{/privacy}","received_events_url":"https://api.github.com/users/insop/received_events","type":"User","user_view_type":"public","site_admin":true},"created_at":"2020-12-17T04:26:37Z","updated_at":"2020-12-17T04:26:37Z","author_association":"CONTRIBUTOR","body":"@tsupei\r\n\r\nThere was a clang-format check fali, here is another [patch](https://github.com/insop/incubator-tvm/commit/f98c5db737ecac5bd2bf4df0204299cb88108978.patch).\r\n\r\nThank you,","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747196507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747280452","html_url":"https://github.com/apache/tvm/pull/7111#issuecomment-747280452","issue_url":"https://api.github.com/repos/apache/tvm/issues/7111","id":747280452,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzI4MDQ1Mg==","user":{"login":"tsupei","id":54231421,"node_id":"MDQ6VXNlcjU0MjMxNDIx","avatar_url":"https://avatars.githubusercontent.com/u/54231421?v=4","gravatar_id":"","url":"https://api.github.com/users/tsupei","html_url":"https://github.com/tsupei","followers_url":"https://api.github.com/users/tsupei/followers","following_url":"https://api.github.com/users/tsupei/following{/other_user}","gists_url":"https://api.github.com/users/tsupei/gists{/gist_id}","starred_url":"https://api.github.com/users/tsupei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tsupei/subscriptions","organizations_url":"https://api.github.com/users/tsupei/orgs","repos_url":"https://api.github.com/users/tsupei/repos","events_url":"https://api.github.com/users/tsupei/events{/privacy}","received_events_url":"https://api.github.com/users/tsupei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T08:05:19Z","updated_at":"2020-12-17T08:05:19Z","author_association":"CONTRIBUTOR","body":"@insop I ran the testcase in my local machine. However, some placeholders are not bound in dynamic cases. On the other hand, we cannot directly reuse the schedule defined in `_batch_matmul_implement` on [line 28](https://github.com/apache/tvm/blob/main/tests/python/topi/python/test_topi_batch_matmul.py), which may incurs some errors related to `Var` type. Maybe we need to define our own schedule for that dynamic testcase?\r\n\r\n```bash\r\ntvm._ffi.base.TVMError: Traceback (most recent call last):\r\n  [bt] (5) /home/jojo6174/tvm-installation/tvm/build/libtvm.so(TVMFuncCall+0x65) [0x7f05198a6765]\r\n  [bt] (4) /home/jojo6174/tvm-installation/tvm/build/libtvm.so(+0xd19862) [0x7f0518d52862]\r\n  [bt] (3) /home/jojo6174/tvm-installation/tvm/build/libtvm.so(tvm::transform::SequentialNode::operator()(tvm::IRModule, tvm::transform::PassContext const&) const+0x2f0) [0x7f0518d51800]\r\n  [bt] (2) /home/jojo6174/tvm-installation/tvm/build/libtvm.so(tvm::transform::ModulePassNode::operator()(tvm::IRModule, tvm::transform::PassContext const&) const+0x1b7) [0x7f0518d52117]\r\n  [bt] (1) /home/jojo6174/tvm-installation/tvm/build/libtvm.so(+0xf4aaac) [0x7f0518f83aac]\r\n  [bt] (0) /home/jojo6174/tvm-installation/tvm/build/libtvm.so(+0xf479e2) [0x7f0518f809e2]\r\n  Did you forget to bind?\r\n    Variable `y` is directly accessed by host memory (it is not contained in a thread environment or in the function arguments.\r\n    Variable `x` is directly accessed by host memory (it is not contained in a thread environment or in the function arguments.\r\n    Variable `compute` is directly accessed by host memory (it is not contained in a thread environment or in the function arguments.\r\n    Variable `compute` is directly accessed by host memory (it is not contained in a thread environment or in the function arguments.\r\n    Variable `compute` is directly accessed by host memory (it is not contained in a thread environment or in the function arguments.\r\n  File \"/home/jojo6174/tvm-installation/tvm/src/tir/analysis/verify_memory.cc\", line 202\r\nRuntimeError: Memory verification failed with the following errors:\r\nPrimFunc([x, y, compute]) attrs={\"global_symbol\": \"dense\", \"tir.noalias\": (bool)1, \"target\": nvptx -keys=cuda,gpu -max_num_threads=1024 -mcpu=sm_61 -mtriple=nvptx64-nvidia-cuda -thread_warp_size=32} {\r\n  for (b, 0, dynamic_batch_size) {\r\n    for (i, 0, dynamic_M) {\r\n      for (j, 0, dynamic_N) {\r\n        compute[(((b*stride) + (i*stride)) + (j*stride))] = 0f\r\n        for (k, 0, dynamic_K) {\r\n          compute[(((b*stride) + (i*stride)) + (j*stride))] = (compute[(((b*stride) + (i*stride)) + (j*stride))] + (x[(((b*stride) + (i*stride)) + (k*stride))]*y[(((b*stride) + (j*stride)) + (k*stride))]))\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747280452/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747310578","html_url":"https://github.com/apache/tvm/pull/6949#issuecomment-747310578","issue_url":"https://api.github.com/repos/apache/tvm/issues/6949","id":747310578,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzMxMDU3OA==","user":{"login":"giuseros","id":2017147,"node_id":"MDQ6VXNlcjIwMTcxNDc=","avatar_url":"https://avatars.githubusercontent.com/u/2017147?v=4","gravatar_id":"","url":"https://api.github.com/users/giuseros","html_url":"https://github.com/giuseros","followers_url":"https://api.github.com/users/giuseros/followers","following_url":"https://api.github.com/users/giuseros/following{/other_user}","gists_url":"https://api.github.com/users/giuseros/gists{/gist_id}","starred_url":"https://api.github.com/users/giuseros/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/giuseros/subscriptions","organizations_url":"https://api.github.com/users/giuseros/orgs","repos_url":"https://api.github.com/users/giuseros/repos","events_url":"https://api.github.com/users/giuseros/events{/privacy}","received_events_url":"https://api.github.com/users/giuseros/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T09:08:32Z","updated_at":"2020-12-17T09:08:32Z","author_association":"CONTRIBUTOR","body":"Hi @alter-xp , \r\nI don't have write privileges. I guess that @FrozenGene , @anijain2305 , @comaniac , @mbaret might help to merge this in","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747310578/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747314495","html_url":"https://github.com/apache/tvm/pull/6949#issuecomment-747314495","issue_url":"https://api.github.com/repos/apache/tvm/issues/6949","id":747314495,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzMxNDQ5NQ==","user":{"login":"FrozenGene","id":7287321,"node_id":"MDQ6VXNlcjcyODczMjE=","avatar_url":"https://avatars.githubusercontent.com/u/7287321?v=4","gravatar_id":"","url":"https://api.github.com/users/FrozenGene","html_url":"https://github.com/FrozenGene","followers_url":"https://api.github.com/users/FrozenGene/followers","following_url":"https://api.github.com/users/FrozenGene/following{/other_user}","gists_url":"https://api.github.com/users/FrozenGene/gists{/gist_id}","starred_url":"https://api.github.com/users/FrozenGene/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FrozenGene/subscriptions","organizations_url":"https://api.github.com/users/FrozenGene/orgs","repos_url":"https://api.github.com/users/FrozenGene/repos","events_url":"https://api.github.com/users/FrozenGene/events{/privacy}","received_events_url":"https://api.github.com/users/FrozenGene/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T09:16:01Z","updated_at":"2020-12-17T09:16:01Z","author_association":"MEMBER","body":"Thanks @alter-xp @giuseros ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747314495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747336598","html_url":"https://github.com/apache/tvm/pull/6655#issuecomment-747336598","issue_url":"https://api.github.com/repos/apache/tvm/issues/6655","id":747336598,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzMzNjU5OA==","user":{"login":"mbaret","id":55580676,"node_id":"MDQ6VXNlcjU1NTgwNjc2","avatar_url":"https://avatars.githubusercontent.com/u/55580676?v=4","gravatar_id":"","url":"https://api.github.com/users/mbaret","html_url":"https://github.com/mbaret","followers_url":"https://api.github.com/users/mbaret/followers","following_url":"https://api.github.com/users/mbaret/following{/other_user}","gists_url":"https://api.github.com/users/mbaret/gists{/gist_id}","starred_url":"https://api.github.com/users/mbaret/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbaret/subscriptions","organizations_url":"https://api.github.com/users/mbaret/orgs","repos_url":"https://api.github.com/users/mbaret/repos","events_url":"https://api.github.com/users/mbaret/events{/privacy}","received_events_url":"https://api.github.com/users/mbaret/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T09:58:29Z","updated_at":"2020-12-17T09:58:29Z","author_association":"CONTRIBUTOR","body":"Thanks everyone.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747336598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747389683","html_url":"https://github.com/apache/tvm/pull/7093#issuecomment-747389683","issue_url":"https://api.github.com/repos/apache/tvm/issues/7093","id":747389683,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzM4OTY4Mw==","user":{"login":"euntaik","id":9193489,"node_id":"MDQ6VXNlcjkxOTM0ODk=","avatar_url":"https://avatars.githubusercontent.com/u/9193489?v=4","gravatar_id":"","url":"https://api.github.com/users/euntaik","html_url":"https://github.com/euntaik","followers_url":"https://api.github.com/users/euntaik/followers","following_url":"https://api.github.com/users/euntaik/following{/other_user}","gists_url":"https://api.github.com/users/euntaik/gists{/gist_id}","starred_url":"https://api.github.com/users/euntaik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/euntaik/subscriptions","organizations_url":"https://api.github.com/users/euntaik/orgs","repos_url":"https://api.github.com/users/euntaik/repos","events_url":"https://api.github.com/users/euntaik/events{/privacy}","received_events_url":"https://api.github.com/users/euntaik/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T11:43:34Z","updated_at":"2020-12-17T11:43:34Z","author_association":"CONTRIBUTOR","body":"Is there something else I should fix or change?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747389683/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747429353","html_url":"https://github.com/apache/tvm/pull/7093#issuecomment-747429353","issue_url":"https://api.github.com/repos/apache/tvm/issues/7093","id":747429353,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzQyOTM1Mw==","user":{"login":"FrozenGene","id":7287321,"node_id":"MDQ6VXNlcjcyODczMjE=","avatar_url":"https://avatars.githubusercontent.com/u/7287321?v=4","gravatar_id":"","url":"https://api.github.com/users/FrozenGene","html_url":"https://github.com/FrozenGene","followers_url":"https://api.github.com/users/FrozenGene/followers","following_url":"https://api.github.com/users/FrozenGene/following{/other_user}","gists_url":"https://api.github.com/users/FrozenGene/gists{/gist_id}","starred_url":"https://api.github.com/users/FrozenGene/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FrozenGene/subscriptions","organizations_url":"https://api.github.com/users/FrozenGene/orgs","repos_url":"https://api.github.com/users/FrozenGene/repos","events_url":"https://api.github.com/users/FrozenGene/events{/privacy}","received_events_url":"https://api.github.com/users/FrozenGene/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T13:09:38Z","updated_at":"2020-12-17T13:10:49Z","author_association":"MEMBER","body":"@euntaik could your pr solve this issue https://github.com/apache/tvm/issues/5823? If it could, we could associate this pr with that issue and close. \r\n\r\n@giuseros could you have another round of look? Thanks!","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747429353/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747478194","html_url":"https://github.com/apache/tvm/pull/7084#issuecomment-747478194","issue_url":"https://api.github.com/repos/apache/tvm/issues/7084","id":747478194,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzQ3ODE5NA==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T14:40:22Z","updated_at":"2020-12-17T14:41:28Z","author_association":"MEMBER","body":"Thanks @tkonolige @jroesch @ZihengJiang on discussing the issue of ICHECK and comments. While I in general agree that for cases that are user facing, having clear error message would be helpful.\r\n\r\nI would be hesitant to enforce error message for every internal invariance check. This decision is more of an engineering tradeoff. For example are many ways to improve code robustness and readability, code comment is one of them.  However, it does not necessarily mean we need to comment every line of code, even though it is possible to do so and doing so might improve readability slightly. \r\n\r\nDevelopers may want to spend their attentions in other matters and we also need to balance these concerns, so as long as the code structure is clear, we could focus the code review on more important things -- e.g. documenting the interface clearly, making sure the overall logics are correct.\r\n\r\nSimilarly, while it is always possible to add error message to every internal invariance checks, I don't think we are required to do so for every care. We can find many similar examples(like the ones below) in other large code base like TensorFlow and PyTorch, doing so doesn't make pytorch or tensorflow not product ready.\r\n\r\n- https://github.com/pytorch/pytorch/blob/master/torch/csrc/utils/throughput_benchmark.cpp#L25\r\n- https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/common_runtime/replicate_per_replica_nodes_test.cc#L54\r\n\r\nOf course this does not mean that we should not add error messages to the checks that could cause user facing errors. We should actually shift our attention to address these checks quickly, while giving flexibility to the developers in other cases that have minimum gain.\r\n\r\nIn summary, **context of the code** matters, and I believe code review should focus on understanding the overall logics, trying to think about readability in a broader context(other than error message itself), while encouraging things to move on smoothly once things met a good quality. \r\n\r\nIn this case we have discussed and I believe the ICHECK on pointer null invariant checking is not necessary. While it is indeed helpful to have better error message in other two cases.\r\n\r\n\r\n \r\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747478194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747487250","html_url":"https://github.com/apache/tvm/pull/7106#issuecomment-747487250","issue_url":"https://api.github.com/repos/apache/tvm/issues/7106","id":747487250,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzQ4NzI1MA==","user":{"login":"d-smirnov","id":25180015,"node_id":"MDQ6VXNlcjI1MTgwMDE1","avatar_url":"https://avatars.githubusercontent.com/u/25180015?v=4","gravatar_id":"","url":"https://api.github.com/users/d-smirnov","html_url":"https://github.com/d-smirnov","followers_url":"https://api.github.com/users/d-smirnov/followers","following_url":"https://api.github.com/users/d-smirnov/following{/other_user}","gists_url":"https://api.github.com/users/d-smirnov/gists{/gist_id}","starred_url":"https://api.github.com/users/d-smirnov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d-smirnov/subscriptions","organizations_url":"https://api.github.com/users/d-smirnov/orgs","repos_url":"https://api.github.com/users/d-smirnov/repos","events_url":"https://api.github.com/users/d-smirnov/events{/privacy}","received_events_url":"https://api.github.com/users/d-smirnov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T14:55:51Z","updated_at":"2020-12-17T14:55:51Z","author_association":"CONTRIBUTOR","body":"@tqchen Bump","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747487250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747487390","html_url":"https://github.com/apache/tvm/pull/7106#issuecomment-747487390","issue_url":"https://api.github.com/repos/apache/tvm/issues/7106","id":747487390,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzQ4NzM5MA==","user":{"login":"u99127","id":19559067,"node_id":"MDQ6VXNlcjE5NTU5MDY3","avatar_url":"https://avatars.githubusercontent.com/u/19559067?v=4","gravatar_id":"","url":"https://api.github.com/users/u99127","html_url":"https://github.com/u99127","followers_url":"https://api.github.com/users/u99127/followers","following_url":"https://api.github.com/users/u99127/following{/other_user}","gists_url":"https://api.github.com/users/u99127/gists{/gist_id}","starred_url":"https://api.github.com/users/u99127/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/u99127/subscriptions","organizations_url":"https://api.github.com/users/u99127/orgs","repos_url":"https://api.github.com/users/u99127/repos","events_url":"https://api.github.com/users/u99127/events{/privacy}","received_events_url":"https://api.github.com/users/u99127/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T14:56:03Z","updated_at":"2020-12-17T14:56:03Z","author_association":"CONTRIBUTOR","body":"> \r\n> \r\n> can we enable the runtime tests since I already added an ARM instance to the CI?\r\n\r\nI'll follow up with a separate PR to add this to the AArch64 CI instance.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747487390/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747512494","html_url":"https://github.com/apache/tvm/pull/7121#issuecomment-747512494","issue_url":"https://api.github.com/repos/apache/tvm/issues/7121","id":747512494,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzUxMjQ5NA==","user":{"login":"d-smirnov","id":25180015,"node_id":"MDQ6VXNlcjI1MTgwMDE1","avatar_url":"https://avatars.githubusercontent.com/u/25180015?v=4","gravatar_id":"","url":"https://api.github.com/users/d-smirnov","html_url":"https://github.com/d-smirnov","followers_url":"https://api.github.com/users/d-smirnov/followers","following_url":"https://api.github.com/users/d-smirnov/following{/other_user}","gists_url":"https://api.github.com/users/d-smirnov/gists{/gist_id}","starred_url":"https://api.github.com/users/d-smirnov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d-smirnov/subscriptions","organizations_url":"https://api.github.com/users/d-smirnov/orgs","repos_url":"https://api.github.com/users/d-smirnov/repos","events_url":"https://api.github.com/users/d-smirnov/events{/privacy}","received_events_url":"https://api.github.com/users/d-smirnov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T15:33:05Z","updated_at":"2020-12-17T15:33:17Z","author_association":"CONTRIBUTOR","body":"cc @mbaret ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747512494/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747572747","html_url":"https://github.com/apache/tvm/pull/7086#issuecomment-747572747","issue_url":"https://api.github.com/repos/apache/tvm/issues/7086","id":747572747,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzU3Mjc0Nw==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T17:07:39Z","updated_at":"2020-12-17T17:13:48Z","author_association":"MEMBER","body":"As a rule of thumb(standardizationover flexibility), we should always keep API def consistent with numpy API when there is a related case in numpy, even though it could mean additional duplications. per https://tvm.apache.org/docs/contribute/code_review.html#deliberate-on-api-and-data-structures\r\n\r\nWe can however, introduce additional attrs to reverse reshape given it is non-standard. I understand that there could be inconvenience here, but the benefits offered by standardization outweights the slight additional eng cost.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747572747/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747598083","html_url":"https://github.com/apache/tvm/pull/7084#issuecomment-747598083","issue_url":"https://api.github.com/repos/apache/tvm/issues/7084","id":747598083,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzU5ODA4Mw==","user":{"login":"tkonolige","id":1501680,"node_id":"MDQ6VXNlcjE1MDE2ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1501680?v=4","gravatar_id":"","url":"https://api.github.com/users/tkonolige","html_url":"https://github.com/tkonolige","followers_url":"https://api.github.com/users/tkonolige/followers","following_url":"https://api.github.com/users/tkonolige/following{/other_user}","gists_url":"https://api.github.com/users/tkonolige/gists{/gist_id}","starred_url":"https://api.github.com/users/tkonolige/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tkonolige/subscriptions","organizations_url":"https://api.github.com/users/tkonolige/orgs","repos_url":"https://api.github.com/users/tkonolige/repos","events_url":"https://api.github.com/users/tkonolige/events{/privacy}","received_events_url":"https://api.github.com/users/tkonolige/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T17:52:53Z","updated_at":"2020-12-17T17:52:53Z","author_association":"CONTRIBUTOR","body":"I'm a little confused on how we use return in tir? How is the example you give different if we just remove the return?\r\n```python\r\na = tir.Var(\"a\", \"float32\") \r\nb = tir.Var(\"b\", \"float32\") \r\nc = a + b\r\n# c = tir.call_intrin(\"float32\", \"tir.myreturn\", c)\r\nc = tir.Evaluate(c) /# doesn't this return a + b?\r\n```","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747598083/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747604778","html_url":"https://github.com/apache/tvm/pull/7124#issuecomment-747604778","issue_url":"https://api.github.com/repos/apache/tvm/issues/7124","id":747604778,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzYwNDc3OA==","user":{"login":"junrushao","id":22515877,"node_id":"MDQ6VXNlcjIyNTE1ODc3","avatar_url":"https://avatars.githubusercontent.com/u/22515877?v=4","gravatar_id":"","url":"https://api.github.com/users/junrushao","html_url":"https://github.com/junrushao","followers_url":"https://api.github.com/users/junrushao/followers","following_url":"https://api.github.com/users/junrushao/following{/other_user}","gists_url":"https://api.github.com/users/junrushao/gists{/gist_id}","starred_url":"https://api.github.com/users/junrushao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junrushao/subscriptions","organizations_url":"https://api.github.com/users/junrushao/orgs","repos_url":"https://api.github.com/users/junrushao/repos","events_url":"https://api.github.com/users/junrushao/events{/privacy}","received_events_url":"https://api.github.com/users/junrushao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T18:04:49Z","updated_at":"2020-12-17T18:04:49Z","author_association":"MEMBER","body":"yeah there are too many typos in the codebase...","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747604778/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747613626","html_url":"https://github.com/apache/tvm/pull/7084#issuecomment-747613626","issue_url":"https://api.github.com/repos/apache/tvm/issues/7084","id":747613626,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzYxMzYyNg==","user":{"login":"ZihengJiang","id":17693755,"node_id":"MDQ6VXNlcjE3NjkzNzU1","avatar_url":"https://avatars.githubusercontent.com/u/17693755?v=4","gravatar_id":"","url":"https://api.github.com/users/ZihengJiang","html_url":"https://github.com/ZihengJiang","followers_url":"https://api.github.com/users/ZihengJiang/followers","following_url":"https://api.github.com/users/ZihengJiang/following{/other_user}","gists_url":"https://api.github.com/users/ZihengJiang/gists{/gist_id}","starred_url":"https://api.github.com/users/ZihengJiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ZihengJiang/subscriptions","organizations_url":"https://api.github.com/users/ZihengJiang/orgs","repos_url":"https://api.github.com/users/ZihengJiang/repos","events_url":"https://api.github.com/users/ZihengJiang/events{/privacy}","received_events_url":"https://api.github.com/users/ZihengJiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T18:21:13Z","updated_at":"2020-12-17T18:21:13Z","author_association":"CONTRIBUTOR","body":"@tkonolige \r\nThis will generate a function that only evaluate but not return:\r\n``` python\r\ndef func(a, b):\r\n    c = a + b\r\n    # return c\r\n```\r\nThink and have a try by yourself would make you understand other's PR.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747613626/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747632715","html_url":"https://github.com/apache/tvm/pull/7084#issuecomment-747632715","issue_url":"https://api.github.com/repos/apache/tvm/issues/7084","id":747632715,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzYzMjcxNQ==","user":{"login":"tkonolige","id":1501680,"node_id":"MDQ6VXNlcjE1MDE2ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1501680?v=4","gravatar_id":"","url":"https://api.github.com/users/tkonolige","html_url":"https://github.com/tkonolige","followers_url":"https://api.github.com/users/tkonolige/followers","following_url":"https://api.github.com/users/tkonolige/following{/other_user}","gists_url":"https://api.github.com/users/tkonolige/gists{/gist_id}","starred_url":"https://api.github.com/users/tkonolige/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tkonolige/subscriptions","organizations_url":"https://api.github.com/users/tkonolige/orgs","repos_url":"https://api.github.com/users/tkonolige/repos","events_url":"https://api.github.com/users/tkonolige/events{/privacy}","received_events_url":"https://api.github.com/users/tkonolige/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T18:56:31Z","updated_at":"2020-12-17T18:56:31Z","author_association":"CONTRIBUTOR","body":"I'm just trying to understand things better. There's not really any documentation on TIR.\r\n\r\nI had thought that the last statement in every TIR expression was implicitly returned. Am I correct in saying that before this PR calling a TIR function would always return nullptr/None? And that now you can actually return a value?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747632715/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747634376","html_url":"https://github.com/apache/tvm/pull/7084#issuecomment-747634376","issue_url":"https://api.github.com/repos/apache/tvm/issues/7084","id":747634376,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzYzNDM3Ng==","user":{"login":"ZihengJiang","id":17693755,"node_id":"MDQ6VXNlcjE3NjkzNzU1","avatar_url":"https://avatars.githubusercontent.com/u/17693755?v=4","gravatar_id":"","url":"https://api.github.com/users/ZihengJiang","html_url":"https://github.com/ZihengJiang","followers_url":"https://api.github.com/users/ZihengJiang/followers","following_url":"https://api.github.com/users/ZihengJiang/following{/other_user}","gists_url":"https://api.github.com/users/ZihengJiang/gists{/gist_id}","starred_url":"https://api.github.com/users/ZihengJiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ZihengJiang/subscriptions","organizations_url":"https://api.github.com/users/ZihengJiang/orgs","repos_url":"https://api.github.com/users/ZihengJiang/repos","events_url":"https://api.github.com/users/ZihengJiang/events{/privacy}","received_events_url":"https://api.github.com/users/ZihengJiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T18:59:31Z","updated_at":"2020-12-17T18:59:31Z","author_association":"CONTRIBUTOR","body":"@tkonolige \r\nHappy to address your comment and hope it will make you understand TIR. Yes, usually a zero value would be returned before this PR and now a value can be explicitly returned.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747634376/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747644045","html_url":"https://github.com/apache/tvm/pull/7084#issuecomment-747644045","issue_url":"https://api.github.com/repos/apache/tvm/issues/7084","id":747644045,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzY0NDA0NQ==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T19:17:00Z","updated_at":"2020-12-17T19:17:00Z","author_association":"MEMBER","body":"Thanks @tkonolige , I agree, and perhaps https://github.com/apache/tvm/blob/main/python/tvm/tir/op.py is a better place given other intrinsics are in there","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747644045/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747647080","html_url":"https://github.com/apache/tvm/pull/6953#issuecomment-747647080","issue_url":"https://api.github.com/repos/apache/tvm/issues/6953","id":747647080,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzY0NzA4MA==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T19:22:38Z","updated_at":"2020-12-17T19:22:38Z","author_association":"MEMBER","body":"I put some time to think about this, thanks to @rkimball @areusch for great discussions. Here is one possible solution:\r\n\r\n- Add a TypedPackedFunc field `eintr_handle` to the Socket which can be called to check whether we should retry when facing eintr. default to nullptr and no retry.\r\n- Setup a global PackedFunc registry `runtime.socket.SignalHandler` that returns a PackedFunc to set into the socket, call it during socket construction in RPC server.\r\n- Register when we are in python env during initialization.\r\n\r\nLet me know if that makes sense\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747647080/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747649999","html_url":"https://github.com/apache/tvm/pull/6953#issuecomment-747649999","issue_url":"https://api.github.com/repos/apache/tvm/issues/6953","id":747649999,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzY0OTk5OQ==","user":{"login":"areusch","id":532957,"node_id":"MDQ6VXNlcjUzMjk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/532957?v=4","gravatar_id":"","url":"https://api.github.com/users/areusch","html_url":"https://github.com/areusch","followers_url":"https://api.github.com/users/areusch/followers","following_url":"https://api.github.com/users/areusch/following{/other_user}","gists_url":"https://api.github.com/users/areusch/gists{/gist_id}","starred_url":"https://api.github.com/users/areusch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areusch/subscriptions","organizations_url":"https://api.github.com/users/areusch/orgs","repos_url":"https://api.github.com/users/areusch/repos","events_url":"https://api.github.com/users/areusch/events{/privacy}","received_events_url":"https://api.github.com/users/areusch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T19:27:45Z","updated_at":"2020-12-17T19:27:45Z","author_association":"CONTRIBUTOR","body":"the only thing i would change is \"default to nullptr **and retry**.\" by default, I think we do want to retry interrupted syscalls. It is only when a non-traditional signal handler such as Python-based SIGINT handler wants us to exit. Traditionally, the C SIGINT handler would call abort() in such cases, which means we don't need to by exit by default on an interrupted syscall.\r\n\r\nthe rest makes sense to me!","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747649999/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747650777","html_url":"https://github.com/apache/tvm/pull/6953#issuecomment-747650777","issue_url":"https://api.github.com/repos/apache/tvm/issues/6953","id":747650777,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzY1MDc3Nw==","user":{"login":"rkimball","id":15673563,"node_id":"MDQ6VXNlcjE1NjczNTYz","avatar_url":"https://avatars.githubusercontent.com/u/15673563?v=4","gravatar_id":"","url":"https://api.github.com/users/rkimball","html_url":"https://github.com/rkimball","followers_url":"https://api.github.com/users/rkimball/followers","following_url":"https://api.github.com/users/rkimball/following{/other_user}","gists_url":"https://api.github.com/users/rkimball/gists{/gist_id}","starred_url":"https://api.github.com/users/rkimball/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rkimball/subscriptions","organizations_url":"https://api.github.com/users/rkimball/orgs","repos_url":"https://api.github.com/users/rkimball/repos","events_url":"https://api.github.com/users/rkimball/events{/privacy}","received_events_url":"https://api.github.com/users/rkimball/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T19:29:09Z","updated_at":"2020-12-17T19:29:09Z","author_association":"CONTRIBUTOR","body":"I think if we really want a python RPC server then we should write it using python socket calls which already properly handle signals. The problem we have is that we are calling c++ socket calls via PackedFunc and those c++ calls are not specifically designed to handle python. If we call python socket calls like os.recv then we should have no issues.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747650777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747652309","html_url":"https://github.com/apache/tvm/pull/6953#issuecomment-747652309","issue_url":"https://api.github.com/repos/apache/tvm/issues/6953","id":747652309,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzY1MjMwOQ==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T19:31:36Z","updated_at":"2020-12-17T19:34:57Z","author_association":"MEMBER","body":"@rkimball I agree that switching to python socket is another way (e.g. creating a customize channel that goes through python socket), the main reason to push the callback approach is that we may want the same libtvm runtime to function with and without the python. So ideally a handler function is slightly easier.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747652309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747655979","html_url":"https://github.com/apache/tvm/pull/7070#issuecomment-747655979","issue_url":"https://api.github.com/repos/apache/tvm/issues/7070","id":747655979,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzY1NTk3OQ==","user":{"login":"comaniac","id":8262694,"node_id":"MDQ6VXNlcjgyNjI2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8262694?v=4","gravatar_id":"","url":"https://api.github.com/users/comaniac","html_url":"https://github.com/comaniac","followers_url":"https://api.github.com/users/comaniac/followers","following_url":"https://api.github.com/users/comaniac/following{/other_user}","gists_url":"https://api.github.com/users/comaniac/gists{/gist_id}","starred_url":"https://api.github.com/users/comaniac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/comaniac/subscriptions","organizations_url":"https://api.github.com/users/comaniac/orgs","repos_url":"https://api.github.com/users/comaniac/repos","events_url":"https://api.github.com/users/comaniac/events{/privacy}","received_events_url":"https://api.github.com/users/comaniac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T19:38:00Z","updated_at":"2020-12-17T19:38:00Z","author_association":"CONTRIBUTOR","body":"Thanks @giuseros @leandron @insop.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747655979/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747661773","html_url":"https://github.com/apache/tvm/pull/6953#issuecomment-747661773","issue_url":"https://api.github.com/repos/apache/tvm/issues/6953","id":747661773,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzY2MTc3Mw==","user":{"login":"rkimball","id":15673563,"node_id":"MDQ6VXNlcjE1NjczNTYz","avatar_url":"https://avatars.githubusercontent.com/u/15673563?v=4","gravatar_id":"","url":"https://api.github.com/users/rkimball","html_url":"https://github.com/rkimball","followers_url":"https://api.github.com/users/rkimball/followers","following_url":"https://api.github.com/users/rkimball/following{/other_user}","gists_url":"https://api.github.com/users/rkimball/gists{/gist_id}","starred_url":"https://api.github.com/users/rkimball/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rkimball/subscriptions","organizations_url":"https://api.github.com/users/rkimball/orgs","repos_url":"https://api.github.com/users/rkimball/repos","events_url":"https://api.github.com/users/rkimball/events{/privacy}","received_events_url":"https://api.github.com/users/rkimball/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T19:48:48Z","updated_at":"2020-12-17T19:48:48Z","author_association":"CONTRIBUTOR","body":"The problem with python is that it handles signals internally. With PackedFunc we can't properly wrap the tvm socket calls with signal handlers to make them operate the way that native python sockets operate.\r\n\r\nAnother alternative is to wrap the c++ rpc server in python, not using FFI. Within the wrapper we could handle signals and make the python wrapped RPC server operate just like other python network functions.\r\n\r\nWhat do other languages like Rust do with signals? Is there an issue with Rust?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747661773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747663520","html_url":"https://github.com/apache/tvm/pull/6953#issuecomment-747663520","issue_url":"https://api.github.com/repos/apache/tvm/issues/6953","id":747663520,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzY2MzUyMA==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T19:52:06Z","updated_at":"2020-12-17T19:52:06Z","author_association":"MEMBER","body":"I believe @areusch 's point is we can register a special function e.g. check python error PyErr_CheckSignals(via ctypes or cython), @areusch perhaps you can elaborate? So it behaves along the same lines as python socket","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747663520/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747679635","html_url":"https://github.com/apache/tvm/pull/6953#issuecomment-747679635","issue_url":"https://api.github.com/repos/apache/tvm/issues/6953","id":747679635,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzY3OTYzNQ==","user":{"login":"areusch","id":532957,"node_id":"MDQ6VXNlcjUzMjk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/532957?v=4","gravatar_id":"","url":"https://api.github.com/users/areusch","html_url":"https://github.com/areusch","followers_url":"https://api.github.com/users/areusch/followers","following_url":"https://api.github.com/users/areusch/following{/other_user}","gists_url":"https://api.github.com/users/areusch/gists{/gist_id}","starred_url":"https://api.github.com/users/areusch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areusch/subscriptions","organizations_url":"https://api.github.com/users/areusch/orgs","repos_url":"https://api.github.com/users/areusch/repos","events_url":"https://api.github.com/users/areusch/events{/privacy}","received_events_url":"https://api.github.com/users/areusch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T20:21:03Z","updated_at":"2020-12-17T21:00:16Z","author_association":"CONTRIBUTOR","body":"that is correct. this problem is not specific to sockets--it is just the only place we see it now. it may appear in other contexts, such as in cases where a GPU driver hangs and you cannot ctrl+c it. it is better to solve this broadly using the EINTR hook rather than by requiring all languages to implement sockets on the frontend. I do agree that is an approach, but it just solves the one case rather than this issue more generally.\r\n\r\n@rkimball is right in saying that Python handles retrying internally--here is how it does it: when you call e.g. `os.read`, an internal CPython function (written in C) enters a loop. Each time, it calls read, and if it gets back `EINTR`, it calls `PyErr_CheckSignals` in a normal (I.e. not signal handler) context. It may get `EINTR` for many reasons, but one could be that a signal handler was invoked. When this happens and CPython is listening for said signal handler, it will have registered a C signal handler by calling `signal`. The OS now aborts `read` and calls this C signal handler. Notably, inside the C signal handler, the Python interpreter can't be resumed to handle the signal in Python, because the signal handler could be invoked at any time and that would be a multithreading catastrophe. So instead CPython sets an internal \"signal handler pending\" flag.\r\n\r\nNow two things could happen depending on the value of `siginterrupt`. If `siginterrupt` is set, then the syscall will return `EINTR`. If not, the OS will resume the syscall internally as if nothing happened. In the `EINTR` case, C functions called from Python should call `PyErr_CheckSignals`. Though it is called from a \"c function call instruction,\" `PyErr_CheckSignals` checks if there are any pending Python-side signal handlers and jumps the Python interpreter to those Python-side signal handlers. If one of those raises an exception, the signal handler terminates and `PyErr_CheckSignals` returns 1. It is a bit of a hack to call this function from cython/ctypes, but it worked in my prototype.\r\n\r\nNote that in the case that `siginterrupt` is 0, a C extension probably should call `PyErr_CheckSignals` if it is not merely wrapping an OS syscall, because if `SIGINT` happened and was swallowed by `siginterrupt`, the C extension does need to handle the side effect of the syscall (i.e. the data returned from os.read should go somewhere), but it should not issue *another* syscall which may block and make Ctrl+C appear to do nothing. I believe this is why `siginterrupt` is automatically set when you set a custom Python signal handler.\r\n\r\nfrom Python's perspective, calling TVM's C functions through cython or ctypes is *the same* as calling one of its internal syscall wrapper functions. Python is expecting us to also handle `EINTR` ourselves. so if we add this hook, we are holding up our end of the contract, and solving this not just for socket ops, but providing an easy way to handle this for e.g. GPU syscalls. Finally, new language frontends need only implement this hook, rather than solve this in each separate e.g. socket, GPU, etc case.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747679635/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747688337","html_url":"https://github.com/apache/tvm/pull/7122#issuecomment-747688337","issue_url":"https://api.github.com/repos/apache/tvm/issues/7122","id":747688337,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzY4ODMzNw==","user":{"login":"u99127","id":19559067,"node_id":"MDQ6VXNlcjE5NTU5MDY3","avatar_url":"https://avatars.githubusercontent.com/u/19559067?v=4","gravatar_id":"","url":"https://api.github.com/users/u99127","html_url":"https://github.com/u99127","followers_url":"https://api.github.com/users/u99127/followers","following_url":"https://api.github.com/users/u99127/following{/other_user}","gists_url":"https://api.github.com/users/u99127/gists{/gist_id}","starred_url":"https://api.github.com/users/u99127/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/u99127/subscriptions","organizations_url":"https://api.github.com/users/u99127/orgs","repos_url":"https://api.github.com/users/u99127/repos","events_url":"https://api.github.com/users/u99127/events{/privacy}","received_events_url":"https://api.github.com/users/u99127/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T20:38:31Z","updated_at":"2020-12-17T20:44:20Z","author_association":"CONTRIBUTOR","body":"> LGTM to the dockerfile and build config. I expect the follow-up PR would also enable `USE_ARM_COMPUTE_LIB_GRAPH_RUNTIME` to cover ACL runtime unit tests.\r\n>\r\n\r\nThat is the next step once this is working .Turning that on probably also needs a bit of tweaking in the infra for the tests which I'll try and fix up next. The idea was to get the docker changes in and the testing on par with what happens with the other pipeline but natively. \r\n\r\n \r\n> On the other hand, I don't think we need to add a new task script for ACL. The current Jenkinsfile already covers the ACL unit test in L280 (currently comment out). Specifically, `task_python_integration.sh` covers all the unit tests under `tests/python/contrib`, including ACL tests. As a result, I would prefer to bring L280 back in the Jenkinsfile to enable all the tests.\r\n> \r\n\r\nAs I indicated in the covering letter, turning on task_python_integration.sh was failing in my test run with failures with tolerances that  I suspect will need more time than I have this side of the holidays. It also means we can get quicker to first getting ACL runtime tests in the CI first. \r\n\r\n> Note: Docker image has to be updated after this PR. cc @tqchen\r\n\r\n\r\nregards\r\nRamana","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747688337/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747698590","html_url":"https://github.com/apache/tvm/pull/7122#issuecomment-747698590","issue_url":"https://api.github.com/repos/apache/tvm/issues/7122","id":747698590,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzY5ODU5MA==","user":{"login":"comaniac","id":8262694,"node_id":"MDQ6VXNlcjgyNjI2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8262694?v=4","gravatar_id":"","url":"https://api.github.com/users/comaniac","html_url":"https://github.com/comaniac","followers_url":"https://api.github.com/users/comaniac/followers","following_url":"https://api.github.com/users/comaniac/following{/other_user}","gists_url":"https://api.github.com/users/comaniac/gists{/gist_id}","starred_url":"https://api.github.com/users/comaniac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/comaniac/subscriptions","organizations_url":"https://api.github.com/users/comaniac/orgs","repos_url":"https://api.github.com/users/comaniac/repos","events_url":"https://api.github.com/users/comaniac/events{/privacy}","received_events_url":"https://api.github.com/users/comaniac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T20:59:36Z","updated_at":"2020-12-17T20:59:36Z","author_association":"CONTRIBUTOR","body":"> That is the next step once this is working .Turning that on probably also needs a bit of tweaking in the infra for the tests which I'll try and fix up next. The idea was to get the docker changes in and the testing on par with what happens with the other pipeline but natively.\r\n\r\nI see. Thanks for the clarification.\r\n\r\n> As I indicated in the covering letter, turning on task_python_integration.sh was failing in my test run with failures with tolerances that I suspect will need more time than I have this side of the holidays. It also means we can get quicker to first getting ACL runtime tests in the CI first.\r\n\r\nI must be missing the description before. Then it makes sense to me to have a separate script first until `task_python_integration.sh` fully works on AArch64 platform.\r\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747698590/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747703831","html_url":"https://github.com/apache/tvm/pull/7122#issuecomment-747703831","issue_url":"https://api.github.com/repos/apache/tvm/issues/7122","id":747703831,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzcwMzgzMQ==","user":{"login":"u99127","id":19559067,"node_id":"MDQ6VXNlcjE5NTU5MDY3","avatar_url":"https://avatars.githubusercontent.com/u/19559067?v=4","gravatar_id":"","url":"https://api.github.com/users/u99127","html_url":"https://github.com/u99127","followers_url":"https://api.github.com/users/u99127/followers","following_url":"https://api.github.com/users/u99127/following{/other_user}","gists_url":"https://api.github.com/users/u99127/gists{/gist_id}","starred_url":"https://api.github.com/users/u99127/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/u99127/subscriptions","organizations_url":"https://api.github.com/users/u99127/orgs","repos_url":"https://api.github.com/users/u99127/repos","events_url":"https://api.github.com/users/u99127/events{/privacy}","received_events_url":"https://api.github.com/users/u99127/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T21:10:18Z","updated_at":"2020-12-17T21:10:18Z","author_association":"CONTRIBUTOR","body":"> \r\n> > As I indicated in the covering letter, turning on task_python_integration.sh was failing in my test run with failures with tolerances that I suspect will need more time than I have this side of the holidays. It also means we can get quicker to first getting ACL runtime tests in the CI first.\r\n> \r\n> I must be missing the description before. Then it makes sense to me to have a separate script first until `task_python_integration.sh` fully works on AArch64 platform.\r\n\r\n\r\nThanks for the swift review. Yes , sorry I don't think I was explicit enough in saying that. \r\n\r\nRamana \r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747703831/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747725450","html_url":"https://github.com/apache/tvm/pull/7117#issuecomment-747725450","issue_url":"https://api.github.com/repos/apache/tvm/issues/7117","id":747725450,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzcyNTQ1MA==","user":{"login":"kevinthesun","id":15520525,"node_id":"MDQ6VXNlcjE1NTIwNTI1","avatar_url":"https://avatars.githubusercontent.com/u/15520525?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinthesun","html_url":"https://github.com/kevinthesun","followers_url":"https://api.github.com/users/kevinthesun/followers","following_url":"https://api.github.com/users/kevinthesun/following{/other_user}","gists_url":"https://api.github.com/users/kevinthesun/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinthesun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinthesun/subscriptions","organizations_url":"https://api.github.com/users/kevinthesun/orgs","repos_url":"https://api.github.com/users/kevinthesun/repos","events_url":"https://api.github.com/users/kevinthesun/events{/privacy}","received_events_url":"https://api.github.com/users/kevinthesun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T21:54:55Z","updated_at":"2020-12-17T21:54:55Z","author_association":"CONTRIBUTOR","body":"Thanks @mbrookhart ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747725450/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747728047","html_url":"https://github.com/apache/tvm/pull/6978#issuecomment-747728047","issue_url":"https://api.github.com/repos/apache/tvm/issues/6978","id":747728047,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzcyODA0Nw==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T22:00:45Z","updated_at":"2020-12-17T22:00:45Z","author_association":"MEMBER","body":"Thanks @mbrookhart @zhiics @kevinthesun @jwfromm ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747728047/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747750771","html_url":"https://github.com/apache/tvm/pull/7127#issuecomment-747750771","issue_url":"https://api.github.com/repos/apache/tvm/issues/7127","id":747750771,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Nzc1MDc3MQ==","user":{"login":"hogepodge","id":367747,"node_id":"MDQ6VXNlcjM2Nzc0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/367747?v=4","gravatar_id":"","url":"https://api.github.com/users/hogepodge","html_url":"https://github.com/hogepodge","followers_url":"https://api.github.com/users/hogepodge/followers","following_url":"https://api.github.com/users/hogepodge/following{/other_user}","gists_url":"https://api.github.com/users/hogepodge/gists{/gist_id}","starred_url":"https://api.github.com/users/hogepodge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hogepodge/subscriptions","organizations_url":"https://api.github.com/users/hogepodge/orgs","repos_url":"https://api.github.com/users/hogepodge/repos","events_url":"https://api.github.com/users/hogepodge/events{/privacy}","received_events_url":"https://api.github.com/users/hogepodge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T22:55:59Z","updated_at":"2020-12-17T22:56:15Z","author_association":"CONTRIBUTOR","body":"@jwfromm @mbrookhart \r\n\r\nTaking a first run at updating some of the onnx tutorial information. Feedback greatly appreciated.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747750771/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747780063","html_url":"https://github.com/apache/tvm/pull/6959#issuecomment-747780063","issue_url":"https://api.github.com/repos/apache/tvm/issues/6959","id":747780063,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Nzc4MDA2Mw==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T23:59:01Z","updated_at":"2020-12-17T23:59:01Z","author_association":"MEMBER","body":"going to merge after two days","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747780063/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747790790","html_url":"https://github.com/apache/tvm/pull/7125#issuecomment-747790790","issue_url":"https://api.github.com/repos/apache/tvm/issues/7125","id":747790790,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Nzc5MDc5MA==","user":{"login":"codeislife99","id":17168743,"node_id":"MDQ6VXNlcjE3MTY4NzQz","avatar_url":"https://avatars.githubusercontent.com/u/17168743?v=4","gravatar_id":"","url":"https://api.github.com/users/codeislife99","html_url":"https://github.com/codeislife99","followers_url":"https://api.github.com/users/codeislife99/followers","following_url":"https://api.github.com/users/codeislife99/following{/other_user}","gists_url":"https://api.github.com/users/codeislife99/gists{/gist_id}","starred_url":"https://api.github.com/users/codeislife99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codeislife99/subscriptions","organizations_url":"https://api.github.com/users/codeislife99/orgs","repos_url":"https://api.github.com/users/codeislife99/repos","events_url":"https://api.github.com/users/codeislife99/events{/privacy}","received_events_url":"https://api.github.com/users/codeislife99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-18T00:28:16Z","updated_at":"2020-12-18T00:28:16Z","author_association":"CONTRIBUTOR","body":"@trevor-m @comaniac @zhiics PTAL ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747790790/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747811368","html_url":"https://github.com/apache/tvm/pull/7122#issuecomment-747811368","issue_url":"https://api.github.com/repos/apache/tvm/issues/7122","id":747811368,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzgxMTM2OA==","user":{"login":"comaniac","id":8262694,"node_id":"MDQ6VXNlcjgyNjI2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8262694?v=4","gravatar_id":"","url":"https://api.github.com/users/comaniac","html_url":"https://github.com/comaniac","followers_url":"https://api.github.com/users/comaniac/followers","following_url":"https://api.github.com/users/comaniac/following{/other_user}","gists_url":"https://api.github.com/users/comaniac/gists{/gist_id}","starred_url":"https://api.github.com/users/comaniac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/comaniac/subscriptions","organizations_url":"https://api.github.com/users/comaniac/orgs","repos_url":"https://api.github.com/users/comaniac/repos","events_url":"https://api.github.com/users/comaniac/events{/privacy}","received_events_url":"https://api.github.com/users/comaniac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-18T01:35:31Z","updated_at":"2020-12-18T01:35:31Z","author_association":"CONTRIBUTOR","body":"Thanks @u99127 @zhiics.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747811368/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747848521","html_url":"https://github.com/apache/tvm/pull/7128#issuecomment-747848521","issue_url":"https://api.github.com/repos/apache/tvm/issues/7128","id":747848521,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Nzg0ODUyMQ==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-18T03:40:53Z","updated_at":"2020-12-18T03:40:53Z","author_association":"MEMBER","body":"Thanks, please run `black` to fix formatting.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747848521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747854049","html_url":"https://github.com/apache/tvm/pull/7128#issuecomment-747854049","issue_url":"https://api.github.com/repos/apache/tvm/issues/7128","id":747854049,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Nzg1NDA0OQ==","user":{"login":"TylerADavis","id":16804460,"node_id":"MDQ6VXNlcjE2ODA0NDYw","avatar_url":"https://avatars.githubusercontent.com/u/16804460?v=4","gravatar_id":"","url":"https://api.github.com/users/TylerADavis","html_url":"https://github.com/TylerADavis","followers_url":"https://api.github.com/users/TylerADavis/followers","following_url":"https://api.github.com/users/TylerADavis/following{/other_user}","gists_url":"https://api.github.com/users/TylerADavis/gists{/gist_id}","starred_url":"https://api.github.com/users/TylerADavis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TylerADavis/subscriptions","organizations_url":"https://api.github.com/users/TylerADavis/orgs","repos_url":"https://api.github.com/users/TylerADavis/repos","events_url":"https://api.github.com/users/TylerADavis/events{/privacy}","received_events_url":"https://api.github.com/users/TylerADavis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-18T04:04:42Z","updated_at":"2020-12-18T04:04:42Z","author_association":"CONTRIBUTOR","body":"Hi, I just ran `black` on `pytorch.py` and pushed the changes.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747854049/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747862152","html_url":"https://github.com/apache/tvm/issues/7129#issuecomment-747862152","issue_url":"https://api.github.com/repos/apache/tvm/issues/7129","id":747862152,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Nzg2MjE1Mg==","user":{"login":"slyubomirsky","id":5624871,"node_id":"MDQ6VXNlcjU2MjQ4NzE=","avatar_url":"https://avatars.githubusercontent.com/u/5624871?v=4","gravatar_id":"","url":"https://api.github.com/users/slyubomirsky","html_url":"https://github.com/slyubomirsky","followers_url":"https://api.github.com/users/slyubomirsky/followers","following_url":"https://api.github.com/users/slyubomirsky/following{/other_user}","gists_url":"https://api.github.com/users/slyubomirsky/gists{/gist_id}","starred_url":"https://api.github.com/users/slyubomirsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/slyubomirsky/subscriptions","organizations_url":"https://api.github.com/users/slyubomirsky/orgs","repos_url":"https://api.github.com/users/slyubomirsky/repos","events_url":"https://api.github.com/users/slyubomirsky/events{/privacy}","received_events_url":"https://api.github.com/users/slyubomirsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-18T04:36:09Z","updated_at":"2020-12-18T21:59:41Z","author_association":"CONTRIBUTOR","body":"It appears this can be easily fixed with some changes to the Python binding for `stack`. I will PR a fix. (See #7130)","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747862152/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747862332","html_url":"https://github.com/apache/tvm/pull/7128#issuecomment-747862332","issue_url":"https://api.github.com/repos/apache/tvm/issues/7128","id":747862332,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Nzg2MjMzMg==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-18T04:36:50Z","updated_at":"2020-12-18T04:36:50Z","author_association":"MEMBER","body":"Have you looked at `verify_script_model` in pytorch/test_forward.py? It might help for adding tests for `is_floating_point`.  I also encountered an empty graph when writing a test for `torch.numel` with tracing. See `test_numel()` for its usage. ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747862332/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747862949","html_url":"https://github.com/apache/tvm/pull/7111#issuecomment-747862949","issue_url":"https://api.github.com/repos/apache/tvm/issues/7111","id":747862949,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Nzg2Mjk0OQ==","user":{"login":"insop","id":1240382,"node_id":"MDQ6VXNlcjEyNDAzODI=","avatar_url":"https://avatars.githubusercontent.com/u/1240382?v=4","gravatar_id":"","url":"https://api.github.com/users/insop","html_url":"https://github.com/insop","followers_url":"https://api.github.com/users/insop/followers","following_url":"https://api.github.com/users/insop/following{/other_user}","gists_url":"https://api.github.com/users/insop/gists{/gist_id}","starred_url":"https://api.github.com/users/insop/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/insop/subscriptions","organizations_url":"https://api.github.com/users/insop/orgs","repos_url":"https://api.github.com/users/insop/repos","events_url":"https://api.github.com/users/insop/events{/privacy}","received_events_url":"https://api.github.com/users/insop/received_events","type":"User","user_view_type":"public","site_admin":true},"created_at":"2020-12-18T04:39:15Z","updated_at":"2020-12-18T04:46:52Z","author_association":"CONTRIBUTOR","body":"@tsupei,\r\n\r\nI didn't see it on my system where it only ran `llvm` test.\r\nI have this [patch](https://github.com/insop/incubator-tvm/commit/9760c73dd0144bfbdd09f1dcbc7746efe269a823.patch) to skip dynamic test on `cuda`, which you could apply.\r\n\r\nHowever, I am not cure about this `Memory verification` shown your previous post and [jenkins](https://ci.tlcpack.ai/blue/organizations/jenkins/tvm/detail/PR-7111/6/pipeline/) on cuda is expected or not?\r\n@comaniac , @zhiics, thought?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747862949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747864475","html_url":"https://github.com/apache/tvm/pull/7099#issuecomment-747864475","issue_url":"https://api.github.com/repos/apache/tvm/issues/7099","id":747864475,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Nzg2NDQ3NQ==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-18T04:45:00Z","updated_at":"2020-12-18T04:45:00Z","author_association":"MEMBER","body":"@mbrookhart I think we can revive some tests that are currently disabled due to flaky sort. See \r\n\r\nhttps://github.com/apache/tvm/blob/bad149ed8a555444d813537608ee5cea9e95e97e/tests/python/relay/test_any.py#L253-L256\r\n\r\nhttps://github.com/apache/tvm/blob/76b4ad09386f26ff360d0276745fe882d3ba6b0d/tests/python/topi/python/test_topi_argwhere.py#L63-L71","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747864475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747865155","html_url":"https://github.com/apache/tvm/pull/7123#issuecomment-747865155","issue_url":"https://api.github.com/repos/apache/tvm/issues/7123","id":747865155,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Nzg2NTE1NQ==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-18T04:47:22Z","updated_at":"2020-12-18T04:47:22Z","author_association":"MEMBER","body":"@mbrookhart Can you revive disabled topi `get_valid_count` test? It seems this test needs some updating.\r\n\r\nhttps://github.com/apache/tvm/blob/76b4ad09386f26ff360d0276745fe882d3ba6b0d/tests/python/topi/python/test_topi_vision.py#L124-L129","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747865155/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747872960","html_url":"https://github.com/apache/tvm/issues/7129#issuecomment-747872960","issue_url":"https://api.github.com/repos/apache/tvm/issues/7129","id":747872960,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Nzg3Mjk2MA==","user":{"login":"slyubomirsky","id":5624871,"node_id":"MDQ6VXNlcjU2MjQ4NzE=","avatar_url":"https://avatars.githubusercontent.com/u/5624871?v=4","gravatar_id":"","url":"https://api.github.com/users/slyubomirsky","html_url":"https://github.com/slyubomirsky","followers_url":"https://api.github.com/users/slyubomirsky/followers","following_url":"https://api.github.com/users/slyubomirsky/following{/other_user}","gists_url":"https://api.github.com/users/slyubomirsky/gists{/gist_id}","starred_url":"https://api.github.com/users/slyubomirsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/slyubomirsky/subscriptions","organizations_url":"https://api.github.com/users/slyubomirsky/orgs","repos_url":"https://api.github.com/users/slyubomirsky/repos","events_url":"https://api.github.com/users/slyubomirsky/events{/privacy}","received_events_url":"https://api.github.com/users/slyubomirsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-18T05:15:45Z","updated_at":"2020-12-18T05:15:45Z","author_association":"CONTRIBUTOR","body":"In retrospect, it is conceivable that the documentation did correctly note that the input must be a list or a tuple literal, but I would argue that restricting the possible input in this way defies user expectations. Also the fix was very easy.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747872960/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747878618","html_url":"https://github.com/apache/tvm/issues/7104#issuecomment-747878618","issue_url":"https://api.github.com/repos/apache/tvm/issues/7104","id":747878618,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Nzg3ODYxOA==","user":{"login":"dlexplorer","id":70961591,"node_id":"MDQ6VXNlcjcwOTYxNTkx","avatar_url":"https://avatars.githubusercontent.com/u/70961591?v=4","gravatar_id":"","url":"https://api.github.com/users/dlexplorer","html_url":"https://github.com/dlexplorer","followers_url":"https://api.github.com/users/dlexplorer/followers","following_url":"https://api.github.com/users/dlexplorer/following{/other_user}","gists_url":"https://api.github.com/users/dlexplorer/gists{/gist_id}","starred_url":"https://api.github.com/users/dlexplorer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlexplorer/subscriptions","organizations_url":"https://api.github.com/users/dlexplorer/orgs","repos_url":"https://api.github.com/users/dlexplorer/repos","events_url":"https://api.github.com/users/dlexplorer/events{/privacy}","received_events_url":"https://api.github.com/users/dlexplorer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-18T05:34:37Z","updated_at":"2020-12-18T07:43:31Z","author_association":"CONTRIBUTOR","body":"I double checked it and still confirm that loading inception v1 been compiled with ACL crashes on device and the version been compiled with pure llvm approach works well\r\n\r\nthis is how I compiled network\r\n```\r\nimport argparse\r\nimport sys\r\nimport onnx\r\nimport tvm\r\nfrom tvm import relay\r\nfrom tvm.contrib import ndk\r\n\r\nparser = argparse.ArgumentParser(description=\r\n    \"Converts and compiles ONNX model\")\r\nrequired = parser.add_argument_group('required arguments')\r\nrequired.add_argument('-m', '--input_model', required=True, type=str, help=\"path to ONNX model\")\r\nargs = parser.parse_args()\r\n\r\nonnx_model = onnx.load(args.input_model)\r\nmod, params = relay.frontend.from_onnx(onnx_model)\r\n\r\ntarget = \"llvm -model=snapdragon835 -mtriple=arm-linux-android -mattr=+neon\"\r\ntarget_host = \"llvm -mtriple=aarch64-linux-android-g++\"\r\n\r\n# next two line defines the ACL/pure llvm diffirentiation\r\nfrom tvm.relay.op.contrib.arm_compute_lib import partition_for_arm_compute_lib\r\nmod = partition_for_arm_compute_lib(mod)\r\n\r\nwith tvm.transform.PassContext(opt_level=3):\r\n    lib = relay.build(mod, target=target, target_host=target_host, params=params)\r\n\r\nprint(args.input_model + \".so\")\r\nlib.export_library(args.input_model + \".so\", ndk.create_shared)\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747878618/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747881146","html_url":"https://github.com/apache/tvm/pull/7111#issuecomment-747881146","issue_url":"https://api.github.com/repos/apache/tvm/issues/7111","id":747881146,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Nzg4MTE0Ng==","user":{"login":"tsupei","id":54231421,"node_id":"MDQ6VXNlcjU0MjMxNDIx","avatar_url":"https://avatars.githubusercontent.com/u/54231421?v=4","gravatar_id":"","url":"https://api.github.com/users/tsupei","html_url":"https://github.com/tsupei","followers_url":"https://api.github.com/users/tsupei/followers","following_url":"https://api.github.com/users/tsupei/following{/other_user}","gists_url":"https://api.github.com/users/tsupei/gists{/gist_id}","starred_url":"https://api.github.com/users/tsupei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tsupei/subscriptions","organizations_url":"https://api.github.com/users/tsupei/orgs","repos_url":"https://api.github.com/users/tsupei/repos","events_url":"https://api.github.com/users/tsupei/events{/privacy}","received_events_url":"https://api.github.com/users/tsupei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-18T05:43:21Z","updated_at":"2020-12-18T05:45:07Z","author_association":"CONTRIBUTOR","body":"@insop Device `nvptx` will also have `Memory Verification` issue. I add a commit to skip that.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747881146/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747900398","html_url":"https://github.com/apache/tvm/pull/7002#issuecomment-747900398","issue_url":"https://api.github.com/repos/apache/tvm/issues/7002","id":747900398,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzkwMDM5OA==","user":{"login":"manupak","id":61496855,"node_id":"MDQ6VXNlcjYxNDk2ODU1","avatar_url":"https://avatars.githubusercontent.com/u/61496855?v=4","gravatar_id":"","url":"https://api.github.com/users/manupak","html_url":"https://github.com/manupak","followers_url":"https://api.github.com/users/manupak/followers","following_url":"https://api.github.com/users/manupak/following{/other_user}","gists_url":"https://api.github.com/users/manupak/gists{/gist_id}","starred_url":"https://api.github.com/users/manupak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manupak/subscriptions","organizations_url":"https://api.github.com/users/manupak/orgs","repos_url":"https://api.github.com/users/manupak/repos","events_url":"https://api.github.com/users/manupak/events{/privacy}","received_events_url":"https://api.github.com/users/manupak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-18T06:37:23Z","updated_at":"2020-12-18T06:37:23Z","author_association":"CONTRIBUTOR","body":"@tqchen @areusch @zhiics , I ve addressed all the comments and aligned with what we discussed in the RFC.\r\nCan you have another look when you have time? If its OK, please approve explicitly. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747900398/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747915428","html_url":"https://github.com/apache/tvm/pull/7111#issuecomment-747915428","issue_url":"https://api.github.com/repos/apache/tvm/issues/7111","id":747915428,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzkxNTQyOA==","user":{"login":"insop","id":1240382,"node_id":"MDQ6VXNlcjEyNDAzODI=","avatar_url":"https://avatars.githubusercontent.com/u/1240382?v=4","gravatar_id":"","url":"https://api.github.com/users/insop","html_url":"https://github.com/insop","followers_url":"https://api.github.com/users/insop/followers","following_url":"https://api.github.com/users/insop/following{/other_user}","gists_url":"https://api.github.com/users/insop/gists{/gist_id}","starred_url":"https://api.github.com/users/insop/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/insop/subscriptions","organizations_url":"https://api.github.com/users/insop/orgs","repos_url":"https://api.github.com/users/insop/repos","events_url":"https://api.github.com/users/insop/events{/privacy}","received_events_url":"https://api.github.com/users/insop/received_events","type":"User","user_view_type":"public","site_admin":true},"created_at":"2020-12-18T07:14:58Z","updated_at":"2020-12-18T07:15:13Z","author_association":"CONTRIBUTOR","body":"@comaniac , @zhiics\r\n\r\nPTAL.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747915428/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747928318","html_url":"https://github.com/apache/tvm/pull/7128#issuecomment-747928318","issue_url":"https://api.github.com/repos/apache/tvm/issues/7128","id":747928318,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzkyODMxOA==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-18T07:48:51Z","updated_at":"2020-12-18T07:48:51Z","author_association":"MEMBER","body":"Thanks @TylerADavis ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747928318/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747969625","html_url":"https://github.com/apache/tvm/pull/7132#issuecomment-747969625","issue_url":"https://api.github.com/repos/apache/tvm/issues/7132","id":747969625,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Nzk2OTYyNQ==","user":{"login":"FrozenGene","id":7287321,"node_id":"MDQ6VXNlcjcyODczMjE=","avatar_url":"https://avatars.githubusercontent.com/u/7287321?v=4","gravatar_id":"","url":"https://api.github.com/users/FrozenGene","html_url":"https://github.com/FrozenGene","followers_url":"https://api.github.com/users/FrozenGene/followers","following_url":"https://api.github.com/users/FrozenGene/following{/other_user}","gists_url":"https://api.github.com/users/FrozenGene/gists{/gist_id}","starred_url":"https://api.github.com/users/FrozenGene/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FrozenGene/subscriptions","organizations_url":"https://api.github.com/users/FrozenGene/orgs","repos_url":"https://api.github.com/users/FrozenGene/repos","events_url":"https://api.github.com/users/FrozenGene/events{/privacy}","received_events_url":"https://api.github.com/users/FrozenGene/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-18T09:26:53Z","updated_at":"2020-12-18T09:26:53Z","author_association":"MEMBER","body":"@merrymercy @comaniac @jcf94 ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747969625/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747970332","html_url":"https://github.com/apache/tvm/pull/7132#issuecomment-747970332","issue_url":"https://api.github.com/repos/apache/tvm/issues/7132","id":747970332,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Nzk3MDMzMg==","user":{"login":"FrozenGene","id":7287321,"node_id":"MDQ6VXNlcjcyODczMjE=","avatar_url":"https://avatars.githubusercontent.com/u/7287321?v=4","gravatar_id":"","url":"https://api.github.com/users/FrozenGene","html_url":"https://github.com/FrozenGene","followers_url":"https://api.github.com/users/FrozenGene/followers","following_url":"https://api.github.com/users/FrozenGene/following{/other_user}","gists_url":"https://api.github.com/users/FrozenGene/gists{/gist_id}","starred_url":"https://api.github.com/users/FrozenGene/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FrozenGene/subscriptions","organizations_url":"https://api.github.com/users/FrozenGene/orgs","repos_url":"https://api.github.com/users/FrozenGene/repos","events_url":"https://api.github.com/users/FrozenGene/events{/privacy}","received_events_url":"https://api.github.com/users/FrozenGene/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-18T09:28:23Z","updated_at":"2020-12-18T09:28:23Z","author_association":"MEMBER","body":"cc @antinucleon Apple's M1 GPU is more like Mali (such as unified memory) compared with nv gpu, maybe you could modify a little code and try.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747970332/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747973235","html_url":"https://github.com/apache/tvm/pull/7093#issuecomment-747973235","issue_url":"https://api.github.com/repos/apache/tvm/issues/7093","id":747973235,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Nzk3MzIzNQ==","user":{"login":"FrozenGene","id":7287321,"node_id":"MDQ6VXNlcjcyODczMjE=","avatar_url":"https://avatars.githubusercontent.com/u/7287321?v=4","gravatar_id":"","url":"https://api.github.com/users/FrozenGene","html_url":"https://github.com/FrozenGene","followers_url":"https://api.github.com/users/FrozenGene/followers","following_url":"https://api.github.com/users/FrozenGene/following{/other_user}","gists_url":"https://api.github.com/users/FrozenGene/gists{/gist_id}","starred_url":"https://api.github.com/users/FrozenGene/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FrozenGene/subscriptions","organizations_url":"https://api.github.com/users/FrozenGene/orgs","repos_url":"https://api.github.com/users/FrozenGene/repos","events_url":"https://api.github.com/users/FrozenGene/events{/privacy}","received_events_url":"https://api.github.com/users/FrozenGene/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-18T09:33:00Z","updated_at":"2020-12-18T09:33:00Z","author_association":"MEMBER","body":"@euntaik Could you help to check your pr could solve issue #5823? IMO, your pr is enough.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/747973235/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/748111438","html_url":"https://github.com/apache/tvm/pull/7132#issuecomment-748111438","issue_url":"https://api.github.com/repos/apache/tvm/issues/7132","id":748111438,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODExMTQzOA==","user":{"login":"FrozenGene","id":7287321,"node_id":"MDQ6VXNlcjcyODczMjE=","avatar_url":"https://avatars.githubusercontent.com/u/7287321?v=4","gravatar_id":"","url":"https://api.github.com/users/FrozenGene","html_url":"https://github.com/FrozenGene","followers_url":"https://api.github.com/users/FrozenGene/followers","following_url":"https://api.github.com/users/FrozenGene/following{/other_user}","gists_url":"https://api.github.com/users/FrozenGene/gists{/gist_id}","starred_url":"https://api.github.com/users/FrozenGene/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FrozenGene/subscriptions","organizations_url":"https://api.github.com/users/FrozenGene/orgs","repos_url":"https://api.github.com/users/FrozenGene/repos","events_url":"https://api.github.com/users/FrozenGene/events{/privacy}","received_events_url":"https://api.github.com/users/FrozenGene/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-18T14:25:30Z","updated_at":"2020-12-18T14:25:30Z","author_association":"MEMBER","body":"cc @giuseros @u99127 I heard you have interest on auto scheduler for mali gpu on TVM Conf.  ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/748111438/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/748250861","html_url":"https://github.com/apache/tvm/pull/7086#issuecomment-748250861","issue_url":"https://api.github.com/repos/apache/tvm/issues/7086","id":748250861,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODI1MDg2MQ==","user":{"login":"jwfromm","id":9874242,"node_id":"MDQ6VXNlcjk4NzQyNDI=","avatar_url":"https://avatars.githubusercontent.com/u/9874242?v=4","gravatar_id":"","url":"https://api.github.com/users/jwfromm","html_url":"https://github.com/jwfromm","followers_url":"https://api.github.com/users/jwfromm/followers","following_url":"https://api.github.com/users/jwfromm/following{/other_user}","gists_url":"https://api.github.com/users/jwfromm/gists{/gist_id}","starred_url":"https://api.github.com/users/jwfromm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jwfromm/subscriptions","organizations_url":"https://api.github.com/users/jwfromm/orgs","repos_url":"https://api.github.com/users/jwfromm/repos","events_url":"https://api.github.com/users/jwfromm/events{/privacy}","received_events_url":"https://api.github.com/users/jwfromm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-18T18:38:34Z","updated_at":"2020-12-18T18:38:34Z","author_association":"CONTRIBUTOR","body":"Based on TQs feedback we should keep reshape and reverse_reshape separate. We can do this while resolving the hidden reverse attribute by splitting the type relationship for the two ops. I've updated this PR to do that instead. @icemelon9 can you take another look?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/748250861/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/748263088","html_url":"https://github.com/apache/tvm/pull/7130#issuecomment-748263088","issue_url":"https://api.github.com/repos/apache/tvm/issues/7130","id":748263088,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODI2MzA4OA==","user":{"login":"gussmith23","id":1203329,"node_id":"MDQ6VXNlcjEyMDMzMjk=","avatar_url":"https://avatars.githubusercontent.com/u/1203329?v=4","gravatar_id":"","url":"https://api.github.com/users/gussmith23","html_url":"https://github.com/gussmith23","followers_url":"https://api.github.com/users/gussmith23/followers","following_url":"https://api.github.com/users/gussmith23/following{/other_user}","gists_url":"https://api.github.com/users/gussmith23/gists{/gist_id}","starred_url":"https://api.github.com/users/gussmith23/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gussmith23/subscriptions","organizations_url":"https://api.github.com/users/gussmith23/orgs","repos_url":"https://api.github.com/users/gussmith23/repos","events_url":"https://api.github.com/users/gussmith23/events{/privacy}","received_events_url":"https://api.github.com/users/gussmith23/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-18T18:59:46Z","updated_at":"2020-12-18T18:59:46Z","author_association":"CONTRIBUTOR","body":"(Seems like it's @Laurawly's code being changed mostly!)","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/748263088/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/748313420","html_url":"https://github.com/apache/tvm/pull/7099#issuecomment-748313420","issue_url":"https://api.github.com/repos/apache/tvm/issues/7099","id":748313420,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODMxMzQyMA==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-18T20:53:15Z","updated_at":"2020-12-18T20:53:15Z","author_association":"MEMBER","body":"We should also remove \r\n\r\nhttps://github.com/apache/tvm/blob/76b4ad09386f26ff360d0276745fe882d3ba6b0d/tests/python/topi/python/test_topi_argwhere.py#L63-L65","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/748313420/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/748381851","html_url":"https://github.com/apache/tvm/pull/7111#issuecomment-748381851","issue_url":"https://api.github.com/repos/apache/tvm/issues/7111","id":748381851,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODM4MTg1MQ==","user":{"login":"zhiics","id":5145158,"node_id":"MDQ6VXNlcjUxNDUxNTg=","avatar_url":"https://avatars.githubusercontent.com/u/5145158?v=4","gravatar_id":"","url":"https://api.github.com/users/zhiics","html_url":"https://github.com/zhiics","followers_url":"https://api.github.com/users/zhiics/followers","following_url":"https://api.github.com/users/zhiics/following{/other_user}","gists_url":"https://api.github.com/users/zhiics/gists{/gist_id}","starred_url":"https://api.github.com/users/zhiics/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhiics/subscriptions","organizations_url":"https://api.github.com/users/zhiics/orgs","repos_url":"https://api.github.com/users/zhiics/repos","events_url":"https://api.github.com/users/zhiics/events{/privacy}","received_events_url":"https://api.github.com/users/zhiics/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-19T00:04:42Z","updated_at":"2020-12-19T00:04:42Z","author_association":"MEMBER","body":"Thanks @tsupei @insop @comaniac ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/748381851/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/748382078","html_url":"https://github.com/apache/tvm/issues/7102#issuecomment-748382078","issue_url":"https://api.github.com/repos/apache/tvm/issues/7102","id":748382078,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODM4MjA3OA==","user":{"login":"zhiics","id":5145158,"node_id":"MDQ6VXNlcjUxNDUxNTg=","avatar_url":"https://avatars.githubusercontent.com/u/5145158?v=4","gravatar_id":"","url":"https://api.github.com/users/zhiics","html_url":"https://github.com/zhiics","followers_url":"https://api.github.com/users/zhiics/followers","following_url":"https://api.github.com/users/zhiics/following{/other_user}","gists_url":"https://api.github.com/users/zhiics/gists{/gist_id}","starred_url":"https://api.github.com/users/zhiics/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhiics/subscriptions","organizations_url":"https://api.github.com/users/zhiics/orgs","repos_url":"https://api.github.com/users/zhiics/repos","events_url":"https://api.github.com/users/zhiics/events{/privacy}","received_events_url":"https://api.github.com/users/zhiics/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-19T00:05:34Z","updated_at":"2020-12-19T00:05:34Z","author_association":"MEMBER","body":"closed by #7111 ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/748382078/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/748398256","html_url":"https://github.com/apache/tvm/pull/7099#issuecomment-748398256","issue_url":"https://api.github.com/repos/apache/tvm/issues/7099","id":748398256,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODM5ODI1Ng==","user":{"login":"mbrookhart","id":4065489,"node_id":"MDQ6VXNlcjQwNjU0ODk=","avatar_url":"https://avatars.githubusercontent.com/u/4065489?v=4","gravatar_id":"","url":"https://api.github.com/users/mbrookhart","html_url":"https://github.com/mbrookhart","followers_url":"https://api.github.com/users/mbrookhart/followers","following_url":"https://api.github.com/users/mbrookhart/following{/other_user}","gists_url":"https://api.github.com/users/mbrookhart/gists{/gist_id}","starred_url":"https://api.github.com/users/mbrookhart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbrookhart/subscriptions","organizations_url":"https://api.github.com/users/mbrookhart/orgs","repos_url":"https://api.github.com/users/mbrookhart/repos","events_url":"https://api.github.com/users/mbrookhart/events{/privacy}","received_events_url":"https://api.github.com/users/mbrookhart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-19T01:30:12Z","updated_at":"2020-12-19T01:30:12Z","author_association":"CONTRIBUTOR","body":"Oh no! A copy-paste error! Will fix","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/748398256/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/748425076","html_url":"https://github.com/apache/tvm/pull/7119#issuecomment-748425076","issue_url":"https://api.github.com/repos/apache/tvm/issues/7119","id":748425076,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODQyNTA3Ng==","user":{"login":"ANSHUMAN87","id":32511895,"node_id":"MDQ6VXNlcjMyNTExODk1","avatar_url":"https://avatars.githubusercontent.com/u/32511895?v=4","gravatar_id":"","url":"https://api.github.com/users/ANSHUMAN87","html_url":"https://github.com/ANSHUMAN87","followers_url":"https://api.github.com/users/ANSHUMAN87/followers","following_url":"https://api.github.com/users/ANSHUMAN87/following{/other_user}","gists_url":"https://api.github.com/users/ANSHUMAN87/gists{/gist_id}","starred_url":"https://api.github.com/users/ANSHUMAN87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ANSHUMAN87/subscriptions","organizations_url":"https://api.github.com/users/ANSHUMAN87/orgs","repos_url":"https://api.github.com/users/ANSHUMAN87/repos","events_url":"https://api.github.com/users/ANSHUMAN87/events{/privacy}","received_events_url":"https://api.github.com/users/ANSHUMAN87/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-19T05:58:05Z","updated_at":"2020-12-19T05:58:05Z","author_association":"CONTRIBUTOR","body":"Thanks @zhiics !","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/748425076/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/748442533","html_url":"https://github.com/apache/tvm/pull/7131#issuecomment-748442533","issue_url":"https://api.github.com/repos/apache/tvm/issues/7131","id":748442533,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODQ0MjUzMw==","user":{"login":"hzfan","id":18756967,"node_id":"MDQ6VXNlcjE4NzU2OTY3","avatar_url":"https://avatars.githubusercontent.com/u/18756967?v=4","gravatar_id":"","url":"https://api.github.com/users/hzfan","html_url":"https://github.com/hzfan","followers_url":"https://api.github.com/users/hzfan/followers","following_url":"https://api.github.com/users/hzfan/following{/other_user}","gists_url":"https://api.github.com/users/hzfan/gists{/gist_id}","starred_url":"https://api.github.com/users/hzfan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hzfan/subscriptions","organizations_url":"https://api.github.com/users/hzfan/orgs","repos_url":"https://api.github.com/users/hzfan/repos","events_url":"https://api.github.com/users/hzfan/events{/privacy}","received_events_url":"https://api.github.com/users/hzfan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-19T08:38:37Z","updated_at":"2020-12-19T08:38:37Z","author_association":"CONTRIBUTOR","body":"CI's green. @yzhliu @icemelon9 @liangfu could you help review?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/748442533/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/748527709","html_url":"https://github.com/apache/tvm/issues/7135#issuecomment-748527709","issue_url":"https://api.github.com/repos/apache/tvm/issues/7135","id":748527709,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODUyNzcwOQ==","user":{"login":"comaniac","id":8262694,"node_id":"MDQ6VXNlcjgyNjI2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8262694?v=4","gravatar_id":"","url":"https://api.github.com/users/comaniac","html_url":"https://github.com/comaniac","followers_url":"https://api.github.com/users/comaniac/followers","following_url":"https://api.github.com/users/comaniac/following{/other_user}","gists_url":"https://api.github.com/users/comaniac/gists{/gist_id}","starred_url":"https://api.github.com/users/comaniac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/comaniac/subscriptions","organizations_url":"https://api.github.com/users/comaniac/orgs","repos_url":"https://api.github.com/users/comaniac/repos","events_url":"https://api.github.com/users/comaniac/events{/privacy}","received_events_url":"https://api.github.com/users/comaniac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-19T21:26:43Z","updated_at":"2020-12-19T21:26:43Z","author_association":"CONTRIBUTOR","body":"Could you clarify that did you use the tuning log from July for the current upstream directly or did you re-tune the model? Looks like the task shown by the message hasn't been tuned.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/748527709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/748527963","html_url":"https://github.com/apache/tvm/issues/7135#issuecomment-748527963","issue_url":"https://api.github.com/repos/apache/tvm/issues/7135","id":748527963,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODUyNzk2Mw==","user":{"login":"antinucleon","id":1258974,"node_id":"MDQ6VXNlcjEyNTg5NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1258974?v=4","gravatar_id":"","url":"https://api.github.com/users/antinucleon","html_url":"https://github.com/antinucleon","followers_url":"https://api.github.com/users/antinucleon/followers","following_url":"https://api.github.com/users/antinucleon/following{/other_user}","gists_url":"https://api.github.com/users/antinucleon/gists{/gist_id}","starred_url":"https://api.github.com/users/antinucleon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/antinucleon/subscriptions","organizations_url":"https://api.github.com/users/antinucleon/orgs","repos_url":"https://api.github.com/users/antinucleon/repos","events_url":"https://api.github.com/users/antinucleon/events{/privacy}","received_events_url":"https://api.github.com/users/antinucleon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-19T21:28:26Z","updated_at":"2020-12-19T21:28:26Z","author_association":"CONTRIBUTOR","body":"The last is tuned, but for some reason during fusing, a fast tanh function\nlocation is different, which made matching fail.\n\nOn Sat, Dec 19, 2020 at 13:26 Cody Yu <notifications@github.com> wrote:\n\n> Could you clarify that did you use the tuning log from July for the\n> current upstream directly or did you re-tune the model? Looks like the task\n> shown by the message hasn't been tuned.\n>\n> â€”\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/tvm/issues/7135#issuecomment-748527709>, or\n> unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AAJTLXTRPLH3P5IGHURHP33SVULB7ANCNFSM4VCD3BHQ>\n> .\n>\n-- \nBing Xu\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/748527963/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/748530587","html_url":"https://github.com/apache/tvm/issues/7135#issuecomment-748530587","issue_url":"https://api.github.com/repos/apache/tvm/issues/7135","id":748530587,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODUzMDU4Nw==","user":{"login":"comaniac","id":8262694,"node_id":"MDQ6VXNlcjgyNjI2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8262694?v=4","gravatar_id":"","url":"https://api.github.com/users/comaniac","html_url":"https://github.com/comaniac","followers_url":"https://api.github.com/users/comaniac/followers","following_url":"https://api.github.com/users/comaniac/following{/other_user}","gists_url":"https://api.github.com/users/comaniac/gists{/gist_id}","starred_url":"https://api.github.com/users/comaniac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/comaniac/subscriptions","organizations_url":"https://api.github.com/users/comaniac/orgs","repos_url":"https://api.github.com/users/comaniac/repos","events_url":"https://api.github.com/users/comaniac/events{/privacy}","received_events_url":"https://api.github.com/users/comaniac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-19T21:56:39Z","updated_at":"2020-12-19T21:56:39Z","author_association":"CONTRIBUTOR","body":"So you meant that task has different hash numbers between extraction and compilation? I could take a look next week if so.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/748530587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/748532455","html_url":"https://github.com/apache/tvm/issues/7135#issuecomment-748532455","issue_url":"https://api.github.com/repos/apache/tvm/issues/7135","id":748532455,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODUzMjQ1NQ==","user":{"login":"antinucleon","id":1258974,"node_id":"MDQ6VXNlcjEyNTg5NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1258974?v=4","gravatar_id":"","url":"https://api.github.com/users/antinucleon","html_url":"https://github.com/antinucleon","followers_url":"https://api.github.com/users/antinucleon/followers","following_url":"https://api.github.com/users/antinucleon/following{/other_user}","gists_url":"https://api.github.com/users/antinucleon/gists{/gist_id}","starred_url":"https://api.github.com/users/antinucleon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/antinucleon/subscriptions","organizations_url":"https://api.github.com/users/antinucleon/orgs","repos_url":"https://api.github.com/users/antinucleon/repos","events_url":"https://api.github.com/users/antinucleon/events{/privacy}","received_events_url":"https://api.github.com/users/antinucleon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-19T22:15:41Z","updated_at":"2020-12-19T22:15:41Z","author_association":"CONTRIBUTOR","body":"I think I didnâ€™t express clearly (with phone). So with current upstream,\nthere is a mismatch during auto scheduler and fuse pass. This bug is not\nexisting in 0.7 codebase.\n\nYes re tune an extra task is a way to hide to bug, but not a solution.\n\nOn Sat, Dec 19, 2020 at 13:56 Cody Yu <notifications@github.com> wrote:\n\n> So you meant that task has different hash numbers between extraction and\n> compilation? I could take a look next week if so.\n>\n> â€”\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/tvm/issues/7135#issuecomment-748530587>, or\n> unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AAJTLXR4MTK7EDD25QYXY7TSVUOSFANCNFSM4VCD3BHQ>\n> .\n>\n-- \nBing Xu\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/748532455/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/748535061","html_url":"https://github.com/apache/tvm/issues/7135#issuecomment-748535061","issue_url":"https://api.github.com/repos/apache/tvm/issues/7135","id":748535061,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODUzNTA2MQ==","user":{"login":"comaniac","id":8262694,"node_id":"MDQ6VXNlcjgyNjI2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8262694?v=4","gravatar_id":"","url":"https://api.github.com/users/comaniac","html_url":"https://github.com/comaniac","followers_url":"https://api.github.com/users/comaniac/followers","following_url":"https://api.github.com/users/comaniac/following{/other_user}","gists_url":"https://api.github.com/users/comaniac/gists{/gist_id}","starred_url":"https://api.github.com/users/comaniac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/comaniac/subscriptions","organizations_url":"https://api.github.com/users/comaniac/orgs","repos_url":"https://api.github.com/users/comaniac/repos","events_url":"https://api.github.com/users/comaniac/events{/privacy}","received_events_url":"https://api.github.com/users/comaniac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-19T22:41:58Z","updated_at":"2020-12-19T22:41:58Z","author_association":"CONTRIBUTOR","body":"OK I'll take a look next week. btw, I tried the repo but failed to convert the Pytorch BERT model to Relay. I guess it's due to incompatible Pytorch (1.7.0) or model version. The error I got when running `dump_pt.py` was missing Relay op `prim::DictConstruct`. It would be good if you could provide a minimal reproducible example for this issue so that people can directly work on it.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/748535061/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/748535619","html_url":"https://github.com/apache/tvm/issues/7135#issuecomment-748535619","issue_url":"https://api.github.com/repos/apache/tvm/issues/7135","id":748535619,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODUzNTYxOQ==","user":{"login":"comaniac","id":8262694,"node_id":"MDQ6VXNlcjgyNjI2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8262694?v=4","gravatar_id":"","url":"https://api.github.com/users/comaniac","html_url":"https://github.com/comaniac","followers_url":"https://api.github.com/users/comaniac/followers","following_url":"https://api.github.com/users/comaniac/following{/other_user}","gists_url":"https://api.github.com/users/comaniac/gists{/gist_id}","starred_url":"https://api.github.com/users/comaniac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/comaniac/subscriptions","organizations_url":"https://api.github.com/users/comaniac/orgs","repos_url":"https://api.github.com/users/comaniac/repos","events_url":"https://api.github.com/users/comaniac/events{/privacy}","received_events_url":"https://api.github.com/users/comaniac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-19T22:48:10Z","updated_at":"2020-12-19T22:48:10Z","author_association":"CONTRIBUTOR","body":"nvm. I noticed that the transformers has to be in 3.0. I can repdocue the issue now.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/748535619/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/748537304","html_url":"https://github.com/apache/tvm/issues/7135#issuecomment-748537304","issue_url":"https://api.github.com/repos/apache/tvm/issues/7135","id":748537304,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODUzNzMwNA==","user":{"login":"comaniac","id":8262694,"node_id":"MDQ6VXNlcjgyNjI2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8262694?v=4","gravatar_id":"","url":"https://api.github.com/users/comaniac","html_url":"https://github.com/comaniac","followers_url":"https://api.github.com/users/comaniac/followers","following_url":"https://api.github.com/users/comaniac/following{/other_user}","gists_url":"https://api.github.com/users/comaniac/gists{/gist_id}","starred_url":"https://api.github.com/users/comaniac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/comaniac/subscriptions","organizations_url":"https://api.github.com/users/comaniac/orgs","repos_url":"https://api.github.com/users/comaniac/repos","events_url":"https://api.github.com/users/comaniac/events{/privacy}","received_events_url":"https://api.github.com/users/comaniac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-19T23:05:19Z","updated_at":"2020-12-19T23:05:19Z","author_association":"CONTRIBUTOR","body":"OK so the root cause is your script uses `opt_level=0` when building the model; while auto_scheduler task extraction uses `opt_level=3`. I changed `opt_level` in `search_dense_gpu.py` to 3 and here is what I got:\r\n\r\n```\r\nCompile...\r\n-----------------------------------\r\nCannot find tuned schedules for target=metal -keys=metal,gpu -max_num_threads=256, workload_key=[\"13da82b16db5a9fde8953f4c5667d2e4\"]. A fallback TOPI schedule is used, which may bring great performance regression or even compilation failure. Compute DAG info:\r\nplaceholder = PLACEHOLDER [1, 768]\r\nplaceholder = PLACEHOLDER [768, 768]\r\nT_dense(i, j) += (placeholder[i, k]*placeholder[j, k])\r\nplaceholder = PLACEHOLDER [768]\r\nT_add(ax0, ax1) = (T_dense[ax0, ax1] + placeholder[ax1])\r\nT_minimum(ax0, ax1) = min(T_add[ax0, ax1], 9f)\r\nT_maximum(ax0, ax1) = max(T_minimum[ax0, ax1], -9f)\r\nT_fast_tanh(ax0, ax1) = ((T_maximum[ax0, ax1]*(((T_maximum[ax0, ax1]*T_maximum[ax0, ax1])*(((T_maximum[ax0, ax1]*T_maximum[ax0,  ..(OMITTED).. *T_maximum[ax0, ax1])*(((T_maximum[ax0, ax1]*T_maximum[ax0, ax1])*1.19826e-06f) + 0.000118535f)) + 0.00226843f)) + 0.00489353f))\r\n```\r\n\r\nThe task hash code `13da82b16db5a9fde8953f4c5667d2e4` matches one of the extracted tasks from the model:\r\n\r\n```\r\n========== Task 9  (workload key: [\"13da82b16db5a9fde8953f4c5667d2e4\"]) ==========\r\nplaceholder = PLACEHOLDER [1, 768]\r\nplaceholder = PLACEHOLDER [768, 768]\r\nT_dense(i, j) += (placeholder[i, k]*placeholder[j, k])\r\nplaceholder = PLACEHOLDER [768]\r\nT_add(ax0, ax1) = (T_dense[ax0, ax1] + placeholder[ax1])\r\nT_minimum(ax0, ax1) = min(T_add[ax0, ax1], 9f)\r\nT_maximum(ax0, ax1) = max(T_minimum[ax0, ax1], -9f)\r\nT_fast_tanh(ax0, ax1) = ((T_maximum[ax0, ax1]*(((T_maximum[ax0, ax1]*T_maximum[ax0, ax1])*(((T_maximum[ax0, ax1]*T_maximum[ax0,  ..(OMITTED).. *T_maximum[ax0, ax1])*(((T_maximum[ax0, ax1]*T_maximum[ax0, ax1])*1.19826e-06f) + 0.000118535f)) + 0.00226843f)) + 0.00489353f))\r\n```\r\n\r\nIn conclusion, this is not really a bug, but we may need to come up with a solution to further improve task extraction configuration. I'm closing this issue first, and we could have an RFC on the discuss forum.\r\n\r\ncc @merrymercy ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/748537304/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]