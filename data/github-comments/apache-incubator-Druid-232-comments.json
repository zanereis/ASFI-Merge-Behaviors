[{"url":"https://api.github.com/repos/apache/druid/issues/comments/478596277","html_url":"https://github.com/apache/druid/issues/6281#issuecomment-478596277","issue_url":"https://api.github.com/repos/apache/druid/issues/6281","id":478596277,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODU5NjI3Nw==","user":{"login":"milimetric","id":1038928,"node_id":"MDQ6VXNlcjEwMzg5Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/1038928?v=4","gravatar_id":"","url":"https://api.github.com/users/milimetric","html_url":"https://github.com/milimetric","followers_url":"https://api.github.com/users/milimetric/followers","following_url":"https://api.github.com/users/milimetric/following{/other_user}","gists_url":"https://api.github.com/users/milimetric/gists{/gist_id}","starred_url":"https://api.github.com/users/milimetric/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milimetric/subscriptions","organizations_url":"https://api.github.com/users/milimetric/orgs","repos_url":"https://api.github.com/users/milimetric/repos","events_url":"https://api.github.com/users/milimetric/events{/privacy}","received_events_url":"https://api.github.com/users/milimetric/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-01T14:13:07Z","updated_at":"2019-04-01T14:13:20Z","author_association":"NONE","body":"Oh, I think this might be our issue, it's exactly what we're seeing: #7169","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/478596277/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/478612887","html_url":"https://github.com/apache/druid/issues/7169#issuecomment-478612887","issue_url":"https://api.github.com/repos/apache/druid/issues/7169","id":478612887,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODYxMjg4Nw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-01T14:54:19Z","updated_at":"2019-04-01T14:54:19Z","author_association":"CONTRIBUTOR","body":"Based on @clintropolis's comment it looks like this is going to be fixed in 0.14.0.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/478612887/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/478613051","html_url":"https://github.com/apache/druid/issues/6281#issuecomment-478613051","issue_url":"https://api.github.com/repos/apache/druid/issues/6281","id":478613051,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODYxMzA1MQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-01T14:54:43Z","updated_at":"2019-04-01T14:54:43Z","author_association":"CONTRIBUTOR","body":"Ah, in that case, it should be fixed in 0.14.0 if you use a \"parquet\" parse spec.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/478613051/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/478621453","html_url":"https://github.com/apache/druid/issues/6834#issuecomment-478621453","issue_url":"https://api.github.com/repos/apache/druid/issues/6834","id":478621453,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODYyMTQ1Mw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-01T15:15:33Z","updated_at":"2019-04-01T15:15:33Z","author_association":"CONTRIBUTOR","body":"> Brokers delegate Druid SQL queries against sys.segments to Coordinator. So brokers don't have to deal with published (used) segments in their memory at all.\r\n\r\nWe had talked a bit about this idea offline last week and I believe generally thought it was a good idea in isolation. In particular, we had thought about moving the entire `sys` schema implementation to the Coordinator and having the Broker send any SQL queries on `sys` over there. Users could also query `sys` tables on the Coordinator directly if they wanted.\r\n\r\nHowever, there were two counterpoints raised:\r\n\r\n- It is a somewhat common request from our users to add an option to the Broker to either fail a query, or provide a warning, if that query is returning partial results because the underlying segments are partially unavailable. Right now, if some segments are not available, the Broker's query runner does not know (it has zero information about unavailable segments). So it will simply return partial results, without informing the caller. Definitely you could imagine life being better if the caller knew about this. For the feature to work properly the Broker needs to know about segments that are published but unavailable, which is the same\r\n- https://github.com/apache/incubator-druid/issues/6319 contemplates a design for finer-grained locking and finer-grained atomic overwriting that would be useful for a compaction feature. Its design, as currently contemplated, requires the Broker to retain information about segments that are published but unavailable.\r\n\r\n> Brokers access the metadata store to update their view of published (used) segments directly, without Coordinator as a proxy.\r\n\r\nThis one was considered as well, the main counterpoint raised was that currently, only the Coordinator and Overlord have a direct dependency on the metadata store, and there was a desire to keep it that way. In turn there were two reasons for that:\r\n\r\n- A desire to minimize the number of services that depend on the metadata store, both for architectural complexity and load reasons.\r\n- A thought that someday, in the future, we might want to bring the metadata store 'in house' and have it be something the Coordinator does on its own without an external dependency. This could be through implementing Raft or some other consensus protocol on the Coordinators, and using that to allow the Coordinators to take on the functionality of both ZooKeeper and the metadata store. The motivation would be to simplify deployment and reduce the number of mandatory external dependencies. In this case, any other server type that needs to interact with metadata would have to do so through Coordinator APIs. So we might as well stick to that now to make a potential future change easier.\r\n\r\n> For memory savings, adding an extra flags to DataSegment object: isAvailable, isPublished, and using a single unified ConcurrentHashMap view for the purposes of both BrokerServerView and MetadataSegmentView.\r\n\r\nThis was not discussed. I haven't thought through the implications fully but I would worry that it means either DataSegment must no longer be immutable (because isAvailable, etc can change) or that it remains immutable but can no longer be interned effectively (because there's no longer a single DataSegment object per SegmentId). So I would look at those things first when evaluating this idea.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/478621453/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/478631018","html_url":"https://github.com/apache/druid/issues/7386#issuecomment-478631018","issue_url":"https://api.github.com/repos/apache/druid/issues/7386","id":478631018,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODYzMTAxOA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-01T15:38:26Z","updated_at":"2019-04-01T15:38:26Z","author_association":"CONTRIBUTOR","body":"I'm not sure if there was a correctness reason for doing this or not so I can't speak to that.\r\n\r\nIts behavior can definitely be unintuitive with regard to memory use though: each pending persist adds another potentially-full IncrementalIndex and so increases memory requirements beyond what you might expect based on a particular maxRowsInMemory setting. But I'm not sure if that's why it was marked deprecated or not. I don't see much discussion about it.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/478631018/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/478679684","html_url":"https://github.com/apache/druid/pull/6960#issuecomment-478679684","issue_url":"https://api.github.com/repos/apache/druid/issues/6960","id":478679684,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODY3OTY4NA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-01T17:54:04Z","updated_at":"2019-04-01T17:54:27Z","author_association":"CONTRIBUTOR","body":"Should `EmptySequence` and `EmptyIterator` also be renamed?\r\n\r\n> Since I'm renaming a few files in the area already, any upvotes for renaming some of the other datasketches extension post-aggregator types to make navigating to the right file easier? \r\n\r\nI think it depends on how many classes you are thinking to rename. I'm fine by doing it in this PR if it's small enough.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/478679684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/478684413","html_url":"https://github.com/apache/druid/issues/7360#issuecomment-478684413","issue_url":"https://api.github.com/repos/apache/druid/issues/7360","id":478684413,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODY4NDQxMw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-01T18:07:29Z","updated_at":"2019-04-01T18:07:29Z","author_association":"CONTRIBUTOR","body":"Related to https://github.com/apache/incubator-druid/issues/5906.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/478684413/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/478709450","html_url":"https://github.com/apache/druid/issues/6834#issuecomment-478709450","issue_url":"https://api.github.com/repos/apache/druid/issues/6834","id":478709450,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODcwOTQ1MA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-01T19:17:05Z","updated_at":"2019-04-01T19:17:05Z","author_association":"MEMBER","body":"> A desire to minimize the number of services that depend on the metadata store, both for architectural complexity and load reasons.\r\n\r\nIt might be (sometimes, or even often) the opposite of that:\r\n - Proxying through Coordinator makes the latter a more important node. If the Coordinator is down, the data on Brokers becomes stale, or newly started Brokers cannot load data until the Coordinator is up. Metadata store itself is generally considered a much more stable piece, it's expected to be down more rarely than Coordinators. Generally, the promise of Druid is that whichever type of node is down, the rest of the cluster can continue to operate somewhat normally.\r\n - Metadata store is a database service managed in the cloud (such as Amazon Aurora) that is more scalable than a single Coordinator node.\r\n\r\nAlso, it would allow simplifying the codebase, because there would be a single abstraction used in both Coordinator and Brokers. I initially turned my attention to this proposal when I was forced to [write explanations](https://github.com/apache/incubator-druid/pull/7306/commits/06ec3896375fd1120060923cc073256906d09371#diff-5707cd19ee7a43a258f29e61fd385d4cR64) of how `MetadataSegmentView` is different from `SegmentsMetadata`.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/478709450/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/478709748","html_url":"https://github.com/apache/druid/issues/7395#issuecomment-478709748","issue_url":"https://api.github.com/repos/apache/druid/issues/7395","id":478709748,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODcwOTc0OA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-01T19:17:58Z","updated_at":"2019-04-01T19:17:58Z","author_association":"CONTRIBUTOR","body":"What's wrong with Interners? I don't see a discussion in #6357.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/478709748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/478710142","html_url":"https://github.com/apache/druid/issues/6834#issuecomment-478710142","issue_url":"https://api.github.com/repos/apache/druid/issues/6834","id":478710142,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODcxMDE0Mg==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-01T19:19:13Z","updated_at":"2019-04-01T19:19:13Z","author_association":"MEMBER","body":"Another design question, regarding #6901: was it considered to not add `druid.sql.planner.metadataSegmentCacheEnable` configuration parameter? Perhaps, just start caching after the first access to `sys.segments`?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/478710142/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/478711284","html_url":"https://github.com/apache/druid/issues/6834#issuecomment-478711284","issue_url":"https://api.github.com/repos/apache/druid/issues/6834","id":478711284,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODcxMTI4NA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-01T19:22:54Z","updated_at":"2019-04-01T19:22:54Z","author_association":"MEMBER","body":"> This was not discussed. I haven't thought through the implications fully but I would worry that it means either DataSegment must no longer be immutable (because isAvailable, etc can change) or that it remains immutable but can no longer be interned effectively (because there's no longer a single DataSegment object per SegmentId).\r\n\r\n`DataSegment` objects don't need to be interned if the unified view is used.\r\n\r\nFYI, I've already explored this idea in the Coordinator's context here: https://github.com/metamx/druid/commit/772bd29adb829cb5c09eb233ed3bf93209c2a456#diff-d349ac1596d0704583da60485358e307R117 and will almost certainly use it some way in the course of implementing #7159.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/478711284/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/478712698","html_url":"https://github.com/apache/druid/issues/6834#issuecomment-478712698","issue_url":"https://api.github.com/repos/apache/druid/issues/6834","id":478712698,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODcxMjY5OA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-01T19:27:08Z","updated_at":"2019-04-01T19:27:08Z","author_association":"CONTRIBUTOR","body":"It looks like you tried making them mutable and commented that it was a 'horrible abstraction leak' -- I think I agree. Are you thinking now that it's worth it for the memory savings even due to the leaky abstraction? Mutable DataSegments seem to me like something that we should try to avoid if possible.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/478712698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/478741897","html_url":"https://github.com/apache/druid/pull/6960#issuecomment-478741897","issue_url":"https://api.github.com/repos/apache/druid/issues/6960","id":478741897,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODc0MTg5Nw==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-01T20:48:28Z","updated_at":"2019-04-01T20:48:28Z","author_association":"MEMBER","body":">Should EmptySequence and EmptyIterator also be renamed?\r\n\r\nI don't think so, since maybe 'empty' more correctly describes those cases.\r\n\r\n>I think it depends on how many classes you are thinking to rename. I'm fine by doing it in this PR if it's small enough.\r\n\r\nI think that would be more appropriate to do in a different PR if at all.\r\n\r\nThanks for review!\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/478741897/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/478780947","html_url":"https://github.com/apache/druid/pull/6567#issuecomment-478780947","issue_url":"https://api.github.com/repos/apache/druid/issues/6567","id":478780947,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODc4MDk0Nw==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-04-01T23:17:07Z","updated_at":"2019-04-01T23:17:07Z","author_association":"NONE","body":"This pull request has been closed due to lack of activity. If you think that is incorrect, or the pull request requires review, you can revive the PR at any time.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/478780947/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/478786866","html_url":"https://github.com/apache/druid/pull/6567#issuecomment-478786866","issue_url":"https://api.github.com/repos/apache/druid/issues/6567","id":478786866,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODc4Njg2Ng==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-01T23:39:33Z","updated_at":"2019-04-01T23:39:33Z","author_association":"CONTRIBUTOR","body":"aw man, this seemed like a cool thing,. @blugowski / @gianm is there an interest in finishing this?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/478786866/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/478788467","html_url":"https://github.com/apache/druid/issues/6834#issuecomment-478788467","issue_url":"https://api.github.com/repos/apache/druid/issues/6834","id":478788467,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODc4ODQ2Nw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-01T23:48:36Z","updated_at":"2019-04-01T23:48:36Z","author_association":"MEMBER","body":"Well, now the message seems for me to be more hysterical than it should be. Having `isLoaded`, `isAvailable`, `isPublished` flags in a class called `DataSegment` seems OK to me (there may be a private subclass like \"DataSegmentOnBroker\"). You should do the right thing in very few places, not all over the place. Add good comments to these places and everything will be OK.\r\n\r\nIf you want to process `sys.segments` queries on Brokers in the first place, I think this optimization is worth doing.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/478788467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/478789372","html_url":"https://github.com/apache/druid/issues/7395#issuecomment-478789372","issue_url":"https://api.github.com/repos/apache/druid/issues/7395","id":478789372,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODc4OTM3Mg==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-01T23:53:41Z","updated_at":"2019-04-01T23:54:02Z","author_association":"MEMBER","body":"The explanation is in the PR description. You are getting rid of one giant map with weak references which hogs the memory. Weak refs are also bad for GC.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/478789372/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/478790705","html_url":"https://github.com/apache/druid/issues/7233#issuecomment-478790705","issue_url":"https://api.github.com/repos/apache/druid/issues/7233","id":478790705,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODc5MDcwNQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-02T00:00:39Z","updated_at":"2019-04-02T00:00:57Z","author_association":"MEMBER","body":"Yes. Also, the part \"can\" is wrong, because `is_available` is responsible for \"can\". A segment may be \"actual\" (as per the definition above) but not available at the same time.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/478790705/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/478793780","html_url":"https://github.com/apache/druid/pull/6633#issuecomment-478793780","issue_url":"https://api.github.com/repos/apache/druid/issues/6633","id":478793780,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODc5Mzc4MA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-04-02T00:17:06Z","updated_at":"2019-04-02T00:17:06Z","author_association":"NONE","body":"This pull request has been marked as stale due to 60 days of inactivity. It will be closed in 1 week if no further activity occurs. If you think that’s incorrect or this pull request requires a review, please simply write any comment. If closed, you can revive the PR at any time and @mention a reviewer or discuss it on the dev@druid.apache.org list. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/478793780/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/478796658","html_url":"https://github.com/apache/druid/issues/7396#issuecomment-478796658","issue_url":"https://api.github.com/repos/apache/druid/issues/7396","id":478796658,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODc5NjY1OA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-02T00:33:06Z","updated_at":"2019-04-02T00:33:06Z","author_association":"CONTRIBUTOR","body":"I'd prefer to keep the old names, since they aren't so bad, and a rename like this would be quite disruptive.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/478796658/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/478831472","html_url":"https://github.com/apache/druid/issues/7386#issuecomment-478831472","issue_url":"https://api.github.com/repos/apache/druid/issues/7386","id":478831472,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODgzMTQ3Mg==","user":{"login":"QiuMM","id":15156517,"node_id":"MDQ6VXNlcjE1MTU2NTE3","avatar_url":"https://avatars.githubusercontent.com/u/15156517?v=4","gravatar_id":"","url":"https://api.github.com/users/QiuMM","html_url":"https://github.com/QiuMM","followers_url":"https://api.github.com/users/QiuMM/followers","following_url":"https://api.github.com/users/QiuMM/following{/other_user}","gists_url":"https://api.github.com/users/QiuMM/gists{/gist_id}","starred_url":"https://api.github.com/users/QiuMM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/QiuMM/subscriptions","organizations_url":"https://api.github.com/users/QiuMM/orgs","repos_url":"https://api.github.com/users/QiuMM/repos","events_url":"https://api.github.com/users/QiuMM/events{/privacy}","received_events_url":"https://api.github.com/users/QiuMM/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-02T03:36:06Z","updated_at":"2019-04-02T03:36:06Z","author_association":"MEMBER","body":"@gianm thanks for your reply, tweak the `maxRowsInMemory` may not help since increase it would also increase the persist time (because more data need to persist), so if during the persist time, more than one potentially-full IncrementalIndex is produced, then there may still be pending persists. In such situation, `maxPendingPersists` is more useful.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/478831472/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/478956046","html_url":"https://github.com/apache/druid/pull/7334#issuecomment-478956046","issue_url":"https://api.github.com/repos/apache/druid/issues/7334","id":478956046,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODk1NjA0Ng==","user":{"login":"asdf2014","id":8108788,"node_id":"MDQ6VXNlcjgxMDg3ODg=","avatar_url":"https://avatars.githubusercontent.com/u/8108788?v=4","gravatar_id":"","url":"https://api.github.com/users/asdf2014","html_url":"https://github.com/asdf2014","followers_url":"https://api.github.com/users/asdf2014/followers","following_url":"https://api.github.com/users/asdf2014/following{/other_user}","gists_url":"https://api.github.com/users/asdf2014/gists{/gist_id}","starred_url":"https://api.github.com/users/asdf2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asdf2014/subscriptions","organizations_url":"https://api.github.com/users/asdf2014/orgs","repos_url":"https://api.github.com/users/asdf2014/repos","events_url":"https://api.github.com/users/asdf2014/events{/privacy}","received_events_url":"https://api.github.com/users/asdf2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-02T11:31:58Z","updated_at":"2019-04-02T11:31:58Z","author_association":"MEMBER","body":"@egor-ryashin Do you have more comments?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/478956046/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/479114077","html_url":"https://github.com/apache/druid/issues/7233#issuecomment-479114077","issue_url":"https://api.github.com/repos/apache/druid/issues/7233","id":479114077,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTExNDA3Nw==","user":{"login":"surekhasaharan","id":13008746,"node_id":"MDQ6VXNlcjEzMDA4NzQ2","avatar_url":"https://avatars.githubusercontent.com/u/13008746?v=4","gravatar_id":"","url":"https://api.github.com/users/surekhasaharan","html_url":"https://github.com/surekhasaharan","followers_url":"https://api.github.com/users/surekhasaharan/followers","following_url":"https://api.github.com/users/surekhasaharan/following{/other_user}","gists_url":"https://api.github.com/users/surekhasaharan/gists{/gist_id}","starred_url":"https://api.github.com/users/surekhasaharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/surekhasaharan/subscriptions","organizations_url":"https://api.github.com/users/surekhasaharan/orgs","repos_url":"https://api.github.com/users/surekhasaharan/repos","events_url":"https://api.github.com/users/surekhasaharan/events{/privacy}","received_events_url":"https://api.github.com/users/surekhasaharan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-02T17:42:34Z","updated_at":"2019-04-02T17:42:34Z","author_association":"NONE","body":"Thanks everyone for the discussion and your inputs on this. I am thinking of adding a column `is_overshadowed` to `sys.segments` at this time. Not adding any `is_active` or `is_actual` col to keep things clear and easy to understand and since you can get the `is_actual` by doing `is_published && !is_overshadowed`.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/479114077/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/479135584","html_url":"https://github.com/apache/druid/pull/6567#issuecomment-479135584","issue_url":"https://api.github.com/repos/apache/druid/issues/6567","id":479135584,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTEzNTU4NA==","user":{"login":"blugowski","id":22055014,"node_id":"MDQ6VXNlcjIyMDU1MDE0","avatar_url":"https://avatars.githubusercontent.com/u/22055014?v=4","gravatar_id":"","url":"https://api.github.com/users/blugowski","html_url":"https://github.com/blugowski","followers_url":"https://api.github.com/users/blugowski/followers","following_url":"https://api.github.com/users/blugowski/following{/other_user}","gists_url":"https://api.github.com/users/blugowski/gists{/gist_id}","starred_url":"https://api.github.com/users/blugowski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blugowski/subscriptions","organizations_url":"https://api.github.com/users/blugowski/orgs","repos_url":"https://api.github.com/users/blugowski/repos","events_url":"https://api.github.com/users/blugowski/events{/privacy}","received_events_url":"https://api.github.com/users/blugowski/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-02T18:29:45Z","updated_at":"2019-04-02T18:29:45Z","author_association":"CONTRIBUTOR","body":"@drcrallen yea, but maybe only in new web console?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/479135584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/479182060","html_url":"https://github.com/apache/druid/pull/7320#issuecomment-479182060","issue_url":"https://api.github.com/repos/apache/druid/issues/7320","id":479182060,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTE4MjA2MA==","user":{"login":"AlexanderSaydakov","id":13126686,"node_id":"MDQ6VXNlcjEzMTI2Njg2","avatar_url":"https://avatars.githubusercontent.com/u/13126686?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexanderSaydakov","html_url":"https://github.com/AlexanderSaydakov","followers_url":"https://api.github.com/users/AlexanderSaydakov/followers","following_url":"https://api.github.com/users/AlexanderSaydakov/following{/other_user}","gists_url":"https://api.github.com/users/AlexanderSaydakov/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexanderSaydakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexanderSaydakov/subscriptions","organizations_url":"https://api.github.com/users/AlexanderSaydakov/orgs","repos_url":"https://api.github.com/users/AlexanderSaydakov/repos","events_url":"https://api.github.com/users/AlexanderSaydakov/events{/privacy}","received_events_url":"https://api.github.com/users/AlexanderSaydakov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-02T20:18:31Z","updated_at":"2019-04-02T20:18:31Z","author_association":"CONTRIBUTOR","body":"Can we make sure this gets into the 0.14.0 release?\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/479182060/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/479191836","html_url":"https://github.com/apache/druid/pull/7320#issuecomment-479191836","issue_url":"https://api.github.com/repos/apache/druid/issues/7320","id":479191836,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTE5MTgzNg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-02T20:40:57Z","updated_at":"2019-04-02T20:40:57Z","author_association":"CONTRIBUTOR","body":"Hi @AlexanderSaydakov,\r\n\r\n0.14.0 is code-frozen other than regressions / critical bug fixes right now, but if this is committed soon, it will end up in 0.15.0 (which should be code frozen in about 1 month's time). Could you please double check the CI errors? They look legit but might indicate a borked merge, since they seem unrelated to your changes:\r\n\r\n```\r\n[ERROR] /home/travis/build/apache/incubator-druid/sql/src/test/java/org/apache/druid/sql/calcite/CalciteQueryTest.java:[7687,40] cannot find symbol\r\n  symbol:   variable RESULT_FORMAT_COMPACTED_LIST\r\n  location: class org.apache.druid.query.scan.ScanQuery\r\n```\r\n\r\nMerging master into your branch should help.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/479191836/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/479213213","html_url":"https://github.com/apache/druid/issues/7153#issuecomment-479213213","issue_url":"https://api.github.com/repos/apache/druid/issues/7153","id":479213213,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTIxMzIxMw==","user":{"login":"egor-ryashin","id":14215045,"node_id":"MDQ6VXNlcjE0MjE1MDQ1","avatar_url":"https://avatars.githubusercontent.com/u/14215045?v=4","gravatar_id":"","url":"https://api.github.com/users/egor-ryashin","html_url":"https://github.com/egor-ryashin","followers_url":"https://api.github.com/users/egor-ryashin/followers","following_url":"https://api.github.com/users/egor-ryashin/following{/other_user}","gists_url":"https://api.github.com/users/egor-ryashin/gists{/gist_id}","starred_url":"https://api.github.com/users/egor-ryashin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egor-ryashin/subscriptions","organizations_url":"https://api.github.com/users/egor-ryashin/orgs","repos_url":"https://api.github.com/users/egor-ryashin/repos","events_url":"https://api.github.com/users/egor-ryashin/events{/privacy}","received_events_url":"https://api.github.com/users/egor-ryashin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-02T21:34:15Z","updated_at":"2019-04-02T21:34:33Z","author_association":"CONTRIBUTOR","body":"For starters, `ShutdownNotice` doesn't access `recordSupplier` exclusively. \r\n`org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java:278`","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/479213213/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/479225960","html_url":"https://github.com/apache/druid/pull/7401#issuecomment-479225960","issue_url":"https://api.github.com/repos/apache/druid/issues/7401","id":479225960,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTIyNTk2MA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-02T22:07:18Z","updated_at":"2019-04-02T22:07:18Z","author_association":"CONTRIBUTOR","body":"+1 after CI","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/479225960/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/479229002","html_url":"https://github.com/apache/druid/pull/7320#issuecomment-479229002","issue_url":"https://api.github.com/repos/apache/druid/issues/7320","id":479229002,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTIyOTAwMg==","user":{"login":"AlexanderSaydakov","id":13126686,"node_id":"MDQ6VXNlcjEzMTI2Njg2","avatar_url":"https://avatars.githubusercontent.com/u/13126686?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexanderSaydakov","html_url":"https://github.com/AlexanderSaydakov","followers_url":"https://api.github.com/users/AlexanderSaydakov/followers","following_url":"https://api.github.com/users/AlexanderSaydakov/following{/other_user}","gists_url":"https://api.github.com/users/AlexanderSaydakov/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexanderSaydakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexanderSaydakov/subscriptions","organizations_url":"https://api.github.com/users/AlexanderSaydakov/orgs","repos_url":"https://api.github.com/users/AlexanderSaydakov/repos","events_url":"https://api.github.com/users/AlexanderSaydakov/events{/privacy}","received_events_url":"https://api.github.com/users/AlexanderSaydakov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-02T22:15:30Z","updated_at":"2019-04-02T22:15:30Z","author_association":"CONTRIBUTOR","body":"The update to sketches-core-0.13.1 that I committed today fixes a bug in quantiles sketch direct-memory mode that is used in Druid. It was reported a few days ago by Druid users here in Yahoo. So perhaps we should reconsider that \"extension\" area label on this pull request.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/479229002/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/479230286","html_url":"https://github.com/apache/druid/pull/7320#issuecomment-479230286","issue_url":"https://api.github.com/repos/apache/druid/issues/7320","id":479230286,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTIzMDI4Ng==","user":{"login":"AlexanderSaydakov","id":13126686,"node_id":"MDQ6VXNlcjEzMTI2Njg2","avatar_url":"https://avatars.githubusercontent.com/u/13126686?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexanderSaydakov","html_url":"https://github.com/AlexanderSaydakov","followers_url":"https://api.github.com/users/AlexanderSaydakov/followers","following_url":"https://api.github.com/users/AlexanderSaydakov/following{/other_user}","gists_url":"https://api.github.com/users/AlexanderSaydakov/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexanderSaydakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexanderSaydakov/subscriptions","organizations_url":"https://api.github.com/users/AlexanderSaydakov/orgs","repos_url":"https://api.github.com/users/AlexanderSaydakov/repos","events_url":"https://api.github.com/users/AlexanderSaydakov/events{/privacy}","received_events_url":"https://api.github.com/users/AlexanderSaydakov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-02T22:19:14Z","updated_at":"2019-04-02T22:19:14Z","author_association":"CONTRIBUTOR","body":"Regarding the build failure, it seems unrelated to my change. The change is just one line in pom.xml to update sketches-core from 0.12.0 to 0.13.1","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/479230286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/479230668","html_url":"https://github.com/apache/druid/pull/7320#issuecomment-479230668","issue_url":"https://api.github.com/repos/apache/druid/issues/7320","id":479230668,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTIzMDY2OA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-02T22:20:20Z","updated_at":"2019-04-02T22:20:20Z","author_association":"CONTRIBUTOR","body":"The CI failure is because of https://github.com/apache/incubator-druid/pull/7401. Would you please merge master once https://github.com/apache/incubator-druid/pull/7401 is merged?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/479230668/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/479232070","html_url":"https://github.com/apache/druid/pull/7320#issuecomment-479232070","issue_url":"https://api.github.com/repos/apache/druid/issues/7320","id":479232070,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTIzMjA3MA==","user":{"login":"AlexanderSaydakov","id":13126686,"node_id":"MDQ6VXNlcjEzMTI2Njg2","avatar_url":"https://avatars.githubusercontent.com/u/13126686?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexanderSaydakov","html_url":"https://github.com/AlexanderSaydakov","followers_url":"https://api.github.com/users/AlexanderSaydakov/followers","following_url":"https://api.github.com/users/AlexanderSaydakov/following{/other_user}","gists_url":"https://api.github.com/users/AlexanderSaydakov/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexanderSaydakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexanderSaydakov/subscriptions","organizations_url":"https://api.github.com/users/AlexanderSaydakov/orgs","repos_url":"https://api.github.com/users/AlexanderSaydakov/repos","events_url":"https://api.github.com/users/AlexanderSaydakov/events{/privacy}","received_events_url":"https://api.github.com/users/AlexanderSaydakov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-02T22:24:22Z","updated_at":"2019-04-02T22:24:22Z","author_association":"CONTRIBUTOR","body":"> Would you please merge master once #7401 is merged?\r\n\r\nWould it be easier to submit another request with this one-line change based on the fresh master?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/479232070/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/479233607","html_url":"https://github.com/apache/druid/pull/7320#issuecomment-479233607","issue_url":"https://api.github.com/repos/apache/druid/issues/7320","id":479233607,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTIzMzYwNw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-02T22:28:50Z","updated_at":"2019-04-02T22:28:50Z","author_association":"CONTRIBUTOR","body":"No. After #7401 is merged, you can simply run `git checkout datasketches_0_13_0; git pull master` to merge master into your branch. Then, this PR would be automatically updated and trigger Travis CI again if you push your change to your branch.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/479233607/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/479243572","html_url":"https://github.com/apache/druid/issues/6319#issuecomment-479243572","issue_url":"https://api.github.com/repos/apache/druid/issues/6319","id":479243572,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTI0MzU3Mg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-02T22:58:10Z","updated_at":"2019-04-02T22:58:10Z","author_association":"CONTRIBUTOR","body":"@jon-wei thank you for your review!\r\n\r\n> When using the segment-level locks, can you add more description to this part that points out that the new segments with the same segmentGranularity would have the same version string as the segments being overshadowed?\r\n\r\nAdded.\r\n\r\n> In the Changes to TaskLockbox section, can you clarify the difference between shared and mixed locks?\r\n\r\nChanged statements. The shared lock is a type of lock which was added in https://github.com/apache/incubator-druid/pull/4550.\r\n\r\n> For private final Set<Integer> overshadowingSegments;, I think it's worth mentioning that an alternative design would be to store the complete overshadowing graph here\r\n\r\nAdded.\r\n\r\n> In this proposal, what happens in the following case?\r\n> * Suppose we have two segments as partitions of a DAY granularity time chunk, partitions 0,1\r\n> * Two compaction tasks are issued on those segments simultaneously, which would compact 0,1 to a new single DAY granularity segment\r\n> * The two tasks both attempt to get a lock on (0,1)\r\n> * One task gets a lock on (0,1) first and creates segment with partition 2, its overshadowedSegments are (0,1)\r\n> * Now that the locks are free, what does the second task do? Would it try to compact (0,1) again?\r\n\r\nGood question! In this case, the compaction task would check the input segments are the latest ones before starting reindexing. So, the second is supposed to fail because its input segments won't be the latest ones anymore.\r\n\r\nHadoop task also does a similar check. So, maybe it's fine.. But I think it makes sense to add a check to make second overwriting task failed immediately because there's no point of waiting for getting a lock.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/479243572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/479248286","html_url":"https://github.com/apache/druid/issues/7238#issuecomment-479248286","issue_url":"https://api.github.com/repos/apache/druid/issues/7238","id":479248286,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTI0ODI4Ng==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-02T23:13:28Z","updated_at":"2019-04-02T23:13:28Z","author_association":"CONTRIBUTOR","body":"@justinborromeo thank you for the proposal!\r\n\r\nIt looks good to me, but I have one suggestion. We currently have `maxTotalRows` to suppress the total number of rows across all segments being generated at the same time. This sometimes works well, but I feel it's not easy to control because we don't know what its value means exactly (I'm still not sure what is a good default value for it). However, `maxTotalSegments` is quite intuitive and it looks like `maxTotalRows = maxTotalSegments * maxRowsPerSegment`. Then, maybe we can control `maxTotalRows` by setting `maxTotalSegments` and `maxRowsPerSegment` properly.\r\n\r\nSo, I would suggest to replace `maxTotalRows` with `maxTotalSegments` rather than having both. I think they would be used in similar use cases and less configurations would be simpler for tuning. What do you think?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/479248286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/479253798","html_url":"https://github.com/apache/druid/pull/7279#issuecomment-479253798","issue_url":"https://api.github.com/repos/apache/druid/issues/7279","id":479253798,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTI1Mzc5OA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-02T23:31:07Z","updated_at":"2019-04-02T23:31:07Z","author_association":"MEMBER","body":"@gianm do you have more comments?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/479253798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/479266133","html_url":"https://github.com/apache/druid/issues/7362#issuecomment-479266133","issue_url":"https://api.github.com/repos/apache/druid/issues/7362","id":479266133,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTI2NjEzMw==","user":{"login":"egor-ryashin","id":14215045,"node_id":"MDQ6VXNlcjE0MjE1MDQ1","avatar_url":"https://avatars.githubusercontent.com/u/14215045?v=4","gravatar_id":"","url":"https://api.github.com/users/egor-ryashin","html_url":"https://github.com/egor-ryashin","followers_url":"https://api.github.com/users/egor-ryashin/followers","following_url":"https://api.github.com/users/egor-ryashin/following{/other_user}","gists_url":"https://api.github.com/users/egor-ryashin/gists{/gist_id}","starred_url":"https://api.github.com/users/egor-ryashin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egor-ryashin/subscriptions","organizations_url":"https://api.github.com/users/egor-ryashin/orgs","repos_url":"https://api.github.com/users/egor-ryashin/repos","events_url":"https://api.github.com/users/egor-ryashin/events{/privacy}","received_events_url":"https://api.github.com/users/egor-ryashin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-03T00:12:13Z","updated_at":"2019-04-03T00:12:25Z","author_association":"CONTRIBUTOR","body":"I don't agree with dropping trace or debug logging, actually.\r\nThe counterargument usually those can/should be introduced during testing only, well, sometimes there's a bug in production which is not reproduced in the testing environment. If there's no debug/trace coded at all, one has to introduce the logging and upgrade the production cluster.\r\nIn my experience, if debug/trace logging doesn't help to find out where the root cause is, they at least help to identify where it is not. \r\n\r\nAbout INFO, just wonder if segment load action should be logged assuming you can get the segment location using HTTP API?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/479266133/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/479351657","html_url":"https://github.com/apache/druid/issues/7337#issuecomment-479351657","issue_url":"https://api.github.com/repos/apache/druid/issues/7337","id":479351657,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTM1MTY1Nw==","user":{"login":"leerho","id":12941506,"node_id":"MDQ6VXNlcjEyOTQxNTA2","avatar_url":"https://avatars.githubusercontent.com/u/12941506?v=4","gravatar_id":"","url":"https://api.github.com/users/leerho","html_url":"https://github.com/leerho","followers_url":"https://api.github.com/users/leerho/followers","following_url":"https://api.github.com/users/leerho/following{/other_user}","gists_url":"https://api.github.com/users/leerho/gists{/gist_id}","starred_url":"https://api.github.com/users/leerho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leerho/subscriptions","organizations_url":"https://api.github.com/users/leerho/orgs","repos_url":"https://api.github.com/users/leerho/repos","events_url":"https://api.github.com/users/leerho/events{/privacy}","received_events_url":"https://api.github.com/users/leerho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-03T06:01:40Z","updated_at":"2019-04-03T06:01:40Z","author_association":"CONTRIBUTOR","body":"There is some confusion here ... the DataSketches (DS) HllSketch is a wee\nbit slower on update than the Theta Sketch and noticeably slower on merge\n(but still quite fast). However, the Theta Sketch can be used in set\noperations while the HllSketch cannot.  For that capability, however, the\nTheta Sketch is about 10X bigger in size.\n\nThe principal reason for the HllSketch is it’s small size.\n\n\nOn Fri, Mar 29, 2019 at 9:28 PM pdeva <notifications@github.com> wrote:\n\n> @jon-wei <https://github.com/jon-wei> looking at the Theta sketch, can't\n> it basically do everything HLL sketch can do?\n> Is the HLL sketch just faster than Theta sketch but covers less use cases?\n>\n> Ie, is it correct to say HLL is a subset of Theta sketch in terms of\n> features, but we include it cause its faster?\n>\n> —\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/incubator-druid/issues/7337#issuecomment-478205887>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AMV4wtIkNw8KivKXJdwu0i2iNOfj4Eyrks5vbufUgaJpZM4cGM3E>\n> .\n>\n-- \nFrom my cell phone.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/479351657/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/479354436","html_url":"https://github.com/apache/druid/issues/7337#issuecomment-479354436","issue_url":"https://api.github.com/repos/apache/druid/issues/7337","id":479354436,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTM1NDQzNg==","user":{"login":"leerho","id":12941506,"node_id":"MDQ6VXNlcjEyOTQxNTA2","avatar_url":"https://avatars.githubusercontent.com/u/12941506?v=4","gravatar_id":"","url":"https://api.github.com/users/leerho","html_url":"https://github.com/leerho","followers_url":"https://api.github.com/users/leerho/followers","following_url":"https://api.github.com/users/leerho/following{/other_user}","gists_url":"https://api.github.com/users/leerho/gists{/gist_id}","starred_url":"https://api.github.com/users/leerho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leerho/subscriptions","organizations_url":"https://api.github.com/users/leerho/orgs","repos_url":"https://api.github.com/users/leerho/repos","events_url":"https://api.github.com/users/leerho/events{/privacy}","received_events_url":"https://api.github.com/users/leerho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-03T06:14:33Z","updated_at":"2019-04-03T06:14:33Z","author_association":"CONTRIBUTOR","body":"In terms of input types the two sketches are identical and both can accept\nall the primitives as well as byte[], int[], and long[] as inputs.\n\nIf there is some capability missing in terms of row/column scanning it has\nto do with how the sketches are being integrated into Druid, which is out\nof our expertise and out of our scope.  We certainly could use your help in\ngetting these sketches properly integrated into Druid!\n\n\n-- \nFrom my cell phone.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/479354436/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/479571368","html_url":"https://github.com/apache/druid/pull/7320#issuecomment-479571368","issue_url":"https://api.github.com/repos/apache/druid/issues/7320","id":479571368,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTU3MTM2OA==","user":{"login":"AlexanderSaydakov","id":13126686,"node_id":"MDQ6VXNlcjEzMTI2Njg2","avatar_url":"https://avatars.githubusercontent.com/u/13126686?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexanderSaydakov","html_url":"https://github.com/AlexanderSaydakov","followers_url":"https://api.github.com/users/AlexanderSaydakov/followers","following_url":"https://api.github.com/users/AlexanderSaydakov/following{/other_user}","gists_url":"https://api.github.com/users/AlexanderSaydakov/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexanderSaydakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexanderSaydakov/subscriptions","organizations_url":"https://api.github.com/users/AlexanderSaydakov/orgs","repos_url":"https://api.github.com/users/AlexanderSaydakov/repos","events_url":"https://api.github.com/users/AlexanderSaydakov/events{/privacy}","received_events_url":"https://api.github.com/users/AlexanderSaydakov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-03T16:52:21Z","updated_at":"2019-04-03T16:52:21Z","author_association":"CONTRIBUTOR","body":"Could we reconsider the \"Extension\" category label on this request? sketches-core-0.13.1 has a critical bug fix. We would like to make it a part of a release as soon as possible. Thank you.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/479571368/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/479578787","html_url":"https://github.com/apache/druid/issues/7137#issuecomment-479578787","issue_url":"https://api.github.com/repos/apache/druid/issues/7137","id":479578787,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTU3ODc4Nw==","user":{"login":"egor-ryashin","id":14215045,"node_id":"MDQ6VXNlcjE0MjE1MDQ1","avatar_url":"https://avatars.githubusercontent.com/u/14215045?v=4","gravatar_id":"","url":"https://api.github.com/users/egor-ryashin","html_url":"https://github.com/egor-ryashin","followers_url":"https://api.github.com/users/egor-ryashin/followers","following_url":"https://api.github.com/users/egor-ryashin/following{/other_user}","gists_url":"https://api.github.com/users/egor-ryashin/gists{/gist_id}","starred_url":"https://api.github.com/users/egor-ryashin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egor-ryashin/subscriptions","organizations_url":"https://api.github.com/users/egor-ryashin/orgs","repos_url":"https://api.github.com/users/egor-ryashin/repos","events_url":"https://api.github.com/users/egor-ryashin/events{/privacy}","received_events_url":"https://api.github.com/users/egor-ryashin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-03T17:13:14Z","updated_at":"2019-04-03T17:13:14Z","author_association":"CONTRIBUTOR","body":"Could you describe steps to reproduce?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/479578787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/479643025","html_url":"https://github.com/apache/druid/pull/7320#issuecomment-479643025","issue_url":"https://api.github.com/repos/apache/druid/issues/7320","id":479643025,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTY0MzAyNQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-03T20:18:29Z","updated_at":"2019-04-03T20:18:29Z","author_association":"CONTRIBUTOR","body":"\"Extension\" just means that the PR affects code that's in an extension. I've added the \"Bug\" label.\r\n\r\nCan you summarize the bug that's fixed?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/479643025/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/479659800","html_url":"https://github.com/apache/druid/issues/7404#issuecomment-479659800","issue_url":"https://api.github.com/repos/apache/druid/issues/7404","id":479659800,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTY1OTgwMA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-03T21:09:05Z","updated_at":"2019-04-03T21:09:05Z","author_association":"CONTRIBUTOR","body":"@nishantmonu51 @b-slim are y'all using this functionality in production? (Or is anyone else in the committer ranks?)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/479659800/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/479677347","html_url":"https://github.com/apache/druid/issues/7337#issuecomment-479677347","issue_url":"https://api.github.com/repos/apache/druid/issues/7337","id":479677347,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTY3NzM0Nw==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-03T22:11:27Z","updated_at":"2019-04-03T22:11:27Z","author_association":"CONTRIBUTOR","body":"> If there is some capability missing in terms of row/column scanning it has\r\nto do with how the sketches are being integrated into Druid, which is out\r\nof our expertise and out of our scope.  We certainly could use your help in\r\ngetting these sketches properly integrated into Druid!\r\n\r\nThe Theta and HLL sketches could be adjusted to accept multiple columns at the aggregator, I can take a look at implementing that sometime before 0.15.0 code freeze, I'm looking into exposing the Theta set operations for use in Druid SQL as well.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/479677347/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/479694073","html_url":"https://github.com/apache/druid/pull/7408#issuecomment-479694073","issue_url":"https://api.github.com/repos/apache/druid/issues/7408","id":479694073,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTY5NDA3Mw==","user":{"login":"richardstartin","id":16439049,"node_id":"MDQ6VXNlcjE2NDM5MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/16439049?v=4","gravatar_id":"","url":"https://api.github.com/users/richardstartin","html_url":"https://github.com/richardstartin","followers_url":"https://api.github.com/users/richardstartin/followers","following_url":"https://api.github.com/users/richardstartin/following{/other_user}","gists_url":"https://api.github.com/users/richardstartin/gists{/gist_id}","starred_url":"https://api.github.com/users/richardstartin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/richardstartin/subscriptions","organizations_url":"https://api.github.com/users/richardstartin/orgs","repos_url":"https://api.github.com/users/richardstartin/repos","events_url":"https://api.github.com/users/richardstartin/events{/privacy}","received_events_url":"https://api.github.com/users/richardstartin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-03T23:27:11Z","updated_at":"2019-04-03T23:27:53Z","author_association":"MEMBER","body":"I doubt druid bottlenecks on serialising bitmaps, but I wrote this new method in RoaringBitmap for an application that does, and it may be useful here. Here's some quick benchmark evidence, taking a look at how long `WrappedRoaringBitmap.serialize` takes before and after the change.\r\n\r\n```java\r\n  @Benchmark\r\n  public void serialize(SerializeBenchmarkState state, Blackhole bh)\r\n  {\r\n    state.bitmap.serialize(state.buffer);\r\n    bh.consume(state.buffer);\r\n    state.buffer.flip();\r\n  }\r\n\r\n  @State(Scope.Benchmark)\r\n  public static class SerializeBenchmarkState\r\n  {\r\n    WrappedRoaringBitmap bitmap;\r\n    ByteBuffer buffer;\r\n\r\n    @Setup\r\n    public void setup(BitmapIterationBenchmark state)\r\n    {\r\n      bitmap = new WrappedRoaringBitmap();\r\n      Random random = ThreadLocalRandom.current();\r\n      for (int bit = 0; bit < state.size; bit++) {\r\n        if (random.nextDouble() < state.prob) {\r\n          bitmap.add(bit);\r\n        }\r\n      }\r\n      buffer = ByteBuffer.allocate(bitmap.getSizeInBytes());\r\n    }\r\n  }\r\n```\r\n\r\n```\r\n8c104a115c4e08b2df60d940d6d85a7e79bef752 (incubator-druid:master)\r\n\r\nBenchmark                           (bitmapAlgo)  (prob)   (size)  Mode  Cnt       Score       Error  Units\r\nBitmapIterationBenchmark.serialize       roaring     0.0  1000000  avgt   10      29.110 ±     0.459  ns/op\r\nBitmapIterationBenchmark.serialize       roaring   0.001  1000000  avgt   10   10624.144 ±   139.993  ns/op\r\nBitmapIterationBenchmark.serialize       roaring     0.1  1000000  avgt   10  187265.856 ±  5515.013  ns/op\r\nBitmapIterationBenchmark.serialize       roaring     0.5  1000000  avgt   10  184694.297 ±  8353.848  ns/op\r\nBitmapIterationBenchmark.serialize       roaring    0.99  1000000  avgt   10  233570.949 ± 67602.280  ns/op\r\nBitmapIterationBenchmark.serialize       roaring     1.0  1000000  avgt   10    1083.100 ±    38.245  ns/op\r\n\r\n\r\n\r\n32673c121edea450b84ffef767506b60a49f4a23 (richardstartin:faster-roaring-serialize)\r\nBenchmark                           (bitmapAlgo)  (prob)   (size)  Mode  Cnt      Score     Error  Units\r\nBitmapIterationBenchmark.serialize       roaring     0.0  1000000  avgt   10     10.510 ±   0.182  ns/op\r\nBitmapIterationBenchmark.serialize       roaring   0.001  1000000  avgt   10    957.783 ±  12.215  ns/op\r\nBitmapIterationBenchmark.serialize       roaring     0.1  1000000  avgt   10  54361.198 ± 655.209  ns/op\r\nBitmapIterationBenchmark.serialize       roaring     0.5  1000000  avgt   10  53632.341 ± 377.866  ns/op\r\nBitmapIterationBenchmark.serialize       roaring    0.99  1000000  avgt   10  16405.135 ± 271.594  ns/op\r\nBitmapIterationBenchmark.serialize       roaring     1.0  1000000  avgt   10    404.527 ±   3.868  ns/op\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/479694073/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/479695866","html_url":"https://github.com/apache/druid/pull/7408#issuecomment-479695866","issue_url":"https://api.github.com/repos/apache/druid/issues/7408","id":479695866,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTY5NTg2Ng==","user":{"login":"lemire","id":391987,"node_id":"MDQ6VXNlcjM5MTk4Nw==","avatar_url":"https://avatars.githubusercontent.com/u/391987?v=4","gravatar_id":"","url":"https://api.github.com/users/lemire","html_url":"https://github.com/lemire","followers_url":"https://api.github.com/users/lemire/followers","following_url":"https://api.github.com/users/lemire/following{/other_user}","gists_url":"https://api.github.com/users/lemire/gists{/gist_id}","starred_url":"https://api.github.com/users/lemire/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lemire/subscriptions","organizations_url":"https://api.github.com/users/lemire/orgs","repos_url":"https://api.github.com/users/lemire/repos","events_url":"https://api.github.com/users/lemire/events{/privacy}","received_events_url":"https://api.github.com/users/lemire/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-03T23:36:54Z","updated_at":"2019-04-03T23:36:54Z","author_association":"NONE","body":"I would add that even if one does not care about the performance boost, the gains in code simplicity are very interesting. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/479695866/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/479721725","html_url":"https://github.com/apache/druid/issues/7387#issuecomment-479721725","issue_url":"https://api.github.com/repos/apache/druid/issues/7387","id":479721725,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTcyMTcyNQ==","user":{"login":"wc188996","id":12324219,"node_id":"MDQ6VXNlcjEyMzI0MjE5","avatar_url":"https://avatars.githubusercontent.com/u/12324219?v=4","gravatar_id":"","url":"https://api.github.com/users/wc188996","html_url":"https://github.com/wc188996","followers_url":"https://api.github.com/users/wc188996/followers","following_url":"https://api.github.com/users/wc188996/following{/other_user}","gists_url":"https://api.github.com/users/wc188996/gists{/gist_id}","starred_url":"https://api.github.com/users/wc188996/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wc188996/subscriptions","organizations_url":"https://api.github.com/users/wc188996/orgs","repos_url":"https://api.github.com/users/wc188996/repos","events_url":"https://api.github.com/users/wc188996/events{/privacy}","received_events_url":"https://api.github.com/users/wc188996/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-04T02:04:04Z","updated_at":"2019-04-04T02:04:04Z","author_association":"NONE","body":"I've met the question as you too!Is it a bug?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/479721725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/479741831","html_url":"https://github.com/apache/druid/issues/7137#issuecomment-479741831","issue_url":"https://api.github.com/repos/apache/druid/issues/7137","id":479741831,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTc0MTgzMQ==","user":{"login":"JinseonyLee","id":26076691,"node_id":"MDQ6VXNlcjI2MDc2Njkx","avatar_url":"https://avatars.githubusercontent.com/u/26076691?v=4","gravatar_id":"","url":"https://api.github.com/users/JinseonyLee","html_url":"https://github.com/JinseonyLee","followers_url":"https://api.github.com/users/JinseonyLee/followers","following_url":"https://api.github.com/users/JinseonyLee/following{/other_user}","gists_url":"https://api.github.com/users/JinseonyLee/gists{/gist_id}","starred_url":"https://api.github.com/users/JinseonyLee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JinseonyLee/subscriptions","organizations_url":"https://api.github.com/users/JinseonyLee/orgs","repos_url":"https://api.github.com/users/JinseonyLee/repos","events_url":"https://api.github.com/users/JinseonyLee/events{/privacy}","received_events_url":"https://api.github.com/users/JinseonyLee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-04T04:02:51Z","updated_at":"2019-04-04T04:02:51Z","author_association":"CONTRIBUTOR","body":"> Could you describe steps to reproduce?\r\n\r\nWhen using DB, administrators set the search path for each user because of security.\r\n\r\n1. So first I installed postgresql, created the db and set the search path to the user role.\r\n` ALTER ROLE dbuser IN DATABASE druiddb SET search_path = druid;\r\n`\r\n2. After that, I set postgresql to druid.\r\n3. Finally, when you start druid, you can see that the above error occurs according to the scheduling. \r\nThis is because previous versions only read the schema as 'public'.\r\n\r\nSo I changed the source to read the schema information as a setting value.\r\nIt was applied to the master branch.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/479741831/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/479742710","html_url":"https://github.com/apache/druid/pull/7402#issuecomment-479742710","issue_url":"https://api.github.com/repos/apache/druid/issues/7402","id":479742710,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTc0MjcxMA==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-04T04:08:42Z","updated_at":"2019-04-04T04:08:42Z","author_association":"CONTRIBUTOR","body":"Why is the label centered and not left aligned in the menu?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/479742710/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/479752686","html_url":"https://github.com/apache/druid/issues/7126#issuecomment-479752686","issue_url":"https://api.github.com/repos/apache/druid/issues/7126","id":479752686,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTc1MjY4Ng==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-04T05:14:12Z","updated_at":"2019-04-04T05:14:12Z","author_association":"CONTRIBUTOR","body":"@glasser quick note: there has also been an entire page of docs added just for the new console: https://github.com/apache/incubator-druid/blob/master/docs/content/operations/druid-console.md\r\nIt is linked to from the page in the release notes","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/479752686/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/479756524","html_url":"https://github.com/apache/druid/issues/7337#issuecomment-479756524","issue_url":"https://api.github.com/repos/apache/druid/issues/7337","id":479756524,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTc1NjUyNA==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-04T05:34:13Z","updated_at":"2019-04-04T05:34:13Z","author_association":"CONTRIBUTOR","body":"@leerho to better understand the performance characteristics, given the following use case:\r\n\r\n1. Cardinality over a column `username` is to be calculated.\r\n2. No aggregation algorithm was specified during ingestion, so algorithm choice is purely during query time.\r\n\r\n3. My options are to use either druid's  `HLLSketchBuild` or `thetaSketch` aggregation at *query* time.\r\n\r\nThe way I understand it:\r\n\r\n1. `HLLSketchBuild` will be slower, but use 10x less memory on Peon, Historical and Broker nodes.\r\n2. `thetaSketch` will be faster, but 10x more memory will be used.\r\n\r\nSo for most purposes, it does make more sense to use `HLLSketchBuild` due to the lower memory requirements.\r\n\r\nThe one exception to this rule might be that when querying over extremely short time ranges, eg `5 seconds` with ingestion rule`queryGranularity: \"second\"`, it might make more sense to use `thetaSketch` since it will be faster. How much faster will `thetaSketch` be in this instance, considering this query will really only hit a peon so no merging will occur?\r\n\r\nAlso how much slower is `HLLSketchBuild` 'merging' compared to `thetaSketch`? you talked about memory differences, but not cpu.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/479756524/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/479758436","html_url":"https://github.com/apache/druid/issues/4907#issuecomment-479758436","issue_url":"https://api.github.com/repos/apache/druid/issues/4907","id":479758436,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTc1ODQzNg==","user":{"login":"xvrl","id":815147,"node_id":"MDQ6VXNlcjgxNTE0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/815147?v=4","gravatar_id":"","url":"https://api.github.com/users/xvrl","html_url":"https://github.com/xvrl","followers_url":"https://api.github.com/users/xvrl/followers","following_url":"https://api.github.com/users/xvrl/following{/other_user}","gists_url":"https://api.github.com/users/xvrl/gists{/gist_id}","starred_url":"https://api.github.com/users/xvrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xvrl/subscriptions","organizations_url":"https://api.github.com/users/xvrl/orgs","repos_url":"https://api.github.com/users/xvrl/repos","events_url":"https://api.github.com/users/xvrl/events{/privacy}","received_events_url":"https://api.github.com/users/xvrl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-04T05:44:26Z","updated_at":"2019-04-04T05:45:06Z","author_association":"MEMBER","body":"for this particular problem we can probably mimic what @ijuma did to support both Java 7/8 and 9-11 in Kafka, see https://github.com/apache/kafka/commit/e554dc518eaaa0747899e708160275f95c4e525f","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/479758436/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/479933274","html_url":"https://github.com/apache/druid/issues/7404#issuecomment-479933274","issue_url":"https://api.github.com/repos/apache/druid/issues/7404","id":479933274,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTkzMzI3NA==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-04T14:58:51Z","updated_at":"2019-04-04T14:58:51Z","author_association":"CONTRIBUTOR","body":"@gianm which functionality you are asking about ?\r\n Considering null as null yes that is what it is set to by default.\r\n DoubleSketches/quantiles am not aware of any usage or actual testing","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/479933274/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/479946160","html_url":"https://github.com/apache/druid/issues/7404#issuecomment-479946160","issue_url":"https://api.github.com/repos/apache/druid/issues/7404","id":479946160,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTk0NjE2MA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-04T15:29:58Z","updated_at":"2019-04-04T15:29:58Z","author_association":"CONTRIBUTOR","body":"I'm referring to the behavior you get when setting `druid.generic.useDefaultValueForNull=false`, the sql-compatible null handling feature that was contributed earlier. It isn't described in the docs and I was wondering how battle tested it is. (I don't know of anyone that uses it but I figured maybe some of your users/customers might.)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/479946160/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/479946294","html_url":"https://github.com/apache/druid/pull/7320#issuecomment-479946294","issue_url":"https://api.github.com/repos/apache/druid/issues/7320","id":479946294,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTk0NjI5NA==","user":{"login":"AlexanderSaydakov","id":13126686,"node_id":"MDQ6VXNlcjEzMTI2Njg2","avatar_url":"https://avatars.githubusercontent.com/u/13126686?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexanderSaydakov","html_url":"https://github.com/AlexanderSaydakov","followers_url":"https://api.github.com/users/AlexanderSaydakov/followers","following_url":"https://api.github.com/users/AlexanderSaydakov/following{/other_user}","gists_url":"https://api.github.com/users/AlexanderSaydakov/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexanderSaydakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexanderSaydakov/subscriptions","organizations_url":"https://api.github.com/users/AlexanderSaydakov/orgs","repos_url":"https://api.github.com/users/AlexanderSaydakov/repos","events_url":"https://api.github.com/users/AlexanderSaydakov/events{/privacy}","received_events_url":"https://api.github.com/users/AlexanderSaydakov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-04T15:30:18Z","updated_at":"2019-04-04T15:30:18Z","author_association":"CONTRIBUTOR","body":"> Can you summarize the bug that's fixed?\r\n\r\nMerging quantiles sketch produced wrong results sometimes.\r\nhttps://github.com/DataSketches/sketches-core/releases/tag/sketches-core-0.13.1\r\n\r\nI misunderstood what the \"extension\" means.\r\nSo with the \"bug\" added would it qualify for inclusion into 0.14.0?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/479946294/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/479955647","html_url":"https://github.com/apache/druid/pull/7320#issuecomment-479955647","issue_url":"https://api.github.com/repos/apache/druid/issues/7320","id":479955647,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTk1NTY0Nw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-04T15:52:46Z","updated_at":"2019-04-04T18:47:02Z","author_association":"CONTRIBUTOR","body":"My inclination would be no, since 0.14.0 is in the final stages of approval right now with the IPMC and I don't think it's worth further delay of the release unless something awful is discovered. The considerations I'd use in forming this opinion are,\r\n\r\n- number of users likely to hit the bug (the more users, the more likely we'd want to include it)\r\n- did this bug exist in the last release or not? (if it's a new bug / regression since the last release, it's more likely to be included; if it existed in the last release too, then less likely)\r\n- class of the bug (in roughly decreasing order of severity: security issue, data loss / corruption, incorrect query results, bugs that cause downtime, bugs that cause certain features to error out when they should work)\r\n- whether or not the first RC has gone out for a release (generally after the first RC we try to minimize changes to hard blockers only)\r\n\r\nThis particular issue sounds like it won't hit too many users (it's a relatively new feature that isn't widely adopted yet), it sounds like it did exist in the last release (0.13.0 also used an older version of datasketches), it's a moderate-high severity sort of class (incorrect query results), and we are right now on RC3 for 0.14.0. So for those reasons combined I tilt towards not including this in 0.14.0.\r\n\r\nThis thought process is a reflection of the fact that bugs are found and fixed regularly in large codebases like Druid, and the release process takes 6 days (3 days for a Druid dev list vote, 3 days for IPMC). Given that timeline it's not practical to delay releases until 100% of known bugs are fixed, or else we'd never be able release anything since we'd be constantly restarting the clock. For this reason, there are five other bugs fixed in master right now that are slated for 0.15.0 rather than 0.14.0. One other is also in the 'incorrect query results' class (https://github.com/apache/incubator-druid/pull/7257).\r\n\r\nDoing a 0.14.1 before the 0.15.0 timeframe is an option that we could discuss too - the dev@druid list is probably the right place for that discussion, if you want to have it.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/479955647/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/479957180","html_url":"https://github.com/apache/druid/pull/7320#issuecomment-479957180","issue_url":"https://api.github.com/repos/apache/druid/issues/7320","id":479957180,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTk1NzE4MA==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-04T15:56:23Z","updated_at":"2019-04-04T15:56:23Z","author_association":"CONTRIBUTOR","body":"Agree with @gianm ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/479957180/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/479996707","html_url":"https://github.com/apache/druid/pull/7408#issuecomment-479996707","issue_url":"https://api.github.com/repos/apache/druid/issues/7408","id":479996707,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTk5NjcwNw==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-04T17:46:30Z","updated_at":"2019-04-04T17:46:30Z","author_association":"CONTRIBUTOR","body":"Would it be worth keeping a stupid pool of buffers for the bitmaps to serialize into? I guess we probably don't have a good way to free the buffers later","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/479996707/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480013774","html_url":"https://github.com/apache/druid/issues/7375#issuecomment-480013774","issue_url":"https://api.github.com/repos/apache/druid/issues/7375","id":480013774,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDAxMzc3NA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-04T18:34:33Z","updated_at":"2019-04-04T18:34:33Z","author_association":"CONTRIBUTOR","body":"What is the purpose of `druid.server.https.cert.autoRefreshPeriod`, if the idea is that a CertificateWatcher would watch for changes and trigger reloads?\r\n\r\n> In such a scenario, CertificateWatcher would be an interface and not an implementation, so any sort of updates could be handled by an extension.\r\n\r\nDefinitely sounds useful to have it be an interface, with an implementation in core that simply watches a file.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480013774/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480019586","html_url":"https://github.com/apache/druid/pull/7320#issuecomment-480019586","issue_url":"https://api.github.com/repos/apache/druid/issues/7320","id":480019586,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDAxOTU4Ng==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-04T18:51:39Z","updated_at":"2019-04-04T18:51:39Z","author_association":"CONTRIBUTOR","body":"By the way I don't want to minimize the level of excitement I have for datasketches in general and the contributions of your team to Druid. The level is very high - this work is definitely very interesting and appreciated. I want to make sure this sentiment isn't lost even as I am arguing a rationale for delaying this fix to the next Druid release, whether that be 0.14.1 or 0.15.0.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480019586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480022692","html_url":"https://github.com/apache/druid/issues/7337#issuecomment-480022692","issue_url":"https://api.github.com/repos/apache/druid/issues/7337","id":480022692,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDAyMjY5Mg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-04T19:00:43Z","updated_at":"2019-04-04T19:00:43Z","author_association":"CONTRIBUTOR","body":"@jon-wei added some of this stuff to the docs in #7407.\r\n\r\nBtw, if you are doing a cardinality count without grouping by anything, the memory requirements are probably irrelevant. Either one is small enough that without the need to create a lot of them, the memory use is trivial.\r\n\r\nI'm not sure if folks with more experience will be able to chime in, but if not then you might need to determine some of these answers yourself through performance testing.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480022692/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480040522","html_url":"https://github.com/apache/druid/pull/7402#issuecomment-480040522","issue_url":"https://api.github.com/repos/apache/druid/issues/7402","id":480040522,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDA0MDUyMg==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-04T19:55:35Z","updated_at":"2019-04-04T19:55:35Z","author_association":"CONTRIBUTOR","body":"@shuqi7 in the future please do not force push your branch after making the PR, it makes it harder to see what changes have been made when.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480040522/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480041412","html_url":"https://github.com/apache/druid/pull/7413#issuecomment-480041412","issue_url":"https://api.github.com/repos/apache/druid/issues/7413","id":480041412,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDA0MTQxMg==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-04T19:58:12Z","updated_at":"2019-04-04T19:58:12Z","author_association":"CONTRIBUTOR","body":"I think it's more common in Druid to put these types of properties in the query context:\r\nhttp://druid.io/docs/latest/querying/query-context.html\r\nhttp://druid.io/docs/latest/querying/groupbyquery.html#configurations","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480041412/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480061875","html_url":"https://github.com/apache/druid/pull/7408#issuecomment-480061875","issue_url":"https://api.github.com/repos/apache/druid/issues/7408","id":480061875,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDA2MTg3NQ==","user":{"login":"lemire","id":391987,"node_id":"MDQ6VXNlcjM5MTk4Nw==","avatar_url":"https://avatars.githubusercontent.com/u/391987?v=4","gravatar_id":"","url":"https://api.github.com/users/lemire","html_url":"https://github.com/lemire","followers_url":"https://api.github.com/users/lemire/followers","following_url":"https://api.github.com/users/lemire/following{/other_user}","gists_url":"https://api.github.com/users/lemire/gists{/gist_id}","starred_url":"https://api.github.com/users/lemire/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lemire/subscriptions","organizations_url":"https://api.github.com/users/lemire/orgs","repos_url":"https://api.github.com/users/lemire/repos","events_url":"https://api.github.com/users/lemire/events{/privacy}","received_events_url":"https://api.github.com/users/lemire/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-04T21:00:26Z","updated_at":"2019-04-04T21:00:26Z","author_association":"NONE","body":"> Would it be worth keeping a stupid pool of buffers for the bitmaps to serialize into?\r\n\r\nMy expectation is that this...\r\n\r\n```\r\nByteBuffer buffer = ByteBuffer.allocate(bitmap.serializedSizeInBytes());\r\n```\r\n\r\nIs going to be pretty fast compared to doing...\r\n\r\n```\r\nbyte[] buffer = new byte[bitmap.serializedSizeInBytes()];\r\n```\r\n\r\nIn some of the code above, the ByteBuffer does not escape, so if escape analysis works, it may not even stress the garbage collection. In fact, it may end up  being free once the JIT compiler does it work.\r\n\r\n\r\nA distinct issue is that these byte arrays probably get created and garbage collected all the time. \r\n\r\nWhat do you do with the byte arrays? Could you be more direct?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480061875/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480064996","html_url":"https://github.com/apache/druid/pull/7413#issuecomment-480064996","issue_url":"https://api.github.com/repos/apache/druid/issues/7413","id":480064996,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDA2NDk5Ng==","user":{"login":"justinborromeo","id":9417701,"node_id":"MDQ6VXNlcjk0MTc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/9417701?v=4","gravatar_id":"","url":"https://api.github.com/users/justinborromeo","html_url":"https://github.com/justinborromeo","followers_url":"https://api.github.com/users/justinborromeo/followers","following_url":"https://api.github.com/users/justinborromeo/following{/other_user}","gists_url":"https://api.github.com/users/justinborromeo/gists{/gist_id}","starred_url":"https://api.github.com/users/justinborromeo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinborromeo/subscriptions","organizations_url":"https://api.github.com/users/justinborromeo/orgs","repos_url":"https://api.github.com/users/justinborromeo/repos","events_url":"https://api.github.com/users/justinborromeo/events{/privacy}","received_events_url":"https://api.github.com/users/justinborromeo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-04T21:10:15Z","updated_at":"2019-04-04T21:10:15Z","author_association":"CONTRIBUTOR","body":"@jon-wei moved params to query context","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480064996/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480072686","html_url":"https://github.com/apache/druid/pull/7408#issuecomment-480072686","issue_url":"https://api.github.com/repos/apache/druid/issues/7408","id":480072686,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDA3MjY4Ng==","user":{"login":"richardstartin","id":16439049,"node_id":"MDQ6VXNlcjE2NDM5MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/16439049?v=4","gravatar_id":"","url":"https://api.github.com/users/richardstartin","html_url":"https://github.com/richardstartin","followers_url":"https://api.github.com/users/richardstartin/followers","following_url":"https://api.github.com/users/richardstartin/following{/other_user}","gists_url":"https://api.github.com/users/richardstartin/gists{/gist_id}","starred_url":"https://api.github.com/users/richardstartin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/richardstartin/subscriptions","organizations_url":"https://api.github.com/users/richardstartin/orgs","repos_url":"https://api.github.com/users/richardstartin/repos","events_url":"https://api.github.com/users/richardstartin/events{/privacy}","received_events_url":"https://api.github.com/users/richardstartin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-04T21:36:08Z","updated_at":"2019-04-04T21:36:08Z","author_association":"MEMBER","body":"The underlying array is always going to get allocated, unless it's smaller than 64 elements in which case it may get scalarised, but knowing the serialisation format that just isn't going to happen. \r\n\r\nThere might be an opportunity here for someone with more skin in the game to do some refactoring to avoid the byte[] allocation entirely. A quick glance at the code indicates that the result of `toBytes()` gets written into `WriteOutBytes`, every implementation of which delegates to a `ByteBuffer`. It should be possible to remove some of the indirection and supply the buffer directly to the bitmap, avoiding unnecessary allocations, maybe resulting in better jitted code. \r\n\r\nOf course, there are engineering tradeoffs and this may not actually be a performance hot spot... ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480072686/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480079186","html_url":"https://github.com/apache/druid/issues/6518#issuecomment-480079186","issue_url":"https://api.github.com/repos/apache/druid/issues/6518","id":480079186,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDA3OTE4Ng==","user":{"login":"yurmix","id":1529282,"node_id":"MDQ6VXNlcjE1MjkyODI=","avatar_url":"https://avatars.githubusercontent.com/u/1529282?v=4","gravatar_id":"","url":"https://api.github.com/users/yurmix","html_url":"https://github.com/yurmix","followers_url":"https://api.github.com/users/yurmix/followers","following_url":"https://api.github.com/users/yurmix/following{/other_user}","gists_url":"https://api.github.com/users/yurmix/gists{/gist_id}","starred_url":"https://api.github.com/users/yurmix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurmix/subscriptions","organizations_url":"https://api.github.com/users/yurmix/orgs","repos_url":"https://api.github.com/users/yurmix/repos","events_url":"https://api.github.com/users/yurmix/events{/privacy}","received_events_url":"https://api.github.com/users/yurmix/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-04T21:59:22Z","updated_at":"2019-04-04T21:59:22Z","author_association":"CONTRIBUTOR","body":"Fixed by #6740 (by @michael-trelinski), should be closed.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480079186/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480080368","html_url":"https://github.com/apache/druid/pull/7408#issuecomment-480080368","issue_url":"https://api.github.com/repos/apache/druid/issues/7408","id":480080368,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDA4MDM2OA==","user":{"login":"lemire","id":391987,"node_id":"MDQ6VXNlcjM5MTk4Nw==","avatar_url":"https://avatars.githubusercontent.com/u/391987?v=4","gravatar_id":"","url":"https://api.github.com/users/lemire","html_url":"https://github.com/lemire","followers_url":"https://api.github.com/users/lemire/followers","following_url":"https://api.github.com/users/lemire/following{/other_user}","gists_url":"https://api.github.com/users/lemire/gists{/gist_id}","starred_url":"https://api.github.com/users/lemire/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lemire/subscriptions","organizations_url":"https://api.github.com/users/lemire/orgs","repos_url":"https://api.github.com/users/lemire/repos","events_url":"https://api.github.com/users/lemire/events{/privacy}","received_events_url":"https://api.github.com/users/lemire/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-04T22:03:23Z","updated_at":"2019-04-04T22:03:23Z","author_association":"NONE","body":"@richardstartin What you describe looks like it might reduce the code complexity....","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480080368/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480107278","html_url":"https://github.com/apache/druid/issues/7233#issuecomment-480107278","issue_url":"https://api.github.com/repos/apache/druid/issues/7233","id":480107278,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDEwNzI3OA==","user":{"login":"surekhasaharan","id":13008746,"node_id":"MDQ6VXNlcjEzMDA4NzQ2","avatar_url":"https://avatars.githubusercontent.com/u/13008746?v=4","gravatar_id":"","url":"https://api.github.com/users/surekhasaharan","html_url":"https://github.com/surekhasaharan","followers_url":"https://api.github.com/users/surekhasaharan/followers","following_url":"https://api.github.com/users/surekhasaharan/following{/other_user}","gists_url":"https://api.github.com/users/surekhasaharan/gists{/gist_id}","starred_url":"https://api.github.com/users/surekhasaharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/surekhasaharan/subscriptions","organizations_url":"https://api.github.com/users/surekhasaharan/orgs","repos_url":"https://api.github.com/users/surekhasaharan/repos","events_url":"https://api.github.com/users/surekhasaharan/events{/privacy}","received_events_url":"https://api.github.com/users/surekhasaharan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-05T00:17:04Z","updated_at":"2019-04-05T00:17:04Z","author_association":"NONE","body":"I have updated the issue with proposal components which talks about the way I am thinking of implementing `is_overshadowed` column addition to `sys.segments`.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480107278/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480112099","html_url":"https://github.com/apache/druid/pull/6972#issuecomment-480112099","issue_url":"https://api.github.com/repos/apache/druid/issues/6972","id":480112099,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDExMjA5OQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-05T00:46:42Z","updated_at":"2019-04-05T00:47:33Z","author_association":"CONTRIBUTOR","body":"@mohammadjkhan \r\n\r\nRegarding my earlier comment (https://github.com/apache/incubator-druid/pull/6972#issuecomment-477778052), after more thought I now feel it would be better to split LDAP into a separate contrib extension and leave the existing basic auth extension unchanged.\r\n* The authenticator only shares the minimal \"check password\" logic\r\n* The authorizer is currently written to shared the role definitions with the basic auth extension, but I think it would be better to have LDAP be the sole source of truth for users/groups/roles/permissions for the LDAP implementation, instead of a mixed model where some information is kept in the Druid metadata store.\r\n* I think it's possible that the LDAP implementations will evolve over time with more features (maybe some are very specific to LDAP), and separating it into its own extension will give us more freedom to build upon it without affecting the basic auth extension.\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480112099/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480120773","html_url":"https://github.com/apache/druid/pull/7406#issuecomment-480120773","issue_url":"https://api.github.com/repos/apache/druid/issues/7406","id":480120773,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDEyMDc3Mw==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-05T01:43:05Z","updated_at":"2019-04-05T01:43:05Z","author_association":"CONTRIBUTOR","body":"Thank you for making the changes I suggested. This is 👍 from me, much more maintainable","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480120773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480120889","html_url":"https://github.com/apache/druid/pull/7402#issuecomment-480120889","issue_url":"https://api.github.com/repos/apache/druid/issues/7402","id":480120889,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDEyMDg4OQ==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-05T01:43:58Z","updated_at":"2019-04-05T01:43:58Z","author_association":"CONTRIBUTOR","body":"Looking good. Thank you for promptly addressing the feedback. 👍 \r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480120889/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480153120","html_url":"https://github.com/apache/druid/issues/7403#issuecomment-480153120","issue_url":"https://api.github.com/repos/apache/druid/issues/7403","id":480153120,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDE1MzEyMA==","user":{"login":"mihai-cazacu-adswizz","id":45362709,"node_id":"MDQ6VXNlcjQ1MzYyNzA5","avatar_url":"https://avatars.githubusercontent.com/u/45362709?v=4","gravatar_id":"","url":"https://api.github.com/users/mihai-cazacu-adswizz","html_url":"https://github.com/mihai-cazacu-adswizz","followers_url":"https://api.github.com/users/mihai-cazacu-adswizz/followers","following_url":"https://api.github.com/users/mihai-cazacu-adswizz/following{/other_user}","gists_url":"https://api.github.com/users/mihai-cazacu-adswizz/gists{/gist_id}","starred_url":"https://api.github.com/users/mihai-cazacu-adswizz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mihai-cazacu-adswizz/subscriptions","organizations_url":"https://api.github.com/users/mihai-cazacu-adswizz/orgs","repos_url":"https://api.github.com/users/mihai-cazacu-adswizz/repos","events_url":"https://api.github.com/users/mihai-cazacu-adswizz/events{/privacy}","received_events_url":"https://api.github.com/users/mihai-cazacu-adswizz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-05T05:29:46Z","updated_at":"2019-04-05T05:29:46Z","author_association":"NONE","body":"Hi,\r\n\r\nYou have to run something like this:\r\n\r\n```\r\ncurl -X 'POST' -H 'Content-Type:application/json' -d @view.json \"http://10.244.68.107:8090/druid/indexer/v1/supervisor\"\r\n```\r\n\r\nHave a nice day!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480153120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480193375","html_url":"https://github.com/apache/druid/issues/5643#issuecomment-480193375","issue_url":"https://api.github.com/repos/apache/druid/issues/5643","id":480193375,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDE5MzM3NQ==","user":{"login":"xueyumusic","id":95261,"node_id":"MDQ6VXNlcjk1MjYx","avatar_url":"https://avatars.githubusercontent.com/u/95261?v=4","gravatar_id":"","url":"https://api.github.com/users/xueyumusic","html_url":"https://github.com/xueyumusic","followers_url":"https://api.github.com/users/xueyumusic/followers","following_url":"https://api.github.com/users/xueyumusic/following{/other_user}","gists_url":"https://api.github.com/users/xueyumusic/gists{/gist_id}","starred_url":"https://api.github.com/users/xueyumusic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xueyumusic/subscriptions","organizations_url":"https://api.github.com/users/xueyumusic/orgs","repos_url":"https://api.github.com/users/xueyumusic/repos","events_url":"https://api.github.com/users/xueyumusic/events{/privacy}","received_events_url":"https://api.github.com/users/xueyumusic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-05T08:31:24Z","updated_at":"2019-04-05T08:31:24Z","author_association":"CONTRIBUTOR","body":"Hi, @gianm , Do you think whether it makes sense if having only one filter aggregation, such as:\r\n```\r\nSELECT\r\n  COUNT(*) FILTER(WHERE col1 = 'abc' AND col2 = 'def')\r\nFROM tbl\r\n```\r\n=>\r\n```\r\nSELECT\r\n  COUNT(*)\r\nFROM tbl\r\nWHERE col1 = 'abc' AND col2 = 'def'\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480193375/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480220550","html_url":"https://github.com/apache/druid/issues/7362#issuecomment-480220550","issue_url":"https://api.github.com/repos/apache/druid/issues/7362","id":480220550,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDIyMDU1MA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-05T10:04:39Z","updated_at":"2019-04-05T10:04:39Z","author_association":"MEMBER","body":"@egor-ryashin this is the premise of adding debug and trace statements. However, in practice, I don't know of a single case when debug/trace logging helped to find a bug in production in Druid. So I think the benefit of keeping all these logs doesn't justify the cost. If somebody has a feeling that some logging statement should likely help to find bugs then it should be on the info level rather than on the debug level.\r\n\r\nWhen dealing with a specific bug, a developer may know much better what and where exactly should be logged to help to find the specific bug, and all these places are very unlikely to be covered by pre-existing debug logging. So it's likely that they would need to add more logging, rebuild and redeploy. Solving this problem with a brute force, by adding debug or trace statements abundantly doesn't seem to be a viable solution.\r\n\r\n> About INFO, just wonder if segment load action should be logged\r\n\r\nI think it should be logged only if it led to an exception during loading. That is, the exception should just be wrapped with another exception with a message like \"a error while loading segment [my_data_source_startDate_endDate]\", or something like that.\r\n\r\n> assuming you can get the segment location using HTTP API\r\n\r\nI didn't understand this part.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480220550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480283076","html_url":"https://github.com/apache/druid/issues/5643#issuecomment-480283076","issue_url":"https://api.github.com/repos/apache/druid/issues/5643","id":480283076,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDI4MzA3Ng==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-05T13:52:02Z","updated_at":"2019-04-05T13:52:02Z","author_association":"CONTRIBUTOR","body":"@xueyumusic, that does make sense too.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480283076/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480305168","html_url":"https://github.com/apache/druid/issues/7362#issuecomment-480305168","issue_url":"https://api.github.com/repos/apache/druid/issues/7362","id":480305168,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDMwNTE2OA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-05T14:52:22Z","updated_at":"2019-04-05T14:52:43Z","author_association":"CONTRIBUTOR","body":"Three thoughts on this that are maybe related, but also stand alone:\r\n\r\n1) I have definitely used debug/trace logs to find bugs before, but I would say even more often is using them to find root causes of problems that are not really bugs. For example, the debug logs for memory allocations are at debug level because they are too noisy to log in normal operation, but are useful to enable when trying to figure out what is eating up all the memory. For another example, debug logs that log each HTTP request/response are useful for tracking down the root cause of some service-to-service communication problem, or for tracking down the root cause of an unexpected query result.\r\n\r\n2) Sometimes, when writing code, debug or trace logs for me replace comments. Instead of writing a comment like 'Skip zero length chunk' we can include a log statement like `log.debug(\"Skipping zero length chunk\");`. I guess this would be fine as a comment too, but making it a comment doesn't really make the code cleaner (same number of lines), and it lets people enable debug logs so they can see how control flows around. I do this sometimes when writing or debugging unit tests.\r\n\r\n3) I generally feel that the INFO logs in Druid are too noisy today, but some of them are not things I'd want to remove, due to points 1 & 2 above. So I would support a program of demoting more INFO logs to DEBUG level, and DEBUG to TRACE, with the idea being that Druid logging by default should be a lot 'quieter', but you can enable DEBUG level logging to get what you get with INFO today, and TRACE to get things like each and every HTTP request/response and memory allocation.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480305168/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480312765","html_url":"https://github.com/apache/druid/issues/7362#issuecomment-480312765","issue_url":"https://api.github.com/repos/apache/druid/issues/7362","id":480312765,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDMxMjc2NQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-05T15:12:26Z","updated_at":"2019-04-05T15:12:26Z","author_association":"MEMBER","body":"@egor-ryashin @gianm ok. Could you please suggest criteria for how to choose between INFO and DEBUG?\r\n\r\n@gianm I still disagree, however, with the suggestion about TRACE. Regarding memory allocations, it should be possible to profile them much more effectively using [async-profiler in allocation mode](https://github.com/jvm-profiling-tools/async-profiler#allocation-profiling). Tracing each and every HTTP request/response should be enabled by some Jetty flag, or if Jetty doesn't have such, by a special Druid's flag because while you want to debug each and every HTTP request and response, you probably don't want to trace, for example, each and every [insert other type of very noisy thing here], and vice versa. TRACE is so noisy that use cases should be specialized. So I think it should rather be\r\n```\r\nif (specialFlagIsOn) {\r\n  log.info()\r\n}\r\n```\r\n\r\nThan `log.trace()`.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480312765/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480315158","html_url":"https://github.com/apache/druid/issues/7362#issuecomment-480315158","issue_url":"https://api.github.com/repos/apache/druid/issues/7362","id":480315158,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDMxNTE1OA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-05T15:18:51Z","updated_at":"2019-04-05T15:18:51Z","author_association":"MEMBER","body":"Another alternative is delegating all HTTP logging, for example, to a class `HttpLogging` and enable class-specific TRACE logging level.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480315158/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480321487","html_url":"https://github.com/apache/druid/issues/7362#issuecomment-480321487","issue_url":"https://api.github.com/repos/apache/druid/issues/7362","id":480321487,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDMyMTQ4Nw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-05T15:36:26Z","updated_at":"2019-04-05T15:36:26Z","author_association":"CONTRIBUTOR","body":"> TRACE is so noisy that use cases should be specialized.\r\n\r\nUsually I'd enable TRACE logging for a specific package, rather than across the entire codebase, using log4j's per-package log level config features. Blanket enabling of TRACE is way too noisy and sometimes even quickly fills up the filesystem.\r\n\r\n> Regarding memory allocations, it should be possible to profile them much more effectively using async-profiler in allocation mode. \r\n\r\nAh, I really meant off-heap allocations (like decompression / dictionary merging buffers, etc). And sometimes I'm lazy and using logs is quicker/easier, especially when interacting with a Druid cluster that runs in an environment that I don't control and can't install extra software into.\r\n\r\n> @egor-ryashin @gianm ok. Could you please suggest criteria for how to choose between INFO and DEBUG?\r\n\r\nI'm not sure what a specific set of criteria would look like but I'll think about it. I feel that right now, the noisiest log messages on coordinator/historical are the ones that deal with specific segments (assignment / load / drop), so maybe it's best to think about those first. On the overlord and in tasks, I feel the situation is even worse, and there is way too much chatter about locks, allocations, and so on. Those also tend to be about specific segments though (or sometimes specific time chunks that are getting written to). The Kafka supervisors are also pretty noisy and tend to log a lot about what they're thinking at any given moment, probably too much.\r\n\r\nI think ones that would be good to keep include anything that updates the metadata store (so any sort of segment allocation or publish). But right now we tend to have _multiple_ log lines for each event like that, and it'd be best to consolidate those down.\r\n\r\nI think it'd also be good to keep commands from the coordinator to historicals (it asking them to load/drop stuff) but I'm not sure we need them on both the coordinator and the historicals, like we have today. Maybe keep them as INFO on the historicals but demote them to DEBUG on the coordinator? Not as sure about that one, just thinking out loud.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480321487/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480325575","html_url":"https://github.com/apache/druid/issues/7362#issuecomment-480325575","issue_url":"https://api.github.com/repos/apache/druid/issues/7362","id":480325575,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDMyNTU3NQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-05T15:48:01Z","updated_at":"2019-04-05T15:48:01Z","author_association":"MEMBER","body":"> Ah, I really meant off-heap allocations (like decompression / dictionary merging buffers, etc)\r\n\r\nYou can profile them with async-profiler too, using `-e malloc` option. And it doesn't require installation on a machine, just downloading.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480325575/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480340797","html_url":"https://github.com/apache/druid/issues/7337#issuecomment-480340797","issue_url":"https://api.github.com/repos/apache/druid/issues/7337","id":480340797,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDM0MDc5Nw==","user":{"login":"leerho","id":12941506,"node_id":"MDQ6VXNlcjEyOTQxNTA2","avatar_url":"https://avatars.githubusercontent.com/u/12941506?v=4","gravatar_id":"","url":"https://api.github.com/users/leerho","html_url":"https://github.com/leerho","followers_url":"https://api.github.com/users/leerho/followers","following_url":"https://api.github.com/users/leerho/following{/other_user}","gists_url":"https://api.github.com/users/leerho/gists{/gist_id}","starred_url":"https://api.github.com/users/leerho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leerho/subscriptions","organizations_url":"https://api.github.com/users/leerho/orgs","repos_url":"https://api.github.com/users/leerho/repos","events_url":"https://api.github.com/users/leerho/events{/privacy}","received_events_url":"https://api.github.com/users/leerho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-05T16:33:34Z","updated_at":"2019-04-05T16:33:34Z","author_association":"CONTRIBUTOR","body":"I agree with @gianm .  If the only operation you are doing is count and merge, you may as well use the DS-HllSketch (via HLLSketchBuild).  I doubt you would even notice the difference in merge speed.  If, during any specific query if only a small number of sketches get instantiated (small is quite relative  here) then the difference in size is also likely irrelevant.  \r\n\r\nIf, however, you are creating  sketches and want to perform set operations (intersection and difference) on them,  or storing them and want to leave open the option to perform set ops on them in the future, then the Theta Sketch is your only choice.\r\n\r\nJust to put your mind at ease, one of our back-end systems, based on Druid, which produces near-real-time (within a few seconds) analysis of unique visitors to hundreds of thousands of target nodes, generates over a billion **Theta** sketches every day.   The sketches are stored for long-term queries as well.  So queries can be over the past minutes, hours, days, or months.  Try to do that brute-force!\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480340797/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480346354","html_url":"https://github.com/apache/druid/pull/7320#issuecomment-480346354","issue_url":"https://api.github.com/repos/apache/druid/issues/7320","id":480346354,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDM0NjM1NA==","user":{"login":"AlexanderSaydakov","id":13126686,"node_id":"MDQ6VXNlcjEzMTI2Njg2","avatar_url":"https://avatars.githubusercontent.com/u/13126686?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexanderSaydakov","html_url":"https://github.com/AlexanderSaydakov","followers_url":"https://api.github.com/users/AlexanderSaydakov/followers","following_url":"https://api.github.com/users/AlexanderSaydakov/following{/other_user}","gists_url":"https://api.github.com/users/AlexanderSaydakov/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexanderSaydakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexanderSaydakov/subscriptions","organizations_url":"https://api.github.com/users/AlexanderSaydakov/orgs","repos_url":"https://api.github.com/users/AlexanderSaydakov/repos","events_url":"https://api.github.com/users/AlexanderSaydakov/events{/privacy}","received_events_url":"https://api.github.com/users/AlexanderSaydakov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-05T16:52:05Z","updated_at":"2019-04-05T16:52:05Z","author_association":"CONTRIBUTOR","body":"I understand. Is there an estimated time for 0.15.0 release? And for 0.14.1, if you decide to make it happen?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480346354/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480349933","html_url":"https://github.com/apache/druid/issues/7187#issuecomment-480349933","issue_url":"https://api.github.com/repos/apache/druid/issues/7187","id":480349933,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDM0OTkzMw==","user":{"login":"leerho","id":12941506,"node_id":"MDQ6VXNlcjEyOTQxNTA2","avatar_url":"https://avatars.githubusercontent.com/u/12941506?v=4","gravatar_id":"","url":"https://api.github.com/users/leerho","html_url":"https://github.com/leerho","followers_url":"https://api.github.com/users/leerho/followers","following_url":"https://api.github.com/users/leerho/following{/other_user}","gists_url":"https://api.github.com/users/leerho/gists{/gist_id}","starred_url":"https://api.github.com/users/leerho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leerho/subscriptions","organizations_url":"https://api.github.com/users/leerho/orgs","repos_url":"https://api.github.com/users/leerho/repos","events_url":"https://api.github.com/users/leerho/events{/privacy}","received_events_url":"https://api.github.com/users/leerho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-05T17:03:29Z","updated_at":"2019-04-05T17:03:29Z","author_association":"CONTRIBUTOR","body":"@peferron Thank you for your thoughtful comments.  Clearly we have to leave it up to an informed user to decide.  And all we can do is do our best to make sure that he/she is informed.\r\n\r\n----\r\n\r\nBouncing back to the top of this thread, we are developing a new sketch that we are tentatively calling \"Frequent Unique Nodes\" (FUN).  \r\n\r\nSuppose you have a stream that contains pairs {IP address, UserID}, and you wish to identify the IP addresses that have the largest number of unique users.  In this context think of a large graph where the IP addresses and users are nodes in the graph.  Consider Node1 = IP and Node2 = ID, then we want to identify the Node1s that have the largest number of unique Node2s.  Conversely, it might also be interesting to identify the Node2s (IDs) that have the largest number of unique Node1s (IPs).   Conceptually, this can also be extended to more that just 2 nodes (although don't go nuts with this!).\r\n\r\nWith this new sketch you will be able to perform these types of queries and have some guarantees of accuracy as well.\r\n\r\nIf this is of interest, please let me know, as we could use your help in characterizing and performance testing of this, if possible.\r\n\r\nLee.\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480349933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480353582","html_url":"https://github.com/apache/druid/pull/7320#issuecomment-480353582","issue_url":"https://api.github.com/repos/apache/druid/issues/7320","id":480353582,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDM1MzU4Mg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-05T17:15:48Z","updated_at":"2019-04-05T17:15:48Z","author_association":"CONTRIBUTOR","body":"0.15.0 is scheduled for a code freeze at the end of April, and would be released as soon as possible after that (typically takes a few days / weeks after freeze for release to happen).\r\n\r\nA potential 0.14.1 release and timing of it would be a community decision (just general consensus on the mailing list). I'm not sure how familiar you are with Apache community governance but starting a thread on dev@druid is enough to get that going, and it would happen if enough people are interested. If it occurs it would probably be a branch off 0.14.0-incubating rather than a release from master.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480353582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480433129","html_url":"https://github.com/apache/druid/issues/7369#issuecomment-480433129","issue_url":"https://api.github.com/repos/apache/druid/issues/7369","id":480433129,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDQzMzEyOQ==","user":{"login":"egor-ryashin","id":14215045,"node_id":"MDQ6VXNlcjE0MjE1MDQ1","avatar_url":"https://avatars.githubusercontent.com/u/14215045?v=4","gravatar_id":"","url":"https://api.github.com/users/egor-ryashin","html_url":"https://github.com/egor-ryashin","followers_url":"https://api.github.com/users/egor-ryashin/followers","following_url":"https://api.github.com/users/egor-ryashin/following{/other_user}","gists_url":"https://api.github.com/users/egor-ryashin/gists{/gist_id}","starred_url":"https://api.github.com/users/egor-ryashin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egor-ryashin/subscriptions","organizations_url":"https://api.github.com/users/egor-ryashin/orgs","repos_url":"https://api.github.com/users/egor-ryashin/repos","events_url":"https://api.github.com/users/egor-ryashin/events{/privacy}","received_events_url":"https://api.github.com/users/egor-ryashin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-05T21:49:59Z","updated_at":"2019-04-05T21:49:59Z","author_association":"CONTRIBUTOR","body":"I'm confused, as 405 stands for another message \r\n\r\n> The HyperText Transfer Protocol (HTTP) 405 Method Not Allowed response status code indicates that the request method is known by the server but is not supported by the target resource.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480433129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480434467","html_url":"https://github.com/apache/druid/issues/7369#issuecomment-480434467","issue_url":"https://api.github.com/repos/apache/druid/issues/7369","id":480434467,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDQzNDQ2Nw==","user":{"login":"justinborromeo","id":9417701,"node_id":"MDQ6VXNlcjk0MTc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/9417701?v=4","gravatar_id":"","url":"https://api.github.com/users/justinborromeo","html_url":"https://github.com/justinborromeo","followers_url":"https://api.github.com/users/justinborromeo/followers","following_url":"https://api.github.com/users/justinborromeo/following{/other_user}","gists_url":"https://api.github.com/users/justinborromeo/gists{/gist_id}","starred_url":"https://api.github.com/users/justinborromeo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinborromeo/subscriptions","organizations_url":"https://api.github.com/users/justinborromeo/orgs","repos_url":"https://api.github.com/users/justinborromeo/repos","events_url":"https://api.github.com/users/justinborromeo/events{/privacy}","received_events_url":"https://api.github.com/users/justinborromeo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-05T21:55:57Z","updated_at":"2019-04-05T21:55:57Z","author_association":"CONTRIBUTOR","body":"@egor-ryashin what do you mean by \"another message\"?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480434467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480448767","html_url":"https://github.com/apache/druid/issues/7387#issuecomment-480448767","issue_url":"https://api.github.com/repos/apache/druid/issues/7387","id":480448767,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDQ0ODc2Nw==","user":{"login":"egor-ryashin","id":14215045,"node_id":"MDQ6VXNlcjE0MjE1MDQ1","avatar_url":"https://avatars.githubusercontent.com/u/14215045?v=4","gravatar_id":"","url":"https://api.github.com/users/egor-ryashin","html_url":"https://github.com/egor-ryashin","followers_url":"https://api.github.com/users/egor-ryashin/followers","following_url":"https://api.github.com/users/egor-ryashin/following{/other_user}","gists_url":"https://api.github.com/users/egor-ryashin/gists{/gist_id}","starred_url":"https://api.github.com/users/egor-ryashin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egor-ryashin/subscriptions","organizations_url":"https://api.github.com/users/egor-ryashin/orgs","repos_url":"https://api.github.com/users/egor-ryashin/repos","events_url":"https://api.github.com/users/egor-ryashin/events{/privacy}","received_events_url":"https://api.github.com/users/egor-ryashin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-05T23:08:56Z","updated_at":"2019-04-05T23:10:11Z","author_association":"CONTRIBUTOR","body":"It didn't load the extension, as it says it doesn't know anything except `local`\r\n\r\n> known options[[local]]\r\n\r\nCheck the extension is present, ie `find ./extensions`","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480448767/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480467236","html_url":"https://github.com/apache/druid/issues/7387#issuecomment-480467236","issue_url":"https://api.github.com/repos/apache/druid/issues/7387","id":480467236,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDQ2NzIzNg==","user":{"login":"Freya0214","id":39218654,"node_id":"MDQ6VXNlcjM5MjE4NjU0","avatar_url":"https://avatars.githubusercontent.com/u/39218654?v=4","gravatar_id":"","url":"https://api.github.com/users/Freya0214","html_url":"https://github.com/Freya0214","followers_url":"https://api.github.com/users/Freya0214/followers","following_url":"https://api.github.com/users/Freya0214/following{/other_user}","gists_url":"https://api.github.com/users/Freya0214/gists{/gist_id}","starred_url":"https://api.github.com/users/Freya0214/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Freya0214/subscriptions","organizations_url":"https://api.github.com/users/Freya0214/orgs","repos_url":"https://api.github.com/users/Freya0214/repos","events_url":"https://api.github.com/users/Freya0214/events{/privacy}","received_events_url":"https://api.github.com/users/Freya0214/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-06T02:35:26Z","updated_at":"2019-04-06T02:35:26Z","author_association":"NONE","body":"> It didn't load the extension, as it says it doesn't know anything except local\r\n> \r\n> known options[[local]]\r\n> \r\n> Check the extension is present, ie find ./extensions\r\nTHX ! In the extension directory ：\r\n![image](https://user-images.githubusercontent.com/39218654/55663830-6f584b80-5856-11e9-82b8-478cfbbd817c.png)\r\nThe  “druid-cassandra-storage” Existing in the directory，\"common.runtime.properties\" file  has been set path\r\ndruid.extensions.directory=dist/druid/extensions\r\nI think Should not be unable to find this directory .\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480467236/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480474161","html_url":"https://github.com/apache/druid/pull/5739#issuecomment-480474161","issue_url":"https://api.github.com/repos/apache/druid/issues/5739","id":480474161,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDQ3NDE2MQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-04-06T04:50:46Z","updated_at":"2019-04-06T04:50:46Z","author_association":"NONE","body":"This pull request has been marked as stale due to 60 days of inactivity. It will be closed in 1 week if no further activity occurs. If you think that’s incorrect or this pull request requires a review, please simply write any comment. If closed, you can revive the PR at any time and @mention a reviewer or discuss it on the dev@druid.apache.org list. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480474161/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480474164","html_url":"https://github.com/apache/druid/pull/6493#issuecomment-480474164","issue_url":"https://api.github.com/repos/apache/druid/issues/6493","id":480474164,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDQ3NDE2NA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-04-06T04:50:47Z","updated_at":"2019-04-06T04:50:47Z","author_association":"NONE","body":"This pull request has been marked as stale due to 60 days of inactivity. It will be closed in 1 week if no further activity occurs. If you think that’s incorrect or this pull request requires a review, please simply write any comment. If closed, you can revive the PR at any time and @mention a reviewer or discuss it on the dev@druid.apache.org list. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480474164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480498382","html_url":"https://github.com/apache/druid/issues/7387#issuecomment-480498382","issue_url":"https://api.github.com/repos/apache/druid/issues/7387","id":480498382,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDQ5ODM4Mg==","user":{"login":"egor-ryashin","id":14215045,"node_id":"MDQ6VXNlcjE0MjE1MDQ1","avatar_url":"https://avatars.githubusercontent.com/u/14215045?v=4","gravatar_id":"","url":"https://api.github.com/users/egor-ryashin","html_url":"https://github.com/egor-ryashin","followers_url":"https://api.github.com/users/egor-ryashin/followers","following_url":"https://api.github.com/users/egor-ryashin/following{/other_user}","gists_url":"https://api.github.com/users/egor-ryashin/gists{/gist_id}","starred_url":"https://api.github.com/users/egor-ryashin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egor-ryashin/subscriptions","organizations_url":"https://api.github.com/users/egor-ryashin/orgs","repos_url":"https://api.github.com/users/egor-ryashin/repos","events_url":"https://api.github.com/users/egor-ryashin/events{/privacy}","received_events_url":"https://api.github.com/users/egor-ryashin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-06T11:58:44Z","updated_at":"2019-04-06T11:59:01Z","author_association":"CONTRIBUTOR","body":"I see it's an `Imply` distributive, I think it's not an issue of `Apache Druid` project but of `Imply` project then.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480498382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480498488","html_url":"https://github.com/apache/druid/issues/7369#issuecomment-480498488","issue_url":"https://api.github.com/repos/apache/druid/issues/7369","id":480498488,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDQ5ODQ4OA==","user":{"login":"egor-ryashin","id":14215045,"node_id":"MDQ6VXNlcjE0MjE1MDQ1","avatar_url":"https://avatars.githubusercontent.com/u/14215045?v=4","gravatar_id":"","url":"https://api.github.com/users/egor-ryashin","html_url":"https://github.com/egor-ryashin","followers_url":"https://api.github.com/users/egor-ryashin/followers","following_url":"https://api.github.com/users/egor-ryashin/following{/other_user}","gists_url":"https://api.github.com/users/egor-ryashin/gists{/gist_id}","starred_url":"https://api.github.com/users/egor-ryashin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egor-ryashin/subscriptions","organizations_url":"https://api.github.com/users/egor-ryashin/orgs","repos_url":"https://api.github.com/users/egor-ryashin/repos","events_url":"https://api.github.com/users/egor-ryashin/events{/privacy}","received_events_url":"https://api.github.com/users/egor-ryashin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-06T12:00:20Z","updated_at":"2019-04-06T12:00:20Z","author_association":"CONTRIBUTOR","body":"I mean `Method Not Allowed` but in your case it's `Method Not Found`","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480498488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480499463","html_url":"https://github.com/apache/druid/issues/7137#issuecomment-480499463","issue_url":"https://api.github.com/repos/apache/druid/issues/7137","id":480499463,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDQ5OTQ2Mw==","user":{"login":"egor-ryashin","id":14215045,"node_id":"MDQ6VXNlcjE0MjE1MDQ1","avatar_url":"https://avatars.githubusercontent.com/u/14215045?v=4","gravatar_id":"","url":"https://api.github.com/users/egor-ryashin","html_url":"https://github.com/egor-ryashin","followers_url":"https://api.github.com/users/egor-ryashin/followers","following_url":"https://api.github.com/users/egor-ryashin/following{/other_user}","gists_url":"https://api.github.com/users/egor-ryashin/gists{/gist_id}","starred_url":"https://api.github.com/users/egor-ryashin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egor-ryashin/subscriptions","organizations_url":"https://api.github.com/users/egor-ryashin/orgs","repos_url":"https://api.github.com/users/egor-ryashin/repos","events_url":"https://api.github.com/users/egor-ryashin/events{/privacy}","received_events_url":"https://api.github.com/users/egor-ryashin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-06T12:15:39Z","updated_at":"2019-04-06T12:15:39Z","author_association":"CONTRIBUTOR","body":"I guess that can be solved on the database level setting the correct schema, for example:\r\n```\r\nALTER TABLE prod_segments\r\n    SET SCHEMA druid;\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480499463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480518525","html_url":"https://github.com/apache/druid/issues/7404#issuecomment-480518525","issue_url":"https://api.github.com/repos/apache/druid/issues/7404","id":480518525,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDUxODUyNQ==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-06T16:41:27Z","updated_at":"2019-04-06T16:41:27Z","author_association":"CONTRIBUTOR","body":"We have been using this feature since its inception and by using i mean testing internally, benchmarks and as default setting for our users. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480518525/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480520136","html_url":"https://github.com/apache/druid/issues/6920#issuecomment-480520136","issue_url":"https://api.github.com/repos/apache/druid/issues/6920","id":480520136,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDUyMDEzNg==","user":{"login":"egor-ryashin","id":14215045,"node_id":"MDQ6VXNlcjE0MjE1MDQ1","avatar_url":"https://avatars.githubusercontent.com/u/14215045?v=4","gravatar_id":"","url":"https://api.github.com/users/egor-ryashin","html_url":"https://github.com/egor-ryashin","followers_url":"https://api.github.com/users/egor-ryashin/followers","following_url":"https://api.github.com/users/egor-ryashin/following{/other_user}","gists_url":"https://api.github.com/users/egor-ryashin/gists{/gist_id}","starred_url":"https://api.github.com/users/egor-ryashin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egor-ryashin/subscriptions","organizations_url":"https://api.github.com/users/egor-ryashin/orgs","repos_url":"https://api.github.com/users/egor-ryashin/repos","events_url":"https://api.github.com/users/egor-ryashin/events{/privacy}","received_events_url":"https://api.github.com/users/egor-ryashin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-06T17:02:14Z","updated_at":"2019-04-06T17:02:14Z","author_association":"CONTRIBUTOR","body":"@havannavar I wonder if the issue is resolved?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480520136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480520446","html_url":"https://github.com/apache/druid/issues/6919#issuecomment-480520446","issue_url":"https://api.github.com/repos/apache/druid/issues/6919","id":480520446,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDUyMDQ0Ng==","user":{"login":"egor-ryashin","id":14215045,"node_id":"MDQ6VXNlcjE0MjE1MDQ1","avatar_url":"https://avatars.githubusercontent.com/u/14215045?v=4","gravatar_id":"","url":"https://api.github.com/users/egor-ryashin","html_url":"https://github.com/egor-ryashin","followers_url":"https://api.github.com/users/egor-ryashin/followers","following_url":"https://api.github.com/users/egor-ryashin/following{/other_user}","gists_url":"https://api.github.com/users/egor-ryashin/gists{/gist_id}","starred_url":"https://api.github.com/users/egor-ryashin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egor-ryashin/subscriptions","organizations_url":"https://api.github.com/users/egor-ryashin/orgs","repos_url":"https://api.github.com/users/egor-ryashin/repos","events_url":"https://api.github.com/users/egor-ryashin/events{/privacy}","received_events_url":"https://api.github.com/users/egor-ryashin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-06T17:06:07Z","updated_at":"2019-04-06T17:06:07Z","author_association":"CONTRIBUTOR","body":"@laspery I wonder if the issue is resolved?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480520446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480533642","html_url":"https://github.com/apache/druid/issues/7369#issuecomment-480533642","issue_url":"https://api.github.com/repos/apache/druid/issues/7369","id":480533642,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDUzMzY0Mg==","user":{"login":"justinborromeo","id":9417701,"node_id":"MDQ6VXNlcjk0MTc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/9417701?v=4","gravatar_id":"","url":"https://api.github.com/users/justinborromeo","html_url":"https://github.com/justinborromeo","followers_url":"https://api.github.com/users/justinborromeo/followers","following_url":"https://api.github.com/users/justinborromeo/following{/other_user}","gists_url":"https://api.github.com/users/justinborromeo/gists{/gist_id}","starred_url":"https://api.github.com/users/justinborromeo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinborromeo/subscriptions","organizations_url":"https://api.github.com/users/justinborromeo/orgs","repos_url":"https://api.github.com/users/justinborromeo/repos","events_url":"https://api.github.com/users/justinborromeo/events{/privacy}","received_events_url":"https://api.github.com/users/justinborromeo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-06T20:04:55Z","updated_at":"2019-04-06T20:04:55Z","author_association":"CONTRIBUTOR","body":"Sorry about that, mixed up the two error messages - it's fixed in the description.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480533642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480539698","html_url":"https://github.com/apache/druid/issues/7362#issuecomment-480539698","issue_url":"https://api.github.com/repos/apache/druid/issues/7362","id":480539698,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDUzOTY5OA==","user":{"login":"egor-ryashin","id":14215045,"node_id":"MDQ6VXNlcjE0MjE1MDQ1","avatar_url":"https://avatars.githubusercontent.com/u/14215045?v=4","gravatar_id":"","url":"https://api.github.com/users/egor-ryashin","html_url":"https://github.com/egor-ryashin","followers_url":"https://api.github.com/users/egor-ryashin/followers","following_url":"https://api.github.com/users/egor-ryashin/following{/other_user}","gists_url":"https://api.github.com/users/egor-ryashin/gists{/gist_id}","starred_url":"https://api.github.com/users/egor-ryashin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egor-ryashin/subscriptions","organizations_url":"https://api.github.com/users/egor-ryashin/orgs","repos_url":"https://api.github.com/users/egor-ryashin/repos","events_url":"https://api.github.com/users/egor-ryashin/events{/privacy}","received_events_url":"https://api.github.com/users/egor-ryashin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-06T21:37:43Z","updated_at":"2019-04-06T21:37:43Z","author_association":"CONTRIBUTOR","body":"> Could you please suggest criteria for how to choose between INFO and DEBUG?\r\n\r\n_\"In general, trace level logging cannot be on for sustained periods because it degrades the performance of the application greatly, and/or creates an abundance of log data that is unsustainable due to disk/bandwidth constraints._\r\n\r\n _Debug level logging can usually be on for a longer period without making the app unusable.\"_","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480539698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/480545289","html_url":"https://github.com/apache/druid/pull/6928#issuecomment-480545289","issue_url":"https://api.github.com/repos/apache/druid/issues/6928","id":480545289,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDU0NTI4OQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-04-06T23:24:25Z","updated_at":"2019-04-06T23:24:25Z","author_association":"NONE","body":"This pull request has been marked as stale due to 60 days of inactivity. It will be closed in 1 week if no further activity occurs. If you think that’s incorrect or this pull request requires a review, please simply write any comment. If closed, you can revive the PR at any time and @mention a reviewer or discuss it on the dev@druid.apache.org list. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/480545289/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]