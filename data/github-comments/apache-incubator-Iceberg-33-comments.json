[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/625791753","html_url":"https://github.com/apache/iceberg/issues/1009#issuecomment-625791753","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1009","id":625791753,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNTc5MTc1Mw==","user":{"login":"kaidata","id":20488453,"node_id":"MDQ6VXNlcjIwNDg4NDUz","avatar_url":"https://avatars.githubusercontent.com/u/20488453?v=4","gravatar_id":"","url":"https://api.github.com/users/kaidata","html_url":"https://github.com/kaidata","followers_url":"https://api.github.com/users/kaidata/followers","following_url":"https://api.github.com/users/kaidata/following{/other_user}","gists_url":"https://api.github.com/users/kaidata/gists{/gist_id}","starred_url":"https://api.github.com/users/kaidata/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaidata/subscriptions","organizations_url":"https://api.github.com/users/kaidata/orgs","repos_url":"https://api.github.com/users/kaidata/repos","events_url":"https://api.github.com/users/kaidata/events{/privacy}","received_events_url":"https://api.github.com/users/kaidata/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-08T12:28:08Z","updated_at":"2020-05-08T12:28:08Z","author_association":"NONE","body":"@waterlx \r\ni very sorry about this；\r\ni hava test on my own laptop, it is normal;\r\nit should be problem of my company network;","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/625791753/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/625795045","html_url":"https://github.com/apache/iceberg/issues/1009#issuecomment-625795045","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1009","id":625795045,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNTc5NTA0NQ==","user":{"login":"kaidata","id":20488453,"node_id":"MDQ6VXNlcjIwNDg4NDUz","avatar_url":"https://avatars.githubusercontent.com/u/20488453?v=4","gravatar_id":"","url":"https://api.github.com/users/kaidata","html_url":"https://github.com/kaidata","followers_url":"https://api.github.com/users/kaidata/followers","following_url":"https://api.github.com/users/kaidata/following{/other_user}","gists_url":"https://api.github.com/users/kaidata/gists{/gist_id}","starred_url":"https://api.github.com/users/kaidata/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaidata/subscriptions","organizations_url":"https://api.github.com/users/kaidata/orgs","repos_url":"https://api.github.com/users/kaidata/repos","events_url":"https://api.github.com/users/kaidata/events{/privacy}","received_events_url":"https://api.github.com/users/kaidata/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-08T12:37:16Z","updated_at":"2020-05-08T12:40:17Z","author_association":"NONE","body":"about get started(or code examples), i think it should describe some topic like this, eg:\r\n(i think the perfect opensource tech for develop is spark(examples(project model code))) and hbase(reference guide))\r\n1. it can run(debug)(maven dependency(version))\r\n3. out dependency(hive metastore(version?))\r\n4. architect\r\n5. roadmap","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/625795045/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/625889280","html_url":"https://github.com/apache/iceberg/issues/1014#issuecomment-625889280","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1014","id":625889280,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNTg4OTI4MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-08T16:07:53Z","updated_at":"2020-05-08T16:07:53Z","author_association":"CONTRIBUTOR","body":"The exception you posted is a warning. Are you sure that all of the commits were successful?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/625889280/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/625892584","html_url":"https://github.com/apache/iceberg/pull/1015#issuecomment-625892584","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1015","id":625892584,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNTg5MjU4NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-08T16:15:03Z","updated_at":"2020-05-08T16:15:03Z","author_association":"CONTRIBUTOR","body":"Thanks, @waterlx! Could you add a test for this?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/625892584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/625913167","html_url":"https://github.com/apache/iceberg/pull/1016#issuecomment-625913167","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1016","id":625913167,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNTkxMzE2Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-08T16:55:15Z","updated_at":"2020-05-08T16:55:15Z","author_association":"CONTRIBUTOR","body":"Looks correct to me. @aokolnychyi, any thoughts on this?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/625913167/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/625922059","html_url":"https://github.com/apache/iceberg/issues/359#issuecomment-625922059","issue_url":"https://api.github.com/repos/apache/iceberg/issues/359","id":625922059,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNTkyMjA1OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-08T17:15:12Z","updated_at":"2020-05-08T17:15:12Z","author_association":"CONTRIBUTOR","body":"I'm going to close this because the spec part is done. We can track the reader in #971, or open another issue for it in the milestone.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/625922059/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/625931109","html_url":"https://github.com/apache/iceberg/issues/1018#issuecomment-625931109","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1018","id":625931109,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNTkzMTEwOQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-08T17:35:19Z","updated_at":"2020-08-10T22:21:19Z","author_association":"CONTRIBUTOR","body":"@chenjunjiedada has started work on the reader in #971.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/625931109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/625940913","html_url":"https://github.com/apache/iceberg/issues/956#issuecomment-625940913","issue_url":"https://api.github.com/repos/apache/iceberg/issues/956","id":625940913,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNTk0MDkxMw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-08T17:58:34Z","updated_at":"2020-05-08T17:58:34Z","author_association":"CONTRIBUTOR","body":"Should we close this because we aren't going to fix it?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/625940913/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/625941465","html_url":"https://github.com/apache/iceberg/issues/984#issuecomment-625941465","issue_url":"https://api.github.com/repos/apache/iceberg/issues/984","id":625941465,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNTk0MTQ2NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-08T17:59:48Z","updated_at":"2020-05-08T17:59:48Z","author_association":"CONTRIBUTOR","body":"`Transform.day` produces the internal value for a date, the number of days from the unix epoch. Iceberg uses that representation, not a Java date type.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/625941465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/625946502","html_url":"https://github.com/apache/iceberg/issues/1010#issuecomment-625946502","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1010","id":625946502,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNTk0NjUwMg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-08T18:11:39Z","updated_at":"2020-05-08T18:11:39Z","author_association":"CONTRIBUTOR","body":"Looks like you're trying to load an Iceberg table without going through an Iceberg catalog. Iceberg stores table references in the Hive metastore, but non-Iceberg catalogs cannot read the tables.\r\n\r\nIn Spark 2.4.4, you need to use the Dataset API and register your table as a temporary view to use SQL. That's documented on our [Getting Started page](https://iceberg.apache.org/getting-started/#reading-with-sql).\r\n\r\nIn Spark 3.0, you need to use the 3.0 branch and register an Iceberg catalog with Spark. That's done by setting config properties that point to the [SparkCatalog](https://github.com/apache/incubator-iceberg/blob/spark-3/spark/src/main/java/org/apache/iceberg/spark/SparkCatalog.java) implementation:\r\n\r\n```\r\nspark.sql.catalog.iceberg = org.apache.iceberg.spark.SparkCatalog\r\nspark.sql.catalog.iceberg.uri = thrift://... # your HMS connection URI\r\n```\r\n\r\nOnce you've defined that catalog, you can use it in SQL:\r\n\r\n```sql\r\nSELECT * FROM iceberg.ice.data4\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/625946502/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/625987250","html_url":"https://github.com/apache/iceberg/issues/956#issuecomment-625987250","issue_url":"https://api.github.com/repos/apache/iceberg/issues/956","id":625987250,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNTk4NzI1MA==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-08T19:46:46Z","updated_at":"2020-05-08T19:46:46Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/625987250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/625988575","html_url":"https://github.com/apache/iceberg/issues/1027#issuecomment-625988575","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1027","id":625988575,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNTk4ODU3NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-08T19:49:38Z","updated_at":"2020-05-08T19:49:38Z","author_association":"CONTRIBUTOR","body":"This may not need to run in a processing engine. Since position delete files are already sorted, they can be merged together without using much memory. Using an engine like Spark could make it faster, but it isn't necessarily required.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/625988575/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/626015033","html_url":"https://github.com/apache/iceberg/pull/935#issuecomment-626015033","issue_url":"https://api.github.com/repos/apache/iceberg/issues/935","id":626015033,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNjAxNTAzMw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-08T20:51:09Z","updated_at":"2020-05-08T20:51:09Z","author_association":"CONTRIBUTOR","body":"Overall, this looks good to me. Here's a summary of my other comments:\r\n\r\n* I'm fine using `org.apache.iceberg.com.google.guava`. Let's not include `shaded` so we by-pass the checkstyle rule and don't have to modify it.\r\n* I strongly prefer minimizing guava so that we don't over-use Guava (we may want to remove it later) and so that we don't add yet another copy to the runtime classpath\r\n* I'd like to rename the module to iceberg-bundled-guava or something\r\n* I don't see Guava in the declared dependencies when I look at `./gradlew iceberg-core:dependencies --configuration compile` so I think this does the right thing.\r\n* The `versions.lock` file _should_ list Guava since it's a locked version that comes from the new module.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/626015033/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/626016882","html_url":"https://github.com/apache/iceberg/pull/935#issuecomment-626016882","issue_url":"https://api.github.com/repos/apache/iceberg/issues/935","id":626016882,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNjAxNjg4Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-08T20:56:11Z","updated_at":"2020-05-08T20:56:11Z","author_association":"CONTRIBUTOR","body":"One more: while this adds LICENSE and NOTICE in configuration, those files don't exist at `(module-dir)/LICENSE` and so they aren't included. The LICENSE should contain the Apache License and an [entry for Guava](https://github.com/apache/incubator-iceberg/blob/master/spark-runtime/LICENSE#L388-L395), like the one for spark-runtime. No other content is needed because Guava is the only library in the Jar.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/626016882/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/626164656","html_url":"https://github.com/apache/iceberg/issues/1014#issuecomment-626164656","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1014","id":626164656,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNjE2NDY1Ng==","user":{"login":"vanliu-tx","id":64360028,"node_id":"MDQ6VXNlcjY0MzYwMDI4","avatar_url":"https://avatars.githubusercontent.com/u/64360028?v=4","gravatar_id":"","url":"https://api.github.com/users/vanliu-tx","html_url":"https://github.com/vanliu-tx","followers_url":"https://api.github.com/users/vanliu-tx/followers","following_url":"https://api.github.com/users/vanliu-tx/following{/other_user}","gists_url":"https://api.github.com/users/vanliu-tx/gists{/gist_id}","starred_url":"https://api.github.com/users/vanliu-tx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vanliu-tx/subscriptions","organizations_url":"https://api.github.com/users/vanliu-tx/orgs","repos_url":"https://api.github.com/users/vanliu-tx/repos","events_url":"https://api.github.com/users/vanliu-tx/events{/privacy}","received_events_url":"https://api.github.com/users/vanliu-tx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-09T11:56:20Z","updated_at":"2020-05-09T11:56:20Z","author_association":"CONTRIBUTOR","body":"@rdblue the commit was successful as the log messages said so. \r\n\"Committed snapshot 3954230755295370661 (MergeAppend) (org.apache.iceberg.SnapshotProducer:274)\"\r\n\r\nHowever, when I looked into the final metadata file, this snapshot was not there.\r\n\r\n![issue01](https://user-images.githubusercontent.com/64360028/81472969-1e234400-922e-11ea-8a2d-c1c8352d3556.png)\r\n\r\n![issue02](https://user-images.githubusercontent.com/64360028/81472971-22e7f800-922e-11ea-9884-0951b3950d80.png)\r\n\r\nYou can find the metadata files here.\r\n[0509_meta.zip](https://github.com/apache/incubator-iceberg/files/4603399/0509_meta.zip)\r\n\r\nThere were 8 NPE in the log file run.log, and exactly 8 commits were missing because there were only 493 metadata files in the zip file, which should be 501 files (1 commit for table create, 500 commits for adding data files).\r\n\r\n[run.log](https://github.com/apache/incubator-iceberg/files/4603411/run.log)\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/626164656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/626281373","html_url":"https://github.com/apache/iceberg/issues/502#issuecomment-626281373","issue_url":"https://api.github.com/repos/apache/iceberg/issues/502","id":626281373,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNjI4MTM3Mw==","user":{"login":"pranaydharmale","id":495744,"node_id":"MDQ6VXNlcjQ5NTc0NA==","avatar_url":"https://avatars.githubusercontent.com/u/495744?v=4","gravatar_id":"","url":"https://api.github.com/users/pranaydharmale","html_url":"https://github.com/pranaydharmale","followers_url":"https://api.github.com/users/pranaydharmale/followers","following_url":"https://api.github.com/users/pranaydharmale/following{/other_user}","gists_url":"https://api.github.com/users/pranaydharmale/gists{/gist_id}","starred_url":"https://api.github.com/users/pranaydharmale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pranaydharmale/subscriptions","organizations_url":"https://api.github.com/users/pranaydharmale/orgs","repos_url":"https://api.github.com/users/pranaydharmale/repos","events_url":"https://api.github.com/users/pranaydharmale/events{/privacy}","received_events_url":"https://api.github.com/users/pranaydharmale/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-10T06:32:55Z","updated_at":"2020-05-10T06:32:55Z","author_association":"CONTRIBUTOR","body":"submitted PR 1031 for this fix","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/626281373/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/626437642","html_url":"https://github.com/apache/iceberg/pull/1011#issuecomment-626437642","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1011","id":626437642,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNjQzNzY0Mg==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-11T02:28:17Z","updated_at":"2020-05-11T02:28:17Z","author_association":"MEMBER","body":"Ping @rdblue,  How do you think about the patch ?  Is it worth to get this merge in trunk ? If so please take a look, otherwise I will close it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/626437642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/626837744","html_url":"https://github.com/apache/iceberg/pull/1011#issuecomment-626837744","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1011","id":626837744,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNjgzNzc0NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-11T17:20:39Z","updated_at":"2020-05-11T17:20:39Z","author_association":"CONTRIBUTOR","body":"@openinx, I like this except for the additional method. I think it would be better to make `CloseableIterable.iterator` return a `CloseableIterator` so that we always return one.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/626837744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/626889279","html_url":"https://github.com/apache/iceberg/pull/1032#issuecomment-626889279","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1032","id":626889279,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNjg4OTI3OQ==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-11T18:51:30Z","updated_at":"2020-05-11T18:51:30Z","author_association":"CONTRIBUTOR","body":"cc @jun-he ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/626889279/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/626968872","html_url":"https://github.com/apache/iceberg/pull/1035#issuecomment-626968872","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1035","id":626968872,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNjk2ODg3Mg==","user":{"login":"omalley","id":206536,"node_id":"MDQ6VXNlcjIwNjUzNg==","avatar_url":"https://avatars.githubusercontent.com/u/206536?v=4","gravatar_id":"","url":"https://api.github.com/users/omalley","html_url":"https://github.com/omalley","followers_url":"https://api.github.com/users/omalley/followers","following_url":"https://api.github.com/users/omalley/following{/other_user}","gists_url":"https://api.github.com/users/omalley/gists{/gist_id}","starred_url":"https://api.github.com/users/omalley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/omalley/subscriptions","organizations_url":"https://api.github.com/users/omalley/orgs","repos_url":"https://api.github.com/users/omalley/repos","events_url":"https://api.github.com/users/omalley/events{/privacy}","received_events_url":"https://api.github.com/users/omalley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-11T21:15:43Z","updated_at":"2020-05-11T21:15:43Z","author_association":"CONTRIBUTOR","body":"+1, although we should probably have a discussion about how to handle security issues rather than just punting to apache security.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/626968872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/626990662","html_url":"https://github.com/apache/iceberg/pull/1034#issuecomment-626990662","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1034","id":626990662,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNjk5MDY2Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-11T22:05:44Z","updated_at":"2020-05-11T22:05:44Z","author_association":"CONTRIBUTOR","body":"@TGooch44, can you help take a look?\r\n\r\nLooks like this adds a static analysis tool that caught a few inconsistencies.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/626990662/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/627005734","html_url":"https://github.com/apache/iceberg/pull/1035#issuecomment-627005734","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1035","id":627005734,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNzAwNTczNA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-11T22:46:37Z","updated_at":"2020-05-11T22:46:37Z","author_association":"CONTRIBUTOR","body":"> we should probably have a discussion about how to handle security issues rather than just punting to apache security.\r\n\r\nI thought it was a good way to start out. Don't most projects simply respond when security concerns are raised with the private list, and accept reports through ASF security? I thought project-specific handling was only needed for higher profile projects with more issues (like Spark).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/627005734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/627005829","html_url":"https://github.com/apache/iceberg/pull/1035#issuecomment-627005829","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1035","id":627005829,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNzAwNTgyOQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-11T22:46:54Z","updated_at":"2020-05-11T22:46:54Z","author_association":"CONTRIBUTOR","body":"Merged. Thanks for reviewing!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/627005829/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/627048068","html_url":"https://github.com/apache/iceberg/pull/1016#issuecomment-627048068","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1016","id":627048068,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNzA0ODA2OA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-12T01:07:58Z","updated_at":"2020-05-12T01:07:58Z","author_association":"CONTRIBUTOR","body":"Looks like a good catch to me. Thanks, @TisonKun. I'll merge this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/627048068/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/627049521","html_url":"https://github.com/apache/iceberg/pull/1034#issuecomment-627049521","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1034","id":627049521,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNzA0OTUyMQ==","user":{"login":"TGooch44","id":1591711,"node_id":"MDQ6VXNlcjE1OTE3MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1591711?v=4","gravatar_id":"","url":"https://api.github.com/users/TGooch44","html_url":"https://github.com/TGooch44","followers_url":"https://api.github.com/users/TGooch44/followers","following_url":"https://api.github.com/users/TGooch44/following{/other_user}","gists_url":"https://api.github.com/users/TGooch44/gists{/gist_id}","starred_url":"https://api.github.com/users/TGooch44/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TGooch44/subscriptions","organizations_url":"https://api.github.com/users/TGooch44/orgs","repos_url":"https://api.github.com/users/TGooch44/repos","events_url":"https://api.github.com/users/TGooch44/events{/privacy}","received_events_url":"https://api.github.com/users/TGooch44/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-12T01:12:47Z","updated_at":"2020-05-12T01:12:47Z","author_association":"CONTRIBUTOR","body":"Looks great, will take me a bit to go through it all, but I'm all for it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/627049521/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/627081105","html_url":"https://github.com/apache/iceberg/pull/1016#issuecomment-627081105","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1016","id":627081105,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNzA4MTEwNQ==","user":{"login":"tisonkun","id":18818196,"node_id":"MDQ6VXNlcjE4ODE4MTk2","avatar_url":"https://avatars.githubusercontent.com/u/18818196?v=4","gravatar_id":"","url":"https://api.github.com/users/tisonkun","html_url":"https://github.com/tisonkun","followers_url":"https://api.github.com/users/tisonkun/followers","following_url":"https://api.github.com/users/tisonkun/following{/other_user}","gists_url":"https://api.github.com/users/tisonkun/gists{/gist_id}","starred_url":"https://api.github.com/users/tisonkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tisonkun/subscriptions","organizations_url":"https://api.github.com/users/tisonkun/orgs","repos_url":"https://api.github.com/users/tisonkun/repos","events_url":"https://api.github.com/users/tisonkun/events{/privacy}","received_events_url":"https://api.github.com/users/tisonkun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-12T03:09:09Z","updated_at":"2020-05-12T03:09:09Z","author_association":"MEMBER","body":"Thanks for your reviews!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/627081105/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/627122974","html_url":"https://github.com/apache/iceberg/pull/973#issuecomment-627122974","issue_url":"https://api.github.com/repos/apache/iceberg/issues/973","id":627122974,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNzEyMjk3NA==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-12T05:43:44Z","updated_at":"2020-05-12T05:44:26Z","author_association":"CONTRIBUTOR","body":"I plan to review this this week. Thanks @rdblue, @shardulm94 !","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/627122974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/627187726","html_url":"https://github.com/apache/iceberg/issues/1010#issuecomment-627187726","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1010","id":627187726,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNzE4NzcyNg==","user":{"login":"zachary124","id":3360971,"node_id":"MDQ6VXNlcjMzNjA5NzE=","avatar_url":"https://avatars.githubusercontent.com/u/3360971?v=4","gravatar_id":"","url":"https://api.github.com/users/zachary124","html_url":"https://github.com/zachary124","followers_url":"https://api.github.com/users/zachary124/followers","following_url":"https://api.github.com/users/zachary124/following{/other_user}","gists_url":"https://api.github.com/users/zachary124/gists{/gist_id}","starred_url":"https://api.github.com/users/zachary124/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zachary124/subscriptions","organizations_url":"https://api.github.com/users/zachary124/orgs","repos_url":"https://api.github.com/users/zachary124/repos","events_url":"https://api.github.com/users/zachary124/events{/privacy}","received_events_url":"https://api.github.com/users/zachary124/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-12T08:15:29Z","updated_at":"2020-05-12T08:15:29Z","author_association":"NONE","body":"@rdblue Thank you for your reply，I get it","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/627187726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/627488929","html_url":"https://github.com/apache/iceberg/pull/1015#issuecomment-627488929","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1015","id":627488929,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNzQ4ODkyOQ==","user":{"login":"waterlx","id":13976495,"node_id":"MDQ6VXNlcjEzOTc2NDk1","avatar_url":"https://avatars.githubusercontent.com/u/13976495?v=4","gravatar_id":"","url":"https://api.github.com/users/waterlx","html_url":"https://github.com/waterlx","followers_url":"https://api.github.com/users/waterlx/followers","following_url":"https://api.github.com/users/waterlx/following{/other_user}","gists_url":"https://api.github.com/users/waterlx/gists{/gist_id}","starred_url":"https://api.github.com/users/waterlx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waterlx/subscriptions","organizations_url":"https://api.github.com/users/waterlx/orgs","repos_url":"https://api.github.com/users/waterlx/repos","events_url":"https://api.github.com/users/waterlx/events{/privacy}","received_events_url":"https://api.github.com/users/waterlx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-12T17:37:14Z","updated_at":"2020-05-12T17:37:14Z","author_association":"CONTRIBUTOR","body":"@rdblue I updated AvroDataTest to expose the errors in both write and read paths. Could you please review again?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/627488929/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/627649593","html_url":"https://github.com/apache/iceberg/pull/1033#issuecomment-627649593","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1033","id":627649593,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNzY0OTU5Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-12T23:14:55Z","updated_at":"2020-05-12T23:14:55Z","author_association":"CONTRIBUTOR","body":"Can you explain a bit more about what this does? Is the pre-commit hook validation only? The tool sounds like it will modify code, but that shouldn't be done in a pre-commit hook.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/627649593/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/627649953","html_url":"https://github.com/apache/iceberg/pull/1034#issuecomment-627649953","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1034","id":627649953,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNzY0OTk1Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-12T23:16:02Z","updated_at":"2020-05-12T23:16:02Z","author_association":"CONTRIBUTOR","body":"Looks like this probably can't be merged until the other PRs are finished first. Is it possible to separate this out with just the changes to apply the style checker?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/627649953/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/627651908","html_url":"https://github.com/apache/iceberg/pull/1037#issuecomment-627651908","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1037","id":627651908,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNzY1MTkwOA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-12T23:22:20Z","updated_at":"2020-05-12T23:22:20Z","author_association":"CONTRIBUTOR","body":"What is the use case you're working on? Right now, there is no way to read Avro data files if they contain non-option unions and I'm not sure that we want to add that. I'm curious what you intend to use this for.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/627651908/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/627652394","html_url":"https://github.com/apache/iceberg/pull/1031#issuecomment-627652394","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1031","id":627652394,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNzY1MjM5NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-12T23:23:51Z","updated_at":"2020-05-12T23:23:51Z","author_association":"CONTRIBUTOR","body":"Could you add a test for this?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/627652394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/627663084","html_url":"https://github.com/apache/iceberg/pull/1015#issuecomment-627663084","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1015","id":627663084,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNzY2MzA4NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-13T00:01:23Z","updated_at":"2020-05-13T00:01:23Z","author_association":"CONTRIBUTOR","body":"Looks like github didn't pick it up, but Travis shows the tests are passing. I'll merge this. Thanks @waterlx!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/627663084/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/627664982","html_url":"https://github.com/apache/iceberg/pull/1037#issuecomment-627664982","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1037","id":627664982,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNzY2NDk4Mg==","user":{"login":"johnclara","id":9331049,"node_id":"MDQ6VXNlcjkzMzEwNDk=","avatar_url":"https://avatars.githubusercontent.com/u/9331049?v=4","gravatar_id":"","url":"https://api.github.com/users/johnclara","html_url":"https://github.com/johnclara","followers_url":"https://api.github.com/users/johnclara/followers","following_url":"https://api.github.com/users/johnclara/following{/other_user}","gists_url":"https://api.github.com/users/johnclara/gists{/gist_id}","starred_url":"https://api.github.com/users/johnclara/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johnclara/subscriptions","organizations_url":"https://api.github.com/users/johnclara/orgs","repos_url":"https://api.github.com/users/johnclara/repos","events_url":"https://api.github.com/users/johnclara/events{/privacy}","received_events_url":"https://api.github.com/users/johnclara/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-13T00:07:25Z","updated_at":"2020-05-13T00:07:36Z","author_association":"NONE","body":"We're trying to make a table with a large union type.. \r\n\r\nOur use case is for CDC of our DB. The changed fields are extracted as Map[String, Object] where Object is a large union type.\r\n\r\nI think I'll add a different layer using a custom AvroSchemaVisitor to do this transformation before passing the Schema to the SchemaToType transformer. That way this doesn't have to be merged up stream.\r\n\r\nThanks for taking a look!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/627664982/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/627667529","html_url":"https://github.com/apache/iceberg/pull/1011#issuecomment-627667529","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1011","id":627667529,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNzY2NzUyOQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-13T00:16:27Z","updated_at":"2020-05-13T00:16:27Z","author_association":"CONTRIBUTOR","body":"Thanks @openinx, I think this is almost ready.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/627667529/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/627681848","html_url":"https://github.com/apache/iceberg/pull/983#issuecomment-627681848","issue_url":"https://api.github.com/repos/apache/iceberg/issues/983","id":627681848,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNzY4MTg0OA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-13T01:03:29Z","updated_at":"2020-05-13T01:03:29Z","author_association":"CONTRIBUTOR","body":"@chenjunjiedada, please take a look at #1038. The test cases here made me think about the existing tests. Ideally, we would extend those tests with assertions for sequence numbers rather than only testing a subset. That PR demonstrates how we would do that, by adding validation methods that test sequence numbers if they are provided. It also uses assertions that only apply for a specific table version, like `V2Assert.assertEquals`.\r\n\r\nThat would be a more thorough way to accomplish what you're trying to do here. Would you like to use that approach?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/627681848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/627691373","html_url":"https://github.com/apache/iceberg/pull/983#issuecomment-627691373","issue_url":"https://api.github.com/repos/apache/iceberg/issues/983","id":627691373,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNzY5MTM3Mw==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-13T01:31:55Z","updated_at":"2020-05-13T01:31:55Z","author_association":"COLLABORATOR","body":"Thanks @rdblue , I suppose your comment is for https://github.com/apache/incubator-iceberg/pull/974. Right?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/627691373/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/627866076","html_url":"https://github.com/apache/iceberg/pull/1034#issuecomment-627866076","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1034","id":627866076,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNzg2NjA3Ng==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-13T09:27:25Z","updated_at":"2020-05-13T09:27:25Z","author_association":"CONTRIBUTOR","body":"Thanks. I've added it to `tox` now, so we can figure out if we want to use pre-commit later on :)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/627866076/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/627915618","html_url":"https://github.com/apache/iceberg/pull/1032#issuecomment-627915618","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1032","id":627915618,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNzkxNTYxOA==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-13T11:15:43Z","updated_at":"2020-05-13T11:15:43Z","author_association":"CONTRIBUTOR","body":"@rdblue I tried to fix this as well, without using `pre-commit` and fix it using tox. I've noticed that there is an overlap with https://github.com/apache/incubator-iceberg/pull/1034. Could you merge that one first? I'll fix this one afterward.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/627915618/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/628067467","html_url":"https://github.com/apache/iceberg/pull/974#issuecomment-628067467","issue_url":"https://api.github.com/repos/apache/iceberg/issues/974","id":628067467,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODA2NzQ2Nw==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-13T15:29:02Z","updated_at":"2020-05-13T15:29:02Z","author_association":"COLLABORATOR","body":"@rdblue, The latest commit includes changes from #1038, will rebase if that gets merged.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/628067467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/628097798","html_url":"https://github.com/apache/iceberg/pull/1034#issuecomment-628097798","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1034","id":628097798,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODA5Nzc5OA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-13T16:19:57Z","updated_at":"2020-05-13T16:19:57Z","author_association":"CONTRIBUTOR","body":"Looks good to me. Thanks for separating this out and using Tox!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/628097798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/628098376","html_url":"https://github.com/apache/iceberg/pull/1032#issuecomment-628098376","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1032","id":628098376,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODA5ODM3Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-13T16:20:54Z","updated_at":"2020-05-13T16:20:54Z","author_association":"CONTRIBUTOR","body":"@Fokko, I merged #1034, so you should be unblocked here. Thanks for working on this and for moving it to Tox!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/628098376/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/628102837","html_url":"https://github.com/apache/iceberg/pull/983#issuecomment-628102837","issue_url":"https://api.github.com/repos/apache/iceberg/issues/983","id":628102837,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODEwMjgzNw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-13T16:28:59Z","updated_at":"2020-05-13T16:28:59Z","author_association":"CONTRIBUTOR","body":"@chenjunjiedada, you're right. It looks like I made that comment on the wrong PR. Sorry for the confusion.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/628102837/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/628116391","html_url":"https://github.com/apache/iceberg/pull/1034#issuecomment-628116391","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1034","id":628116391,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODExNjM5MQ==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-13T16:53:21Z","updated_at":"2020-05-13T16:53:21Z","author_association":"CONTRIBUTOR","body":"Thanks! I find tox a bit more cumbersome, but introducing a new tool might not be worth the added complexity in the CI pipeline.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/628116391/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/628141472","html_url":"https://github.com/apache/iceberg/pull/1036#issuecomment-628141472","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1036","id":628141472,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODE0MTQ3Mg==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-13T17:39:01Z","updated_at":"2020-05-13T17:39:01Z","author_association":"CONTRIBUTOR","body":"Thanks @rdblue . I'm reviewing this today!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/628141472/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/628181736","html_url":"https://github.com/apache/iceberg/pull/1001#issuecomment-628181736","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1001","id":628181736,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODE4MTczNg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-13T18:56:19Z","updated_at":"2020-05-13T18:56:19Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing, @aokolnychyi!\r\n\r\n@chenjunjiedada, this should unblock your PR.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/628181736/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/628184705","html_url":"https://github.com/apache/iceberg/pull/1041#issuecomment-628184705","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1041","id":628184705,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODE4NDcwNQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-13T19:01:50Z","updated_at":"2020-05-13T19:01:50Z","author_association":"CONTRIBUTOR","body":"Overall, I'm +1 for this change because it should help us keep quality high. I'm going to leave this open for a little while to let @TGooch44, @rymurr, and @xhochy take a look at comment since adding a type checker affects Python contributors.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/628184705/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/628367018","html_url":"https://github.com/apache/iceberg/pull/1037#issuecomment-628367018","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1037","id":628367018,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODM2NzAxOA==","user":{"login":"sudssf","id":10800873,"node_id":"MDQ6VXNlcjEwODAwODcz","avatar_url":"https://avatars.githubusercontent.com/u/10800873?v=4","gravatar_id":"","url":"https://api.github.com/users/sudssf","html_url":"https://github.com/sudssf","followers_url":"https://api.github.com/users/sudssf/followers","following_url":"https://api.github.com/users/sudssf/following{/other_user}","gists_url":"https://api.github.com/users/sudssf/gists{/gist_id}","starred_url":"https://api.github.com/users/sudssf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sudssf/subscriptions","organizations_url":"https://api.github.com/users/sudssf/orgs","repos_url":"https://api.github.com/users/sudssf/repos","events_url":"https://api.github.com/users/sudssf/events{/privacy}","received_events_url":"https://api.github.com/users/sudssf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-14T03:37:42Z","updated_at":"2020-05-14T03:37:42Z","author_association":"CONTRIBUTOR","body":"@rdblue  have map in avro schema with value as union of different types. spark-avro handles this correctly. looks like iceberg-avro does not support this behaviour\r\nwe are tying to figure out if we can add support similar to spark-avro\r\n\r\n```\r\n{\r\n         \"type\": \"map\",\r\n          \"values\": [\r\n            \"null\",\r\n            \"int\",\r\n            \"long\",\r\n            \"string\"\r\n          ]\r\n }````","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/628367018/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/628369931","html_url":"https://github.com/apache/iceberg/pull/1037#issuecomment-628369931","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1037","id":628369931,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODM2OTkzMQ==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-14T03:49:46Z","updated_at":"2020-05-14T03:49:46Z","author_association":"CONTRIBUTOR","body":"I think this is similar to the issue I filed sometime back https://github.com/apache/incubator-iceberg/issues/189 .  @shardulm94  was also playing around with prototypes on how to solve it. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/628369931/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/628390227","html_url":"https://github.com/apache/iceberg/pull/1037#issuecomment-628390227","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1037","id":628390227,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODM5MDIyNw==","user":{"login":"sudssf","id":10800873,"node_id":"MDQ6VXNlcjEwODAwODcz","avatar_url":"https://avatars.githubusercontent.com/u/10800873?v=4","gravatar_id":"","url":"https://api.github.com/users/sudssf","html_url":"https://github.com/sudssf","followers_url":"https://api.github.com/users/sudssf/followers","following_url":"https://api.github.com/users/sudssf/following{/other_user}","gists_url":"https://api.github.com/users/sudssf/gists{/gist_id}","starred_url":"https://api.github.com/users/sudssf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sudssf/subscriptions","organizations_url":"https://api.github.com/users/sudssf/orgs","repos_url":"https://api.github.com/users/sudssf/repos","events_url":"https://api.github.com/users/sudssf/events{/privacy}","received_events_url":"https://api.github.com/users/sudssf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-14T05:10:59Z","updated_at":"2020-05-14T05:10:59Z","author_association":"CONTRIBUTOR","body":"thanks @rdsr will take a look at the issue","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/628390227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/628796356","html_url":"https://github.com/apache/iceberg/pull/1036#issuecomment-628796356","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1036","id":628796356,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODc5NjM1Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-14T18:00:10Z","updated_at":"2020-05-14T18:00:10Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing, @rdsr!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/628796356/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/628820800","html_url":"https://github.com/apache/iceberg/pull/1013#issuecomment-628820800","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1013","id":628820800,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODgyMDgwMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-14T18:46:06Z","updated_at":"2020-05-14T18:46:06Z","author_association":"CONTRIBUTOR","body":"@waterlx, this looks good to me. Can you add a test case?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/628820800/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/628883732","html_url":"https://github.com/apache/iceberg/pull/1011#issuecomment-628883732","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1011","id":628883732,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODg4MzczMg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-14T20:59:30Z","updated_at":"2020-05-14T20:59:30Z","author_association":"CONTRIBUTOR","body":"@openinx, I think this is ready to go, but it has conflicts. Could you fix those and I'll merge?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/628883732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/628975655","html_url":"https://github.com/apache/iceberg/pull/830#issuecomment-628975655","issue_url":"https://api.github.com/repos/apache/iceberg/issues/830","id":628975655,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODk3NTY1NQ==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T01:40:30Z","updated_at":"2020-05-15T01:40:30Z","author_association":"COLLABORATOR","body":"@rdblue , I rebased this, could you please help to take another look? Thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/628975655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/629166982","html_url":"https://github.com/apache/iceberg/pull/1011#issuecomment-629166982","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1011","id":629166982,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTE2Njk4Mg==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T10:46:22Z","updated_at":"2020-05-15T10:46:22Z","author_association":"MEMBER","body":"@rdblue , Thanks for the  remanding, I've fixed the conflicts in commit: https://github.com/apache/incubator-iceberg/pull/1011/commits/132afe5c3d59c2146254289e5f76fecb828017a1","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/629166982/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/629246738","html_url":"https://github.com/apache/iceberg/pull/935#issuecomment-629246738","issue_url":"https://api.github.com/repos/apache/iceberg/issues/935","id":629246738,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTI0NjczOA==","user":{"login":"massdosage","id":29457,"node_id":"MDQ6VXNlcjI5NDU3","avatar_url":"https://avatars.githubusercontent.com/u/29457?v=4","gravatar_id":"","url":"https://api.github.com/users/massdosage","html_url":"https://github.com/massdosage","followers_url":"https://api.github.com/users/massdosage/followers","following_url":"https://api.github.com/users/massdosage/following{/other_user}","gists_url":"https://api.github.com/users/massdosage/gists{/gist_id}","starred_url":"https://api.github.com/users/massdosage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massdosage/subscriptions","organizations_url":"https://api.github.com/users/massdosage/orgs","repos_url":"https://api.github.com/users/massdosage/repos","events_url":"https://api.github.com/users/massdosage/events{/privacy}","received_events_url":"https://api.github.com/users/massdosage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T13:49:48Z","updated_at":"2020-05-15T13:49:48Z","author_association":"CONTRIBUTOR","body":"@rdblue (or anyone else who understands the intricacies of Gradle dependencies and the `consistent-versions` plugin). I think what we're aiming for here is to have Guava completely removed from the compile classpath so that developers can't import anything from `com.google` directly but have to go via the new relocated jar file instead. However, even with the changes in this PR up to now it seems one can still refer to the Guava classes directly without the compile step failing (see https://github.com/ExpediaGroup/incubator-iceberg/blob/relocated-external-dependencies/core/src/main/java/org/apache/iceberg/avro/AvroIterable.java#L22). From what I can see if the consistent versions plugin and/or Gradle itself sees any subproject using Guava, it adds this to the project classpath for all the subprojects. Is there any way to prevent this? Ultimately what we want is for `bundled-guava` to depend on Guava 28, all other subprojects to depend on `bundled-guava` and then `mr` (or wherever we put the Hive unit tests) to depend on Guava 14.0 (with any other version on the classpath they will fail).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/629246738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/629339679","html_url":"https://github.com/apache/iceberg/pull/1011#issuecomment-629339679","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1011","id":629339679,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTMzOTY3OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T15:58:20Z","updated_at":"2020-05-15T15:58:20Z","author_association":"CONTRIBUTOR","body":"Merged. Thanks for fixing this!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/629339679/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/629870203","html_url":"https://github.com/apache/iceberg/pull/1031#issuecomment-629870203","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1031","id":629870203,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTg3MDIwMw==","user":{"login":"pranaydharmale","id":495744,"node_id":"MDQ6VXNlcjQ5NTc0NA==","avatar_url":"https://avatars.githubusercontent.com/u/495744?v=4","gravatar_id":"","url":"https://api.github.com/users/pranaydharmale","html_url":"https://github.com/pranaydharmale","followers_url":"https://api.github.com/users/pranaydharmale/followers","following_url":"https://api.github.com/users/pranaydharmale/following{/other_user}","gists_url":"https://api.github.com/users/pranaydharmale/gists{/gist_id}","starred_url":"https://api.github.com/users/pranaydharmale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pranaydharmale/subscriptions","organizations_url":"https://api.github.com/users/pranaydharmale/orgs","repos_url":"https://api.github.com/users/pranaydharmale/repos","events_url":"https://api.github.com/users/pranaydharmale/events{/privacy}","received_events_url":"https://api.github.com/users/pranaydharmale/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-17T22:27:09Z","updated_at":"2020-05-17T22:27:09Z","author_association":"CONTRIBUTOR","body":"> Could you add a test for this?\r\n\r\ndone; pls check out","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/629870203/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/629912483","html_url":"https://github.com/apache/iceberg/issues/189#issuecomment-629912483","issue_url":"https://api.github.com/repos/apache/iceberg/issues/189","id":629912483,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTkxMjQ4Mw==","user":{"login":"sudssf","id":10800873,"node_id":"MDQ6VXNlcjEwODAwODcz","avatar_url":"https://avatars.githubusercontent.com/u/10800873?v=4","gravatar_id":"","url":"https://api.github.com/users/sudssf","html_url":"https://github.com/sudssf","followers_url":"https://api.github.com/users/sudssf/followers","following_url":"https://api.github.com/users/sudssf/following{/other_user}","gists_url":"https://api.github.com/users/sudssf/gists{/gist_id}","starred_url":"https://api.github.com/users/sudssf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sudssf/subscriptions","organizations_url":"https://api.github.com/users/sudssf/orgs","repos_url":"https://api.github.com/users/sudssf/repos","events_url":"https://api.github.com/users/sudssf/events{/privacy}","received_events_url":"https://api.github.com/users/sudssf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-18T02:30:38Z","updated_at":"2020-05-18T02:30:38Z","author_association":"CONTRIBUTOR","body":"@rdsr submitted proof of concept for union schema support \r\nhttps://github.com/apache/incubator-iceberg/pull/1046\r\nwill add spark test if these changes look good\r\nI will need help from avro experts to make sure this is not breaking change.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/629912483/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/630068364","html_url":"https://github.com/apache/iceberg/pull/1041#issuecomment-630068364","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1041","id":630068364,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMDA2ODM2NA==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-18T09:40:28Z","updated_at":"2020-05-18T09:40:28Z","author_association":"CONTRIBUTOR","body":"> Overall, I'm +1 for this change because it should help us keep quality high. I'm going to leave this open for a little while to let @TGooch44, @rymurr, and @xhochy take a look at comment since adding a type checker affects Python contributors.\r\n\r\nI am :+1: as well. I am not a huge fan of the visual distractions and verbosity of mypy annotations however once integrated into CI it should pull its weight.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/630068364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/630371290","html_url":"https://github.com/apache/iceberg/pull/1041#issuecomment-630371290","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1041","id":630371290,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMDM3MTI5MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-18T18:49:13Z","updated_at":"2020-05-18T18:49:13Z","author_association":"CONTRIBUTOR","body":"@Fokko, could you use `--ignore-missing-imports` to cut down on the number of files that are modified?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/630371290/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/630373138","html_url":"https://github.com/apache/iceberg/pull/1048#issuecomment-630373138","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1048","id":630373138,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMDM3MzEzOA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-18T18:52:37Z","updated_at":"2020-05-18T18:52:37Z","author_association":"CONTRIBUTOR","body":"Looks good. Thanks @cmathiesen!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/630373138/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/630387682","html_url":"https://github.com/apache/iceberg/pull/935#issuecomment-630387682","issue_url":"https://api.github.com/repos/apache/iceberg/issues/935","id":630387682,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMDM4NzY4Mg==","user":{"login":"massdosage","id":29457,"node_id":"MDQ6VXNlcjI5NDU3","avatar_url":"https://avatars.githubusercontent.com/u/29457?v=4","gravatar_id":"","url":"https://api.github.com/users/massdosage","html_url":"https://github.com/massdosage","followers_url":"https://api.github.com/users/massdosage/followers","following_url":"https://api.github.com/users/massdosage/following{/other_user}","gists_url":"https://api.github.com/users/massdosage/gists{/gist_id}","starred_url":"https://api.github.com/users/massdosage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massdosage/subscriptions","organizations_url":"https://api.github.com/users/massdosage/orgs","repos_url":"https://api.github.com/users/massdosage/repos","events_url":"https://api.github.com/users/massdosage/events{/privacy}","received_events_url":"https://api.github.com/users/massdosage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-18T19:22:12Z","updated_at":"2020-05-18T19:22:12Z","author_association":"CONTRIBUTOR","body":"This branch now contains all the changes required to use the relocated version of Guava across all subprojects. \r\n\r\nThe only remaining problem is that Guava 28 still shows up on the classpath of subprojects other than `iceberg-bundled-guava` - it should only be visible on this subproject's classpath, none of the other subprojects should be able to \"see\" Guava (to prevent developers inadvertently using Guava classes directly). Whatever subproject we put the Hive unit tests in also needs to be able to have a different version of Guava on its classpath. As mentioned in the previous comment, we'd appreciate some advice how to achieve this as the `consistent-versions` plugin seems to be preventing this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/630387682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/630422922","html_url":"https://github.com/apache/iceberg/pull/1045#issuecomment-630422922","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1045","id":630422922,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMDQyMjkyMg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-18T20:38:35Z","updated_at":"2020-05-18T20:38:35Z","author_association":"CONTRIBUTOR","body":"Thanks, @jun-he! Looks good to me.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/630422922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/630430651","html_url":"https://github.com/apache/iceberg/pull/1047#issuecomment-630430651","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1047","id":630430651,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMDQzMDY1MQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-18T20:56:13Z","updated_at":"2020-05-18T20:56:13Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/630430651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/630478462","html_url":"https://github.com/apache/iceberg/pull/1046#issuecomment-630478462","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1046","id":630478462,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMDQ3ODQ2Mg==","user":{"login":"sudssf","id":10800873,"node_id":"MDQ6VXNlcjEwODAwODcz","avatar_url":"https://avatars.githubusercontent.com/u/10800873?v=4","gravatar_id":"","url":"https://api.github.com/users/sudssf","html_url":"https://github.com/sudssf","followers_url":"https://api.github.com/users/sudssf/followers","following_url":"https://api.github.com/users/sudssf/following{/other_user}","gists_url":"https://api.github.com/users/sudssf/gists{/gist_id}","starred_url":"https://api.github.com/users/sudssf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sudssf/subscriptions","organizations_url":"https://api.github.com/users/sudssf/orgs","repos_url":"https://api.github.com/users/sudssf/repos","events_url":"https://api.github.com/users/sudssf/events{/privacy}","received_events_url":"https://api.github.com/users/sudssf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-18T23:00:08Z","updated_at":"2020-05-18T23:00:08Z","author_association":"CONTRIBUTOR","body":"FYI @rdsr @rdblue ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/630478462/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/630547863","html_url":"https://github.com/apache/iceberg/issues/370#issuecomment-630547863","issue_url":"https://api.github.com/repos/apache/iceberg/issues/370","id":630547863,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMDU0Nzg2Mw==","user":{"login":"lohao","id":28435988,"node_id":"MDQ6VXNlcjI4NDM1OTg4","avatar_url":"https://avatars.githubusercontent.com/u/28435988?v=4","gravatar_id":"","url":"https://api.github.com/users/lohao","html_url":"https://github.com/lohao","followers_url":"https://api.github.com/users/lohao/followers","following_url":"https://api.github.com/users/lohao/following{/other_user}","gists_url":"https://api.github.com/users/lohao/gists{/gist_id}","starred_url":"https://api.github.com/users/lohao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lohao/subscriptions","organizations_url":"https://api.github.com/users/lohao/orgs","repos_url":"https://api.github.com/users/lohao/repos","events_url":"https://api.github.com/users/lohao/events{/privacy}","received_events_url":"https://api.github.com/users/lohao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-19T02:52:42Z","updated_at":"2020-05-19T02:52:42Z","author_association":"NONE","body":"> After spending a bit time on this issue, seems this problem is more complicated than I thought, it is not just \"HIVE_LOCKS\" table doesn't exist. A more severe problem is that embedded metastore only allows one Hive client, if Spark HiveExternalCatalog created hive client, then Iceberg cannot create another, vice versa.\n> \n> \n> \n> A simple fix would be to reject using Iceberg datasource when Spark is configured with embedded metastore. A more complicated fix would be to share the same hive client with Spark, which requires some reflections to get hive client object from Spark.\n> \n> \n> \n> @rdblue what's your opinion on it? I would suggest to use a simple solution.\n\nHow to reject using Iceberg data source?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/630547863/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/631169092","html_url":"https://github.com/apache/iceberg/pull/935#issuecomment-631169092","issue_url":"https://api.github.com/repos/apache/iceberg/issues/935","id":631169092,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMTE2OTA5Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-20T00:52:24Z","updated_at":"2020-05-20T00:52:24Z","author_association":"CONTRIBUTOR","body":"I'm taking a look at this. I think we should try to get this in without worrying about the consistent versions plugin just yet. We will very likely need to disable that for both Spark 3 and Hive modules.\r\n\r\nI think the problem with the Guava dependency leaking might be caused by depending on the shadow configuration. This still produces the default Jar (no classifier) with normal dependencies. I'm going to ask our Gradle team about this tomorrow when they are in to see if they have recommendations.\r\n\r\nI'll also open a PR to fix licensing in this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/631169092/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/631169280","html_url":"https://github.com/apache/iceberg/issues/1014#issuecomment-631169280","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1014","id":631169280,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMTE2OTI4MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-20T00:53:15Z","updated_at":"2020-05-20T00:53:15Z","author_association":"CONTRIBUTOR","body":"I should be able to take a look at this tomorrow.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/631169280/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/631301174","html_url":"https://github.com/apache/iceberg/pull/1033#issuecomment-631301174","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1033","id":631301174,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMTMwMTE3NA==","user":{"login":"xhochy","id":70274,"node_id":"MDQ6VXNlcjcwMjc0","avatar_url":"https://avatars.githubusercontent.com/u/70274?v=4","gravatar_id":"","url":"https://api.github.com/users/xhochy","html_url":"https://github.com/xhochy","followers_url":"https://api.github.com/users/xhochy/followers","following_url":"https://api.github.com/users/xhochy/following{/other_user}","gists_url":"https://api.github.com/users/xhochy/gists{/gist_id}","starred_url":"https://api.github.com/users/xhochy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xhochy/subscriptions","organizations_url":"https://api.github.com/users/xhochy/orgs","repos_url":"https://api.github.com/users/xhochy/repos","events_url":"https://api.github.com/users/xhochy/events{/privacy}","received_events_url":"https://api.github.com/users/xhochy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-20T07:47:39Z","updated_at":"2020-05-20T07:47:39Z","author_association":"MEMBER","body":"> Can you explain a bit more about what this does? Is the pre-commit hook validation only? The tool sounds like it will modify code, but that shouldn't be done in a pre-commit hook.\r\n\r\nIt seems like this and a similar PR was closed, probably with some discussion somewhere else? \r\n\r\nI would argue that these kind of pre-commit hooks are quite valuable for writing modern Python code and remove some overhead when reviewing code from new contributors. It is quite common practice that pre-commit hooks modify code in Python setups. They will only modify code though that was touched, not always all code. So having them should not have an impact on e.g. the Java code.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/631301174/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/631331167","html_url":"https://github.com/apache/iceberg/pull/1038#issuecomment-631331167","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1038","id":631331167,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMTMzMTE2Nw==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-20T08:41:31Z","updated_at":"2020-05-20T08:41:31Z","author_association":"COLLABORATOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/631331167/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/631340806","html_url":"https://github.com/apache/iceberg/pull/935#issuecomment-631340806","issue_url":"https://api.github.com/repos/apache/iceberg/issues/935","id":631340806,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMTM0MDgwNg==","user":{"login":"massdosage","id":29457,"node_id":"MDQ6VXNlcjI5NDU3","avatar_url":"https://avatars.githubusercontent.com/u/29457?v=4","gravatar_id":"","url":"https://api.github.com/users/massdosage","html_url":"https://github.com/massdosage","followers_url":"https://api.github.com/users/massdosage/followers","following_url":"https://api.github.com/users/massdosage/following{/other_user}","gists_url":"https://api.github.com/users/massdosage/gists{/gist_id}","starred_url":"https://api.github.com/users/massdosage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massdosage/subscriptions","organizations_url":"https://api.github.com/users/massdosage/orgs","repos_url":"https://api.github.com/users/massdosage/repos","events_url":"https://api.github.com/users/massdosage/events{/privacy}","received_events_url":"https://api.github.com/users/massdosage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-20T08:58:07Z","updated_at":"2020-05-20T08:58:07Z","author_association":"CONTRIBUTOR","body":"> \r\n> \r\n> I'm taking a look at this. I think we should try to get this in without worrying about the consistent versions plugin just yet. We will very likely need to disable that for both Spark 3 and Hive modules.\r\n> \r\n> I think the problem with the Guava dependency leaking might be caused by depending on the shadow configuration. This still produces the default Jar (no classifier) with normal dependencies. I'm going to ask our Gradle team about this tomorrow when they are in to see if they have recommendations.\r\n> \r\n> I'll also open a PR to fix licensing in this.\r\n\r\nSounds good. I'm fine with merging these changes in (once we have Guava excluded from the other subprojects) and then using a separate PR to deal with the consistent versions issue. We can raise a small PR which reproduces the problem with a simple HiveRunner unit test and then work on fixing that.\r\n\r\nGood point on why Guava might be leaking out due to the \"default\" jar, we'll try take a look but if you get some info from the Gradle team that would be great.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/631340806/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/631581764","html_url":"https://github.com/apache/iceberg/issues/540#issuecomment-631581764","issue_url":"https://api.github.com/repos/apache/iceberg/issues/540","id":631581764,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMTU4MTc2NA==","user":{"login":"geota","id":2237123,"node_id":"MDQ6VXNlcjIyMzcxMjM=","avatar_url":"https://avatars.githubusercontent.com/u/2237123?v=4","gravatar_id":"","url":"https://api.github.com/users/geota","html_url":"https://github.com/geota","followers_url":"https://api.github.com/users/geota/followers","following_url":"https://api.github.com/users/geota/following{/other_user}","gists_url":"https://api.github.com/users/geota/gists{/gist_id}","starred_url":"https://api.github.com/users/geota/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/geota/subscriptions","organizations_url":"https://api.github.com/users/geota/orgs","repos_url":"https://api.github.com/users/geota/repos","events_url":"https://api.github.com/users/geota/events{/privacy}","received_events_url":"https://api.github.com/users/geota/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-20T16:24:22Z","updated_at":"2020-05-20T16:24:22Z","author_association":"NONE","body":"Databricks recently released support for automatic schema evolution in merge operations:\r\nhttps://databricks.com/blog/2020/05/19/schema-evolution-in-merge-operations-and-operational-metrics-in-delta-lake.html","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/631581764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/631586214","html_url":"https://github.com/apache/iceberg/issues/540#issuecomment-631586214","issue_url":"https://api.github.com/repos/apache/iceberg/issues/540","id":631586214,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMTU4NjIxNA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-20T16:32:15Z","updated_at":"2020-05-20T16:32:15Z","author_association":"CONTRIBUTOR","body":"@geota, in Spark, \"automatic schema evolution\" usually means not validating the schema on write and merging schemas together on read to find what the table schema actually is. This is how the v1 DataFrame APIs work. Calling it \"automatic\" makes it sound more like a feature and less like a bug.\r\n\r\nThat said, I think it's fine to add this to Iceberg as a real feature -- where we detect the changes and apply them to the table schema. It just shouldn't be the default behavior because it can easily cause problems. Most of the use cases are covered by replace-table-as-select anyway.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/631586214/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/631683741","html_url":"https://github.com/apache/iceberg/pull/759#issuecomment-631683741","issue_url":"https://api.github.com/repos/apache/iceberg/issues/759","id":631683741,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMTY4Mzc0MQ==","user":{"login":"fbocse","id":559272,"node_id":"MDQ6VXNlcjU1OTI3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/559272?v=4","gravatar_id":"","url":"https://api.github.com/users/fbocse","html_url":"https://github.com/fbocse","followers_url":"https://api.github.com/users/fbocse/followers","following_url":"https://api.github.com/users/fbocse/following{/other_user}","gists_url":"https://api.github.com/users/fbocse/gists{/gist_id}","starred_url":"https://api.github.com/users/fbocse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fbocse/subscriptions","organizations_url":"https://api.github.com/users/fbocse/orgs","repos_url":"https://api.github.com/users/fbocse/repos","events_url":"https://api.github.com/users/fbocse/events{/privacy}","received_events_url":"https://api.github.com/users/fbocse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-20T19:38:50Z","updated_at":"2020-05-20T19:40:42Z","author_association":"CONTRIBUTOR","body":"@rdsr wanted to check in w/ you on whether this PR is still relevant or not - I tried to continue to  complete the implementation you've started on this PR - I'll share a branch from my fork and maybe you tell me how we can collaborate on seeing this through. wtyd?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/631683741/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/631684123","html_url":"https://github.com/apache/iceberg/issues/1014#issuecomment-631684123","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1014","id":631684123,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMTY4NDEyMw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-20T19:39:36Z","updated_at":"2020-05-20T19:39:36Z","author_association":"CONTRIBUTOR","body":"@vanliu-tx, the `UpdateEvent` problem is happening because the snapshot is missing. Just after the commit, the snapshot is loaded to clean up uncommitted files and to send the update event. Both of those tasks are failing to load the committed snapshot. Note the log just above the NPE:\r\n\r\n```\r\n[2020-05-08 15:44:17,616] pool-1-thread-49 WARN  Failed to load committed snapshot, skipping manifest clean-up (org.apache.iceberg.SnapshotProducer:291)\r\n```\r\n\r\nI think the problem is that the local FS doesn't provide an atomic rename. From [`man rename(2)`](https://linux.die.net/man/2/rename) that is used by `File.renameTo`:\r\n\r\n> If newpath already exists it will be atomically replaced\r\n\r\nSo it looks like a rename is \"atomic\" in that it is replaced \"so that there is no point at which another process attempting to access newpath will find it missing\". But that's not the atomic rename like HDFS, where rename fails if the destination path exists. A quick test validates this behavior:\r\n\r\n```\r\nfs.rename(p1, dest) -> true\r\nfs.rename(p2, dest) -> true\r\n```\r\n\r\nAlso, looking at the exceptions thrown in your log, I see only 2 lines in the commit method in stack traces:\r\n```\r\norg.apache.iceberg.hadoop.HadoopTableOperations.commit(HadoopTableOperations.java:123)\r\norg.apache.iceberg.hadoop.HadoopTableOperations.commit(HadoopTableOperations.java:151)\r\n```\r\n\r\nThe first one is after the check whether base is still current, and the second one is the `exists` check before the rename operation. There are no exceptions thrown from the `rename` operation failing.\r\n\r\nSo it looks like the problem is that a POSIX FS isn't safe to use with `HadoopTableOperations`. Can you try using HDFS instead?\r\n\r\n(FYI @aokolnychyi)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/631684123/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/631688885","html_url":"https://github.com/apache/iceberg/pull/989#issuecomment-631688885","issue_url":"https://api.github.com/repos/apache/iceberg/issues/989","id":631688885,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMTY4ODg4NQ==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-20T19:48:22Z","updated_at":"2020-05-20T19:48:22Z","author_association":"CONTRIBUTOR","body":"thanks @rdblue . Picking this up again. Should address ur comments soon","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/631688885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/631824627","html_url":"https://github.com/apache/iceberg/pull/935#issuecomment-631824627","issue_url":"https://api.github.com/repos/apache/iceberg/issues/935","id":631824627,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMTgyNDYyNw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-21T01:29:30Z","updated_at":"2020-05-21T01:29:30Z","author_association":"CONTRIBUTOR","body":"I was able to get `publishToMavenLocal` working by making the `GuavaClasses` public and removing the lines that suppress Javadoc. We have to publish Javadoc for each Jar for an Apache release anyway. Then looking at the maven publication, it looks like the transitive dependency is being correctly suppressed. No dependency on Guava in the POM.\r\n\r\nNext, I took a look at publishing the Jar without a classifier (`classifer null` in `shadowJar`). That broke downstream modules in the build, but I eventually found that it's because a null classifier causes a conflict with the default artifact. Changing the classifier of the default Jar fixes transitive dependencies in the build. Now, IntelliJ can see the relocated packages and _only_ the relocated packages. Here's the block to update the Jar for bundled Guava:\r\n\r\n```\r\n  jar {\r\n    classifier 'empty'\r\n    enabled = false\r\n  }\r\n```\r\n\r\nThe only problem is that changing the default classifier broke publishing. The maven plugin was previously publishing the shadow Jar because its name was the same as the default publication. So all we should need to do is figure out how to publish the shadow Jar in place of the default.\r\n\r\nAlso, I checked the LICENSE and it looks good. I didn't realize you'd updated it. Thanks! We also need to include a NOTICE if you get a chance to add it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/631824627/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/631890464","html_url":"https://github.com/apache/iceberg/pull/759#issuecomment-631890464","issue_url":"https://api.github.com/repos/apache/iceberg/issues/759","id":631890464,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMTg5MDQ2NA==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-21T05:32:59Z","updated_at":"2020-05-21T05:32:59Z","author_association":"CONTRIBUTOR","body":"@fbocse . This PR is still relevant. I just didn't have the time to get back to it. Happy to collaborate.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/631890464/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632000572","html_url":"https://github.com/apache/iceberg/pull/1041#issuecomment-632000572","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1041","id":632000572,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjAwMDU3Mg==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-21T10:05:26Z","updated_at":"2020-05-21T10:05:26Z","author_association":"CONTRIBUTOR","body":"I've updated the tox command. I've also pulled in the latest master to make sure that it works with latest master.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632000572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632000903","html_url":"https://github.com/apache/iceberg/pull/1041#issuecomment-632000903","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1041","id":632000903,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjAwMDkwMw==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-21T10:06:08Z","updated_at":"2020-05-21T10:06:08Z","author_association":"CONTRIBUTOR","body":"Thanks all for the review. I agree that it makes the code a bit more verbose, but this makes it also more accessible for newcomers 👍","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632000903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632002853","html_url":"https://github.com/apache/iceberg/pull/1033#issuecomment-632002853","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1033","id":632002853,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjAwMjg1Mw==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-21T10:10:51Z","updated_at":"2020-05-21T10:10:51Z","author_association":"CONTRIBUTOR","body":"Yes, it will indeed modify code. For example autoformatting, or sorting imports. It will run only on the changed files.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632002853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632045941","html_url":"https://github.com/apache/iceberg/issues/1053#issuecomment-632045941","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1053","id":632045941,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjA0NTk0MQ==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-21T11:55:20Z","updated_at":"2020-05-21T11:55:20Z","author_association":"COLLABORATOR","body":"@yiguolei , Currently, Iceberg has a spark-3 branch that already supports spark 3.0-preview2, but it is a bit lag behind the current master.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632045941/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632109591","html_url":"https://github.com/apache/iceberg/pull/935#issuecomment-632109591","issue_url":"https://api.github.com/repos/apache/iceberg/issues/935","id":632109591,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjEwOTU5MQ==","user":{"login":"massdosage","id":29457,"node_id":"MDQ6VXNlcjI5NDU3","avatar_url":"https://avatars.githubusercontent.com/u/29457?v=4","gravatar_id":"","url":"https://api.github.com/users/massdosage","html_url":"https://github.com/massdosage","followers_url":"https://api.github.com/users/massdosage/followers","following_url":"https://api.github.com/users/massdosage/following{/other_user}","gists_url":"https://api.github.com/users/massdosage/gists{/gist_id}","starred_url":"https://api.github.com/users/massdosage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massdosage/subscriptions","organizations_url":"https://api.github.com/users/massdosage/orgs","repos_url":"https://api.github.com/users/massdosage/repos","events_url":"https://api.github.com/users/massdosage/events{/privacy}","received_events_url":"https://api.github.com/users/massdosage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-21T14:13:35Z","updated_at":"2020-05-21T14:13:48Z","author_association":"CONTRIBUTOR","body":"Thanks @rdblue I think I managed to \"reverse engineer\" the changes you described (https://github.com/apache/incubator-iceberg/pull/935/commits/fa32ad2dbe2e7b762ff1b1de9a462d5c50b6d316). I've also given you write access to our repo in case you want to push changes directly to the branch.\r\n\r\nSo is this the error we now need to fix:\r\n``` \r\nInvalid publication 'apache': artifact file does not exist: '/home/awoodhead/temp/iceberg-forks/expediagroup/incubator-iceberg/bundled-guava/build/libs/iceberg-bundled-guava-fa32ad2d-empty.jar'\r\n```\r\n?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632109591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632114784","html_url":"https://github.com/apache/iceberg/pull/1046#issuecomment-632114784","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1046","id":632114784,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjExNDc4NA==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-21T14:23:19Z","updated_at":"2020-05-21T14:26:26Z","author_association":"CONTRIBUTOR","body":"Thanks @sudssf there's some similar work done on this feature by @shardulm94.  @shardulm94 please review and see if there's possibility of collaboration here.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632114784/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632188377","html_url":"https://github.com/apache/iceberg/pull/1038#issuecomment-632188377","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1038","id":632188377,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjE4ODM3Nw==","user":{"login":"danielcweeks","id":4925077,"node_id":"MDQ6VXNlcjQ5MjUwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4925077?v=4","gravatar_id":"","url":"https://api.github.com/users/danielcweeks","html_url":"https://github.com/danielcweeks","followers_url":"https://api.github.com/users/danielcweeks/followers","following_url":"https://api.github.com/users/danielcweeks/following{/other_user}","gists_url":"https://api.github.com/users/danielcweeks/gists{/gist_id}","starred_url":"https://api.github.com/users/danielcweeks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielcweeks/subscriptions","organizations_url":"https://api.github.com/users/danielcweeks/orgs","repos_url":"https://api.github.com/users/danielcweeks/repos","events_url":"https://api.github.com/users/danielcweeks/events{/privacy}","received_events_url":"https://api.github.com/users/danielcweeks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-21T16:22:36Z","updated_at":"2020-05-21T16:22:36Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632188377/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632221600","html_url":"https://github.com/apache/iceberg/pull/1046#issuecomment-632221600","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1046","id":632221600,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjIyMTYwMA==","user":{"login":"sudssf","id":10800873,"node_id":"MDQ6VXNlcjEwODAwODcz","avatar_url":"https://avatars.githubusercontent.com/u/10800873?v=4","gravatar_id":"","url":"https://api.github.com/users/sudssf","html_url":"https://github.com/sudssf","followers_url":"https://api.github.com/users/sudssf/followers","following_url":"https://api.github.com/users/sudssf/following{/other_user}","gists_url":"https://api.github.com/users/sudssf/gists{/gist_id}","starred_url":"https://api.github.com/users/sudssf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sudssf/subscriptions","organizations_url":"https://api.github.com/users/sudssf/orgs","repos_url":"https://api.github.com/users/sudssf/repos","events_url":"https://api.github.com/users/sudssf/events{/privacy}","received_events_url":"https://api.github.com/users/sudssf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-21T16:54:21Z","updated_at":"2020-05-21T16:54:21Z","author_association":"CONTRIBUTOR","body":"> Thanks @sudssf there's some similar work done on this feature by @shardulm94. @shardulm94 please review and see if there's possibility of collaboration here.\r\n\r\n@shardulm94  can you please share PR?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632221600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632238065","html_url":"https://github.com/apache/iceberg/pull/1041#issuecomment-632238065","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1041","id":632238065,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjIzODA2NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-21T17:25:16Z","updated_at":"2020-05-21T17:25:16Z","author_association":"CONTRIBUTOR","body":"Merging. Thanks for adding this, @Fokko!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632238065/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632239110","html_url":"https://github.com/apache/iceberg/pull/1051#issuecomment-632239110","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1051","id":632239110,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjIzOTExMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-21T17:27:14Z","updated_at":"2020-05-21T17:27:14Z","author_association":"CONTRIBUTOR","body":"@samarthjain, can you take a look at this?\r\n\r\nWhat is the context for #834? Is that to make Spark faster?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632239110/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632312411","html_url":"https://github.com/apache/iceberg/pull/1031#issuecomment-632312411","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1031","id":632312411,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjMxMjQxMQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-21T19:58:45Z","updated_at":"2020-05-21T19:58:45Z","author_association":"CONTRIBUTOR","body":"We don't have anything currently, but you can use `parquet-avro` classes to write a file. Let's do this in a follow-up.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632312411/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632312896","html_url":"https://github.com/apache/iceberg/pull/1031#issuecomment-632312896","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1031","id":632312896,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjMxMjg5Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-21T19:59:47Z","updated_at":"2020-05-21T19:59:47Z","author_association":"CONTRIBUTOR","body":"@pranaydharmale, I went ahead and merged this since it looks correct. We can follow up with that test.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632312896/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632314183","html_url":"https://github.com/apache/iceberg/pull/935#issuecomment-632314183","issue_url":"https://api.github.com/repos/apache/iceberg/issues/935","id":632314183,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjMxNDE4Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-21T20:02:47Z","updated_at":"2020-05-21T20:02:47Z","author_association":"CONTRIBUTOR","body":"We need to fix the publication for this module so that it publishes the shadowJar artifact (no classifier) instead of the default artifact (\"empty\" classifier).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632314183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632331000","html_url":"https://github.com/apache/iceberg/pull/983#issuecomment-632331000","issue_url":"https://api.github.com/repos/apache/iceberg/issues/983","id":632331000,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjMzMTAwMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-21T20:34:49Z","updated_at":"2020-05-21T20:34:49Z","author_association":"CONTRIBUTOR","body":"@chenjunjiedada, I think what you have here works, but right now we have two sets of accessors (Spark and internal) and we would need more for other data models.\r\n\r\nI think what we need to do instead is to separate the concerns. Accessors should understand structure and rows should return the correct value types. That way we can eventually move to use the same accessors and we will just need rows that correctly translate for StructLike.\r\n\r\nHow about using a wrapper class like this one when passing records? Would that work?\r\n\r\n```java\r\nclass InternalRecordWrapper implements StructLike {\r\n  private final Function<Object, Object>[] transforms;\r\n  private StructLike wrapped = null;\r\n\r\n  @SuppressWarnings(\"unchecked\")\r\n  InternalRecordWrapper(Types.StructType struct) {\r\n    this.transforms = struct.fields().stream()\r\n        .map(field -> converter(field.type()))\r\n        .toArray(length -> (Function<Object, Object>[]) Array.newInstance(Function.class, length));\r\n  }\r\n\r\n  private static Function<Object, Object> converter(Type type) {\r\n    switch (type.typeId()) {\r\n      case DATE:\r\n        return date -> DateTimeUtil.daysFromDate((LocalDate) date);\r\n      case TIME:\r\n        return time -> DateTimeUtil.microsFromTime((LocalTime) time);\r\n      case TIMESTAMP:\r\n        if (((Types.TimestampType) type).shouldAdjustToUTC()) {\r\n          return timestamp -> DateTimeUtil.microsFromTimestamptz((OffsetDateTime) timestamp);\r\n        } else {\r\n          return timestamp -> DateTimeUtil.microsFromTimestamp((LocalDateTime) timestamp);\r\n        }\r\n      case FIXED:\r\n        return bytes -> ByteBuffer.wrap((byte[]) bytes);\r\n      case STRUCT:\r\n        InternalRecordWrapper wrapper = new InternalRecordWrapper(type.asStructType());\r\n        return struct -> wrapper.wrap((StructLike) struct);\r\n      default:\r\n    }\r\n    return null;\r\n  }\r\n\r\n  public InternalRecordWrapper wrap(StructLike record) {\r\n    this.wrapped = record;\r\n    return this;\r\n  }\r\n\r\n  @Override\r\n  public int size() {\r\n    return wrapped.size();\r\n  }\r\n\r\n  @Override\r\n  public <T> T get(int pos, Class<T> javaClass) {\r\n    if (transforms[pos] != null) {\r\n      return javaClass.cast(transforms[pos].apply(wrapped.get(pos, Object.class)));\r\n    }\r\n    return wrapped.get(pos, javaClass);\r\n  }\r\n\r\n  @Override\r\n  public <T> void set(int pos, T value) {\r\n    throw new UnsupportedOperationException(\"Cannot update InternalRecordWrapper\");\r\n  }\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632331000/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632331573","html_url":"https://github.com/apache/iceberg/pull/900#issuecomment-632331573","issue_url":"https://api.github.com/repos/apache/iceberg/issues/900","id":632331573,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjMzMTU3Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-21T20:36:00Z","updated_at":"2020-05-21T20:36:00Z","author_association":"CONTRIBUTOR","body":"Any update on this? Is this ready to go in?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632331573/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632331915","html_url":"https://github.com/apache/iceberg/pull/900#issuecomment-632331915","issue_url":"https://api.github.com/repos/apache/iceberg/issues/900","id":632331915,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjMzMTkxNQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-21T20:36:41Z","updated_at":"2020-05-21T20:36:41Z","author_association":"CONTRIBUTOR","body":"Also, it looks like although the github integration didn't pick it up, the tests were passing when they ran.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632331915/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632333852","html_url":"https://github.com/apache/iceberg/pull/199#issuecomment-632333852","issue_url":"https://api.github.com/repos/apache/iceberg/issues/199","id":632333852,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjMzMzg1Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-21T20:40:50Z","updated_at":"2020-05-21T20:40:50Z","author_association":"CONTRIBUTOR","body":"@edgarRd, thanks for updating this! Is it ready for review?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632333852/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632348347","html_url":"https://github.com/apache/iceberg/pull/1051#issuecomment-632348347","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1051","id":632348347,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjM0ODM0Nw==","user":{"login":"samarthjain","id":1642180,"node_id":"MDQ6VXNlcjE2NDIxODA=","avatar_url":"https://avatars.githubusercontent.com/u/1642180?v=4","gravatar_id":"","url":"https://api.github.com/users/samarthjain","html_url":"https://github.com/samarthjain","followers_url":"https://api.github.com/users/samarthjain/followers","following_url":"https://api.github.com/users/samarthjain/following{/other_user}","gists_url":"https://api.github.com/users/samarthjain/gists{/gist_id}","starred_url":"https://api.github.com/users/samarthjain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samarthjain/subscriptions","organizations_url":"https://api.github.com/users/samarthjain/orgs","repos_url":"https://api.github.com/users/samarthjain/repos","events_url":"https://api.github.com/users/samarthjain/events{/privacy}","received_events_url":"https://api.github.com/users/samarthjain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-21T21:11:39Z","updated_at":"2020-05-21T21:11:39Z","author_association":"COLLABORATOR","body":"The idea behind #834 was to see we can get rid of our usage of `DateDayVector` and `TimestampMicroTZVector` since date and timestamps can be stored as integers and longs in `IntVector` and `BigIntVector`, respectively. It also prevents us from paying possible dynamic dispatch costs when calling getInt() and getLong() in `ArrowVectorAccessors` (in iceberg-spark module) by getting rid of `DateAccessor` and `TimestampAccessor` classes added in #828. We may also need to add/update tests specific to Date and Timestamp types to ensure this change won't break anything.\r\n\r\n@pranaydharmale - I think we should wait for the #828 PR to be merged first. Once that is in, this PR would need to be updated to get rid of the two classes along with tests.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632348347/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632369915","html_url":"https://github.com/apache/iceberg/pull/1051#issuecomment-632369915","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1051","id":632369915,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjM2OTkxNQ==","user":{"login":"pranaydharmale","id":495744,"node_id":"MDQ6VXNlcjQ5NTc0NA==","avatar_url":"https://avatars.githubusercontent.com/u/495744?v=4","gravatar_id":"","url":"https://api.github.com/users/pranaydharmale","html_url":"https://github.com/pranaydharmale","followers_url":"https://api.github.com/users/pranaydharmale/followers","following_url":"https://api.github.com/users/pranaydharmale/following{/other_user}","gists_url":"https://api.github.com/users/pranaydharmale/gists{/gist_id}","starred_url":"https://api.github.com/users/pranaydharmale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pranaydharmale/subscriptions","organizations_url":"https://api.github.com/users/pranaydharmale/orgs","repos_url":"https://api.github.com/users/pranaydharmale/repos","events_url":"https://api.github.com/users/pranaydharmale/events{/privacy}","received_events_url":"https://api.github.com/users/pranaydharmale/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-21T22:04:14Z","updated_at":"2020-05-21T22:04:14Z","author_association":"CONTRIBUTOR","body":"@samarthjain noted; will wait for #828 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632369915/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632444099","html_url":"https://github.com/apache/iceberg/issues/1053#issuecomment-632444099","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1053","id":632444099,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjQ0NDA5OQ==","user":{"login":"yiguolei","id":9208457,"node_id":"MDQ6VXNlcjkyMDg0NTc=","avatar_url":"https://avatars.githubusercontent.com/u/9208457?v=4","gravatar_id":"","url":"https://api.github.com/users/yiguolei","html_url":"https://github.com/yiguolei","followers_url":"https://api.github.com/users/yiguolei/followers","following_url":"https://api.github.com/users/yiguolei/following{/other_user}","gists_url":"https://api.github.com/users/yiguolei/gists{/gist_id}","starred_url":"https://api.github.com/users/yiguolei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yiguolei/subscriptions","organizations_url":"https://api.github.com/users/yiguolei/orgs","repos_url":"https://api.github.com/users/yiguolei/repos","events_url":"https://api.github.com/users/yiguolei/events{/privacy}","received_events_url":"https://api.github.com/users/yiguolei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T02:31:50Z","updated_at":"2020-05-22T02:31:50Z","author_association":"NONE","body":"@chenjunjiedada Does it support SQL DDL and DML command?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/632444099/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]