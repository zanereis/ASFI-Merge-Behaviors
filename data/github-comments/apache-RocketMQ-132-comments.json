[{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1283730313","html_url":"https://github.com/apache/rocketmq/pull/5355#issuecomment-1283730313","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5355","id":1283730313,"node_id":"IC_kwDOBHrsl85MhCuJ","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T09:49:45Z","updated_at":"2022-10-19T12:46:54Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/5355?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#5355](https://codecov.io/gh/apache/rocketmq/pull/5355?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (bc5ed53) into [develop](https://codecov.io/gh/apache/rocketmq/commit/3df28420ba78706c788978a7ffbe5d1b8dfdf040?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (3df2842) will **increase** coverage by `0.05%`.\n> The diff coverage is `20.48%`.\n\n> :exclamation: Current head bc5ed53 differs from pull request most recent head 7de8134. Consider uploading reports for the commit 7de8134 to get more accurate results\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #5355      +/-   ##\n=============================================\n+ Coverage      43.04%   43.09%   +0.05%     \n- Complexity      7794     7823      +29     \n=============================================\n  Files           1001     1003       +2     \n  Lines          69684    69850     +166     \n  Branches        9205     9226      +21     \n=============================================\n+ Hits           29992    30103     +111     \n- Misses         35909    35966      +57     \n+ Partials        3783     3781       -2     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/5355?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...rocketmq/broker/metrics/BrokerMetricsConstant.java](https://codecov.io/gh/apache/rocketmq/pull/5355/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvbWV0cmljcy9Ccm9rZXJNZXRyaWNzQ29uc3RhbnQuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [.../rocketmq/broker/metrics/BrokerMetricsManager.java](https://codecov.io/gh/apache/rocketmq/pull/5355/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvbWV0cmljcy9Ccm9rZXJNZXRyaWNzTWFuYWdlci5qYXZh) | `13.40% <13.40%> (ø)` | |\n| [.../java/org/apache/rocketmq/common/BrokerConfig.java](https://codecov.io/gh/apache/rocketmq/pull/5355/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vQnJva2VyQ29uZmlnLmphdmE=) | `28.35% <29.85%> (+0.18%)` | :arrow_up: |\n| [...a/org/apache/rocketmq/broker/BrokerController.java](https://codecov.io/gh/apache/rocketmq/pull/5355/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvQnJva2VyQ29udHJvbGxlci5qYXZh) | `43.73% <100.00%> (+0.05%)` | :arrow_up: |\n| [...org/apache/rocketmq/store/ha/WaitNotifyObject.java](https://codecov.io/gh/apache/rocketmq/pull/5355/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL2hhL1dhaXROb3RpZnlPYmplY3QuamF2YQ==) | `80.35% <0.00%> (-5.36%)` | :arrow_down: |\n| [...ketmq/common/protocol/body/ConsumerConnection.java](https://codecov.io/gh/apache/rocketmq/pull/5355/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vcHJvdG9jb2wvYm9keS9Db25zdW1lckNvbm5lY3Rpb24uamF2YQ==) | `95.83% <0.00%> (-4.17%)` | :arrow_down: |\n| [...ava/org/apache/rocketmq/filter/util/BitsArray.java](https://codecov.io/gh/apache/rocketmq/pull/5355/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZmlsdGVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9maWx0ZXIvdXRpbC9CaXRzQXJyYXkuamF2YQ==) | `58.11% <0.00%> (-1.71%)` | :arrow_down: |\n| [.../apache/rocketmq/store/ha/DefaultHAConnection.java](https://codecov.io/gh/apache/rocketmq/pull/5355/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL2hhL0RlZmF1bHRIQUNvbm5lY3Rpb24uamF2YQ==) | `65.86% <0.00%> (-1.21%)` | :arrow_down: |\n| [...cketmq/broker/schedule/ScheduleMessageService.java](https://codecov.io/gh/apache/rocketmq/pull/5355/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvc2NoZWR1bGUvU2NoZWR1bGVNZXNzYWdlU2VydmljZS5qYXZh) | `55.26% <0.00%> (-1.18%)` | :arrow_down: |\n| [...ent/impl/consumer/DefaultLitePullConsumerImpl.java](https://codecov.io/gh/apache/rocketmq/pull/5355/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9EZWZhdWx0TGl0ZVB1bGxDb25zdW1lckltcGwuamF2YQ==) | `68.53% <0.00%> (-0.63%)` | :arrow_down: |\n| ... and [20 more](https://codecov.io/gh/apache/rocketmq/pull/5355/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1283730313/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1284166971","html_url":"https://github.com/apache/rocketmq/issues/5262#issuecomment-1284166971","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5262","id":1284166971,"node_id":"IC_kwDOBHrsl85MitU7","user":{"login":"KerryJava","id":4183216,"node_id":"MDQ6VXNlcjQxODMyMTY=","avatar_url":"https://avatars.githubusercontent.com/u/4183216?v=4","gravatar_id":"","url":"https://api.github.com/users/KerryJava","html_url":"https://github.com/KerryJava","followers_url":"https://api.github.com/users/KerryJava/followers","following_url":"https://api.github.com/users/KerryJava/following{/other_user}","gists_url":"https://api.github.com/users/KerryJava/gists{/gist_id}","starred_url":"https://api.github.com/users/KerryJava/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KerryJava/subscriptions","organizations_url":"https://api.github.com/users/KerryJava/orgs","repos_url":"https://api.github.com/users/KerryJava/repos","events_url":"https://api.github.com/users/KerryJava/events{/privacy}","received_events_url":"https://api.github.com/users/KerryJava/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T15:08:25Z","updated_at":"2022-10-19T15:08:25Z","author_association":"NONE","body":"默认值1000条消息，100M的缓存，貌似也不大啊，为何有GC问题？","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1284166971/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1284182241","html_url":"https://github.com/apache/rocketmq/issues/5262#issuecomment-1284182241","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5262","id":1284182241,"node_id":"IC_kwDOBHrsl85MixDh","user":{"login":"zhouquanwei","id":23638207,"node_id":"MDQ6VXNlcjIzNjM4MjA3","avatar_url":"https://avatars.githubusercontent.com/u/23638207?v=4","gravatar_id":"","url":"https://api.github.com/users/zhouquanwei","html_url":"https://github.com/zhouquanwei","followers_url":"https://api.github.com/users/zhouquanwei/followers","following_url":"https://api.github.com/users/zhouquanwei/following{/other_user}","gists_url":"https://api.github.com/users/zhouquanwei/gists{/gist_id}","starred_url":"https://api.github.com/users/zhouquanwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhouquanwei/subscriptions","organizations_url":"https://api.github.com/users/zhouquanwei/orgs","repos_url":"https://api.github.com/users/zhouquanwei/repos","events_url":"https://api.github.com/users/zhouquanwei/events{/privacy}","received_events_url":"https://api.github.com/users/zhouquanwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T15:18:44Z","updated_at":"2022-10-19T15:18:44Z","author_association":"NONE","body":"> 默认值1000条消息，100M的缓存，貌似也不大啊，为何有GC问题？\r\n\r\n阿里云上面说 每个topic 有16个队列，每个队列1000条，这样就有点大了，我算了算 要缓存1个g","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1284182241/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1284783670","html_url":"https://github.com/apache/rocketmq/pull/5253#issuecomment-1284783670","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5253","id":1284783670,"node_id":"IC_kwDOBHrsl85MlD42","user":{"login":"GOODBOY008","id":13617900,"node_id":"MDQ6VXNlcjEzNjE3OTAw","avatar_url":"https://avatars.githubusercontent.com/u/13617900?v=4","gravatar_id":"","url":"https://api.github.com/users/GOODBOY008","html_url":"https://github.com/GOODBOY008","followers_url":"https://api.github.com/users/GOODBOY008/followers","following_url":"https://api.github.com/users/GOODBOY008/following{/other_user}","gists_url":"https://api.github.com/users/GOODBOY008/gists{/gist_id}","starred_url":"https://api.github.com/users/GOODBOY008/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GOODBOY008/subscriptions","organizations_url":"https://api.github.com/users/GOODBOY008/orgs","repos_url":"https://api.github.com/users/GOODBOY008/repos","events_url":"https://api.github.com/users/GOODBOY008/events{/privacy}","received_events_url":"https://api.github.com/users/GOODBOY008/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T01:32:48Z","updated_at":"2022-10-20T01:32:48Z","author_association":"MEMBER","body":"> @GOODBOY008 Please add an issue and link this pr to it, as instructions in pr template.\r\n\r\n@caigy  Issue had created https://github.com/apache/rocketmq/issues/5358  and linked to this pr. Thanks for your remind.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1284783670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1284824972","html_url":"https://github.com/apache/rocketmq/issues/5337#issuecomment-1284824972","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5337","id":1284824972,"node_id":"IC_kwDOBHrsl85MlN-M","user":{"login":"drpmma","id":20906038,"node_id":"MDQ6VXNlcjIwOTA2MDM4","avatar_url":"https://avatars.githubusercontent.com/u/20906038?v=4","gravatar_id":"","url":"https://api.github.com/users/drpmma","html_url":"https://github.com/drpmma","followers_url":"https://api.github.com/users/drpmma/followers","following_url":"https://api.github.com/users/drpmma/following{/other_user}","gists_url":"https://api.github.com/users/drpmma/gists{/gist_id}","starred_url":"https://api.github.com/users/drpmma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drpmma/subscriptions","organizations_url":"https://api.github.com/users/drpmma/orgs","repos_url":"https://api.github.com/users/drpmma/repos","events_url":"https://api.github.com/users/drpmma/events{/privacy}","received_events_url":"https://api.github.com/users/drpmma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T02:30:00Z","updated_at":"2022-10-20T02:31:40Z","author_association":"CONTRIBUTOR","body":"DefaultMQPushConsumer is a core API of rocketmq-client and is stable for many years. And it works normally for my test. Is there any possibility that you configure something wrong to mislead to this issue?\r\n\r\nCan you provide the detailed reproduce steps?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1284824972/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1285057220","html_url":"https://github.com/apache/rocketmq/issues/5315#issuecomment-1285057220","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5315","id":1285057220,"node_id":"IC_kwDOBHrsl85MmGrE","user":{"login":"labazhou2018","id":38873832,"node_id":"MDQ6VXNlcjM4ODczODMy","avatar_url":"https://avatars.githubusercontent.com/u/38873832?v=4","gravatar_id":"","url":"https://api.github.com/users/labazhou2018","html_url":"https://github.com/labazhou2018","followers_url":"https://api.github.com/users/labazhou2018/followers","following_url":"https://api.github.com/users/labazhou2018/following{/other_user}","gists_url":"https://api.github.com/users/labazhou2018/gists{/gist_id}","starred_url":"https://api.github.com/users/labazhou2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/labazhou2018/subscriptions","organizations_url":"https://api.github.com/users/labazhou2018/orgs","repos_url":"https://api.github.com/users/labazhou2018/repos","events_url":"https://api.github.com/users/labazhou2018/events{/privacy}","received_events_url":"https://api.github.com/users/labazhou2018/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T07:17:19Z","updated_at":"2022-10-20T07:17:19Z","author_association":"CONTRIBUTOR","body":"if disable autoCommit，the bleow code in MQClientInstance should be disable?\r\n```\r\nthis.scheduledExecutorService.scheduleAtFixedRate(new Runnable() {\r\n\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    MQClientInstance.this.persistAllConsumerOffset();\r\n                } catch (Exception e) {\r\n                    log.error(\"ScheduledTask persistAllConsumerOffset exception\", e);\r\n                }\r\n            }\r\n        }, 1000 * 10, this.clientConfig.getPersistConsumerOffsetInterval(), TimeUnit.MILLISECONDS);\r\n```","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1285057220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1285094952","html_url":"https://github.com/apache/rocketmq/issues/5330#issuecomment-1285094952","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5330","id":1285094952,"node_id":"IC_kwDOBHrsl85MmP4o","user":{"login":"labazhou2018","id":38873832,"node_id":"MDQ6VXNlcjM4ODczODMy","avatar_url":"https://avatars.githubusercontent.com/u/38873832?v=4","gravatar_id":"","url":"https://api.github.com/users/labazhou2018","html_url":"https://github.com/labazhou2018","followers_url":"https://api.github.com/users/labazhou2018/followers","following_url":"https://api.github.com/users/labazhou2018/following{/other_user}","gists_url":"https://api.github.com/users/labazhou2018/gists{/gist_id}","starred_url":"https://api.github.com/users/labazhou2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/labazhou2018/subscriptions","organizations_url":"https://api.github.com/users/labazhou2018/orgs","repos_url":"https://api.github.com/users/labazhou2018/repos","events_url":"https://api.github.com/users/labazhou2018/events{/privacy}","received_events_url":"https://api.github.com/users/labazhou2018/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T07:51:31Z","updated_at":"2022-10-20T07:51:31Z","author_association":"CONTRIBUTOR","body":"In Dledger cluster, the Leader is transformed into Master, the Fllower is tansformed into Slave. When master change in Dledger cluster, just like master down and then restart in Mater-Slave cluster.For users the Dledger cluster is still Master-Slave cluster. ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1285094952/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1285096831","html_url":"https://github.com/apache/rocketmq/issues/5331#issuecomment-1285096831","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5331","id":1285096831,"node_id":"IC_kwDOBHrsl85MmQV_","user":{"login":"labazhou2018","id":38873832,"node_id":"MDQ6VXNlcjM4ODczODMy","avatar_url":"https://avatars.githubusercontent.com/u/38873832?v=4","gravatar_id":"","url":"https://api.github.com/users/labazhou2018","html_url":"https://github.com/labazhou2018","followers_url":"https://api.github.com/users/labazhou2018/followers","following_url":"https://api.github.com/users/labazhou2018/following{/other_user}","gists_url":"https://api.github.com/users/labazhou2018/gists{/gist_id}","starred_url":"https://api.github.com/users/labazhou2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/labazhou2018/subscriptions","organizations_url":"https://api.github.com/users/labazhou2018/orgs","repos_url":"https://api.github.com/users/labazhou2018/repos","events_url":"https://api.github.com/users/labazhou2018/events{/privacy}","received_events_url":"https://api.github.com/users/labazhou2018/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T07:53:11Z","updated_at":"2022-10-20T07:53:11Z","author_association":"CONTRIBUTOR","body":"Good idea @echooymxq ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1285096831/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1285151333","html_url":"https://github.com/apache/rocketmq/pull/5367#issuecomment-1285151333","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5367","id":1285151333,"node_id":"IC_kwDOBHrsl85Mmdpl","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T08:39:22Z","updated_at":"2022-10-20T08:39:22Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/5367?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#5367](https://codecov.io/gh/apache/rocketmq/pull/5367?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (b070fcf) into [develop](https://codecov.io/gh/apache/rocketmq/commit/6e27b543499358634a1ee363e2d3b6bce4422555?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (6e27b54) will **increase** coverage by `0.17%`.\n> The diff coverage is `43.81%`.\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #5367      +/-   ##\n=============================================\n+ Coverage      43.10%   43.27%   +0.17%     \n- Complexity      7821     7860      +39     \n=============================================\n  Files           1003     1004       +1     \n  Lines          69850    70018     +168     \n  Branches        9226     9250      +24     \n=============================================\n+ Hits           30109    30301     +192     \n+ Misses         35960    35906      -54     \n- Partials        3781     3811      +30     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/5367?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...rocketmq/broker/processor/AckMessageProcessor.java](https://codecov.io/gh/apache/rocketmq/pull/5367/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvcHJvY2Vzc29yL0Fja01lc3NhZ2VQcm9jZXNzb3IuamF2YQ==) | `44.64% <0.00%> (-0.41%)` | :arrow_down: |\n| [...broker/processor/ChangeInvisibleTimeProcessor.java](https://codecov.io/gh/apache/rocketmq/pull/5367/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvcHJvY2Vzc29yL0NoYW5nZUludmlzaWJsZVRpbWVQcm9jZXNzb3IuamF2YQ==) | `56.58% <0.00%> (-10.39%)` | :arrow_down: |\n| [...rocketmq/broker/processor/PopMessageProcessor.java](https://codecov.io/gh/apache/rocketmq/pull/5367/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvcHJvY2Vzc29yL1BvcE1lc3NhZ2VQcm9jZXNzb3IuamF2YQ==) | `38.03% <0.00%> (-0.14%)` | :arrow_down: |\n| [.../apache/rocketmq/test/client/rmq/RMQPopClient.java](https://codecov.io/gh/apache/rocketmq/pull/5367/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC9jbGllbnQvcm1xL1JNUVBvcENsaWVudC5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [.../apache/rocketmq/test/factory/ConsumerFactory.java](https://codecov.io/gh/apache/rocketmq/pull/5367/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC9mYWN0b3J5L0NvbnN1bWVyRmFjdG9yeS5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...rocketmq/common/protocol/header/ExtraInfoUtil.java](https://codecov.io/gh/apache/rocketmq/pull/5367/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vcHJvdG9jb2wvaGVhZGVyL0V4dHJhSW5mb1V0aWwuamF2YQ==) | `11.90% <41.66%> (+11.90%)` | :arrow_up: |\n| [...g/apache/rocketmq/client/impl/MQClientAPIImpl.java](https://codecov.io/gh/apache/rocketmq/pull/5367/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9NUUNsaWVudEFQSUltcGwuamF2YQ==) | `22.95% <66.66%> (+0.02%)` | :arrow_up: |\n| [...cketmq/broker/offset/ConsumerOrderInfoManager.java](https://codecov.io/gh/apache/rocketmq/pull/5367/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvb2Zmc2V0L0NvbnN1bWVyT3JkZXJJbmZvTWFuYWdlci5qYXZh) | `72.72% <71.51%> (+64.59%)` | :arrow_up: |\n| [...n/java/org/apache/rocketmq/test/util/StatUtil.java](https://codecov.io/gh/apache/rocketmq/pull/5367/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC91dGlsL1N0YXRVdGlsLmphdmE=) | `15.49% <0.00%> (-14.09%)` | :arrow_down: |\n| [.../rocketmq/client/producer/RequestFutureHolder.java](https://codecov.io/gh/apache/rocketmq/pull/5367/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvcHJvZHVjZXIvUmVxdWVzdEZ1dHVyZUhvbGRlci5qYXZh) | `81.39% <0.00%> (-6.98%)` | :arrow_down: |\n| ... and [34 more](https://codecov.io/gh/apache/rocketmq/pull/5367/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1285151333/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1285251940","html_url":"https://github.com/apache/rocketmq/issues/5368#issuecomment-1285251940","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5368","id":1285251940,"node_id":"IC_kwDOBHrsl85Mm2Nk","user":{"login":"xdkxlk","id":10397306,"node_id":"MDQ6VXNlcjEwMzk3MzA2","avatar_url":"https://avatars.githubusercontent.com/u/10397306?v=4","gravatar_id":"","url":"https://api.github.com/users/xdkxlk","html_url":"https://github.com/xdkxlk","followers_url":"https://api.github.com/users/xdkxlk/followers","following_url":"https://api.github.com/users/xdkxlk/following{/other_user}","gists_url":"https://api.github.com/users/xdkxlk/gists{/gist_id}","starred_url":"https://api.github.com/users/xdkxlk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xdkxlk/subscriptions","organizations_url":"https://api.github.com/users/xdkxlk/orgs","repos_url":"https://api.github.com/users/xdkxlk/repos","events_url":"https://api.github.com/users/xdkxlk/events{/privacy}","received_events_url":"https://api.github.com/users/xdkxlk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T09:54:18Z","updated_at":"2022-10-20T09:54:18Z","author_association":"CONTRIBUTOR","body":"Support remoting protocol in rocketmq proxy module is in progress","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1285251940/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1285371121","html_url":"https://github.com/apache/rocketmq/issues/5368#issuecomment-1285371121","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5368","id":1285371121,"node_id":"IC_kwDOBHrsl85MnTTx","user":{"login":"daigoopautoy","id":45312807,"node_id":"MDQ6VXNlcjQ1MzEyODA3","avatar_url":"https://avatars.githubusercontent.com/u/45312807?v=4","gravatar_id":"","url":"https://api.github.com/users/daigoopautoy","html_url":"https://github.com/daigoopautoy","followers_url":"https://api.github.com/users/daigoopautoy/followers","following_url":"https://api.github.com/users/daigoopautoy/following{/other_user}","gists_url":"https://api.github.com/users/daigoopautoy/gists{/gist_id}","starred_url":"https://api.github.com/users/daigoopautoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/daigoopautoy/subscriptions","organizations_url":"https://api.github.com/users/daigoopautoy/orgs","repos_url":"https://api.github.com/users/daigoopautoy/repos","events_url":"https://api.github.com/users/daigoopautoy/events{/privacy}","received_events_url":"https://api.github.com/users/daigoopautoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T11:31:57Z","updated_at":"2022-10-20T11:31:57Z","author_association":"NONE","body":"> Support remoting protocol in rocketmq proxy module is in progress\r\n\r\nsorry, i don't know your mean. I guess some features likes `DefaultMQProducer#setSendLatencyFaultEnable`,`DefaultMQPushConsumer#setConsumeFromWhere`, `DefaultMQPushConsumer#setMessageModel` on client in 4.x have already transformed to proxy in 5.x and I should use proxy to administer all clients?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1285371121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1285865244","html_url":"https://github.com/apache/rocketmq/issues/5372#issuecomment-1285865244","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5372","id":1285865244,"node_id":"IC_kwDOBHrsl85MpL8c","user":{"login":"nowinkeyy","id":72536832,"node_id":"MDQ6VXNlcjcyNTM2ODMy","avatar_url":"https://avatars.githubusercontent.com/u/72536832?v=4","gravatar_id":"","url":"https://api.github.com/users/nowinkeyy","html_url":"https://github.com/nowinkeyy","followers_url":"https://api.github.com/users/nowinkeyy/followers","following_url":"https://api.github.com/users/nowinkeyy/following{/other_user}","gists_url":"https://api.github.com/users/nowinkeyy/gists{/gist_id}","starred_url":"https://api.github.com/users/nowinkeyy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nowinkeyy/subscriptions","organizations_url":"https://api.github.com/users/nowinkeyy/orgs","repos_url":"https://api.github.com/users/nowinkeyy/repos","events_url":"https://api.github.com/users/nowinkeyy/events{/privacy}","received_events_url":"https://api.github.com/users/nowinkeyy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T16:49:51Z","updated_at":"2022-10-20T16:49:51Z","author_association":"CONTRIBUTOR","body":"I agree with you.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1285865244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1286298505","html_url":"https://github.com/apache/rocketmq/issues/3077#issuecomment-1286298505","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3077","id":1286298505,"node_id":"IC_kwDOBHrsl85Mq1uJ","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T00:13:26Z","updated_at":"2022-10-21T00:13:26Z","author_association":"NONE","body":"This issue is stale because it has been open for 365 days with no activity. It will be closed in 3 days if no further activity occurs.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1286298505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1286333162","html_url":"https://github.com/apache/rocketmq/pull/5369#issuecomment-1286333162","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5369","id":1286333162,"node_id":"IC_kwDOBHrsl85Mq-Lq","user":{"login":"xiaoyifang","id":105986,"node_id":"MDQ6VXNlcjEwNTk4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/105986?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaoyifang","html_url":"https://github.com/xiaoyifang","followers_url":"https://api.github.com/users/xiaoyifang/followers","following_url":"https://api.github.com/users/xiaoyifang/following{/other_user}","gists_url":"https://api.github.com/users/xiaoyifang/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaoyifang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaoyifang/subscriptions","organizations_url":"https://api.github.com/users/xiaoyifang/orgs","repos_url":"https://api.github.com/users/xiaoyifang/repos","events_url":"https://api.github.com/users/xiaoyifang/events{/privacy}","received_events_url":"https://api.github.com/users/xiaoyifang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T01:12:27Z","updated_at":"2022-10-21T01:12:27Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/rocketmq/issues/5373","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1286333162/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1286356734","html_url":"https://github.com/apache/rocketmq/pull/5375#issuecomment-1286356734","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5375","id":1286356734,"node_id":"IC_kwDOBHrsl85MrD7-","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T01:54:54Z","updated_at":"2025-02-08T03:14:42Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/rocketmq/pull/5375?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\nAll modified and coverable lines are covered by tests :white_check_mark:\n> Project coverage is 43.16%. Comparing base [(`6e27b54`)](https://app.codecov.io/gh/apache/rocketmq/commit/6e27b543499358634a1ee363e2d3b6bce4422555?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) to head [(`fa51256`)](https://app.codecov.io/gh/apache/rocketmq/commit/fa51256abf732587e2d84c1ca151137d9e147197?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n> Report is 1204 commits behind head on develop.\n\n<details><summary>Additional details and impacted files</summary>\n\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #5375      +/-   ##\n=============================================\n+ Coverage      43.10%   43.16%   +0.05%     \n- Complexity      7821     7827       +6     \n=============================================\n  Files           1003     1003              \n  Lines          69850    69851       +1     \n  Branches        9226     9226              \n=============================================\n+ Hits           30109    30149      +40     \n+ Misses         35960    35919      -41     \n- Partials        3781     3783       +2     \n```\n\n</details>\n\n[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/apache/rocketmq/pull/5375?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).   \n:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1286356734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1286367105","html_url":"https://github.com/apache/rocketmq/issues/5347#issuecomment-1286367105","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5347","id":1286367105,"node_id":"IC_kwDOBHrsl85MrGeB","user":{"login":"aaron-ai","id":19537356,"node_id":"MDQ6VXNlcjE5NTM3MzU2","avatar_url":"https://avatars.githubusercontent.com/u/19537356?v=4","gravatar_id":"","url":"https://api.github.com/users/aaron-ai","html_url":"https://github.com/aaron-ai","followers_url":"https://api.github.com/users/aaron-ai/followers","following_url":"https://api.github.com/users/aaron-ai/following{/other_user}","gists_url":"https://api.github.com/users/aaron-ai/gists{/gist_id}","starred_url":"https://api.github.com/users/aaron-ai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aaron-ai/subscriptions","organizations_url":"https://api.github.com/users/aaron-ai/orgs","repos_url":"https://api.github.com/users/aaron-ai/repos","events_url":"https://api.github.com/users/aaron-ai/events{/privacy}","received_events_url":"https://api.github.com/users/aaron-ai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T02:12:27Z","updated_at":"2022-10-21T02:12:27Z","author_association":"MEMBER","body":"@travisdowns I think you are right. As a library, `rocketmq-tools` should not introduce the facade and the implementation at the same time.\r\n\r\nI will start a RIP about replacing current logging module by a shaded logback recently, which may also solve this problem, you could view the related code from https://github.com/aliyun-mq/rocketmq-logging.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1286367105/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1286379718","html_url":"https://github.com/apache/rocketmq/pull/5362#issuecomment-1286379718","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5362","id":1286379718,"node_id":"IC_kwDOBHrsl85MrJjG","user":{"login":"kaori-seasons","id":20021404,"node_id":"MDQ6VXNlcjIwMDIxNDA0","avatar_url":"https://avatars.githubusercontent.com/u/20021404?v=4","gravatar_id":"","url":"https://api.github.com/users/kaori-seasons","html_url":"https://github.com/kaori-seasons","followers_url":"https://api.github.com/users/kaori-seasons/followers","following_url":"https://api.github.com/users/kaori-seasons/following{/other_user}","gists_url":"https://api.github.com/users/kaori-seasons/gists{/gist_id}","starred_url":"https://api.github.com/users/kaori-seasons/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaori-seasons/subscriptions","organizations_url":"https://api.github.com/users/kaori-seasons/orgs","repos_url":"https://api.github.com/users/kaori-seasons/repos","events_url":"https://api.github.com/users/kaori-seasons/events{/privacy}","received_events_url":"https://api.github.com/users/kaori-seasons/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T02:34:13Z","updated_at":"2022-10-21T02:34:13Z","author_association":"CONTRIBUTOR","body":"I will fix the relevant unit tests","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1286379718/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1286389511","html_url":"https://github.com/apache/rocketmq/issues/5261#issuecomment-1286389511","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5261","id":1286389511,"node_id":"IC_kwDOBHrsl85MrL8H","user":{"login":"wwwwfw","id":8189484,"node_id":"MDQ6VXNlcjgxODk0ODQ=","avatar_url":"https://avatars.githubusercontent.com/u/8189484?v=4","gravatar_id":"","url":"https://api.github.com/users/wwwwfw","html_url":"https://github.com/wwwwfw","followers_url":"https://api.github.com/users/wwwwfw/followers","following_url":"https://api.github.com/users/wwwwfw/following{/other_user}","gists_url":"https://api.github.com/users/wwwwfw/gists{/gist_id}","starred_url":"https://api.github.com/users/wwwwfw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwwwfw/subscriptions","organizations_url":"https://api.github.com/users/wwwwfw/orgs","repos_url":"https://api.github.com/users/wwwwfw/repos","events_url":"https://api.github.com/users/wwwwfw/events{/privacy}","received_events_url":"https://api.github.com/users/wwwwfw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T02:50:57Z","updated_at":"2022-10-21T02:50:57Z","author_association":"NONE","body":"thank you! Solved my problem.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1286389511/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1286415830","html_url":"https://github.com/apache/rocketmq/pull/5362#issuecomment-1286415830","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5362","id":1286415830,"node_id":"IC_kwDOBHrsl85MrSXW","user":{"login":"kaori-seasons","id":20021404,"node_id":"MDQ6VXNlcjIwMDIxNDA0","avatar_url":"https://avatars.githubusercontent.com/u/20021404?v=4","gravatar_id":"","url":"https://api.github.com/users/kaori-seasons","html_url":"https://github.com/kaori-seasons","followers_url":"https://api.github.com/users/kaori-seasons/followers","following_url":"https://api.github.com/users/kaori-seasons/following{/other_user}","gists_url":"https://api.github.com/users/kaori-seasons/gists{/gist_id}","starred_url":"https://api.github.com/users/kaori-seasons/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaori-seasons/subscriptions","organizations_url":"https://api.github.com/users/kaori-seasons/orgs","repos_url":"https://api.github.com/users/kaori-seasons/repos","events_url":"https://api.github.com/users/kaori-seasons/events{/privacy}","received_events_url":"https://api.github.com/users/kaori-seasons/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T03:37:19Z","updated_at":"2022-10-21T03:37:19Z","author_association":"CONTRIBUTOR","body":"> Great idea, but I believe these types of variables that are not available for modification could be maintained as constants. And pls also keep in mind that do not include too many changes (e.g., format correction) that are not related to the original problem, you could maybe open another PR to improve it.\r\n\r\nThanks for the suggestion, I'll do it internally today,","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1286415830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1286604647","html_url":"https://github.com/apache/rocketmq/issues/1506#issuecomment-1286604647","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1506","id":1286604647,"node_id":"IC_kwDOBHrsl85MsAdn","user":{"login":"xiaoyifang","id":105986,"node_id":"MDQ6VXNlcjEwNTk4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/105986?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaoyifang","html_url":"https://github.com/xiaoyifang","followers_url":"https://api.github.com/users/xiaoyifang/followers","following_url":"https://api.github.com/users/xiaoyifang/following{/other_user}","gists_url":"https://api.github.com/users/xiaoyifang/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaoyifang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaoyifang/subscriptions","organizations_url":"https://api.github.com/users/xiaoyifang/orgs","repos_url":"https://api.github.com/users/xiaoyifang/repos","events_url":"https://api.github.com/users/xiaoyifang/events{/privacy}","received_events_url":"https://api.github.com/users/xiaoyifang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T07:59:11Z","updated_at":"2022-10-21T07:59:11Z","author_association":"CONTRIBUTOR","body":"https://github.com/alibaba/fastjson/issues/2078","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1286604647/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1286618666","html_url":"https://github.com/apache/rocketmq/issues/5378#issuecomment-1286618666","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5378","id":1286618666,"node_id":"IC_kwDOBHrsl85MsD4q","user":{"login":"aaron-ai","id":19537356,"node_id":"MDQ6VXNlcjE5NTM3MzU2","avatar_url":"https://avatars.githubusercontent.com/u/19537356?v=4","gravatar_id":"","url":"https://api.github.com/users/aaron-ai","html_url":"https://github.com/aaron-ai","followers_url":"https://api.github.com/users/aaron-ai/followers","following_url":"https://api.github.com/users/aaron-ai/following{/other_user}","gists_url":"https://api.github.com/users/aaron-ai/gists{/gist_id}","starred_url":"https://api.github.com/users/aaron-ai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aaron-ai/subscriptions","organizations_url":"https://api.github.com/users/aaron-ai/orgs","repos_url":"https://api.github.com/users/aaron-ai/repos","events_url":"https://api.github.com/users/aaron-ai/events{/privacy}","received_events_url":"https://api.github.com/users/aaron-ai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T08:12:26Z","updated_at":"2022-10-21T08:13:46Z","author_association":"MEMBER","body":"Of course.\r\n\r\nIn the [new client of Apache RocketMQ](https://github.com/apache/rocketmq-clients), we think the FIFO/non-FIFO consumption should be an attribute of consumer group, it should not be set on each consumer, which may be inconsistent. In fact, the implementation of client will try to fetch the attributes of consumer group and determine the FIFO consumption or not automatically.\r\n\r\nSo you should mark consumer as FIFO or Non-FIFO when you create it, just try it out :)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1286618666/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1286838072","html_url":"https://github.com/apache/rocketmq/pull/5377#issuecomment-1286838072","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5377","id":1286838072,"node_id":"IC_kwDOBHrsl85Ms5c4","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T11:34:32Z","updated_at":"2024-09-26T08:21:50Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/rocketmq/pull/5377?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\nAttention: Patch coverage is `0%` with `3 lines` in your changes missing coverage. Please review.\n> Project coverage is 43.15%. Comparing base [(`6e27b54`)](https://app.codecov.io/gh/apache/rocketmq/commit/6e27b543499358634a1ee363e2d3b6bce4422555?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) to head [(`123ff5f`)](https://app.codecov.io/gh/apache/rocketmq/commit/123ff5ffe5e3588bbb3dab84a5205984d2ca0803?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n> Report is 1080 commits behind head on develop.\n\n| [Files with missing lines](https://app.codecov.io/gh/apache/rocketmq/pull/5377?dropdown=coverage&src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Patch % | Lines |\n|---|---|---|\n| [...etmq/broker/processor/EndTransactionProcessor.java](https://app.codecov.io/gh/apache/rocketmq/pull/5377?src=pr&el=tree&filepath=broker%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Frocketmq%2Fbroker%2Fprocessor%2FEndTransactionProcessor.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvcHJvY2Vzc29yL0VuZFRyYW5zYWN0aW9uUHJvY2Vzc29yLmphdmE=) | 0.00% | [1 Missing :warning: ](https://app.codecov.io/gh/apache/rocketmq/pull/5377?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...ocketmq/broker/processor/SendMessageProcessor.java](https://app.codecov.io/gh/apache/rocketmq/pull/5377?src=pr&el=tree&filepath=broker%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Frocketmq%2Fbroker%2Fprocessor%2FSendMessageProcessor.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvcHJvY2Vzc29yL1NlbmRNZXNzYWdlUHJvY2Vzc29yLmphdmE=) | 0.00% | [1 Missing :warning: ](https://app.codecov.io/gh/apache/rocketmq/pull/5377?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...ava/org/apache/rocketmq/broker/util/HookUtils.java](https://app.codecov.io/gh/apache/rocketmq/pull/5377?src=pr&el=tree&filepath=broker%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Frocketmq%2Fbroker%2Futil%2FHookUtils.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvdXRpbC9Ib29rVXRpbHMuamF2YQ==) | 0.00% | [1 Missing :warning: ](https://app.codecov.io/gh/apache/rocketmq/pull/5377?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n\n<details><summary>Additional details and impacted files</summary>\n\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #5377      +/-   ##\n=============================================\n+ Coverage      43.10%   43.15%   +0.05%     \n+ Complexity      7821     7817       -4     \n=============================================\n  Files           1003     1003              \n  Lines          69850    69850              \n  Branches        9226     9226              \n=============================================\n+ Hits           30109    30145      +36     \n+ Misses         35960    35921      -39     \n- Partials        3781     3784       +3     \n```\n\n</details>\n\n[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/apache/rocketmq/pull/5377?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).   \n:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1286838072/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1287548650","html_url":"https://github.com/apache/rocketmq/issues/3401#issuecomment-1287548650","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3401","id":1287548650,"node_id":"IC_kwDOBHrsl85Mvm7q","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-10-22T00:12:55Z","updated_at":"2022-10-22T00:12:55Z","author_association":"NONE","body":"This issue is stale because it has been open for 365 days with no activity. It will be closed in 3 days if no further activity occurs.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1287548650/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1287573031","html_url":"https://github.com/apache/rocketmq/issues/5373#issuecomment-1287573031","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5373","id":1287573031,"node_id":"IC_kwDOBHrsl85Mvs4n","user":{"login":"mxsm","id":15797831,"node_id":"MDQ6VXNlcjE1Nzk3ODMx","avatar_url":"https://avatars.githubusercontent.com/u/15797831?v=4","gravatar_id":"","url":"https://api.github.com/users/mxsm","html_url":"https://github.com/mxsm","followers_url":"https://api.github.com/users/mxsm/followers","following_url":"https://api.github.com/users/mxsm/following{/other_user}","gists_url":"https://api.github.com/users/mxsm/gists{/gist_id}","starred_url":"https://api.github.com/users/mxsm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mxsm/subscriptions","organizations_url":"https://api.github.com/users/mxsm/orgs","repos_url":"https://api.github.com/users/mxsm/repos","events_url":"https://api.github.com/users/mxsm/events{/privacy}","received_events_url":"https://api.github.com/users/mxsm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-22T01:29:42Z","updated_at":"2022-10-22T01:29:42Z","author_association":"MEMBER","body":"Hi @xiaoyifang  before you submit a pr that  you can create issue for it. you can see this doc that PR how to link issue.\r\nhttps://docs.github.com/cn/issues/tracking-your-work-with-issues/linking-a-pull-request-to-an-issue.  when the pr is megered then the issue linked closed automatic.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1287573031/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1287612615","html_url":"https://github.com/apache/rocketmq/issues/5373#issuecomment-1287612615","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5373","id":1287612615,"node_id":"IC_kwDOBHrsl85Mv2jH","user":{"login":"xiaoyifang","id":105986,"node_id":"MDQ6VXNlcjEwNTk4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/105986?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaoyifang","html_url":"https://github.com/xiaoyifang","followers_url":"https://api.github.com/users/xiaoyifang/followers","following_url":"https://api.github.com/users/xiaoyifang/following{/other_user}","gists_url":"https://api.github.com/users/xiaoyifang/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaoyifang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaoyifang/subscriptions","organizations_url":"https://api.github.com/users/xiaoyifang/orgs","repos_url":"https://api.github.com/users/xiaoyifang/repos","events_url":"https://api.github.com/users/xiaoyifang/events{/privacy}","received_events_url":"https://api.github.com/users/xiaoyifang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-22T04:30:22Z","updated_at":"2022-10-22T04:35:38Z","author_association":"CONTRIBUTOR","body":"![image](https://user-images.githubusercontent.com/105986/197319365-79046895-7447-442f-9a1a-13d2fb14c4c7.png)\r\n \r\nI do not have the permission to link the PR manually.\r\n\r\nand I changed the commit message to connect with this issue still has no effect.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1287612615/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1287644333","html_url":"https://github.com/apache/rocketmq/issues/5373#issuecomment-1287644333","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5373","id":1287644333,"node_id":"IC_kwDOBHrsl85Mv-St","user":{"login":"mxsm","id":15797831,"node_id":"MDQ6VXNlcjE1Nzk3ODMx","avatar_url":"https://avatars.githubusercontent.com/u/15797831?v=4","gravatar_id":"","url":"https://api.github.com/users/mxsm","html_url":"https://github.com/mxsm","followers_url":"https://api.github.com/users/mxsm/followers","following_url":"https://api.github.com/users/mxsm/following{/other_user}","gists_url":"https://api.github.com/users/mxsm/gists{/gist_id}","starred_url":"https://api.github.com/users/mxsm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mxsm/subscriptions","organizations_url":"https://api.github.com/users/mxsm/orgs","repos_url":"https://api.github.com/users/mxsm/repos","events_url":"https://api.github.com/users/mxsm/events{/privacy}","received_events_url":"https://api.github.com/users/mxsm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-22T06:17:49Z","updated_at":"2022-10-22T06:19:57Z","author_association":"MEMBER","body":"> ![image](https://user-images.githubusercontent.com/105986/197319365-79046895-7447-442f-9a1a-13d2fb14c4c7.png)\r\n> \r\n> I do not have the permission to link the PR manually.\r\n> \r\n> and I changed the commit message to connect with this issue still has no effect.\r\n\r\nBefore you submit PR first time, use the key words","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1287644333/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1287645105","html_url":"https://github.com/apache/rocketmq/issues/5373#issuecomment-1287645105","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5373","id":1287645105,"node_id":"IC_kwDOBHrsl85Mv-ex","user":{"login":"xiaoyifang","id":105986,"node_id":"MDQ6VXNlcjEwNTk4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/105986?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaoyifang","html_url":"https://github.com/xiaoyifang","followers_url":"https://api.github.com/users/xiaoyifang/followers","following_url":"https://api.github.com/users/xiaoyifang/following{/other_user}","gists_url":"https://api.github.com/users/xiaoyifang/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaoyifang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaoyifang/subscriptions","organizations_url":"https://api.github.com/users/xiaoyifang/orgs","repos_url":"https://api.github.com/users/xiaoyifang/repos","events_url":"https://api.github.com/users/xiaoyifang/events{/privacy}","received_events_url":"https://api.github.com/users/xiaoyifang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-22T06:23:34Z","updated_at":"2022-10-22T06:49:13Z","author_association":"CONTRIBUTOR","body":"done","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1287645105/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1287695804","html_url":"https://github.com/apache/rocketmq/issues/5380#issuecomment-1287695804","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5380","id":1287695804,"node_id":"IC_kwDOBHrsl85MwK28","user":{"login":"nowinkeyy","id":72536832,"node_id":"MDQ6VXNlcjcyNTM2ODMy","avatar_url":"https://avatars.githubusercontent.com/u/72536832?v=4","gravatar_id":"","url":"https://api.github.com/users/nowinkeyy","html_url":"https://github.com/nowinkeyy","followers_url":"https://api.github.com/users/nowinkeyy/followers","following_url":"https://api.github.com/users/nowinkeyy/following{/other_user}","gists_url":"https://api.github.com/users/nowinkeyy/gists{/gist_id}","starred_url":"https://api.github.com/users/nowinkeyy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nowinkeyy/subscriptions","organizations_url":"https://api.github.com/users/nowinkeyy/orgs","repos_url":"https://api.github.com/users/nowinkeyy/repos","events_url":"https://api.github.com/users/nowinkeyy/events{/privacy}","received_events_url":"https://api.github.com/users/nowinkeyy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-22T09:40:52Z","updated_at":"2022-10-22T09:40:52Z","author_association":"CONTRIBUTOR","body":"The ```finally{}``` will executes whether or not it catches the exception, the method ```boolean ok = countDownLatch.await(timeoutMillis * 4, TimeUnit.MILLISECONDS);``` just used to block thread until countdownLatch goes to zero. If some broker failed, the countdownLatch cann't return to zero, the method ```await()``` will time out and the thread will log.warn.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1287695804/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1287954270","html_url":"https://github.com/apache/rocketmq/issues/3331#issuecomment-1287954270","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3331","id":1287954270,"node_id":"IC_kwDOBHrsl85MxJ9e","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-10-23T00:13:35Z","updated_at":"2022-10-23T00:13:35Z","author_association":"NONE","body":"This issue is stale because it has been open for 365 days with no activity. It will be closed in 3 days if no further activity occurs.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1287954270/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1287970417","html_url":"https://github.com/apache/rocketmq/issues/3331#issuecomment-1287970417","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3331","id":1287970417,"node_id":"IC_kwDOBHrsl85MxN5x","user":{"login":"wu-sheng","id":5441976,"node_id":"MDQ6VXNlcjU0NDE5NzY=","avatar_url":"https://avatars.githubusercontent.com/u/5441976?v=4","gravatar_id":"","url":"https://api.github.com/users/wu-sheng","html_url":"https://github.com/wu-sheng","followers_url":"https://api.github.com/users/wu-sheng/followers","following_url":"https://api.github.com/users/wu-sheng/following{/other_user}","gists_url":"https://api.github.com/users/wu-sheng/gists{/gist_id}","starred_url":"https://api.github.com/users/wu-sheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wu-sheng/subscriptions","organizations_url":"https://api.github.com/users/wu-sheng/orgs","repos_url":"https://api.github.com/users/wu-sheng/repos","events_url":"https://api.github.com/users/wu-sheng/events{/privacy}","received_events_url":"https://api.github.com/users/wu-sheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-23T01:26:05Z","updated_at":"2022-10-23T01:26:05Z","author_association":"MEMBER","body":"This should have been fixed","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1287970417/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1287971054","html_url":"https://github.com/apache/rocketmq/issues/5380#issuecomment-1287971054","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5380","id":1287971054,"node_id":"IC_kwDOBHrsl85MxODu","user":{"login":"labazhou2018","id":38873832,"node_id":"MDQ6VXNlcjM4ODczODMy","avatar_url":"https://avatars.githubusercontent.com/u/38873832?v=4","gravatar_id":"","url":"https://api.github.com/users/labazhou2018","html_url":"https://github.com/labazhou2018","followers_url":"https://api.github.com/users/labazhou2018/followers","following_url":"https://api.github.com/users/labazhou2018/following{/other_user}","gists_url":"https://api.github.com/users/labazhou2018/gists{/gist_id}","starred_url":"https://api.github.com/users/labazhou2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/labazhou2018/subscriptions","organizations_url":"https://api.github.com/users/labazhou2018/orgs","repos_url":"https://api.github.com/users/labazhou2018/repos","events_url":"https://api.github.com/users/labazhou2018/events{/privacy}","received_events_url":"https://api.github.com/users/labazhou2018/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-23T01:29:54Z","updated_at":"2022-10-23T01:35:04Z","author_association":"CONTRIBUTOR","body":"The countDownLatch‘s size equals brokerAddrs.size(),  `finally{}` is in for loop(loop size equals brokerAddrs.size()). For loop executes completely, the countDownLatch goes zero whether the broker failed or not. Is this right? \r\n\r\n- if true, the method `boolean ok = countDownLatch.await(timeoutMillis * 4, TimeUnit.MILLISECONDS);` maybe no use.\r\n- if false, even if the broker failed and countDownLatch>=1, the method will execute 24 seconds for users query message byByUniqKey. 24 senonds maybe too long.\r\n![2022-10-23_093420](https://user-images.githubusercontent.com/38873832/197368944-685fc486-ecd4-4187-bd8c-096e855d196f.png)\r\n\r\n> The `finally{}` will executes whether or not it catches the exception, the method `boolean ok = countDownLatch.await(timeoutMillis * 4, TimeUnit.MILLISECONDS);` just used to block thread until countdownLatch goes to zero. If some broker failed, the countdownLatch cann't return to zero, the method `await()` will time out and the thread will log.warn.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1287971054/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1287988182","html_url":"https://github.com/apache/rocketmq/issues/5380#issuecomment-1287988182","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5380","id":1287988182,"node_id":"IC_kwDOBHrsl85MxSPW","user":{"login":"nowinkeyy","id":72536832,"node_id":"MDQ6VXNlcjcyNTM2ODMy","avatar_url":"https://avatars.githubusercontent.com/u/72536832?v=4","gravatar_id":"","url":"https://api.github.com/users/nowinkeyy","html_url":"https://github.com/nowinkeyy","followers_url":"https://api.github.com/users/nowinkeyy/followers","following_url":"https://api.github.com/users/nowinkeyy/following{/other_user}","gists_url":"https://api.github.com/users/nowinkeyy/gists{/gist_id}","starred_url":"https://api.github.com/users/nowinkeyy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nowinkeyy/subscriptions","organizations_url":"https://api.github.com/users/nowinkeyy/orgs","repos_url":"https://api.github.com/users/nowinkeyy/repos","events_url":"https://api.github.com/users/nowinkeyy/events{/privacy}","received_events_url":"https://api.github.com/users/nowinkeyy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-23T02:47:51Z","updated_at":"2022-10-23T02:47:51Z","author_association":"CONTRIBUTOR","body":"Hi @codersfarm ,\r\nIMO, I think the countDownLatch will goes zero whether the broker failed or not. And i think the purpose of this ```await()``` method is to wait for the for loop to complete so that the ```queryResultList``` results  of querying all brokers can be retrieved.\r\n The ```queryResultList``` is incomplete without the ```await()``` method waiting for the completion of the for loop.\r\n\r\n![image](https://user-images.githubusercontent.com/72536832/197370650-ab0054d9-0fa0-4f12-866b-8e422c8758d0.png)\r\n![image](https://user-images.githubusercontent.com/72536832/197370613-da5dc0cd-b067-496b-b361-3db9743cd994.png)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1287988182/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1288046830","html_url":"https://github.com/apache/rocketmq/pull/5382#issuecomment-1288046830","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5382","id":1288046830,"node_id":"IC_kwDOBHrsl85Mxgju","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-23T08:10:16Z","updated_at":"2024-12-19T08:51:23Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/rocketmq/pull/5382?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\nAll modified and coverable lines are covered by tests :white_check_mark:\n> Project coverage is 48.15%. Comparing base [(`06f2208`)](https://app.codecov.io/gh/apache/rocketmq/commit/06f2208a34907211591114f6b0d327168c250fb3?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) to head [(`f6806d0`)](https://app.codecov.io/gh/apache/rocketmq/commit/f6806d04cdd9fefd83ed23e4a99efd3e1694f666?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n\n<details><summary>Additional details and impacted files</summary>\n\n\n```diff\n@@                 Coverage Diff                 @@\n##             release-4.9.4    #5382      +/-   ##\n===================================================\n- Coverage            48.23%   48.15%   -0.09%     \n+ Complexity            5137     5129       -8     \n===================================================\n  Files                  649      649              \n  Lines                43021    43021              \n  Branches              5625     5625              \n===================================================\n- Hits                 20752    20716      -36     \n- Misses               19771    19793      +22     \n- Partials              2498     2512      +14     \n```\n\n</details>\n\n[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/apache/rocketmq/pull/5382?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).   \n:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1288046830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1288047827","html_url":"https://github.com/apache/rocketmq/pull/5382#issuecomment-1288047827","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5382","id":1288047827,"node_id":"IC_kwDOBHrsl85MxgzT","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-23T08:14:55Z","updated_at":"2022-10-23T08:14:55Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/53515121/badge)](https://coveralls.io/builds/53515121)\n\nCoverage increased (+0.2%) to 52.121% when pulling **f6806d04cdd9fefd83ed23e4a99efd3e1694f666 on codersfarm:release-4.9.4** into **06f2208a34907211591114f6b0d327168c250fb3 on apache:release-4.9.4**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1288047827/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1288241098","html_url":"https://github.com/apache/rocketmq/issues/3077#issuecomment-1288241098","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3077","id":1288241098,"node_id":"IC_kwDOBHrsl85MyP_K","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-10-24T00:13:41Z","updated_at":"2022-10-24T00:13:41Z","author_association":"NONE","body":"This issue was closed because it has been inactive for 3 days since being marked as stale.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1288241098/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1288281664","html_url":"https://github.com/apache/rocketmq/issues/5380#issuecomment-1288281664","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5380","id":1288281664,"node_id":"IC_kwDOBHrsl85MyZ5A","user":{"login":"labazhou2018","id":38873832,"node_id":"MDQ6VXNlcjM4ODczODMy","avatar_url":"https://avatars.githubusercontent.com/u/38873832?v=4","gravatar_id":"","url":"https://api.github.com/users/labazhou2018","html_url":"https://github.com/labazhou2018","followers_url":"https://api.github.com/users/labazhou2018/followers","following_url":"https://api.github.com/users/labazhou2018/following{/other_user}","gists_url":"https://api.github.com/users/labazhou2018/gists{/gist_id}","starred_url":"https://api.github.com/users/labazhou2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/labazhou2018/subscriptions","organizations_url":"https://api.github.com/users/labazhou2018/orgs","repos_url":"https://api.github.com/users/labazhou2018/repos","events_url":"https://api.github.com/users/labazhou2018/events{/privacy}","received_events_url":"https://api.github.com/users/labazhou2018/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-24T01:24:52Z","updated_at":"2022-10-24T01:25:41Z","author_association":"CONTRIBUTOR","body":"Thanks. Main thead is blocked by countDownLatch until sub thead complete. The countDownLatch will goes zero, countDownLatch.await(timeoutMillis * 4, TimeUnit.MILLISECONDS) execute immediately. The query this.mQClientFactory.getMQClientAPIImpl().queryMessage(addr, requestHeader, timeoutMillis * 3 is timeoutMillis * 3,and the countDownLatch.await is timeoutMillis * 4.\r\n\r\n![2022-10-24_090335](https://user-images.githubusercontent.com/38873832/197429940-eb2e4ae9-6b33-41ab-b7d1-d260aded4253.png)\r\n\r\n![2022-10-24_090408](https://user-images.githubusercontent.com/38873832/197429953-2c9add65-ba79-4377-983f-c1fe5a3396d6.png)\r\n\r\n\r\n> Hi @codersfarm , IMO, I think the countDownLatch will goes zero whether the broker failed or not. And i think the purpose of this `await()` method is to wait for the for loop to complete so that the `queryResultList` results of querying all brokers can be retrieved. The `queryResultList` is incomplete without the `await()` method waiting for the completion of the for loop.\r\n> \r\n> ![image](https://user-images.githubusercontent.com/72536832/197370650-ab0054d9-0fa0-4f12-866b-8e422c8758d0.png) ![image](https://user-images.githubusercontent.com/72536832/197370613-da5dc0cd-b067-496b-b361-3db9743cd994.png)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1288281664/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1288289076","html_url":"https://github.com/apache/rocketmq/pull/5382#issuecomment-1288289076","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5382","id":1288289076,"node_id":"IC_kwDOBHrsl85Mybs0","user":{"login":"labazhou2018","id":38873832,"node_id":"MDQ6VXNlcjM4ODczODMy","avatar_url":"https://avatars.githubusercontent.com/u/38873832?v=4","gravatar_id":"","url":"https://api.github.com/users/labazhou2018","html_url":"https://github.com/labazhou2018","followers_url":"https://api.github.com/users/labazhou2018/followers","following_url":"https://api.github.com/users/labazhou2018/following{/other_user}","gists_url":"https://api.github.com/users/labazhou2018/gists{/gist_id}","starred_url":"https://api.github.com/users/labazhou2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/labazhou2018/subscriptions","organizations_url":"https://api.github.com/users/labazhou2018/orgs","repos_url":"https://api.github.com/users/labazhou2018/repos","events_url":"https://api.github.com/users/labazhou2018/events{/privacy}","received_events_url":"https://api.github.com/users/labazhou2018/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-24T01:34:46Z","updated_at":"2022-10-24T01:34:46Z","author_association":"CONTRIBUTOR","body":"> merge target branch must be 4.9.x or develop\r\n\r\nok","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1288289076/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1288291750","html_url":"https://github.com/apache/rocketmq/pull/5382#issuecomment-1288291750","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5382","id":1288291750,"node_id":"IC_kwDOBHrsl85MycWm","user":{"login":"labazhou2018","id":38873832,"node_id":"MDQ6VXNlcjM4ODczODMy","avatar_url":"https://avatars.githubusercontent.com/u/38873832?v=4","gravatar_id":"","url":"https://api.github.com/users/labazhou2018","html_url":"https://github.com/labazhou2018","followers_url":"https://api.github.com/users/labazhou2018/followers","following_url":"https://api.github.com/users/labazhou2018/following{/other_user}","gists_url":"https://api.github.com/users/labazhou2018/gists{/gist_id}","starred_url":"https://api.github.com/users/labazhou2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/labazhou2018/subscriptions","organizations_url":"https://api.github.com/users/labazhou2018/orgs","repos_url":"https://api.github.com/users/labazhou2018/repos","events_url":"https://api.github.com/users/labazhou2018/events{/privacy}","received_events_url":"https://api.github.com/users/labazhou2018/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-24T01:38:45Z","updated_at":"2022-10-24T01:38:45Z","author_association":"CONTRIBUTOR","body":"change target branch","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1288291750/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1288309547","html_url":"https://github.com/apache/rocketmq/pull/5383#issuecomment-1288309547","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5383","id":1288309547,"node_id":"IC_kwDOBHrsl85Mygsr","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-24T02:08:33Z","updated_at":"2022-10-24T02:08:33Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/53522996/badge)](https://coveralls.io/builds/53522996)\n\nCoverage increased (+0.06%) to 52.148% when pulling **8494b0ee68c4497bbf7706fe978a40c1d7feffc3 on codersfarm:4.9.x** into **0e43444081507b422c9911869748698c1d71b003 on apache:4.9.x**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1288309547/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1288336053","html_url":"https://github.com/apache/rocketmq/pull/5367#issuecomment-1288336053","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5367","id":1288336053,"node_id":"IC_kwDOBHrsl85MynK1","user":{"login":"lizhanhui","id":641819,"node_id":"MDQ6VXNlcjY0MTgxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/641819?v=4","gravatar_id":"","url":"https://api.github.com/users/lizhanhui","html_url":"https://github.com/lizhanhui","followers_url":"https://api.github.com/users/lizhanhui/followers","following_url":"https://api.github.com/users/lizhanhui/following{/other_user}","gists_url":"https://api.github.com/users/lizhanhui/gists{/gist_id}","starred_url":"https://api.github.com/users/lizhanhui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lizhanhui/subscriptions","organizations_url":"https://api.github.com/users/lizhanhui/orgs","repos_url":"https://api.github.com/users/lizhanhui/repos","events_url":"https://api.github.com/users/lizhanhui/events{/privacy}","received_events_url":"https://api.github.com/users/lizhanhui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-24T02:43:53Z","updated_at":"2022-10-24T02:43:53Z","author_association":"CONTRIBUTOR","body":"Looks good","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1288336053/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1288349446","html_url":"https://github.com/apache/rocketmq/pull/5385#issuecomment-1288349446","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5385","id":1288349446,"node_id":"IC_kwDOBHrsl85MyqcG","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-24T03:02:49Z","updated_at":"2024-11-17T19:19:20Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/rocketmq/pull/5385?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\nAll modified and coverable lines are covered by tests :white_check_mark:\n> Project coverage is 48.14%. Comparing base [(`0e43444`)](https://app.codecov.io/gh/apache/rocketmq/commit/0e43444081507b422c9911869748698c1d71b003?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) to head [(`f5913b8`)](https://app.codecov.io/gh/apache/rocketmq/commit/f5913b8c04c2f5ea3da4b0321c1102b281c03dee?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n> Report is 42 commits behind head on 4.9.x.\n\n<details><summary>Additional details and impacted files</summary>\n\n\n```diff\n@@             Coverage Diff              @@\n##              4.9.x    #5385      +/-   ##\n============================================\n+ Coverage     48.12%   48.14%   +0.02%     \n- Complexity     5123     5125       +2     \n============================================\n  Files           650      650              \n  Lines         43064    43064              \n  Branches       5631     5631              \n============================================\n+ Hits          20723    20733      +10     \n+ Misses        19832    19814      -18     \n- Partials       2509     2517       +8     \n```\n\n</details>\n\n[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/apache/rocketmq/pull/5385?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).   \n:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1288349446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1288350154","html_url":"https://github.com/apache/rocketmq/pull/5385#issuecomment-1288350154","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5385","id":1288350154,"node_id":"IC_kwDOBHrsl85MyqnK","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-24T03:03:56Z","updated_at":"2022-10-24T05:06:12Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/53525844/badge)](https://coveralls.io/builds/53525844)\n\nCoverage increased (+0.05%) to 52.139% when pulling **f5913b8c04c2f5ea3da4b0321c1102b281c03dee on codersfarm:4.9.x** into **0e43444081507b422c9911869748698c1d71b003 on apache:4.9.x**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1288350154/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1288391745","html_url":"https://github.com/apache/rocketmq/pull/5386#issuecomment-1288391745","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5386","id":1288391745,"node_id":"IC_kwDOBHrsl85My0xB","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-24T04:12:22Z","updated_at":"2022-10-24T04:12:22Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/5386?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#5386](https://codecov.io/gh/apache/rocketmq/pull/5386?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (6cb4452) into [develop](https://codecov.io/gh/apache/rocketmq/commit/03ffc45a8b93844b692b7a834cf28b922015de3a?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (03ffc45) will **increase** coverage by `0.06%`.\n> The diff coverage is `62.38%`.\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #5386      +/-   ##\n=============================================\n+ Coverage      43.40%   43.47%   +0.06%     \n- Complexity      7916     7934      +18     \n=============================================\n  Files           1007     1009       +2     \n  Lines          70213    70385     +172     \n  Branches        9282     9322      +40     \n=============================================\n+ Hits           30477    30598     +121     \n- Misses         35916    35930      +14     \n- Partials        3820     3857      +37     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/5386?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...er/transaction/queue/TransactionalMessageUtil.java](https://codecov.io/gh/apache/rocketmq/pull/5386/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvdHJhbnNhY3Rpb24vcXVldWUvVHJhbnNhY3Rpb25hbE1lc3NhZ2VVdGlsLmphdmE=) | `80.00% <ø> (ø)` | |\n| [.../java/org/apache/rocketmq/common/BrokerConfig.java](https://codecov.io/gh/apache/rocketmq/pull/5386/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vQnJva2VyQ29uZmlnLmphdmE=) | `28.24% <25.00%> (-0.05%)` | :arrow_down: |\n| [...saction/queue/TransactionalMessageServiceImpl.java](https://codecov.io/gh/apache/rocketmq/pull/5386/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvdHJhbnNhY3Rpb24vcXVldWUvVHJhbnNhY3Rpb25hbE1lc3NhZ2VTZXJ2aWNlSW1wbC5qYXZh) | `54.09% <58.90%> (+4.09%)` | :arrow_up: |\n| [...transaction/queue/TransactionalOpBatchService.java](https://codecov.io/gh/apache/rocketmq/pull/5386/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvdHJhbnNhY3Rpb24vcXVldWUvVHJhbnNhY3Rpb25hbE9wQmF0Y2hTZXJ2aWNlLmphdmE=) | `71.42% <71.42%> (ø)` | |\n| [.../transaction/queue/TransactionalMessageBridge.java](https://codecov.io/gh/apache/rocketmq/pull/5386/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvdHJhbnNhY3Rpb24vcXVldWUvVHJhbnNhY3Rpb25hbE1lc3NhZ2VCcmlkZ2UuamF2YQ==) | `74.71% <72.00%> (-1.86%)` | :arrow_down: |\n| [...roker/transaction/queue/MessageQueueOpContext.java](https://codecov.io/gh/apache/rocketmq/pull/5386/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvdHJhbnNhY3Rpb24vcXVldWUvTWVzc2FnZVF1ZXVlT3BDb250ZXh0LmphdmE=) | `100.00% <100.00%> (ø)` | |\n| [...org/apache/rocketmq/store/ha/WaitNotifyObject.java](https://codecov.io/gh/apache/rocketmq/pull/5386/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL2hhL1dhaXROb3RpZnlPYmplY3QuamF2YQ==) | `80.35% <0.00%> (-5.36%)` | :arrow_down: |\n| [...ache/rocketmq/common/stats/MomentStatsItemSet.java](https://codecov.io/gh/apache/rocketmq/pull/5386/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vc3RhdHMvTW9tZW50U3RhdHNJdGVtU2V0LmphdmE=) | `39.13% <0.00%> (-4.35%)` | :arrow_down: |\n| [...cketmq/store/ha/autoswitch/AutoSwitchHAClient.java](https://codecov.io/gh/apache/rocketmq/pull/5386/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL2hhL2F1dG9zd2l0Y2gvQXV0b1N3aXRjaEhBQ2xpZW50LmphdmE=) | `73.20% <0.00%> (-2.27%)` | :arrow_down: |\n| ... and [18 more](https://codecov.io/gh/apache/rocketmq/pull/5386/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1288391745/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1288486209","html_url":"https://github.com/apache/rocketmq/issues/5384#issuecomment-1288486209","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5384","id":1288486209,"node_id":"IC_kwDOBHrsl85MzL1B","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-24T06:32:14Z","updated_at":"2022-10-24T06:32:14Z","author_association":"CONTRIBUTOR","body":"`java.lang.NoClassDefFoundError: Could not initialize class io.netty.util.internal.PlatformDependent0`\r\nThe error seems to have nothing to do with connecting to RocketMQ 5.0 nameserver.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1288486209/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1288663598","html_url":"https://github.com/apache/rocketmq/pull/5394#issuecomment-1288663598","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5394","id":1288663598,"node_id":"IC_kwDOBHrsl85Mz3Iu","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-24T08:44:50Z","updated_at":"2022-10-24T09:58:07Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/5394?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#5394](https://codecov.io/gh/apache/rocketmq/pull/5394?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (acbc888) into [develop](https://codecov.io/gh/apache/rocketmq/commit/e863f485ce995cd657b9d6b6c948b8290e46f8f4?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (e863f48) will **increase** coverage by `1.15%`.\n> The diff coverage is `43.51%`.\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #5394      +/-   ##\n=============================================\n+ Coverage      43.24%   44.40%   +1.15%     \n- Complexity      7881     8478     +597     \n=============================================\n  Files           1006     1017      +11     \n  Lines          70046    74243    +4197     \n  Branches        9259    10155     +896     \n=============================================\n+ Hits           30290    32966    +2676     \n- Misses         35963    37292    +1329     \n- Partials        3793     3985     +192     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/5394?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...a/org/apache/rocketmq/broker/BrokerController.java](https://codecov.io/gh/apache/rocketmq/pull/5394/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvQnJva2VyQ29udHJvbGxlci5qYXZh) | `45.11% <ø> (+1.25%)` | :arrow_up: |\n| [...rocketmq/broker/processor/AckMessageProcessor.java](https://codecov.io/gh/apache/rocketmq/pull/5394/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvcHJvY2Vzc29yL0Fja01lc3NhZ2VQcm9jZXNzb3IuamF2YQ==) | `44.64% <0.00%> (-0.41%)` | :arrow_down: |\n| [...broker/processor/ChangeInvisibleTimeProcessor.java](https://codecov.io/gh/apache/rocketmq/pull/5394/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvcHJvY2Vzc29yL0NoYW5nZUludmlzaWJsZVRpbWVQcm9jZXNzb3IuamF2YQ==) | `56.58% <0.00%> (-10.39%)` | :arrow_down: |\n| [...rocketmq/broker/processor/PopMessageProcessor.java](https://codecov.io/gh/apache/rocketmq/pull/5394/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvcHJvY2Vzc29yL1BvcE1lc3NhZ2VQcm9jZXNzb3IuamF2YQ==) | `38.03% <0.00%> (-0.14%)` | :arrow_down: |\n| [.../transaction/queue/TransactionalMessageBridge.java](https://codecov.io/gh/apache/rocketmq/pull/5394/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvdHJhbnNhY3Rpb24vcXVldWUvVHJhbnNhY3Rpb25hbE1lc3NhZ2VCcmlkZ2UuamF2YQ==) | `74.03% <0.00%> (-2.54%)` | :arrow_down: |\n| [.../apache/rocketmq/test/client/rmq/RMQPopClient.java](https://codecov.io/gh/apache/rocketmq/pull/5394/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC9jbGllbnQvcm1xL1JNUVBvcENsaWVudC5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [.../apache/rocketmq/test/factory/ConsumerFactory.java](https://codecov.io/gh/apache/rocketmq/pull/5394/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC9mYWN0b3J5L0NvbnN1bWVyRmFjdG9yeS5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...saction/queue/TransactionalMessageServiceImpl.java](https://codecov.io/gh/apache/rocketmq/pull/5394/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvdHJhbnNhY3Rpb24vcXVldWUvVHJhbnNhY3Rpb25hbE1lc3NhZ2VTZXJ2aWNlSW1wbC5qYXZh) | `46.12% <4.54%> (-3.88%)` | :arrow_down: |\n| [.../apache/rocketmq/broker/failover/EscapeBridge.java](https://codecov.io/gh/apache/rocketmq/pull/5394/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvZmFpbG92ZXIvRXNjYXBlQnJpZGdlLmphdmE=) | `33.53% <20.00%> (+0.41%)` | :arrow_up: |\n| [...rocketmq/common/protocol/header/ExtraInfoUtil.java](https://codecov.io/gh/apache/rocketmq/pull/5394/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vcHJvdG9jb2wvaGVhZGVyL0V4dHJhSW5mb1V0aWwuamF2YQ==) | `11.90% <41.66%> (+11.90%)` | :arrow_up: |\n| ... and [48 more](https://codecov.io/gh/apache/rocketmq/pull/5394/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1288663598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1288914300","html_url":"https://github.com/apache/rocketmq/pull/5391#issuecomment-1288914300","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5391","id":1288914300,"node_id":"IC_kwDOBHrsl85M00V8","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-24T11:46:17Z","updated_at":"2022-10-24T11:46:17Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/5391?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#5391](https://codecov.io/gh/apache/rocketmq/pull/5391?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (cb60377) into [develop](https://codecov.io/gh/apache/rocketmq/commit/e863f485ce995cd657b9d6b6c948b8290e46f8f4?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (e863f48) will **decrease** coverage by `0.12%`.\n> The diff coverage is `36.25%`.\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #5391      +/-   ##\n=============================================\n- Coverage      43.24%   43.11%   -0.13%     \n- Complexity      7881     7991     +110     \n=============================================\n  Files           1006     1016      +10     \n  Lines          70046    71499    +1453     \n  Branches        9259     9463     +204     \n=============================================\n+ Hits           30290    30829     +539     \n- Misses         35963    36784     +821     \n- Partials        3793     3886      +93     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/5391?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...a/org/apache/rocketmq/broker/BrokerController.java](https://codecov.io/gh/apache/rocketmq/pull/5391/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvQnJva2VyQ29udHJvbGxlci5qYXZh) | `46.71% <0.00%> (+2.84%)` | :arrow_up: |\n| [...rocketmq/broker/processor/AckMessageProcessor.java](https://codecov.io/gh/apache/rocketmq/pull/5391/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvcHJvY2Vzc29yL0Fja01lc3NhZ2VQcm9jZXNzb3IuamF2YQ==) | `44.64% <0.00%> (-0.41%)` | :arrow_down: |\n| [...broker/processor/ChangeInvisibleTimeProcessor.java](https://codecov.io/gh/apache/rocketmq/pull/5391/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvcHJvY2Vzc29yL0NoYW5nZUludmlzaWJsZVRpbWVQcm9jZXNzb3IuamF2YQ==) | `56.58% <0.00%> (-10.39%)` | :arrow_down: |\n| [...rocketmq/broker/processor/PopMessageProcessor.java](https://codecov.io/gh/apache/rocketmq/pull/5391/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvcHJvY2Vzc29yL1BvcE1lc3NhZ2VQcm9jZXNzb3IuamF2YQ==) | `38.03% <0.00%> (-0.14%)` | :arrow_down: |\n| [...he/rocketmq/broker/processor/PopReviveService.java](https://codecov.io/gh/apache/rocketmq/pull/5391/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvcHJvY2Vzc29yL1BvcFJldml2ZVNlcnZpY2UuamF2YQ==) | `36.14% <0.00%> (-1.59%)` | :arrow_down: |\n| [.../transaction/queue/TransactionalMessageBridge.java](https://codecov.io/gh/apache/rocketmq/pull/5391/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvdHJhbnNhY3Rpb24vcXVldWUvVHJhbnNhY3Rpb25hbE1lc3NhZ2VCcmlkZ2UuamF2YQ==) | `74.03% <0.00%> (-2.54%)` | :arrow_down: |\n| [...apache/rocketmq/common/message/MessageDecoder.java](https://codecov.io/gh/apache/rocketmq/pull/5391/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vbWVzc2FnZS9NZXNzYWdlRGVjb2Rlci5qYXZh) | `62.70% <ø> (ø)` | |\n| [...ache/rocketmq/common/utils/CleanupPolicyUtils.java](https://codecov.io/gh/apache/rocketmq/pull/5391/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vdXRpbHMvQ2xlYW51cFBvbGljeVV0aWxzLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...va/org/apache/rocketmq/namesrv/NamesrvStartup.java](https://codecov.io/gh/apache/rocketmq/pull/5391/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bmFtZXNydi9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvbmFtZXNydi9OYW1lc3J2U3RhcnR1cC5qYXZh) | `15.83% <0.00%> (-0.14%)` | :arrow_down: |\n| [...org/apache/rocketmq/store/AppendMessageResult.java](https://codecov.io/gh/apache/rocketmq/pull/5391/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL0FwcGVuZE1lc3NhZ2VSZXN1bHQuamF2YQ==) | `63.63% <0.00%> (-3.04%)` | :arrow_down: |\n| ... and [50 more](https://codecov.io/gh/apache/rocketmq/pull/5391/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1288914300/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1289296441","html_url":"https://github.com/apache/rocketmq/issues/5347#issuecomment-1289296441","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5347","id":1289296441,"node_id":"IC_kwDOBHrsl85M2Ro5","user":{"login":"travisdowns","id":2403521,"node_id":"MDQ6VXNlcjI0MDM1MjE=","avatar_url":"https://avatars.githubusercontent.com/u/2403521?v=4","gravatar_id":"","url":"https://api.github.com/users/travisdowns","html_url":"https://github.com/travisdowns","followers_url":"https://api.github.com/users/travisdowns/followers","following_url":"https://api.github.com/users/travisdowns/following{/other_user}","gists_url":"https://api.github.com/users/travisdowns/gists{/gist_id}","starred_url":"https://api.github.com/users/travisdowns/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/travisdowns/subscriptions","organizations_url":"https://api.github.com/users/travisdowns/orgs","repos_url":"https://api.github.com/users/travisdowns/repos","events_url":"https://api.github.com/users/travisdowns/events{/privacy}","received_events_url":"https://api.github.com/users/travisdowns/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-24T16:34:48Z","updated_at":"2022-10-24T16:34:48Z","author_association":"NONE","body":"> rocketmq-tool is also a 'final' application, used in `mqadmin` command. It might be the reason why logback-classic was imported.\r\n\r\nAh, thanks for that detail. So there is a `main()` method in the .jar?\r\n\r\nI am not sure how to resolve that situation, that a given .jar is intended to be used both as a library to be consumed by other applications, and in some contexts an application itself. Maybe one way is to have an artifact with all the code except `main()`, which would be the library artifact pulled in my projects that depend on it, then `tools-cli` or whatever which would depend on that library and basically be a 1-liner with a `main()` that calls into the shared tools lib.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1289296441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1289301245","html_url":"https://github.com/apache/rocketmq/issues/5347#issuecomment-1289301245","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5347","id":1289301245,"node_id":"IC_kwDOBHrsl85M2Sz9","user":{"login":"travisdowns","id":2403521,"node_id":"MDQ6VXNlcjI0MDM1MjE=","avatar_url":"https://avatars.githubusercontent.com/u/2403521?v=4","gravatar_id":"","url":"https://api.github.com/users/travisdowns","html_url":"https://github.com/travisdowns","followers_url":"https://api.github.com/users/travisdowns/followers","following_url":"https://api.github.com/users/travisdowns/following{/other_user}","gists_url":"https://api.github.com/users/travisdowns/gists{/gist_id}","starred_url":"https://api.github.com/users/travisdowns/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/travisdowns/subscriptions","organizations_url":"https://api.github.com/users/travisdowns/orgs","repos_url":"https://api.github.com/users/travisdowns/repos","events_url":"https://api.github.com/users/travisdowns/events{/privacy}","received_events_url":"https://api.github.com/users/travisdowns/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-24T16:38:54Z","updated_at":"2022-10-24T16:38:54Z","author_association":"NONE","body":"> @travisdowns I think you are right. As a library, `rocketmq-tools` should not introduce the facade and the implementation at the same time.\r\n\r\nOne question: does the current rocket-mq use the slf4j API implementation or does it use any logback API directly?\r\n\r\nI ask because the usual solution to this problem (when the offending library can't be fixed or will only be fixed in a subsequent version) is to exclude the logback-classic jar like so in the consuming project:\r\n\r\n```\r\n    <exclusions>\r\n        <exclusion>\r\n            <groupId>ch.qos.logback</groupId>\r\n            <artifactId>logback-classic</artifactId>\r\n        </exclusion>\r\n    </exclusions>\r\n```\r\n\r\nI could apply this fix in openmessaging benchmark, but I want to check that rocketmq does not use logback-classic API directly since if so this would break that (since logback-classic will not be available at runtime). ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1289301245/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1289804761","html_url":"https://github.com/apache/rocketmq/issues/3401#issuecomment-1289804761","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3401","id":1289804761,"node_id":"IC_kwDOBHrsl85M4NvZ","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-10-25T00:14:27Z","updated_at":"2022-10-25T00:14:27Z","author_association":"NONE","body":"This issue was closed because it has been inactive for 3 days since being marked as stale.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1289804761/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1289814815","html_url":"https://github.com/apache/rocketmq/issues/5384#issuecomment-1289814815","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5384","id":1289814815,"node_id":"IC_kwDOBHrsl85M4QMf","user":{"login":"Oliverwqcwrw","id":31796988,"node_id":"MDQ6VXNlcjMxNzk2OTg4","avatar_url":"https://avatars.githubusercontent.com/u/31796988?v=4","gravatar_id":"","url":"https://api.github.com/users/Oliverwqcwrw","html_url":"https://github.com/Oliverwqcwrw","followers_url":"https://api.github.com/users/Oliverwqcwrw/followers","following_url":"https://api.github.com/users/Oliverwqcwrw/following{/other_user}","gists_url":"https://api.github.com/users/Oliverwqcwrw/gists{/gist_id}","starred_url":"https://api.github.com/users/Oliverwqcwrw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Oliverwqcwrw/subscriptions","organizations_url":"https://api.github.com/users/Oliverwqcwrw/orgs","repos_url":"https://api.github.com/users/Oliverwqcwrw/repos","events_url":"https://api.github.com/users/Oliverwqcwrw/events{/privacy}","received_events_url":"https://api.github.com/users/Oliverwqcwrw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-25T00:28:54Z","updated_at":"2022-10-25T00:28:54Z","author_association":"MEMBER","body":"Hello @RongtongJin ,Thx for your reply\r\n\r\nWhat I said before was a little inaccurate, not when I was connecting to nameserver, but when I was checking information. For example, cluster information, consumer information and so on\r\n\r\n<img width=\"1286\" alt=\"image\" src=\"https://user-images.githubusercontent.com/31796988/197654680-5e930e46-e177-4aa0-9f6c-3ab0dee1bd8b.png\">\r\n\r\n\r\n<img width=\"1328\" alt=\"image\" src=\"https://user-images.githubusercontent.com/31796988/197654378-7dceb96c-66ca-4e69-bc5b-4af424accb07.png\">\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1289814815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1289923660","html_url":"https://github.com/apache/rocketmq/issues/5384#issuecomment-1289923660","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5384","id":1289923660,"node_id":"IC_kwDOBHrsl85M4qxM","user":{"login":"xiaoyifang","id":105986,"node_id":"MDQ6VXNlcjEwNTk4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/105986?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaoyifang","html_url":"https://github.com/xiaoyifang","followers_url":"https://api.github.com/users/xiaoyifang/followers","following_url":"https://api.github.com/users/xiaoyifang/following{/other_user}","gists_url":"https://api.github.com/users/xiaoyifang/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaoyifang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaoyifang/subscriptions","organizations_url":"https://api.github.com/users/xiaoyifang/orgs","repos_url":"https://api.github.com/users/xiaoyifang/repos","events_url":"https://api.github.com/users/xiaoyifang/events{/privacy}","received_events_url":"https://api.github.com/users/xiaoyifang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-25T03:21:03Z","updated_at":"2022-10-25T03:21:03Z","author_association":"CONTRIBUTOR","body":"https://github.com/netty/netty/issues/12737","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1289923660/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1289950110","html_url":"https://github.com/apache/rocketmq/pull/5397#issuecomment-1289950110","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5397","id":1289950110,"node_id":"IC_kwDOBHrsl85M4xOe","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-25T04:09:57Z","updated_at":"2022-10-25T04:09:57Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/5397?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#5397](https://codecov.io/gh/apache/rocketmq/pull/5397?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (a39e38b) into [develop](https://codecov.io/gh/apache/rocketmq/commit/e863f485ce995cd657b9d6b6c948b8290e46f8f4?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (e863f48) will **decrease** coverage by `0.10%`.\n> The diff coverage is `36.40%`.\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #5397      +/-   ##\n=============================================\n- Coverage      43.24%   43.13%   -0.11%     \n- Complexity      7881     8002     +121     \n=============================================\n  Files           1006     1016      +10     \n  Lines          70046    71499    +1453     \n  Branches        9259     9463     +204     \n=============================================\n+ Hits           30290    30844     +554     \n- Misses         35963    36766     +803     \n- Partials        3793     3889      +96     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/5397?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...a/org/apache/rocketmq/broker/BrokerController.java](https://codecov.io/gh/apache/rocketmq/pull/5397/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvQnJva2VyQ29udHJvbGxlci5qYXZh) | `43.81% <0.00%> (-0.06%)` | :arrow_down: |\n| [...rocketmq/broker/processor/AckMessageProcessor.java](https://codecov.io/gh/apache/rocketmq/pull/5397/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvcHJvY2Vzc29yL0Fja01lc3NhZ2VQcm9jZXNzb3IuamF2YQ==) | `44.64% <0.00%> (-0.41%)` | :arrow_down: |\n| [...broker/processor/ChangeInvisibleTimeProcessor.java](https://codecov.io/gh/apache/rocketmq/pull/5397/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvcHJvY2Vzc29yL0NoYW5nZUludmlzaWJsZVRpbWVQcm9jZXNzb3IuamF2YQ==) | `56.58% <0.00%> (-10.39%)` | :arrow_down: |\n| [...rocketmq/broker/processor/PopMessageProcessor.java](https://codecov.io/gh/apache/rocketmq/pull/5397/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvcHJvY2Vzc29yL1BvcE1lc3NhZ2VQcm9jZXNzb3IuamF2YQ==) | `38.03% <0.00%> (-0.14%)` | :arrow_down: |\n| [.../transaction/queue/TransactionalMessageBridge.java](https://codecov.io/gh/apache/rocketmq/pull/5397/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvdHJhbnNhY3Rpb24vcXVldWUvVHJhbnNhY3Rpb25hbE1lc3NhZ2VCcmlkZ2UuamF2YQ==) | `74.03% <0.00%> (-2.54%)` | :arrow_down: |\n| [...apache/rocketmq/common/message/MessageDecoder.java](https://codecov.io/gh/apache/rocketmq/pull/5397/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vbWVzc2FnZS9NZXNzYWdlRGVjb2Rlci5qYXZh) | `62.70% <ø> (ø)` | |\n| [...ache/rocketmq/common/utils/CleanupPolicyUtils.java](https://codecov.io/gh/apache/rocketmq/pull/5397/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vdXRpbHMvQ2xlYW51cFBvbGljeVV0aWxzLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...va/org/apache/rocketmq/namesrv/NamesrvStartup.java](https://codecov.io/gh/apache/rocketmq/pull/5397/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bmFtZXNydi9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvbmFtZXNydi9OYW1lc3J2U3RhcnR1cC5qYXZh) | `15.83% <0.00%> (-0.14%)` | :arrow_down: |\n| [...org/apache/rocketmq/store/AppendMessageResult.java](https://codecov.io/gh/apache/rocketmq/pull/5397/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL0FwcGVuZE1lc3NhZ2VSZXN1bHQuamF2YQ==) | `63.63% <0.00%> (-3.04%)` | :arrow_down: |\n| [...ava/org/apache/rocketmq/store/MappedFileQueue.java](https://codecov.io/gh/apache/rocketmq/pull/5397/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL01hcHBlZEZpbGVRdWV1ZS5qYXZh) | `61.11% <0.00%> (-2.41%)` | :arrow_down: |\n| ... and [48 more](https://codecov.io/gh/apache/rocketmq/pull/5397/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1289950110/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1290196262","html_url":"https://github.com/apache/rocketmq/issues/5337#issuecomment-1290196262","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5337","id":1290196262,"node_id":"IC_kwDOBHrsl85M5tUm","user":{"login":"drpmma","id":20906038,"node_id":"MDQ6VXNlcjIwOTA2MDM4","avatar_url":"https://avatars.githubusercontent.com/u/20906038?v=4","gravatar_id":"","url":"https://api.github.com/users/drpmma","html_url":"https://github.com/drpmma","followers_url":"https://api.github.com/users/drpmma/followers","following_url":"https://api.github.com/users/drpmma/following{/other_user}","gists_url":"https://api.github.com/users/drpmma/gists{/gist_id}","starred_url":"https://api.github.com/users/drpmma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drpmma/subscriptions","organizations_url":"https://api.github.com/users/drpmma/orgs","repos_url":"https://api.github.com/users/drpmma/repos","events_url":"https://api.github.com/users/drpmma/events{/privacy}","received_events_url":"https://api.github.com/users/drpmma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-25T08:39:37Z","updated_at":"2022-10-25T08:39:37Z","author_association":"CONTRIBUTOR","body":"Hi, I will close this issue and related pr for now, you can reopen it if necessary.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1290196262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1290196332","html_url":"https://github.com/apache/rocketmq/pull/5338#issuecomment-1290196332","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5338","id":1290196332,"node_id":"IC_kwDOBHrsl85M5tVs","user":{"login":"drpmma","id":20906038,"node_id":"MDQ6VXNlcjIwOTA2MDM4","avatar_url":"https://avatars.githubusercontent.com/u/20906038?v=4","gravatar_id":"","url":"https://api.github.com/users/drpmma","html_url":"https://github.com/drpmma","followers_url":"https://api.github.com/users/drpmma/followers","following_url":"https://api.github.com/users/drpmma/following{/other_user}","gists_url":"https://api.github.com/users/drpmma/gists{/gist_id}","starred_url":"https://api.github.com/users/drpmma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drpmma/subscriptions","organizations_url":"https://api.github.com/users/drpmma/orgs","repos_url":"https://api.github.com/users/drpmma/repos","events_url":"https://api.github.com/users/drpmma/events{/privacy}","received_events_url":"https://api.github.com/users/drpmma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-25T08:39:40Z","updated_at":"2022-10-25T08:39:40Z","author_association":"CONTRIBUTOR","body":"Hi, I will close this issue and related pr for now, you can reopen it if necessary.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1290196332/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1290197952","html_url":"https://github.com/apache/rocketmq/issues/5395#issuecomment-1290197952","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5395","id":1290197952,"node_id":"IC_kwDOBHrsl85M5tvA","user":{"login":"drpmma","id":20906038,"node_id":"MDQ6VXNlcjIwOTA2MDM4","avatar_url":"https://avatars.githubusercontent.com/u/20906038?v=4","gravatar_id":"","url":"https://api.github.com/users/drpmma","html_url":"https://github.com/drpmma","followers_url":"https://api.github.com/users/drpmma/followers","following_url":"https://api.github.com/users/drpmma/following{/other_user}","gists_url":"https://api.github.com/users/drpmma/gists{/gist_id}","starred_url":"https://api.github.com/users/drpmma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drpmma/subscriptions","organizations_url":"https://api.github.com/users/drpmma/orgs","repos_url":"https://api.github.com/users/drpmma/repos","events_url":"https://api.github.com/users/drpmma/events{/privacy}","received_events_url":"https://api.github.com/users/drpmma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-25T08:40:59Z","updated_at":"2022-10-25T08:40:59Z","author_association":"CONTRIBUTOR","body":"What is the proxy here? The proxy in rocketmq 5.0 or your own proxy.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1290197952/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1291389914","html_url":"https://github.com/apache/rocketmq/issues/5356#issuecomment-1291389914","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5356","id":1291389914,"node_id":"IC_kwDOBHrsl85M-Qva","user":{"login":"azhsmesos","id":65518067,"node_id":"MDQ6VXNlcjY1NTE4MDY3","avatar_url":"https://avatars.githubusercontent.com/u/65518067?v=4","gravatar_id":"","url":"https://api.github.com/users/azhsmesos","html_url":"https://github.com/azhsmesos","followers_url":"https://api.github.com/users/azhsmesos/followers","following_url":"https://api.github.com/users/azhsmesos/following{/other_user}","gists_url":"https://api.github.com/users/azhsmesos/gists{/gist_id}","starred_url":"https://api.github.com/users/azhsmesos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/azhsmesos/subscriptions","organizations_url":"https://api.github.com/users/azhsmesos/orgs","repos_url":"https://api.github.com/users/azhsmesos/repos","events_url":"https://api.github.com/users/azhsmesos/events{/privacy}","received_events_url":"https://api.github.com/users/azhsmesos/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-26T02:00:24Z","updated_at":"2022-10-26T02:00:24Z","author_association":"CONTRIBUTOR","body":"May I ask if all the development has been completed？","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1291389914/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1291619501","html_url":"https://github.com/apache/rocketmq/pull/5357#issuecomment-1291619501","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5357","id":1291619501,"node_id":"IC_kwDOBHrsl85M_Iyt","user":{"login":"aaron-ai","id":19537356,"node_id":"MDQ6VXNlcjE5NTM3MzU2","avatar_url":"https://avatars.githubusercontent.com/u/19537356?v=4","gravatar_id":"","url":"https://api.github.com/users/aaron-ai","html_url":"https://github.com/aaron-ai","followers_url":"https://api.github.com/users/aaron-ai/followers","following_url":"https://api.github.com/users/aaron-ai/following{/other_user}","gists_url":"https://api.github.com/users/aaron-ai/gists{/gist_id}","starred_url":"https://api.github.com/users/aaron-ai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aaron-ai/subscriptions","organizations_url":"https://api.github.com/users/aaron-ai/orgs","repos_url":"https://api.github.com/users/aaron-ai/repos","events_url":"https://api.github.com/users/aaron-ai/events{/privacy}","received_events_url":"https://api.github.com/users/aaron-ai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-26T07:34:02Z","updated_at":"2022-10-26T07:34:02Z","author_association":"MEMBER","body":"Could you add @ShadowySpirits as the co-author ?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1291619501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1291974286","html_url":"https://github.com/apache/rocketmq/pull/5409#issuecomment-1291974286","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5409","id":1291974286,"node_id":"IC_kwDOBHrsl85NAfaO","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-26T12:41:23Z","updated_at":"2022-10-27T08:44:49Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/5409?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#5409](https://codecov.io/gh/apache/rocketmq/pull/5409?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (1866d27) into [develop](https://codecov.io/gh/apache/rocketmq/commit/40013b32e818cf47607e48f9bb0553c14d24d948?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (40013b3) will **increase** coverage by `0.01%`.\n> The diff coverage is `75.00%`.\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #5409      +/-   ##\n=============================================\n+ Coverage      43.14%   43.15%   +0.01%     \n- Complexity      8007     8011       +4     \n=============================================\n  Files           1016     1016              \n  Lines          71499    71569      +70     \n  Branches        9463     9470       +7     \n=============================================\n+ Hits           30846    30888      +42     \n- Misses         36772    36795      +23     \n- Partials        3881     3886       +5     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/5409?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [.../java/org/apache/rocketmq/common/BrokerConfig.java](https://codecov.io/gh/apache/rocketmq/pull/5409/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vQnJva2VyQ29uZmlnLmphdmE=) | `28.24% <25.00%> (-0.05%)` | :arrow_down: |\n| [...he/rocketmq/broker/processor/PopReviveService.java](https://codecov.io/gh/apache/rocketmq/pull/5409/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvcHJvY2Vzc29yL1BvcFJldml2ZVNlcnZpY2UuamF2YQ==) | `41.47% <87.50%> (+5.33%)` | :arrow_up: |\n| [...ketmq/common/protocol/body/ConsumerConnection.java](https://codecov.io/gh/apache/rocketmq/pull/5409/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vcHJvdG9jb2wvYm9keS9Db25zdW1lckNvbm5lY3Rpb24uamF2YQ==) | `95.83% <0.00%> (-4.17%)` | :arrow_down: |\n| [...apache/rocketmq/remoting/netty/ResponseFuture.java](https://codecov.io/gh/apache/rocketmq/pull/5409/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L1Jlc3BvbnNlRnV0dXJlLmphdmE=) | `77.55% <0.00%> (-4.09%)` | :arrow_down: |\n| [...rocketmq/remoting/netty/NettyRemotingAbstract.java](https://codecov.io/gh/apache/rocketmq/pull/5409/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L05ldHR5UmVtb3RpbmdBYnN0cmFjdC5qYXZh) | `49.27% <0.00%> (-3.63%)` | :arrow_down: |\n| [...mq/client/impl/consumer/RebalanceLitePullImpl.java](https://codecov.io/gh/apache/rocketmq/pull/5409/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9SZWJhbGFuY2VMaXRlUHVsbEltcGwuamF2YQ==) | `69.86% <0.00%> (-1.37%)` | :arrow_down: |\n| [...a/org/apache/rocketmq/store/StoreStatsService.java](https://codecov.io/gh/apache/rocketmq/pull/5409/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL1N0b3JlU3RhdHNTZXJ2aWNlLmphdmE=) | `34.53% <0.00%> (-1.11%)` | :arrow_down: |\n| [...ava/org/apache/rocketmq/store/index/IndexFile.java](https://codecov.io/gh/apache/rocketmq/pull/5409/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL2luZGV4L0luZGV4RmlsZS5qYXZh) | `73.68% <0.00%> (-0.88%)` | :arrow_down: |\n| [...che/rocketmq/acl/plain/PlainPermissionManager.java](https://codecov.io/gh/apache/rocketmq/pull/5409/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YWNsL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9hY2wvcGxhaW4vUGxhaW5QZXJtaXNzaW9uTWFuYWdlci5qYXZh) | `78.22% <0.00%> (-0.54%)` | :arrow_down: |\n| [...he/rocketmq/controller/impl/DLedgerController.java](https://codecov.io/gh/apache/rocketmq/pull/5409/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvY29udHJvbGxlci9pbXBsL0RMZWRnZXJDb250cm9sbGVyLmphdmE=) | `65.96% <0.00%> (-0.53%)` | :arrow_down: |\n| ... and [17 more](https://codecov.io/gh/apache/rocketmq/pull/5409/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1291974286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1293036042","html_url":"https://github.com/apache/rocketmq/pull/5411#issuecomment-1293036042","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5411","id":1293036042,"node_id":"IC_kwDOBHrsl85NEioK","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-27T06:04:03Z","updated_at":"2022-10-27T06:04:03Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/5411?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#5411](https://codecov.io/gh/apache/rocketmq/pull/5411?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (a148735) into [develop](https://codecov.io/gh/apache/rocketmq/commit/a7c1d49454ce405fc651f95d036571d91bd8c9e0?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (a7c1d49) will **decrease** coverage by `0.07%`.\n> The diff coverage is `0.00%`.\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #5411      +/-   ##\n=============================================\n- Coverage      43.18%   43.11%   -0.08%     \n+ Complexity      8009     7998      -11     \n=============================================\n  Files           1016     1016              \n  Lines          71535    71532       -3     \n  Branches        9467     9466       -1     \n=============================================\n- Hits           30891    30838      -53     \n- Misses         36751    36799      +48     \n- Partials        3893     3895       +2     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/5411?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [.../transaction/queue/TransactionalMessageBridge.java](https://codecov.io/gh/apache/rocketmq/pull/5411/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvdHJhbnNhY3Rpb24vcXVldWUvVHJhbnNhY3Rpb25hbE1lc3NhZ2VCcmlkZ2UuamF2YQ==) | `75.28% <0.00%> (+1.24%)` | :arrow_up: |\n| [...org/apache/rocketmq/common/stats/StatsItemSet.java](https://codecov.io/gh/apache/rocketmq/pull/5411/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vc3RhdHMvU3RhdHNJdGVtU2V0LmphdmE=) | `41.79% <0.00%> (-8.96%)` | :arrow_down: |\n| [...org/apache/rocketmq/store/ha/WaitNotifyObject.java](https://codecov.io/gh/apache/rocketmq/pull/5411/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL2hhL1dhaXROb3RpZnlPYmplY3QuamF2YQ==) | `80.35% <0.00%> (-5.36%)` | :arrow_down: |\n| [...apache/rocketmq/remoting/netty/ResponseFuture.java](https://codecov.io/gh/apache/rocketmq/pull/5411/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L1Jlc3BvbnNlRnV0dXJlLmphdmE=) | `77.55% <0.00%> (-4.09%)` | :arrow_down: |\n| [...xy/service/transaction/TransactionDataManager.java](https://codecov.io/gh/apache/rocketmq/pull/5411/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cHJveHkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3Byb3h5L3NlcnZpY2UvdHJhbnNhY3Rpb24vVHJhbnNhY3Rpb25EYXRhTWFuYWdlci5qYXZh) | `79.72% <0.00%> (-4.06%)` | :arrow_down: |\n| [...rocketmq/remoting/netty/NettyRemotingAbstract.java](https://codecov.io/gh/apache/rocketmq/pull/5411/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L05ldHR5UmVtb3RpbmdBYnN0cmFjdC5qYXZh) | `49.27% <0.00%> (-3.63%)` | :arrow_down: |\n| [...a/org/apache/rocketmq/broker/BrokerController.java](https://codecov.io/gh/apache/rocketmq/pull/5411/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvQnJva2VyQ29udHJvbGxlci5qYXZh) | `43.81% <0.00%> (-2.23%)` | :arrow_down: |\n| [.../org/apache/rocketmq/store/ha/DefaultHAClient.java](https://codecov.io/gh/apache/rocketmq/pull/5411/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL2hhL0RlZmF1bHRIQUNsaWVudC5qYXZh) | `58.97% <0.00%> (-2.06%)` | :arrow_down: |\n| [...ava/org/apache/rocketmq/filter/util/BitsArray.java](https://codecov.io/gh/apache/rocketmq/pull/5411/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZmlsdGVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9maWx0ZXIvdXRpbC9CaXRzQXJyYXkuamF2YQ==) | `58.11% <0.00%> (-1.71%)` | :arrow_down: |\n| [...ache/rocketmq/broker/client/ConsumerGroupInfo.java](https://codecov.io/gh/apache/rocketmq/pull/5411/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvY2xpZW50L0NvbnN1bWVyR3JvdXBJbmZvLmphdmE=) | `68.46% <0.00%> (-0.91%)` | :arrow_down: |\n| ... and [11 more](https://codecov.io/gh/apache/rocketmq/pull/5411/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1293036042/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1293121125","html_url":"https://github.com/apache/rocketmq/issues/5408#issuecomment-1293121125","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5408","id":1293121125,"node_id":"IC_kwDOBHrsl85NE3Zl","user":{"login":"lizhanhui","id":641819,"node_id":"MDQ6VXNlcjY0MTgxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/641819?v=4","gravatar_id":"","url":"https://api.github.com/users/lizhanhui","html_url":"https://github.com/lizhanhui","followers_url":"https://api.github.com/users/lizhanhui/followers","following_url":"https://api.github.com/users/lizhanhui/following{/other_user}","gists_url":"https://api.github.com/users/lizhanhui/gists{/gist_id}","starred_url":"https://api.github.com/users/lizhanhui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lizhanhui/subscriptions","organizations_url":"https://api.github.com/users/lizhanhui/orgs","repos_url":"https://api.github.com/users/lizhanhui/repos","events_url":"https://api.github.com/users/lizhanhui/events{/privacy}","received_events_url":"https://api.github.com/users/lizhanhui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-27T07:42:00Z","updated_at":"2022-10-27T07:42:00Z","author_association":"CONTRIBUTOR","body":"Nice catch","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1293121125/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1293147509","html_url":"https://github.com/apache/rocketmq/issues/5365#issuecomment-1293147509","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5365","id":1293147509,"node_id":"IC_kwDOBHrsl85NE911","user":{"login":"lizhanhui","id":641819,"node_id":"MDQ6VXNlcjY0MTgxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/641819?v=4","gravatar_id":"","url":"https://api.github.com/users/lizhanhui","html_url":"https://github.com/lizhanhui","followers_url":"https://api.github.com/users/lizhanhui/followers","following_url":"https://api.github.com/users/lizhanhui/following{/other_user}","gists_url":"https://api.github.com/users/lizhanhui/gists{/gist_id}","starred_url":"https://api.github.com/users/lizhanhui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lizhanhui/subscriptions","organizations_url":"https://api.github.com/users/lizhanhui/orgs","repos_url":"https://api.github.com/users/lizhanhui/repos","events_url":"https://api.github.com/users/lizhanhui/events{/privacy}","received_events_url":"https://api.github.com/users/lizhanhui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-27T08:06:09Z","updated_at":"2022-10-27T08:06:09Z","author_association":"CONTRIBUTOR","body":"> We can use an in-memory timer to record the time at which the lock is released. When the time is up, check to see if there is a message that can be pulled and if so, wake up the pending long polling request.\r\n\r\nI do not see the reason why an in-memory timer is required. Once a previous pop request that holds the lock completes, why not simply dispatch a task to check if there is an await pop request held in the chain... On the completion of on request, fire a second in consecutive. ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1293147509/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1293157550","html_url":"https://github.com/apache/rocketmq/pull/5387#issuecomment-1293157550","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5387","id":1293157550,"node_id":"IC_kwDOBHrsl85NFASu","user":{"login":"lizhanhui","id":641819,"node_id":"MDQ6VXNlcjY0MTgxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/641819?v=4","gravatar_id":"","url":"https://api.github.com/users/lizhanhui","html_url":"https://github.com/lizhanhui","followers_url":"https://api.github.com/users/lizhanhui/followers","following_url":"https://api.github.com/users/lizhanhui/following{/other_user}","gists_url":"https://api.github.com/users/lizhanhui/gists{/gist_id}","starred_url":"https://api.github.com/users/lizhanhui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lizhanhui/subscriptions","organizations_url":"https://api.github.com/users/lizhanhui/orgs","repos_url":"https://api.github.com/users/lizhanhui/repos","events_url":"https://api.github.com/users/lizhanhui/events{/privacy}","received_events_url":"https://api.github.com/users/lizhanhui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-27T08:14:33Z","updated_at":"2022-10-27T08:14:33Z","author_association":"CONTRIBUTOR","body":"> We can use an in-memory timer to record the time at which the lock is released. When the time is up, check to see if there is a message that can be pulled and if so, wake up the pending long polling request.\r\n\r\nI do not see the reason why an in-memory timer is required. Once a previous pop request that holds the lock completes, why not simply dispatch a task to check if there is an await pop request held in the chain... On the completion of on request, fire a second in consecutive. ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1293157550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1293203407","html_url":"https://github.com/apache/rocketmq/pull/5387#issuecomment-1293203407","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5387","id":1293203407,"node_id":"IC_kwDOBHrsl85NFLfP","user":{"login":"xdkxlk","id":10397306,"node_id":"MDQ6VXNlcjEwMzk3MzA2","avatar_url":"https://avatars.githubusercontent.com/u/10397306?v=4","gravatar_id":"","url":"https://api.github.com/users/xdkxlk","html_url":"https://github.com/xdkxlk","followers_url":"https://api.github.com/users/xdkxlk/followers","following_url":"https://api.github.com/users/xdkxlk/following{/other_user}","gists_url":"https://api.github.com/users/xdkxlk/gists{/gist_id}","starred_url":"https://api.github.com/users/xdkxlk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xdkxlk/subscriptions","organizations_url":"https://api.github.com/users/xdkxlk/orgs","repos_url":"https://api.github.com/users/xdkxlk/repos","events_url":"https://api.github.com/users/xdkxlk/events{/privacy}","received_events_url":"https://api.github.com/users/xdkxlk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-27T08:52:49Z","updated_at":"2022-10-27T08:52:49Z","author_association":"CONTRIBUTOR","body":"> \r\n\r\n\r\n\r\n> > We can use an in-memory timer to record the time at which the lock is released. When the time is up, check to see if there is a message that can be pulled and if so, wake up the pending long polling request.\r\n> \r\n> I do not see the reason why an in-memory timer is required. Once a previous pop request that holds the lock completes, why not simply dispatch a task to check if there is an await pop request held in the chain... On the completion of on request, fire a second in consecutive.\r\n\r\nFor example:\r\nIf we pop one message orderly (invisible time is 5s) and not ack this message, we expect re-consume this message 5s later. Then we send a new pop request with the 30s long polling timeout. If wait this request timeout, the message will delay 25s to be re-consumed, so we need a timer to wake up this long polling request after 5s.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1293203407/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1293209677","html_url":"https://github.com/apache/rocketmq/pull/5407#issuecomment-1293209677","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5407","id":1293209677,"node_id":"IC_kwDOBHrsl85NFNBN","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-27T08:58:26Z","updated_at":"2024-09-26T01:24:26Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/rocketmq/pull/5407?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\nAttention: Patch coverage is `20.37915%` with `168 lines` in your changes missing coverage. Please review.\n> Project coverage is 43.09%. Comparing base [(`a7c1d49`)](https://app.codecov.io/gh/apache/rocketmq/commit/a7c1d49454ce405fc651f95d036571d91bd8c9e0?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) to head [(`a9036c9`)](https://app.codecov.io/gh/apache/rocketmq/commit/a9036c95ff5568941ebd43424c4105540b1f8d70?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n> Report is 1066 commits behind head on develop.\n\n| [Files with missing lines](https://app.codecov.io/gh/apache/rocketmq/pull/5407?dropdown=coverage&src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Patch % | Lines |\n|---|---|---|\n| [...he/rocketmq/proxy/metrics/ProxyMetricsManager.java](https://app.codecov.io/gh/apache/rocketmq/pull/5407?src=pr&el=tree&filepath=proxy%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Frocketmq%2Fproxy%2Fmetrics%2FProxyMetricsManager.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cHJveHkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3Byb3h5L21ldHJpY3MvUHJveHlNZXRyaWNzTWFuYWdlci5qYXZh) | 18.51% | [88 Missing :warning: ](https://app.codecov.io/gh/apache/rocketmq/pull/5407?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [.../org/apache/rocketmq/proxy/config/ProxyConfig.java](https://app.codecov.io/gh/apache/rocketmq/pull/5407?src=pr&el=tree&filepath=proxy%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Frocketmq%2Fproxy%2Fconfig%2FProxyConfig.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cHJveHkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3Byb3h5L2NvbmZpZy9Qcm94eUNvbmZpZy5qYXZh) | 28.30% | [37 Missing and 1 partial :warning: ](https://app.codecov.io/gh/apache/rocketmq/pull/5407?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [.../rocketmq/broker/metrics/BrokerMetricsManager.java](https://app.codecov.io/gh/apache/rocketmq/pull/5407?src=pr&el=tree&filepath=broker%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Frocketmq%2Fbroker%2Fmetrics%2FBrokerMetricsManager.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvbWV0cmljcy9Ccm9rZXJNZXRyaWNzTWFuYWdlci5qYXZh) | 7.14% | [26 Missing :warning: ](https://app.codecov.io/gh/apache/rocketmq/pull/5407?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [.../java/org/apache/rocketmq/common/BrokerConfig.java](https://app.codecov.io/gh/apache/rocketmq/pull/5407?src=pr&el=tree&filepath=common%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Frocketmq%2Fcommon%2FBrokerConfig.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vQnJva2VyQ29uZmlnLmphdmE=) | 17.64% | [14 Missing :warning: ](https://app.codecov.io/gh/apache/rocketmq/pull/5407?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...a/org/apache/rocketmq/broker/BrokerController.java](https://app.codecov.io/gh/apache/rocketmq/pull/5407?src=pr&el=tree&filepath=broker%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Frocketmq%2Fbroker%2FBrokerController.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvQnJva2VyQ29udHJvbGxlci5qYXZh) | 0.00% | [1 Missing :warning: ](https://app.codecov.io/gh/apache/rocketmq/pull/5407?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...e/rocketmq/proxy/metrics/ProxyMetricsConstant.java](https://app.codecov.io/gh/apache/rocketmq/pull/5407?src=pr&el=tree&filepath=proxy%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Frocketmq%2Fproxy%2Fmetrics%2FProxyMetricsConstant.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cHJveHkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3Byb3h5L21ldHJpY3MvUHJveHlNZXRyaWNzQ29uc3RhbnQuamF2YQ==) | 0.00% | [1 Missing :warning: ](https://app.codecov.io/gh/apache/rocketmq/pull/5407?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n\n<details><summary>Additional details and impacted files</summary>\n\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #5407      +/-   ##\n=============================================\n- Coverage      43.18%   43.09%   -0.09%     \n- Complexity      8009     8024      +15     \n=============================================\n  Files           1016     1020       +4     \n  Lines          71535    71861     +326     \n  Branches        9467     9517      +50     \n=============================================\n+ Hits           30891    30971      +80     \n- Misses         36751    36966     +215     \n- Partials        3893     3924      +31     \n```\n\n</details>\n\n[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/apache/rocketmq/pull/5407?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).   \n:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1293209677/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1293227791","html_url":"https://github.com/apache/rocketmq/pull/5387#issuecomment-1293227791","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5387","id":1293227791,"node_id":"IC_kwDOBHrsl85NFRcP","user":{"login":"lizhanhui","id":641819,"node_id":"MDQ6VXNlcjY0MTgxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/641819?v=4","gravatar_id":"","url":"https://api.github.com/users/lizhanhui","html_url":"https://github.com/lizhanhui","followers_url":"https://api.github.com/users/lizhanhui/followers","following_url":"https://api.github.com/users/lizhanhui/following{/other_user}","gists_url":"https://api.github.com/users/lizhanhui/gists{/gist_id}","starred_url":"https://api.github.com/users/lizhanhui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lizhanhui/subscriptions","organizations_url":"https://api.github.com/users/lizhanhui/orgs","repos_url":"https://api.github.com/users/lizhanhui/repos","events_url":"https://api.github.com/users/lizhanhui/events{/privacy}","received_events_url":"https://api.github.com/users/lizhanhui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-27T09:13:38Z","updated_at":"2022-10-27T09:13:38Z","author_association":"CONTRIBUTOR","body":"> > \r\n> \r\n> > > We can use an in-memory timer to record the time at which the lock is released. When the time is up, check to see if there is a message that can be pulled and if so, wake up the pending long polling request.\r\n> > \r\n> > \r\n> > I do not see the reason why an in-memory timer is required. Once a previous pop request that holds the lock completes, why not simply dispatch a task to check if there is an await pop request held in the chain... On the completion of on request, fire a second in consecutive.\r\n> \r\n> For example: If we pop one message orderly (invisible time is 5s) and not ack this message, we expect re-consume this message 5s later. Then we send a new pop request with the 30s long polling timeout. If wait this request timeout, the message will delay 25s to be re-consumed, so we need a timer to wake up this long polling request after 5s.\r\n\r\nI mean, in your given example, can the state change(timeout of the popped message) itself act as the trigger? ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1293227791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1293436339","html_url":"https://github.com/apache/rocketmq/issues/5404#issuecomment-1293436339","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5404","id":1293436339,"node_id":"IC_kwDOBHrsl85NGEWz","user":{"login":"labazhou2018","id":38873832,"node_id":"MDQ6VXNlcjM4ODczODMy","avatar_url":"https://avatars.githubusercontent.com/u/38873832?v=4","gravatar_id":"","url":"https://api.github.com/users/labazhou2018","html_url":"https://github.com/labazhou2018","followers_url":"https://api.github.com/users/labazhou2018/followers","following_url":"https://api.github.com/users/labazhou2018/following{/other_user}","gists_url":"https://api.github.com/users/labazhou2018/gists{/gist_id}","starred_url":"https://api.github.com/users/labazhou2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/labazhou2018/subscriptions","organizations_url":"https://api.github.com/users/labazhou2018/orgs","repos_url":"https://api.github.com/users/labazhou2018/repos","events_url":"https://api.github.com/users/labazhou2018/events{/privacy}","received_events_url":"https://api.github.com/users/labazhou2018/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-27T12:13:38Z","updated_at":"2022-10-27T12:13:38Z","author_association":"CONTRIBUTOR","body":"Maybe the  variable `whichItemWorst`  name is ambiguous. i think. The method `LatencyFaultToleranceImpl#pickOneAtLeast` select one  broker from `faultItemTable` for current thread, because the client will retry send messages if send fail.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1293436339/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1293456733","html_url":"https://github.com/apache/rocketmq/issues/5400#issuecomment-1293456733","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5400","id":1293456733,"node_id":"IC_kwDOBHrsl85NGJVd","user":{"login":"labazhou2018","id":38873832,"node_id":"MDQ6VXNlcjM4ODczODMy","avatar_url":"https://avatars.githubusercontent.com/u/38873832?v=4","gravatar_id":"","url":"https://api.github.com/users/labazhou2018","html_url":"https://github.com/labazhou2018","followers_url":"https://api.github.com/users/labazhou2018/followers","following_url":"https://api.github.com/users/labazhou2018/following{/other_user}","gists_url":"https://api.github.com/users/labazhou2018/gists{/gist_id}","starred_url":"https://api.github.com/users/labazhou2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/labazhou2018/subscriptions","organizations_url":"https://api.github.com/users/labazhou2018/orgs","repos_url":"https://api.github.com/users/labazhou2018/repos","events_url":"https://api.github.com/users/labazhou2018/events{/privacy}","received_events_url":"https://api.github.com/users/labazhou2018/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-27T12:31:19Z","updated_at":"2022-10-27T12:31:19Z","author_association":"CONTRIBUTOR","body":"The master's node maybe more than 1, and you only delete 1 in your cluster. ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1293456733/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1293463380","html_url":"https://github.com/apache/rocketmq/issues/5396#issuecomment-1293463380","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5396","id":1293463380,"node_id":"IC_kwDOBHrsl85NGK9U","user":{"login":"labazhou2018","id":38873832,"node_id":"MDQ6VXNlcjM4ODczODMy","avatar_url":"https://avatars.githubusercontent.com/u/38873832?v=4","gravatar_id":"","url":"https://api.github.com/users/labazhou2018","html_url":"https://github.com/labazhou2018","followers_url":"https://api.github.com/users/labazhou2018/followers","following_url":"https://api.github.com/users/labazhou2018/following{/other_user}","gists_url":"https://api.github.com/users/labazhou2018/gists{/gist_id}","starred_url":"https://api.github.com/users/labazhou2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/labazhou2018/subscriptions","organizations_url":"https://api.github.com/users/labazhou2018/orgs","repos_url":"https://api.github.com/users/labazhou2018/repos","events_url":"https://api.github.com/users/labazhou2018/events{/privacy}","received_events_url":"https://api.github.com/users/labazhou2018/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-27T12:37:04Z","updated_at":"2022-10-27T12:37:04Z","author_association":"CONTRIBUTOR","body":"Maybe there are no ways . In `MQAdminExt` interface , no method slove your problem.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1293463380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1294416329","html_url":"https://github.com/apache/rocketmq/pull/5387#issuecomment-1294416329","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5387","id":1294416329,"node_id":"IC_kwDOBHrsl85NJznJ","user":{"login":"xdkxlk","id":10397306,"node_id":"MDQ6VXNlcjEwMzk3MzA2","avatar_url":"https://avatars.githubusercontent.com/u/10397306?v=4","gravatar_id":"","url":"https://api.github.com/users/xdkxlk","html_url":"https://github.com/xdkxlk","followers_url":"https://api.github.com/users/xdkxlk/followers","following_url":"https://api.github.com/users/xdkxlk/following{/other_user}","gists_url":"https://api.github.com/users/xdkxlk/gists{/gist_id}","starred_url":"https://api.github.com/users/xdkxlk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xdkxlk/subscriptions","organizations_url":"https://api.github.com/users/xdkxlk/orgs","repos_url":"https://api.github.com/users/xdkxlk/repos","events_url":"https://api.github.com/users/xdkxlk/events{/privacy}","received_events_url":"https://api.github.com/users/xdkxlk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T03:50:15Z","updated_at":"2022-10-28T03:50:15Z","author_association":"CONTRIBUTOR","body":"> \r\n\r\n\r\n\r\n> > > \r\n> > \r\n> > \r\n> > > > We can use an in-memory timer to record the time at which the lock is released. When the time is up, check to see if there is a message that can be pulled and if so, wake up the pending long polling request.\r\n> > > \r\n> > > \r\n> > > I do not see the reason why an in-memory timer is required. Once a previous pop request that holds the lock completes, why not simply dispatch a task to check if there is an await pop request held in the chain... On the completion of on request, fire a second in consecutive.\r\n> > \r\n> > \r\n> > For example: If we pop one message orderly (invisible time is 5s) and not ack this message, we expect re-consume this message 5s later. Then we send a new pop request with the 30s long polling timeout. If wait this request timeout, the message will delay 25s to be re-consumed, so we need a timer to wake up this long polling request after 5s.\r\n> \r\n> I mean, in your given example, can the state change(timeout of the popped message) itself act as the trigger?\r\n\r\nNot like pop normally, there isn't a timed ck message for pop orderly\r\nIf we change the state of popped message to a timed message, we still need a in-memory buffer to prevent there are too many timed message needed put into store, like PopBufferMergeService\r\nMeanwhile for pop orderly, the locking time is generally not very long, so the in-memory timer is enough","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1294416329/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1294488981","html_url":"https://github.com/apache/rocketmq/pull/5416#issuecomment-1294488981","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5416","id":1294488981,"node_id":"IC_kwDOBHrsl85NKFWV","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T05:44:09Z","updated_at":"2022-10-28T05:44:09Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/5416?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#5416](https://codecov.io/gh/apache/rocketmq/pull/5416?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (c51b99f) into [develop](https://codecov.io/gh/apache/rocketmq/commit/4ba8aa238d8cd7104cdc1119d0f35514fb47cfc2?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (4ba8aa2) will **decrease** coverage by `0.03%`.\n> The diff coverage is `0.00%`.\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #5416      +/-   ##\n=============================================\n- Coverage      43.17%   43.13%   -0.04%     \n+ Complexity      8046     8038       -8     \n=============================================\n  Files           1020     1020              \n  Lines          71892    71887       -5     \n  Branches        9519     9519              \n=============================================\n- Hits           31039    31011      -28     \n- Misses         36946    36960      +14     \n- Partials        3907     3916       +9     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/5416?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [.../transaction/queue/TransactionalMessageBridge.java](https://codecov.io/gh/apache/rocketmq/pull/5416/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvdHJhbnNhY3Rpb24vcXVldWUvVHJhbnNhY3Rpb25hbE1lc3NhZ2VCcmlkZ2UuamF2YQ==) | `72.06% <0.00%> (-0.22%)` | :arrow_down: |\n| [...apache/rocketmq/broker/longpolling/PopRequest.java](https://codecov.io/gh/apache/rocketmq/pull/5416/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvbG9uZ3BvbGxpbmcvUG9wUmVxdWVzdC5qYXZh) | `31.03% <0.00%> (-13.80%)` | :arrow_down: |\n| [...org/apache/rocketmq/common/stats/StatsItemSet.java](https://codecov.io/gh/apache/rocketmq/pull/5416/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vc3RhdHMvU3RhdHNJdGVtU2V0LmphdmE=) | `41.79% <0.00%> (-8.96%)` | :arrow_down: |\n| [.../org/apache/rocketmq/store/ha/DefaultHAClient.java](https://codecov.io/gh/apache/rocketmq/pull/5416/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL2hhL0RlZmF1bHRIQUNsaWVudC5qYXZh) | `58.97% <0.00%> (-2.57%)` | :arrow_down: |\n| [...a/org/apache/rocketmq/filter/util/BloomFilter.java](https://codecov.io/gh/apache/rocketmq/pull/5416/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZmlsdGVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9maWx0ZXIvdXRpbC9CbG9vbUZpbHRlci5qYXZh) | `60.43% <0.00%> (-2.20%)` | :arrow_down: |\n| [...he/rocketmq/client/trace/AsyncTraceDispatcher.java](https://codecov.io/gh/apache/rocketmq/pull/5416/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvdHJhY2UvQXN5bmNUcmFjZURpc3BhdGNoZXIuamF2YQ==) | `82.21% <0.00%> (-1.45%)` | :arrow_down: |\n| [...ache/rocketmq/broker/client/ConsumerGroupInfo.java](https://codecov.io/gh/apache/rocketmq/pull/5416/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvY2xpZW50L0NvbnN1bWVyR3JvdXBJbmZvLmphdmE=) | `68.46% <0.00%> (-0.91%)` | :arrow_down: |\n| [...ava/org/apache/rocketmq/store/index/IndexFile.java](https://codecov.io/gh/apache/rocketmq/pull/5416/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL2luZGV4L0luZGV4RmlsZS5qYXZh) | `73.68% <0.00%> (-0.88%)` | :arrow_down: |\n| [...ent/impl/consumer/DefaultLitePullConsumerImpl.java](https://codecov.io/gh/apache/rocketmq/pull/5416/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9EZWZhdWx0TGl0ZVB1bGxDb25zdW1lckltcGwuamF2YQ==) | `68.38% <0.00%> (-0.47%)` | :arrow_down: |\n| [...main/java/org/apache/rocketmq/store/CommitLog.java](https://codecov.io/gh/apache/rocketmq/pull/5416/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL0NvbW1pdExvZy5qYXZh) | `65.28% <0.00%> (-0.21%)` | :arrow_down: |\n| ... and [7 more](https://codecov.io/gh/apache/rocketmq/pull/5416/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1294488981/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1294834731","html_url":"https://github.com/apache/rocketmq/issues/5417#issuecomment-1294834731","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5417","id":1294834731,"node_id":"IC_kwDOBHrsl85NLZwr","user":{"login":"xiaobing395845388","id":17471464,"node_id":"MDQ6VXNlcjE3NDcxNDY0","avatar_url":"https://avatars.githubusercontent.com/u/17471464?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaobing395845388","html_url":"https://github.com/xiaobing395845388","followers_url":"https://api.github.com/users/xiaobing395845388/followers","following_url":"https://api.github.com/users/xiaobing395845388/following{/other_user}","gists_url":"https://api.github.com/users/xiaobing395845388/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaobing395845388/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaobing395845388/subscriptions","organizations_url":"https://api.github.com/users/xiaobing395845388/orgs","repos_url":"https://api.github.com/users/xiaobing395845388/repos","events_url":"https://api.github.com/users/xiaobing395845388/events{/privacy}","received_events_url":"https://api.github.com/users/xiaobing395845388/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T10:36:11Z","updated_at":"2022-10-28T10:36:11Z","author_association":"NONE","body":"in this case,consumeThreadMin work as coresize, and consumeThreadMax does work and my cause oom error in high flow","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1294834731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1294864092","html_url":"https://github.com/apache/rocketmq/issues/5038#issuecomment-1294864092","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5038","id":1294864092,"node_id":"IC_kwDOBHrsl85NLg7c","user":{"login":"sunheyi6","id":50973219,"node_id":"MDQ6VXNlcjUwOTczMjE5","avatar_url":"https://avatars.githubusercontent.com/u/50973219?v=4","gravatar_id":"","url":"https://api.github.com/users/sunheyi6","html_url":"https://github.com/sunheyi6","followers_url":"https://api.github.com/users/sunheyi6/followers","following_url":"https://api.github.com/users/sunheyi6/following{/other_user}","gists_url":"https://api.github.com/users/sunheyi6/gists{/gist_id}","starred_url":"https://api.github.com/users/sunheyi6/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sunheyi6/subscriptions","organizations_url":"https://api.github.com/users/sunheyi6/orgs","repos_url":"https://api.github.com/users/sunheyi6/repos","events_url":"https://api.github.com/users/sunheyi6/events{/privacy}","received_events_url":"https://api.github.com/users/sunheyi6/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T11:08:17Z","updated_at":"2022-10-28T11:08:17Z","author_association":"NONE","body":"> Markdown is a lightweight markup language for creating formatted text, but there are various implementations.\r\n> \r\n> To unify the specs of our docs, a markdown lint workflow is essential. An example could be referred here: https://github.com/apache/rocketmq-clients/blob/master/.github/workflows/markdown_lint.yml\r\n\r\njust copy this file?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1294864092/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1294990658","html_url":"https://github.com/apache/rocketmq/issues/5417#issuecomment-1294990658","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5417","id":1294990658,"node_id":"IC_kwDOBHrsl85NL_1C","user":{"login":"nowinkeyy","id":72536832,"node_id":"MDQ6VXNlcjcyNTM2ODMy","avatar_url":"https://avatars.githubusercontent.com/u/72536832?v=4","gravatar_id":"","url":"https://api.github.com/users/nowinkeyy","html_url":"https://github.com/nowinkeyy","followers_url":"https://api.github.com/users/nowinkeyy/followers","following_url":"https://api.github.com/users/nowinkeyy/following{/other_user}","gists_url":"https://api.github.com/users/nowinkeyy/gists{/gist_id}","starred_url":"https://api.github.com/users/nowinkeyy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nowinkeyy/subscriptions","organizations_url":"https://api.github.com/users/nowinkeyy/orgs","repos_url":"https://api.github.com/users/nowinkeyy/repos","events_url":"https://api.github.com/users/nowinkeyy/events{/privacy}","received_events_url":"https://api.github.com/users/nowinkeyy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T13:18:15Z","updated_at":"2022-10-28T13:18:15Z","author_association":"CONTRIBUTOR","body":"Hi @xiaobing395845388 ,\r\nIMO, you mean unbounded ```LinkedBlockingQueue```, and ```consumeThreadMax```  is too small resulting in OOM.\r\nMy suggestion is to increase the value of ```consumeThreadMax``` to speed up message processing and decrease the value of ```pullThresholdForQueue``` to reduce the number of messages cached by the client.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1294990658/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1294997391","html_url":"https://github.com/apache/rocketmq/issues/5417#issuecomment-1294997391","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5417","id":1294997391,"node_id":"IC_kwDOBHrsl85NMBeP","user":{"login":"sunheyi6","id":50973219,"node_id":"MDQ6VXNlcjUwOTczMjE5","avatar_url":"https://avatars.githubusercontent.com/u/50973219?v=4","gravatar_id":"","url":"https://api.github.com/users/sunheyi6","html_url":"https://github.com/sunheyi6","followers_url":"https://api.github.com/users/sunheyi6/followers","following_url":"https://api.github.com/users/sunheyi6/following{/other_user}","gists_url":"https://api.github.com/users/sunheyi6/gists{/gist_id}","starred_url":"https://api.github.com/users/sunheyi6/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sunheyi6/subscriptions","organizations_url":"https://api.github.com/users/sunheyi6/orgs","repos_url":"https://api.github.com/users/sunheyi6/repos","events_url":"https://api.github.com/users/sunheyi6/events{/privacy}","received_events_url":"https://api.github.com/users/sunheyi6/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T13:24:28Z","updated_at":"2022-10-28T13:24:28Z","author_association":"NONE","body":"> Hi @xiaobing395845388 , IMO, you mean unbounded `LinkedBlockingQueue`, and `consumeThreadMax` is too small resulting in OOM. My suggestion is to increase the value of `consumeThreadMax` to speed up message processing and decrease the value of `pullThresholdForQueue` to reduce the number of messages cached by the client.\r\n\r\n@xiaobing395845388  Indeed, LinkedBlockingQueue is suitable for situations where producing messages and consuming messages are about the same, and when you produce messages significantly faster than you consume them, it naturally leads to oom","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1294997391/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1295034191","html_url":"https://github.com/apache/rocketmq/issues/5405#issuecomment-1295034191","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5405","id":1295034191,"node_id":"IC_kwDOBHrsl85NMKdP","user":{"login":"sunheyi6","id":50973219,"node_id":"MDQ6VXNlcjUwOTczMjE5","avatar_url":"https://avatars.githubusercontent.com/u/50973219?v=4","gravatar_id":"","url":"https://api.github.com/users/sunheyi6","html_url":"https://github.com/sunheyi6","followers_url":"https://api.github.com/users/sunheyi6/followers","following_url":"https://api.github.com/users/sunheyi6/following{/other_user}","gists_url":"https://api.github.com/users/sunheyi6/gists{/gist_id}","starred_url":"https://api.github.com/users/sunheyi6/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sunheyi6/subscriptions","organizations_url":"https://api.github.com/users/sunheyi6/orgs","repos_url":"https://api.github.com/users/sunheyi6/repos","events_url":"https://api.github.com/users/sunheyi6/events{/privacy}","received_events_url":"https://api.github.com/users/sunheyi6/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T13:57:53Z","updated_at":"2022-10-28T13:57:53Z","author_association":"NONE","body":"Hi, @noseew The background you give is too little to determine what problems are caused, usually it is difficult to troubleshoot occasional bugs, only the stable recurrence of bugs will be easier to solve.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1295034191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1295084787","html_url":"https://github.com/apache/rocketmq/issues/5038#issuecomment-1295084787","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5038","id":1295084787,"node_id":"IC_kwDOBHrsl85NMWzz","user":{"login":"aaron-ai","id":19537356,"node_id":"MDQ6VXNlcjE5NTM3MzU2","avatar_url":"https://avatars.githubusercontent.com/u/19537356?v=4","gravatar_id":"","url":"https://api.github.com/users/aaron-ai","html_url":"https://github.com/aaron-ai","followers_url":"https://api.github.com/users/aaron-ai/followers","following_url":"https://api.github.com/users/aaron-ai/following{/other_user}","gists_url":"https://api.github.com/users/aaron-ai/gists{/gist_id}","starred_url":"https://api.github.com/users/aaron-ai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aaron-ai/subscriptions","organizations_url":"https://api.github.com/users/aaron-ai/orgs","repos_url":"https://api.github.com/users/aaron-ai/repos","events_url":"https://api.github.com/users/aaron-ai/events{/privacy}","received_events_url":"https://api.github.com/users/aaron-ai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T14:41:01Z","updated_at":"2022-10-28T14:46:53Z","author_association":"MEMBER","body":"@shy-share Hi, Thanks your attetion, the existing markdown files are also need to be fixed to pass the markdown-lint check.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1295084787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1295682809","html_url":"https://github.com/apache/rocketmq/issues/5038#issuecomment-1295682809","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5038","id":1295682809,"node_id":"IC_kwDOBHrsl85NOoz5","user":{"login":"sunheyi6","id":50973219,"node_id":"MDQ6VXNlcjUwOTczMjE5","avatar_url":"https://avatars.githubusercontent.com/u/50973219?v=4","gravatar_id":"","url":"https://api.github.com/users/sunheyi6","html_url":"https://github.com/sunheyi6","followers_url":"https://api.github.com/users/sunheyi6/followers","following_url":"https://api.github.com/users/sunheyi6/following{/other_user}","gists_url":"https://api.github.com/users/sunheyi6/gists{/gist_id}","starred_url":"https://api.github.com/users/sunheyi6/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sunheyi6/subscriptions","organizations_url":"https://api.github.com/users/sunheyi6/orgs","repos_url":"https://api.github.com/users/sunheyi6/repos","events_url":"https://api.github.com/users/sunheyi6/events{/privacy}","received_events_url":"https://api.github.com/users/sunheyi6/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-29T01:44:15Z","updated_at":"2022-10-29T01:44:15Z","author_association":"NONE","body":"> @shy-share Hi, Thanks your attetion, the existing markdown files are also need to be fixed to pass the markdown-lint check.\r\n\r\n@aaron-ai  I've learned so far that this is an npn tool that requires a style file, this should be the same as in the link, so just use npn to fix it automatically? Still don't quite understand how it's going to work.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1295682809/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1295686031","html_url":"https://github.com/apache/rocketmq/issues/5038#issuecomment-1295686031","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5038","id":1295686031,"node_id":"IC_kwDOBHrsl85NOpmP","user":{"login":"aaron-ai","id":19537356,"node_id":"MDQ6VXNlcjE5NTM3MzU2","avatar_url":"https://avatars.githubusercontent.com/u/19537356?v=4","gravatar_id":"","url":"https://api.github.com/users/aaron-ai","html_url":"https://github.com/aaron-ai","followers_url":"https://api.github.com/users/aaron-ai/followers","following_url":"https://api.github.com/users/aaron-ai/following{/other_user}","gists_url":"https://api.github.com/users/aaron-ai/gists{/gist_id}","starred_url":"https://api.github.com/users/aaron-ai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aaron-ai/subscriptions","organizations_url":"https://api.github.com/users/aaron-ai/orgs","repos_url":"https://api.github.com/users/aaron-ai/repos","events_url":"https://api.github.com/users/aaron-ai/events{/privacy}","received_events_url":"https://api.github.com/users/aaron-ai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-29T02:02:53Z","updated_at":"2022-10-29T02:02:53Z","author_association":"MEMBER","body":"It seems that markdownlint could fix some basic errors, but not all. markdownlint is more concerned with style checking.\r\n\r\nI'am not sure whether there is some errors you need to fix it manually. anyway, just fix it and pass the check.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1295686031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1295786136","html_url":"https://github.com/apache/rocketmq/issues/5418#issuecomment-1295786136","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5418","id":1295786136,"node_id":"IC_kwDOBHrsl85NPCCY","user":{"login":"kaori-seasons","id":20021404,"node_id":"MDQ6VXNlcjIwMDIxNDA0","avatar_url":"https://avatars.githubusercontent.com/u/20021404?v=4","gravatar_id":"","url":"https://api.github.com/users/kaori-seasons","html_url":"https://github.com/kaori-seasons","followers_url":"https://api.github.com/users/kaori-seasons/followers","following_url":"https://api.github.com/users/kaori-seasons/following{/other_user}","gists_url":"https://api.github.com/users/kaori-seasons/gists{/gist_id}","starred_url":"https://api.github.com/users/kaori-seasons/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaori-seasons/subscriptions","organizations_url":"https://api.github.com/users/kaori-seasons/orgs","repos_url":"https://api.github.com/users/kaori-seasons/repos","events_url":"https://api.github.com/users/kaori-seasons/events{/privacy}","received_events_url":"https://api.github.com/users/kaori-seasons/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-29T09:41:19Z","updated_at":"2022-10-29T09:44:34Z","author_association":"CONTRIBUTOR","body":"@azhsmesos Hello, My understanding of your question is as follows\r\n1: I understand that the server needs to support compression of topic data, which is reflected in the details before the offsetMap construction of  [compact topic](https://github.com/apache/rocketmq/wiki/RIP-30-Support-Compaction-topic),It can be guaranteed that the data is first written to the commitlog like ordinary messages, and then asynchronously written to the separate compaction log file by the return service. Reduce data IO\r\n\r\n2. My understanding is assuming that the user has a topic that contains user actions used to train the recommender system, he may want to keep that data for a long time so that if the recommendation algorithm is changed, it is still rerun against the full user history. But in this case, there may be a need to have a place to [persist managed-ledger metadata in pulsar](https://pulsar.apache.org/docs/cookbooks-tiered-storage/) to ensure that the query history consumes the cursor. I'm not sure if rocketmq needs to persist offset, subcription and other information, maybe it needs to be discussed further?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1295786136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1295790081","html_url":"https://github.com/apache/rocketmq/issues/5420#issuecomment-1295790081","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5420","id":1295790081,"node_id":"IC_kwDOBHrsl85NPDAB","user":{"login":"mxsm","id":15797831,"node_id":"MDQ6VXNlcjE1Nzk3ODMx","avatar_url":"https://avatars.githubusercontent.com/u/15797831?v=4","gravatar_id":"","url":"https://api.github.com/users/mxsm","html_url":"https://github.com/mxsm","followers_url":"https://api.github.com/users/mxsm/followers","following_url":"https://api.github.com/users/mxsm/following{/other_user}","gists_url":"https://api.github.com/users/mxsm/gists{/gist_id}","starred_url":"https://api.github.com/users/mxsm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mxsm/subscriptions","organizations_url":"https://api.github.com/users/mxsm/orgs","repos_url":"https://api.github.com/users/mxsm/repos","events_url":"https://api.github.com/users/mxsm/events{/privacy}","received_events_url":"https://api.github.com/users/mxsm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-29T10:01:16Z","updated_at":"2022-10-29T10:01:16Z","author_association":"MEMBER","body":"Hi @PEIYANGXINQU There is no such thing as sequential or non-sequential topics, we use MessageQueueSelector to select queue that message to send. if  message in the same queue, we can consume message in order.\r\ndoc for 4.x: https://rocketmq.apache.org/docs/4.x/producer/06message2\r\ndoc for 5.0: https://rocketmq.apache.org/docs/featureBehavior/03fifomessage","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1295790081/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1295790185","html_url":"https://github.com/apache/rocketmq/issues/5420#issuecomment-1295790185","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5420","id":1295790185,"node_id":"IC_kwDOBHrsl85NPDBp","user":{"login":"PEIYANGXINQU","id":3368962,"node_id":"MDQ6VXNlcjMzNjg5NjI=","avatar_url":"https://avatars.githubusercontent.com/u/3368962?v=4","gravatar_id":"","url":"https://api.github.com/users/PEIYANGXINQU","html_url":"https://github.com/PEIYANGXINQU","followers_url":"https://api.github.com/users/PEIYANGXINQU/followers","following_url":"https://api.github.com/users/PEIYANGXINQU/following{/other_user}","gists_url":"https://api.github.com/users/PEIYANGXINQU/gists{/gist_id}","starred_url":"https://api.github.com/users/PEIYANGXINQU/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PEIYANGXINQU/subscriptions","organizations_url":"https://api.github.com/users/PEIYANGXINQU/orgs","repos_url":"https://api.github.com/users/PEIYANGXINQU/repos","events_url":"https://api.github.com/users/PEIYANGXINQU/events{/privacy}","received_events_url":"https://api.github.com/users/PEIYANGXINQU/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-29T10:01:43Z","updated_at":"2022-10-29T10:01:43Z","author_association":"NONE","body":"收到，谢谢！","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1295790185/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1295790930","html_url":"https://github.com/apache/rocketmq/issues/5420#issuecomment-1295790930","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5420","id":1295790930,"node_id":"IC_kwDOBHrsl85NPDNS","user":{"login":"kaori-seasons","id":20021404,"node_id":"MDQ6VXNlcjIwMDIxNDA0","avatar_url":"https://avatars.githubusercontent.com/u/20021404?v=4","gravatar_id":"","url":"https://api.github.com/users/kaori-seasons","html_url":"https://github.com/kaori-seasons","followers_url":"https://api.github.com/users/kaori-seasons/followers","following_url":"https://api.github.com/users/kaori-seasons/following{/other_user}","gists_url":"https://api.github.com/users/kaori-seasons/gists{/gist_id}","starred_url":"https://api.github.com/users/kaori-seasons/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaori-seasons/subscriptions","organizations_url":"https://api.github.com/users/kaori-seasons/orgs","repos_url":"https://api.github.com/users/kaori-seasons/repos","events_url":"https://api.github.com/users/kaori-seasons/events{/privacy}","received_events_url":"https://api.github.com/users/kaori-seasons/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-29T10:04:47Z","updated_at":"2022-10-29T10:12:35Z","author_association":"CONTRIBUTOR","body":"Hello @PEIYANGXINQU \r\n\r\nRocketm's topic itself does not have the ability to produce and consume sequentially and currently only supports partial ordering\r\n\r\nIf you want to ensure local order, it is recommended to refer to the following example:\r\n\r\nProducer.java\r\n```\r\n@RestController\r\npublic class Product {\r\n    private static List<ProductOrder> orderList = null;\r\n    private static String producerGroup = \"test_producer\";\r\n    /**\r\n     * Simulation data\r\n     */\r\n    static {\r\n        orderList = new ArrayList<>();\r\n        orderList.add(new ProductOrder(\"XXX001\", \"Order Creation\"));\r\n        orderList.add(new ProductOrder(\"XXX001\", \"Order payment\"));\r\n        orderList.add(new ProductOrder(\"XXX001\", \"Order Completed\"));\r\n        orderList.add(new ProductOrder(\"XXX002\", \"Order Creation\"));\r\n        orderList.add(new ProductOrder(\"XXX002\", \"Order payment\"));\r\n        orderList.add(new ProductOrder(\"XXX002\", \"Order Completed\"));\r\n        orderList.add(new ProductOrder(\"XXX003\", \"Order Creation\"));\r\n        orderList.add(new ProductOrder(\"XXX003\", \"Order payment\"));\r\n        orderList.add(new ProductOrder(\"XXX003\", \"Order Completed\"));\r\n    }\r\n\r\n    @GetMapping(\"message\")\r\n    public void sendMessage() throws Exception {\r\n        // sample producer\r\n        DefaultMQProducer producer = new DefaultMQProducer(producerGroup);\r\n        //Do not open the vip channel, open the port port will be reduced by 2\r\n        producer.setVipChannelEnabled(false);\r\n        //Bind name server\r\n        producer.setNamesrvAddr(\"IP:9876\");\r\n        producer.start();\r\n        for (ProductOrder order : orderList) {\r\n            //1. Generate message\r\n            Message message = new Message(JmsConfig.TOPIC, \"\", order.getOrderId(), order.toString().getBytes());\r\n            //2. Sending a message is to select the corresponding queue for each message\r\n            SendResult sendResult = producer.send(message, new MessageQueueSelector() {\r\n                @Override\r\n                public MessageQueue select(List<MessageQueue> mqs, Message msg, Object arg) {\r\n                    //3. The value of arg is actually the orderId passed in below\r\n                    String orderid = (String) arg;\r\n                    //4. Because the order is of String type, it is converted to int type through hashCode\r\n                    int hashCode = orderid.hashCode();\r\n                    //5, because the hashCode may be negative, so take the absolute value\r\n                    hashCode = Math.abs(hashCode);\r\n                    //6. Ensure that the same order number must be allocated on the same queue\r\n                    long index = hashCode % mqs.size();\r\n                    return mqs.get((int) index);\r\n                }\r\n            }, order.getOrderId(),50000);\r\n\r\n            System.out.printf(\"Product: send status=%s, storage queue=%s, orderid=%s, type=%s\\n\", sendResult.getSendStatus(),\r\n                                      sendResult.getMessageQueue().getQueueId(), order.getOrderId(), order.getType());\r\n        }\r\n        producer.shutdown();\r\n    }\r\n}\r\n```\r\n\r\nSince rocketmq uses a segmented lock, it does not lock the entire Broker but a single Queue in the lock, because as long as a single Queue is locked, local sequential consumption can be guaranteed.\r\nTherefore, if it is in a concurrent consumption scenario, it is not recommended to use MessageListenerConcurrently, but to use MessageListenerOrderly.\r\nHere is an example of a consumer:\r\n\r\n```\r\n@Slf4j\r\n@Component\r\npublic class Consumer {\r\n    \r\n    /**\r\n     * Consumer entity object\r\n     */\r\n    private DefaultMQPushConsumer consumer;\r\n    /**\r\n     * Consumer group\r\n     */\r\n    public static final String CONSUMER_GROUP = \"consumer_group\";\r\n    /**\r\n     * instantiate the object through the constructor\r\n     */\r\n    public Consumer() throws MQClientException {\r\n        consumer = new DefaultMQPushConsumer(CONSUMER_GROUP);\r\n        consumer.setNamesrvAddr(\"IP:9876\");\r\n        //It is not recommended to enable vipChannel. Once enabled, when the rocketmq consumer starts to rebalance, the normal port (9876) will carry all the messages and transfer them to the vip port. But the consumer will not use the vip port for pulling messages.\r\n        consumer.setVipChannelEnabled(false);\r\n        //Subscribe information under topics and tags (* represents all tags)\r\n        consumer.subscribe(JmsConfig.TOPIC, \"*\");\r\n            //Register the monitoring of consumption. Note that the sequential consumption is MessageListenerOrderly and the concurrent is ConsumeConcurrentlyContext\r\n        consumer.registerMessageListener((MessageListenerOrderly) (msgs, context) -> {\r\n            // get message\r\n            MessageExt msg = msgs.get(0);\r\n            //The consumer gets the message here, only the output is done, and the subsequent logic processing is not performed\r\n            log.info(\"Consumer-Thread Name={}, Message={}\", Thread.currentThread().getName(), new String(msg.getBody()));\r\n            return ConsumeOrderlyStatus.SUCCESS;\r\n        });\r\n        consumer.start();\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1295790930/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1295791353","html_url":"https://github.com/apache/rocketmq/issues/5420#issuecomment-1295791353","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5420","id":1295791353,"node_id":"IC_kwDOBHrsl85NPDT5","user":{"login":"kaori-seasons","id":20021404,"node_id":"MDQ6VXNlcjIwMDIxNDA0","avatar_url":"https://avatars.githubusercontent.com/u/20021404?v=4","gravatar_id":"","url":"https://api.github.com/users/kaori-seasons","html_url":"https://github.com/kaori-seasons","followers_url":"https://api.github.com/users/kaori-seasons/followers","following_url":"https://api.github.com/users/kaori-seasons/following{/other_user}","gists_url":"https://api.github.com/users/kaori-seasons/gists{/gist_id}","starred_url":"https://api.github.com/users/kaori-seasons/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaori-seasons/subscriptions","organizations_url":"https://api.github.com/users/kaori-seasons/orgs","repos_url":"https://api.github.com/users/kaori-seasons/repos","events_url":"https://api.github.com/users/kaori-seasons/events{/privacy}","received_events_url":"https://api.github.com/users/kaori-seasons/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-29T10:06:54Z","updated_at":"2022-10-29T10:06:54Z","author_association":"CONTRIBUTOR","body":"It looks like the documentation is not good enough I need to add to this","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1295791353/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1295800565","html_url":"https://github.com/apache/rocketmq/pull/5422#issuecomment-1295800565","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5422","id":1295800565,"node_id":"IC_kwDOBHrsl85NPFj1","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-29T10:46:46Z","updated_at":"2022-10-29T10:46:46Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/5422?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#5422](https://codecov.io/gh/apache/rocketmq/pull/5422?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (06c4b5a) into [develop](https://codecov.io/gh/apache/rocketmq/commit/4ba8aa238d8cd7104cdc1119d0f35514fb47cfc2?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (4ba8aa2) will **increase** coverage by `0.00%`.\n> The diff coverage is `48.00%`.\n\n```diff\n@@            Coverage Diff             @@\n##             develop    #5422   +/-   ##\n==========================================\n  Coverage      43.17%   43.18%           \n- Complexity      8046     8049    +3     \n==========================================\n  Files           1020     1020           \n  Lines          71892    71894    +2     \n  Branches        9519     9520    +1     \n==========================================\n+ Hits           31039    31045    +6     \n+ Misses         36946    36935   -11     \n- Partials        3907     3914    +7     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/5422?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...src/main/java/org/apache/rocketmq/common/Pair.java](https://codecov.io/gh/apache/rocketmq/pull/5422/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vUGFpci5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...etmq/test/client/rmq/RMQTransactionalProducer.java](https://codecov.io/gh/apache/rocketmq/pull/5422/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC9jbGllbnQvcm1xL1JNUVRyYW5zYWN0aW9uYWxQcm9kdWNlci5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...rocketmq/remoting/netty/NettyRemotingAbstract.java](https://codecov.io/gh/apache/rocketmq/pull/5422/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L05ldHR5UmVtb3RpbmdBYnN0cmFjdC5qYXZh) | `52.89% <50.00%> (+3.62%)` | :arrow_up: |\n| [...java/org/apache/rocketmq/remoting/common/Pair.java](https://codecov.io/gh/apache/rocketmq/pull/5422/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL2NvbW1vbi9QYWlyLmphdmE=) | `60.00% <71.42%> (ø)` | |\n| [...apache/rocketmq/acl/plain/PlainAccessResource.java](https://codecov.io/gh/apache/rocketmq/pull/5422/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YWNsL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9hY2wvcGxhaW4vUGxhaW5BY2Nlc3NSZXNvdXJjZS5qYXZh) | `57.57% <75.00%> (-0.08%)` | :arrow_down: |\n| [...he/rocketmq/broker/controller/ReplicasManager.java](https://codecov.io/gh/apache/rocketmq/pull/5422/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvY29udHJvbGxlci9SZXBsaWNhc01hbmFnZXIuamF2YQ==) | `43.09% <100.00%> (ø)` | |\n| [...apache/rocketmq/broker/longpolling/PopRequest.java](https://codecov.io/gh/apache/rocketmq/pull/5422/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvbG9uZ3BvbGxpbmcvUG9wUmVxdWVzdC5qYXZh) | `31.03% <0.00%> (-13.80%)` | :arrow_down: |\n| [.../apache/rocketmq/controller/ControllerManager.java](https://codecov.io/gh/apache/rocketmq/pull/5422/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvY29udHJvbGxlci9Db250cm9sbGVyTWFuYWdlci5qYXZh) | `73.11% <0.00%> (-2.16%)` | :arrow_down: |\n| [...va/org/apache/rocketmq/store/util/PerfCounter.java](https://codecov.io/gh/apache/rocketmq/pull/5422/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL3V0aWwvUGVyZkNvdW50ZXIuamF2YQ==) | `64.39% <0.00%> (-2.10%)` | :arrow_down: |\n| [...org/apache/rocketmq/common/stats/StatsItemSet.java](https://codecov.io/gh/apache/rocketmq/pull/5422/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vc3RhdHMvU3RhdHNJdGVtU2V0LmphdmE=) | `49.25% <0.00%> (-1.50%)` | :arrow_down: |\n| ... and [13 more](https://codecov.io/gh/apache/rocketmq/pull/5422/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1295800565/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1296083494","html_url":"https://github.com/apache/rocketmq/issues/5420#issuecomment-1296083494","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5420","id":1296083494,"node_id":"IC_kwDOBHrsl85NQKom","user":{"login":"PEIYANGXINQU","id":3368962,"node_id":"MDQ6VXNlcjMzNjg5NjI=","avatar_url":"https://avatars.githubusercontent.com/u/3368962?v=4","gravatar_id":"","url":"https://api.github.com/users/PEIYANGXINQU","html_url":"https://github.com/PEIYANGXINQU","followers_url":"https://api.github.com/users/PEIYANGXINQU/followers","following_url":"https://api.github.com/users/PEIYANGXINQU/following{/other_user}","gists_url":"https://api.github.com/users/PEIYANGXINQU/gists{/gist_id}","starred_url":"https://api.github.com/users/PEIYANGXINQU/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PEIYANGXINQU/subscriptions","organizations_url":"https://api.github.com/users/PEIYANGXINQU/orgs","repos_url":"https://api.github.com/users/PEIYANGXINQU/repos","events_url":"https://api.github.com/users/PEIYANGXINQU/events{/privacy}","received_events_url":"https://api.github.com/users/PEIYANGXINQU/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-30T03:16:48Z","updated_at":"2022-10-30T03:16:48Z","author_association":"NONE","body":"> Hi @PEIYANGXINQU There is no such thing as sequential or non-sequential topics, we use MessageQueueSelector to select queue that message to send. if message in the same queue, we can consume message in order. doc for 4.x: https://rocketmq.apache.org/docs/4.x/producer/06message2 doc for 5.0: https://rocketmq.apache.org/docs/featureBehavior/03fifomessage\r\n\r\n@mxsm @complone ,from the document  **it says:create Topic by specifying the -o parameter (--order) to be true, which represents ordered messages**,some one have created the topic in test environment,now I want to create them in the prod\r\nenvironment.I just want to refer to these practices,but it seems  that I don't know how to start because the rocketmq console do not show order=true property.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1296083494/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1296084901","html_url":"https://github.com/apache/rocketmq/issues/5420#issuecomment-1296084901","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5420","id":1296084901,"node_id":"IC_kwDOBHrsl85NQK-l","user":{"login":"PEIYANGXINQU","id":3368962,"node_id":"MDQ6VXNlcjMzNjg5NjI=","avatar_url":"https://avatars.githubusercontent.com/u/3368962?v=4","gravatar_id":"","url":"https://api.github.com/users/PEIYANGXINQU","html_url":"https://github.com/PEIYANGXINQU","followers_url":"https://api.github.com/users/PEIYANGXINQU/followers","following_url":"https://api.github.com/users/PEIYANGXINQU/following{/other_user}","gists_url":"https://api.github.com/users/PEIYANGXINQU/gists{/gist_id}","starred_url":"https://api.github.com/users/PEIYANGXINQU/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PEIYANGXINQU/subscriptions","organizations_url":"https://api.github.com/users/PEIYANGXINQU/orgs","repos_url":"https://api.github.com/users/PEIYANGXINQU/repos","events_url":"https://api.github.com/users/PEIYANGXINQU/events{/privacy}","received_events_url":"https://api.github.com/users/PEIYANGXINQU/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-30T03:21:58Z","updated_at":"2022-10-30T03:21:58Z","author_association":"NONE","body":".\\mqadmin updateTopic\r\nJava HotSpot(TM) 64-Bit Server VM warning: ignoring option PermSize=128m; support was removed in 8.0\r\nJava HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=128m; support was removed in 8.0\r\nusage: mqadmin updateTopic [-b <arg>] [-c <arg>] [-h] [-n <arg>] [-o <arg>] [-p <arg>] [-r <arg>] [-s <arg>]\r\n       -t <arg> [-u <arg>] [-w <arg>]\r\n -b,--brokerAddr <arg>       create topic to which broker\r\n -c,--clusterName <arg>      create topic to which cluster\r\n -h,--help                   Print help\r\n -n,--namesrvAddr <arg>      Name server address list, eg: 192.168.0.1:9876;192.168.0.2:9876\r\n\r\n**### -  **-o,--order <arg>            set topic's order(true|false)****\r\n\r\n -p,--perm <arg>             set topic's permission(2|4|6), intro[2:W 4:R; 6:RW]\r\n -r,--readQueueNums <arg>    set read queue nums\r\n -s,--hasUnitSub <arg>       has unit sub (true|false)\r\n -t,--topic <arg>            topic name\r\n -u,--unit <arg>             is unit topic (true|false)\r\n -w,--writeQueueNums <arg>   set write queue nums","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1296084901/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1296101678","html_url":"https://github.com/apache/rocketmq/pull/5425#issuecomment-1296101678","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5425","id":1296101678,"node_id":"IC_kwDOBHrsl85NQPEu","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-30T04:24:08Z","updated_at":"2022-10-30T04:24:08Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/5425?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#5425](https://codecov.io/gh/apache/rocketmq/pull/5425?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (2df6c9e) into [develop](https://codecov.io/gh/apache/rocketmq/commit/4ba8aa238d8cd7104cdc1119d0f35514fb47cfc2?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (4ba8aa2) will **decrease** coverage by `0.00%`.\n> The diff coverage is `70.00%`.\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #5425      +/-   ##\n=============================================\n- Coverage      43.17%   43.17%   -0.01%     \n+ Complexity      8046     8045       -1     \n=============================================\n  Files           1020     1020              \n  Lines          71892    71895       +3     \n  Branches        9519     9521       +2     \n=============================================\n+ Hits           31039    31040       +1     \n+ Misses         36946    36940       -6     \n- Partials        3907     3915       +8     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/5425?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...saction/queue/TransactionalMessageServiceImpl.java](https://codecov.io/gh/apache/rocketmq/pull/5425/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvdHJhbnNhY3Rpb24vcXVldWUvVHJhbnNhY3Rpb25hbE1lc3NhZ2VTZXJ2aWNlSW1wbC5qYXZh) | `50.89% <66.66%> (-0.39%)` | :arrow_down: |\n| [...apache/rocketmq/acl/plain/PlainAccessResource.java](https://codecov.io/gh/apache/rocketmq/pull/5425/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YWNsL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9hY2wvcGxhaW4vUGxhaW5BY2Nlc3NSZXNvdXJjZS5qYXZh) | `57.57% <75.00%> (-0.08%)` | :arrow_down: |\n| [...apache/rocketmq/broker/longpolling/PopRequest.java](https://codecov.io/gh/apache/rocketmq/pull/5425/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvbG9uZ3BvbGxpbmcvUG9wUmVxdWVzdC5qYXZh) | `31.03% <0.00%> (-13.80%)` | :arrow_down: |\n| [...org/apache/rocketmq/common/stats/StatsItemSet.java](https://codecov.io/gh/apache/rocketmq/pull/5425/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vc3RhdHMvU3RhdHNJdGVtU2V0LmphdmE=) | `41.79% <0.00%> (-8.96%)` | :arrow_down: |\n| [.../apache/rocketmq/controller/ControllerManager.java](https://codecov.io/gh/apache/rocketmq/pull/5425/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvY29udHJvbGxlci9Db250cm9sbGVyTWFuYWdlci5qYXZh) | `73.11% <0.00%> (-2.16%)` | :arrow_down: |\n| [...he/rocketmq/client/trace/AsyncTraceDispatcher.java](https://codecov.io/gh/apache/rocketmq/pull/5425/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvdHJhY2UvQXN5bmNUcmFjZURpc3BhdGNoZXIuamF2YQ==) | `82.21% <0.00%> (-1.45%)` | :arrow_down: |\n| [...ache/rocketmq/broker/client/ConsumerGroupInfo.java](https://codecov.io/gh/apache/rocketmq/pull/5425/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvY2xpZW50L0NvbnN1bWVyR3JvdXBJbmZvLmphdmE=) | `68.46% <0.00%> (-0.91%)` | :arrow_down: |\n| [...he/rocketmq/controller/impl/DLedgerController.java](https://codecov.io/gh/apache/rocketmq/pull/5425/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvY29udHJvbGxlci9pbXBsL0RMZWRnZXJDb250cm9sbGVyLmphdmE=) | `65.96% <0.00%> (-0.53%)` | :arrow_down: |\n| [...org/apache/rocketmq/store/DefaultMessageStore.java](https://codecov.io/gh/apache/rocketmq/pull/5425/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL0RlZmF1bHRNZXNzYWdlU3RvcmUuamF2YQ==) | `53.42% <0.00%> (-0.16%)` | :arrow_down: |\n| [...main/java/org/apache/rocketmq/store/CommitLog.java](https://codecov.io/gh/apache/rocketmq/pull/5425/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL0NvbW1pdExvZy5qYXZh) | `65.39% <0.00%> (-0.11%)` | :arrow_down: |\n| ... and [9 more](https://codecov.io/gh/apache/rocketmq/pull/5425/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1296101678/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1296217745","html_url":"https://github.com/apache/rocketmq/issues/5417#issuecomment-1296217745","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5417","id":1296217745,"node_id":"IC_kwDOBHrsl85NQraR","user":{"login":"labazhou2018","id":38873832,"node_id":"MDQ6VXNlcjM4ODczODMy","avatar_url":"https://avatars.githubusercontent.com/u/38873832?v=4","gravatar_id":"","url":"https://api.github.com/users/labazhou2018","html_url":"https://github.com/labazhou2018","followers_url":"https://api.github.com/users/labazhou2018/followers","following_url":"https://api.github.com/users/labazhou2018/following{/other_user}","gists_url":"https://api.github.com/users/labazhou2018/gists{/gist_id}","starred_url":"https://api.github.com/users/labazhou2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/labazhou2018/subscriptions","organizations_url":"https://api.github.com/users/labazhou2018/orgs","repos_url":"https://api.github.com/users/labazhou2018/repos","events_url":"https://api.github.com/users/labazhou2018/events{/privacy}","received_events_url":"https://api.github.com/users/labazhou2018/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-30T11:06:59Z","updated_at":"2022-10-30T11:06:59Z","author_association":"CONTRIBUTOR","body":"Consumer use `LinkedBlockingQueue ` may trigger flow control to  aviod OOM.  When messages are greater or equal than 1000, or the  the memory is greater 100M.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1296217745/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1296236942","html_url":"https://github.com/apache/rocketmq/issues/5404#issuecomment-1296236942","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5404","id":1296236942,"node_id":"IC_kwDOBHrsl85NQwGO","user":{"login":"jasonjavaYY","id":52964650,"node_id":"MDQ6VXNlcjUyOTY0NjUw","avatar_url":"https://avatars.githubusercontent.com/u/52964650?v=4","gravatar_id":"","url":"https://api.github.com/users/jasonjavaYY","html_url":"https://github.com/jasonjavaYY","followers_url":"https://api.github.com/users/jasonjavaYY/followers","following_url":"https://api.github.com/users/jasonjavaYY/following{/other_user}","gists_url":"https://api.github.com/users/jasonjavaYY/gists{/gist_id}","starred_url":"https://api.github.com/users/jasonjavaYY/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasonjavaYY/subscriptions","organizations_url":"https://api.github.com/users/jasonjavaYY/orgs","repos_url":"https://api.github.com/users/jasonjavaYY/repos","events_url":"https://api.github.com/users/jasonjavaYY/events{/privacy}","received_events_url":"https://api.github.com/users/jasonjavaYY/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-30T12:01:30Z","updated_at":"2022-10-30T12:01:30Z","author_association":"CONTRIBUTOR","body":"I agree with you, but the variable name should be corrected to avoid ambiguity","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1296236942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1296250211","html_url":"https://github.com/apache/rocketmq/issues/5428#issuecomment-1296250211","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5428","id":1296250211,"node_id":"IC_kwDOBHrsl85NQzVj","user":{"login":"sunheyi6","id":50973219,"node_id":"MDQ6VXNlcjUwOTczMjE5","avatar_url":"https://avatars.githubusercontent.com/u/50973219?v=4","gravatar_id":"","url":"https://api.github.com/users/sunheyi6","html_url":"https://github.com/sunheyi6","followers_url":"https://api.github.com/users/sunheyi6/followers","following_url":"https://api.github.com/users/sunheyi6/following{/other_user}","gists_url":"https://api.github.com/users/sunheyi6/gists{/gist_id}","starred_url":"https://api.github.com/users/sunheyi6/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sunheyi6/subscriptions","organizations_url":"https://api.github.com/users/sunheyi6/orgs","repos_url":"https://api.github.com/users/sunheyi6/repos","events_url":"https://api.github.com/users/sunheyi6/events{/privacy}","received_events_url":"https://api.github.com/users/sunheyi6/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-30T12:46:20Z","updated_at":"2022-10-30T12:46:20Z","author_association":"NONE","body":"> \r\n\r\nHi, @jasonjavaYY This problem can be solved by looking at the source code.\r\n\r\n`package io.grpc;\r\n\r\nimport javax.annotation.Nullable;\r\n\r\npublic class StatusRuntimeException extends RuntimeException {\r\n  private static final long serialVersionUID = 1950934672280720624L;\r\n  private final Status status;\r\n  private final Metadata trailers;\r\n  private final boolean fillInStackTrace;`","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1296250211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1296436873","html_url":"https://github.com/apache/rocketmq/issues/5417#issuecomment-1296436873","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5417","id":1296436873,"node_id":"IC_kwDOBHrsl85NRg6J","user":{"login":"xiaobing395845388","id":17471464,"node_id":"MDQ6VXNlcjE3NDcxNDY0","avatar_url":"https://avatars.githubusercontent.com/u/17471464?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaobing395845388","html_url":"https://github.com/xiaobing395845388","followers_url":"https://api.github.com/users/xiaobing395845388/followers","following_url":"https://api.github.com/users/xiaobing395845388/following{/other_user}","gists_url":"https://api.github.com/users/xiaobing395845388/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaobing395845388/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaobing395845388/subscriptions","organizations_url":"https://api.github.com/users/xiaobing395845388/orgs","repos_url":"https://api.github.com/users/xiaobing395845388/repos","events_url":"https://api.github.com/users/xiaobing395845388/events{/privacy}","received_events_url":"https://api.github.com/users/xiaobing395845388/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T01:49:24Z","updated_at":"2022-10-31T01:49:24Z","author_association":"NONE","body":"> \r\n\r\n\r\n\r\n> > Hi @xiaobing395845388 , IMO, you mean unbounded `LinkedBlockingQueue`, and `consumeThreadMax` is too small resulting in OOM. My suggestion is to increase the value of `consumeThreadMax` to speed up message processing and decrease the value of `pullThresholdForQueue` to reduce the number of messages cached by the client.\r\n> \r\n> @xiaobing395845388 Indeed, LinkedBlockingQueue is suitable for situations where producing messages and consuming messages are about the same, and when you produce messages significantly faster than you consume them, it naturally leads to oom\r\nIn this case, consumeThreadMax does no work if use LinkedBlockingQueue , consumeThreadMIn is the corePoolSize in the api of \"ThreadPoolExecutor\"\r\nyou say\"producing messages and consuming messages are about the same\", we cannot controll this in product env\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1296436873/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1296460580","html_url":"https://github.com/apache/rocketmq/pull/5429#issuecomment-1296460580","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5429","id":1296460580,"node_id":"IC_kwDOBHrsl85NRmsk","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T02:32:25Z","updated_at":"2022-10-31T02:32:25Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/5429?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#5429](https://codecov.io/gh/apache/rocketmq/pull/5429?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (0c75034) into [develop](https://codecov.io/gh/apache/rocketmq/commit/4ba8aa238d8cd7104cdc1119d0f35514fb47cfc2?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (4ba8aa2) will **decrease** coverage by `0.09%`.\n> The diff coverage is `2.91%`.\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #5429      +/-   ##\n=============================================\n- Coverage      43.17%   43.08%   -0.10%     \n+ Complexity      8046     8037       -9     \n=============================================\n  Files           1020     1021       +1     \n  Lines          71892    71993     +101     \n  Branches        9519     9544      +25     \n=============================================\n- Hits           31039    31016      -23     \n- Misses         36946    37062     +116     \n- Partials        3907     3915       +8     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/5429?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...ketmq/client/consumer/DefaultLitePullConsumer.java](https://codecov.io/gh/apache/rocketmq/pull/5429/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvY29uc3VtZXIvRGVmYXVsdExpdGVQdWxsQ29uc3VtZXIuamF2YQ==) | `72.04% <0.00%> (-5.42%)` | :arrow_down: |\n| [...a/org/apache/rocketmq/client/impl/MQAdminImpl.java](https://codecov.io/gh/apache/rocketmq/pull/5429/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9NUUFkbWluSW1wbC5qYXZh) | `4.29% <0.00%> (-0.64%)` | :arrow_down: |\n| [...ent/impl/consumer/DefaultLitePullConsumerImpl.java](https://codecov.io/gh/apache/rocketmq/pull/5429/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9EZWZhdWx0TGl0ZVB1bGxDb25zdW1lckltcGwuamF2YQ==) | `67.53% <0.00%> (-1.32%)` | :arrow_down: |\n| [...ava/org/apache/rocketmq/common/BrokerAddrInfo.java](https://codecov.io/gh/apache/rocketmq/pull/5429/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vQnJva2VyQWRkckluZm8uamF2YQ==) | `0.00% <ø> (ø)` | |\n| [...ache/rocketmq/common/message/MessageQueueInfo.java](https://codecov.io/gh/apache/rocketmq/pull/5429/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vbWVzc2FnZS9NZXNzYWdlUXVldWVJbmZvLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...apache/rocketmq/acl/plain/PlainAccessResource.java](https://codecov.io/gh/apache/rocketmq/pull/5429/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YWNsL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9hY2wvcGxhaW4vUGxhaW5BY2Nlc3NSZXNvdXJjZS5qYXZh) | `57.57% <75.00%> (-0.08%)` | :arrow_down: |\n| [...apache/rocketmq/broker/longpolling/PopRequest.java](https://codecov.io/gh/apache/rocketmq/pull/5429/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvbG9uZ3BvbGxpbmcvUG9wUmVxdWVzdC5qYXZh) | `31.03% <0.00%> (-13.80%)` | :arrow_down: |\n| [...va/org/apache/rocketmq/store/FlushDiskWatcher.java](https://codecov.io/gh/apache/rocketmq/pull/5429/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL0ZsdXNoRGlza1dhdGNoZXIuamF2YQ==) | `81.25% <0.00%> (-9.38%)` | :arrow_down: |\n| [...org/apache/rocketmq/common/stats/StatsItemSet.java](https://codecov.io/gh/apache/rocketmq/pull/5429/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vc3RhdHMvU3RhdHNJdGVtU2V0LmphdmE=) | `43.28% <0.00%> (-7.47%)` | :arrow_down: |\n| [...e/rocketmq/remoting/netty/NettyRemotingClient.java](https://codecov.io/gh/apache/rocketmq/pull/5429/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L05ldHR5UmVtb3RpbmdDbGllbnQuamF2YQ==) | `38.95% <0.00%> (-3.11%)` | :arrow_down: |\n| ... and [11 more](https://codecov.io/gh/apache/rocketmq/pull/5429/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1296460580/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1296462227","html_url":"https://github.com/apache/rocketmq/issues/5423#issuecomment-1296462227","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5423","id":1296462227,"node_id":"IC_kwDOBHrsl85NRnGT","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T02:35:38Z","updated_at":"2022-10-31T02:35:38Z","author_association":"CONTRIBUTOR","body":"@dyrnq IIRC, the bug has been fixed in this [PR](https://github.com/apache/rocketmq/pull/5269).","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1296462227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1296462986","html_url":"https://github.com/apache/rocketmq/issues/5420#issuecomment-1296462986","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5420","id":1296462986,"node_id":"IC_kwDOBHrsl85NRnSK","user":{"login":"caigy","id":17410645,"node_id":"MDQ6VXNlcjE3NDEwNjQ1","avatar_url":"https://avatars.githubusercontent.com/u/17410645?v=4","gravatar_id":"","url":"https://api.github.com/users/caigy","html_url":"https://github.com/caigy","followers_url":"https://api.github.com/users/caigy/followers","following_url":"https://api.github.com/users/caigy/following{/other_user}","gists_url":"https://api.github.com/users/caigy/gists{/gist_id}","starred_url":"https://api.github.com/users/caigy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caigy/subscriptions","organizations_url":"https://api.github.com/users/caigy/orgs","repos_url":"https://api.github.com/users/caigy/repos","events_url":"https://api.github.com/users/caigy/events{/privacy}","received_events_url":"https://api.github.com/users/caigy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T02:37:20Z","updated_at":"2022-10-31T02:37:20Z","author_association":"CONTRIBUTOR","body":"Currently `order` field does not take effect. 'Orderly' is the behavior in message producing, storage and consuming.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1296462986/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1296465594","html_url":"https://github.com/apache/rocketmq/issues/5415#issuecomment-1296465594","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5415","id":1296465594,"node_id":"IC_kwDOBHrsl85NRn66","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T02:42:26Z","updated_at":"2022-10-31T02:42:26Z","author_association":"CONTRIBUTOR","body":"@RapperCL Good catch!","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1296465594/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1296469642","html_url":"https://github.com/apache/rocketmq/issues/5354#issuecomment-1296469642","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5354","id":1296469642,"node_id":"IC_kwDOBHrsl85NRo6K","user":{"login":"ShadowySpirits","id":32436597,"node_id":"MDQ6VXNlcjMyNDM2NTk3","avatar_url":"https://avatars.githubusercontent.com/u/32436597?v=4","gravatar_id":"","url":"https://api.github.com/users/ShadowySpirits","html_url":"https://github.com/ShadowySpirits","followers_url":"https://api.github.com/users/ShadowySpirits/followers","following_url":"https://api.github.com/users/ShadowySpirits/following{/other_user}","gists_url":"https://api.github.com/users/ShadowySpirits/gists{/gist_id}","starred_url":"https://api.github.com/users/ShadowySpirits/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShadowySpirits/subscriptions","organizations_url":"https://api.github.com/users/ShadowySpirits/orgs","repos_url":"https://api.github.com/users/ShadowySpirits/repos","events_url":"https://api.github.com/users/ShadowySpirits/events{/privacy}","received_events_url":"https://api.github.com/users/ShadowySpirits/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T02:50:13Z","updated_at":"2022-10-31T02:50:13Z","author_association":"MEMBER","body":"Going to close as #5355 #5407 closed.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1296469642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1296492630","html_url":"https://github.com/apache/rocketmq/issues/5428#issuecomment-1296492630","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5428","id":1296492630,"node_id":"IC_kwDOBHrsl85NRuhW","user":{"login":"jasonjavaYY","id":52964650,"node_id":"MDQ6VXNlcjUyOTY0NjUw","avatar_url":"https://avatars.githubusercontent.com/u/52964650?v=4","gravatar_id":"","url":"https://api.github.com/users/jasonjavaYY","html_url":"https://github.com/jasonjavaYY","followers_url":"https://api.github.com/users/jasonjavaYY/followers","following_url":"https://api.github.com/users/jasonjavaYY/following{/other_user}","gists_url":"https://api.github.com/users/jasonjavaYY/gists{/gist_id}","starred_url":"https://api.github.com/users/jasonjavaYY/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasonjavaYY/subscriptions","organizations_url":"https://api.github.com/users/jasonjavaYY/orgs","repos_url":"https://api.github.com/users/jasonjavaYY/repos","events_url":"https://api.github.com/users/jasonjavaYY/events{/privacy}","received_events_url":"https://api.github.com/users/jasonjavaYY/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T03:29:22Z","updated_at":"2022-10-31T03:29:22Z","author_association":"CONTRIBUTOR","body":"Thank you  so much. I have solved the problem, because the pom file of grpc-netty-shaded is incorrect, the jar of grpc-api has not been introduced. ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1296492630/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1296553672","html_url":"https://github.com/apache/rocketmq/issues/5423#issuecomment-1296553672","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5423","id":1296553672,"node_id":"IC_kwDOBHrsl85NR9bI","user":{"login":"lizhanhui","id":641819,"node_id":"MDQ6VXNlcjY0MTgxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/641819?v=4","gravatar_id":"","url":"https://api.github.com/users/lizhanhui","html_url":"https://github.com/lizhanhui","followers_url":"https://api.github.com/users/lizhanhui/followers","following_url":"https://api.github.com/users/lizhanhui/following{/other_user}","gists_url":"https://api.github.com/users/lizhanhui/gists{/gist_id}","starred_url":"https://api.github.com/users/lizhanhui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lizhanhui/subscriptions","organizations_url":"https://api.github.com/users/lizhanhui/orgs","repos_url":"https://api.github.com/users/lizhanhui/repos","events_url":"https://api.github.com/users/lizhanhui/events{/privacy}","received_events_url":"https://api.github.com/users/lizhanhui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T05:17:20Z","updated_at":"2022-10-31T05:17:20Z","author_association":"CONTRIBUTOR","body":"Close as duplicated","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1296553672/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1296562278","html_url":"https://github.com/apache/rocketmq/pull/5387#issuecomment-1296562278","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5387","id":1296562278,"node_id":"IC_kwDOBHrsl85NR_hm","user":{"login":"lizhanhui","id":641819,"node_id":"MDQ6VXNlcjY0MTgxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/641819?v=4","gravatar_id":"","url":"https://api.github.com/users/lizhanhui","html_url":"https://github.com/lizhanhui","followers_url":"https://api.github.com/users/lizhanhui/followers","following_url":"https://api.github.com/users/lizhanhui/following{/other_user}","gists_url":"https://api.github.com/users/lizhanhui/gists{/gist_id}","starred_url":"https://api.github.com/users/lizhanhui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lizhanhui/subscriptions","organizations_url":"https://api.github.com/users/lizhanhui/orgs","repos_url":"https://api.github.com/users/lizhanhui/repos","events_url":"https://api.github.com/users/lizhanhui/events{/privacy}","received_events_url":"https://api.github.com/users/lizhanhui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T05:31:48Z","updated_at":"2022-10-31T05:31:48Z","author_association":"CONTRIBUTOR","body":"> > \r\n> \r\n> > > > \r\n> > > \r\n> > > \r\n> > > > > We can use an in-memory timer to record the time at which the lock is released. When the time is up, check to see if there is a message that can be pulled and if so, wake up the pending long polling request.\r\n> > > > \r\n> > > > \r\n> > > > I do not see the reason why an in-memory timer is required. Once a previous pop request that holds the lock completes, why not simply dispatch a task to check if there is an await pop request held in the chain... On the completion of on request, fire a second in consecutive.\r\n> > > \r\n> > > \r\n> > > For example: If we pop one message orderly (invisible time is 5s) and not ack this message, we expect re-consume this message 5s later. Then we send a new pop request with the 30s long polling timeout. If wait this request timeout, the message will delay 25s to be re-consumed, so we need a timer to wake up this long polling request after 5s.\r\n> > \r\n> > \r\n> > I mean, in your given example, can the state change(timeout of the popped message) itself act as the trigger?\r\n> \r\n> Not like pop normally, there isn't a timed ck message for pop orderly If we change the state of popped message to a timed message, we still need a in-memory buffer to prevent there are too many timed message needed put into store, like PopBufferMergeService Meanwhile for pop orderly, the locking time is generally not very long, so the in-memory timer is enough\r\n\r\nOK, this clarifies my concerns.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1296562278/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1296566668","html_url":"https://github.com/apache/rocketmq/pull/5422#issuecomment-1296566668","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/5422","id":1296566668,"node_id":"IC_kwDOBHrsl85NSAmM","user":{"login":"lizhanhui","id":641819,"node_id":"MDQ6VXNlcjY0MTgxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/641819?v=4","gravatar_id":"","url":"https://api.github.com/users/lizhanhui","html_url":"https://github.com/lizhanhui","followers_url":"https://api.github.com/users/lizhanhui/followers","following_url":"https://api.github.com/users/lizhanhui/following{/other_user}","gists_url":"https://api.github.com/users/lizhanhui/gists{/gist_id}","starred_url":"https://api.github.com/users/lizhanhui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lizhanhui/subscriptions","organizations_url":"https://api.github.com/users/lizhanhui/orgs","repos_url":"https://api.github.com/users/lizhanhui/repos","events_url":"https://api.github.com/users/lizhanhui/events{/privacy}","received_events_url":"https://api.github.com/users/lizhanhui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T05:39:13Z","updated_at":"2022-10-31T05:39:13Z","author_association":"CONTRIBUTOR","body":"With due respect, I do not see how this pull request helps enhance readability or its optimization goals. Could you @mxsm provide additional reasoning to clarify?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1296566668/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]