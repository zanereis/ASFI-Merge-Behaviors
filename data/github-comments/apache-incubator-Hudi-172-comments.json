[{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974581538","html_url":"https://github.com/apache/hudi/pull/4050#issuecomment-974581538","issue_url":"https://api.github.com/repos/apache/hudi/issues/4050","id":974581538,"node_id":"IC_kwDOBI7nWM46Fu8i","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-20T02:54:14Z","updated_at":"2021-11-20T02:54:14Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"ef85d2fd33aefa8d11c5ebedfb9f96da489c014d\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3522\",\n    \"triggerID\" : \"ef85d2fd33aefa8d11c5ebedfb9f96da489c014d\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* ef85d2fd33aefa8d11c5ebedfb9f96da489c014d Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3522) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974581538/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974600773","html_url":"https://github.com/apache/hudi/pull/4051#issuecomment-974600773","issue_url":"https://api.github.com/repos/apache/hudi/issues/4051","id":974600773,"node_id":"IC_kwDOBI7nWM46FzpF","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-20T05:59:50Z","updated_at":"2021-11-20T05:59:50Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"cceff11f8edbdd375e15aedc2d4f7e3358431911\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3523\",\n    \"triggerID\" : \"cceff11f8edbdd375e15aedc2d4f7e3358431911\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"8172127b57fd0ee92edda462dabdf2f2e2341602\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3527\",\n    \"triggerID\" : \"8172127b57fd0ee92edda462dabdf2f2e2341602\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 8172127b57fd0ee92edda462dabdf2f2e2341602 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3527) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974600773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974604987","html_url":"https://github.com/apache/hudi/pull/4045#issuecomment-974604987","issue_url":"https://api.github.com/repos/apache/hudi/issues/4045","id":974604987,"node_id":"IC_kwDOBI7nWM46F0q7","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-20T06:46:29Z","updated_at":"2021-11-20T06:46:29Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"bbe69720319174bf6e68be23ef2706802b60aa8b\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3512\",\n    \"triggerID\" : \"bbe69720319174bf6e68be23ef2706802b60aa8b\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"5ef9f5427e4680daa637e63b138605dce2025002\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3528\",\n    \"triggerID\" : \"5ef9f5427e4680daa637e63b138605dce2025002\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 5ef9f5427e4680daa637e63b138605dce2025002 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3528) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974604987/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974608013","html_url":"https://github.com/apache/hudi/pull/4052#issuecomment-974608013","issue_url":"https://api.github.com/repos/apache/hudi/issues/4052","id":974608013,"node_id":"IC_kwDOBI7nWM46F1aN","user":{"login":"kywe665","id":1703248,"node_id":"MDQ6VXNlcjE3MDMyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1703248?v=4","gravatar_id":"","url":"https://api.github.com/users/kywe665","html_url":"https://github.com/kywe665","followers_url":"https://api.github.com/users/kywe665/followers","following_url":"https://api.github.com/users/kywe665/following{/other_user}","gists_url":"https://api.github.com/users/kywe665/gists{/gist_id}","starred_url":"https://api.github.com/users/kywe665/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kywe665/subscriptions","organizations_url":"https://api.github.com/users/kywe665/orgs","repos_url":"https://api.github.com/users/kywe665/repos","events_url":"https://api.github.com/users/kywe665/events{/privacy}","received_events_url":"https://api.github.com/users/kywe665/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-20T07:15:11Z","updated_at":"2021-11-20T07:15:11Z","author_association":"NONE","body":"I will review this doc and create implementation examples with @bhasudha next week.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974608013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974608947","html_url":"https://github.com/apache/hudi/issues/4044#issuecomment-974608947","issue_url":"https://api.github.com/repos/apache/hudi/issues/4044","id":974608947,"node_id":"IC_kwDOBI7nWM46F1oz","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-20T07:23:37Z","updated_at":"2021-11-20T07:23:37Z","author_association":"MEMBER","body":"@nikita-sheremet-clearscale could you share the hudi configs you used for this job? e.g. bulk insert or upsert? COW or MOR table? any config you set manually can be helpful.\r\n\r\nFrom the screenshot, it looks like it's doing a rollback. probably the first job did not finish properly. can you also check the hoodie timeline in `.hoodie/` see if the last commit completed or not. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974608947/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974689954","html_url":"https://github.com/apache/hudi/issues/3831#issuecomment-974689954","issue_url":"https://api.github.com/repos/apache/hudi/issues/3831","id":974689954,"node_id":"IC_kwDOBI7nWM46GJai","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-20T18:14:59Z","updated_at":"2021-11-20T18:17:18Z","author_association":"MEMBER","body":"@Kavin88 so basically it is a feature request where you wish to pass these deltastreamer-specific arguments via options. It is indeed possible to create a set of configs say `hoodie.deltastreamer.xxx` to achieve this. But first i want to understand why it is not possible for you to submit args via Livy API. from what i read, https://community.cloudera.com/t5/Community-Articles/How-to-Submit-Spark-Application-through-Livy-REST-API/ta-p/247502, livy does allow you to specify args to the spark app.\r\n\r\n> My thought is to implement this through python code with sparksession and do the livy submit calling the pyfile.\r\n\r\nNot quite sure what this pyfile is supposed to contain. Is it about generating 100 deltastreamer jobs in code and calling Livy API to submit them? In this case I still don't see why you can't pass arguments there and have to go via hudi options. Can you elaborate?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974689954/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974690908","html_url":"https://github.com/apache/hudi/issues/3831#issuecomment-974690908","issue_url":"https://api.github.com/repos/apache/hudi/issues/3831","id":974690908,"node_id":"IC_kwDOBI7nWM46GJpc","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-20T18:22:11Z","updated_at":"2021-11-20T18:22:11Z","author_association":"MEMBER","body":"@kywe665 it can be useful have an example showing how to submit HoodieDeltaStreamer via Apache Livy APIs.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974690908/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974691214","html_url":"https://github.com/apache/hudi/issues/4001#issuecomment-974691214","issue_url":"https://api.github.com/repos/apache/hudi/issues/4001","id":974691214,"node_id":"IC_kwDOBI7nWM46GJuO","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-20T18:24:37Z","updated_at":"2021-11-20T18:24:37Z","author_association":"MEMBER","body":"yes Spark 3.2 not officially supported yet. But in the meantime, we'd like to collect info and hoping to get it working in 0.11. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974691214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974696334","html_url":"https://github.com/apache/hudi/issues/3905#issuecomment-974696334","issue_url":"https://api.github.com/repos/apache/hudi/issues/3905","id":974696334,"node_id":"IC_kwDOBI7nWM46GK-O","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-20T19:01:10Z","updated_at":"2021-11-20T19:01:10Z","author_association":"MEMBER","body":"@JB-data I don't think it goes to hive; it simply creates a spark sql table using that current spark session.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974696334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974699184","html_url":"https://github.com/apache/hudi/issues/4055#issuecomment-974699184","issue_url":"https://api.github.com/repos/apache/hudi/issues/4055","id":974699184,"node_id":"IC_kwDOBI7nWM46GLqw","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-20T19:21:53Z","updated_at":"2021-11-20T19:21:53Z","author_association":"MEMBER","body":"@JB-data \r\n> --hoodie-conf hoodie.deltastreamer.transformer.sql='SELECT data[0].id as id FROM '\r\n\r\nIs this actually valid SQL?\r\n\r\nThe error you showed is not really the root cause. Can you track down to the application stacktrace and see which part of code threw exceptions?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974699184/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974699893","html_url":"https://github.com/apache/hudi/issues/4008#issuecomment-974699893","issue_url":"https://api.github.com/repos/apache/hudi/issues/4008","id":974699893,"node_id":"IC_kwDOBI7nWM46GL11","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-20T19:27:31Z","updated_at":"2021-11-20T19:27:31Z","author_association":"MEMBER","body":"@mtami \r\n> 1. sample partition path: s3://schema_name/table_name/created=2021/11/10/ -> this will have parquet files as output\r\n\r\nThis is not a valid hive-style partition. You should change it to these for example\r\n\r\n```\r\ns3://schema_name/table_name/created=2021-11-10/ -> this will have parquet files as output\r\n\r\nOR\r\n\r\ns3://schema_name/table_name/year=2021/month=11/day=10/ -> this will have parquet files as output\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974699893/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974700415","html_url":"https://github.com/apache/hudi/issues/4008#issuecomment-974700415","issue_url":"https://api.github.com/repos/apache/hudi/issues/4008","id":974700415,"node_id":"IC_kwDOBI7nWM46GL9_","user":{"login":"mtami","id":15871409,"node_id":"MDQ6VXNlcjE1ODcxNDA5","avatar_url":"https://avatars.githubusercontent.com/u/15871409?v=4","gravatar_id":"","url":"https://api.github.com/users/mtami","html_url":"https://github.com/mtami","followers_url":"https://api.github.com/users/mtami/followers","following_url":"https://api.github.com/users/mtami/following{/other_user}","gists_url":"https://api.github.com/users/mtami/gists{/gist_id}","starred_url":"https://api.github.com/users/mtami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtami/subscriptions","organizations_url":"https://api.github.com/users/mtami/orgs","repos_url":"https://api.github.com/users/mtami/repos","events_url":"https://api.github.com/users/mtami/events{/privacy}","received_events_url":"https://api.github.com/users/mtami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-20T19:31:36Z","updated_at":"2021-11-20T19:31:36Z","author_association":"NONE","body":"@xushiyan thank u. I will try your suggestions and write down here what i got.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974700415/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974701743","html_url":"https://github.com/apache/hudi/issues/4027#issuecomment-974701743","issue_url":"https://api.github.com/repos/apache/hudi/issues/4027","id":974701743,"node_id":"IC_kwDOBI7nWM46GMSv","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-20T19:42:09Z","updated_at":"2021-11-20T19:42:09Z","author_association":"MEMBER","body":"@liujinhui1994 \r\n\r\n> Starting clustering for a group, parallelism:0 commit:20211102011441.\r\n\r\nThis comes from Clustering plan which was created from the replace commit metadata. Can you post the replace commit metadata content for this?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974701743/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974702484","html_url":"https://github.com/apache/hudi/issues/4017#issuecomment-974702484","issue_url":"https://api.github.com/repos/apache/hudi/issues/4017","id":974702484,"node_id":"IC_kwDOBI7nWM46GMeU","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-20T19:48:27Z","updated_at":"2021-11-20T19:48:27Z","author_association":"MEMBER","body":"@veenaypatil which spark 2.x version you used exactly? Hudi supports 2.4+","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974702484/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974704505","html_url":"https://github.com/apache/hudi/issues/4001#issuecomment-974704505","issue_url":"https://api.github.com/repos/apache/hudi/issues/4001","id":974704505,"node_id":"IC_kwDOBI7nWM46GM95","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-20T20:05:28Z","updated_at":"2021-11-20T20:05:28Z","author_association":"MEMBER","body":"tracking the problem in https://issues.apache.org/jira/browse/HUDI-2811","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974704505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974716726","html_url":"https://github.com/apache/hudi/issues/4008#issuecomment-974716726","issue_url":"https://api.github.com/repos/apache/hudi/issues/4008","id":974716726,"node_id":"IC_kwDOBI7nWM46GP82","user":{"login":"mtami","id":15871409,"node_id":"MDQ6VXNlcjE1ODcxNDA5","avatar_url":"https://avatars.githubusercontent.com/u/15871409?v=4","gravatar_id":"","url":"https://api.github.com/users/mtami","html_url":"https://github.com/mtami","followers_url":"https://api.github.com/users/mtami/followers","following_url":"https://api.github.com/users/mtami/following{/other_user}","gists_url":"https://api.github.com/users/mtami/gists{/gist_id}","starred_url":"https://api.github.com/users/mtami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtami/subscriptions","organizations_url":"https://api.github.com/users/mtami/orgs","repos_url":"https://api.github.com/users/mtami/repos","events_url":"https://api.github.com/users/mtami/events{/privacy}","received_events_url":"https://api.github.com/users/mtami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-20T21:53:28Z","updated_at":"2021-11-20T21:53:55Z","author_association":"NONE","body":"Hey @xushiyan \r\nAfter using **created=yyyy-MM-dd**, Hudi succeed sync table to hive.\r\n\r\nHowever, I still can't get hudi creating table on AWS Glue data catalog (Hive metastore), Even the Hudi logs is showing the table was successfully created at the hive metastore.\r\n\r\n`INFO [Thread-6] hive.HiveSyncTool (HiveSyncTool.java:syncSchema(213)): Hive table brand_tree is not found. Creating it `\r\n\r\n`INFO [Thread-6] hive.HoodieHiveClient (HoodieHiveClient.java:updateHiveSQLs(460)): Time taken to execute [CREATE EXTERNAL TABLE IF NOT EXISTS my_schema.brand_tree( _hoodie_commit_time string, _hoodie_commit_seqno string, ... .`\r\n\r\n`Schema sync complete. Syncing partitions for brand_tree ` \r\n\r\nI am not sure if this is related to Hudi or Glue (AWS), if you could direct me where i should look?\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974716726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974719530","html_url":"https://github.com/apache/hudi/issues/4008#issuecomment-974719530","issue_url":"https://api.github.com/repos/apache/hudi/issues/4008","id":974719530,"node_id":"IC_kwDOBI7nWM46GQoq","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-20T22:18:32Z","updated_at":"2021-11-20T22:18:32Z","author_association":"MEMBER","body":"@mtami From the logs it showed that hive sync was successful. I suggest you double check the glue table in aws in the desired region for the database you set. It could be permission issue too. Please engage with AWS support to investigate. From Hudi's side, don't see there is an issue so will close this. Feel free to follow up here if you have further info to share. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974719530/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974719909","html_url":"https://github.com/apache/hudi/pull/4045#issuecomment-974719909","issue_url":"https://api.github.com/repos/apache/hudi/issues/4045","id":974719909,"node_id":"IC_kwDOBI7nWM46GQul","user":{"login":"manojpec","id":3233255,"node_id":"MDQ6VXNlcjMyMzMyNTU=","avatar_url":"https://avatars.githubusercontent.com/u/3233255?v=4","gravatar_id":"","url":"https://api.github.com/users/manojpec","html_url":"https://github.com/manojpec","followers_url":"https://api.github.com/users/manojpec/followers","following_url":"https://api.github.com/users/manojpec/following{/other_user}","gists_url":"https://api.github.com/users/manojpec/gists{/gist_id}","starred_url":"https://api.github.com/users/manojpec/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manojpec/subscriptions","organizations_url":"https://api.github.com/users/manojpec/orgs","repos_url":"https://api.github.com/users/manojpec/repos","events_url":"https://api.github.com/users/manojpec/events{/privacy}","received_events_url":"https://api.github.com/users/manojpec/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-20T22:22:38Z","updated_at":"2021-11-20T22:22:38Z","author_association":"CONTRIBUTOR","body":"@nsivabalan \r\nCI passed for the failed job in the re-run - https://dev.azure.com/apache-hudi-ci-org/apache-hudi-ci/_build/results?buildId=3528&view=results","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974719909/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974722353","html_url":"https://github.com/apache/hudi/issues/4008#issuecomment-974722353","issue_url":"https://api.github.com/repos/apache/hudi/issues/4008","id":974722353,"node_id":"IC_kwDOBI7nWM46GRUx","user":{"login":"mtami","id":15871409,"node_id":"MDQ6VXNlcjE1ODcxNDA5","avatar_url":"https://avatars.githubusercontent.com/u/15871409?v=4","gravatar_id":"","url":"https://api.github.com/users/mtami","html_url":"https://github.com/mtami","followers_url":"https://api.github.com/users/mtami/followers","following_url":"https://api.github.com/users/mtami/following{/other_user}","gists_url":"https://api.github.com/users/mtami/gists{/gist_id}","starred_url":"https://api.github.com/users/mtami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtami/subscriptions","organizations_url":"https://api.github.com/users/mtami/orgs","repos_url":"https://api.github.com/users/mtami/repos","events_url":"https://api.github.com/users/mtami/events{/privacy}","received_events_url":"https://api.github.com/users/mtami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-20T22:48:48Z","updated_at":"2021-11-20T22:48:59Z","author_association":"NONE","body":"for other who might encounter similar issue, you need specify **--enable-glue-datacatalog** option in the glue job parameter in order to to use the AWS Glue Data Catalog as an Apache Spark Hive metastore. This was not clear from AWS glue job documentation at the first glance.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974722353/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974744663","html_url":"https://github.com/apache/hudi/pull/4012#issuecomment-974744663","issue_url":"https://api.github.com/repos/apache/hudi/issues/4012","id":974744663,"node_id":"IC_kwDOBI7nWM46GWxX","user":{"login":"leesf","id":10128888,"node_id":"MDQ6VXNlcjEwMTI4ODg4","avatar_url":"https://avatars.githubusercontent.com/u/10128888?v=4","gravatar_id":"","url":"https://api.github.com/users/leesf","html_url":"https://github.com/leesf","followers_url":"https://api.github.com/users/leesf/followers","following_url":"https://api.github.com/users/leesf/following{/other_user}","gists_url":"https://api.github.com/users/leesf/gists{/gist_id}","starred_url":"https://api.github.com/users/leesf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leesf/subscriptions","organizations_url":"https://api.github.com/users/leesf/orgs","repos_url":"https://api.github.com/users/leesf/repos","events_url":"https://api.github.com/users/leesf/events{/privacy}","received_events_url":"https://api.github.com/users/leesf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-21T02:31:05Z","updated_at":"2021-11-21T02:31:05Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974744663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974745454","html_url":"https://github.com/apache/hudi/pull/4013#issuecomment-974745454","issue_url":"https://api.github.com/repos/apache/hudi/issues/4013","id":974745454,"node_id":"IC_kwDOBI7nWM46GW9u","user":{"login":"alexeykudinkin","id":428277,"node_id":"MDQ6VXNlcjQyODI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/428277?v=4","gravatar_id":"","url":"https://api.github.com/users/alexeykudinkin","html_url":"https://github.com/alexeykudinkin","followers_url":"https://api.github.com/users/alexeykudinkin/followers","following_url":"https://api.github.com/users/alexeykudinkin/following{/other_user}","gists_url":"https://api.github.com/users/alexeykudinkin/gists{/gist_id}","starred_url":"https://api.github.com/users/alexeykudinkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexeykudinkin/subscriptions","organizations_url":"https://api.github.com/users/alexeykudinkin/orgs","repos_url":"https://api.github.com/users/alexeykudinkin/repos","events_url":"https://api.github.com/users/alexeykudinkin/events{/privacy}","received_events_url":"https://api.github.com/users/alexeykudinkin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-21T02:41:22Z","updated_at":"2021-11-21T02:41:38Z","author_association":"CONTRIBUTOR","body":"@xiarixiaoyao thanks for addressing the issues! \r\n\r\nAfter our testing we've also tried to squash some bugs in https://github.com/apache/hudi/pull/4026 and https://github.com/apache/hudi/pull/4060. Unfortunately i didn't see this PR before and hence re-addressed some of the same (as well as some other) issues that you're touching here.\r\n\r\nI would very much appreciate your feedback on the aforementioned PRs.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974745454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974746805","html_url":"https://github.com/apache/hudi/pull/4059#issuecomment-974746805","issue_url":"https://api.github.com/repos/apache/hudi/issues/4059","id":974746805,"node_id":"IC_kwDOBI7nWM46GXS1","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-21T02:59:13Z","updated_at":"2021-11-21T02:59:13Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"48e680fbb7a5d249930f21ad4789fcdc8705b056\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3538\",\n    \"triggerID\" : \"48e680fbb7a5d249930f21ad4789fcdc8705b056\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 48e680fbb7a5d249930f21ad4789fcdc8705b056 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3538) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974746805/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974749469","html_url":"https://github.com/apache/hudi/issues/3841#issuecomment-974749469","issue_url":"https://api.github.com/repos/apache/hudi/issues/3841","id":974749469,"node_id":"IC_kwDOBI7nWM46GX8d","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-21T03:32:21Z","updated_at":"2021-11-21T03:32:21Z","author_association":"MEMBER","body":"@umehrot2 have you filed the jira?\r\n\r\nI created this https://issues.apache.org/jira/browse/HUDI-2811\r\n to track Spark/Parquet upgrade related issues and tasks. cc @nsivabalan ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974749469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974749801","html_url":"https://github.com/apache/hudi/issues/4030#issuecomment-974749801","issue_url":"https://api.github.com/repos/apache/hudi/issues/4030","id":974749801,"node_id":"IC_kwDOBI7nWM46GYBp","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-21T03:37:14Z","updated_at":"2021-11-21T03:37:14Z","author_association":"CONTRIBUTOR","body":"@dik111 , your use case is reasonable and valid, i have created a JIRA issue to track this request: https://issues.apache.org/jira/browse/HUDI-2815","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974749801/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974750173","html_url":"https://github.com/apache/hudi/issues/4030#issuecomment-974750173","issue_url":"https://api.github.com/repos/apache/hudi/issues/4030","id":974750173,"node_id":"IC_kwDOBI7nWM46GYHd","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-21T03:42:56Z","updated_at":"2021-11-21T03:42:56Z","author_association":"CONTRIBUTOR","body":"I just see that payload `OverwriteNonDefaultsWithLatestAvroPayload` solves partial of the problems, it has some space to improve: the `#combineAndGetUpdateValue` should compare record version based on event time.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974750173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974750448","html_url":"https://github.com/apache/hudi/pull/4056#issuecomment-974750448","issue_url":"https://api.github.com/repos/apache/hudi/issues/4056","id":974750448,"node_id":"IC_kwDOBI7nWM46GYLw","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-21T03:46:52Z","updated_at":"2021-11-21T03:46:52Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"a2b674ed53626dfa20985ecdd960084af3c9d770\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3533\",\n    \"triggerID\" : \"a2b674ed53626dfa20985ecdd960084af3c9d770\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"0c2140a4ea6de79fb0a993c07ba3175d371e0902\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3540\",\n    \"triggerID\" : \"0c2140a4ea6de79fb0a993c07ba3175d371e0902\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 0c2140a4ea6de79fb0a993c07ba3175d371e0902 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3540) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974750448/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974750959","html_url":"https://github.com/apache/hudi/pull/3053#issuecomment-974750959","issue_url":"https://api.github.com/repos/apache/hudi/issues/3053","id":974750959,"node_id":"IC_kwDOBI7nWM46GYTv","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-21T03:53:48Z","updated_at":"2021-11-21T03:53:48Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"6d6921ed8105efa3910e003e986d5e94d2c93c26\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3024\",\n    \"triggerID\" : \"6d6921ed8105efa3910e003e986d5e94d2c93c26\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"49397f357c4f541083c42e775a4db57727dd2e59\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3194\",\n    \"triggerID\" : \"49397f357c4f541083c42e775a4db57727dd2e59\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"8eda753874a280226b5efd223dbf824c500fce85\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3536\",\n    \"triggerID\" : \"8eda753874a280226b5efd223dbf824c500fce85\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"6e4611a024633a1a1ed7414e7c5b3d73f9267dcb\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3537\",\n    \"triggerID\" : \"6e4611a024633a1a1ed7414e7c5b3d73f9267dcb\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"0a286a3f3e82dbaf6247d0da446e4ea6a01e15c3\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3541\",\n    \"triggerID\" : \"0a286a3f3e82dbaf6247d0da446e4ea6a01e15c3\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 0a286a3f3e82dbaf6247d0da446e4ea6a01e15c3 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3541) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974750959/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974756515","html_url":"https://github.com/apache/hudi/pull/4057#issuecomment-974756515","issue_url":"https://api.github.com/repos/apache/hudi/issues/4057","id":974756515,"node_id":"IC_kwDOBI7nWM46GZqj","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-21T05:03:05Z","updated_at":"2021-11-21T05:03:05Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"fb2f4aace12d1c574e5e75ce8e7bcdb85d47e439\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3535\",\n    \"triggerID\" : \"fb2f4aace12d1c574e5e75ce8e7bcdb85d47e439\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"8bf846efc6ef3f3f9b0c10abad314014e2128eb0\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3545\",\n    \"triggerID\" : \"8bf846efc6ef3f3f9b0c10abad314014e2128eb0\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 8bf846efc6ef3f3f9b0c10abad314014e2128eb0 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3545) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974756515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974758462","html_url":"https://github.com/apache/hudi/pull/4053#issuecomment-974758462","issue_url":"https://api.github.com/repos/apache/hudi/issues/4053","id":974758462,"node_id":"IC_kwDOBI7nWM46GaI-","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-21T05:26:22Z","updated_at":"2021-11-21T05:26:22Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"ba6141714b0d2a9e2113282a9673b0ae99412750\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3529\",\n    \"triggerID\" : \"ba6141714b0d2a9e2113282a9673b0ae99412750\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"24f0a566dea29ff4d5e8cdda47b89f708e59b63b\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3531\",\n    \"triggerID\" : \"24f0a566dea29ff4d5e8cdda47b89f708e59b63b\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"0663463dd90a2c6d12b233042522121a75493281\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3546\",\n    \"triggerID\" : \"0663463dd90a2c6d12b233042522121a75493281\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 0663463dd90a2c6d12b233042522121a75493281 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3546) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974758462/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974766598","html_url":"https://github.com/apache/hudi/pull/4013#issuecomment-974766598","issue_url":"https://api.github.com/repos/apache/hudi/issues/4013","id":974766598,"node_id":"IC_kwDOBI7nWM46GcIG","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-21T07:08:25Z","updated_at":"2021-11-21T07:08:25Z","author_association":"CONTRIBUTOR","body":"@alexeykudinkin \r\nThank you very much for your testing/bug fixing and code optimization. Due to the existence of rfc-27, data skipping was not considered too much in the initial design; Thank you for your work to make this feature better.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974766598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974767554","html_url":"https://github.com/apache/hudi/pull/4013#issuecomment-974767554","issue_url":"https://api.github.com/repos/apache/hudi/issues/4013","id":974767554,"node_id":"IC_kwDOBI7nWM46GcXC","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-21T07:17:48Z","updated_at":"2021-11-21T07:17:48Z","author_association":"CONTRIBUTOR","body":"@leesf  addressed all comments. thanks","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974767554/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974777352","html_url":"https://github.com/apache/hudi/pull/3967#issuecomment-974777352","issue_url":"https://api.github.com/repos/apache/hudi/issues/3967","id":974777352,"node_id":"IC_kwDOBI7nWM46GewI","user":{"login":"leesf","id":10128888,"node_id":"MDQ6VXNlcjEwMTI4ODg4","avatar_url":"https://avatars.githubusercontent.com/u/10128888?v=4","gravatar_id":"","url":"https://api.github.com/users/leesf","html_url":"https://github.com/leesf","followers_url":"https://api.github.com/users/leesf/followers","following_url":"https://api.github.com/users/leesf/following{/other_user}","gists_url":"https://api.github.com/users/leesf/gists{/gist_id}","starred_url":"https://api.github.com/users/leesf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leesf/subscriptions","organizations_url":"https://api.github.com/users/leesf/orgs","repos_url":"https://api.github.com/users/leesf/repos","events_url":"https://api.github.com/users/leesf/events{/privacy}","received_events_url":"https://api.github.com/users/leesf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-21T08:47:37Z","updated_at":"2021-11-21T08:48:59Z","author_association":"CONTRIBUTOR","body":"> @vinothchandar : I am thinking, for users who explicitly disable timeline server, should we fallback to using direct style markers?\r\n\r\n@nsivabalan We have jobs that disable timeline server in production environment, for backward compatibility, we should fallback to using direct style markers.\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974777352/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974777633","html_url":"https://github.com/apache/hudi/pull/4012#issuecomment-974777633","issue_url":"https://api.github.com/repos/apache/hudi/issues/4012","id":974777633,"node_id":"IC_kwDOBI7nWM46Ge0h","user":{"login":"leesf","id":10128888,"node_id":"MDQ6VXNlcjEwMTI4ODg4","avatar_url":"https://avatars.githubusercontent.com/u/10128888?v=4","gravatar_id":"","url":"https://api.github.com/users/leesf","html_url":"https://github.com/leesf","followers_url":"https://api.github.com/users/leesf/followers","following_url":"https://api.github.com/users/leesf/following{/other_user}","gists_url":"https://api.github.com/users/leesf/gists{/gist_id}","starred_url":"https://api.github.com/users/leesf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leesf/subscriptions","organizations_url":"https://api.github.com/users/leesf/orgs","repos_url":"https://api.github.com/users/leesf/repos","events_url":"https://api.github.com/users/leesf/events{/privacy}","received_events_url":"https://api.github.com/users/leesf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-21T08:50:11Z","updated_at":"2021-11-21T08:50:11Z","author_association":"CONTRIBUTOR","body":"@liuhe0702 would you please paste the spark ui jobs/stages to see the difference?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974777633/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974789158","html_url":"https://github.com/apache/hudi/pull/3703#issuecomment-974789158","issue_url":"https://api.github.com/repos/apache/hudi/issues/3703","id":974789158,"node_id":"IC_kwDOBI7nWM46Ghom","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-21T10:17:08Z","updated_at":"2021-11-21T10:17:08Z","author_association":"MEMBER","body":"@mincwang I think I find the cause of this behavior\r\nThe codepath of hive rt query goes to https://github.com/apache/hudi/blob/0fb8556b0d9274aef650a46bb82a8cf495d4450b/hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieHiveUtils.java#L158-L169\r\nyou could set the config HOODIE_CONSUME_PENDING_COMMITS to true and try again.\r\n\r\nThe Spark MOR snapshot read codepath goes to \r\nhttps://github.com/apache/hudi/blob/a0dae41409a4f2d509aae1b16a4b509ec774c454/hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java#L238-L240\r\nWe should include the compaction request instant here as well.\r\n\r\nDo you mind having a try with this fix?\r\n\r\nThe file listing code path of Spark/Hive/Flink is different now, which leads to this issue. We need to unify the file listing as a high-priority task. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974789158/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974789746","html_url":"https://github.com/apache/hudi/pull/3703#issuecomment-974789746","issue_url":"https://api.github.com/repos/apache/hudi/issues/3703","id":974789746,"node_id":"IC_kwDOBI7nWM46Ghxy","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-21T10:21:54Z","updated_at":"2021-11-21T10:21:54Z","author_association":"MEMBER","body":"filed a ticket https://issues.apache.org/jira/browse/HUDI-2816","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974789746/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974790661","html_url":"https://github.com/apache/hudi/pull/3703#issuecomment-974790661","issue_url":"https://api.github.com/repos/apache/hudi/issues/3703","id":974790661,"node_id":"IC_kwDOBI7nWM46GiAF","user":{"login":"minchowang","id":33626973,"node_id":"MDQ6VXNlcjMzNjI2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/33626973?v=4","gravatar_id":"","url":"https://api.github.com/users/minchowang","html_url":"https://github.com/minchowang","followers_url":"https://api.github.com/users/minchowang/followers","following_url":"https://api.github.com/users/minchowang/following{/other_user}","gists_url":"https://api.github.com/users/minchowang/gists{/gist_id}","starred_url":"https://api.github.com/users/minchowang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/minchowang/subscriptions","organizations_url":"https://api.github.com/users/minchowang/orgs","repos_url":"https://api.github.com/users/minchowang/repos","events_url":"https://api.github.com/users/minchowang/events{/privacy}","received_events_url":"https://api.github.com/users/minchowang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-21T10:28:36Z","updated_at":"2021-11-21T10:28:36Z","author_association":"CONTRIBUTOR","body":"> \r\n\r\n\r\n\r\n> \r\n\r\nThanks for @garyli1019  reply. I will try this fix tomorrowcc @danny0405 ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974790661/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974791691","html_url":"https://github.com/apache/hudi/pull/4061#issuecomment-974791691","issue_url":"https://api.github.com/repos/apache/hudi/issues/4061","id":974791691,"node_id":"IC_kwDOBI7nWM46GiQL","user":{"login":"leesf","id":10128888,"node_id":"MDQ6VXNlcjEwMTI4ODg4","avatar_url":"https://avatars.githubusercontent.com/u/10128888?v=4","gravatar_id":"","url":"https://api.github.com/users/leesf","html_url":"https://github.com/leesf","followers_url":"https://api.github.com/users/leesf/followers","following_url":"https://api.github.com/users/leesf/following{/other_user}","gists_url":"https://api.github.com/users/leesf/gists{/gist_id}","starred_url":"https://api.github.com/users/leesf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leesf/subscriptions","organizations_url":"https://api.github.com/users/leesf/orgs","repos_url":"https://api.github.com/users/leesf/repos","events_url":"https://api.github.com/users/leesf/events{/privacy}","received_events_url":"https://api.github.com/users/leesf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-21T10:35:57Z","updated_at":"2021-11-21T10:35:57Z","author_association":"CONTRIBUTOR","body":"run locally and the page is below.\r\n![image](https://user-images.githubusercontent.com/10128888/142758490-3e799f59-56d6-4095-802c-1d462f1b454f.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974791691/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974791744","html_url":"https://github.com/apache/hudi/pull/4061#issuecomment-974791744","issue_url":"https://api.github.com/repos/apache/hudi/issues/4061","id":974791744,"node_id":"IC_kwDOBI7nWM46GiRA","user":{"login":"leesf","id":10128888,"node_id":"MDQ6VXNlcjEwMTI4ODg4","avatar_url":"https://avatars.githubusercontent.com/u/10128888?v=4","gravatar_id":"","url":"https://api.github.com/users/leesf","html_url":"https://github.com/leesf","followers_url":"https://api.github.com/users/leesf/followers","following_url":"https://api.github.com/users/leesf/following{/other_user}","gists_url":"https://api.github.com/users/leesf/gists{/gist_id}","starred_url":"https://api.github.com/users/leesf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leesf/subscriptions","organizations_url":"https://api.github.com/users/leesf/orgs","repos_url":"https://api.github.com/users/leesf/repos","events_url":"https://api.github.com/users/leesf/events{/privacy}","received_events_url":"https://api.github.com/users/leesf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-21T10:36:18Z","updated_at":"2021-11-21T10:36:18Z","author_association":"CONTRIBUTOR","body":"CC @yanghua ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974791744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974792940","html_url":"https://github.com/apache/hudi/pull/3703#issuecomment-974792940","issue_url":"https://api.github.com/repos/apache/hudi/issues/3703","id":974792940,"node_id":"IC_kwDOBI7nWM46Gijs","user":{"login":"minchowang","id":33626973,"node_id":"MDQ6VXNlcjMzNjI2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/33626973?v=4","gravatar_id":"","url":"https://api.github.com/users/minchowang","html_url":"https://github.com/minchowang","followers_url":"https://api.github.com/users/minchowang/followers","following_url":"https://api.github.com/users/minchowang/following{/other_user}","gists_url":"https://api.github.com/users/minchowang/gists{/gist_id}","starred_url":"https://api.github.com/users/minchowang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/minchowang/subscriptions","organizations_url":"https://api.github.com/users/minchowang/orgs","repos_url":"https://api.github.com/users/minchowang/repos","events_url":"https://api.github.com/users/minchowang/events{/privacy}","received_events_url":"https://api.github.com/users/minchowang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-21T10:45:42Z","updated_at":"2021-11-21T10:45:42Z","author_association":"CONTRIBUTOR","body":"> \r\n\r\n\r\n\r\n> @mincwang I think I find the cause of this behavior The codepath of hive rt query goes to\r\n> \r\n> https://github.com/apache/hudi/blob/0fb8556b0d9274aef650a46bb82a8cf495d4450b/hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieHiveUtils.java#L158-L169\r\n> \r\n> \r\n> you could set the config HOODIE_CONSUME_PENDING_COMMITS to true and try again.\r\n> The Spark MOR snapshot read codepath goes to\r\n> \r\n> https://github.com/apache/hudi/blob/a0dae41409a4f2d509aae1b16a4b509ec774c454/hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java#L238-L240\r\n> \r\n> \r\n> We should include the compaction request instant here as well.\r\n> Do you mind having a try with this fix?\r\n> \r\n> The file listing code path of Spark/Hive/Flink is different now, which leads to this issue. We need to unify the file listing as a high-priority task.\r\n\r\nWhy the Spark MOR snapshot read codepath goes to `hudi-hadoop-mr`It shouldn't be `hudi-spark`","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974792940/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974796357","html_url":"https://github.com/apache/hudi/pull/4026#issuecomment-974796357","issue_url":"https://api.github.com/repos/apache/hudi/issues/4026","id":974796357,"node_id":"IC_kwDOBI7nWM46GjZF","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-21T11:11:22Z","updated_at":"2021-11-21T11:11:22Z","author_association":"CONTRIBUTOR","body":"@alexeykudinkin   great work. thanks very much.\r\nI'll take a closer look tomorrow","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974796357/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974819625","html_url":"https://github.com/apache/hudi/issues/3394#issuecomment-974819625","issue_url":"https://api.github.com/repos/apache/hudi/issues/3394","id":974819625,"node_id":"IC_kwDOBI7nWM46GpEp","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-21T13:38:31Z","updated_at":"2021-11-21T13:38:31Z","author_association":"CONTRIBUTOR","body":"can you try setting `hoodie.datasource.write.precombine.field`. It should get applied to `hoodie.payload.ordering.field`. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974819625/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974820517","html_url":"https://github.com/apache/hudi/issues/4031#issuecomment-974820517","issue_url":"https://api.github.com/repos/apache/hudi/issues/4031","id":974820517,"node_id":"IC_kwDOBI7nWM46GpSl","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-21T13:44:30Z","updated_at":"2021-11-21T13:44:30Z","author_association":"CONTRIBUTOR","body":"Let me know if I understand your question correctly. \r\n- You are seeing a behavior where when \"_hoodie_is_deleted\" is set to null or false, hudi persist this column on storage. And you are asking why do we need to do this and why not just drop the column altogether? \r\n\r\n\r\nGuess its easier to have same schema across incoming dataset and whats in storage. Also, since this is a boolean column, and only non-deleted entries are persisted on storage, this will compress nicely. So, I don't think this will give us much benefit.\r\n\r\nLet me know if this makes sense. But happy to discuss more if you need more clarification or have suggestion to improve furhtere. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974820517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974821671","html_url":"https://github.com/apache/hudi/issues/4058#issuecomment-974821671","issue_url":"https://api.github.com/repos/apache/hudi/issues/4058","id":974821671,"node_id":"IC_kwDOBI7nWM46Gpkn","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-21T13:52:37Z","updated_at":"2021-11-21T13:52:37Z","author_association":"CONTRIBUTOR","body":"it should work, but may not be performant. We are looking to add record level index and some work is in progress on this end. You can follow the work [here](https://github.com/apache/hudi/pull/3508) and [here](https://cwiki.apache.org/confluence/display/HUDI/RFC-08++Record+level+indexing+mechanisms+for+Hudi+datasets).","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974821671/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974824144","html_url":"https://github.com/apache/hudi/issues/4043#issuecomment-974824144","issue_url":"https://api.github.com/repos/apache/hudi/issues/4043","id":974824144,"node_id":"IC_kwDOBI7nWM46GqLQ","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-21T14:08:02Z","updated_at":"2021-11-21T14:08:02Z","author_association":"CONTRIBUTOR","body":"May I know whats the new column you are adding just in writer2? In desc you are describing as `_hoodie_deleted_date`, but I don't see any such field in your target table schema. may be its a diff column is it. \r\nAlso, in general schema evolution works well if you add a new column to the end of the existing schema. if you add in the middle, I am not sure it might sit well. \r\nCan you confirm this. please. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974824144/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974826710","html_url":"https://github.com/apache/hudi/issues/4058#issuecomment-974826710","issue_url":"https://api.github.com/repos/apache/hudi/issues/4058","id":974826710,"node_id":"IC_kwDOBI7nWM46GqzW","user":{"login":"yapnel","id":4315354,"node_id":"MDQ6VXNlcjQzMTUzNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/4315354?v=4","gravatar_id":"","url":"https://api.github.com/users/yapnel","html_url":"https://github.com/yapnel","followers_url":"https://api.github.com/users/yapnel/followers","following_url":"https://api.github.com/users/yapnel/following{/other_user}","gists_url":"https://api.github.com/users/yapnel/gists{/gist_id}","starred_url":"https://api.github.com/users/yapnel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yapnel/subscriptions","organizations_url":"https://api.github.com/users/yapnel/orgs","repos_url":"https://api.github.com/users/yapnel/repos","events_url":"https://api.github.com/users/yapnel/events{/privacy}","received_events_url":"https://api.github.com/users/yapnel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-21T14:24:28Z","updated_at":"2021-11-21T14:24:28Z","author_association":"NONE","body":"> it should work, but may not be performant. We are looking to add record level index and some work is in progress on this end. You can follow the work [here](https://github.com/apache/hudi/pull/3508) and [here](https://cwiki.apache.org/confluence/display/HUDI/RFC-08++Record+level+indexing+mechanisms+for+Hudi+datasets).\n\nThank you. Any idea when this new index be available?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974826710/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974848916","html_url":"https://github.com/apache/hudi/issues/4043#issuecomment-974848916","issue_url":"https://api.github.com/repos/apache/hudi/issues/4043","id":974848916,"node_id":"IC_kwDOBI7nWM46GwOU","user":{"login":"Limess","id":3199181,"node_id":"MDQ6VXNlcjMxOTkxODE=","avatar_url":"https://avatars.githubusercontent.com/u/3199181?v=4","gravatar_id":"","url":"https://api.github.com/users/Limess","html_url":"https://github.com/Limess","followers_url":"https://api.github.com/users/Limess/followers","following_url":"https://api.github.com/users/Limess/following{/other_user}","gists_url":"https://api.github.com/users/Limess/gists{/gist_id}","starred_url":"https://api.github.com/users/Limess/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Limess/subscriptions","organizations_url":"https://api.github.com/users/Limess/orgs","repos_url":"https://api.github.com/users/Limess/repos","events_url":"https://api.github.com/users/Limess/events{/privacy}","received_events_url":"https://api.github.com/users/Limess/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-21T16:25:08Z","updated_at":"2021-11-21T16:34:23Z","author_association":"NONE","body":"`_hoodie_is_deleted` is the added column, sorry I misquoted it above.\r\n\r\nI believe this should have been added to the end of the schema, although I'm not sure how the ordering will have actually ended up in Hudi given we added this column in the source parquet files at the end, and add `story_published_partition_date` in the SQL transformer (`SELECT * story_published_partition_date as story_published_date FROM <src>`) - maybe this use of the SQL transformer is a mistake and we should be explicitly ordering columns?\r\n\r\ni.e. the process:\r\n\r\n1. Writer (2) adds the `_hoodie_is_deleted` column to the end of it's schema (parquet)\r\n2. Hudi deltastreamer loads the column into the target table\r\n3. Writer (1) starts failing as above (the column `_hoodie_is_deleted` does not exist in it's source parquet.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974848916/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974849011","html_url":"https://github.com/apache/hudi/issues/4044#issuecomment-974849011","issue_url":"https://api.github.com/repos/apache/hudi/issues/4044","id":974849011,"node_id":"IC_kwDOBI7nWM46GwPz","user":{"login":"nikita-sheremet-clearscale","id":26218826,"node_id":"MDQ6VXNlcjI2MjE4ODI2","avatar_url":"https://avatars.githubusercontent.com/u/26218826?v=4","gravatar_id":"","url":"https://api.github.com/users/nikita-sheremet-clearscale","html_url":"https://github.com/nikita-sheremet-clearscale","followers_url":"https://api.github.com/users/nikita-sheremet-clearscale/followers","following_url":"https://api.github.com/users/nikita-sheremet-clearscale/following{/other_user}","gists_url":"https://api.github.com/users/nikita-sheremet-clearscale/gists{/gist_id}","starred_url":"https://api.github.com/users/nikita-sheremet-clearscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikita-sheremet-clearscale/subscriptions","organizations_url":"https://api.github.com/users/nikita-sheremet-clearscale/orgs","repos_url":"https://api.github.com/users/nikita-sheremet-clearscale/repos","events_url":"https://api.github.com/users/nikita-sheremet-clearscale/events{/privacy}","received_events_url":"https://api.github.com/users/nikita-sheremet-clearscale/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-21T16:25:36Z","updated_at":"2021-11-21T16:28:40Z","author_association":"NONE","body":"@xushiyan \r\nMany thanks for the quick reply!!!\r\n\r\nHudi config is:\r\n```\r\nhoodie.datasource.hive_sync.database -> hudi\r\nhoodie.datasource.write.row.writer.enable -> false\r\nhoodie.parquet.small.file.limit -> 104857600\r\nhoodie.datasource.hive_sync.partition_fields -> y,m,d\r\nhoodie.bloom.index.filter.dynamic.max.entries -> 100000000\r\nhoodie.datasource.hive_sync.partition_extractor_class -> org.apache.hudi.hive.MultiPartKeysValueExtractor\r\nhoodie.parquet.max.file.size -> 209715200\r\nhoodie.parquet.page.size -> 1048576\r\nhoodie.bloom.index.prune.by.ranges -> false\r\nhoodie.parquet.block.size -> 209715200\r\nhoodie.datasource.hive_sync.table -> table\r\nhoodie.index.type -> BLOOM\r\nhoodie.datasource.write.operation -> bulk_insert\r\nhoodie.datasource.hive_sync.enable -> true\r\nhoodie.datasource.write.recordkey.field -> device_uuid\r\nhoodie.table.name -> table\r\nhoodie.datasource.write.table.type -> COPY_ON_WRITE\r\nhoodie.datasource.write.hive_style_partitioning -> true\r\nhoodie.bulkinsert.sort.mode -> NONE\r\nhoodie.datasource.write.keygenerator.class -> org.apache.hudi.keygen.ComplexKeyGenerator\r\nhoodie.datasource.write.drop.partition.columns -> true\r\nhoodie.datasource.write.partitionpath.field -> y,m,d\r\nhoodie.bloom.index.filter.type -> DYNAMIC_V0\r\nhoodie.bulkinsert.shuffle.parallelism -> 15000\r\nhoodie.index.bloom.num_entries -> 100000\r\n```\r\n\r\nThe file 20211115193538.rollback contains the following:\r\n```\r\nObj^A^B^Vavro.schema^U{\"type\":\"record\",\"name\":\"HoodieRollbackMetadata\",\"namespace\":\"org.apache.hudi.avro.model\",\"fields\":[{\"name\":\"startRollbackTime\",\"type\":{\"type\":\"string\",\"avro.java.string\":\"String\"}},{\"name\":\"timeTakenInMillis\",\"type\":\"long\"},{\"name\":\"totalFilesDeleted\",\"type\":\"int\"},{\"name\":\"commitsRollback\",\"type\":{\"type\":\"array\",\"items\":{\"type\":\"string\",\"avro.java.string\":\"String\"}}},{\"name\":\"partitionMetadata\",\"type\":{\"type\":\"map\",\"values\":{\"type\":\"record\",\"name\":\"HoodieRollbackPartitionMetadata\",\"fields\":[{\"name\":\"partitionPath\",\"type\":{\"type\":\"string\",\"avro.java.string\":\"String\"}},{\"name\":\"successDeleteFiles\",\"type\":{\"type\":\"array\",\"items\":{\"type\":\"string\",\"avro.java.string\":\"String\"}}},{\"name\":\"failedDeleteFiles\",\"type\":{\"type\":\"array\",\"items\":{\"type\":\"string\",\"avro.java.string\":\"String\"}}},{\"name\":\"rollbackLogFiles\",\"type\":[\"null\",{\"type\":\"map\",\"values\":\"long\",\"avro.java.string\":\"String\"}],\"default\":null},{\"name\":\"writtenLogFiles\",\"type\":[\"null\",{\"type\":\"map\",\"values\":\"long\",\"avro.java.string\":\"String\"}],\"default\":null}]},\"avro.java.string\":\"String\"}},{\"name\":\"version\",\"type\":[\"int\",\"null\"],\"default\":1},{\"name\":\"instantsRollback\",\"type\":{\"type\":\"array\",\"items\":{\"type\":\"record\",\"name\":\"HoodieInstantInfo\",\"fields\":[{\"name\":\"commitTime\",\"type\":{\"type\":\"string\",\"avro.java.string\":\"String\"}},{\"name\":\"action\",\"type\":{\"type\":\"string\",\"avro.java.string\":\"String\"}}]},\"default\":[]},\"default\":[]}]} H^W\by3^Y^XM^B_^\\20211115193538^GG^B^\\20211108130330 ^G y=2021/m=04/d=30 y=2021/m=04/d=30  ^B ^B  y=2020/m=06/d=30 y=2020/m=06/d=30  ^B ^B  y=2020/m=11/d=30 y=2020/m=11/d=30  ^B ^B  y=2020/m=11/d=23 y=2020/m=11/d=23  ^B ^B  y=2020/m=11/d=24 y=2020/m=11/d=24  ^B ^B  y=2020/m=11/d=21 y=2020/m=11/d=21  ^B ^B  y=2020/m=11/d=22 y=2020/m=11/d=22  ^B ^B  y=2020/m=11/d=27 y=2020/m=11/d=27  ^B ^B  y=2020/m=11/d=28 y=2020/m=11/d=28  ^B ^B  y=2020/m=11/d=25 y=2020/m=11/d=25  ^B ^B  y=2020/m=11/d=26 y=2020/m=11/d=26  ^B ^B  y=2020/m=11/d=20 y=2020/m=11/d=20  ^B ^B  y=2020/m=11/d=29\r\n```\r\nThen there is a list of partition key and file on s3. Why rollback operation is performed on so many partitions? Only partition with y=2021/m=07 was run.\r\n\r\nBtw hudi have a data and table. What happens when some partitions were deleted and then indexed?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974849011/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974849399","html_url":"https://github.com/apache/hudi/issues/4044#issuecomment-974849399","issue_url":"https://api.github.com/repos/apache/hudi/issues/4044","id":974849399,"node_id":"IC_kwDOBI7nWM46GwV3","user":{"login":"nikita-sheremet-clearscale","id":26218826,"node_id":"MDQ6VXNlcjI2MjE4ODI2","avatar_url":"https://avatars.githubusercontent.com/u/26218826?v=4","gravatar_id":"","url":"https://api.github.com/users/nikita-sheremet-clearscale","html_url":"https://github.com/nikita-sheremet-clearscale","followers_url":"https://api.github.com/users/nikita-sheremet-clearscale/followers","following_url":"https://api.github.com/users/nikita-sheremet-clearscale/following{/other_user}","gists_url":"https://api.github.com/users/nikita-sheremet-clearscale/gists{/gist_id}","starred_url":"https://api.github.com/users/nikita-sheremet-clearscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikita-sheremet-clearscale/subscriptions","organizations_url":"https://api.github.com/users/nikita-sheremet-clearscale/orgs","repos_url":"https://api.github.com/users/nikita-sheremet-clearscale/repos","events_url":"https://api.github.com/users/nikita-sheremet-clearscale/events{/privacy}","received_events_url":"https://api.github.com/users/nikita-sheremet-clearscale/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-21T16:28:14Z","updated_at":"2021-11-21T16:28:14Z","author_association":"NONE","body":"Btw is there documentation how hudi handles interrupted data? Like there was EMR job that failed/stopped in the middle. Then data created by this job were deleted manually and reinserted again. (No hudi delete or upsert operations).","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974849399/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974858404","html_url":"https://github.com/apache/hudi/pull/4061#issuecomment-974858404","issue_url":"https://api.github.com/repos/apache/hudi/issues/4061","id":974858404,"node_id":"IC_kwDOBI7nWM46Gyik","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-21T17:19:18Z","updated_at":"2021-11-21T17:19:18Z","author_association":"MEMBER","body":"lgtm! ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974858404/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974868366","html_url":"https://github.com/apache/hudi/issues/4044#issuecomment-974868366","issue_url":"https://api.github.com/repos/apache/hudi/issues/4044","id":974868366,"node_id":"IC_kwDOBI7nWM46G0-O","user":{"login":"nikita-sheremet-clearscale","id":26218826,"node_id":"MDQ6VXNlcjI2MjE4ODI2","avatar_url":"https://avatars.githubusercontent.com/u/26218826?v=4","gravatar_id":"","url":"https://api.github.com/users/nikita-sheremet-clearscale","html_url":"https://github.com/nikita-sheremet-clearscale","followers_url":"https://api.github.com/users/nikita-sheremet-clearscale/followers","following_url":"https://api.github.com/users/nikita-sheremet-clearscale/following{/other_user}","gists_url":"https://api.github.com/users/nikita-sheremet-clearscale/gists{/gist_id}","starred_url":"https://api.github.com/users/nikita-sheremet-clearscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikita-sheremet-clearscale/subscriptions","organizations_url":"https://api.github.com/users/nikita-sheremet-clearscale/orgs","repos_url":"https://api.github.com/users/nikita-sheremet-clearscale/repos","events_url":"https://api.github.com/users/nikita-sheremet-clearscale/events{/privacy}","received_events_url":"https://api.github.com/users/nikita-sheremet-clearscale/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-21T18:23:02Z","updated_at":"2021-11-21T18:23:02Z","author_association":"NONE","body":"@xushiyan \r\nI have rn `hudi-cli.sh show rollbacks` the outout is:\r\n\r\n```\r\nhudi:truedata_detections->show rollbacks\r\n21/11/21 18:13:53 INFO timeline.HoodieActiveTimeline: Loaded instants [[20210606040926__rollback__COMPLETED], [20210713074934__rollback__COMPLETED], [20210719111122__rollback__COMPLETED], [20211028080814__rollback__COMPLETED], [20211028080841__rollback__COMPLETED], [20211028080857__rollback__COMPLETED], [20211102154040__rollback__COMPLETED], [20211102185934__rollback__COMPLETED], [20211104113903__rollback__COMPLETED], [20211108130332__rollback__COMPLETED], [20211115193538__rollback__COMPLETED], [20211116071046__rollback__COMPLETED], [20211116175746__rollback__COMPLETED], [20211117072205__rollback__COMPLETED], [20211119122136__rollback__COMPLETED]]\r\n21/11/21 18:13:53 INFO s3n.S3NativeFileSystem: Opening 's3://bucket/table/.hoodie/20210606040926.rollback' for reading\r\n21/11/21 18:13:54 INFO s3n.S3NativeFileSystem: Opening 's3://bucket/table/.hoodie/20210713074934.rollback' for reading\r\n21/11/21 18:13:54 INFO s3n.S3NativeFileSystem: Opening 's3://bucket/table/.hoodie/20210719111122.rollback' for reading\r\n21/11/21 18:13:54 INFO s3n.S3NativeFileSystem: Opening 's3://bucket/table/.hoodie/20211028080814.rollback' for reading\r\n21/11/21 18:13:54 INFO s3n.S3NativeFileSystem: Opening 's3://bucket/table/.hoodie/20211028080841.rollback' for reading\r\n21/11/21 18:13:54 INFO s3n.S3NativeFileSystem: Opening 's3://bucket/table/.hoodie/20211028080857.rollback' for reading\r\n21/11/21 18:13:54 INFO s3n.S3NativeFileSystem: Opening 's3://bucket/table/.hoodie/20211102154040.rollback' for reading\r\n21/11/21 18:13:54 INFO s3n.S3NativeFileSystem: Opening 's3://bucket/table/.hoodie/20211102185934.rollback' for reading\r\n21/11/21 18:13:54 INFO s3n.S3NativeFileSystem: Opening 's3://bucket/table/.hoodie/20211104113903.rollback' for reading\r\n21/11/21 18:13:55 INFO s3n.S3NativeFileSystem: Opening 's3://bucket/table/.hoodie/20211108130332.rollback' for reading\r\n21/11/21 18:13:55 INFO s3n.S3NativeFileSystem: Opening 's3://bucket/table/.hoodie/20211115193538.rollback' for reading\r\n21/11/21 18:13:55 INFO s3n.S3NativeFileSystem: Opening 's3://bucket/table/.hoodie/20211116071046.rollback' for reading\r\n21/11/21 18:13:55 INFO s3n.S3NativeFileSystem: Opening 's3://bucket/table/.hoodie/20211116175746.rollback' for reading\r\n21/11/21 18:13:55 INFO s3n.S3NativeFileSystem: Opening 's3://bucket/table/.hoodie/20211117072205.rollback' for reading\r\n21/11/21 18:13:55 INFO s3n.S3NativeFileSystem: Opening 's3://bucket/table/.hoodie/20211119122136.rollback' for reading\r\n\r\n```\r\n\r\n```\r\n\r\n Instant              Rolledback Instant  Total Files Deleted  Time taken in millis  Total Partitions \r\n\r\n 2021-06-06T04:09:26  20210606013604      9762                 38399                 153              \r\n\r\n 2021-07-13T07:49:34  20210705115041      0                    8163                  481              \r\n\r\n 2021-07-19T11:11:22  20210713132859      0                    10832                 481              \r\n\r\n 2021-10-28T08:08:14  20211027180928      0                    8265                  275              \r\n\r\n 2021-10-28T08:08:41  20211028080812      0                    7521                  276              \r\n\r\n 2021-10-28T08:08:57  20211028080840      0                    8094                  276              \r\n\r\n 2021-11-02T15:40:40  20211102034711      0                    11370                 396              \r\n\r\n 2021-11-02T18:59:34  20211102154038      0                    11588                 396              \r\n\r\n 2021-11-04T11:39:03  20211102185933      0                    10932                 396              \r\n\r\n 2021-11-08T13:03:32  20211105112529      27723                259824                457              \r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974868366/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974870498","html_url":"https://github.com/apache/hudi/issues/3854#issuecomment-974870498","issue_url":"https://api.github.com/repos/apache/hudi/issues/3854","id":974870498,"node_id":"IC_kwDOBI7nWM46G1fi","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-21T18:37:36Z","updated_at":"2021-11-21T18:37:36Z","author_association":"CONTRIBUTOR","body":"Hey hi. Can you give it a try with open source across two versions. \r\n@umehrot2 : Can you chime in wrt EMR spark versions. Is there any performance patches expected for hudi 0.9.0 anytime? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974870498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974875070","html_url":"https://github.com/apache/hudi/issues/3933#issuecomment-974875070","issue_url":"https://api.github.com/repos/apache/hudi/issues/3933","id":974875070,"node_id":"IC_kwDOBI7nWM46G2m-","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-21T19:06:53Z","updated_at":"2021-11-21T19:06:53Z","author_association":"MEMBER","body":"@Limess a few questions\r\n\r\n- for this dataset do you want to run bulkinsert or upsert? if it's append only dataset, then bulkinsert should be the mode\r\n- does smaller parquet files matter a lot in this case? `GLOBAL_SORT` is expected to use more diskspace as it does a shuffling sort to line up records for bulk writing. If you change to `NONE` sort mode, you'd get more more small files but faster write and less disk spill. Small files can be mitigated by clustering. There is some trade-off to consider based on your needs.\r\n- 10036 parallelism may be a bit too high; some number around 3600 = # executors x # cores x 2 ?\r\n\r\n@nsivabalan @yihua any other tuning tips could help here?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974875070/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974883342","html_url":"https://github.com/apache/hudi/issues/3933#issuecomment-974883342","issue_url":"https://api.github.com/repos/apache/hudi/issues/3933","id":974883342,"node_id":"IC_kwDOBI7nWM46G4oO","user":{"login":"Limess","id":3199181,"node_id":"MDQ6VXNlcjMxOTkxODE=","avatar_url":"https://avatars.githubusercontent.com/u/3199181?v=4","gravatar_id":"","url":"https://api.github.com/users/Limess","html_url":"https://github.com/Limess","followers_url":"https://api.github.com/users/Limess/followers","following_url":"https://api.github.com/users/Limess/following{/other_user}","gists_url":"https://api.github.com/users/Limess/gists{/gist_id}","starred_url":"https://api.github.com/users/Limess/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Limess/subscriptions","organizations_url":"https://api.github.com/users/Limess/orgs","repos_url":"https://api.github.com/users/Limess/repos","events_url":"https://api.github.com/users/Limess/events{/privacy}","received_events_url":"https://api.github.com/users/Limess/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-21T19:49:58Z","updated_at":"2021-11-21T19:50:36Z","author_association":"NONE","body":"Thanks!\r\n\r\nWe're using bulk insert for this job and are happy with the performance vs regular upsert.\r\n\r\nRe: parallelism, we bumped this up after:\r\n1. Reading https://cwiki.apache.org/confluence/display/HUDI/Tuning+Guide, I guess this is now out of date:\r\n\t> We're setting parallelism based on the Tuning Guide which states to set it such that its atleast input_data_size/500MB.\r\n2. Observing the disk spill, we found increasing parallelism reduced it\r\n\r\nSmaller parquet files don't matter too much, if clustering can later fix the small files/sorting problems that sounds like a good thing to look at down the line (we haven't investigated clustering at all yet)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/974883342/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975011368","html_url":"https://github.com/apache/hudi/pull/4056#issuecomment-975011368","issue_url":"https://api.github.com/repos/apache/hudi/issues/4056","id":975011368,"node_id":"IC_kwDOBI7nWM46HX4o","user":{"login":"minchowang","id":33626973,"node_id":"MDQ6VXNlcjMzNjI2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/33626973?v=4","gravatar_id":"","url":"https://api.github.com/users/minchowang","html_url":"https://github.com/minchowang","followers_url":"https://api.github.com/users/minchowang/followers","following_url":"https://api.github.com/users/minchowang/following{/other_user}","gists_url":"https://api.github.com/users/minchowang/gists{/gist_id}","starred_url":"https://api.github.com/users/minchowang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/minchowang/subscriptions","organizations_url":"https://api.github.com/users/minchowang/orgs","repos_url":"https://api.github.com/users/minchowang/repos","events_url":"https://api.github.com/users/minchowang/events{/privacy}","received_events_url":"https://api.github.com/users/minchowang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T02:20:16Z","updated_at":"2021-11-22T02:20:16Z","author_association":"CONTRIBUTOR","body":"cc @danny0405 ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975011368/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975041971","html_url":"https://github.com/apache/hudi/pull/4014#issuecomment-975041971","issue_url":"https://api.github.com/repos/apache/hudi/issues/4014","id":975041971,"node_id":"IC_kwDOBI7nWM46HfWz","user":{"login":"boneanxs","id":10115332,"node_id":"MDQ6VXNlcjEwMTE1MzMy","avatar_url":"https://avatars.githubusercontent.com/u/10115332?v=4","gravatar_id":"","url":"https://api.github.com/users/boneanxs","html_url":"https://github.com/boneanxs","followers_url":"https://api.github.com/users/boneanxs/followers","following_url":"https://api.github.com/users/boneanxs/following{/other_user}","gists_url":"https://api.github.com/users/boneanxs/gists{/gist_id}","starred_url":"https://api.github.com/users/boneanxs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boneanxs/subscriptions","organizations_url":"https://api.github.com/users/boneanxs/orgs","repos_url":"https://api.github.com/users/boneanxs/repos","events_url":"https://api.github.com/users/boneanxs/events{/privacy}","received_events_url":"https://api.github.com/users/boneanxs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T03:38:28Z","updated_at":"2021-11-22T03:38:28Z","author_association":"CONTRIBUTOR","body":"@codope, @nsivabalan, gentle ping... Could you pls take a look, also cc @vinothchandar , maybe you can give us more inputs as you implemented this PathFilter :D","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975041971/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975160541","html_url":"https://github.com/apache/hudi/pull/4013#issuecomment-975160541","issue_url":"https://api.github.com/repos/apache/hudi/issues/4013","id":975160541,"node_id":"IC_kwDOBI7nWM46H8Td","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T06:11:29Z","updated_at":"2021-11-22T06:11:29Z","author_association":"CONTRIBUTOR","body":"@leesf\r\nwe can   build indexes for Dataskipping Manually\r\nstep1: we can use ZCurveOptimizeHelper.getMinMaxValue to get min-max statistics info for current table\r\nste2: use ZCurveOptimizeHelper.saveStatisticsInfo to save statistics info.\r\nsee line105  and line 111 in TestOptimizeTable\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975160541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975161713","html_url":"https://github.com/apache/hudi/pull/4013#issuecomment-975161713","issue_url":"https://api.github.com/repos/apache/hudi/issues/4013","id":975161713,"node_id":"IC_kwDOBI7nWM46H8lx","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T06:13:05Z","updated_at":"2021-11-22T06:13:05Z","author_association":"CONTRIBUTOR","body":"@vinothchandar @leesf @alexeykudinkin  could we merge this  patch to master \r\nthis patch can solve most of the problems in #4026 and #4060","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975161713/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975185576","html_url":"https://github.com/apache/hudi/issues/4062#issuecomment-975185576","issue_url":"https://api.github.com/repos/apache/hudi/issues/4062","id":975185576,"node_id":"IC_kwDOBI7nWM46ICao","user":{"login":"nikita-sheremet-clearscale","id":26218826,"node_id":"MDQ6VXNlcjI2MjE4ODI2","avatar_url":"https://avatars.githubusercontent.com/u/26218826?v=4","gravatar_id":"","url":"https://api.github.com/users/nikita-sheremet-clearscale","html_url":"https://github.com/nikita-sheremet-clearscale","followers_url":"https://api.github.com/users/nikita-sheremet-clearscale/followers","following_url":"https://api.github.com/users/nikita-sheremet-clearscale/following{/other_user}","gists_url":"https://api.github.com/users/nikita-sheremet-clearscale/gists{/gist_id}","starred_url":"https://api.github.com/users/nikita-sheremet-clearscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikita-sheremet-clearscale/subscriptions","organizations_url":"https://api.github.com/users/nikita-sheremet-clearscale/orgs","repos_url":"https://api.github.com/users/nikita-sheremet-clearscale/repos","events_url":"https://api.github.com/users/nikita-sheremet-clearscale/events{/privacy}","received_events_url":"https://api.github.com/users/nikita-sheremet-clearscale/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T07:01:48Z","updated_at":"2021-11-22T07:01:48Z","author_association":"NONE","body":"There are log statements in hudi sources like: `Starting commit  :` but it does not appear in logs. Is there a way to turn it on?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975185576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975202982","html_url":"https://github.com/apache/hudi/issues/4017#issuecomment-975202982","issue_url":"https://api.github.com/repos/apache/hudi/issues/4017","id":975202982,"node_id":"IC_kwDOBI7nWM46IGqm","user":{"login":"veenaypatil","id":52563354,"node_id":"MDQ6VXNlcjUyNTYzMzU0","avatar_url":"https://avatars.githubusercontent.com/u/52563354?v=4","gravatar_id":"","url":"https://api.github.com/users/veenaypatil","html_url":"https://github.com/veenaypatil","followers_url":"https://api.github.com/users/veenaypatil/followers","following_url":"https://api.github.com/users/veenaypatil/following{/other_user}","gists_url":"https://api.github.com/users/veenaypatil/gists{/gist_id}","starred_url":"https://api.github.com/users/veenaypatil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/veenaypatil/subscriptions","organizations_url":"https://api.github.com/users/veenaypatil/orgs","repos_url":"https://api.github.com/users/veenaypatil/repos","events_url":"https://api.github.com/users/veenaypatil/events{/privacy}","received_events_url":"https://api.github.com/users/veenaypatil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T07:29:52Z","updated_at":"2021-11-22T07:29:52Z","author_association":"CONTRIBUTOR","body":"@xushiyan  we were on 2.3.2 version on older cluster, on the new one it is 3.0.2 where it worked. I am closing this issue as the ETL is working is working after migrating to 3.x spark version","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975202982/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975213728","html_url":"https://github.com/apache/hudi/pull/4064#issuecomment-975213728","issue_url":"https://api.github.com/repos/apache/hudi/issues/4064","id":975213728,"node_id":"IC_kwDOBI7nWM46IJSg","user":{"login":"dongkelun","id":13376555,"node_id":"MDQ6VXNlcjEzMzc2NTU1","avatar_url":"https://avatars.githubusercontent.com/u/13376555?v=4","gravatar_id":"","url":"https://api.github.com/users/dongkelun","html_url":"https://github.com/dongkelun","followers_url":"https://api.github.com/users/dongkelun/followers","following_url":"https://api.github.com/users/dongkelun/following{/other_user}","gists_url":"https://api.github.com/users/dongkelun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongkelun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongkelun/subscriptions","organizations_url":"https://api.github.com/users/dongkelun/orgs","repos_url":"https://api.github.com/users/dongkelun/repos","events_url":"https://api.github.com/users/dongkelun/events{/privacy}","received_events_url":"https://api.github.com/users/dongkelun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T07:49:49Z","updated_at":"2021-11-22T07:49:49Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975213728/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975241019","html_url":"https://github.com/apache/hudi/issues/4055#issuecomment-975241019","issue_url":"https://api.github.com/repos/apache/hudi/issues/4055","id":975241019,"node_id":"IC_kwDOBI7nWM46IP87","user":{"login":"JB-data","id":38651031,"node_id":"MDQ6VXNlcjM4NjUxMDMx","avatar_url":"https://avatars.githubusercontent.com/u/38651031?v=4","gravatar_id":"","url":"https://api.github.com/users/JB-data","html_url":"https://github.com/JB-data","followers_url":"https://api.github.com/users/JB-data/followers","following_url":"https://api.github.com/users/JB-data/following{/other_user}","gists_url":"https://api.github.com/users/JB-data/gists{/gist_id}","starred_url":"https://api.github.com/users/JB-data/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JB-data/subscriptions","organizations_url":"https://api.github.com/users/JB-data/orgs","repos_url":"https://api.github.com/users/JB-data/repos","events_url":"https://api.github.com/users/JB-data/events{/privacy}","received_events_url":"https://api.github.com/users/JB-data/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T08:17:31Z","updated_at":"2021-11-22T10:13:23Z","author_association":"NONE","body":"@xushiyan \r\nThanks for reply. Indeed the query in my ticket was wrong- the sql really says FROM < SRC > ... I just corrected (so the job always has run with correct statement).\r\n\r\nWhere exactly should we check the application stacktrace? In both the the yarn application logs as the SPARK UI stacktrace I only find back the fact the container exited with code 134 or 143 (changes ), but not exactly why. The only place where I can infer where this happens is the stage in the spark ui that mentions: \r\nisEmpty at DeltaSync.java:344\r\nso I am assuming it comes from there? Here another part of the yarn applicatino logs:\r\n\r\n\r\n```\r\n[2021-11-19 13:44:57.189]Container exited with a non-zero exit code 134. Error file: prelaunch.err.\r\nLast 4096 bytes of prelaunch.err :\r\n/bin/bash: line 1:  7907 Aborted                 LD_LIBRARY_PATH=\"/opt/cloudera/parcels/CDH-7.2.2-1.cdh7.2.2.p3.7839477/lib/hadoop/../../../CDH-7.2.2-1.cdh7.2.2.p3.7839477/lib/hadoop/lib/native:\" /usr/lib/jvm/java/bin/java -server -Xmx12288m '-Djava.security.auth.login.config=./client.jaas' -Djava.io.tmpdir=/hadoopfs/fs1/nodemanager/usercache/myuser/appcache/application_1632244056069_1301/container_e29_1632244056069_1301_01_000009/tmp '-Dspark.driver.port=33466' '-Dspark.network.crypto.enabled=false' '-Dspark.authenticate=false' '-Dspark.shuffle.service.port=7337' '-Dspark.ui.port=0' -Dspark.yarn.app.container.log.dir=/hadoopfs/fs1/nodemanager/log/application_1632244056069_1301/container_e29_1632244056069_1301_01_000009 -XX:OnOutOfMemoryError='kill %p' org.apache.spark.executor.CoarseGrainedExecutorBackend --driver-url spark://CoarseGrainedScheduler@someworker0.:33466 --executor-id 8 --hostname someworkerr1 --cores 1 --app-id application_1632244056069_1301 --user-class-path file:/hadoopfs/fs1/nodemanager/usercache/myuser/appcache/application_1632244056069_1301/container_e29_1632244056069_1301_01_000009/__app__.jar --user-class-path file:/hadoopfs/fs1/nodemanager/usercache/myuser/appcache/application_1632244056069_1301/container_e29_1632244056069_1301_01_000009/hive-service-3.1.3000.7.2.2.3-1.jar --user-class-path file:/hadoopfs/fs1/nodemanager/usercache/myuser/appcache/application_1632244056069_1301/container_e29_1632244056069_1301_01_000009/hive-jdbc-3.1.3000.7.2.2.3-1.jar --user-class-path file:/hadoopfs/fs1/nodemanager/usercache/myuser/appcache/application_1632244056069_1301/container_e29_1632244056069_1301_01_000009/hbase-client.jar > /hadoopfs/fs1/nodemanager/log/application_1632244056069_1301/container_e29_1632244056069_1301_01_000009/stdout 2> /hadoopfs/fs1/nodemanager/log/application_1632244056069_1301/container_e29_1632244056069_1301_01_000009/stderr\r\nLast 4096 bytes of stderr :\r\nLast 4096 bytes of stderr :\r\ned but isn't a known config.\r\n21/11/19 13:44:52 WARN consumer.ConsumerConfig: The configuration 'hoodie.datasource.hive_sync.partition_fields' was supplied but isn't a known config.\r\n21/11/19 13:44:52 WARN consumer.ConsumerConfig: The configuration 'hoodie.deltastreamer.schemaprovider.source.schema.file' was supplied but isn't a known config.\r\n21/11/19 13:44:52 WARN consumer.ConsumerConfig: The configuration 'hoodie.deltastreamer.transformer.sql' was supplied but isn't a known config.\r\n21/11/19 13:44:52 WARN consumer.ConsumerConfig: The configuration 'hoodie.datasource.write.recordkey.field' was supplied but isn't a known config.\r\n21/11/19 13:44:52 WARN consumer.ConsumerConfig: The configuration 'hoodie.deltastreamer.source.kafka.topic' was supplied but isn't a known config.\r\n21/11/19 13:44:52 WARN consumer.ConsumerConfig: The configuration 'hoodie.datasource.hive_sync.enable' was supplied but isn't a known config.\r\n21/11/19 13:44:52 WARN consumer.ConsumerConfig: The configuration 'hoodie.datasource.hive_sync.assume_date_partitioning' was supplied but isn't a known config.\r\n21/11/19 13:44:52 WARN consumer.ConsumerConfig: The configuration 'hoodie.datasource.hive_sync.useJdbc' was supplied but isn't a known config.\r\n21/11/19 13:44:52 WARN consumer.ConsumerConfig: The configuration 'hoodie.deltastreamer.schemaprovider.target.schema.file' was supplied but isn't a known config.\r\n21/11/19 13:44:52 WARN consumer.ConsumerConfig: The configuration 'hoodie.datasource.write.partitionpath.field' was supplied but isn't a known config.\r\n21/11/19 13:44:52 WARN consumer.ConsumerConfig: The configuration 'hoodie.datasource.hive_sync.jdbcurl' was supplied but isn't a known config.\r\n21/11/19 13:44:52 WARN consumer.ConsumerConfig: The configuration 'hoodie.datasource.hive_sync.database' was supplied but isn't a known config.\r\n21/11/19 13:44:52 INFO utils.AppInfoParser: Kafka version: 2.4.1.7.1.1.0-565\r\n21/11/19 13:44:52 INFO utils.AppInfoParser: Kafka commitId: 7a66ef499adcd5b9\r\n21/11/19 13:44:52 INFO utils.AppInfoParser: Kafka startTimeMs: 1637329492101\r\n21/11/19 13:44:52 INFO consumer.KafkaConsumer: [Consumer clientId=consumer-spark-executor-hudi-1, groupId=spark-executor-hudi] Subscribed to partition(s): fr24messages-0\r\n21/11/19 13:44:52 INFO executor.CoarseGrainedExecutorBackend: Received tokens of 4197 bytes\r\n21/11/19 13:44:52 INFO deploy.SparkHadoopUtil: Updating delegation tokens for current user.\r\n21/11/19 13:44:52 INFO codegen.CodeGenerator: Code generated in 317.609485 ms\r\n21/11/19 13:44:52 INFO codegen.CodeGenerator: Code generated in 19.735724 ms\r\n21/11/19 13:44:52 INFO kafka010.InternalKafkaConsumer: Initial fetch for spark-executor-hudi fr24messages-0 10254239\r\n21/11/19 13:44:52 INFO consumer.KafkaConsumer: [Consumer clientId=consumer-spark-executor-hudi-1, groupId=spark-executor-hudi] Seeking to offset 10254239 for partition fr24messages-0\r\n21/11/19 13:44:53 INFO executor.CoarseGrainedExecutorBackend: Received tokens of 4197 bytes\r\n21/11/19 13:44:53 INFO deploy.SparkHadoopUtil: Updating delegation tokens for current user.\r\n21/11/19 13:44:53 INFO clients.Metadata: [Consumer clientId=consumer-spark-executor-hudi-1, groupId=spark-executor-hudi] Cluster ID: AFejYh8dRyaRfFU4x5PeMA\r\n21/11/19 13:44:54 INFO executor.CoarseGrainedExecutorBackend: Received tokens of 4197 bytes\r\n21/11/19 13:44:54 INFO deploy.SparkHadoopUtil: Updating delegation tokens for current user.\r\n21/11/19 13:44:54 INFO executor.CoarseGrainedExecutorBackend: Received tokens of 4197 bytes\r\n21/11/19 13:44:54 INFO deploy.SparkHadoopUtil: Updating delegation tokens for current user.\r\n21/11/19 13:44:55 INFO executor.CoarseGrainedExecutorBackend: Received tokens of 4197 bytes\r\n21/11/19 13:44:55 INFO deploy.SparkHadoopUtil: Updating delegation tokens for current user.\r\n21/11/19 13:44:56 INFO codegen.CodeGenerator: Code generated in 208.118952 ms\r\n21/11/19 13:44:56 INFO codegen.CodeGenerator: Code generated in 91.06291 ms\r\n21/11/19 13:44:56 INFO executor.CoarseGrainedExecutorBackend: Received tokens of 4197 bytes\r\n21/11/19 13:44:56 INFO deploy.SparkHadoopUtil: Updating delegation tokens for current user.\r\n\r\n\r\n.\r\nDriver stacktrace:\r\n  at org.apache.spark.scheduler.DAGScheduler.org$apache$spark$scheduler$DAGScheduler$$failJobAndIndependentStages(DAGScheduler.scala:1931)\r\n  at org.apache.spark.scheduler.DAGScheduler$$anonfun$abortStage$1.apply(DAGScheduler.scala:1919)\r\n  at org.apache.spark.scheduler.DAGScheduler$$anonfun$abortStage$1.apply(DAGScheduler.scala:1918)\r\n  at scala.collection.mutable.ResizableArray$class.foreach(ResizableArray.scala:59)\r\n  at scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:48)\r\n  at org.apache.spark.scheduler.DAGScheduler.abortStage(DAGScheduler.scala:1918)\r\n  at org.apache.spark.scheduler.DAGScheduler$$anonfun$handleTaskSetFailed$1.apply(DAGScheduler.scala:953)\r\n  at org.apache.spark.scheduler.DAGScheduler$$anonfun$handleTaskSetFailed$1.apply(DAGScheduler.scala:953)\r\n  at scala.Option.foreach(Option.scala:257)\r\n  at org.apache.spark.scheduler.DAGScheduler.handleTaskSetFailed(DAGScheduler.scala:953)\r\n  at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.doOnReceive(DAGScheduler.scala:2152)\r\n  at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2101)\r\n  at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2090)\r\n  at org.apache.spark.util.EventLoop$$anon$1.run(EventLoop.scala:49)\r\n  at org.apache.spark.scheduler.DAGScheduler.runJob(DAGScheduler.scala:764)\r\n  at org.apache.spark.SparkContext.runJob(SparkContext.scala:2082)\r\n  at org.apache.spark.SparkContext.runJob(SparkContext.scala:2103)\r\n  at org.apache.spark.SparkContext.runJob(SparkContext.scala:2122)\r\n  at org.apache.spark.rdd.RDD$$anonfun$take$1.apply(RDD.scala:1409)\r\n  at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n  at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:112)\r\n  at org.apache.spark.rdd.RDD.withScope(RDD.scala:385)\r\n  at org.apache.spark.rdd.RDD.take(RDD.scala:1382)\r\n  at org.apache.spark.rdd.RDD$$anonfun$isEmpty$1.apply$mcZ$sp(RDD.scala:1517)\r\n  at org.apache.spark.rdd.RDD$$anonfun$isEmpty$1.apply(RDD.scala:1517)\r\n  at org.apache.spark.rdd.RDD$$anonfun$isEmpty$1.apply(RDD.scala:1517)\r\n  at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n  at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:112)\r\n  at org.apache.spark.rdd.RDD.withScope(RDD.scala:385)\r\n  at org.apache.spark.rdd.RDD.isEmpty(RDD.scala:1516)\r\n  at org.apache.spark.api.java.JavaRDDLike$class.isEmpty(JavaRDDLike.scala:544)\r\n  at org.apache.spark.api.java.AbstractJavaRDDLike.isEmpty(JavaRDDLike.scala:45)\r\n  at org.apache.hudi.utilities.deltastreamer.DeltaSync.readFromSource(DeltaSync.java:344)\r\n  at org.apache.hudi.utilities.deltastreamer.DeltaSync.syncOnce(DeltaSync.java:233)\r\n  at org.apache.hudi.utilities.deltastreamer.HoodieDeltaStreamer.lambda$sync$2(HoodieDeltaStreamer.java:161)\r\n  at org.apache.hudi.common.util.Option.ifPresent(Option.java:96)\r\n  at org.apache.hudi.utilities.deltastreamer.HoodieDeltaStreamer.sync(HoodieDeltaStreamer.java:159)\r\n  at org.apache.hudi.utilities.deltastreamer.HoodieDeltaStreamer.main(HoodieDeltaStreamer.java:464)\r\n  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n  at java.lang.reflect.Method.invoke(Method.java:498)\r\n  at org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:665)\r\n....\r\n...\r\nDriver stacktrace:\r\norg.apache.spark.SparkException: Job aborted due to stage failure: Task 0 in stage 1.0 failed 8 times, most recent failure: Lost task 0.7 in stage 1.0 (TID 8, myworker1, executor 8): ExecutorLostFailure (executor 8 exited caused by one of the running tasks) Reason: Container from a bad node: container_e29_1632244056069_1301_01_000009 on host: myworker1. Exit status: 134. Diagnostics: 2 WARN consumer.ConsumerConfig: The configuration 'hoodie.deltastreamer.transformer.sql' was supplied but isn't a known config.\r\n21/11/19 13:44:52 WARN consumer.ConsumerConfig: The configuration 'hoodie.datasource.write.recordkey.field' was supplied but isn't a known config.\r\n21/11/19 13:44:52 WARN consumer.ConsumerConfig: The configuration 'hoodie.deltastreamer.source.kafka.topic' was supplied but isn't a known config.\r\n21/11/19 13:44:52 WARN consumer.ConsumerConfig: The configuration 'hoodie.datasource.hive_sync.enable' was supplied but isn't a known config.\r\n21/11/19 13:44:52 WARN consumer.ConsumerConfig: The configuration 'hoodie.datasource.hive_sync.assume_date_partitioning' was supplied but isn't a known config.\r\n21/11/19 13:44:52 WARN consumer.ConsumerConfig: The configuration 'hoodie.datasource.hive_sync.useJdbc' was supplied but isn't a known config.\r\n21/11/19 13:44:52 WARN consumer.ConsumerConfig: The configuration 'hoodie.deltastreamer.schemaprovider.target.schema.file' was supplied but isn't a known config.\r\n21/11/19 13:44:52 WARN consumer.ConsumerConfig: The configuration 'hoodie.datasource.write.partitionpath.field' was supplied but isn't a known config.\r\n21/11/19 13:44:52 WARN consumer.ConsumerConfig: The configuration 'hoodie.datasource.hive_sync.jdbcurl' was supplied but isn't a known config.\r\n21/11/19 13:44:52 WARN consumer.ConsumerConfig: The configuration 'hoodie.datasource.hive_sync.database' was supplied but isn't a known config.\r\n\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975241019/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975265863","html_url":"https://github.com/apache/hudi/issues/3905#issuecomment-975265863","issue_url":"https://api.github.com/repos/apache/hudi/issues/3905","id":975265863,"node_id":"IC_kwDOBI7nWM46IWBH","user":{"login":"JB-data","id":38651031,"node_id":"MDQ6VXNlcjM4NjUxMDMx","avatar_url":"https://avatars.githubusercontent.com/u/38651031?v=4","gravatar_id":"","url":"https://api.github.com/users/JB-data","html_url":"https://github.com/JB-data","followers_url":"https://api.github.com/users/JB-data/followers","following_url":"https://api.github.com/users/JB-data/following{/other_user}","gists_url":"https://api.github.com/users/JB-data/gists{/gist_id}","starred_url":"https://api.github.com/users/JB-data/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JB-data/subscriptions","organizations_url":"https://api.github.com/users/JB-data/orgs","repos_url":"https://api.github.com/users/JB-data/repos","events_url":"https://api.github.com/users/JB-data/events{/privacy}","received_events_url":"https://api.github.com/users/JB-data/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T08:33:27Z","updated_at":"2021-11-22T08:33:27Z","author_association":"NONE","body":"@xushiyan \r\nMany thanks for all your input!\r\n\r\nI think sparksql (at least in our setup-hadoop cluster with spark/hive/hdfs) registers this sql table in the default db in hive.  We noticed before at some point we were getting errors since the user running the job had no priviliges on the dfefault db in hive. After adding priviliges, this was solved.\r\nMaybe if you are only running spark (which then uses its own embedded db for running queries and not hive), it is different.\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975265863/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975267439","html_url":"https://github.com/apache/hudi/pull/3824#issuecomment-975267439","issue_url":"https://api.github.com/repos/apache/hudi/issues/3824","id":975267439,"node_id":"IC_kwDOBI7nWM46IWZv","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T08:34:16Z","updated_at":"2021-11-22T08:34:16Z","author_association":"MEMBER","body":"closing in favor of #4024 ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975267439/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975363860","html_url":"https://github.com/apache/hudi/pull/4022#issuecomment-975363860","issue_url":"https://api.github.com/repos/apache/hudi/issues/4022","id":975363860,"node_id":"IC_kwDOBI7nWM46It8U","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T10:13:52Z","updated_at":"2021-11-22T10:13:52Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"d716f0d7104e13727e769d859767ef343cd45407\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3448\",\n    \"triggerID\" : \"d716f0d7104e13727e769d859767ef343cd45407\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"d9567364d2535e68fbbc49e97bc2ee10fd2f5efd\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3556\",\n    \"triggerID\" : \"d9567364d2535e68fbbc49e97bc2ee10fd2f5efd\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"02651d763e6bf79a001e0bc24be280519acd2462\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3561\",\n    \"triggerID\" : \"02651d763e6bf79a001e0bc24be280519acd2462\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"2be004c0215c5e99579e0b554e3c57a33d3d4776\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3567\",\n    \"triggerID\" : \"2be004c0215c5e99579e0b554e3c57a33d3d4776\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"46b38ba6e4a97b729117142f1483d283258a1b9f\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3572\",\n    \"triggerID\" : \"46b38ba6e4a97b729117142f1483d283258a1b9f\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 46b38ba6e4a97b729117142f1483d283258a1b9f Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3572) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975363860/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975382023","html_url":"https://github.com/apache/hudi/pull/4013#issuecomment-975382023","issue_url":"https://api.github.com/repos/apache/hudi/issues/4013","id":975382023,"node_id":"IC_kwDOBI7nWM46IyYH","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T10:33:39Z","updated_at":"2021-11-22T10:33:39Z","author_association":"CONTRIBUTOR","body":"@leesf  addressed all commts, add UT for multi-thread parquet footer read ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975382023/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975382150","html_url":"https://github.com/apache/hudi/pull/4066#issuecomment-975382150","issue_url":"https://api.github.com/repos/apache/hudi/issues/4066","id":975382150,"node_id":"IC_kwDOBI7nWM46IyaG","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T10:33:49Z","updated_at":"2021-11-22T10:33:49Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"d7afbe6cb38ae2c254f5e57ad43ec245bd53ac00\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3573\",\n    \"triggerID\" : \"d7afbe6cb38ae2c254f5e57ad43ec245bd53ac00\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* d7afbe6cb38ae2c254f5e57ad43ec245bd53ac00 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3573) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975382150/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975401738","html_url":"https://github.com/apache/hudi/pull/3765#issuecomment-975401738","issue_url":"https://api.github.com/repos/apache/hudi/issues/3765","id":975401738,"node_id":"IC_kwDOBI7nWM46I3MK","user":{"login":"codope","id":16440354,"node_id":"MDQ6VXNlcjE2NDQwMzU0","avatar_url":"https://avatars.githubusercontent.com/u/16440354?v=4","gravatar_id":"","url":"https://api.github.com/users/codope","html_url":"https://github.com/codope","followers_url":"https://api.github.com/users/codope/followers","following_url":"https://api.github.com/users/codope/following{/other_user}","gists_url":"https://api.github.com/users/codope/gists{/gist_id}","starred_url":"https://api.github.com/users/codope/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codope/subscriptions","organizations_url":"https://api.github.com/users/codope/orgs","repos_url":"https://api.github.com/users/codope/repos","events_url":"https://api.github.com/users/codope/events{/privacy}","received_events_url":"https://api.github.com/users/codope/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T10:59:52Z","updated_at":"2021-11-22T10:59:52Z","author_association":"MEMBER","body":"> Hi @codope. Sorry to bother you. Just asking, is there anything I can do about this pr? Or could we land it and I will modify the docs as the next move :)\r\n\r\nSorry, this slipped out of my radar. This change is good to land. I have created [a separate ticket](https://issues.apache.org/jira/browse/HUDI-2820) to update the clustering blogs.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975401738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975408638","html_url":"https://github.com/apache/hudi/pull/4002#issuecomment-975408638","issue_url":"https://api.github.com/repos/apache/hudi/issues/4002","id":975408638,"node_id":"IC_kwDOBI7nWM46I43-","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T11:07:20Z","updated_at":"2021-11-22T11:07:20Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"0296a7541a161c4bc76aba0013f6b2fc75758e24\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3381\",\n    \"triggerID\" : \"0296a7541a161c4bc76aba0013f6b2fc75758e24\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"bd9cf565818e370b75b9e352abdcbbde701a9d89\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3575\",\n    \"triggerID\" : \"bd9cf565818e370b75b9e352abdcbbde701a9d89\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* bd9cf565818e370b75b9e352abdcbbde701a9d89 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3575) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975408638/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975419744","html_url":"https://github.com/apache/hudi/pull/3865#issuecomment-975419744","issue_url":"https://api.github.com/repos/apache/hudi/issues/3865","id":975419744,"node_id":"IC_kwDOBI7nWM46I7lg","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T11:20:23Z","updated_at":"2021-11-22T11:24:43Z","author_association":"CONTRIBUTOR","body":"@nsivabalan  could you explain why [mor-incremental support for hive](https://github.com/apache/hudi/commit/a40ac62e0ce7ec807a00803d23ed223d7c607459)   affect this prthanks. is it because of the HoodieLogFile from fileSlice has file size set to 0\r\n Maybe we can find a unified solution","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975419744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975426891","html_url":"https://github.com/apache/hudi/pull/4068#issuecomment-975426891","issue_url":"https://api.github.com/repos/apache/hudi/issues/4068","id":975426891,"node_id":"IC_kwDOBI7nWM46I9VL","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T11:29:28Z","updated_at":"2021-11-22T11:29:28Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"2c7d6d1756c212f5f998fd88d035acc61d6985c0\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3576\",\n    \"triggerID\" : \"2c7d6d1756c212f5f998fd88d035acc61d6985c0\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 2c7d6d1756c212f5f998fd88d035acc61d6985c0 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3576) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975426891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975456866","html_url":"https://github.com/apache/hudi/pull/4070#issuecomment-975456866","issue_url":"https://api.github.com/repos/apache/hudi/issues/4070","id":975456866,"node_id":"IC_kwDOBI7nWM46JEpi","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T12:09:53Z","updated_at":"2021-11-22T12:09:53Z","author_association":"CONTRIBUTOR","body":"@leesf  @yanghua  could you pls check this pr.  \r\n[HUDI-2533] lead this bug.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975456866/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975465180","html_url":"https://github.com/apache/hudi/pull/3869#issuecomment-975465180","issue_url":"https://api.github.com/repos/apache/hudi/issues/3869","id":975465180,"node_id":"IC_kwDOBI7nWM46JGrc","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T12:19:14Z","updated_at":"2021-11-22T12:19:14Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"9eedf85ff36c50f8fb15ffdf012b9655e8796bda\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2853\",\n    \"triggerID\" : \"9eedf85ff36c50f8fb15ffdf012b9655e8796bda\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"0e99606805d0e582c6e47fda663aee68a4429ae9\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2962\",\n    \"triggerID\" : \"0e99606805d0e582c6e47fda663aee68a4429ae9\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"a394f651edc88cda8b402f4e3f8bafdbf44b2106\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2965\",\n    \"triggerID\" : \"a394f651edc88cda8b402f4e3f8bafdbf44b2106\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"ef67c1c05908f9384f4c85d4d33e93eaee128197\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3473\",\n    \"triggerID\" : \"ef67c1c05908f9384f4c85d4d33e93eaee128197\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"499f6f76d0d6bd4b1721fb0559d3570316de5724\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3579\",\n    \"triggerID\" : \"499f6f76d0d6bd4b1721fb0559d3570316de5724\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 499f6f76d0d6bd4b1721fb0559d3570316de5724 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3579) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975465180/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975477611","html_url":"https://github.com/apache/hudi/pull/4013#issuecomment-975477611","issue_url":"https://api.github.com/repos/apache/hudi/issues/4013","id":975477611,"node_id":"IC_kwDOBI7nWM46JJtr","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T12:34:36Z","updated_at":"2021-11-22T12:34:36Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975477611/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975501665","html_url":"https://github.com/apache/hudi/pull/4070#issuecomment-975501665","issue_url":"https://api.github.com/repos/apache/hudi/issues/4070","id":975501665,"node_id":"IC_kwDOBI7nWM46JPlh","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T13:04:52Z","updated_at":"2021-11-22T13:04:52Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"9ef27f945d172e0f96369042ecf2d84bb7065ab6\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3583\",\n    \"triggerID\" : \"9ef27f945d172e0f96369042ecf2d84bb7065ab6\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 9ef27f945d172e0f96369042ecf2d84bb7065ab6 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3583) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975501665/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975529517","html_url":"https://github.com/apache/hudi/pull/4035#issuecomment-975529517","issue_url":"https://api.github.com/repos/apache/hudi/issues/4035","id":975529517,"node_id":"IC_kwDOBI7nWM46JWYt","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T13:36:17Z","updated_at":"2021-11-22T13:47:48Z","author_association":"CONTRIBUTOR","body":"@vinothchandar @prashantwason : I was half way through fixing finalize write to also delete extra marker files, but on second thought, wondering if we really need this fix for deleting the extra marker files in finalize write. \r\nso, far I have moved the finalize write before updating metadata table. but to delete the extra markers, we need to fix timeline server based which is not trivial (need to add an endpoint). this is not the main issue.\r\n\r\nAnyways, coming back to my point:  \r\nThis is a very tiny widow we are trying to solve here, and a large window anyways will have the gap we are looking to fix. \r\nfor eg, this will help us only when a partially failed commit is getting rolledback, and it failed just after writing to metadata table, but before committing to data table. In every other scenario, this is not going to help. \r\n- Incase, the commit failed even before writing to metadata table, this fix may not help. \r\n- If this represents a restore operation, we will do list based rollback. And so marker files does not matter. \r\n\r\nI feel like we are not gaining much by fixing this tiny window. \r\nThis is what I am thinking. I will move the finalize write before writing to metadata table. but will not delete the additional marker files. I don't feel we have much ROI. \r\nLet me know your opinion. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975529517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975547086","html_url":"https://github.com/apache/hudi/pull/4071#issuecomment-975547086","issue_url":"https://api.github.com/repos/apache/hudi/issues/4071","id":975547086,"node_id":"IC_kwDOBI7nWM46JarO","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T13:52:49Z","updated_at":"2021-11-22T13:52:49Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"f9ad7cab404667aade6fc31561f4b636602fa136\",\n    \"status\" : \"PENDING\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3591\",\n    \"triggerID\" : \"f9ad7cab404667aade6fc31561f4b636602fa136\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* f9ad7cab404667aade6fc31561f4b636602fa136 Azure: [PENDING](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3591) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975547086/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975556049","html_url":"https://github.com/apache/hudi/pull/4070#issuecomment-975556049","issue_url":"https://api.github.com/repos/apache/hudi/issues/4070","id":975556049,"node_id":"IC_kwDOBI7nWM46Jc3R","user":{"login":"leesf","id":10128888,"node_id":"MDQ6VXNlcjEwMTI4ODg4","avatar_url":"https://avatars.githubusercontent.com/u/10128888?v=4","gravatar_id":"","url":"https://api.github.com/users/leesf","html_url":"https://github.com/leesf","followers_url":"https://api.github.com/users/leesf/followers","following_url":"https://api.github.com/users/leesf/following{/other_user}","gists_url":"https://api.github.com/users/leesf/gists{/gist_id}","starred_url":"https://api.github.com/users/leesf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leesf/subscriptions","organizations_url":"https://api.github.com/users/leesf/orgs","repos_url":"https://api.github.com/users/leesf/repos","events_url":"https://api.github.com/users/leesf/events{/privacy}","received_events_url":"https://api.github.com/users/leesf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T14:00:50Z","updated_at":"2021-11-22T14:00:50Z","author_association":"CONTRIBUTOR","body":"this has been fixed. closing this PR.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975556049/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975581549","html_url":"https://github.com/apache/hudi/issues/2498#issuecomment-975581549","issue_url":"https://api.github.com/repos/apache/hudi/issues/2498","id":975581549,"node_id":"IC_kwDOBI7nWM46JjFt","user":{"login":"dmenin","id":8372967,"node_id":"MDQ6VXNlcjgzNzI5Njc=","avatar_url":"https://avatars.githubusercontent.com/u/8372967?v=4","gravatar_id":"","url":"https://api.github.com/users/dmenin","html_url":"https://github.com/dmenin","followers_url":"https://api.github.com/users/dmenin/followers","following_url":"https://api.github.com/users/dmenin/following{/other_user}","gists_url":"https://api.github.com/users/dmenin/gists{/gist_id}","starred_url":"https://api.github.com/users/dmenin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmenin/subscriptions","organizations_url":"https://api.github.com/users/dmenin/orgs","repos_url":"https://api.github.com/users/dmenin/repos","events_url":"https://api.github.com/users/dmenin/events{/privacy}","received_events_url":"https://api.github.com/users/dmenin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T14:25:47Z","updated_at":"2021-11-22T14:25:47Z","author_association":"NONE","body":"I confirm I have the same problem with Spark 3.0 and hudi 0.9\r\n\r\n```\r\npy4j.protocol.Py4JJavaError: An error occurred while calling o158.showString.\r\n: java.lang.NoSuchMethodError: org.apache.spark.sql.execution.datasources.PartitionedFile.<init>(Lorg/apache/spark/sql/catalyst/InternalRow;Ljava/lang/String;JJ[Ljava/lang/String;)V\r\n\tat org.apache.hudi.MergeOnReadSnapshotRelation.$anonfun$buildFileIndex$3(MergeOnReadSnapshotRelation.scala:173)\r\n\tat scala.collection.TraversableLike.$anonfun$map$1(TraversableLike.scala:238)\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975581549/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975592693","html_url":"https://github.com/apache/hudi/issues/4055#issuecomment-975592693","issue_url":"https://api.github.com/repos/apache/hudi/issues/4055","id":975592693,"node_id":"IC_kwDOBI7nWM46Jlz1","user":{"login":"JB-data","id":38651031,"node_id":"MDQ6VXNlcjM4NjUxMDMx","avatar_url":"https://avatars.githubusercontent.com/u/38651031?v=4","gravatar_id":"","url":"https://api.github.com/users/JB-data","html_url":"https://github.com/JB-data","followers_url":"https://api.github.com/users/JB-data/followers","following_url":"https://api.github.com/users/JB-data/following{/other_user}","gists_url":"https://api.github.com/users/JB-data/gists{/gist_id}","starred_url":"https://api.github.com/users/JB-data/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JB-data/subscriptions","organizations_url":"https://api.github.com/users/JB-data/orgs","repos_url":"https://api.github.com/users/JB-data/repos","events_url":"https://api.github.com/users/JB-data/events{/privacy}","received_events_url":"https://api.github.com/users/JB-data/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T14:36:41Z","updated_at":"2021-11-22T14:36:41Z","author_association":"NONE","body":"The error comes from :\r\nhttps://github.com/apache/hudi/blob/release-0.6.0/hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java line 344 : the check if avroRDDOptional.get().isEmpty() . I wonder if it could be due to a wrong schema provided, as avroRddOptional is initialized in line 311 and this requires the schema to be fetched.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975592693/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975601135","html_url":"https://github.com/apache/hudi/pull/3771#issuecomment-975601135","issue_url":"https://api.github.com/repos/apache/hudi/issues/3771","id":975601135,"node_id":"IC_kwDOBI7nWM46Jn3v","user":{"login":"codope","id":16440354,"node_id":"MDQ6VXNlcjE2NDQwMzU0","avatar_url":"https://avatars.githubusercontent.com/u/16440354?v=4","gravatar_id":"","url":"https://api.github.com/users/codope","html_url":"https://github.com/codope","followers_url":"https://api.github.com/users/codope/followers","following_url":"https://api.github.com/users/codope/following{/other_user}","gists_url":"https://api.github.com/users/codope/gists{/gist_id}","starred_url":"https://api.github.com/users/codope/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codope/subscriptions","organizations_url":"https://api.github.com/users/codope/orgs","repos_url":"https://api.github.com/users/codope/repos","events_url":"https://api.github.com/users/codope/events{/privacy}","received_events_url":"https://api.github.com/users/codope/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T14:45:23Z","updated_at":"2021-11-22T14:45:23Z","author_association":"MEMBER","body":"> > @test-wangxiaoyu All comments are resolved but CI is still failing. Can you please check that?\r\n> > ```\r\n> > [ERROR] org.apache.hudi.hive.TestHiveSyncTool.testHiveSyncOfKerberosEnvironment  Time elapsed: 0.075 s  <<< ERROR!\r\n> > java.lang.IllegalArgumentException: Can't get Kerberos realm\r\n> > \tat org.apache.hudi.hive.TestHiveSyncTool.testHiveSyncOfKerberosEnvironment(TestHiveSyncTool.java:1035)\r\n> > ```\r\n> \r\n> This error is due to a problem with your KRB5 file. You need to check whether krB5 contains Realms properties and whether realms addresses can be connected\r\n\r\n@test-wangxiaoyu In that case, I would avoid tests that are dependent on environment. Is there a way to make this independent of env, e.g. using mock for krb realm?\r\nAlso, if you could resolve the conflicts, that would be great. We would like to take this in the upcoming release.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975601135/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975601661","html_url":"https://github.com/apache/hudi/issues/3854#issuecomment-975601661","issue_url":"https://api.github.com/repos/apache/hudi/issues/3854","id":975601661,"node_id":"IC_kwDOBI7nWM46Jn_9","user":{"login":"Limess","id":3199181,"node_id":"MDQ6VXNlcjMxOTkxODE=","avatar_url":"https://avatars.githubusercontent.com/u/3199181?v=4","gravatar_id":"","url":"https://api.github.com/users/Limess","html_url":"https://github.com/Limess","followers_url":"https://api.github.com/users/Limess/followers","following_url":"https://api.github.com/users/Limess/following{/other_user}","gists_url":"https://api.github.com/users/Limess/gists{/gist_id}","starred_url":"https://api.github.com/users/Limess/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Limess/subscriptions","organizations_url":"https://api.github.com/users/Limess/orgs","repos_url":"https://api.github.com/users/Limess/repos","events_url":"https://api.github.com/users/Limess/events{/privacy}","received_events_url":"https://api.github.com/users/Limess/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T14:46:00Z","updated_at":"2021-11-22T14:46:00Z","author_association":"NONE","body":"Hey, I tried with open source Hudi 0.8 and the results were the same as the Amazon version (OS version was actually marginally faster but within a margin of error)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975601661/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975654133","html_url":"https://github.com/apache/hudi/pull/4024#issuecomment-975654133","issue_url":"https://api.github.com/repos/apache/hudi/issues/4024","id":975654133,"node_id":"IC_kwDOBI7nWM46J0z1","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T15:40:44Z","updated_at":"2021-11-22T15:40:44Z","author_association":"CONTRIBUTOR","body":"@hudi-bot azure run","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975654133/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975703379","html_url":"https://github.com/apache/hudi/pull/4024#issuecomment-975703379","issue_url":"https://api.github.com/repos/apache/hudi/issues/4024","id":975703379,"node_id":"IC_kwDOBI7nWM46KA1T","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T16:32:45Z","updated_at":"2021-11-22T16:32:45Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"497fd871304a7696df82e2e89d79c49b92308a18\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3450\",\n    \"triggerID\" : \"497fd871304a7696df82e2e89d79c49b92308a18\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"3f4f4d147d0bafd5305b1e6dd141116e2790591b\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3477\",\n    \"triggerID\" : \"3f4f4d147d0bafd5305b1e6dd141116e2790591b\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"61eb78b61845964a94cd0304aeeb8be954323f0b\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3584\",\n    \"triggerID\" : \"61eb78b61845964a94cd0304aeeb8be954323f0b\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"acb91ee591874b835f7e7d258e7be22ed4ee9cc6\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3592\",\n    \"triggerID\" : \"acb91ee591874b835f7e7d258e7be22ed4ee9cc6\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"30aa21542b45a77c9a678b8e0d2f5a0d1c1f4646\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3595\",\n    \"triggerID\" : \"30aa21542b45a77c9a678b8e0d2f5a0d1c1f4646\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 30aa21542b45a77c9a678b8e0d2f5a0d1c1f4646 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3595) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975703379/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975715501","html_url":"https://github.com/apache/hudi/pull/4024#issuecomment-975715501","issue_url":"https://api.github.com/repos/apache/hudi/issues/4024","id":975715501,"node_id":"IC_kwDOBI7nWM46KDyt","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T16:42:28Z","updated_at":"2021-11-22T16:42:28Z","author_association":"CONTRIBUTOR","body":"@xushiyan : I am going to land this now.  But, can you update your test results here. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975715501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975812861","html_url":"https://github.com/apache/hudi/pull/3985#issuecomment-975812861","issue_url":"https://api.github.com/repos/apache/hudi/issues/3985","id":975812861,"node_id":"IC_kwDOBI7nWM46Kbj9","user":{"login":"prashantwason","id":58448203,"node_id":"MDQ6VXNlcjU4NDQ4MjAz","avatar_url":"https://avatars.githubusercontent.com/u/58448203?v=4","gravatar_id":"","url":"https://api.github.com/users/prashantwason","html_url":"https://github.com/prashantwason","followers_url":"https://api.github.com/users/prashantwason/followers","following_url":"https://api.github.com/users/prashantwason/following{/other_user}","gists_url":"https://api.github.com/users/prashantwason/gists{/gist_id}","starred_url":"https://api.github.com/users/prashantwason/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prashantwason/subscriptions","organizations_url":"https://api.github.com/users/prashantwason/orgs","repos_url":"https://api.github.com/users/prashantwason/repos","events_url":"https://api.github.com/users/prashantwason/events{/privacy}","received_events_url":"https://api.github.com/users/prashantwason/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T18:39:38Z","updated_at":"2021-11-22T18:39:38Z","author_association":"MEMBER","body":"@jintaoguan  What is the effect of this change on existing users when they upgrade?\r\n1. If they do not want to use column pruning?\r\n2. Is VectorizedReader faster then non-vectorized?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975812861/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975966072","html_url":"https://github.com/apache/hudi/pull/4073#issuecomment-975966072","issue_url":"https://api.github.com/repos/apache/hudi/issues/4073","id":975966072,"node_id":"IC_kwDOBI7nWM46LA94","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T22:16:38Z","updated_at":"2021-11-22T22:16:38Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"bb4865b80e73b05f4ea80e966035086c796ea5d0\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3600\",\n    \"triggerID\" : \"bb4865b80e73b05f4ea80e966035086c796ea5d0\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"b96f32222538f2b01bdf0c13aeb9e400ebafa564\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"b96f32222538f2b01bdf0c13aeb9e400ebafa564\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"c7e6477aaca5f191caf5307266c45c5ba8e65068\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3603\",\n    \"triggerID\" : \"c7e6477aaca5f191caf5307266c45c5ba8e65068\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* b96f32222538f2b01bdf0c13aeb9e400ebafa564 UNKNOWN\n* c7e6477aaca5f191caf5307266c45c5ba8e65068 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3603) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975966072/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975998702","html_url":"https://github.com/apache/hudi/pull/3865#issuecomment-975998702","issue_url":"https://api.github.com/repos/apache/hudi/issues/3865","id":975998702,"node_id":"IC_kwDOBI7nWM46LI7u","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T23:16:02Z","updated_at":"2021-11-22T23:16:44Z","author_association":"CONTRIBUTOR","body":"@xiarixiaoyao : yeah. when I initially put up this patch, I assumed HoodieLogFile will always have proper size set. But once the mor incremental refactoring PR got landed, this patch is failing and does not work anymore. I tried looking into the mor refactoring patch, but could not get much leads. Can you help me here. Is there anyplace you are not setting the size for HoodieLogFile? or letting it set to 0 by default in any of the code paths. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/975998702/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/976011313","html_url":"https://github.com/apache/hudi/pull/3865#issuecomment-976011313","issue_url":"https://api.github.com/repos/apache/hudi/issues/3865","id":976011313,"node_id":"IC_kwDOBI7nWM46LMAx","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T23:43:03Z","updated_at":"2021-11-22T23:43:03Z","author_association":"CONTRIBUTOR","body":"@hudi-bot azure run","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/976011313/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/976014986","html_url":"https://github.com/apache/hudi/pull/3986#issuecomment-976014986","issue_url":"https://api.github.com/repos/apache/hudi/issues/3986","id":976014986,"node_id":"IC_kwDOBI7nWM46LM6K","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T23:53:08Z","updated_at":"2021-11-22T23:53:08Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"bec502451cdffe7c4ff8d86aec27482397c28991\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3345\",\n    \"triggerID\" : \"bec502451cdffe7c4ff8d86aec27482397c28991\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"786d593265ce66cff0167261dc34fceeeeb9310f\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3387\",\n    \"triggerID\" : \"786d593265ce66cff0167261dc34fceeeeb9310f\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"d6873a12f5a3d16b4e3505243780ea56339b3d2e\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3388\",\n    \"triggerID\" : \"d6873a12f5a3d16b4e3505243780ea56339b3d2e\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"d6873a12f5a3d16b4e3505243780ea56339b3d2e\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3405\",\n    \"triggerID\" : \"969861249\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"1e675d3964b69da921b8d5b68c329094cb4f56b5\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3604\",\n    \"triggerID\" : \"1e675d3964b69da921b8d5b68c329094cb4f56b5\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 1e675d3964b69da921b8d5b68c329094cb4f56b5 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3604) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/976014986/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/976085582","html_url":"https://github.com/apache/hudi/pull/3991#issuecomment-976085582","issue_url":"https://api.github.com/repos/apache/hudi/issues/3991","id":976085582,"node_id":"IC_kwDOBI7nWM46LeJO","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-23T01:16:58Z","updated_at":"2021-11-23T01:16:58Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"7dc783721ada6cb675f58af0383fcb5d81f5c2db\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3356\",\n    \"triggerID\" : \"7dc783721ada6cb675f58af0383fcb5d81f5c2db\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"6a1b37be3d0e4bd361040b4e1dc59bd3274eb5c3\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3484\",\n    \"triggerID\" : \"6a1b37be3d0e4bd361040b4e1dc59bd3274eb5c3\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"2a40db3adb4f3f972f45a84e892164d78b6121b1\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3555\",\n    \"triggerID\" : \"2a40db3adb4f3f972f45a84e892164d78b6121b1\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"301a278ebf3abf5cc57b3b333c3ecbef9a384e84\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3589\",\n    \"triggerID\" : \"301a278ebf3abf5cc57b3b333c3ecbef9a384e84\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"d9815aef6044a87d9810c0bcfd308f8fc51239b9\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3606\",\n    \"triggerID\" : \"d9815aef6044a87d9810c0bcfd308f8fc51239b9\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* d9815aef6044a87d9810c0bcfd308f8fc51239b9 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3606) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/976085582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/976085684","html_url":"https://github.com/apache/hudi/pull/4010#issuecomment-976085684","issue_url":"https://api.github.com/repos/apache/hudi/issues/4010","id":976085684,"node_id":"IC_kwDOBI7nWM46LeK0","user":{"login":"kywe665","id":1703248,"node_id":"MDQ6VXNlcjE3MDMyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1703248?v=4","gravatar_id":"","url":"https://api.github.com/users/kywe665","html_url":"https://github.com/kywe665","followers_url":"https://api.github.com/users/kywe665/followers","following_url":"https://api.github.com/users/kywe665/following{/other_user}","gists_url":"https://api.github.com/users/kywe665/gists{/gist_id}","starred_url":"https://api.github.com/users/kywe665/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kywe665/subscriptions","organizations_url":"https://api.github.com/users/kywe665/orgs","repos_url":"https://api.github.com/users/kywe665/repos","events_url":"https://api.github.com/users/kywe665/events{/privacy}","received_events_url":"https://api.github.com/users/kywe665/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-23T01:17:16Z","updated_at":"2021-11-23T01:17:16Z","author_association":"NONE","body":"Thanks @bhasudha, I made the corresponding updates ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/976085684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/976093066","html_url":"https://github.com/apache/hudi/pull/3865#issuecomment-976093066","issue_url":"https://api.github.com/repos/apache/hudi/issues/3865","id":976093066,"node_id":"IC_kwDOBI7nWM46Lf-K","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-23T01:40:41Z","updated_at":"2021-11-23T01:40:41Z","author_association":"CONTRIBUTOR","body":"@nsivabalan  i will check it today.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/976093066/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/976109726","html_url":"https://github.com/apache/hudi/pull/4013#issuecomment-976109726","issue_url":"https://api.github.com/repos/apache/hudi/issues/4013","id":976109726,"node_id":"IC_kwDOBI7nWM46LkCe","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-23T02:32:43Z","updated_at":"2021-11-23T02:32:43Z","author_association":"MEMBER","body":"@alexeykudinkin @xiarixiaoyao This is a little bit of a miss from my side. Should have stepped in to co-ordinate better. I will review all 3 PRs and make forward progress. \r\n\r\nIn the future, we can use our umbrella task and then split up work off these, so we avoid these overlaps?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/976109726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/976110098","html_url":"https://github.com/apache/hudi/pull/3857#issuecomment-976110098","issue_url":"https://api.github.com/repos/apache/hudi/issues/3857","id":976110098,"node_id":"IC_kwDOBI7nWM46LkIS","user":{"login":"rmahindra123","id":76502047,"node_id":"MDQ6VXNlcjc2NTAyMDQ3","avatar_url":"https://avatars.githubusercontent.com/u/76502047?v=4","gravatar_id":"","url":"https://api.github.com/users/rmahindra123","html_url":"https://github.com/rmahindra123","followers_url":"https://api.github.com/users/rmahindra123/followers","following_url":"https://api.github.com/users/rmahindra123/following{/other_user}","gists_url":"https://api.github.com/users/rmahindra123/gists{/gist_id}","starred_url":"https://api.github.com/users/rmahindra123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmahindra123/subscriptions","organizations_url":"https://api.github.com/users/rmahindra123/orgs","repos_url":"https://api.github.com/users/rmahindra123/repos","events_url":"https://api.github.com/users/rmahindra123/events{/privacy}","received_events_url":"https://api.github.com/users/rmahindra123/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-23T02:33:57Z","updated_at":"2021-11-23T02:33:57Z","author_association":"CONTRIBUTOR","body":"lgmt, will let @codope give the final thumbs-up!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/976110098/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/976112535","html_url":"https://github.com/apache/hudi/pull/3882#issuecomment-976112535","issue_url":"https://api.github.com/repos/apache/hudi/issues/3882","id":976112535,"node_id":"IC_kwDOBI7nWM46LkuX","user":{"login":"dongkelun","id":13376555,"node_id":"MDQ6VXNlcjEzMzc2NTU1","avatar_url":"https://avatars.githubusercontent.com/u/13376555?v=4","gravatar_id":"","url":"https://api.github.com/users/dongkelun","html_url":"https://github.com/dongkelun","followers_url":"https://api.github.com/users/dongkelun/followers","following_url":"https://api.github.com/users/dongkelun/following{/other_user}","gists_url":"https://api.github.com/users/dongkelun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongkelun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongkelun/subscriptions","organizations_url":"https://api.github.com/users/dongkelun/orgs","repos_url":"https://api.github.com/users/dongkelun/repos","events_url":"https://api.github.com/users/dongkelun/events{/privacy}","received_events_url":"https://api.github.com/users/dongkelun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-23T02:42:38Z","updated_at":"2021-11-23T02:42:38Z","author_association":"CONTRIBUTOR","body":"@xushiyan Hi, can you help review this?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/976112535/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/976113439","html_url":"https://github.com/apache/hudi/pull/3771#issuecomment-976113439","issue_url":"https://api.github.com/repos/apache/hudi/issues/3771","id":976113439,"node_id":"IC_kwDOBI7nWM46Lk8f","user":{"login":"test-wangxiaoyu","id":90183930,"node_id":"MDQ6VXNlcjkwMTgzOTMw","avatar_url":"https://avatars.githubusercontent.com/u/90183930?v=4","gravatar_id":"","url":"https://api.github.com/users/test-wangxiaoyu","html_url":"https://github.com/test-wangxiaoyu","followers_url":"https://api.github.com/users/test-wangxiaoyu/followers","following_url":"https://api.github.com/users/test-wangxiaoyu/following{/other_user}","gists_url":"https://api.github.com/users/test-wangxiaoyu/gists{/gist_id}","starred_url":"https://api.github.com/users/test-wangxiaoyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/test-wangxiaoyu/subscriptions","organizations_url":"https://api.github.com/users/test-wangxiaoyu/orgs","repos_url":"https://api.github.com/users/test-wangxiaoyu/repos","events_url":"https://api.github.com/users/test-wangxiaoyu/events{/privacy}","received_events_url":"https://api.github.com/users/test-wangxiaoyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-23T02:45:27Z","updated_at":"2021-11-23T02:45:27Z","author_association":"NONE","body":"> > > @test-wangxiaoyu All comments are resolved but CI is still failing. Can you please check that?\r\n> > > ```\r\n> > > [ERROR] org.apache.hudi.hive.TestHiveSyncTool.testHiveSyncOfKerberosEnvironment  Time elapsed: 0.075 s  <<< ERROR!\r\n> > > java.lang.IllegalArgumentException: Can't get Kerberos realm\r\n> > > \tat org.apache.hudi.hive.TestHiveSyncTool.testHiveSyncOfKerberosEnvironment(TestHiveSyncTool.java:1035)\r\n> > > ```\r\n> > \r\n> > \r\n> > This error is due to a problem with your KRB5 file. You need to check whether krB5 contains Realms properties and whether realms addresses can be connected\r\n> \r\n> @test-wangxiaoyu In that case, I would avoid tests that are dependent on environment. Is there a way to make this independent of env, e.g. using mock for krb realm? Also, if you could resolve the conflicts, that would be great. We would like to take this in the upcoming release.\r\n\r\nI have resolved the conflict. Sorry, the mock for Krb Realm is too difficult to implement, kerberos is a complex system","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/976113439/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/976114333","html_url":"https://github.com/apache/hudi/pull/4013#issuecomment-976114333","issue_url":"https://api.github.com/repos/apache/hudi/issues/4013","id":976114333,"node_id":"IC_kwDOBI7nWM46LlKd","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-23T02:48:15Z","updated_at":"2021-11-23T02:48:15Z","author_association":"CONTRIBUTOR","body":"@vinothchandar \r\nYes, there are a lot of repetitive work at present.\r\n\r\nI'm very sorry for this. This series of problems are caused by the inconsistency between my local code and the community submitted code,","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/976114333/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/976120008","html_url":"https://github.com/apache/hudi/pull/4013#issuecomment-976120008","issue_url":"https://api.github.com/repos/apache/hudi/issues/4013","id":976120008,"node_id":"IC_kwDOBI7nWM46LmjI","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-23T03:06:20Z","updated_at":"2021-11-23T03:06:20Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/976120008/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/976141742","html_url":"https://github.com/apache/hudi/pull/3952#issuecomment-976141742","issue_url":"https://api.github.com/repos/apache/hudi/issues/3952","id":976141742,"node_id":"IC_kwDOBI7nWM46Lr2u","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-23T03:41:56Z","updated_at":"2021-11-23T03:41:56Z","author_association":"MEMBER","body":">however As more and more columns participate in sorting, Hilbert will be slower and slower\r\n\r\nyou mean to build or the skipping efficiency?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/976141742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/976149196","html_url":"https://github.com/apache/hudi/pull/3998#issuecomment-976149196","issue_url":"https://api.github.com/repos/apache/hudi/issues/3998","id":976149196,"node_id":"IC_kwDOBI7nWM46LtrM","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-23T03:54:13Z","updated_at":"2021-11-23T03:54:13Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"fc63a8f7b736b09d3f7593963c11438730e96793\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3370\",\n    \"triggerID\" : \"fc63a8f7b736b09d3f7593963c11438730e96793\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"be86e20b85317383e41db5895aa5aa71dfdf85ea\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3549\",\n    \"triggerID\" : \"be86e20b85317383e41db5895aa5aa71dfdf85ea\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"b451b3b4544ef112a8573d1040dfcc23e19a610d\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3553\",\n    \"triggerID\" : \"b451b3b4544ef112a8573d1040dfcc23e19a610d\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"256c4c8c909ae78b6c9fbfa9e58e008f5906de8c\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3554\",\n    \"triggerID\" : \"256c4c8c909ae78b6c9fbfa9e58e008f5906de8c\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"0993f73f9bbe97df8f0e6eb5c93bea1ed0317eba\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3594\",\n    \"triggerID\" : \"0993f73f9bbe97df8f0e6eb5c93bea1ed0317eba\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"8c1b74a3dc22d8b0cafdc90a9b5e877f7a83580b\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3611\",\n    \"triggerID\" : \"8c1b74a3dc22d8b0cafdc90a9b5e877f7a83580b\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 8c1b74a3dc22d8b0cafdc90a9b5e877f7a83580b Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3611) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/976149196/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]