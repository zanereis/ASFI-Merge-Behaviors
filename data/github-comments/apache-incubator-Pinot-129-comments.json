[{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1082642019","html_url":"https://github.com/apache/pinot/issues/8437#issuecomment-1082642019","issue_url":"https://api.github.com/repos/apache/pinot/issues/8437","id":1082642019,"node_id":"IC_kwDOATCU_c5Ah85j","user":{"login":"KKcorps","id":5559703,"node_id":"MDQ6VXNlcjU1NTk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5559703?v=4","gravatar_id":"","url":"https://api.github.com/users/KKcorps","html_url":"https://github.com/KKcorps","followers_url":"https://api.github.com/users/KKcorps/followers","following_url":"https://api.github.com/users/KKcorps/following{/other_user}","gists_url":"https://api.github.com/users/KKcorps/gists{/gist_id}","starred_url":"https://api.github.com/users/KKcorps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KKcorps/subscriptions","organizations_url":"https://api.github.com/users/KKcorps/orgs","repos_url":"https://api.github.com/users/KKcorps/repos","events_url":"https://api.github.com/users/KKcorps/events{/privacy}","received_events_url":"https://api.github.com/users/KKcorps/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-30T05:38:11Z","updated_at":"2022-03-30T05:38:11Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang @mayankshriv ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1082642019/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1082646626","html_url":"https://github.com/apache/pinot/issues/8437#issuecomment-1082646626","issue_url":"https://api.github.com/repos/apache/pinot/issues/8437","id":1082646626,"node_id":"IC_kwDOATCU_c5Ah-Bi","user":{"login":"KKcorps","id":5559703,"node_id":"MDQ6VXNlcjU1NTk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5559703?v=4","gravatar_id":"","url":"https://api.github.com/users/KKcorps","html_url":"https://github.com/KKcorps","followers_url":"https://api.github.com/users/KKcorps/followers","following_url":"https://api.github.com/users/KKcorps/following{/other_user}","gists_url":"https://api.github.com/users/KKcorps/gists{/gist_id}","starred_url":"https://api.github.com/users/KKcorps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KKcorps/subscriptions","organizations_url":"https://api.github.com/users/KKcorps/orgs","repos_url":"https://api.github.com/users/KKcorps/repos","events_url":"https://api.github.com/users/KKcorps/events{/privacy}","received_events_url":"https://api.github.com/users/KKcorps/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-30T05:47:11Z","updated_at":"2022-03-30T05:49:18Z","author_association":"CONTRIBUTOR","body":"It will look something like this - https://github.com/KKcorps/incubator-pinot/pull/1/files\r\nThis is a very crude implementation and final PR should look really different from this.\r\n\r\nThings I do not like - \r\n\r\n* Adding format dependencies to broker\r\n\r\n* Relying on reflections\r\n\r\n* Missing utility to generate avro/proto schema file for `BrokerResponseNative`\r\n\r\n \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1082646626/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1082867761","html_url":"https://github.com/apache/pinot/pull/8411#issuecomment-1082867761","issue_url":"https://api.github.com/repos/apache/pinot/issues/8411","id":1082867761,"node_id":"IC_kwDOATCU_c5Ai0Ax","user":{"login":"richardstartin","id":16439049,"node_id":"MDQ6VXNlcjE2NDM5MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/16439049?v=4","gravatar_id":"","url":"https://api.github.com/users/richardstartin","html_url":"https://github.com/richardstartin","followers_url":"https://api.github.com/users/richardstartin/followers","following_url":"https://api.github.com/users/richardstartin/following{/other_user}","gists_url":"https://api.github.com/users/richardstartin/gists{/gist_id}","starred_url":"https://api.github.com/users/richardstartin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/richardstartin/subscriptions","organizations_url":"https://api.github.com/users/richardstartin/orgs","repos_url":"https://api.github.com/users/richardstartin/repos","events_url":"https://api.github.com/users/richardstartin/events{/privacy}","received_events_url":"https://api.github.com/users/richardstartin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-30T09:47:39Z","updated_at":"2022-03-30T09:47:39Z","author_association":"MEMBER","body":"This gives a substantial performance boost, which will be more pronounced on larger segment sizes and in deployments where the data exceeds RAM, especially for queries with `in` or `not` clauses:\r\n\r\n```\r\nBenchmark               (_numRows)                                                                                                                                               (_query)  (_scenario)  Mode  Cnt     Score     Error  Units\r\nBenchmarkQueries.query     1500000                                                                             SELECT COUNT(*) FROM MyTable WHERE INT_COL IN (0, 1, 2, 3, 4, 5, 7, 9, 10)   EXP(0.001)  avgt    5   356.283 ±  71.163  us/op\r\nBenchmarkQueries.query     1500000                                                                             SELECT COUNT(*) FROM MyTable WHERE INT_COL IN (0, 1, 2, 3, 4, 5, 7, 9, 10)     EXP(0.5)  avgt    5  7236.655 ± 303.783  us/op\r\nBenchmarkQueries.query     1500000                                                                             SELECT COUNT(*) FROM MyTable WHERE INT_COL IN (0, 1, 2, 3, 4, 5, 7, 9, 10)   EXP(0.999)  avgt    5  6355.539 ± 431.611  us/op\r\nBenchmarkQueries.query     1500000                                  SELECT COUNT(*) FROM MyTable WHERE INT_COL IN (0, 1, 2, 3, 4, 5, 7, 9, 10) AND LOW_CARDINALITY_STRING_COL = 'value1'    EXP(0.001)  avgt    5   404.633 ± 145.129  us/op\r\nBenchmarkQueries.query     1500000                                  SELECT COUNT(*) FROM MyTable WHERE INT_COL IN (0, 1, 2, 3, 4, 5, 7, 9, 10) AND LOW_CARDINALITY_STRING_COL = 'value1'      EXP(0.5)  avgt    5  1545.330 ± 115.749  us/op\r\nBenchmarkQueries.query     1500000                                  SELECT COUNT(*) FROM MyTable WHERE INT_COL IN (0, 1, 2, 3, 4, 5, 7, 9, 10) AND LOW_CARDINALITY_STRING_COL = 'value1'    EXP(0.999)  avgt    5  1268.241 ±  82.946  us/op\r\nBenchmarkQueries.query     1500000  SELECT COUNT(*) FROM MyTable WHERE INT_COL IN (0, 1, 2, 3, 4, 5, 7, 9, 10) AND LOW_CARDINALITY_STRING_COL = 'value1' AND SORTED_COL BETWEEN 10 and 50   EXP(0.001)  avgt    5   465.189 ± 291.468  us/op\r\nBenchmarkQueries.query     1500000  SELECT COUNT(*) FROM MyTable WHERE INT_COL IN (0, 1, 2, 3, 4, 5, 7, 9, 10) AND LOW_CARDINALITY_STRING_COL = 'value1' AND SORTED_COL BETWEEN 10 and 50     EXP(0.5)  avgt    5  2719.248 ± 151.024  us/op\r\nBenchmarkQueries.query     1500000  SELECT COUNT(*) FROM MyTable WHERE INT_COL IN (0, 1, 2, 3, 4, 5, 7, 9, 10) AND LOW_CARDINALITY_STRING_COL = 'value1' AND SORTED_COL BETWEEN 10 and 50   EXP(0.999)  avgt    5  2278.069 ± 144.172  us/op\r\nBenchmarkQueries.query     1500000                                                                               SELECT COUNT(*) FROM MyTable WHERE LOW_CARDINALITY_STRING_COL = 'value1'   EXP(0.001)  avgt    5   924.339 ± 112.722  us/op\r\nBenchmarkQueries.query     1500000                                                                               SELECT COUNT(*) FROM MyTable WHERE LOW_CARDINALITY_STRING_COL = 'value1'     EXP(0.5)  avgt    5   876.870 ± 120.134  us/op\r\nBenchmarkQueries.query     1500000                                                                               SELECT COUNT(*) FROM MyTable WHERE LOW_CARDINALITY_STRING_COL = 'value1'   EXP(0.999)  avgt    5   913.038 ± 119.857  us/op\r\nBenchmarkQueries.query     1500000                                                                              SELECT COUNT(*) FROM MyTable WHERE LOW_CARDINALITY_STRING_COL <> 'value1'   EXP(0.001)  avgt    5  5621.019 ±  70.795  us/op\r\nBenchmarkQueries.query     1500000                                                                              SELECT COUNT(*) FROM MyTable WHERE LOW_CARDINALITY_STRING_COL <> 'value1'     EXP(0.5)  avgt    5  5636.841 ±  91.966  us/op\r\nBenchmarkQueries.query     1500000                                                                              SELECT COUNT(*) FROM MyTable WHERE LOW_CARDINALITY_STRING_COL <> 'value1'   EXP(0.999)  avgt    5  5593.544 ± 146.401  us/op\r\n```\r\n\r\n\r\n```\r\nBenchmark               (_numRows)                                                                                                                                               (_query)  (_scenario)  Mode  Cnt     Score     Error  Units\r\nBenchmarkQueries.query     1500000                                                                             SELECT COUNT(*) FROM MyTable WHERE INT_COL IN (0, 1, 2, 3, 4, 5, 7, 9, 10)   EXP(0.001)  avgt    5   392.912 ±  73.485  us/op\r\nBenchmarkQueries.query     1500000                                                                             SELECT COUNT(*) FROM MyTable WHERE INT_COL IN (0, 1, 2, 3, 4, 5, 7, 9, 10)     EXP(0.5)  avgt    5   611.946 ±  95.690  us/op\r\nBenchmarkQueries.query     1500000                                                                             SELECT COUNT(*) FROM MyTable WHERE INT_COL IN (0, 1, 2, 3, 4, 5, 7, 9, 10)   EXP(0.999)  avgt    5   357.086 ± 125.896  us/op\r\nBenchmarkQueries.query     1500000                                  SELECT COUNT(*) FROM MyTable WHERE INT_COL IN (0, 1, 2, 3, 4, 5, 7, 9, 10) AND LOW_CARDINALITY_STRING_COL = 'value1'    EXP(0.001)  avgt    5   372.182 ± 112.726  us/op\r\nBenchmarkQueries.query     1500000                                  SELECT COUNT(*) FROM MyTable WHERE INT_COL IN (0, 1, 2, 3, 4, 5, 7, 9, 10) AND LOW_CARDINALITY_STRING_COL = 'value1'      EXP(0.5)  avgt    5   751.461 ± 125.460  us/op\r\nBenchmarkQueries.query     1500000                                  SELECT COUNT(*) FROM MyTable WHERE INT_COL IN (0, 1, 2, 3, 4, 5, 7, 9, 10) AND LOW_CARDINALITY_STRING_COL = 'value1'    EXP(0.999)  avgt    5   515.615 ± 135.877  us/op\r\nBenchmarkQueries.query     1500000  SELECT COUNT(*) FROM MyTable WHERE INT_COL IN (0, 1, 2, 3, 4, 5, 7, 9, 10) AND LOW_CARDINALITY_STRING_COL = 'value1' AND SORTED_COL BETWEEN 10 and 50   EXP(0.001)  avgt    5   443.027 ± 259.710  us/op\r\nBenchmarkQueries.query     1500000  SELECT COUNT(*) FROM MyTable WHERE INT_COL IN (0, 1, 2, 3, 4, 5, 7, 9, 10) AND LOW_CARDINALITY_STRING_COL = 'value1' AND SORTED_COL BETWEEN 10 and 50     EXP(0.5)  avgt    5  2848.508 ± 271.759  us/op\r\nBenchmarkQueries.query     1500000  SELECT COUNT(*) FROM MyTable WHERE INT_COL IN (0, 1, 2, 3, 4, 5, 7, 9, 10) AND LOW_CARDINALITY_STRING_COL = 'value1' AND SORTED_COL BETWEEN 10 and 50   EXP(0.999)  avgt    5  2268.246 ± 127.690  us/op\r\nBenchmarkQueries.query     1500000                                                                               SELECT COUNT(*) FROM MyTable WHERE LOW_CARDINALITY_STRING_COL = 'value1'   EXP(0.001)  avgt    5   122.123 ±  55.815  us/op\r\nBenchmarkQueries.query     1500000                                                                               SELECT COUNT(*) FROM MyTable WHERE LOW_CARDINALITY_STRING_COL = 'value1'     EXP(0.5)  avgt    5   124.019 ±  40.301  us/op\r\nBenchmarkQueries.query     1500000                                                                               SELECT COUNT(*) FROM MyTable WHERE LOW_CARDINALITY_STRING_COL = 'value1'   EXP(0.999)  avgt    5   121.734 ±  59.327  us/op\r\nBenchmarkQueries.query     1500000                                                                              SELECT COUNT(*) FROM MyTable WHERE LOW_CARDINALITY_STRING_COL <> 'value1'   EXP(0.001)  avgt    5   118.834 ±  58.912  us/op\r\nBenchmarkQueries.query     1500000                                                                              SELECT COUNT(*) FROM MyTable WHERE LOW_CARDINALITY_STRING_COL <> 'value1'     EXP(0.5)  avgt    5   130.757 ±  60.024  us/op\r\nBenchmarkQueries.query     1500000                                                                              SELECT COUNT(*) FROM MyTable WHERE LOW_CARDINALITY_STRING_COL <> 'value1'   EXP(0.999)  avgt    5   121.485 ±  44.044  us/op\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1082867761/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1082909540","html_url":"https://github.com/apache/pinot/pull/8422#issuecomment-1082909540","issue_url":"https://api.github.com/repos/apache/pinot/issues/8422","id":1082909540,"node_id":"IC_kwDOATCU_c5Ai-Nk","user":{"login":"jtao15","id":50065407,"node_id":"MDQ6VXNlcjUwMDY1NDA3","avatar_url":"https://avatars.githubusercontent.com/u/50065407?v=4","gravatar_id":"","url":"https://api.github.com/users/jtao15","html_url":"https://github.com/jtao15","followers_url":"https://api.github.com/users/jtao15/followers","following_url":"https://api.github.com/users/jtao15/following{/other_user}","gists_url":"https://api.github.com/users/jtao15/gists{/gist_id}","starred_url":"https://api.github.com/users/jtao15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtao15/subscriptions","organizations_url":"https://api.github.com/users/jtao15/orgs","repos_url":"https://api.github.com/users/jtao15/repos","events_url":"https://api.github.com/users/jtao15/events{/privacy}","received_events_url":"https://api.github.com/users/jtao15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-30T10:28:41Z","updated_at":"2022-03-30T10:28:41Z","author_association":"CONTRIBUTOR","body":"> Please add the testing case to cover this change.\r\n\r\nAdded integration tests.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1082909540/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1083042337","html_url":"https://github.com/apache/pinot/issues/8418#issuecomment-1083042337","issue_url":"https://api.github.com/repos/apache/pinot/issues/8418","id":1083042337,"node_id":"IC_kwDOATCU_c5Ajeoh","user":{"login":"KKcorps","id":5559703,"node_id":"MDQ6VXNlcjU1NTk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5559703?v=4","gravatar_id":"","url":"https://api.github.com/users/KKcorps","html_url":"https://github.com/KKcorps","followers_url":"https://api.github.com/users/KKcorps/followers","following_url":"https://api.github.com/users/KKcorps/following{/other_user}","gists_url":"https://api.github.com/users/KKcorps/gists{/gist_id}","starred_url":"https://api.github.com/users/KKcorps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KKcorps/subscriptions","organizations_url":"https://api.github.com/users/KKcorps/orgs","repos_url":"https://api.github.com/users/KKcorps/repos","events_url":"https://api.github.com/users/KKcorps/events{/privacy}","received_events_url":"https://api.github.com/users/KKcorps/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-30T11:50:29Z","updated_at":"2022-03-30T13:35:02Z","author_association":"CONTRIBUTOR","body":"Yes, we should focus on maintaining as much parity as possible with Presto DECIMAL datatype. Also, for precision less <= 18, we can store the unscaled value as long which should be easier to support.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1083042337/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1083201449","html_url":"https://github.com/apache/pinot/issues/8418#issuecomment-1083201449","issue_url":"https://api.github.com/repos/apache/pinot/issues/8418","id":1083201449,"node_id":"IC_kwDOATCU_c5AkFep","user":{"login":"KKcorps","id":5559703,"node_id":"MDQ6VXNlcjU1NTk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5559703?v=4","gravatar_id":"","url":"https://api.github.com/users/KKcorps","html_url":"https://github.com/KKcorps","followers_url":"https://api.github.com/users/KKcorps/followers","following_url":"https://api.github.com/users/KKcorps/following{/other_user}","gists_url":"https://api.github.com/users/KKcorps/gists{/gist_id}","starred_url":"https://api.github.com/users/KKcorps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KKcorps/subscriptions","organizations_url":"https://api.github.com/users/KKcorps/orgs","repos_url":"https://api.github.com/users/KKcorps/repos","events_url":"https://api.github.com/users/KKcorps/events{/privacy}","received_events_url":"https://api.github.com/users/KKcorps/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-30T14:20:38Z","updated_at":"2022-03-30T14:20:38Z","author_association":"CONTRIBUTOR","body":"Will this help meanwhile or is it not worth it @siddharthteotia  - https://github.com/apache/pinot/pull/8440","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1083201449/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1083274831","html_url":"https://github.com/apache/pinot/issues/8438#issuecomment-1083274831","issue_url":"https://api.github.com/repos/apache/pinot/issues/8438","id":1083274831,"node_id":"IC_kwDOATCU_c5AkXZP","user":{"login":"kkrugler","id":66217,"node_id":"MDQ6VXNlcjY2MjE3","avatar_url":"https://avatars.githubusercontent.com/u/66217?v=4","gravatar_id":"","url":"https://api.github.com/users/kkrugler","html_url":"https://github.com/kkrugler","followers_url":"https://api.github.com/users/kkrugler/followers","following_url":"https://api.github.com/users/kkrugler/following{/other_user}","gists_url":"https://api.github.com/users/kkrugler/gists{/gist_id}","starred_url":"https://api.github.com/users/kkrugler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kkrugler/subscriptions","organizations_url":"https://api.github.com/users/kkrugler/orgs","repos_url":"https://api.github.com/users/kkrugler/repos","events_url":"https://api.github.com/users/kkrugler/events{/privacy}","received_events_url":"https://api.github.com/users/kkrugler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-30T15:19:56Z","updated_at":"2022-03-30T15:19:56Z","author_association":"CONTRIBUTOR","body":"Hi @mathewjpallan - these are really good questions for the `#general` channel in the Pinot Slack workspace.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1083274831/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1083380884","html_url":"https://github.com/apache/pinot/pull/8433#issuecomment-1083380884","issue_url":"https://api.github.com/repos/apache/pinot/issues/8433","id":1083380884,"node_id":"IC_kwDOATCU_c5AkxSU","user":{"login":"mayankshriv","id":12615885,"node_id":"MDQ6VXNlcjEyNjE1ODg1","avatar_url":"https://avatars.githubusercontent.com/u/12615885?v=4","gravatar_id":"","url":"https://api.github.com/users/mayankshriv","html_url":"https://github.com/mayankshriv","followers_url":"https://api.github.com/users/mayankshriv/followers","following_url":"https://api.github.com/users/mayankshriv/following{/other_user}","gists_url":"https://api.github.com/users/mayankshriv/gists{/gist_id}","starred_url":"https://api.github.com/users/mayankshriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayankshriv/subscriptions","organizations_url":"https://api.github.com/users/mayankshriv/orgs","repos_url":"https://api.github.com/users/mayankshriv/repos","events_url":"https://api.github.com/users/mayankshriv/events{/privacy}","received_events_url":"https://api.github.com/users/mayankshriv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-30T16:49:36Z","updated_at":"2022-03-30T16:49:36Z","author_association":"CONTRIBUTOR","body":"> I think this may block reverse comparison (since older version will have a higher number of numDocsScanned). Let me think this through a little more.\r\n\r\nIMHO, it is because we are mixing regression and compatibility in the same test. numDocsScanned and other metadata check should be part of regression testing, and we can be more strict on compatibility for apis/protocols/input/output. We can still use the same vehicle for these regression/compatibility, but perhaps have different levels of checks (or modes). ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1083380884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1083397010","html_url":"https://github.com/apache/pinot/pull/8433#issuecomment-1083397010","issue_url":"https://api.github.com/repos/apache/pinot/issues/8433","id":1083397010,"node_id":"IC_kwDOATCU_c5Ak1OS","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-30T17:07:04Z","updated_at":"2022-03-30T17:07:04Z","author_association":"CONTRIBUTOR","body":"> \r\n\r\nA while ago we had aa problem that was a performance regression for some use case.  It turned out that we could have caught it if we had checked on number of documents scanned. This was way before compat tests were built (you were there  as well  :) ). So, in compat tests, it was decided to check for regression.  I still think it is not bad to check for num docs scanned (and perhaps other stats as well) in this manner (where we allow them to get better).","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1083397010/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1083400562","html_url":"https://github.com/apache/pinot/issues/8438#issuecomment-1083400562","issue_url":"https://api.github.com/repos/apache/pinot/issues/8438","id":1083400562,"node_id":"IC_kwDOATCU_c5Ak2Fy","user":{"login":"mathewjpallan","id":17667692,"node_id":"MDQ6VXNlcjE3NjY3Njky","avatar_url":"https://avatars.githubusercontent.com/u/17667692?v=4","gravatar_id":"","url":"https://api.github.com/users/mathewjpallan","html_url":"https://github.com/mathewjpallan","followers_url":"https://api.github.com/users/mathewjpallan/followers","following_url":"https://api.github.com/users/mathewjpallan/following{/other_user}","gists_url":"https://api.github.com/users/mathewjpallan/gists{/gist_id}","starred_url":"https://api.github.com/users/mathewjpallan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mathewjpallan/subscriptions","organizations_url":"https://api.github.com/users/mathewjpallan/orgs","repos_url":"https://api.github.com/users/mathewjpallan/repos","events_url":"https://api.github.com/users/mathewjpallan/events{/privacy}","received_events_url":"https://api.github.com/users/mathewjpallan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-30T17:08:42Z","updated_at":"2022-03-30T17:19:46Z","author_association":"NONE","body":"@kkrugler I have raised it on slack and got responses. Will close this issue. Thank you","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1083400562/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1083425515","html_url":"https://github.com/apache/pinot/pull/8413#issuecomment-1083425515","issue_url":"https://api.github.com/repos/apache/pinot/issues/8413","id":1083425515,"node_id":"IC_kwDOATCU_c5Ak8Lr","user":{"login":"amrishlal","id":4550395,"node_id":"MDQ6VXNlcjQ1NTAzOTU=","avatar_url":"https://avatars.githubusercontent.com/u/4550395?v=4","gravatar_id":"","url":"https://api.github.com/users/amrishlal","html_url":"https://github.com/amrishlal","followers_url":"https://api.github.com/users/amrishlal/followers","following_url":"https://api.github.com/users/amrishlal/following{/other_user}","gists_url":"https://api.github.com/users/amrishlal/gists{/gist_id}","starred_url":"https://api.github.com/users/amrishlal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amrishlal/subscriptions","organizations_url":"https://api.github.com/users/amrishlal/orgs","repos_url":"https://api.github.com/users/amrishlal/repos","events_url":"https://api.github.com/users/amrishlal/events{/privacy}","received_events_url":"https://api.github.com/users/amrishlal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-30T17:34:28Z","updated_at":"2022-03-30T17:34:28Z","author_association":"CONTRIBUTOR","body":"Closing as https://github.com/apache/pinot/pull/8426 has been merged.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1083425515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1083425562","html_url":"https://github.com/apache/pinot/pull/8411#issuecomment-1083425562","issue_url":"https://api.github.com/repos/apache/pinot/issues/8411","id":1083425562,"node_id":"IC_kwDOATCU_c5Ak8Ma","user":{"login":"richardstartin","id":16439049,"node_id":"MDQ6VXNlcjE2NDM5MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/16439049?v=4","gravatar_id":"","url":"https://api.github.com/users/richardstartin","html_url":"https://github.com/richardstartin","followers_url":"https://api.github.com/users/richardstartin/followers","following_url":"https://api.github.com/users/richardstartin/following{/other_user}","gists_url":"https://api.github.com/users/richardstartin/gists{/gist_id}","starred_url":"https://api.github.com/users/richardstartin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/richardstartin/subscriptions","organizations_url":"https://api.github.com/users/richardstartin/orgs","repos_url":"https://api.github.com/users/richardstartin/repos","events_url":"https://api.github.com/users/richardstartin/events{/privacy}","received_events_url":"https://api.github.com/users/richardstartin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-30T17:34:31Z","updated_at":"2022-03-30T17:34:31Z","author_association":"MEMBER","body":"Thanks for the very thorough review @Jackie-Jiang!","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1083425562/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1083438867","html_url":"https://github.com/apache/pinot/pull/8036#issuecomment-1083438867","issue_url":"https://api.github.com/repos/apache/pinot/issues/8036","id":1083438867,"node_id":"IC_kwDOATCU_c5Ak_cT","user":{"login":"jasperjiaguo","id":10736840,"node_id":"MDQ6VXNlcjEwNzM2ODQw","avatar_url":"https://avatars.githubusercontent.com/u/10736840?v=4","gravatar_id":"","url":"https://api.github.com/users/jasperjiaguo","html_url":"https://github.com/jasperjiaguo","followers_url":"https://api.github.com/users/jasperjiaguo/followers","following_url":"https://api.github.com/users/jasperjiaguo/following{/other_user}","gists_url":"https://api.github.com/users/jasperjiaguo/gists{/gist_id}","starred_url":"https://api.github.com/users/jasperjiaguo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasperjiaguo/subscriptions","organizations_url":"https://api.github.com/users/jasperjiaguo/orgs","repos_url":"https://api.github.com/users/jasperjiaguo/repos","events_url":"https://api.github.com/users/jasperjiaguo/events{/privacy}","received_events_url":"https://api.github.com/users/jasperjiaguo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-30T17:50:39Z","updated_at":"2022-03-30T17:50:39Z","author_association":"CONTRIBUTOR","body":"@mcvsubbu @mqliang Can you also review? Thanks!","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1083438867/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1083474928","html_url":"https://github.com/apache/pinot/pull/8343#issuecomment-1083474928","issue_url":"https://api.github.com/repos/apache/pinot/issues/8343","id":1083474928,"node_id":"IC_kwDOATCU_c5AlIPw","user":{"login":"richardstartin","id":16439049,"node_id":"MDQ6VXNlcjE2NDM5MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/16439049?v=4","gravatar_id":"","url":"https://api.github.com/users/richardstartin","html_url":"https://github.com/richardstartin","followers_url":"https://api.github.com/users/richardstartin/followers","following_url":"https://api.github.com/users/richardstartin/following{/other_user}","gists_url":"https://api.github.com/users/richardstartin/gists{/gist_id}","starred_url":"https://api.github.com/users/richardstartin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/richardstartin/subscriptions","organizations_url":"https://api.github.com/users/richardstartin/orgs","repos_url":"https://api.github.com/users/richardstartin/repos","events_url":"https://api.github.com/users/richardstartin/events{/privacy}","received_events_url":"https://api.github.com/users/richardstartin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-30T18:27:55Z","updated_at":"2022-03-30T18:27:55Z","author_association":"MEMBER","body":"Can you explain if there is any dependency on distinct hash code values? I recall seeing hash codes being used as map keys but can’t find it.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1083474928/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1083528279","html_url":"https://github.com/apache/pinot/pull/8441#issuecomment-1083528279","issue_url":"https://api.github.com/repos/apache/pinot/issues/8441","id":1083528279,"node_id":"IC_kwDOATCU_c5AlVRX","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-30T19:15:53Z","updated_at":"2022-04-01T23:23:11Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/8441?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#8441](https://codecov.io/gh/apache/pinot/pull/8441?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (a8dec88) into [master](https://codecov.io/gh/apache/pinot/commit/91c9ce4aebca3913065e08263c6e80f7f515dd50?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (91c9ce4) will **increase** coverage by `6.47%`.\n> The diff coverage is `69.75%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master    #8441      +/-   ##\n============================================\n+ Coverage     64.21%   70.68%   +6.47%     \n- Complexity     4282     4283       +1     \n============================================\n  Files          1618     1664      +46     \n  Lines         85376    87433    +2057     \n  Branches      13004    13243     +239     \n============================================\n+ Hits          54820    61801    +6981     \n+ Misses        26576    21333    -5243     \n- Partials       3980     4299     +319     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `27.11% <3.08%> (?)` | |\n| integration2 | `25.98% <0.61%> (?)` | |\n| unittests1 | `67.03% <0.00%> (-0.02%)` | :arrow_down: |\n| unittests2 | `14.25% <67.90%> (+0.09%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/8441?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...he/pinot/common/assignment/InstancePartitions.java](https://codecov.io/gh/apache/pinot/pull/8441/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vYXNzaWdubWVudC9JbnN0YW5jZVBhcnRpdGlvbnMuamF2YQ==) | `23.43% <3.12%> (+23.43%)` | :arrow_up: |\n| [...ntroller/helix/core/rebalance/TableRebalancer.java](https://codecov.io/gh/apache/pinot/pull/8441/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlYmFsYW5jZS9UYWJsZVJlYmFsYW5jZXIuamF2YQ==) | `77.71% <33.33%> (+0.50%)` | :arrow_up: |\n| [...ources/PinotInstanceAssignmentRestletResource.java](https://codecov.io/gh/apache/pinot/pull/8441/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL1Bpbm90SW5zdGFuY2VBc3NpZ25tZW50UmVzdGxldFJlc291cmNlLmphdmE=) | `70.99% <63.63%> (-2.24%)` | :arrow_down: |\n| [...nce/RetainedSequenceInstanceConstraintApplier.java](https://codecov.io/gh/apache/pinot/pull/8441/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL2Fzc2lnbm1lbnQvaW5zdGFuY2UvUmV0YWluZWRTZXF1ZW5jZUluc3RhbmNlQ29uc3RyYWludEFwcGxpZXIuamF2YQ==) | `92.85% <92.85%> (ø)` | |\n| [.../assignment/instance/InstanceAssignmentDriver.java](https://codecov.io/gh/apache/pinot/pull/8441/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL2Fzc2lnbm1lbnQvaW5zdGFuY2UvSW5zdGFuY2VBc3NpZ25tZW50RHJpdmVyLmphdmE=) | `97.82% <95.83%> (+1.82%)` | :arrow_up: |\n| [...e/assignment/instance/InstanceTagPoolSelector.java](https://codecov.io/gh/apache/pinot/pull/8441/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL2Fzc2lnbm1lbnQvaW5zdGFuY2UvSW5zdGFuY2VUYWdQb29sU2VsZWN0b3IuamF2YQ==) | `96.07% <96.72%> (-0.22%)` | :arrow_down: |\n| [...oller/api/resources/PinotTableRestletResource.java](https://codecov.io/gh/apache/pinot/pull/8441/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL1Bpbm90VGFibGVSZXN0bGV0UmVzb3VyY2UuamF2YQ==) | `50.34% <100.00%> (+6.05%)` | :arrow_up: |\n| [...ntroller/helix/core/PinotHelixResourceManager.java](https://codecov.io/gh/apache/pinot/pull/8441/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL1Bpbm90SGVsaXhSZXNvdXJjZU1hbmFnZXIuamF2YQ==) | `67.79% <100.00%> (+3.57%)` | :arrow_up: |\n| [...ance/HashBasedRotateInstanceConstraintApplier.java](https://codecov.io/gh/apache/pinot/pull/8441/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL2Fzc2lnbm1lbnQvaW5zdGFuY2UvSGFzaEJhc2VkUm90YXRlSW5zdGFuY2VDb25zdHJhaW50QXBwbGllci5qYXZh) | `93.33% <100.00%> (+1.02%)` | :arrow_up: |\n| [...he/pinot/segment/local/segment/store/IndexKey.java](https://codecov.io/gh/apache/pinot/pull/8441/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L3N0b3JlL0luZGV4S2V5LmphdmE=) | `65.00% <0.00%> (-10.00%)` | :arrow_down: |\n| ... and [384 more](https://codecov.io/gh/apache/pinot/pull/8441/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/pinot/pull/8441?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/pinot/pull/8441?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [91c9ce4...a8dec88](https://codecov.io/gh/apache/pinot/pull/8441?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1083528279/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1083538670","html_url":"https://github.com/apache/pinot/pull/8442#issuecomment-1083538670","issue_url":"https://api.github.com/repos/apache/pinot/issues/8442","id":1083538670,"node_id":"IC_kwDOATCU_c5AlXzu","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-30T19:25:26Z","updated_at":"2022-03-30T19:31:06Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/8442?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#8442](https://codecov.io/gh/apache/pinot/pull/8442?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (99ab07d) into [master](https://codecov.io/gh/apache/pinot/commit/24cc357b2ac78cc9522466aa7ee0a6eaeb478f21?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (24cc357) will **increase** coverage by `2.33%`.\n> The diff coverage is `70.00%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master    #8442      +/-   ##\n============================================\n+ Coverage     67.03%   69.36%   +2.33%     \n- Complexity     4196     4284      +88     \n============================================\n  Files          1259     1662     +403     \n  Lines         63519    87227   +23708     \n  Branches       9935    13205    +3270     \n============================================\n+ Hits          42577    60505   +17928     \n- Misses        17896    22469    +4573     \n- Partials       3046     4253    +1207     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration2 | `25.79% <0.00%> (?)` | |\n| unittests1 | `67.08% <70.00%> (+0.05%)` | :arrow_up: |\n| unittests2 | `14.15% <0.00%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/8442?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...ment/creator/impl/DefaultIndexCreatorProvider.java](https://codecov.io/gh/apache/pinot/pull/8442/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L2NyZWF0b3IvaW1wbC9EZWZhdWx0SW5kZXhDcmVhdG9yUHJvdmlkZXIuamF2YQ==) | `64.93% <0.00%> (ø)` | |\n| [...inot/segment/spi/creator/IndexCreationContext.java](https://codecov.io/gh/apache/pinot/pull/8442/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1zcGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3NlZ21lbnQvc3BpL2NyZWF0b3IvSW5kZXhDcmVhdGlvbkNvbnRleHQuamF2YQ==) | `96.99% <76.47%> (-1.41%)` | :arrow_down: |\n| [.../index/loader/invertedindex/RangeIndexHandler.java](https://codecov.io/gh/apache/pinot/pull/8442/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L2luZGV4L2xvYWRlci9pbnZlcnRlZGluZGV4L1JhbmdlSW5kZXhIYW5kbGVyLmphdmE=) | `49.55% <100.00%> (ø)` | |\n| [...pinot/core/operator/filter/BaseFilterOperator.java](https://codecov.io/gh/apache/pinot/pull/8442/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9maWx0ZXIvQmFzZUZpbHRlck9wZXJhdG9yLmphdmE=) | `71.42% <0.00%> (-28.58%)` | :arrow_down: |\n| [...he/pinot/segment/local/segment/store/IndexKey.java](https://codecov.io/gh/apache/pinot/pull/8442/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L3N0b3JlL0luZGV4S2V5LmphdmE=) | `65.00% <0.00%> (-10.00%)` | :arrow_down: |\n| [...form/function/TimeConversionTransformFunction.java](https://codecov.io/gh/apache/pinot/pull/8442/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vVGltZUNvbnZlcnNpb25UcmFuc2Zvcm1GdW5jdGlvbi5qYXZh) | `94.44% <0.00%> (-5.56%)` | :arrow_down: |\n| [...orm/function/LogicalOperatorTransformFunction.java](https://codecov.io/gh/apache/pinot/pull/8442/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vTG9naWNhbE9wZXJhdG9yVHJhbnNmb3JtRnVuY3Rpb24uamF2YQ==) | `91.30% <0.00%> (-4.35%)` | :arrow_down: |\n| [.../transform/function/AdditionTransformFunction.java](https://codecov.io/gh/apache/pinot/pull/8442/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vQWRkaXRpb25UcmFuc2Zvcm1GdW5jdGlvbi5qYXZh) | `96.00% <0.00%> (-4.00%)` | :arrow_down: |\n| [...form/function/MultiplicationTransformFunction.java](https://codecov.io/gh/apache/pinot/pull/8442/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vTXVsdGlwbGljYXRpb25UcmFuc2Zvcm1GdW5jdGlvbi5qYXZh) | `96.00% <0.00%> (-4.00%)` | :arrow_down: |\n| [...ingestion/batch/spec/SegmentGenerationJobSpec.java](https://codecov.io/gh/apache/pinot/pull/8442/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvaW5nZXN0aW9uL2JhdGNoL3NwZWMvU2VnbWVudEdlbmVyYXRpb25Kb2JTcGVjLmphdmE=) | `53.33% <0.00%> (-3.81%)` | :arrow_down: |\n| ... and [647 more](https://codecov.io/gh/apache/pinot/pull/8442/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/pinot/pull/8442?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/pinot/pull/8442?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [24cc357...99ab07d](https://codecov.io/gh/apache/pinot/pull/8442?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1083538670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1083559400","html_url":"https://github.com/apache/pinot/issues/8423#issuecomment-1083559400","issue_url":"https://api.github.com/repos/apache/pinot/issues/8423","id":1083559400,"node_id":"IC_kwDOATCU_c5Alc3o","user":{"login":"jadami10","id":4760722,"node_id":"MDQ6VXNlcjQ3NjA3MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4760722?v=4","gravatar_id":"","url":"https://api.github.com/users/jadami10","html_url":"https://github.com/jadami10","followers_url":"https://api.github.com/users/jadami10/followers","following_url":"https://api.github.com/users/jadami10/following{/other_user}","gists_url":"https://api.github.com/users/jadami10/gists{/gist_id}","starred_url":"https://api.github.com/users/jadami10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jadami10/subscriptions","organizations_url":"https://api.github.com/users/jadami10/orgs","repos_url":"https://api.github.com/users/jadami10/repos","events_url":"https://api.github.com/users/jadami10/events{/privacy}","received_events_url":"https://api.github.com/users/jadami10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-30T19:50:49Z","updated_at":"2022-03-30T19:50:49Z","author_association":"CONTRIBUTOR","body":"Just to confirm my understanding, #7961 surfaced this bug because it's deleting tmp files or it's causing it?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1083559400/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1083580586","html_url":"https://github.com/apache/pinot/pull/8343#issuecomment-1083580586","issue_url":"https://api.github.com/repos/apache/pinot/issues/8343","id":1083580586,"node_id":"IC_kwDOATCU_c5AliCq","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-30T20:14:05Z","updated_at":"2022-03-30T20:14:05Z","author_association":"CONTRIBUTOR","body":"> Can you explain if there is any dependency on distinct hash code values? I recall seeing hash codes being used as map keys but can’t find it.\r\n\r\nGot suggestions from @Jackie-Jiang to change this logic to use the hint expressions to prevent the hash collision. \r\nSee: https://github.com/apache/pinot/pull/8421","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1083580586/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1083584430","html_url":"https://github.com/apache/pinot/pull/8369#issuecomment-1083584430","issue_url":"https://api.github.com/repos/apache/pinot/issues/8369","id":1083584430,"node_id":"IC_kwDOATCU_c5Ali-u","user":{"login":"noon-stripe","id":89272166,"node_id":"MDQ6VXNlcjg5MjcyMTY2","avatar_url":"https://avatars.githubusercontent.com/u/89272166?v=4","gravatar_id":"","url":"https://api.github.com/users/noon-stripe","html_url":"https://github.com/noon-stripe","followers_url":"https://api.github.com/users/noon-stripe/followers","following_url":"https://api.github.com/users/noon-stripe/following{/other_user}","gists_url":"https://api.github.com/users/noon-stripe/gists{/gist_id}","starred_url":"https://api.github.com/users/noon-stripe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/noon-stripe/subscriptions","organizations_url":"https://api.github.com/users/noon-stripe/orgs","repos_url":"https://api.github.com/users/noon-stripe/repos","events_url":"https://api.github.com/users/noon-stripe/events{/privacy}","received_events_url":"https://api.github.com/users/noon-stripe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-30T20:18:26Z","updated_at":"2022-03-30T20:18:26Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang and @mcvsubbu Thanks for your reviews. In hindsight, this PR will be better as one large change instead of doing it in parts. I should have that up in the next week or so, but I'm closing this for now. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1083584430/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1083588072","html_url":"https://github.com/apache/pinot/pull/8443#issuecomment-1083588072","issue_url":"https://api.github.com/repos/apache/pinot/issues/8443","id":1083588072,"node_id":"IC_kwDOATCU_c5Alj3o","user":{"login":"PrachiKhobragade","id":10454230,"node_id":"MDQ6VXNlcjEwNDU0MjMw","avatar_url":"https://avatars.githubusercontent.com/u/10454230?v=4","gravatar_id":"","url":"https://api.github.com/users/PrachiKhobragade","html_url":"https://github.com/PrachiKhobragade","followers_url":"https://api.github.com/users/PrachiKhobragade/followers","following_url":"https://api.github.com/users/PrachiKhobragade/following{/other_user}","gists_url":"https://api.github.com/users/PrachiKhobragade/gists{/gist_id}","starred_url":"https://api.github.com/users/PrachiKhobragade/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PrachiKhobragade/subscriptions","organizations_url":"https://api.github.com/users/PrachiKhobragade/orgs","repos_url":"https://api.github.com/users/PrachiKhobragade/repos","events_url":"https://api.github.com/users/PrachiKhobragade/events{/privacy}","received_events_url":"https://api.github.com/users/PrachiKhobragade/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-30T20:22:43Z","updated_at":"2022-03-30T20:22:43Z","author_association":"CONTRIBUTOR","body":"cc: @snleee @sajjad-moradi ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1083588072/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1083717450","html_url":"https://github.com/apache/pinot/pull/8036#issuecomment-1083717450","issue_url":"https://api.github.com/repos/apache/pinot/issues/8036","id":1083717450,"node_id":"IC_kwDOATCU_c5AmDdK","user":{"login":"mqliang","id":12423751,"node_id":"MDQ6VXNlcjEyNDIzNzUx","avatar_url":"https://avatars.githubusercontent.com/u/12423751?v=4","gravatar_id":"","url":"https://api.github.com/users/mqliang","html_url":"https://github.com/mqliang","followers_url":"https://api.github.com/users/mqliang/followers","following_url":"https://api.github.com/users/mqliang/following{/other_user}","gists_url":"https://api.github.com/users/mqliang/gists{/gist_id}","starred_url":"https://api.github.com/users/mqliang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mqliang/subscriptions","organizations_url":"https://api.github.com/users/mqliang/orgs","repos_url":"https://api.github.com/users/mqliang/repos","events_url":"https://api.github.com/users/mqliang/events{/privacy}","received_events_url":"https://api.github.com/users/mqliang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-30T22:53:47Z","updated_at":"2022-03-30T22:53:47Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1083717450/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1083717451","html_url":"https://github.com/apache/pinot/pull/8036#issuecomment-1083717451","issue_url":"https://api.github.com/repos/apache/pinot/issues/8036","id":1083717451,"node_id":"IC_kwDOATCU_c5AmDdL","user":{"login":"mqliang","id":12423751,"node_id":"MDQ6VXNlcjEyNDIzNzUx","avatar_url":"https://avatars.githubusercontent.com/u/12423751?v=4","gravatar_id":"","url":"https://api.github.com/users/mqliang","html_url":"https://github.com/mqliang","followers_url":"https://api.github.com/users/mqliang/followers","following_url":"https://api.github.com/users/mqliang/following{/other_user}","gists_url":"https://api.github.com/users/mqliang/gists{/gist_id}","starred_url":"https://api.github.com/users/mqliang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mqliang/subscriptions","organizations_url":"https://api.github.com/users/mqliang/orgs","repos_url":"https://api.github.com/users/mqliang/repos","events_url":"https://api.github.com/users/mqliang/events{/privacy}","received_events_url":"https://api.github.com/users/mqliang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-30T22:53:47Z","updated_at":"2022-03-30T22:53:47Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1083717451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1083881269","html_url":"https://github.com/apache/pinot/issues/8423#issuecomment-1083881269","issue_url":"https://api.github.com/repos/apache/pinot/issues/8423","id":1083881269,"node_id":"IC_kwDOATCU_c5Amrc1","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-31T00:48:54Z","updated_at":"2022-03-31T00:50:10Z","author_association":"CONTRIBUTOR","body":"Lol, I asked this same question in https://github.com/apache/pinot/pull/6608\r\n\r\n@Jackie-Jiang and @jtao15 is it fair to say that the root cause is this PR?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1083881269/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1084055024","html_url":"https://github.com/apache/pinot/pull/8445#issuecomment-1084055024","issue_url":"https://api.github.com/repos/apache/pinot/issues/8445","id":1084055024,"node_id":"IC_kwDOATCU_c5AnV3w","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-31T04:14:27Z","updated_at":"2022-04-01T17:13:30Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/8445?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#8445](https://codecov.io/gh/apache/pinot/pull/8445?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (0e8b052) into [master](https://codecov.io/gh/apache/pinot/commit/e2053f6776911dcce5f1ef1e32ed35063ca10bea?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (e2053f6) will **decrease** coverage by `0.01%`.\n> The diff coverage is `100.00%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master    #8445      +/-   ##\n============================================\n- Coverage     70.73%   70.72%   -0.02%     \n- Complexity     4282     4284       +2     \n============================================\n  Files          1662     1663       +1     \n  Lines         87227    87305      +78     \n  Branches      13205    13216      +11     \n============================================\n+ Hits          61703    61745      +42     \n- Misses        21238    21279      +41     \n+ Partials       4286     4281       -5     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `27.15% <100.00%> (-0.09%)` | :arrow_down: |\n| integration2 | `26.07% <95.65%> (+0.05%)` | :arrow_up: |\n| unittests1 | `67.07% <0.00%> (+0.02%)` | :arrow_up: |\n| unittests2 | `14.15% <91.30%> (+0.01%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/8445?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...g/apache/pinot/common/metrics/ControllerGauge.java](https://codecov.io/gh/apache/pinot/pull/8445/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9Db250cm9sbGVyR2F1Z2UuamF2YQ==) | `97.61% <100.00%> (+0.05%)` | :arrow_up: |\n| [.../apache/pinot/controller/util/TableSizeReader.java](https://codecov.io/gh/apache/pinot/pull/8445/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL1RhYmxlU2l6ZVJlYWRlci5qYXZh) | `99.18% <100.00%> (+0.12%)` | :arrow_up: |\n| [...pinot/common/utils/fetcher/HttpSegmentFetcher.java](https://codecov.io/gh/apache/pinot/pull/8445/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvZmV0Y2hlci9IdHRwU2VnbWVudEZldGNoZXIuamF2YQ==) | `61.53% <0.00%> (-10.26%)` | :arrow_down: |\n| [...a/org/apache/pinot/common/utils/ServiceStatus.java](https://codecov.io/gh/apache/pinot/pull/8445/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvU2VydmljZVN0YXR1cy5qYXZh) | `60.00% <0.00%> (-7.15%)` | :arrow_down: |\n| [...r/helix/SegmentOnlineOfflineStateModelFactory.java](https://codecov.io/gh/apache/pinot/pull/8445/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvc3RhcnRlci9oZWxpeC9TZWdtZW50T25saW5lT2ZmbGluZVN0YXRlTW9kZWxGYWN0b3J5LmphdmE=) | `58.49% <0.00%> (-6.61%)` | :arrow_down: |\n| [...nction/DistinctCountBitmapAggregationFunction.java](https://codecov.io/gh/apache/pinot/pull/8445/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9EaXN0aW5jdENvdW50Qml0bWFwQWdncmVnYXRpb25GdW5jdGlvbi5qYXZh) | `47.66% <0.00%> (-5.19%)` | :arrow_down: |\n| [...tion/groupby/DictionaryBasedGroupKeyGenerator.java](https://codecov.io/gh/apache/pinot/pull/8445/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9ncm91cGJ5L0RpY3Rpb25hcnlCYXNlZEdyb3VwS2V5R2VuZXJhdG9yLmphdmE=) | `88.25% <0.00%> (-2.76%)` | :arrow_down: |\n| [...form/function/BinaryOperatorTransformFunction.java](https://codecov.io/gh/apache/pinot/pull/8445/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vQmluYXJ5T3BlcmF0b3JUcmFuc2Zvcm1GdW5jdGlvbi5qYXZh) | `41.77% <0.00%> (-2.67%)` | :arrow_down: |\n| [...not/broker/broker/helix/ClusterChangeMediator.java](https://codecov.io/gh/apache/pinot/pull/8445/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0NsdXN0ZXJDaGFuZ2VNZWRpYXRvci5qYXZh) | `77.65% <0.00%> (-2.13%)` | :arrow_down: |\n| [.../pinot/server/starter/helix/BaseServerStarter.java](https://codecov.io/gh/apache/pinot/pull/8445/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvc3RhcnRlci9oZWxpeC9CYXNlU2VydmVyU3RhcnRlci5qYXZh) | `57.46% <0.00%> (-1.86%)` | :arrow_down: |\n| ... and [35 more](https://codecov.io/gh/apache/pinot/pull/8445/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/pinot/pull/8445?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/pinot/pull/8445?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [e2053f6...0e8b052](https://codecov.io/gh/apache/pinot/pull/8445?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1084055024/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1084240228","html_url":"https://github.com/apache/pinot/pull/8441#issuecomment-1084240228","issue_url":"https://api.github.com/repos/apache/pinot/issues/8441","id":1084240228,"node_id":"IC_kwDOATCU_c5AoDFk","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-31T08:08:08Z","updated_at":"2022-03-31T08:08:08Z","author_association":"CONTRIBUTOR","body":"@jasperjiaguo you might also want to review this PR considering you are changing similar code for another purpose","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1084240228/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1084244026","html_url":"https://github.com/apache/pinot/pull/8446#issuecomment-1084244026","issue_url":"https://api.github.com/repos/apache/pinot/issues/8446","id":1084244026,"node_id":"IC_kwDOATCU_c5AoEA6","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-31T08:11:37Z","updated_at":"2022-03-31T08:11:37Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/8446?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#8446](https://codecov.io/gh/apache/pinot/pull/8446?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (42b3a1d) into [master](https://codecov.io/gh/apache/pinot/commit/51904fb99e4368c430503b2bf0eb5c42ce5663d1?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (51904fb) will **decrease** coverage by `6.36%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@             Coverage Diff              @@\n##             master    #8446      +/-   ##\n============================================\n- Coverage     70.58%   64.21%   -6.37%     \n- Complexity     4282     4285       +3     \n============================================\n  Files          1663     1618      -45     \n  Lines         87283    85375    -1908     \n  Branches      13208    13004     -204     \n============================================\n- Hits          61609    54827    -6782     \n- Misses        21385    26563    +5178     \n+ Partials       4289     3985     -304     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `?` | |\n| integration2 | `?` | |\n| unittests1 | `67.06% <ø> (+0.03%)` | :arrow_up: |\n| unittests2 | `14.15% <ø> (+0.01%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/8446?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...g/apache/pinot/core/operator/DocIdSetOperator.java](https://codecov.io/gh/apache/pinot/pull/8446/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9Eb2NJZFNldE9wZXJhdG9yLmphdmE=) | `92.85% <ø> (-0.25%)` | :arrow_down: |\n| [...va/org/apache/pinot/core/routing/RoutingTable.java](https://codecov.io/gh/apache/pinot/pull/8446/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yb3V0aW5nL1JvdXRpbmdUYWJsZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...va/org/apache/pinot/common/config/NettyConfig.java](https://codecov.io/gh/apache/pinot/pull/8446/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL05ldHR5Q29uZmlnLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...a/org/apache/pinot/common/metrics/MinionMeter.java](https://codecov.io/gh/apache/pinot/pull/8446/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9NaW5pb25NZXRlci5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...g/apache/pinot/common/metrics/ControllerMeter.java](https://codecov.io/gh/apache/pinot/pull/8446/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9Db250cm9sbGVyTWV0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [.../apache/pinot/common/metrics/BrokerQueryPhase.java](https://codecov.io/gh/apache/pinot/pull/8446/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9Ccm9rZXJRdWVyeVBoYXNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [.../apache/pinot/common/metrics/MinionQueryPhase.java](https://codecov.io/gh/apache/pinot/pull/8446/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9NaW5pb25RdWVyeVBoYXNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...apache/pinot/common/helix/ExtraInstanceConfig.java](https://codecov.io/gh/apache/pinot/pull/8446/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vaGVsaXgvRXh0cmFJbnN0YW5jZUNvbmZpZy5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ache/pinot/server/access/AccessControlFactory.java](https://codecov.io/gh/apache/pinot/pull/8446/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VydmVyL2FjY2Vzcy9BY2Nlc3NDb250cm9sRmFjdG9yeS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...he/pinot/common/messages/SegmentReloadMessage.java](https://codecov.io/gh/apache/pinot/pull/8446/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWVzc2FnZXMvU2VnbWVudFJlbG9hZE1lc3NhZ2UuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| ... and [370 more](https://codecov.io/gh/apache/pinot/pull/8446/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/pinot/pull/8446?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/pinot/pull/8446?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [51904fb...42b3a1d](https://codecov.io/gh/apache/pinot/pull/8446?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1084244026/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1084374222","html_url":"https://github.com/apache/pinot/pull/8343#issuecomment-1084374222","issue_url":"https://api.github.com/repos/apache/pinot/issues/8343","id":1084374222,"node_id":"IC_kwDOATCU_c5AojzO","user":{"login":"richardstartin","id":16439049,"node_id":"MDQ6VXNlcjE2NDM5MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/16439049?v=4","gravatar_id":"","url":"https://api.github.com/users/richardstartin","html_url":"https://github.com/richardstartin","followers_url":"https://api.github.com/users/richardstartin/followers","following_url":"https://api.github.com/users/richardstartin/following{/other_user}","gists_url":"https://api.github.com/users/richardstartin/gists{/gist_id}","starred_url":"https://api.github.com/users/richardstartin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/richardstartin/subscriptions","organizations_url":"https://api.github.com/users/richardstartin/orgs","repos_url":"https://api.github.com/users/richardstartin/repos","events_url":"https://api.github.com/users/richardstartin/events{/privacy}","received_events_url":"https://api.github.com/users/richardstartin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-31T10:16:34Z","updated_at":"2022-03-31T10:16:34Z","author_association":"MEMBER","body":"Thinking about it more, the time transforms are indeed costly so storing the values makes sense for this use case, which can be extended to many time conversion functions. I don't think this approach generalises to arithmetic, where the transforms tend to vectorize anyway so aren't as slow as time conversion. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1084374222/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1084678094","html_url":"https://github.com/apache/pinot/issues/8418#issuecomment-1084678094","issue_url":"https://api.github.com/repos/apache/pinot/issues/8418","id":1084678094,"node_id":"IC_kwDOATCU_c5Apt_O","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-31T14:41:03Z","updated_at":"2022-03-31T14:41:03Z","author_association":"CONTRIBUTOR","body":"Hi @KKcorps - I will take a look at the PR today","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1084678094/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1084831111","html_url":"https://github.com/apache/pinot/pull/8255#issuecomment-1084831111","issue_url":"https://api.github.com/repos/apache/pinot/issues/8255","id":1084831111,"node_id":"IC_kwDOATCU_c5AqTWH","user":{"login":"kmozaid","id":8354145,"node_id":"MDQ6VXNlcjgzNTQxNDU=","avatar_url":"https://avatars.githubusercontent.com/u/8354145?v=4","gravatar_id":"","url":"https://api.github.com/users/kmozaid","html_url":"https://github.com/kmozaid","followers_url":"https://api.github.com/users/kmozaid/followers","following_url":"https://api.github.com/users/kmozaid/following{/other_user}","gists_url":"https://api.github.com/users/kmozaid/gists{/gist_id}","starred_url":"https://api.github.com/users/kmozaid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kmozaid/subscriptions","organizations_url":"https://api.github.com/users/kmozaid/orgs","repos_url":"https://api.github.com/users/kmozaid/repos","events_url":"https://api.github.com/users/kmozaid/events{/privacy}","received_events_url":"https://api.github.com/users/kmozaid/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-31T16:42:32Z","updated_at":"2022-03-31T16:42:32Z","author_association":"CONTRIBUTOR","body":"Hi @Jackie-Jiang Could you please check this PR if it can be merge now?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1084831111/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1084853463","html_url":"https://github.com/apache/pinot/issues/8437#issuecomment-1084853463","issue_url":"https://api.github.com/repos/apache/pinot/issues/8437","id":1084853463,"node_id":"IC_kwDOATCU_c5AqYzX","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-31T17:01:08Z","updated_at":"2022-03-31T17:01:08Z","author_association":"CONTRIBUTOR","body":"The idea is really good. Suggest making the `ResponseWriter` pluggable, and we provide some default impl","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1084853463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1084859663","html_url":"https://github.com/apache/pinot/issues/8439#issuecomment-1084859663","issue_url":"https://api.github.com/repos/apache/pinot/issues/8439","id":1084859663,"node_id":"IC_kwDOATCU_c5AqaUP","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-31T17:03:57Z","updated_at":"2022-03-31T17:03:57Z","author_association":"CONTRIBUTOR","body":"@walterddr @xiangfu0 Could you please take a look?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1084859663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1084976788","html_url":"https://github.com/apache/pinot/pull/8446#issuecomment-1084976788","issue_url":"https://api.github.com/repos/apache/pinot/issues/8446","id":1084976788,"node_id":"IC_kwDOATCU_c5Aq26U","user":{"login":"vvivekiyer","id":21298365,"node_id":"MDQ6VXNlcjIxMjk4MzY1","avatar_url":"https://avatars.githubusercontent.com/u/21298365?v=4","gravatar_id":"","url":"https://api.github.com/users/vvivekiyer","html_url":"https://github.com/vvivekiyer","followers_url":"https://api.github.com/users/vvivekiyer/followers","following_url":"https://api.github.com/users/vvivekiyer/following{/other_user}","gists_url":"https://api.github.com/users/vvivekiyer/gists{/gist_id}","starred_url":"https://api.github.com/users/vvivekiyer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvivekiyer/subscriptions","organizations_url":"https://api.github.com/users/vvivekiyer/orgs","repos_url":"https://api.github.com/users/vvivekiyer/repos","events_url":"https://api.github.com/users/vvivekiyer/events{/privacy}","received_events_url":"https://api.github.com/users/vvivekiyer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-31T18:44:55Z","updated_at":"2022-03-31T18:44:55Z","author_association":"CONTRIBUTOR","body":"@siddharthteotia  please review.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1084976788/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1085042680","html_url":"https://github.com/apache/pinot/issues/8439#issuecomment-1085042680","issue_url":"https://api.github.com/repos/apache/pinot/issues/8439","id":1085042680,"node_id":"IC_kwDOATCU_c5ArG_4","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-31T19:59:57Z","updated_at":"2022-03-31T19:59:57Z","author_association":"CONTRIBUTOR","body":"we can model users' credentials as a list then loop and add them into controller/broker/server/minion extraConfigs.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1085042680/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1085098046","html_url":"https://github.com/apache/pinot/pull/8452#issuecomment-1085098046","issue_url":"https://api.github.com/repos/apache/pinot/issues/8452","id":1085098046,"node_id":"IC_kwDOATCU_c5ArUg-","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-31T20:51:02Z","updated_at":"2022-03-31T20:51:02Z","author_association":"CONTRIBUTOR","body":"Ideally we should add a test to catch the missing fields","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1085098046/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1085116412","html_url":"https://github.com/apache/pinot/pull/8452#issuecomment-1085116412","issue_url":"https://api.github.com/repos/apache/pinot/issues/8452","id":1085116412,"node_id":"IC_kwDOATCU_c5ArY_8","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-31T21:06:46Z","updated_at":"2022-03-31T21:06:46Z","author_association":"CONTRIBUTOR","body":"> Ideally we should add a test to catch the missing fields\r\n\r\nThese are newly added stats, which were missed from the previous PR: https://github.com/apache/pinot/pull/8442","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1085116412/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1085134021","html_url":"https://github.com/apache/pinot/pull/8452#issuecomment-1085134021","issue_url":"https://api.github.com/repos/apache/pinot/issues/8452","id":1085134021,"node_id":"IC_kwDOATCU_c5ArdTF","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-31T21:25:10Z","updated_at":"2022-03-31T21:43:39Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/8452?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#8452](https://codecov.io/gh/apache/pinot/pull/8452?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (6047d95) into [master](https://codecov.io/gh/apache/pinot/commit/91c9ce4aebca3913065e08263c6e80f7f515dd50?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (91c9ce4) will **increase** coverage by `6.50%`.\n> The diff coverage is `100.00%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master    #8452      +/-   ##\n============================================\n+ Coverage     64.21%   70.71%   +6.50%     \n+ Complexity     4282     4281       -1     \n============================================\n  Files          1618     1663      +45     \n  Lines         85376    87285    +1909     \n  Branches      13004    13208     +204     \n============================================\n+ Hits          54820    61720    +6900     \n+ Misses        26576    21275    -5301     \n- Partials       3980     4290     +310     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `27.20% <0.00%> (?)` | |\n| integration2 | `26.03% <0.00%> (?)` | |\n| unittests1 | `67.04% <100.00%> (-0.01%)` | :arrow_down: |\n| unittests2 | `14.16% <0.00%> (+<0.01%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/8452?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...ment/creator/impl/SegmentColumnarIndexCreator.java](https://codecov.io/gh/apache/pinot/pull/8452/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L2NyZWF0b3IvaW1wbC9TZWdtZW50Q29sdW1uYXJJbmRleENyZWF0b3IuamF2YQ==) | `86.57% <100.00%> (+0.07%)` | :arrow_up: |\n| [.../helix/core/minion/MinionInstancesCleanupTask.java](https://codecov.io/gh/apache/pinot/pull/8452/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL21pbmlvbi9NaW5pb25JbnN0YW5jZXNDbGVhbnVwVGFzay5qYXZh) | `77.27% <0.00%> (-4.55%)` | :arrow_down: |\n| [.../impl/dictionary/BaseOffHeapMutableDictionary.java](https://codecov.io/gh/apache/pinot/pull/8452/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvQmFzZU9mZkhlYXBNdXRhYmxlRGljdGlvbmFyeS5qYXZh) | `81.33% <0.00%> (-3.34%)` | :arrow_down: |\n| [...t/plugin/inputformat/json/JSONRecordExtractor.java](https://codecov.io/gh/apache/pinot/pull/8452/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcGx1Z2lucy9waW5vdC1pbnB1dC1mb3JtYXQvcGlub3QtanNvbi9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcGx1Z2luL2lucHV0Zm9ybWF0L2pzb24vSlNPTlJlY29yZEV4dHJhY3Rvci5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...pache/pinot/plugin/metrics/yammer/YammerGauge.java](https://codecov.io/gh/apache/pinot/pull/8452/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcGx1Z2lucy9waW5vdC1tZXRyaWNzL3Bpbm90LXlhbW1lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcGx1Z2luL21ldHJpY3MveWFtbWVyL1lhbW1lckdhdWdlLmphdmE=) | `66.66% <0.00%> (ø)` | |\n| [...ot/server/api/resources/PinotServerAppConfigs.java](https://codecov.io/gh/apache/pinot/pull/8452/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvYXBpL3Jlc291cmNlcy9QaW5vdFNlcnZlckFwcENvbmZpZ3MuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...t/server/starter/ServerQueriesDisabledTracker.java](https://codecov.io/gh/apache/pinot/pull/8452/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvc3RhcnRlci9TZXJ2ZXJRdWVyaWVzRGlzYWJsZWRUcmFja2VyLmphdmE=) | `86.36% <0.00%> (ø)` | |\n| [.../pinot/server/api/resources/TableSizeResource.java](https://codecov.io/gh/apache/pinot/pull/8452/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvYXBpL3Jlc291cmNlcy9UYWJsZVNpemVSZXNvdXJjZS5qYXZh) | `80.00% <0.00%> (ø)` | |\n| [...ache/pinot/server/api/resources/DebugResource.java](https://codecov.io/gh/apache/pinot/pull/8452/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvYXBpL3Jlc291cmNlcy9EZWJ1Z1Jlc291cmNlLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...che/pinot/server/api/resources/TablesResource.java](https://codecov.io/gh/apache/pinot/pull/8452/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvYXBpL3Jlc291cmNlcy9UYWJsZXNSZXNvdXJjZS5qYXZh) | `43.97% <0.00%> (ø)` | |\n| ... and [367 more](https://codecov.io/gh/apache/pinot/pull/8452/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/pinot/pull/8452?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/pinot/pull/8452?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [91c9ce4...6047d95](https://codecov.io/gh/apache/pinot/pull/8452?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1085134021/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1085134336","html_url":"https://github.com/apache/pinot/pull/8451#issuecomment-1085134336","issue_url":"https://api.github.com/repos/apache/pinot/issues/8451","id":1085134336,"node_id":"IC_kwDOATCU_c5ArdYA","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-31T21:25:29Z","updated_at":"2022-04-01T22:48:04Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/8451?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#8451](https://codecov.io/gh/apache/pinot/pull/8451?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (85dd906) into [master](https://codecov.io/gh/apache/pinot/commit/370d86c298c68def6e830b868fa16cabda9d08ff?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (370d86c) will **decrease** coverage by `7.04%`.\n> The diff coverage is `82.85%`.\n\n> :exclamation: Current head 85dd906 differs from pull request most recent head f2637f9. Consider uploading reports for the commit f2637f9 to get more accurate results\n\n```diff\n@@             Coverage Diff              @@\n##             master    #8451      +/-   ##\n============================================\n- Coverage     70.63%   63.59%   -7.05%     \n+ Complexity     4282     4198      -84     \n============================================\n  Files          1663     1652      -11     \n  Lines         87305    86987     -318     \n  Branches      13216    13189      -27     \n============================================\n- Hits          61671    55319    -6352     \n- Misses        21350    27616    +6266     \n+ Partials       4284     4052     -232     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `27.18% <35.71%> (+0.15%)` | :arrow_up: |\n| integration2 | `26.10% <35.71%> (+0.25%)` | :arrow_up: |\n| unittests1 | `67.04% <82.85%> (-0.01%)` | :arrow_down: |\n| unittests2 | `?` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/8451?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...ot/common/request/context/predicate/Predicate.java](https://codecov.io/gh/apache/pinot/pull/8451/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVxdWVzdC9jb250ZXh0L3ByZWRpY2F0ZS9QcmVkaWNhdGUuamF2YQ==) | `100.00% <ø> (ø)` | |\n| [...pinot/core/plan/maker/InstancePlanMakerImplV2.java](https://codecov.io/gh/apache/pinot/pull/8451/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9wbGFuL21ha2VyL0luc3RhbmNlUGxhbk1ha2VySW1wbFYyLmphdmE=) | `74.82% <69.23%> (-2.18%)` | :arrow_down: |\n| [...ommon/request/context/predicate/BasePredicate.java](https://codecov.io/gh/apache/pinot/pull/8451/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVxdWVzdC9jb250ZXh0L3ByZWRpY2F0ZS9CYXNlUHJlZGljYXRlLmphdmE=) | `100.00% <100.00%> (ø)` | |\n| [.../common/request/context/predicate/EqPredicate.java](https://codecov.io/gh/apache/pinot/pull/8451/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVxdWVzdC9jb250ZXh0L3ByZWRpY2F0ZS9FcVByZWRpY2F0ZS5qYXZh) | `61.53% <100.00%> (-5.13%)` | :arrow_down: |\n| [.../common/request/context/predicate/InPredicate.java](https://codecov.io/gh/apache/pinot/pull/8451/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVxdWVzdC9jb250ZXh0L3ByZWRpY2F0ZS9JblByZWRpY2F0ZS5qYXZh) | `72.22% <100.00%> (-2.78%)` | :arrow_down: |\n| [.../request/context/predicate/IsNotNullPredicate.java](https://codecov.io/gh/apache/pinot/pull/8451/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVxdWVzdC9jb250ZXh0L3ByZWRpY2F0ZS9Jc05vdE51bGxQcmVkaWNhdGUuamF2YQ==) | `63.63% <100.00%> (-5.60%)` | :arrow_down: |\n| [...mon/request/context/predicate/IsNullPredicate.java](https://codecov.io/gh/apache/pinot/pull/8451/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVxdWVzdC9jb250ZXh0L3ByZWRpY2F0ZS9Jc051bGxQcmVkaWNhdGUuamF2YQ==) | `63.63% <100.00%> (-5.60%)` | :arrow_down: |\n| [.../request/context/predicate/JsonMatchPredicate.java](https://codecov.io/gh/apache/pinot/pull/8451/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVxdWVzdC9jb250ZXh0L3ByZWRpY2F0ZS9Kc29uTWF0Y2hQcmVkaWNhdGUuamF2YQ==) | `53.84% <100.00%> (-6.16%)` | :arrow_down: |\n| [...mmon/request/context/predicate/NotEqPredicate.java](https://codecov.io/gh/apache/pinot/pull/8451/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVxdWVzdC9jb250ZXh0L3ByZWRpY2F0ZS9Ob3RFcVByZWRpY2F0ZS5qYXZh) | `61.53% <100.00%> (-5.13%)` | :arrow_down: |\n| [...mmon/request/context/predicate/NotInPredicate.java](https://codecov.io/gh/apache/pinot/pull/8451/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVxdWVzdC9jb250ZXh0L3ByZWRpY2F0ZS9Ob3RJblByZWRpY2F0ZS5qYXZh) | `72.22% <100.00%> (-2.78%)` | :arrow_down: |\n| ... and [234 more](https://codecov.io/gh/apache/pinot/pull/8451/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/pinot/pull/8451?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/pinot/pull/8451?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [370d86c...f2637f9](https://codecov.io/gh/apache/pinot/pull/8451?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1085134336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1085138407","html_url":"https://github.com/apache/pinot/pull/8450#issuecomment-1085138407","issue_url":"https://api.github.com/repos/apache/pinot/issues/8450","id":1085138407,"node_id":"IC_kwDOATCU_c5AreXn","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-31T21:29:25Z","updated_at":"2022-03-31T21:29:25Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/8450?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#8450](https://codecov.io/gh/apache/pinot/pull/8450?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (4c7349c) into [master](https://codecov.io/gh/apache/pinot/commit/91c9ce4aebca3913065e08263c6e80f7f515dd50?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (91c9ce4) will **increase** coverage by `6.49%`.\n> The diff coverage is `86.95%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master    #8450      +/-   ##\n============================================\n+ Coverage     64.21%   70.70%   +6.49%     \n- Complexity     4282     4283       +1     \n============================================\n  Files          1618     1663      +45     \n  Lines         85376    87287    +1911     \n  Branches      13004    13210     +206     \n============================================\n+ Hits          54820    61716    +6896     \n+ Misses        26576    21281    -5295     \n- Partials       3980     4290     +310     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `27.25% <69.56%> (?)` | |\n| integration2 | `25.95% <69.56%> (?)` | |\n| unittests1 | `67.03% <73.91%> (-0.02%)` | :arrow_down: |\n| unittests2 | `14.14% <0.00%> (-0.02%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/8450?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...not/core/query/reduce/GroupByDataTableReducer.java](https://codecov.io/gh/apache/pinot/pull/8450/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZWR1Y2UvR3JvdXBCeURhdGFUYWJsZVJlZHVjZXIuamF2YQ==) | `90.55% <86.95%> (+4.03%)` | :arrow_up: |\n| [.../impl/dictionary/BaseOffHeapMutableDictionary.java](https://codecov.io/gh/apache/pinot/pull/8450/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvQmFzZU9mZkhlYXBNdXRhYmxlRGljdGlvbmFyeS5qYXZh) | `81.33% <0.00%> (-3.34%)` | :arrow_down: |\n| [.../aggregation/function/ModeAggregationFunction.java](https://codecov.io/gh/apache/pinot/pull/8450/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9Nb2RlQWdncmVnYXRpb25GdW5jdGlvbi5qYXZh) | `86.48% <0.00%> (-2.17%)` | :arrow_down: |\n| [...org/apache/pinot/core/data/table/TableResizer.java](https://codecov.io/gh/apache/pinot/pull/8450/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL3RhYmxlL1RhYmxlUmVzaXplci5qYXZh) | `91.30% <0.00%> (-1.09%)` | :arrow_down: |\n| [...t/server/api/resources/DefaultExceptionMapper.java](https://codecov.io/gh/apache/pinot/pull/8450/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvYXBpL3Jlc291cmNlcy9EZWZhdWx0RXhjZXB0aW9uTWFwcGVyLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...g/apache/pinot/server/api/resources/ErrorInfo.java](https://codecov.io/gh/apache/pinot/pull/8450/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvYXBpL3Jlc291cmNlcy9FcnJvckluZm8uamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...ot/plugin/metrics/yammer/YammerMetricsFactory.java](https://codecov.io/gh/apache/pinot/pull/8450/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcGx1Z2lucy9waW5vdC1tZXRyaWNzL3Bpbm90LXlhbW1lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcGx1Z2luL21ldHJpY3MveWFtbWVyL1lhbW1lck1ldHJpY3NGYWN0b3J5LmphdmE=) | `100.00% <0.00%> (ø)` | |\n| [...ache/pinot/server/api/resources/ErrorResponse.java](https://codecov.io/gh/apache/pinot/pull/8450/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvYXBpL3Jlc291cmNlcy9FcnJvclJlc3BvbnNlLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...rg/apache/pinot/server/starter/ServerInstance.java](https://codecov.io/gh/apache/pinot/pull/8450/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvc3RhcnRlci9TZXJ2ZXJJbnN0YW5jZS5qYXZh) | `88.99% <0.00%> (ø)` | |\n| [...gin/inputformat/avro/SimpleAvroMessageDecoder.java](https://codecov.io/gh/apache/pinot/pull/8450/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcGx1Z2lucy9waW5vdC1pbnB1dC1mb3JtYXQvcGlub3QtYXZyby9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcGx1Z2luL2lucHV0Zm9ybWF0L2F2cm8vU2ltcGxlQXZyb01lc3NhZ2VEZWNvZGVyLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| ... and [371 more](https://codecov.io/gh/apache/pinot/pull/8450/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/pinot/pull/8450?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/pinot/pull/8450?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [91c9ce4...4c7349c](https://codecov.io/gh/apache/pinot/pull/8450?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1085138407/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1085188406","html_url":"https://github.com/apache/pinot/pull/8443#issuecomment-1085188406","issue_url":"https://api.github.com/repos/apache/pinot/issues/8443","id":1085188406,"node_id":"IC_kwDOATCU_c5Arqk2","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-31T22:25:26Z","updated_at":"2022-03-31T23:47:21Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/8443?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#8443](https://codecov.io/gh/apache/pinot/pull/8443?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (376de3b) into [master](https://codecov.io/gh/apache/pinot/commit/8dcb25580e21b001633b9931107ba0b5baa037d8?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (8dcb255) will **decrease** coverage by `41.52%`.\n> The diff coverage is `0.00%`.\n\n> :exclamation: Current head 376de3b differs from pull request most recent head 576b6b0. Consider uploading reports for the commit 576b6b0 to get more accurate results\n\n```diff\n@@              Coverage Diff              @@\n##             master    #8443       +/-   ##\n=============================================\n- Coverage     70.70%   29.18%   -41.53%     \n=============================================\n  Files          1663     1651       -12     \n  Lines         87289    86935      -354     \n  Branches      13210    13172       -38     \n=============================================\n- Hits          61719    25373    -36346     \n- Misses        21288    59240    +37952     \n+ Partials       4282     2322     -1960     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `27.14% <0.00%> (-0.02%)` | :arrow_down: |\n| integration2 | `25.83% <0.00%> (-0.26%)` | :arrow_down: |\n| unittests1 | `?` | |\n| unittests2 | `?` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/8443?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...org/apache/pinot/core/util/trace/TraceContext.java](https://codecov.io/gh/apache/pinot/pull/8443/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS91dGlsL3RyYWNlL1RyYWNlQ29udGV4dC5qYXZh) | `7.54% <0.00%> (-66.04%)` | :arrow_down: |\n| [.../java/org/apache/pinot/spi/utils/BooleanUtils.java](https://codecov.io/gh/apache/pinot/pull/8443/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdXRpbHMvQm9vbGVhblV0aWxzLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ava/org/apache/pinot/spi/config/table/FSTType.java](https://codecov.io/gh/apache/pinot/pull/8443/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvY29uZmlnL3RhYmxlL0ZTVFR5cGUuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ava/org/apache/pinot/spi/data/MetricFieldSpec.java](https://codecov.io/gh/apache/pinot/pull/8443/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvZGF0YS9NZXRyaWNGaWVsZFNwZWMuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...va/org/apache/pinot/spi/utils/BigDecimalUtils.java](https://codecov.io/gh/apache/pinot/pull/8443/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdXRpbHMvQmlnRGVjaW1hbFV0aWxzLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...java/org/apache/pinot/common/tier/TierFactory.java](https://codecov.io/gh/apache/pinot/pull/8443/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdGllci9UaWVyRmFjdG9yeS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...a/org/apache/pinot/spi/config/table/TableType.java](https://codecov.io/gh/apache/pinot/pull/8443/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvY29uZmlnL3RhYmxlL1RhYmxlVHlwZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [.../org/apache/pinot/spi/data/DimensionFieldSpec.java](https://codecov.io/gh/apache/pinot/pull/8443/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvZGF0YS9EaW1lbnNpb25GaWVsZFNwZWMuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [.../org/apache/pinot/spi/data/readers/FileFormat.java](https://codecov.io/gh/apache/pinot/pull/8443/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvZGF0YS9yZWFkZXJzL0ZpbGVGb3JtYXQuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...org/apache/pinot/spi/config/table/QuotaConfig.java](https://codecov.io/gh/apache/pinot/pull/8443/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvY29uZmlnL3RhYmxlL1F1b3RhQ29uZmlnLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| ... and [1156 more](https://codecov.io/gh/apache/pinot/pull/8443/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/pinot/pull/8443?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/pinot/pull/8443?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [8dcb255...576b6b0](https://codecov.io/gh/apache/pinot/pull/8443?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1085188406/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1085194696","html_url":"https://github.com/apache/pinot/issues/8453#issuecomment-1085194696","issue_url":"https://api.github.com/repos/apache/pinot/issues/8453","id":1085194696,"node_id":"IC_kwDOATCU_c5ArsHI","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-31T22:33:56Z","updated_at":"2022-03-31T22:33:56Z","author_association":"CONTRIBUTOR","body":"The operator name is a little bit misleading. For this query, we will first evaluate the `type='PullRequestEvent'` predicate using inverted index, and get a bitmap; then pass the bitmap to the scan-based operator to evaluate the `repo_name like 'FeedScale%'` predicate by scanning the docs in the bitmap.\r\nThe issue for this query is that we should not fully evaluate the scan-based predicate, but scan on demand, and stop at 100 documents. If the query is aggregation (requires all documents to be evaluated), then it is okay. We should add a flag to the filter operator denoting whether all documents need to be evaluated (lazy evaluation).","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1085194696/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1085207237","html_url":"https://github.com/apache/pinot/pull/8446#issuecomment-1085207237","issue_url":"https://api.github.com/repos/apache/pinot/issues/8446","id":1085207237,"node_id":"IC_kwDOATCU_c5ArvLF","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-31T22:51:19Z","updated_at":"2022-03-31T22:51:19Z","author_association":"CONTRIBUTOR","body":"@amrishlal Did you intentionally skip the `DocIdSetOperator`, or that one missing unexpectedly? ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1085207237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1085214751","html_url":"https://github.com/apache/pinot/pull/8446#issuecomment-1085214751","issue_url":"https://api.github.com/repos/apache/pinot/issues/8446","id":1085214751,"node_id":"IC_kwDOATCU_c5ArxAf","user":{"login":"amrishlal","id":4550395,"node_id":"MDQ6VXNlcjQ1NTAzOTU=","avatar_url":"https://avatars.githubusercontent.com/u/4550395?v=4","gravatar_id":"","url":"https://api.github.com/users/amrishlal","html_url":"https://github.com/amrishlal","followers_url":"https://api.github.com/users/amrishlal/followers","following_url":"https://api.github.com/users/amrishlal/following{/other_user}","gists_url":"https://api.github.com/users/amrishlal/gists{/gist_id}","starred_url":"https://api.github.com/users/amrishlal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amrishlal/subscriptions","organizations_url":"https://api.github.com/users/amrishlal/orgs","repos_url":"https://api.github.com/users/amrishlal/repos","events_url":"https://api.github.com/users/amrishlal/events{/privacy}","received_events_url":"https://api.github.com/users/amrishlal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-31T23:04:06Z","updated_at":"2022-03-31T23:05:46Z","author_association":"CONTRIBUTOR","body":"> @amrishlal Did you intentionally skip the `DocIdSetOperator`, or that one missing unexpectedly?\r\n\r\nYes it was skipped intentionally but there wasn't any strong reason behind it. At the time, we just decided to do the initial merge and postpone improvements such as putting in `DocIdSetOperator` for later incremental PRs. We probably need to do some work on showing Broker side processing as well in the EXPLAIN PLAN.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1085214751/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1085217649","html_url":"https://github.com/apache/pinot/issues/8423#issuecomment-1085217649","issue_url":"https://api.github.com/repos/apache/pinot/issues/8423","id":1085217649,"node_id":"IC_kwDOATCU_c5Arxtx","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-31T23:08:54Z","updated_at":"2022-03-31T23:08:54Z","author_association":"CONTRIBUTOR","body":"@jadami10 @mcvsubbu The root cause is the effect of combining #6608 and #7961\r\nWhen #6608 is introduced, there is no side effect of closing and recreating the table data manager (kind of stateless). But with the deleting tmp dir logic introduced in #7961, the table data manager is stateful even if it is empty.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1085217649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1085231714","html_url":"https://github.com/apache/pinot/pull/8454#issuecomment-1085231714","issue_url":"https://api.github.com/repos/apache/pinot/issues/8454","id":1085231714,"node_id":"IC_kwDOATCU_c5Ar1Ji","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-31T23:35:44Z","updated_at":"2022-03-31T23:37:11Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/8454?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#8454](https://codecov.io/gh/apache/pinot/pull/8454?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (2def6fd) into [master](https://codecov.io/gh/apache/pinot/commit/91c9ce4aebca3913065e08263c6e80f7f515dd50?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (91c9ce4) will **increase** coverage by `0.01%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@             Coverage Diff              @@\n##             master    #8454      +/-   ##\n============================================\n+ Coverage     64.21%   64.22%   +0.01%     \n  Complexity     4282     4282              \n============================================\n  Files          1618     1618              \n  Lines         85376    85382       +6     \n  Branches      13004    13006       +2     \n============================================\n+ Hits          54820    54833      +13     \n+ Misses        26576    26557      -19     \n- Partials       3980     3992      +12     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| unittests1 | `67.04% <ø> (-0.01%)` | :arrow_down: |\n| unittests2 | `14.17% <ø> (+<0.01%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/8454?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...r/validation/RealtimeSegmentValidationManager.java](https://codecov.io/gh/apache/pinot/pull/8454/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL1JlYWx0aW1lU2VnbWVudFZhbGlkYXRpb25NYW5hZ2VyLmphdmE=) | `50.00% <0.00%> (-20.00%)` | :arrow_down: |\n| [.../helix/core/minion/MinionInstancesCleanupTask.java](https://codecov.io/gh/apache/pinot/pull/8454/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL21pbmlvbi9NaW5pb25JbnN0YW5jZXNDbGVhbnVwVGFzay5qYXZh) | `77.27% <0.00%> (-4.55%)` | :arrow_down: |\n| [.../impl/dictionary/BaseOffHeapMutableDictionary.java](https://codecov.io/gh/apache/pinot/pull/8454/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvQmFzZU9mZkhlYXBNdXRhYmxlRGljdGlvbmFyeS5qYXZh) | `81.33% <0.00%> (-3.34%)` | :arrow_down: |\n| [...ces/PinotSegmentUploadDownloadRestletResource.java](https://codecov.io/gh/apache/pinot/pull/8454/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL1Bpbm90U2VnbWVudFVwbG9hZERvd25sb2FkUmVzdGxldFJlc291cmNlLmphdmE=) | `41.49% <0.00%> (-1.25%)` | :arrow_down: |\n| [...org/apache/pinot/core/data/table/TableResizer.java](https://codecov.io/gh/apache/pinot/pull/8454/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL3RhYmxlL1RhYmxlUmVzaXplci5qYXZh) | `91.30% <0.00%> (-1.09%)` | :arrow_down: |\n| [...lix/core/realtime/PinotRealtimeSegmentManager.java](https://codecov.io/gh/apache/pinot/pull/8454/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlYWx0aW1lL1Bpbm90UmVhbHRpbWVTZWdtZW50TWFuYWdlci5qYXZh) | `76.96% <0.00%> (-1.05%)` | :arrow_down: |\n| [...he/pinot/controller/util/SegmentIntervalUtils.java](https://codecov.io/gh/apache/pinot/pull/8454/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL1NlZ21lbnRJbnRlcnZhbFV0aWxzLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...ntroller/helix/core/PinotHelixResourceManager.java](https://codecov.io/gh/apache/pinot/pull/8454/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL1Bpbm90SGVsaXhSZXNvdXJjZU1hbmFnZXIuamF2YQ==) | `64.28% <0.00%> (+0.06%)` | :arrow_up: |\n| [...ment/creator/impl/SegmentColumnarIndexCreator.java](https://codecov.io/gh/apache/pinot/pull/8454/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L2NyZWF0b3IvaW1wbC9TZWdtZW50Q29sdW1uYXJJbmRleENyZWF0b3IuamF2YQ==) | `86.57% <0.00%> (+0.07%)` | :arrow_up: |\n| [...che/pinot/broker/routing/BrokerRoutingManager.java](https://codecov.io/gh/apache/pinot/pull/8454/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9Ccm9rZXJSb3V0aW5nTWFuYWdlci5qYXZh) | `68.72% <0.00%> (+0.68%)` | :arrow_up: |\n| ... and [5 more](https://codecov.io/gh/apache/pinot/pull/8454/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/pinot/pull/8454?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/pinot/pull/8454?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [91c9ce4...2def6fd](https://codecov.io/gh/apache/pinot/pull/8454?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1085231714/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1085231884","html_url":"https://github.com/apache/pinot/pull/8446#issuecomment-1085231884","issue_url":"https://api.github.com/repos/apache/pinot/issues/8446","id":1085231884,"node_id":"IC_kwDOATCU_c5Ar1MM","user":{"login":"vvivekiyer","id":21298365,"node_id":"MDQ6VXNlcjIxMjk4MzY1","avatar_url":"https://avatars.githubusercontent.com/u/21298365?v=4","gravatar_id":"","url":"https://api.github.com/users/vvivekiyer","html_url":"https://github.com/vvivekiyer","followers_url":"https://api.github.com/users/vvivekiyer/followers","following_url":"https://api.github.com/users/vvivekiyer/following{/other_user}","gists_url":"https://api.github.com/users/vvivekiyer/gists{/gist_id}","starred_url":"https://api.github.com/users/vvivekiyer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvivekiyer/subscriptions","organizations_url":"https://api.github.com/users/vvivekiyer/orgs","repos_url":"https://api.github.com/users/vvivekiyer/repos","events_url":"https://api.github.com/users/vvivekiyer/events{/privacy}","received_events_url":"https://api.github.com/users/vvivekiyer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-31T23:36:06Z","updated_at":"2022-03-31T23:36:06Z","author_association":"CONTRIBUTOR","body":"Just wanted to add - based on the discussion [here](https://github.com/apache/pinot/pull/7568/files#diff-1dcc87e413bf4799252d074cd6b263e5cfc6d3b79b3b5390ea5de5949c9b1a6e) (DocIDSetOperator.java file), we agreed that it would be useful to show DocIdSetOperator in the explain plan tree just so that the user understands that there is an execution layer between projection and filter operator.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1085231884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1085241390","html_url":"https://github.com/apache/pinot/pull/8441#issuecomment-1085241390","issue_url":"https://api.github.com/repos/apache/pinot/issues/8441","id":1085241390,"node_id":"IC_kwDOATCU_c5Ar3gu","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-31T23:48:30Z","updated_at":"2022-03-31T23:48:30Z","author_association":"CONTRIBUTOR","body":"I don't follow why we need to store the pool to instances mapping in the ZK. Essentially what we need is to pass the existing instance partitions to the `InstanceReplicaGroupPartitionSelector.selectInstances()`, and add a flag to enable `minimizeMovement` and use a greedy algorithm to retain as much instances as possible from the candidate instances from each pool.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1085241390/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1085245168","html_url":"https://github.com/apache/pinot/pull/8255#issuecomment-1085245168","issue_url":"https://api.github.com/repos/apache/pinot/issues/8255","id":1085245168,"node_id":"IC_kwDOATCU_c5Ar4bw","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-31T23:57:25Z","updated_at":"2022-03-31T23:57:25Z","author_association":"CONTRIBUTOR","body":"@kmozaid This is a great feature, and I want to ensure it can work end-to-end. With the `SegmentPrunerTest`, it ensures the pruner itself works, but multiple partitioning could fail in other places (I remember some classes explicitly check if there is only one partition column). I'd suggest adding an integration test to ensure it works end-to-end. You may refer to `NullHandlingIntegrationTest` on how to add an integration test with custom data.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1085245168/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1085256163","html_url":"https://github.com/apache/pinot/issues/8453#issuecomment-1085256163","issue_url":"https://api.github.com/repos/apache/pinot/issues/8453","id":1085256163,"node_id":"IC_kwDOATCU_c5Ar7Hj","user":{"login":"richardstartin","id":16439049,"node_id":"MDQ6VXNlcjE2NDM5MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/16439049?v=4","gravatar_id":"","url":"https://api.github.com/users/richardstartin","html_url":"https://github.com/richardstartin","followers_url":"https://api.github.com/users/richardstartin/followers","following_url":"https://api.github.com/users/richardstartin/following{/other_user}","gists_url":"https://api.github.com/users/richardstartin/gists{/gist_id}","starred_url":"https://api.github.com/users/richardstartin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/richardstartin/subscriptions","organizations_url":"https://api.github.com/users/richardstartin/orgs","repos_url":"https://api.github.com/users/richardstartin/repos","events_url":"https://api.github.com/users/richardstartin/events{/privacy}","received_events_url":"https://api.github.com/users/richardstartin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-01T00:13:34Z","updated_at":"2022-04-01T00:13:34Z","author_association":"MEMBER","body":"Yes, this is quite misleading, either the plan should reflect the linking of filters done in AndDocIdSet or the code should be refactored to make it easier to describe the execution.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1085256163/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1085256595","html_url":"https://github.com/apache/pinot/pull/8443#issuecomment-1085256595","issue_url":"https://api.github.com/repos/apache/pinot/issues/8443","id":1085256595,"node_id":"IC_kwDOATCU_c5Ar7OT","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-01T00:14:22Z","updated_at":"2022-04-01T00:14:22Z","author_association":"CONTRIBUTOR","body":"Just checked the code: `Trace` is attached to the scheduler thread, but multiple worker threads can register child Traces under the same parent Trace, so the fix is valid","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1085256595/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1085336560","html_url":"https://github.com/apache/pinot/pull/8255#issuecomment-1085336560","issue_url":"https://api.github.com/repos/apache/pinot/issues/8255","id":1085336560,"node_id":"IC_kwDOATCU_c5AsOvw","user":{"login":"kmozaid","id":8354145,"node_id":"MDQ6VXNlcjgzNTQxNDU=","avatar_url":"https://avatars.githubusercontent.com/u/8354145?v=4","gravatar_id":"","url":"https://api.github.com/users/kmozaid","html_url":"https://github.com/kmozaid","followers_url":"https://api.github.com/users/kmozaid/followers","following_url":"https://api.github.com/users/kmozaid/following{/other_user}","gists_url":"https://api.github.com/users/kmozaid/gists{/gist_id}","starred_url":"https://api.github.com/users/kmozaid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kmozaid/subscriptions","organizations_url":"https://api.github.com/users/kmozaid/orgs","repos_url":"https://api.github.com/users/kmozaid/repos","events_url":"https://api.github.com/users/kmozaid/events{/privacy}","received_events_url":"https://api.github.com/users/kmozaid/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-01T02:16:39Z","updated_at":"2022-04-01T02:16:39Z","author_association":"CONTRIBUTOR","body":"Thanks @Jackie-Jiang , Sure, Let me add integration test.\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1085336560/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1085383347","html_url":"https://github.com/apache/pinot/pull/8441#issuecomment-1085383347","issue_url":"https://api.github.com/repos/apache/pinot/issues/8441","id":1085383347,"node_id":"IC_kwDOATCU_c5AsaKz","user":{"login":"jackjlli","id":35080149,"node_id":"MDQ6VXNlcjM1MDgwMTQ5","avatar_url":"https://avatars.githubusercontent.com/u/35080149?v=4","gravatar_id":"","url":"https://api.github.com/users/jackjlli","html_url":"https://github.com/jackjlli","followers_url":"https://api.github.com/users/jackjlli/followers","following_url":"https://api.github.com/users/jackjlli/following{/other_user}","gists_url":"https://api.github.com/users/jackjlli/gists{/gist_id}","starred_url":"https://api.github.com/users/jackjlli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackjlli/subscriptions","organizations_url":"https://api.github.com/users/jackjlli/orgs","repos_url":"https://api.github.com/users/jackjlli/repos","events_url":"https://api.github.com/users/jackjlli/events{/privacy}","received_events_url":"https://api.github.com/users/jackjlli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-01T03:40:02Z","updated_at":"2022-04-01T03:40:02Z","author_association":"MEMBER","body":"> I don't follow why we need to store the pool to instances mapping in the ZK. Essentially what we need is to pass the existing instance partitions to the `InstanceReplicaGroupPartitionSelector.selectInstances()`, and add a flag to enable `minimizeMovement` and use a greedy algorithm to retain as much instances as possible from the candidate instances from each pool.\r\n\r\nYes the initial plan is to reuse the existing instance partitions, but the thing is that for the instance which no longer exists in the current list of instance configs (which is gone), there is no way to know which pool it came from; i.e. even though we know there is an empty seat there, we don't know which pool we should select the new instance from.\r\nAs long as we can control the input parameters of `replicaPartitionSelector.selectInstances()` (the input instancePartitions is always empty, thus as long as we control the instance sequence of `poolToInstanceConfigsMap`), we can always get the deterministic instancePartitions as output.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1085383347/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1085528410","html_url":"https://github.com/apache/pinot/pull/8455#issuecomment-1085528410","issue_url":"https://api.github.com/repos/apache/pinot/issues/8455","id":1085528410,"node_id":"IC_kwDOATCU_c5As9la","user":{"login":"richardstartin","id":16439049,"node_id":"MDQ6VXNlcjE2NDM5MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/16439049?v=4","gravatar_id":"","url":"https://api.github.com/users/richardstartin","html_url":"https://github.com/richardstartin","followers_url":"https://api.github.com/users/richardstartin/followers","following_url":"https://api.github.com/users/richardstartin/following{/other_user}","gists_url":"https://api.github.com/users/richardstartin/gists{/gist_id}","starred_url":"https://api.github.com/users/richardstartin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/richardstartin/subscriptions","organizations_url":"https://api.github.com/users/richardstartin/orgs","repos_url":"https://api.github.com/users/richardstartin/repos","events_url":"https://api.github.com/users/richardstartin/events{/privacy}","received_events_url":"https://api.github.com/users/richardstartin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-01T07:25:18Z","updated_at":"2022-04-01T07:25:18Z","author_association":"MEMBER","body":"This is great, the labels can also be used to drive github actions.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1085528410/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1085554412","html_url":"https://github.com/apache/pinot/issues/8373#issuecomment-1085554412","issue_url":"https://api.github.com/repos/apache/pinot/issues/8373","id":1085554412,"node_id":"IC_kwDOATCU_c5AtD7s","user":{"login":"dianaarnos","id":6060754,"node_id":"MDQ6VXNlcjYwNjA3NTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6060754?v=4","gravatar_id":"","url":"https://api.github.com/users/dianaarnos","html_url":"https://github.com/dianaarnos","followers_url":"https://api.github.com/users/dianaarnos/followers","following_url":"https://api.github.com/users/dianaarnos/following{/other_user}","gists_url":"https://api.github.com/users/dianaarnos/gists{/gist_id}","starred_url":"https://api.github.com/users/dianaarnos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dianaarnos/subscriptions","organizations_url":"https://api.github.com/users/dianaarnos/orgs","repos_url":"https://api.github.com/users/dianaarnos/repos","events_url":"https://api.github.com/users/dianaarnos/events{/privacy}","received_events_url":"https://api.github.com/users/dianaarnos/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-01T07:58:00Z","updated_at":"2022-04-01T07:58:00Z","author_association":"CONTRIBUTOR","body":"What do you mean by doc is wrong indentation? Can you point me to the doc so I can fix it, please?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1085554412/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1086008872","html_url":"https://github.com/apache/pinot/pull/8445#issuecomment-1086008872","issue_url":"https://api.github.com/repos/apache/pinot/issues/8445","id":1086008872,"node_id":"IC_kwDOATCU_c5Auy4o","user":{"login":"jadami10","id":4760722,"node_id":"MDQ6VXNlcjQ3NjA3MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4760722?v=4","gravatar_id":"","url":"https://api.github.com/users/jadami10","html_url":"https://github.com/jadami10","followers_url":"https://api.github.com/users/jadami10/followers","following_url":"https://api.github.com/users/jadami10/following{/other_user}","gists_url":"https://api.github.com/users/jadami10/gists{/gist_id}","starred_url":"https://api.github.com/users/jadami10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jadami10/subscriptions","organizations_url":"https://api.github.com/users/jadami10/orgs","repos_url":"https://api.github.com/users/jadami10/repos","events_url":"https://api.github.com/users/jadami10/events{/privacy}","received_events_url":"https://api.github.com/users/jadami10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-01T15:02:18Z","updated_at":"2022-04-01T15:02:18Z","author_association":"CONTRIBUTOR","body":"> Can you please add the prometheus config and some tests?  You may refer to https://github.com/apache/pinot/pull/8358 which has very similar changes\r\n\r\nAdded both. It tests for realtime, offline, and all segments missing. thank you for the pointer PR\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1086008872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1086020123","html_url":"https://github.com/apache/pinot/issues/8339#issuecomment-1086020123","issue_url":"https://api.github.com/repos/apache/pinot/issues/8339","id":1086020123,"node_id":"IC_kwDOATCU_c5Au1ob","user":{"login":"suddendust","id":84911643,"node_id":"MDQ6VXNlcjg0OTExNjQz","avatar_url":"https://avatars.githubusercontent.com/u/84911643?v=4","gravatar_id":"","url":"https://api.github.com/users/suddendust","html_url":"https://github.com/suddendust","followers_url":"https://api.github.com/users/suddendust/followers","following_url":"https://api.github.com/users/suddendust/following{/other_user}","gists_url":"https://api.github.com/users/suddendust/gists{/gist_id}","starred_url":"https://api.github.com/users/suddendust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/suddendust/subscriptions","organizations_url":"https://api.github.com/users/suddendust/orgs","repos_url":"https://api.github.com/users/suddendust/repos","events_url":"https://api.github.com/users/suddendust/events{/privacy}","received_events_url":"https://api.github.com/users/suddendust/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-01T15:11:01Z","updated_at":"2022-04-01T15:11:15Z","author_association":"CONTRIBUTOR","body":"@mcvsubbu If segment size > X, then as @sajjad-moradi we can emit a warning stating that very large segments can be detrimental to the perf? Just so that the user does not take the recommendations as something set-in-stone (which I did in the initial stages, have set segments as large as 3G 😃). Also, for N/A, either tell the user why we emitted N/A (insufficient host memory) or go ahead with the suggestion and warn about insufficient memory as well. Fail to see how they're at odds?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1086020123/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1086097380","html_url":"https://github.com/apache/pinot/pull/8457#issuecomment-1086097380","issue_url":"https://api.github.com/repos/apache/pinot/issues/8457","id":1086097380,"node_id":"IC_kwDOATCU_c5AvIfk","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-01T16:09:19Z","updated_at":"2022-04-01T16:09:19Z","author_association":"CONTRIBUTOR","body":"Huge +1\r\n\r\nThanks @richardstartin . I will review the approach today. Meanwhile, wanted to check on one thing:\r\n\r\nWe had added the threadCpuTime metric (measured at the server combine level). As part of the [next work for EXPLAIN PLAN](https://docs.google.com/document/d/1lBMGcR65JY_8iIUCA1iCazzn0LzTVxMJlPzFIsZ7TRk/edit#heading=h.kwlkkfaymsj0), we wanted to push down the measurement of this metric (or at least evaluate if it is feasible to do so) and other metrics at the lower / leaf operator level as well with the goal of creating a QueryProfile / Operator level stats. \r\n\r\nI am guessing the new abstraction proposed in this PR will allow us to do so. Just want to make sure it won't prevent us from doing so and this can be further extended","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1086097380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1086112645","html_url":"https://github.com/apache/pinot/pull/8457#issuecomment-1086112645","issue_url":"https://api.github.com/repos/apache/pinot/issues/8457","id":1086112645,"node_id":"IC_kwDOATCU_c5AvMOF","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-01T16:26:00Z","updated_at":"2022-04-07T16:25:43Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/8457?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#8457](https://codecov.io/gh/apache/pinot/pull/8457?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (5252990) into [master](https://codecov.io/gh/apache/pinot/commit/e7a2f5b2c08b75a718bf2619dc9abe51a07736ed?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (e7a2f5b) will **decrease** coverage by `1.32%`.\n> The diff coverage is `38.14%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master    #8457      +/-   ##\n============================================\n- Coverage     70.68%   69.35%   -1.33%     \n- Complexity     4282     4284       +2     \n============================================\n  Files          1663     1672       +9     \n  Lines         87288    87436     +148     \n  Branches      13210    13232      +22     \n============================================\n- Hits          61697    60639    -1058     \n- Misses        21305    22542    +1237     \n+ Partials       4286     4255      -31     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `?` | |\n| integration2 | `25.90% <22.68%> (-0.11%)` | :arrow_down: |\n| unittests1 | `67.03% <38.14%> (-0.02%)` | :arrow_down: |\n| unittests2 | `14.12% <0.00%> (-0.03%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/8457?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...core/query/executor/ServerQueryExecutorV1Impl.java](https://codecov.io/gh/apache/pinot/pull/8457/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9leGVjdXRvci9TZXJ2ZXJRdWVyeUV4ZWN1dG9yVjFJbXBsLmphdmE=) | `82.56% <0.00%> (ø)` | |\n| [...in/java/org/apache/pinot/spi/trace/FilterType.java](https://codecov.io/gh/apache/pinot/pull/8457/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdHJhY2UvRmlsdGVyVHlwZS5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...rg/apache/pinot/spi/trace/InvocationRecording.java](https://codecov.io/gh/apache/pinot/pull/8457/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdHJhY2UvSW52b2NhdGlvblJlY29yZGluZy5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...rg/apache/pinot/core/util/trace/BuiltInTracer.java](https://codecov.io/gh/apache/pinot/pull/8457/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS91dGlsL3RyYWNlL0J1aWx0SW5UcmFjZXIuamF2YQ==) | `19.35% <19.35%> (ø)` | |\n| [...org/apache/pinot/core/util/trace/TracedThread.java](https://codecov.io/gh/apache/pinot/pull/8457/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS91dGlsL3RyYWNlL1RyYWNlZFRocmVhZC5qYXZh) | `36.36% <36.36%> (ø)` | |\n| [.../main/java/org/apache/pinot/spi/trace/Tracing.java](https://codecov.io/gh/apache/pinot/pull/8457/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdHJhY2UvVHJhY2luZy5qYXZh) | `37.50% <37.50%> (ø)` | |\n| [...java/org/apache/pinot/spi/trace/BaseRecording.java](https://codecov.io/gh/apache/pinot/pull/8457/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdHJhY2UvQmFzZVJlY29yZGluZy5qYXZh) | `75.00% <75.00%> (ø)` | |\n| [...a/org/apache/pinot/core/operator/BaseOperator.java](https://codecov.io/gh/apache/pinot/pull/8457/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9CYXNlT3BlcmF0b3IuamF2YQ==) | `100.00% <100.00%> (+61.53%)` | :arrow_up: |\n| [...ore/query/scheduler/resources/ResourceManager.java](https://codecov.io/gh/apache/pinot/pull/8457/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9zY2hlZHVsZXIvcmVzb3VyY2VzL1Jlc291cmNlTWFuYWdlci5qYXZh) | `96.00% <100.00%> (-0.43%)` | :arrow_down: |\n| [...che/pinot/core/util/trace/TracedThreadFactory.java](https://codecov.io/gh/apache/pinot/pull/8457/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS91dGlsL3RyYWNlL1RyYWNlZFRocmVhZEZhY3RvcnkuamF2YQ==) | `100.00% <100.00%> (ø)` | |\n| ... and [145 more](https://codecov.io/gh/apache/pinot/pull/8457/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/pinot/pull/8457?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/pinot/pull/8457?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [e7a2f5b...5252990](https://codecov.io/gh/apache/pinot/pull/8457?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1086112645/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1086133603","html_url":"https://github.com/apache/pinot/pull/8457#issuecomment-1086133603","issue_url":"https://api.github.com/repos/apache/pinot/issues/8457","id":1086133603,"node_id":"IC_kwDOATCU_c5AvRVj","user":{"login":"richardstartin","id":16439049,"node_id":"MDQ6VXNlcjE2NDM5MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/16439049?v=4","gravatar_id":"","url":"https://api.github.com/users/richardstartin","html_url":"https://github.com/richardstartin","followers_url":"https://api.github.com/users/richardstartin/followers","following_url":"https://api.github.com/users/richardstartin/following{/other_user}","gists_url":"https://api.github.com/users/richardstartin/gists{/gist_id}","starred_url":"https://api.github.com/users/richardstartin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/richardstartin/subscriptions","organizations_url":"https://api.github.com/users/richardstartin/orgs","repos_url":"https://api.github.com/users/richardstartin/repos","events_url":"https://api.github.com/users/richardstartin/events{/privacy}","received_events_url":"https://api.github.com/users/richardstartin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-01T16:53:39Z","updated_at":"2022-04-01T16:53:39Z","author_association":"MEMBER","body":"> Huge +1\r\n> \r\n> Thanks @richardstartin . I will review the approach today. Meanwhile, wanted to check on one thing:\r\n> \r\n> We had added the threadCpuTime metric (measured at the server combine level). As part of the [next work for EXPLAIN PLAN](https://docs.google.com/document/d/1lBMGcR65JY_8iIUCA1iCazzn0LzTVxMJlPzFIsZ7TRk/edit#heading=h.kwlkkfaymsj0), we wanted to push down the measurement of this metric (or at least evaluate if it is feasible to do so) and other metrics at the lower / leaf operator level as well with the goal of creating a QueryProfile / Operator level stats.\r\n> \r\n> I am guessing the new abstraction proposed in this PR will allow us to do so. Just want to make sure it won't prevent us from doing so and this can be further extended\r\n\r\nThe idea is to be able to implement that sort of thing at the operator layer, yes. The main goal is to not need to agree what gets recorded in a span or how. This design also leaves context propagation up to the implementor, who can choose between bytecode instrumentation (which allows propagation of arbitrary information) and the existing, rather limited, mechanism.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1086133603/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1086277822","html_url":"https://github.com/apache/pinot/pull/8455#issuecomment-1086277822","issue_url":"https://api.github.com/repos/apache/pinot/issues/8455","id":1086277822,"node_id":"IC_kwDOATCU_c5Av0i-","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-01T20:04:04Z","updated_at":"2022-04-01T20:04:04Z","author_association":"CONTRIBUTOR","body":"Thanks for starting this, @sajjad-moradi . The original set of instructions/checkbox/description was meant for people to apply the right label to _every_ PR, but clearly fell short of its goals. I am totally supportive of this, in any language to help achieve that goal. It is a pity if committers have to spend  lots of time going through individual commits. (soon, we will not find any volunteers :) \r\n\r\nAs committers, can we agree to ensure that the PRs we merge follow these instructions?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1086277822/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1086285554","html_url":"https://github.com/apache/pinot/issues/8339#issuecomment-1086285554","issue_url":"https://api.github.com/repos/apache/pinot/issues/8339","id":1086285554,"node_id":"IC_kwDOATCU_c5Av2by","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-01T20:13:19Z","updated_at":"2022-04-01T20:13:19Z","author_association":"CONTRIBUTOR","body":"The two are certainly at odds with each other. We _have_ to do one of the two.\r\n\r\nNow, we can discard the second rule (i.e. output segment sizes larger than 500M), but include an asterisk to say something.\r\n\r\nI suggest that the something be a pointer to a section in the documentation that says what happens if there are too many segments of small size, or a small number of large size segments. Basically, explain the balance. \r\n\r\nIt is not a hard line that we cannot have huge segments. If the total data is 5TB, having 2GB segments is perhaps the best option.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1086285554/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1086291495","html_url":"https://github.com/apache/pinot/pull/8441#issuecomment-1086291495","issue_url":"https://api.github.com/repos/apache/pinot/issues/8441","id":1086291495,"node_id":"IC_kwDOATCU_c5Av34n","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-01T20:21:16Z","updated_at":"2022-04-01T20:21:16Z","author_association":"CONTRIBUTOR","body":"> > I don't follow why we need to store the pool to instances mapping in the ZK. Essentially what we need is to pass the existing instance partitions to the `InstanceReplicaGroupPartitionSelector.selectInstances()`, and add a flag to enable `minimizeMovement` and use a greedy algorithm to retain as much instances as possible from the candidate instances from each pool.\r\n> \r\n> Yes the initial plan is to reuse the existing instance partitions, but the thing is that for the instance which no longer exists in the current list of instance configs (which is gone), there is no way to know which pool it came from; i.e. even though we know there is an empty seat there, we don't know which pool we should select the new instance from. As long as we can control the input parameters of `replicaPartitionSelector.selectInstances()` (the input instancePartitions is always empty, thus as long as we control the instance sequence of `poolToInstanceConfigsMap`), we can always get the deterministic instancePartitions as output.\r\n\r\nActually we can know the pool where the original instance is coming from without storing the pool information. The pool selection is deterministic, and is based on the hash code of the table name. Following the same algorithm, for each replica id, you can get the same pool id as the original assignment. Then you may run the greedy algorithm to pick the instances from the candidate instances from the pool to achieve minimum movement.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1086291495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1086320784","html_url":"https://github.com/apache/pinot/pull/8441#issuecomment-1086320784","issue_url":"https://api.github.com/repos/apache/pinot/issues/8441","id":1086320784,"node_id":"IC_kwDOATCU_c5Av_CQ","user":{"login":"jasperjiaguo","id":10736840,"node_id":"MDQ6VXNlcjEwNzM2ODQw","avatar_url":"https://avatars.githubusercontent.com/u/10736840?v=4","gravatar_id":"","url":"https://api.github.com/users/jasperjiaguo","html_url":"https://github.com/jasperjiaguo","followers_url":"https://api.github.com/users/jasperjiaguo/followers","following_url":"https://api.github.com/users/jasperjiaguo/following{/other_user}","gists_url":"https://api.github.com/users/jasperjiaguo/gists{/gist_id}","starred_url":"https://api.github.com/users/jasperjiaguo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasperjiaguo/subscriptions","organizations_url":"https://api.github.com/users/jasperjiaguo/orgs","repos_url":"https://api.github.com/users/jasperjiaguo/repos","events_url":"https://api.github.com/users/jasperjiaguo/events{/privacy}","received_events_url":"https://api.github.com/users/jasperjiaguo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-01T21:02:55Z","updated_at":"2022-04-01T22:05:31Z","author_association":"CONTRIBUTOR","body":"> > > I don't follow why we need to store the pool to instances mapping in the ZK. Essentially what we need is to pass the existing instance partitions to the `InstanceReplicaGroupPartitionSelector.selectInstances()`, and add a flag to enable `minimizeMovement` and use a greedy algorithm to retain as much instances as possible from the candidate instances from each pool.\r\n> > \r\n> > \r\n> > Yes the initial plan is to reuse the existing instance partitions, but the thing is that for the instance which no longer exists in the current list of instance configs (which is gone), there is no way to know which pool it came from; i.e. even though we know there is an empty seat there, we don't know which pool we should select the new instance from. As long as we can control the input parameters of `replicaPartitionSelector.selectInstances()` (the input instancePartitions is always empty, thus as long as we control the instance sequence of `poolToInstanceConfigsMap`), we can always get the deterministic instancePartitions as output.\r\n> \r\n> Actually we can know the pool where the original instance is coming from without storing the pool information. The pool selection is deterministic, and is based on the hash code of the table name. Following the same algorithm, for each replica id, you can get the same pool id as the original assignment. Then you may run the greedy algorithm to pick the instances from the candidate instances from the pool to achieve minimum movement.\r\n\r\nIMO there is no hard requirement for a pool id to be mapped ~~1:1~~ 1:N to a replica id, right? It's just in current strategy of `InstanceReplicaGroupPartitionSelector` we assign instances to a replica from one pool. But this should not be enforced for future use, especially right now we are implementing selector with FD awareness and it can have instances from multiple pools in 1 replica group. \r\n\r\nIn other words we should not rely on the status-quo of we can \"reverse engineering the pool id from replica group id\". So I think the pool -> instance mapping should probably be saved. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1086320784/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1086359754","html_url":"https://github.com/apache/pinot/pull/8441#issuecomment-1086359754","issue_url":"https://api.github.com/repos/apache/pinot/issues/8441","id":1086359754,"node_id":"IC_kwDOATCU_c5AwIjK","user":{"login":"jtao15","id":50065407,"node_id":"MDQ6VXNlcjUwMDY1NDA3","avatar_url":"https://avatars.githubusercontent.com/u/50065407?v=4","gravatar_id":"","url":"https://api.github.com/users/jtao15","html_url":"https://github.com/jtao15","followers_url":"https://api.github.com/users/jtao15/followers","following_url":"https://api.github.com/users/jtao15/following{/other_user}","gists_url":"https://api.github.com/users/jtao15/gists{/gist_id}","starred_url":"https://api.github.com/users/jtao15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtao15/subscriptions","organizations_url":"https://api.github.com/users/jtao15/orgs","repos_url":"https://api.github.com/users/jtao15/repos","events_url":"https://api.github.com/users/jtao15/events{/privacy}","received_events_url":"https://api.github.com/users/jtao15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-01T21:53:05Z","updated_at":"2022-04-01T21:53:05Z","author_association":"CONTRIBUTOR","body":"> > > > I don't follow why we need to store the pool to instances mapping in the ZK. Essentially what we need is to pass the existing instance partitions to the `InstanceReplicaGroupPartitionSelector.selectInstances()`, and add a flag to enable `minimizeMovement` and use a greedy algorithm to retain as much instances as possible from the candidate instances from each pool.\r\n> > > \r\n> > > \r\n> > > Yes the initial plan is to reuse the existing instance partitions, but the thing is that for the instance which no longer exists in the current list of instance configs (which is gone), there is no way to know which pool it came from; i.e. even though we know there is an empty seat there, we don't know which pool we should select the new instance from. As long as we can control the input parameters of `replicaPartitionSelector.selectInstances()` (the input instancePartitions is always empty, thus as long as we control the instance sequence of `poolToInstanceConfigsMap`), we can always get the deterministic instancePartitions as output.\r\n> > \r\n> > \r\n> > Actually we can know the pool where the original instance is coming from without storing the pool information. The pool selection is deterministic, and is based on the hash code of the table name. Following the same algorithm, for each replica id, you can get the same pool id as the original assignment. Then you may run the greedy algorithm to pick the instances from the candidate instances from the pool to achieve minimum movement.\r\n> \r\n> IMO there is no hard requirement for a pool id to be mapped 1:1 to a replica id, right? It's just in current strategy of `InstanceReplicaGroupPartitionSelector` we assign instances from a pool to a replica. But this should not be enforced for future use, especially right now we are implementing selector with FD awareness and it can have instances from multiple pools in 1 replica group.\r\n\r\nIf we want to achieve minimum segments movement, we should guarantee the pool number is not changed for a replica group before and after the rebalance, else we are moving one replica from a set of hosts to another. The pool selection will be deterministic if the number of pools remains the same. Maybe we can set the scope to only handle the case that the number of pools didn't change. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1086359754/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1086373452","html_url":"https://github.com/apache/pinot/pull/8441#issuecomment-1086373452","issue_url":"https://api.github.com/repos/apache/pinot/issues/8441","id":1086373452,"node_id":"IC_kwDOATCU_c5AwL5M","user":{"login":"jackjlli","id":35080149,"node_id":"MDQ6VXNlcjM1MDgwMTQ5","avatar_url":"https://avatars.githubusercontent.com/u/35080149?v=4","gravatar_id":"","url":"https://api.github.com/users/jackjlli","html_url":"https://github.com/jackjlli","followers_url":"https://api.github.com/users/jackjlli/followers","following_url":"https://api.github.com/users/jackjlli/following{/other_user}","gists_url":"https://api.github.com/users/jackjlli/gists{/gist_id}","starred_url":"https://api.github.com/users/jackjlli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackjlli/subscriptions","organizations_url":"https://api.github.com/users/jackjlli/orgs","repos_url":"https://api.github.com/users/jackjlli/repos","events_url":"https://api.github.com/users/jackjlli/events{/privacy}","received_events_url":"https://api.github.com/users/jackjlli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-01T22:11:58Z","updated_at":"2022-04-01T22:11:58Z","author_association":"MEMBER","body":"> If we want to achieve minimum segments movement, we should guarantee the pool number is not changed for a replica group before and after the rebalance, else we are moving one replica from a set of hosts to another. The pool selection will be deterministic if the number of pools remains the same. Maybe we can set the scope to only handle the case that the number of pools didn't change.\r\n\r\nActually this is hard in real case. Supposed if there is one whole pool that needs to be decommissioned and the other pools remain the same, your assumption will break. If we give up / disable this feature in the current table rebalance in order to accept a new pool, the instance assignment in other pools will be affected. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1086373452/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1086411067","html_url":"https://github.com/apache/pinot/pull/8458#issuecomment-1086411067","issue_url":"https://api.github.com/repos/apache/pinot/issues/8458","id":1086411067,"node_id":"IC_kwDOATCU_c5AwVE7","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-01T23:28:34Z","updated_at":"2022-04-04T21:37:07Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/8458?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#8458](https://codecov.io/gh/apache/pinot/pull/8458?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (14367ca) into [master](https://codecov.io/gh/apache/pinot/commit/e7a2f5b2c08b75a718bf2619dc9abe51a07736ed?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (e7a2f5b) will **decrease** coverage by `3.63%`.\n> The diff coverage is `83.54%`.\n\n> :exclamation: Current head 14367ca differs from pull request most recent head cb9d149. Consider uploading reports for the commit cb9d149 to get more accurate results\n\n```diff\n@@             Coverage Diff              @@\n##             master    #8458      +/-   ##\n============================================\n- Coverage     70.68%   67.04%   -3.64%     \n+ Complexity     4282     4196      -86     \n============================================\n  Files          1663     1262     -401     \n  Lines         87288    63773   -23515     \n  Branches      13210    10021    -3189     \n============================================\n- Hits          61697    42758   -18939     \n+ Misses        21305    17936    -3369     \n+ Partials       4286     3079    -1207     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `?` | |\n| integration2 | `?` | |\n| unittests1 | `67.04% <83.54%> (+<0.01%)` | :arrow_up: |\n| unittests2 | `?` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/8458?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...g/apache/pinot/common/metrics/ControllerGauge.java](https://codecov.io/gh/apache/pinot/pull/8458/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9Db250cm9sbGVyR2F1Z2UuamF2YQ==) | `0.00% <0.00%> (-97.57%)` | :arrow_down: |\n| [...ot/common/request/context/predicate/Predicate.java](https://codecov.io/gh/apache/pinot/pull/8458/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVxdWVzdC9jb250ZXh0L3ByZWRpY2F0ZS9QcmVkaWNhdGUuamF2YQ==) | `100.00% <ø> (ø)` | |\n| [...ot/common/request/context/RequestContextUtils.java](https://codecov.io/gh/apache/pinot/pull/8458/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVxdWVzdC9jb250ZXh0L1JlcXVlc3RDb250ZXh0VXRpbHMuamF2YQ==) | `72.05% <50.00%> (-0.99%)` | :arrow_down: |\n| [...pinot/core/plan/maker/InstancePlanMakerImplV2.java](https://codecov.io/gh/apache/pinot/pull/8458/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9wbGFuL21ha2VyL0luc3RhbmNlUGxhbk1ha2VySW1wbFYyLmphdmE=) | `66.18% <74.35%> (-10.82%)` | :arrow_down: |\n| [...ommon/request/context/predicate/BasePredicate.java](https://codecov.io/gh/apache/pinot/pull/8458/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVxdWVzdC9jb250ZXh0L3ByZWRpY2F0ZS9CYXNlUHJlZGljYXRlLmphdmE=) | `100.00% <100.00%> (ø)` | |\n| [.../common/request/context/predicate/EqPredicate.java](https://codecov.io/gh/apache/pinot/pull/8458/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVxdWVzdC9jb250ZXh0L3ByZWRpY2F0ZS9FcVByZWRpY2F0ZS5qYXZh) | `61.53% <100.00%> (-5.13%)` | :arrow_down: |\n| [.../common/request/context/predicate/InPredicate.java](https://codecov.io/gh/apache/pinot/pull/8458/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVxdWVzdC9jb250ZXh0L3ByZWRpY2F0ZS9JblByZWRpY2F0ZS5qYXZh) | `72.22% <100.00%> (-2.78%)` | :arrow_down: |\n| [.../request/context/predicate/IsNotNullPredicate.java](https://codecov.io/gh/apache/pinot/pull/8458/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVxdWVzdC9jb250ZXh0L3ByZWRpY2F0ZS9Jc05vdE51bGxQcmVkaWNhdGUuamF2YQ==) | `63.63% <100.00%> (-5.60%)` | :arrow_down: |\n| [...mon/request/context/predicate/IsNullPredicate.java](https://codecov.io/gh/apache/pinot/pull/8458/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVxdWVzdC9jb250ZXh0L3ByZWRpY2F0ZS9Jc051bGxQcmVkaWNhdGUuamF2YQ==) | `63.63% <100.00%> (-5.60%)` | :arrow_down: |\n| [.../request/context/predicate/JsonMatchPredicate.java](https://codecov.io/gh/apache/pinot/pull/8458/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVxdWVzdC9jb250ZXh0L3ByZWRpY2F0ZS9Kc29uTWF0Y2hQcmVkaWNhdGUuamF2YQ==) | `53.84% <100.00%> (-6.16%)` | :arrow_down: |\n| ... and [651 more](https://codecov.io/gh/apache/pinot/pull/8458/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/pinot/pull/8458?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/pinot/pull/8458?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [e7a2f5b...cb9d149](https://codecov.io/gh/apache/pinot/pull/8458?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1086411067/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1086758069","html_url":"https://github.com/apache/pinot/issues/7849#issuecomment-1086758069","issue_url":"https://api.github.com/repos/apache/pinot/issues/7849","id":1086758069,"node_id":"IC_kwDOATCU_c5Axpy1","user":{"login":"mayankshriv","id":12615885,"node_id":"MDQ6VXNlcjEyNjE1ODg1","avatar_url":"https://avatars.githubusercontent.com/u/12615885?v=4","gravatar_id":"","url":"https://api.github.com/users/mayankshriv","html_url":"https://github.com/mayankshriv","followers_url":"https://api.github.com/users/mayankshriv/followers","following_url":"https://api.github.com/users/mayankshriv/following{/other_user}","gists_url":"https://api.github.com/users/mayankshriv/gists{/gist_id}","starred_url":"https://api.github.com/users/mayankshriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayankshriv/subscriptions","organizations_url":"https://api.github.com/users/mayankshriv/orgs","repos_url":"https://api.github.com/users/mayankshriv/repos","events_url":"https://api.github.com/users/mayankshriv/events{/privacy}","received_events_url":"https://api.github.com/users/mayankshriv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-03T01:53:09Z","updated_at":"2022-04-03T01:53:09Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang Is this PR still valid, or already covered by #8392 and #7958? If latter, could we close it?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1086758069/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1086758174","html_url":"https://github.com/apache/pinot/pull/7971#issuecomment-1086758174","issue_url":"https://api.github.com/repos/apache/pinot/issues/7971","id":1086758174,"node_id":"IC_kwDOATCU_c5Axp0e","user":{"login":"mayankshriv","id":12615885,"node_id":"MDQ6VXNlcjEyNjE1ODg1","avatar_url":"https://avatars.githubusercontent.com/u/12615885?v=4","gravatar_id":"","url":"https://api.github.com/users/mayankshriv","html_url":"https://github.com/mayankshriv","followers_url":"https://api.github.com/users/mayankshriv/followers","following_url":"https://api.github.com/users/mayankshriv/following{/other_user}","gists_url":"https://api.github.com/users/mayankshriv/gists{/gist_id}","starred_url":"https://api.github.com/users/mayankshriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayankshriv/subscriptions","organizations_url":"https://api.github.com/users/mayankshriv/orgs","repos_url":"https://api.github.com/users/mayankshriv/repos","events_url":"https://api.github.com/users/mayankshriv/events{/privacy}","received_events_url":"https://api.github.com/users/mayankshriv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-03T01:54:12Z","updated_at":"2022-04-03T01:54:12Z","author_association":"CONTRIBUTOR","body":"Seems like the prerequisite PR https://github.com/apache/pinot/pull/8392 has been merged. @tuor713 , would you like to rebase and merge this one?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1086758174/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1086758935","html_url":"https://github.com/apache/pinot/pull/8398#issuecomment-1086758935","issue_url":"https://api.github.com/repos/apache/pinot/issues/8398","id":1086758935,"node_id":"IC_kwDOATCU_c5AxqAX","user":{"login":"mayankshriv","id":12615885,"node_id":"MDQ6VXNlcjEyNjE1ODg1","avatar_url":"https://avatars.githubusercontent.com/u/12615885?v=4","gravatar_id":"","url":"https://api.github.com/users/mayankshriv","html_url":"https://github.com/mayankshriv","followers_url":"https://api.github.com/users/mayankshriv/followers","following_url":"https://api.github.com/users/mayankshriv/following{/other_user}","gists_url":"https://api.github.com/users/mayankshriv/gists{/gist_id}","starred_url":"https://api.github.com/users/mayankshriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayankshriv/subscriptions","organizations_url":"https://api.github.com/users/mayankshriv/orgs","repos_url":"https://api.github.com/users/mayankshriv/repos","events_url":"https://api.github.com/users/mayankshriv/events{/privacy}","received_events_url":"https://api.github.com/users/mayankshriv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-03T02:02:38Z","updated_at":"2022-04-03T02:02:38Z","author_association":"CONTRIBUTOR","body":"What's the consensus here? Are there any open concerns, or can this PR be merged?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1086758935/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1086782649","html_url":"https://github.com/apache/pinot/pull/8255#issuecomment-1086782649","issue_url":"https://api.github.com/repos/apache/pinot/issues/8255","id":1086782649,"node_id":"IC_kwDOATCU_c5Axvy5","user":{"login":"kmozaid","id":8354145,"node_id":"MDQ6VXNlcjgzNTQxNDU=","avatar_url":"https://avatars.githubusercontent.com/u/8354145?v=4","gravatar_id":"","url":"https://api.github.com/users/kmozaid","html_url":"https://github.com/kmozaid","followers_url":"https://api.github.com/users/kmozaid/followers","following_url":"https://api.github.com/users/kmozaid/following{/other_user}","gists_url":"https://api.github.com/users/kmozaid/gists{/gist_id}","starred_url":"https://api.github.com/users/kmozaid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kmozaid/subscriptions","organizations_url":"https://api.github.com/users/kmozaid/orgs","repos_url":"https://api.github.com/users/kmozaid/repos","events_url":"https://api.github.com/users/kmozaid/events{/privacy}","received_events_url":"https://api.github.com/users/kmozaid/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-03T05:56:39Z","updated_at":"2022-04-03T05:56:39Z","author_association":"CONTRIBUTOR","body":"> @kmozaid This is a great feature, and I want to ensure it can work end-to-end. With the `SegmentPrunerTest`, it ensures the pruner itself works, but multiple partitioning could fail in other places (I remember some classes explicitly check if there is only one partition column). I'd suggest adding an integration test to ensure it works end-to-end. You may refer to `NullHandlingIntegrationTest` on how to add an integration test with custom data.\r\n\r\nHi @Jackie-Jiang I have updated existing merge rollup minion task and realtime-to-offline minion task integration test which involves partitioning.Now these tests covered multi column partitioning flow. Please check if it is still required to write a separate integration tests.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1086782649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1086786555","html_url":"https://github.com/apache/pinot/pull/8255#issuecomment-1086786555","issue_url":"https://api.github.com/repos/apache/pinot/issues/8255","id":1086786555,"node_id":"IC_kwDOATCU_c5Axwv7","user":{"login":"kmozaid","id":8354145,"node_id":"MDQ6VXNlcjgzNTQxNDU=","avatar_url":"https://avatars.githubusercontent.com/u/8354145?v=4","gravatar_id":"","url":"https://api.github.com/users/kmozaid","html_url":"https://github.com/kmozaid","followers_url":"https://api.github.com/users/kmozaid/followers","following_url":"https://api.github.com/users/kmozaid/following{/other_user}","gists_url":"https://api.github.com/users/kmozaid/gists{/gist_id}","starred_url":"https://api.github.com/users/kmozaid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kmozaid/subscriptions","organizations_url":"https://api.github.com/users/kmozaid/orgs","repos_url":"https://api.github.com/users/kmozaid/repos","events_url":"https://api.github.com/users/kmozaid/events{/privacy}","received_events_url":"https://api.github.com/users/kmozaid/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-03T06:29:07Z","updated_at":"2022-04-03T06:29:22Z","author_association":"CONTRIBUTOR","body":"There are three other places where multicolumn partitioning config is not allowed.\r\n\r\n1. `PinotLLCRealtimeSegmentManager.getPartitionMetadataFromTableConfig:710`\r\n2. `LLRealtimeSegmentDataManager.setPartitionParameters:1425`\r\n3. `PinotHadoopJobLauncher:HadoopSegmentPreprocessingJob.fetchPartitioningConfig:153`\r\n\r\nThis feature is NOT support by REALTIME tables so first 2 checks are still valid. The last one is specific to Hadoop pre processing job, I think we can skip for this feature as we don't really support `BoundedColumnValue` partitioner for hadoop;s job (https://github.com/apache/pinot/blob/master/pinot-plugins/pinot-batch-ingestion/v0_deprecated/pinot-hadoop/src/main/java/org/apache/pinot/hadoop/job/partitioners/PartitionFunctionFactory.java#L78). It is deprecated too.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1086786555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1086841376","html_url":"https://github.com/apache/pinot/pull/8459#issuecomment-1086841376","issue_url":"https://api.github.com/repos/apache/pinot/issues/8459","id":1086841376,"node_id":"IC_kwDOATCU_c5Ax-Ig","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-03T11:17:59Z","updated_at":"2022-04-03T12:37:44Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/8459?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#8459](https://codecov.io/gh/apache/pinot/pull/8459?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (6f2a3a7) into [master](https://codecov.io/gh/apache/pinot/commit/1f5c4cf3de1ece67ee20b6ea4363249f577fc77f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (1f5c4cf) will **increase** coverage by `1.12%`.\n> The diff coverage is `75.00%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master    #8459      +/-   ##\n============================================\n+ Coverage     69.58%   70.70%   +1.12%     \n- Complexity     4281     4283       +2     \n============================================\n  Files          1664     1664              \n  Lines         87341    87342       +1     \n  Branches      13227    13227              \n============================================\n+ Hits          60776    61756     +980     \n+ Misses        22292    21296     -996     \n- Partials       4273     4290      +17     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `27.10% <50.00%> (+0.03%)` | :arrow_up: |\n| integration2 | `26.03% <50.00%> (?)` | |\n| unittests1 | `67.08% <75.00%> (+0.04%)` | :arrow_up: |\n| unittests2 | `14.17% <0.00%> (+<0.01%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/8459?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...ot/common/request/context/RequestContextUtils.java](https://codecov.io/gh/apache/pinot/pull/8459/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVxdWVzdC9jb250ZXh0L1JlcXVlc3RDb250ZXh0VXRpbHMuamF2YQ==) | `73.03% <50.00%> (ø)` | |\n| [...pql/parsers/PinotQuery2BrokerRequestConverter.java](https://codecov.io/gh/apache/pinot/pull/8459/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9wcWwvcGFyc2Vycy9QaW5vdFF1ZXJ5MkJyb2tlclJlcXVlc3RDb252ZXJ0ZXIuamF2YQ==) | `89.18% <100.00%> (ø)` | |\n| [...org/apache/pinot/sql/parsers/CalciteSqlParser.java](https://codecov.io/gh/apache/pinot/pull/8459/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcWwvcGFyc2Vycy9DYWxjaXRlU3FsUGFyc2VyLmphdmE=) | `87.55% <100.00%> (+0.02%)` | :arrow_up: |\n| [...t/core/query/selection/SelectionOperatorUtils.java](https://codecov.io/gh/apache/pinot/pull/8459/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9zZWxlY3Rpb24vU2VsZWN0aW9uT3BlcmF0b3JVdGlscy5qYXZh) | `93.48% <100.00%> (ø)` | |\n| [...ontroller/api/resources/ServerTableSizeReader.java](https://codecov.io/gh/apache/pinot/pull/8459/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL1NlcnZlclRhYmxlU2l6ZVJlYWRlci5qYXZh) | `83.33% <0.00%> (-16.67%)` | :arrow_down: |\n| [.../common/request/context/predicate/EqPredicate.java](https://codecov.io/gh/apache/pinot/pull/8459/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVxdWVzdC9jb250ZXh0L3ByZWRpY2F0ZS9FcVByZWRpY2F0ZS5qYXZh) | `61.53% <0.00%> (-7.70%)` | :arrow_down: |\n| [...nction/DistinctCountBitmapAggregationFunction.java](https://codecov.io/gh/apache/pinot/pull/8459/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9EaXN0aW5jdENvdW50Qml0bWFwQWdncmVnYXRpb25GdW5jdGlvbi5qYXZh) | `46.63% <0.00%> (-6.22%)` | :arrow_down: |\n| [.../helix/core/minion/MinionInstancesCleanupTask.java](https://codecov.io/gh/apache/pinot/pull/8459/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL21pbmlvbi9NaW5pb25JbnN0YW5jZXNDbGVhbnVwVGFzay5qYXZh) | `77.27% <0.00%> (-4.55%)` | :arrow_down: |\n| [.../java/org/apache/pinot/spi/data/TimeFieldSpec.java](https://codecov.io/gh/apache/pinot/pull/8459/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvZGF0YS9UaW1lRmllbGRTcGVjLmphdmE=) | `88.63% <0.00%> (-2.28%)` | :arrow_down: |\n| [...controller/helix/core/minion/PinotTaskManager.java](https://codecov.io/gh/apache/pinot/pull/8459/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL21pbmlvbi9QaW5vdFRhc2tNYW5hZ2VyLmphdmE=) | `67.51% <0.00%> (-1.83%)` | :arrow_down: |\n| ... and [99 more](https://codecov.io/gh/apache/pinot/pull/8459/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/pinot/pull/8459?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/pinot/pull/8459?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [1f5c4cf...6f2a3a7](https://codecov.io/gh/apache/pinot/pull/8459?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1086841376/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1087002082","html_url":"https://github.com/apache/pinot/pull/8455#issuecomment-1087002082","issue_url":"https://api.github.com/repos/apache/pinot/issues/8455","id":1087002082,"node_id":"IC_kwDOATCU_c5AylXi","user":{"login":"mayankshriv","id":12615885,"node_id":"MDQ6VXNlcjEyNjE1ODg1","avatar_url":"https://avatars.githubusercontent.com/u/12615885?v=4","gravatar_id":"","url":"https://api.github.com/users/mayankshriv","html_url":"https://github.com/mayankshriv","followers_url":"https://api.github.com/users/mayankshriv/followers","following_url":"https://api.github.com/users/mayankshriv/following{/other_user}","gists_url":"https://api.github.com/users/mayankshriv/gists{/gist_id}","starred_url":"https://api.github.com/users/mayankshriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayankshriv/subscriptions","organizations_url":"https://api.github.com/users/mayankshriv/orgs","repos_url":"https://api.github.com/users/mayankshriv/repos","events_url":"https://api.github.com/users/mayankshriv/events{/privacy}","received_events_url":"https://api.github.com/users/mayankshriv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-04T01:02:17Z","updated_at":"2022-04-04T01:02:17Z","author_association":"CONTRIBUTOR","body":"Short of any automation (which would have been ideal here), my suggestion/vote would be towards:\r\n- Document guidelines on how PRs should be labelled.\r\n- The reviewers who would review / merge the PR should ensure that the PRs are labelled correctly, given that contributors won't have permissions to do so. Also, adding too much process might work adversely for first time contributors.\r\n\r\n(If I understand correctly, this is also what @richardstartin is saying).","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1087002082/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1087081885","html_url":"https://github.com/apache/pinot/pull/8255#issuecomment-1087081885","issue_url":"https://api.github.com/repos/apache/pinot/issues/8255","id":1087081885,"node_id":"IC_kwDOATCU_c5Ay42d","user":{"login":"kmozaid","id":8354145,"node_id":"MDQ6VXNlcjgzNTQxNDU=","avatar_url":"https://avatars.githubusercontent.com/u/8354145?v=4","gravatar_id":"","url":"https://api.github.com/users/kmozaid","html_url":"https://github.com/kmozaid","followers_url":"https://api.github.com/users/kmozaid/followers","following_url":"https://api.github.com/users/kmozaid/following{/other_user}","gists_url":"https://api.github.com/users/kmozaid/gists{/gist_id}","starred_url":"https://api.github.com/users/kmozaid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kmozaid/subscriptions","organizations_url":"https://api.github.com/users/kmozaid/orgs","repos_url":"https://api.github.com/users/kmozaid/repos","events_url":"https://api.github.com/users/kmozaid/events{/privacy}","received_events_url":"https://api.github.com/users/kmozaid/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-04T03:55:37Z","updated_at":"2022-04-04T03:55:37Z","author_association":"CONTRIBUTOR","body":"Test Cases Covered -\r\n1. Integration tests for Realtime to Offline Task with multi column partitioning\r\n2. Integration tests for Merge Rollup task with multi column partitioning.\r\n3. Unit tests for direct offline segment creation from file with multi column partitioning (merge rollup task integration tests setup does this).","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1087081885/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1087251360","html_url":"https://github.com/apache/pinot/pull/8384#issuecomment-1087251360","issue_url":"https://api.github.com/repos/apache/pinot/issues/8384","id":1087251360,"node_id":"IC_kwDOATCU_c5AziOg","user":{"login":"atris","id":1724131,"node_id":"MDQ6VXNlcjE3MjQxMzE=","avatar_url":"https://avatars.githubusercontent.com/u/1724131?v=4","gravatar_id":"","url":"https://api.github.com/users/atris","html_url":"https://github.com/atris","followers_url":"https://api.github.com/users/atris/followers","following_url":"https://api.github.com/users/atris/following{/other_user}","gists_url":"https://api.github.com/users/atris/gists{/gist_id}","starred_url":"https://api.github.com/users/atris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atris/subscriptions","organizations_url":"https://api.github.com/users/atris/orgs","repos_url":"https://api.github.com/users/atris/repos","events_url":"https://api.github.com/users/atris/events{/privacy}","received_events_url":"https://api.github.com/users/atris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-04T08:14:44Z","updated_at":"2022-04-04T08:14:44Z","author_association":"CONTRIBUTOR","body":"> Ping to see how do we want to move forward ?\r\n\r\nHere is the plan -- LIKE is going to start using text indices if available, thus providing support for LIKE on native indices + logical operators come free due to the ability to combine multiple LIKE predicates.\r\n\r\nIn the current PR, I will allow TEXT_MATCH to work on top of native text indices, but *any* query passed in to the native text index through TEXT_MATCH will be treated as a regex query. Alternative is to disable TEXT_MATCH on native indices completely.\r\n\r\nPhrase and fuzzy will be supported by new functions.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1087251360/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1087364095","html_url":"https://github.com/apache/pinot/issues/8460#issuecomment-1087364095","issue_url":"https://api.github.com/repos/apache/pinot/issues/8460","id":1087364095,"node_id":"IC_kwDOATCU_c5Az9v_","user":{"login":"KKcorps","id":5559703,"node_id":"MDQ6VXNlcjU1NTk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5559703?v=4","gravatar_id":"","url":"https://api.github.com/users/KKcorps","html_url":"https://github.com/KKcorps","followers_url":"https://api.github.com/users/KKcorps/followers","following_url":"https://api.github.com/users/KKcorps/following{/other_user}","gists_url":"https://api.github.com/users/KKcorps/gists{/gist_id}","starred_url":"https://api.github.com/users/KKcorps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KKcorps/subscriptions","organizations_url":"https://api.github.com/users/KKcorps/orgs","repos_url":"https://api.github.com/users/KKcorps/repos","events_url":"https://api.github.com/users/KKcorps/events{/privacy}","received_events_url":"https://api.github.com/users/KKcorps/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-04T10:09:45Z","updated_at":"2022-04-04T10:09:45Z","author_association":"CONTRIBUTOR","body":"Schema fields do not seem to match ORC field names.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1087364095/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1087396255","html_url":"https://github.com/apache/pinot/issues/8460#issuecomment-1087396255","issue_url":"https://api.github.com/repos/apache/pinot/issues/8460","id":1087396255,"node_id":"IC_kwDOATCU_c5A0Fmf","user":{"login":"stym06","id":20970728,"node_id":"MDQ6VXNlcjIwOTcwNzI4","avatar_url":"https://avatars.githubusercontent.com/u/20970728?v=4","gravatar_id":"","url":"https://api.github.com/users/stym06","html_url":"https://github.com/stym06","followers_url":"https://api.github.com/users/stym06/followers","following_url":"https://api.github.com/users/stym06/following{/other_user}","gists_url":"https://api.github.com/users/stym06/gists{/gist_id}","starred_url":"https://api.github.com/users/stym06/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stym06/subscriptions","organizations_url":"https://api.github.com/users/stym06/orgs","repos_url":"https://api.github.com/users/stym06/repos","events_url":"https://api.github.com/users/stym06/events{/privacy}","received_events_url":"https://api.github.com/users/stym06/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-04T10:42:17Z","updated_at":"2022-04-04T10:42:17Z","author_association":"CONTRIBUTOR","body":"Thanks @KKcorps . changing the column names worked!","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1087396255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1087410058","html_url":"https://github.com/apache/pinot/issues/3851#issuecomment-1087410058","issue_url":"https://api.github.com/repos/apache/pinot/issues/3851","id":1087410058,"node_id":"IC_kwDOATCU_c5A0I-K","user":{"login":"BlackDemonZyT","id":46494643,"node_id":"MDQ6VXNlcjQ2NDk0NjQz","avatar_url":"https://avatars.githubusercontent.com/u/46494643?v=4","gravatar_id":"","url":"https://api.github.com/users/BlackDemonZyT","html_url":"https://github.com/BlackDemonZyT","followers_url":"https://api.github.com/users/BlackDemonZyT/followers","following_url":"https://api.github.com/users/BlackDemonZyT/following{/other_user}","gists_url":"https://api.github.com/users/BlackDemonZyT/gists{/gist_id}","starred_url":"https://api.github.com/users/BlackDemonZyT/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BlackDemonZyT/subscriptions","organizations_url":"https://api.github.com/users/BlackDemonZyT/orgs","repos_url":"https://api.github.com/users/BlackDemonZyT/repos","events_url":"https://api.github.com/users/BlackDemonZyT/events{/privacy}","received_events_url":"https://api.github.com/users/BlackDemonZyT/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-04T10:58:33Z","updated_at":"2022-04-04T10:58:33Z","author_association":"NONE","body":"Someone did this? I'm also interested in getting standard deviation in a pinot query.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1087410058/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1087519542","html_url":"https://github.com/apache/pinot/issues/8437#issuecomment-1087519542","issue_url":"https://api.github.com/repos/apache/pinot/issues/8437","id":1087519542,"node_id":"IC_kwDOATCU_c5A0js2","user":{"login":"KKcorps","id":5559703,"node_id":"MDQ6VXNlcjU1NTk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5559703?v=4","gravatar_id":"","url":"https://api.github.com/users/KKcorps","html_url":"https://github.com/KKcorps","followers_url":"https://api.github.com/users/KKcorps/followers","following_url":"https://api.github.com/users/KKcorps/following{/other_user}","gists_url":"https://api.github.com/users/KKcorps/gists{/gist_id}","starred_url":"https://api.github.com/users/KKcorps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KKcorps/subscriptions","organizations_url":"https://api.github.com/users/KKcorps/orgs","repos_url":"https://api.github.com/users/KKcorps/repos","events_url":"https://api.github.com/users/KKcorps/events{/privacy}","received_events_url":"https://api.github.com/users/KKcorps/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-04T12:56:07Z","updated_at":"2022-04-04T12:56:07Z","author_association":"CONTRIBUTOR","body":"I have created a brief design doc for this. We can sort out all the questions there.\r\nhttps://docs.google.com/document/d/1NzVLYhO4frmBOfu6tDaVzu0aWsDGquzsIml2kittS04/edit?usp=sharing","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1087519542/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1087696367","html_url":"https://github.com/apache/pinot/pull/8461#issuecomment-1087696367","issue_url":"https://api.github.com/repos/apache/pinot/issues/8461","id":1087696367,"node_id":"IC_kwDOATCU_c5A1O3v","user":{"login":"mayankshriv","id":12615885,"node_id":"MDQ6VXNlcjEyNjE1ODg1","avatar_url":"https://avatars.githubusercontent.com/u/12615885?v=4","gravatar_id":"","url":"https://api.github.com/users/mayankshriv","html_url":"https://github.com/mayankshriv","followers_url":"https://api.github.com/users/mayankshriv/followers","following_url":"https://api.github.com/users/mayankshriv/following{/other_user}","gists_url":"https://api.github.com/users/mayankshriv/gists{/gist_id}","starred_url":"https://api.github.com/users/mayankshriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayankshriv/subscriptions","organizations_url":"https://api.github.com/users/mayankshriv/orgs","repos_url":"https://api.github.com/users/mayankshriv/repos","events_url":"https://api.github.com/users/mayankshriv/events{/privacy}","received_events_url":"https://api.github.com/users/mayankshriv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-04T15:22:48Z","updated_at":"2022-04-04T15:22:48Z","author_association":"CONTRIBUTOR","body":"@shahsank3t ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1087696367/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1087729885","html_url":"https://github.com/apache/pinot/pull/8457#issuecomment-1087729885","issue_url":"https://api.github.com/repos/apache/pinot/issues/8457","id":1087729885,"node_id":"IC_kwDOATCU_c5A1XDd","user":{"login":"richardstartin","id":16439049,"node_id":"MDQ6VXNlcjE2NDM5MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/16439049?v=4","gravatar_id":"","url":"https://api.github.com/users/richardstartin","html_url":"https://github.com/richardstartin","followers_url":"https://api.github.com/users/richardstartin/followers","following_url":"https://api.github.com/users/richardstartin/following{/other_user}","gists_url":"https://api.github.com/users/richardstartin/gists{/gist_id}","starred_url":"https://api.github.com/users/richardstartin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/richardstartin/subscriptions","organizations_url":"https://api.github.com/users/richardstartin/orgs","repos_url":"https://api.github.com/users/richardstartin/repos","events_url":"https://api.github.com/users/richardstartin/events{/privacy}","received_events_url":"https://api.github.com/users/richardstartin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-04T15:54:56Z","updated_at":"2022-04-04T15:54:56Z","author_association":"MEMBER","body":"> thanks for creating this tracing SPI, Richard.\r\n> \r\n> is the following assumption correct?\r\n> \r\n> * the `operatorInvocationTrace` interface is used to set extra properties (other than Operator clazz) for the trace; therefore there will be more info to log when calling `TraceContext.logTime/Info`.\r\n> * I am assuming the log will always occur when the close() method of the Span is being called\r\n\r\nYes, operators set fields on the trace when they know how to compute them. This requires modification of the operators themselves which I haven’t done yet. If the trace doesn’t store the values, they should get optimised away as dead code. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1087729885/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1087739081","html_url":"https://github.com/apache/pinot/issues/8444#issuecomment-1087739081","issue_url":"https://api.github.com/repos/apache/pinot/issues/8444","id":1087739081,"node_id":"IC_kwDOATCU_c5A1ZTJ","user":{"login":"KKcorps","id":5559703,"node_id":"MDQ6VXNlcjU1NTk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5559703?v=4","gravatar_id":"","url":"https://api.github.com/users/KKcorps","html_url":"https://github.com/KKcorps","followers_url":"https://api.github.com/users/KKcorps/followers","following_url":"https://api.github.com/users/KKcorps/following{/other_user}","gists_url":"https://api.github.com/users/KKcorps/gists{/gist_id}","starred_url":"https://api.github.com/users/KKcorps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KKcorps/subscriptions","organizations_url":"https://api.github.com/users/KKcorps/orgs","repos_url":"https://api.github.com/users/KKcorps/repos","events_url":"https://api.github.com/users/KKcorps/events{/privacy}","received_events_url":"https://api.github.com/users/KKcorps/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-04T16:03:30Z","updated_at":"2022-04-04T16:03:30Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang Should we go with re-writing the query  `WHERE A` to `WHERE A IS TRUE` ?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1087739081/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1087919194","html_url":"https://github.com/apache/pinot/pull/8441#issuecomment-1087919194","issue_url":"https://api.github.com/repos/apache/pinot/issues/8441","id":1087919194,"node_id":"IC_kwDOATCU_c5A2FRa","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-04T19:15:33Z","updated_at":"2022-04-04T19:15:33Z","author_association":"CONTRIBUTOR","body":"We assign the servers in the following steps:\r\n1. Pick the pools for the table based on the tenant and pool config\r\n2. Apply the constraint to the servers if any\r\n3. Map each replica to a server pool\r\n4. Pick servers from the server pool\r\n\r\nCurrently all steps are deterministic, and it should be very rare to add/remove pools, so it should be okay to move more segments if the pool count is changed. If we can assume the first 3 steps do not change, then the algorithm can be very straight forward: simply keep the original servers if the server exists in the pool; or replace it with a new server if not. This algorithm should also be implemented in a deterministic way.\r\n\r\nIf we want to solve the corner case of adding/removing pools, we can save the pool id into the instance partitions for each replica, and keep them fixed during the re-assignment.\r\n\r\nSome potential problems with the current approach:\r\n1. For a large cluster, there can be hundreds or even more servers for each pool. Storing them in the instance partitions can add overhead, and can be very hard to debug\r\n2. The overall idea is to optimize the server selection to minimize the movement, so the logic should be applied to the server selection step instead of the pool selection step\r\n\r\n> IMO there is no hard requirement for a pool id to be mapped 1:1 1:N to a replica id, right? It's just in current strategy of InstanceReplicaGroupPartitionSelector we assign instances to a replica from one pool. But this should not be enforced for future use, especially right now we are implementing selector with FD awareness and it can have instances from multiple pools in 1 replica group.\r\nIn other words we should not rely on the status-quo of we can \"reverse engineering the pool id from replica group id\". So I think the pool -> instance mapping should probably be saved.\r\n\r\nWe don't rely on reverse engineer, but deterministic selection algorithm. Storing pool -> server mapping can be very costly. Processing them can be costly as well. We may store the replica-group -> pool mapping, but not the individual servers","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1087919194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1087920424","html_url":"https://github.com/apache/pinot/issues/7849#issuecomment-1087920424","issue_url":"https://api.github.com/repos/apache/pinot/issues/7849","id":1087920424,"node_id":"IC_kwDOATCU_c5A2Fko","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-04T19:16:45Z","updated_at":"2022-04-04T19:16:45Z","author_association":"CONTRIBUTOR","body":"@mayankshriv The routing issue is not solved yet, so let's keep the issue open","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1087920424/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1087952792","html_url":"https://github.com/apache/pinot/pull/8464#issuecomment-1087952792","issue_url":"https://api.github.com/repos/apache/pinot/issues/8464","id":1087952792,"node_id":"IC_kwDOATCU_c5A2NeY","user":{"login":"FelixGV","id":1248632,"node_id":"MDQ6VXNlcjEyNDg2MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1248632?v=4","gravatar_id":"","url":"https://api.github.com/users/FelixGV","html_url":"https://github.com/FelixGV","followers_url":"https://api.github.com/users/FelixGV/followers","following_url":"https://api.github.com/users/FelixGV/following{/other_user}","gists_url":"https://api.github.com/users/FelixGV/gists{/gist_id}","starred_url":"https://api.github.com/users/FelixGV/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FelixGV/subscriptions","organizations_url":"https://api.github.com/users/FelixGV/orgs","repos_url":"https://api.github.com/users/FelixGV/repos","events_url":"https://api.github.com/users/FelixGV/events{/privacy}","received_events_url":"https://api.github.com/users/FelixGV/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-04T19:55:37Z","updated_at":"2022-04-04T19:56:47Z","author_association":"NONE","body":"Would it not be more optimal to return just `Collections.singletonList(e)` rather than wrapping the one element in an `ArrayList`? Memory-wise, the singleton list should have less memory overhead since it doesn't carry an array. The singleton list, however, is immutable, and will throw `UnsupportedOperationException` if you try to add more items into it, which may be either good or bad, depending on the use case.\r\n\r\nIf an immutable single element list is what you're looking for, then I would think singletonList is ideal. Moreover, in cases where you're passing a constant into the list (e.g. when you're passing `\"*\"` or `ExpressionContext.forIdentifier(\"*\")`) then you could allocate that statically and keep reusing the same instance, which could be even more efficient. If you do leverage static state for these special cases, then it goes without saying that immutability is a must.\r\n\r\nThe above may or may not make sense in this context, so take it with a grain of salt. I am always curious about performance-related work in other projects, to see if I can leverage them elsewhere, which is why I looked at this PR (: ...","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1087952792/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1087962081","html_url":"https://github.com/apache/pinot/pull/8464#issuecomment-1087962081","issue_url":"https://api.github.com/repos/apache/pinot/issues/8464","id":1087962081,"node_id":"IC_kwDOATCU_c5A2Pvh","user":{"login":"richardstartin","id":16439049,"node_id":"MDQ6VXNlcjE2NDM5MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/16439049?v=4","gravatar_id":"","url":"https://api.github.com/users/richardstartin","html_url":"https://github.com/richardstartin","followers_url":"https://api.github.com/users/richardstartin/followers","following_url":"https://api.github.com/users/richardstartin/following{/other_user}","gists_url":"https://api.github.com/users/richardstartin/gists{/gist_id}","starred_url":"https://api.github.com/users/richardstartin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/richardstartin/subscriptions","organizations_url":"https://api.github.com/users/richardstartin/orgs","repos_url":"https://api.github.com/users/richardstartin/repos","events_url":"https://api.github.com/users/richardstartin/events{/privacy}","received_events_url":"https://api.github.com/users/richardstartin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-04T20:06:27Z","updated_at":"2022-04-04T20:06:27Z","author_association":"MEMBER","body":"Do we have any measurements which indicate this is worthwhile? This sort of thing can be surprising.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1087962081/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1087975492","html_url":"https://github.com/apache/pinot/pull/8464#issuecomment-1087975492","issue_url":"https://api.github.com/repos/apache/pinot/issues/8464","id":1087975492,"node_id":"IC_kwDOATCU_c5A2TBE","user":{"login":"richardstartin","id":16439049,"node_id":"MDQ6VXNlcjE2NDM5MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/16439049?v=4","gravatar_id":"","url":"https://api.github.com/users/richardstartin","html_url":"https://github.com/richardstartin","followers_url":"https://api.github.com/users/richardstartin/followers","following_url":"https://api.github.com/users/richardstartin/following{/other_user}","gists_url":"https://api.github.com/users/richardstartin/gists{/gist_id}","starred_url":"https://api.github.com/users/richardstartin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/richardstartin/subscriptions","organizations_url":"https://api.github.com/users/richardstartin/orgs","repos_url":"https://api.github.com/users/richardstartin/repos","events_url":"https://api.github.com/users/richardstartin/events{/privacy}","received_events_url":"https://api.github.com/users/richardstartin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-04T20:19:32Z","updated_at":"2022-04-04T20:19:32Z","author_association":"MEMBER","body":"This appears to amount to a slight regression, at least it's in the noise, on a tiny baseline cost:\r\n\r\n```java\r\n@State(Scope.Benchmark)\r\npublic class OneElementList {\r\n\r\n  @Param(\"*\")\r\n  String value;\r\n\r\n  @Benchmark\r\n  public List<String> singletonList() {\r\n    return new ArrayList<>(Collections.singletonList(value));\r\n  }\r\n\r\n  @Benchmark\r\n  public List<String> optimized() {\r\n    List<String> list = new ArrayList<>(1);\r\n    list.add(value);\r\n    return list;\r\n  }\r\n}\r\n```\r\n\r\n```\r\nBenchmark                     (value)  Mode  Cnt  Score   Error  Units\r\nOneElementList.optimized            *  avgt    5  6.138 ± 0.127  ns/op\r\nOneElementList.singletonList        *  avgt    5  5.224 ± 0.541  ns/op\r\n```\r\n\r\nWith the change 48 bytes is allocated per list, before it was 72 bytes. Maybe it's worthwhile for those 24 bytes.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1087975492/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1087979495","html_url":"https://github.com/apache/pinot/pull/8464#issuecomment-1087979495","issue_url":"https://api.github.com/repos/apache/pinot/issues/8464","id":1087979495,"node_id":"IC_kwDOATCU_c5A2T_n","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-04T20:24:09Z","updated_at":"2022-04-04T20:27:06Z","author_association":"CONTRIBUTOR","body":"The issue here is that we need to perform a recursive check and in-place expression override: https://github.com/apache/pinot/blob/master/pinot-core/src/main/java/org/apache/pinot/core/plan/maker/InstancePlanMakerImplV2.java#L298\r\nIf not changing this to a mutable single array list, then we need to check if the list is immutable, then perform the operation, which may bring in more overhead.\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1087979495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1087986944","html_url":"https://github.com/apache/pinot/pull/8464#issuecomment-1087986944","issue_url":"https://api.github.com/repos/apache/pinot/issues/8464","id":1087986944,"node_id":"IC_kwDOATCU_c5A2V0A","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-04T20:33:16Z","updated_at":"2022-04-04T20:33:16Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/8464?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#8464](https://codecov.io/gh/apache/pinot/pull/8464?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (72e3c07) into [master](https://codecov.io/gh/apache/pinot/commit/5e56b9a155b9f5d7ba3cd7214c15b3f1c697a351?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (5e56b9a) will **decrease** coverage by `0.01%`.\n> The diff coverage is `56.25%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master    #8464      +/-   ##\n============================================\n- Coverage     70.70%   70.69%   -0.02%     \n+ Complexity     4285     4281       -4     \n============================================\n  Files          1664     1665       +1     \n  Lines         87342    87347       +5     \n  Branches      13227    13227              \n============================================\n- Hits          61757    61750       -7     \n- Misses        21296    21302       +6     \n- Partials       4289     4295       +6     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `27.21% <25.00%> (+0.08%)` | :arrow_up: |\n| integration2 | `25.78% <25.00%> (-0.35%)` | :arrow_down: |\n| unittests1 | `67.03% <56.25%> (-0.07%)` | :arrow_down: |\n| unittests2 | `14.13% <0.00%> (-0.03%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/8464?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...t/core/query/selection/SelectionOperatorUtils.java](https://codecov.io/gh/apache/pinot/pull/8464/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9zZWxlY3Rpb24vU2VsZWN0aW9uT3BlcmF0b3JVdGlscy5qYXZh) | `93.48% <20.00%> (ø)` | |\n| [...ot/common/request/context/RequestContextUtils.java](https://codecov.io/gh/apache/pinot/pull/8464/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVxdWVzdC9jb250ZXh0L1JlcXVlc3RDb250ZXh0VXRpbHMuamF2YQ==) | `72.81% <50.00%> (-0.23%)` | :arrow_down: |\n| [...pql/parsers/PinotQuery2BrokerRequestConverter.java](https://codecov.io/gh/apache/pinot/pull/8464/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9wcWwvcGFyc2Vycy9QaW5vdFF1ZXJ5MkJyb2tlclJlcXVlc3RDb252ZXJ0ZXIuamF2YQ==) | `89.18% <100.00%> (ø)` | |\n| [...org/apache/pinot/sql/parsers/CalciteSqlParser.java](https://codecov.io/gh/apache/pinot/pull/8464/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcWwvcGFyc2Vycy9DYWxjaXRlU3FsUGFyc2VyLmphdmE=) | `87.55% <100.00%> (ø)` | |\n| [...ain/java/org/apache/pinot/spi/utils/ListUtils.java](https://codecov.io/gh/apache/pinot/pull/8464/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdXRpbHMvTGlzdFV0aWxzLmphdmE=) | `100.00% <100.00%> (ø)` | |\n| [...nt/local/startree/v2/store/StarTreeDataSource.java](https://codecov.io/gh/apache/pinot/pull/8464/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zdGFydHJlZS92Mi9zdG9yZS9TdGFyVHJlZURhdGFTb3VyY2UuamF2YQ==) | `40.00% <0.00%> (-13.34%)` | :arrow_down: |\n| [...ore/query/scheduler/resources/ResourceManager.java](https://codecov.io/gh/apache/pinot/pull/8464/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9zY2hlZHVsZXIvcmVzb3VyY2VzL1Jlc291cmNlTWFuYWdlci5qYXZh) | `85.71% <0.00%> (-10.72%)` | :arrow_down: |\n| [...a/org/apache/pinot/common/utils/ServiceStatus.java](https://codecov.io/gh/apache/pinot/pull/8464/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvU2VydmljZVN0YXR1cy5qYXZh) | `60.00% <0.00%> (-7.15%)` | :arrow_down: |\n| [...core/startree/operator/StarTreeFilterOperator.java](https://codecov.io/gh/apache/pinot/pull/8464/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zdGFydHJlZS9vcGVyYXRvci9TdGFyVHJlZUZpbHRlck9wZXJhdG9yLmphdmE=) | `87.41% <0.00%> (-5.60%)` | :arrow_down: |\n| [...ot/segment/local/startree/OffHeapStarTreeNode.java](https://codecov.io/gh/apache/pinot/pull/8464/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zdGFydHJlZS9PZmZIZWFwU3RhclRyZWVOb2RlLmphdmE=) | `72.22% <0.00%> (-5.56%)` | :arrow_down: |\n| ... and [28 more](https://codecov.io/gh/apache/pinot/pull/8464/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/pinot/pull/8464?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/pinot/pull/8464?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [5e56b9a...72e3c07](https://codecov.io/gh/apache/pinot/pull/8464?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1087986944/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1087990840","html_url":"https://github.com/apache/pinot/pull/8462#issuecomment-1087990840","issue_url":"https://api.github.com/repos/apache/pinot/issues/8462","id":1087990840,"node_id":"IC_kwDOATCU_c5A2Ww4","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-04T20:37:58Z","updated_at":"2022-04-04T20:39:41Z","author_association":"CONTRIBUTOR","body":"I have one general comment before reviewing the code.\r\n\r\nCurrently, our old and new configs look like the following:\r\n```\r\nCurrent config:\r\n\r\n\r\n  \"tableIndexConfig\": {\r\n    \"aggregateMetrics\": \"true\",\r\n    ...\r\n  }\r\n--------------------------------\r\n\r\nNew config:\r\n\r\n\"aggregationConfigs\": [\r\n  {\r\n    \"columnName\": \"destColumn\",\r\n    \"aggregationFunction\": \"MIN(srcColumn)\"\r\n  }\r\n]\r\n\r\n```\r\n\r\n\r\nThe old config can be translated into the new config with the same behavior like the following:\r\n```\r\ne.g.\r\n\r\nSchema:\r\n\r\ndimCol1 | metricCol1 | metriccol2 \r\n\r\nold config:\r\n\r\n  \"tableIndexConfig\": {\r\n    \"aggregateMetrics\": \"true\",\r\n    ...\r\n  }\r\n\r\n\r\nnew config:\r\n\r\n\"aggregationConfigs\": [\r\n  {\r\n    \"columnName\": \"metricCol1\",\r\n    \"aggregationFunction\": \"SUM(metricCol1)\"\r\n  },\r\n  {\r\n    \"columnName\": \"metricCol2\",\r\n    \"aggregationFunction\": \"SUM(metricCol2)\"\r\n  }\r\n]\r\n```\r\n\r\n\r\nSo, we can actually do the following:\r\n1. Put deprecated annotation for the old config in the table config\r\n2. Keep backward compatibility by having a config conversion layer from the old config to the new config format\r\n3. From the code, we can always use the new config format. If we detect the old config format is used for the input table config, we can form the new config using the conversion layer util.\r\n\r\nIt's fine that the above can be done in multiple steps but I think that we should not keep the 2 different configs for aggregateMetrics feature.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1087990840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1088001276","html_url":"https://github.com/apache/pinot/pull/8464#issuecomment-1088001276","issue_url":"https://api.github.com/repos/apache/pinot/issues/8464","id":1088001276,"node_id":"IC_kwDOATCU_c5A2ZT8","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-04T20:51:01Z","updated_at":"2022-04-04T20:51:01Z","author_association":"CONTRIBUTOR","body":"Since the perf number is so close, probably not worth the effort of maintaining the code","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1088001276/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1088009720","html_url":"https://github.com/apache/pinot/pull/8384#issuecomment-1088009720","issue_url":"https://api.github.com/repos/apache/pinot/issues/8384","id":1088009720,"node_id":"IC_kwDOATCU_c5A2bX4","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-04T21:02:13Z","updated_at":"2022-04-04T21:02:29Z","author_association":"CONTRIBUTOR","body":"> Here is the plan -- LIKE is going to start using text indices if available, thus providing support for LIKE on native indices + logical operators come free due to the ability to combine multiple LIKE predicates.\r\n\r\nThis might not align with the SQL `LIKE` semantic which should match the whole document instead of the token matching. This is more like the `CONTAINS` described [here](https://docs.microsoft.com/en-us/sql/relational-databases/search/query-with-full-text-search?view=sql-server-ver15). I didn't find a standard SQL function for the token matching, not sure if there is one.\r\n\r\n> In the current PR, I will allow TEXT_MATCH to work on top of native text indices, but _any_ query passed in to the native text index through TEXT_MATCH will be treated as a regex query. Alternative is to disable TEXT_MATCH on native indices completely.\r\n\r\nI'd suggest coming up with a new function to support logical operations on token regex matching. Something like `TEXT_LIKE(textCol, 'ab.*' AND '.cd')`\r\n\r\nLooking for inputs here @siddharthteotia @richardstartin @kishoreg ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1088009720/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1088042522","html_url":"https://github.com/apache/pinot/pull/8441#issuecomment-1088042522","issue_url":"https://api.github.com/repos/apache/pinot/issues/8441","id":1088042522,"node_id":"IC_kwDOATCU_c5A2jYa","user":{"login":"jasperjiaguo","id":10736840,"node_id":"MDQ6VXNlcjEwNzM2ODQw","avatar_url":"https://avatars.githubusercontent.com/u/10736840?v=4","gravatar_id":"","url":"https://api.github.com/users/jasperjiaguo","html_url":"https://github.com/jasperjiaguo","followers_url":"https://api.github.com/users/jasperjiaguo/followers","following_url":"https://api.github.com/users/jasperjiaguo/following{/other_user}","gists_url":"https://api.github.com/users/jasperjiaguo/gists{/gist_id}","starred_url":"https://api.github.com/users/jasperjiaguo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasperjiaguo/subscriptions","organizations_url":"https://api.github.com/users/jasperjiaguo/orgs","repos_url":"https://api.github.com/users/jasperjiaguo/repos","events_url":"https://api.github.com/users/jasperjiaguo/events{/privacy}","received_events_url":"https://api.github.com/users/jasperjiaguo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-04T21:44:48Z","updated_at":"2022-04-04T21:56:10Z","author_association":"CONTRIBUTOR","body":"> We assign the servers in the following steps:\r\n> \r\n> 1. Pick the pools for the table based on the tenant and pool config\r\n> 2. Apply the constraint to the servers if any\r\n> 3. Map each replica to a server pool\r\n> 4. Pick servers from the server pool\r\n> \r\n> Currently all steps are deterministic, and it should be very rare to add/remove pools, so it should be okay to move more segments if the pool count is changed. If we can assume the first 3 steps do not change, then the algorithm can be very straight forward: simply keep the original servers if the server exists in the pool; or replace it with a new server if not. This algorithm should also be implemented in a deterministic way.\r\n> \r\n> If we want to solve the corner case of adding/removing pools, we can save the pool id into the instance partitions for each replica, and keep them fixed during the re-assignment.\r\n> \r\n> Some potential problems with the current approach:\r\n> \r\n> 1. For a large cluster, there can be hundreds or even more servers for each pool. Storing them in the instance partitions can add overhead, and can be very hard to debug\r\n> 2. The overall idea is to optimize the server selection to minimize the movement, so the logic should be applied to the server selection step instead of the pool selection step\r\n> \r\n> > IMO there is no hard requirement for a pool id to be mapped 1:1 1:N to a replica id, right? It's just in current strategy of InstanceReplicaGroupPartitionSelector we assign instances to a replica from one pool. But this should not be enforced for future use, especially right now we are implementing selector with FD awareness and it can have instances from multiple pools in 1 replica group.\r\n> > In other words we should not rely on the status-quo of we can \"reverse engineering the pool id from replica group id\". So I think the pool -> instance mapping should probably be saved.\r\n> \r\n> We don't rely on reverse engineer, but deterministic selection algorithm. Storing pool -> server mapping can be very costly. Processing them can be costly as well. We may store the replica-group -> pool mapping, but not the individual servers\r\n\r\nYes I agree that ideally we want to rely on the determinism of selection algorithm to deduce the vacant and pool id of down servers, without preserving any state. But IMO storing RG -> pool mapping is still not enough, take the following case as an example of a different assignment strategy not requiring 1:N pool to replica mapping:\r\n\r\n  24 instances in 5 pools, with [5,5,5,4,5] servers in each pool, ie [s0-s4, s5-s9, s10-s14, s15-18, s19-s23]\r\n  we want to assign this 21 instances to 3 RGs, a instance selection strategy gives:\r\n  RG0: [s0-s7]\r\n  RG1:  [s8-s15]\r\n  RG2: [s16-s23]\r\n\r\n  this yields a RG->pool mapping of: \r\n  RG0 -> pool0, pool1\r\n  RG2 -> pool1, pool2, pool3\r\n  RG3 -> pool3, pool4\r\n \r\ntaking out 1 instances s6(poo1), s11(pool2), and s21(pool4), it will be [5,4,4,4,4] severs in each pool and [7, 7, 7] servers in each RG.\r\nThen for InstanceTagPoolSelector/PartitionSelector it would be very hard to figure out\r\n(1) to which pool the lost instances belong to\r\n(2) where the vacant seats in the each pool\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1088042522/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1088071346","html_url":"https://github.com/apache/pinot/pull/8441#issuecomment-1088071346","issue_url":"https://api.github.com/repos/apache/pinot/issues/8441","id":1088071346,"node_id":"IC_kwDOATCU_c5A2qay","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-04T22:23:58Z","updated_at":"2022-04-04T22:23:58Z","author_association":"CONTRIBUTOR","body":"> Yes I agree that ideally we want to rely on the determinism of selection algorithm to deduce the vacant and pool id of down servers, without preserving any state. But IMO storing RG -> pool mapping is still not enough, take the following case as an example of a different assignment strategy not requiring 1:N pool to replica mapping:\r\n> \r\n> 24 instances in 5 pools, with [5,5,5,4,5] servers in each pool, ie [s0-s4, s5-s9, s10-s14, s15-18, s19-s23] we want to assign this 21 instances to 3 RGs, a instance selection strategy gives: RG0: [s0-s7] RG1: [s8-s15] RG2: [s16-s23]\r\n> \r\n> this yields a RG->pool mapping of: RG0 -> pool0, pool1 RG2 -> pool1, pool2, pool3 RG3 -> pool3, pool4\r\n> \r\n> taking out 1 instances s6(poo1), s11(pool2), and s21(pool4), it will be [5,4,4,4,4] severs in each pool and [7, 7, 7] servers in each RG. Then for InstanceTagPoolSelector/PartitionSelector it would be very hard to figure out (1) to which pool the lost instances belong to (2) where the vacant seats in the each pool\r\n\r\nI assume this is for the fault domain assignment which is not yet supported. Handling this scenario with the constrain of fault domain (no server cross replicas in the same fault domain) can be quite hard, and the current implementation won't cover that as well.\r\n\r\nI wouldn't mix the problem this PR is trying to solve with the fault domain support. Essentially what we want this PR to achieve is to minimize the server shift when picking servers from the candidate servers. That should be handled within the server selection step. Even with fault domain assignment introduced, when the fault domain pool selection algorithm is deterministic, the simple algorithm should give good enough result (when one server is replaced, worst case we need to shift segments from one existing server to another if it is assigned to a different replica group), instead of the worst case of shifting all segments from all servers currently.\r\n\r\nIn general, we should not try to solve the server selection problem in the pool selection step because that will introduce dependency among different steps, and cause them not to work with other algorithms.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1088071346/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1088149605","html_url":"https://github.com/apache/pinot/issues/3851#issuecomment-1088149605","issue_url":"https://api.github.com/repos/apache/pinot/issues/3851","id":1088149605,"node_id":"IC_kwDOATCU_c5A29hl","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-05T00:28:54Z","updated_at":"2022-04-05T00:28:54Z","author_association":"CONTRIBUTOR","body":"Not yet. We might need to keep all values in order to compute these statistics, and that can be very costly. Is there any approximation data structure we can leverage to avoid keeping all values?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1088149605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1088151917","html_url":"https://github.com/apache/pinot/issues/8444#issuecomment-1088151917","issue_url":"https://api.github.com/repos/apache/pinot/issues/8444","id":1088151917,"node_id":"IC_kwDOATCU_c5A2-Ft","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-05T00:34:14Z","updated_at":"2022-04-05T00:34:14Z","author_association":"CONTRIBUTOR","body":"@KKcorps Good solution! We can re-write the filter expression if the underlying predicate does not have `FilterKind` as the function. Pinot supports `WHERE A = true`","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1088151917/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1088166430","html_url":"https://github.com/apache/pinot/issues/3851#issuecomment-1088166430","issue_url":"https://api.github.com/repos/apache/pinot/issues/3851","id":1088166430,"node_id":"IC_kwDOATCU_c5A3Boe","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-05T00:58:50Z","updated_at":"2022-04-05T00:59:08Z","author_association":"MEMBER","body":"@BlackDemonZyT will you be interested in contributing this feature?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1088166430/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1088172122","html_url":"https://github.com/apache/pinot/issues/3851#issuecomment-1088172122","issue_url":"https://api.github.com/repos/apache/pinot/issues/3851","id":1088172122,"node_id":"IC_kwDOATCU_c5A3DBa","user":{"login":"mayankshriv","id":12615885,"node_id":"MDQ6VXNlcjEyNjE1ODg1","avatar_url":"https://avatars.githubusercontent.com/u/12615885?v=4","gravatar_id":"","url":"https://api.github.com/users/mayankshriv","html_url":"https://github.com/mayankshriv","followers_url":"https://api.github.com/users/mayankshriv/followers","following_url":"https://api.github.com/users/mayankshriv/following{/other_user}","gists_url":"https://api.github.com/users/mayankshriv/gists{/gist_id}","starred_url":"https://api.github.com/users/mayankshriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayankshriv/subscriptions","organizations_url":"https://api.github.com/users/mayankshriv/orgs","repos_url":"https://api.github.com/users/mayankshriv/repos","events_url":"https://api.github.com/users/mayankshriv/events{/privacy}","received_events_url":"https://api.github.com/users/mayankshriv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-05T01:12:30Z","updated_at":"2022-04-05T01:12:30Z","author_association":"CONTRIBUTOR","body":"+1, if you are interested @BlackDemonZyT , we can guide you to build this feature in Pinot. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1088172122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1088192725","html_url":"https://github.com/apache/pinot/issues/8437#issuecomment-1088192725","issue_url":"https://api.github.com/repos/apache/pinot/issues/8437","id":1088192725,"node_id":"IC_kwDOATCU_c5A3IDV","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-05T02:01:25Z","updated_at":"2022-04-05T02:01:25Z","author_association":"CONTRIBUTOR","body":"Nice. @KKcorps I had created a similar issue around this but was specific to Arrow flight protocol (which is based on arrow wire format over grpc) to especially cater to non JVM based clients (python)\r\n\r\nhttps://github.com/apache/pinot/issues/6921\r\n\r\nNever got a chance to pick it up. May be the work done here in terms of abstraction and plugin can help lay some basic work for the flight based protocol as well.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1088192725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1088249580","html_url":"https://github.com/apache/pinot/issues/8039#issuecomment-1088249580","issue_url":"https://api.github.com/repos/apache/pinot/issues/8039","id":1088249580,"node_id":"IC_kwDOATCU_c5A3V7s","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-05T04:14:05Z","updated_at":"2022-04-05T04:14:05Z","author_association":"CONTRIBUTOR","body":"@vvivekiyer  as discussed please pick this up.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1088249580/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1088250124","html_url":"https://github.com/apache/pinot/issues/8444#issuecomment-1088250124","issue_url":"https://api.github.com/repos/apache/pinot/issues/8444","id":1088250124,"node_id":"IC_kwDOATCU_c5A3WEM","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-05T04:15:14Z","updated_at":"2022-04-05T04:15:14Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang / @KKcorps / @jadami10  are you planning to work on this ?\r\n\r\nIf not, @vvivekiyer can help pick it up as he is familiarizing himself through the code","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1088250124/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]