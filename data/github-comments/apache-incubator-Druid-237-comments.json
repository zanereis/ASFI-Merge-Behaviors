[{"url":"https://api.github.com/repos/apache/druid/issues/comments/488058575","html_url":"https://github.com/apache/druid/issues/7574#issuecomment-488058575","issue_url":"https://api.github.com/repos/apache/druid/issues/7574","id":488058575,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4ODA1ODU3NQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-30T18:16:47Z","updated_at":"2019-04-30T18:16:47Z","author_association":"CONTRIBUTOR","body":"@gianm \r\n1. Sure\r\n\r\n2. Currently Druid wouldn't have any virtual column implementing those methods, so it is hard to include unit tests exercising them. if it is any consolation, I do have UTs for all of them in my custom extension where they are implemented. However, see next.\r\n\r\n3. It wouldn't make sense to open source this extension as it is very very specific to our use case with no customizations possible. However, if the intention is to have a reference implementation that showcases enough for someone to go and build their own columns doing similar things then I can add a contrib extension that supports a complex column for `Map<String, List<String>>` type and virtual columns on it to view that column as \"size of map\", \"mapkeys-as-multi-value-string-column\".. etc. This contrib extension can also have UTs covering (2).\r\nIf community thinks it is useful then I can add that but I would prefer to do that in a separate PR.\r\n\r\n4. Yes, there would be changes in `VirtualColumns` and few other classes but they would be there to support the proposed changes, so I didn't include them.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/488058575/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/488115743","html_url":"https://github.com/apache/druid/pull/7331#issuecomment-488115743","issue_url":"https://api.github.com/repos/apache/druid/issues/7331","id":488115743,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4ODExNTc0Mw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-30T21:06:18Z","updated_at":"2019-04-30T21:06:18Z","author_association":"CONTRIBUTOR","body":"I missed one more comment. Would you please add a document for this extension?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/488115743/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/488131882","html_url":"https://github.com/apache/druid/issues/7583#issuecomment-488131882","issue_url":"https://api.github.com/repos/apache/druid/issues/7583","id":488131882,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4ODEzMTg4Mg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-30T22:03:47Z","updated_at":"2019-04-30T22:03:47Z","author_association":"CONTRIBUTOR","body":"> Situation got worse after introducing SQL to Druid. For now Druid fails when these dimensions are requested in SQL expression. Example of the error response:\r\n\r\nFwiw, Druid SQL checks segment metadata for _all_ segments in a datasource (not just the time range being queried), so this 'column not found' error should only happen if a column has no values at any point, in any segment.\r\n\r\n> Change segmentMetadata query to output all dimensions even they do not have data in the requested time range.\r\n\r\nThis wouldn't help with the Druid SQL issue, due to the reason mentioned above.\r\n\r\nThe heart of the issue is the difference between the list of dimensions that one has configured at ingestion time, and the list of columns that are actually physically stored within the Druid segments. Druid won't store columns that don't have any data, as an optimization to avoid storing a column full of nulls. So I think there are two ways to address this:\r\n\r\n1. Change things such that Druid _does_ store columns that don't have any data, ideally in a special lightweight way so they don't take up much space (beyond some metadata that the column exists and is empty).\r\n2. Change things such that Druid stores the list of configured dimensions in the segment `Metadata` object. (It already stores aggregators and queryGranularity in here, which is how those features of the segmentMetadata work.) Then, the segmentMetadata queries could return the list of configured dimensions, which would potentially be more comprehensive than the list of columns that actually got stored. Also, change Druid SQL to consider these dimensions-that-don't-have-physical-columns as valid SQL columns.\r\n\r\nI'd probably recommend (2) since this dimensions list might be useful for other purposes too, and it doesn't require changes to the segment storage format, so it doesn't have any backwards-compatibility concerns.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/488131882/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/488132710","html_url":"https://github.com/apache/druid/pull/7579#issuecomment-488132710","issue_url":"https://api.github.com/repos/apache/druid/issues/7579","id":488132710,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4ODEzMjcxMA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-30T22:06:30Z","updated_at":"2019-04-30T22:06:30Z","author_association":"CONTRIBUTOR","body":"I updated the SQL docs with info on necessary permissions, also added tests for a user without access to the `auth_test` datasource","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/488132710/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/488134076","html_url":"https://github.com/apache/druid/issues/7574#issuecomment-488134076","issue_url":"https://api.github.com/repos/apache/druid/issues/7574","id":488134076,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4ODEzNDA3Ng==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-30T22:11:28Z","updated_at":"2019-04-30T22:11:28Z","author_association":"CONTRIBUTOR","body":"@himanshug,\r\n\r\n1) To be clear, I wasn't saying 'definitely do it', just wondering if it's a good idea. I was hoping you could tell me if it seems like a good idea to you based on your work so far.\r\n\r\n2/3) The main intent behind asking if you're interested in open-sourcing the implementation is because an indexed nested data column sounds like a super useful thing. If you don't end up contributing yours I think it would still be best to have some sort of implementation, even if it lives in the /test/ tree and is solely for unit test purposes. If only because that way, even if the functionality works today, it won't accidentally break later when someone refactors some code and doesn't notice that it broke these new methods.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/488134076/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/488137427","html_url":"https://github.com/apache/druid/issues/7571#issuecomment-488137427","issue_url":"https://api.github.com/repos/apache/druid/issues/7571","id":488137427,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4ODEzNzQyNw==","user":{"login":"surekhasaharan","id":13008746,"node_id":"MDQ6VXNlcjEzMDA4NzQ2","avatar_url":"https://avatars.githubusercontent.com/u/13008746?v=4","gravatar_id":"","url":"https://api.github.com/users/surekhasaharan","html_url":"https://github.com/surekhasaharan","followers_url":"https://api.github.com/users/surekhasaharan/followers","following_url":"https://api.github.com/users/surekhasaharan/following{/other_user}","gists_url":"https://api.github.com/users/surekhasaharan/gists{/gist_id}","starred_url":"https://api.github.com/users/surekhasaharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/surekhasaharan/subscriptions","organizations_url":"https://api.github.com/users/surekhasaharan/orgs","repos_url":"https://api.github.com/users/surekhasaharan/repos","events_url":"https://api.github.com/users/surekhasaharan/events{/privacy}","received_events_url":"https://api.github.com/users/surekhasaharan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-30T22:23:55Z","updated_at":"2019-04-30T22:23:55Z","author_association":"NONE","body":"@leventov I have some follow-up question on the suggested design.\r\n> isOvershadowed becomes a non-final field of DataSegment\r\n\r\nSo are we saying make `DataSegment` mutable and add a setter for `overshadowed` field ?\r\n\r\n> Add interface SegmentsAccess { ImmutableDruidDataSource prepare(String dataSource); Iterable<DataSegment> iterateAll(); } (strawman naming)\r\n\r\nWhat is the purpose of this interface, who would implement this ? Are you thinking `SQLMetadataSegmentManager` implements this ?\r\n\r\n>Add DataSourceAccess computeOvershadowed() method to SQLSegmentMetadataManager,\r\n\r\nWhat is `DataSourceAccess` here ? Did you mean `SQLMetadataSegmentManager` ?\r\n\r\n> Both endpoints in MetadataResource and Coordination balancing logic (which currently computes isOvershadowed status on its own, too) use this API.\r\n\r\nwhich API ? `MetadataSegmentManager` already has `Iterable<DataSegment> iterateAllSegments();`, what if this returns `DataSegment` with `isOvershadowed` field set, which can be set in `SQLMetadataSegmentManager` poll method.\r\n\r\n>On the side of MetadataSegmentView, maintain something like a Map<DataSegment, DataSegment> and update overshadowed status like map.get(segmentFromCoordinator).setOvershadowed(segmentFromCoordinator.isOvershadowed())\r\n\r\nI think this will not be required, if coordinator API already returns `DataSegment` which has overshadowed status.\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/488137427/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/488148114","html_url":"https://github.com/apache/druid/issues/7574#issuecomment-488148114","issue_url":"https://api.github.com/repos/apache/druid/issues/7574","id":488148114,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4ODE0ODExNA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-30T23:13:12Z","updated_at":"2019-04-30T23:13:12Z","author_association":"CONTRIBUTOR","body":"@gianm \r\n1. As I'm updating code, it is good idea for `getBitmapIndex(..)` but doesn't fit nicely for additional versions of `makeDimensionSelector(..)` and `makeColumnValueSelector(..)`. Also `asDimensionColumn(..)` isn't needed because `BitmapIndex` can provide similar information.\r\n\r\n2/3. thanks, test tree is good idea. For testing purposes, I will add a test StringVirtualColumn, which behaves exactly same as native string column but via the virtual column interface. that will allow writing meaningful tests exercising all the new code.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/488148114/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/488151215","html_url":"https://github.com/apache/druid/issues/7574#issuecomment-488151215","issue_url":"https://api.github.com/repos/apache/druid/issues/7574","id":488151215,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4ODE1MTIxNQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-30T23:29:17Z","updated_at":"2019-04-30T23:29:17Z","author_association":"CONTRIBUTOR","body":"> 2/3. thanks, test tree is good idea. For testing purposes, I will add a test StringVirtualColumn, which behaves exactly same as native string column but via the virtual column interface. that will allow writing meaningful tests exercising all the new code.\r\n\r\nThis sounds like a good approach to at least make sure we have test coverage.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/488151215/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/488171090","html_url":"https://github.com/apache/druid/issues/7399#issuecomment-488171090","issue_url":"https://api.github.com/repos/apache/druid/issues/7399","id":488171090,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4ODE3MTA5MA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-01T01:30:52Z","updated_at":"2019-05-01T01:30:52Z","author_association":"CONTRIBUTOR","body":"Closing due to lack of detail - @hueiyuanSu please feel free to reopen and edit if you want to add some.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/488171090/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/488175532","html_url":"https://github.com/apache/druid/issues/7571#issuecomment-488175532","issue_url":"https://api.github.com/repos/apache/druid/issues/7571","id":488175532,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4ODE3NTUzMg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-01T02:08:47Z","updated_at":"2019-05-01T02:08:47Z","author_association":"CONTRIBUTOR","body":"The general idea of computing overshadowedness as few times as possible sounds good to me, and in particular computing it on `poll` sounds good. I think we might as well do it eagerly, though, since it's always going to be needed (DruidCoordinatorRuleRunner, for example, always computes the list of overshadowed segments so it can avoid loading them on historicals).\r\n\r\nI am skeptical of making DataSegment mutable, though. The alternative is a wrapper object: something like DataSegmentWithTimelineContext or DataSegmentWithOvershadowedState. The main motivation I could see for adding fields to DataSegment, vs. doing a wrapper object, is memory savings. (Is there some other reason I am missing?)\r\n\r\nIt is nice, I think, that DataSegment objects are self-contained -- they don't depend on other context. 'isOvershadowed' by its nature depends on other context (namely, what _other_ DataSegments exist). It won't be possible to set the field correctly unless _all_ DataSegment objects for a particular datasource are considered. This won't be possible in all cases, which will make it unclear when the field is valid and when it's not, opening up new possible bugs. A wrapper encodes into the type system whether or not the contextual overshadowedness information has been computed or not.\r\n\r\nFurthermore, I am not convinced this tactic will be effective at minimizing memory use. As an example, the proposed `Map<DataSegment, DataSegment>` in `MetadataSegmentView` would need to keep two copies of each DataSegment, since the key and value are different objects. A wrapper would be cheaper, since the DataSegment object contained by different wrappers could be shared.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/488175532/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/488192666","html_url":"https://github.com/apache/druid/issues/6993#issuecomment-488192666","issue_url":"https://api.github.com/repos/apache/druid/issues/6993","id":488192666,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4ODE5MjY2Ng==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-01T03:10:57Z","updated_at":"2019-05-01T03:10:57Z","author_association":"CONTRIBUTOR","body":"@sascha-coenen, thanks for your feedback. After reading it, it sounds to me like most of it can be done as additions to my original (and intentionally minimalist) proposal, so I am not experiencing concern that the first step would be misaligned with a more sophisticated solution. But would you please let me know what you think, and in particular, what you think of the below comments?\r\n\r\n**On resource pools,**\r\nI like the resource pool idea as a way of incorporating extrinsic information. I think it maps nicely onto how people want to think about query priorities: numbers don't really make sense, but `interactive` or `api` or `scheduled-report` do make sense. It's more of a pain to configure, though. Rather than a single number on the query context, there's an indirection from the query context to an identifier defined somewhere else (broker configuration? metadata db?).\r\n\r\nBut even though it's a pain, I think it's a useful feature. In the context of my original proposal they would be a good place to define overrides for default priority and for the `druid.broker.priority.*` properties. (You might have more aggressive or more lenient thresholds for different kinds of queries.)\r\n\r\nYou're right about the name, it's not a good one based on how you've conceived it (it's not really a pool of resources, it's more like a way to group together queries that should be treated similarly).\r\n\r\nI don't think they'd need to be added immediately, it makes sense to me to do them as a follow-on that lets you override the systemwide defaults.\r\n\r\n**On incorporating multiple sources of intrinsic information,**\r\nI think while my proposal is extraordinarily basic as far as what intrinsic information it incorporates (intentionally so, to keep the initial implementation simple), I hope more could be added later. I think all the stuff in your proposal could be done as follow-ons if we wanted. Since mine is so simple, it won't leave much legacy cruft behind that a more sophisticated system would have to deal with. Just the `druid.broker.priority.*` properties.\r\n\r\n**On rejecting queries,**\r\nI think this is the biggest area where I'm not sure how to align your proposal with mine.\r\n\r\nThe main conflict I see is that you envision not needing to reject queries, but I think we do need to reject queries, if only to prevent http server thread starvation. Due to this issue, I don't think we can do more than two 'lanes': a fast lane (queries in this category are always accepted for processing) and a slow lane (queries are rejected if the lane is 'full'). This constrains how beautiful the solution can be, since a binary decision must be made by the broker (reject a query, or accept it and begin execution).\r\n\r\nBy the way, http server thread starvation isn't the only resource that I think we need a binary laning system for: others include concurrent connections from brokers to historicals, and memory used for merging and storing partial results on historicals (both offheap merge buffers + on-heap structures). All of these resources are limited and must be reserved early in the query processing lifecycle, and cannot be released without canceling the query.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/488192666/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/488197023","html_url":"https://github.com/apache/druid/pull/7579#issuecomment-488197023","issue_url":"https://api.github.com/repos/apache/druid/issues/7579","id":488197023,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4ODE5NzAyMw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-01T03:22:31Z","updated_at":"2019-05-01T03:22:31Z","author_association":"CONTRIBUTOR","body":"LGTM other than the comment about doc wording.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/488197023/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/488221751","html_url":"https://github.com/apache/druid/pull/7577#issuecomment-488221751","issue_url":"https://api.github.com/repos/apache/druid/issues/7577","id":488221751,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4ODIyMTc1MQ==","user":{"login":"surekhasaharan","id":13008746,"node_id":"MDQ6VXNlcjEzMDA4NzQ2","avatar_url":"https://avatars.githubusercontent.com/u/13008746?v=4","gravatar_id":"","url":"https://api.github.com/users/surekhasaharan","html_url":"https://github.com/surekhasaharan","followers_url":"https://api.github.com/users/surekhasaharan/followers","following_url":"https://api.github.com/users/surekhasaharan/following{/other_user}","gists_url":"https://api.github.com/users/surekhasaharan/gists{/gist_id}","starred_url":"https://api.github.com/users/surekhasaharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/surekhasaharan/subscriptions","organizations_url":"https://api.github.com/users/surekhasaharan/orgs","repos_url":"https://api.github.com/users/surekhasaharan/repos","events_url":"https://api.github.com/users/surekhasaharan/events{/privacy}","received_events_url":"https://api.github.com/users/surekhasaharan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-01T06:49:34Z","updated_at":"2019-05-01T06:49:34Z","author_association":"NONE","body":"Ok, I wasn't sure if those should be removed, will update.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/488221751/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/488247025","html_url":"https://github.com/apache/druid/issues/7586#issuecomment-488247025","issue_url":"https://api.github.com/repos/apache/druid/issues/7586","id":488247025,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4ODI0NzAyNQ==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-01T09:53:44Z","updated_at":"2019-05-01T09:53:44Z","author_association":"CONTRIBUTOR","body":"OMG yes, a million times yes. There is definitely some overhead with column comments as they would be propagated with each segment but it would enable some great abilities things with features like https://github.com/apache/incubator-druid/pull/7572 where a high level comment could be assigned to the auto created columns to later better be able to 're-inflate' the spec for repeated ingestion.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/488247025/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/488261977","html_url":"https://github.com/apache/druid/issues/7439#issuecomment-488261977","issue_url":"https://api.github.com/repos/apache/druid/issues/7439","id":488261977,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4ODI2MTk3Nw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-01T11:34:50Z","updated_at":"2019-05-01T11:34:50Z","author_association":"MEMBER","body":"@surekhasaharan is there a use case when it's necessary to mark as used/unused only non-overshadowed segments when an endpoint is provided with a list of segment ids, `\"segmentIds\": [...]`? I find it considerably complicating the implementation, and being \"too smart\" in general: maybe there are reasons why we want to update the state of overshadowed segments. `DruidCoordinatorMarkAsUnusedOvershadowedSegments` should eventually clean it up.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/488261977/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/488315686","html_url":"https://github.com/apache/druid/issues/7570#issuecomment-488315686","issue_url":"https://api.github.com/repos/apache/druid/issues/7570","id":488315686,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4ODMxNTY4Ng==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-01T15:30:16Z","updated_at":"2019-05-01T15:30:16Z","author_association":"MEMBER","body":"Historical nodes are designed for restarts, including restarts of large groups of nodes nearly at the same time. We don't want such restarts to disrupt the quality of service. So the cache should be replicated at least 2x. This requirement makes simple local embeddable cache insufficient (unless we want to basically solve again all the hard problems with reliable replicated cluster services).\r\n\r\nSo Ignite looks to me like a more reasonable solution.\r\n\r\n@devozerov would appreciate your opinion.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/488315686/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/488324311","html_url":"https://github.com/apache/druid/issues/7439#issuecomment-488324311","issue_url":"https://api.github.com/repos/apache/druid/issues/7439","id":488324311,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4ODMyNDMxMQ==","user":{"login":"surekhasaharan","id":13008746,"node_id":"MDQ6VXNlcjEzMDA4NzQ2","avatar_url":"https://avatars.githubusercontent.com/u/13008746?v=4","gravatar_id":"","url":"https://api.github.com/users/surekhasaharan","html_url":"https://github.com/surekhasaharan","followers_url":"https://api.github.com/users/surekhasaharan/followers","following_url":"https://api.github.com/users/surekhasaharan/following{/other_user}","gists_url":"https://api.github.com/users/surekhasaharan/gists{/gist_id}","starred_url":"https://api.github.com/users/surekhasaharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/surekhasaharan/subscriptions","organizations_url":"https://api.github.com/users/surekhasaharan/orgs","repos_url":"https://api.github.com/users/surekhasaharan/repos","events_url":"https://api.github.com/users/surekhasaharan/events{/privacy}","received_events_url":"https://api.github.com/users/surekhasaharan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-01T15:58:41Z","updated_at":"2019-05-01T15:58:41Z","author_association":"NONE","body":"The `markUnused` API doesn't check for overshadowed in either case i.e. interval or segmentIds. The `markUsed` API does and the reason is to avoid needless load on historicals as discussed in the initial comments. We kept the behavior consistent for both interval and segmentIds case, otherwise it becomes confusing for the user. I can't think of a reason why someone would want to mark a overshadowed segment `used` intentionally , when it's going to be dropped again by the coordinator anyways. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/488324311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/488330261","html_url":"https://github.com/apache/druid/issues/7571#issuecomment-488330261","issue_url":"https://api.github.com/repos/apache/druid/issues/7571","id":488330261,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4ODMzMDI2MQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-01T16:19:09Z","updated_at":"2019-05-01T16:19:09Z","author_association":"MEMBER","body":"@surekhasaharan \r\n\r\n> So are we saying make DataSegment mutable and add a setter for overshadowed field ?\r\n\r\nYes\r\n\r\n> What is the purpose of this interface, who would implement this ? Are you thinking SQLMetadataSegmentManager implements this ?\r\n\r\nThe purpose is type-level and concurrency safety, however, since I agree with @gianm that it's easier to just compute overshadowed status eagerly on each `poll()`, this part of the suggestion is irrelevant. `SQLMetadataSegmentManager`'s interface will be intact.\r\n\r\n> I think this will not be required, if coordinator API already returns DataSegment which has overshadowed status.\r\n\r\nThe idea is to keep using a segment object which resides the Broker's memory for longer, the same idea as here: https://github.com/apache/incubator-druid/blob/15d19f3059a990f022b1cb98bdd4e6a82cdf9a06/server/src/main/java/org/apache/druid/metadata/SQLMetadataSegmentManager.java#L750-L756\r\n\r\n@gianm \r\n\r\n> I think we might as well do it eagerly\r\n\r\nYes. I now also think that instead of rebuilding `VersionedIntervalTimeline` every time from scratch, one can be kept in memory of `SQLMetadataSegmentManager`. (It would also allow to skip computations if no segments were added or removed in a particular data source during some `poll()`, compared to the previous.) The second part is optional.\r\n\r\n> I am skeptical of making DataSegment mutable, though. The alternative is a wrapper object: something like DataSegmentWithTimelineContext or DataSegmentWithOvershadowedState. The main motivation I could see for adding fields to DataSegment, vs. doing a wrapper object, is memory savings. (Is there some other reason I am missing?)\r\n\r\n> It is nice, I think, that DataSegment objects are self-contained -- they don't depend on other context. 'isOvershadowed' by its nature depends on other context (namely, what other DataSegments exist). It won't be possible to set the field correctly unless all DataSegment objects for a particular datasource are considered. This won't be possible in all cases, which will make it unclear when the field is valid and when it's not, opening up new possible bugs. A wrapper encodes into the type system whether or not the contextual overshadowedness information has been computed or not.\r\n\r\nLooking at the existing code at #7425, I think wrapper approach would be worse.\r\n\r\nRegarding `DataSegment`'s immutability, it might need to go away anyway, as #6358 should be fixed (note @surekhasaharan: you can fix that problem, incl. across Coordinator -> Broker segment streaming, in the same PR). `DataSegment` is immutable and used in HashSets and HashMaps as a key, while it's identity is actually based only on `segmentId`, is not right. We should probably move to `Map<SegmentId, DataSegment>` across the board and make `DataSegment` a mutable object without `equals()` and `hashCode()` implementations to avoid defects like #6358 consistently.\r\n\r\n> As an example, the proposed Map<DataSegment, DataSegment> in MetadataSegmentView would need to keep two copies of each DataSegment, since the key and value are different objects. \r\n\r\nThe idea was that key and value is the same object in that case, but anyway, it should rather be `Map<SegmentId, DataSegment>`, see above.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/488330261/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/488332781","html_url":"https://github.com/apache/druid/issues/7571#issuecomment-488332781","issue_url":"https://api.github.com/repos/apache/druid/issues/7571","id":488332781,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4ODMzMjc4MQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-01T16:27:52Z","updated_at":"2019-05-01T16:27:52Z","author_association":"MEMBER","body":"Probably all fields of `DataSegment` (except `overshadowed`) should remain final to avoid problematic concurrency updates when actually discovering an instance of #6358 problem (which should be very rare), but the general idea is the same: we should \"attach less\" to `DataSegment`'s immutability, therefore, I don't see that having a single mutable field in it would be a problem.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/488332781/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/488387136","html_url":"https://github.com/apache/druid/pull/7550#issuecomment-488387136","issue_url":"https://api.github.com/repos/apache/druid/issues/7550","id":488387136,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4ODM4NzEzNg==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-01T19:24:05Z","updated_at":"2019-05-01T19:24:05Z","author_association":"CONTRIBUTOR","body":"Very cool. Does this add the post aggs to druid native (JSON) queries only or to druid SQL also?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/488387136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/488387497","html_url":"https://github.com/apache/druid/pull/7555#issuecomment-488387497","issue_url":"https://api.github.com/repos/apache/druid/issues/7555","id":488387497,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4ODM4NzQ5Nw==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-01T19:25:27Z","updated_at":"2019-05-01T19:25:27Z","author_association":"CONTRIBUTOR","body":"@clintropolis now that #7425 has been merged I think this one is good to go also","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/488387497/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/488390038","html_url":"https://github.com/apache/druid/issues/7584#issuecomment-488390038","issue_url":"https://api.github.com/repos/apache/druid/issues/7584","id":488390038,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4ODM5MDAzOA==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-01T19:35:00Z","updated_at":"2019-05-01T19:35:00Z","author_association":"CONTRIBUTOR","body":"is there a SQL dialect where you can do this? I do not think the works in MySQL or Postgres either","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/488390038/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/488428989","html_url":"https://github.com/apache/druid/pull/7579#issuecomment-488428989","issue_url":"https://api.github.com/repos/apache/druid/issues/7579","id":488428989,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4ODQyODk4OQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-01T21:10:23Z","updated_at":"2019-05-01T21:10:23Z","author_association":"CONTRIBUTOR","body":"Fixed tests:\r\n- Updated to handle changes from is_overshadowed patch\r\n- Changed the created year for the inserted task to 2030 so it doesn't fall out of the completed tasks window","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/488428989/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/488552967","html_url":"https://github.com/apache/druid/pull/7531#issuecomment-488552967","issue_url":"https://api.github.com/repos/apache/druid/issues/7531","id":488552967,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4ODU1Mjk2Nw==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-02T04:54:40Z","updated_at":"2019-05-02T04:54:40Z","author_association":"CONTRIBUTOR","body":"The new interface methods for `Firehose` and `FIrehoseFactory` and related changes, and the new `InputRowPlusRaw` class look good to me.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/488552967/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/488580264","html_url":"https://github.com/apache/druid/issues/7439#issuecomment-488580264","issue_url":"https://api.github.com/repos/apache/druid/issues/7439","id":488580264,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4ODU4MDI2NA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-02T07:46:10Z","updated_at":"2019-05-02T07:46:10Z","author_association":"MEMBER","body":"I would say it's confusing when an endpoint accepts a list of things to do something with them, and instead of just doing that, it filters the list further.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/488580264/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/488634896","html_url":"https://github.com/apache/druid/issues/7583#issuecomment-488634896","issue_url":"https://api.github.com/repos/apache/druid/issues/7583","id":488634896,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4ODYzNDg5Ng==","user":{"login":"VladimirIordanov","id":34023131,"node_id":"MDQ6VXNlcjM0MDIzMTMx","avatar_url":"https://avatars.githubusercontent.com/u/34023131?v=4","gravatar_id":"","url":"https://api.github.com/users/VladimirIordanov","html_url":"https://github.com/VladimirIordanov","followers_url":"https://api.github.com/users/VladimirIordanov/followers","following_url":"https://api.github.com/users/VladimirIordanov/following{/other_user}","gists_url":"https://api.github.com/users/VladimirIordanov/gists{/gist_id}","starred_url":"https://api.github.com/users/VladimirIordanov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/VladimirIordanov/subscriptions","organizations_url":"https://api.github.com/users/VladimirIordanov/orgs","repos_url":"https://api.github.com/users/VladimirIordanov/repos","events_url":"https://api.github.com/users/VladimirIordanov/events{/privacy}","received_events_url":"https://api.github.com/users/VladimirIordanov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-02T11:15:55Z","updated_at":"2019-05-02T11:15:55Z","author_association":"NONE","body":"Thank you Gian for the fast response. In my understanding the second option is more safe in terms of backward compatibility. So my vote is also for it. Unfortunately I know Druid from user perspective and don't familiar with its codebase. How big efforts to implement it? Will it require lot of work? Hope not much and I could see this feature implemented in the nearest release.\r\nThank you very much for the support.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/488634896/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/488635817","html_url":"https://github.com/apache/druid/issues/6442#issuecomment-488635817","issue_url":"https://api.github.com/repos/apache/druid/issues/6442","id":488635817,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4ODYzNTgxNw==","user":{"login":"prabakarankrishnan","id":47737674,"node_id":"MDQ6VXNlcjQ3NzM3Njc0","avatar_url":"https://avatars.githubusercontent.com/u/47737674?v=4","gravatar_id":"","url":"https://api.github.com/users/prabakarankrishnan","html_url":"https://github.com/prabakarankrishnan","followers_url":"https://api.github.com/users/prabakarankrishnan/followers","following_url":"https://api.github.com/users/prabakarankrishnan/following{/other_user}","gists_url":"https://api.github.com/users/prabakarankrishnan/gists{/gist_id}","starred_url":"https://api.github.com/users/prabakarankrishnan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prabakarankrishnan/subscriptions","organizations_url":"https://api.github.com/users/prabakarankrishnan/orgs","repos_url":"https://api.github.com/users/prabakarankrishnan/repos","events_url":"https://api.github.com/users/prabakarankrishnan/events{/privacy}","received_events_url":"https://api.github.com/users/prabakarankrishnan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-02T11:19:44Z","updated_at":"2019-05-02T11:19:44Z","author_association":"NONE","body":"Hi\r\nAny body help me to download druid 0.10.1 version\r\n\r\nThanks\r\nPrabakaran krishnan","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/488635817/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/488652316","html_url":"https://github.com/apache/druid/issues/5008#issuecomment-488652316","issue_url":"https://api.github.com/repos/apache/druid/issues/5008","id":488652316,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4ODY1MjMxNg==","user":{"login":"mihai-cazacu-adswizz","id":45362709,"node_id":"MDQ6VXNlcjQ1MzYyNzA5","avatar_url":"https://avatars.githubusercontent.com/u/45362709?v=4","gravatar_id":"","url":"https://api.github.com/users/mihai-cazacu-adswizz","html_url":"https://github.com/mihai-cazacu-adswizz","followers_url":"https://api.github.com/users/mihai-cazacu-adswizz/followers","following_url":"https://api.github.com/users/mihai-cazacu-adswizz/following{/other_user}","gists_url":"https://api.github.com/users/mihai-cazacu-adswizz/gists{/gist_id}","starred_url":"https://api.github.com/users/mihai-cazacu-adswizz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mihai-cazacu-adswizz/subscriptions","organizations_url":"https://api.github.com/users/mihai-cazacu-adswizz/orgs","repos_url":"https://api.github.com/users/mihai-cazacu-adswizz/repos","events_url":"https://api.github.com/users/mihai-cazacu-adswizz/events{/privacy}","received_events_url":"https://api.github.com/users/mihai-cazacu-adswizz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-02T12:25:04Z","updated_at":"2019-05-02T12:26:30Z","author_association":"NONE","body":"We are also having this issue:\r\n\r\n```\r\nLength of raw bytes for znode[/.../indexer/tasks/server:8091/ds_2019-04-30T12:48:57.577Z] too large[655,019 > 524,288]\r\n```\r\n\r\nAnd this is due some intervals which have many segments (~400). Because of this, the generated JSON has ~2.5 MB and the Druid's limit is 512K (while the Zookeeper's limit appears to be 1MB).\r\n\r\nIs there a way to solve this or the only choice we have is to modify the value of [druid.indexer.runner.maxZnodeBytes](https://github.com/metabase/druid/blob/master/docs/content/configuration/indexing-service.md)?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/488652316/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/488677063","html_url":"https://github.com/apache/druid/issues/7583#issuecomment-488677063","issue_url":"https://api.github.com/repos/apache/druid/issues/7583","id":488677063,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4ODY3NzA2Mw==","user":{"login":"sascha-coenen","id":1635350,"node_id":"MDQ6VXNlcjE2MzUzNTA=","avatar_url":"https://avatars.githubusercontent.com/u/1635350?v=4","gravatar_id":"","url":"https://api.github.com/users/sascha-coenen","html_url":"https://github.com/sascha-coenen","followers_url":"https://api.github.com/users/sascha-coenen/followers","following_url":"https://api.github.com/users/sascha-coenen/following{/other_user}","gists_url":"https://api.github.com/users/sascha-coenen/gists{/gist_id}","starred_url":"https://api.github.com/users/sascha-coenen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sascha-coenen/subscriptions","organizations_url":"https://api.github.com/users/sascha-coenen/orgs","repos_url":"https://api.github.com/users/sascha-coenen/repos","events_url":"https://api.github.com/users/sascha-coenen/events{/privacy}","received_events_url":"https://api.github.com/users/sascha-coenen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-02T13:39:26Z","updated_at":"2019-05-02T13:39:26Z","author_association":"NONE","body":"same here.\r\n\r\nI noticed that there is a segment format V10 project and perhaps changes such as in option 1 might be picked up in that context, but to address the current issue, option 2 sounds like an easier, less invasive route.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/488677063/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/488691725","html_url":"https://github.com/apache/druid/issues/6442#issuecomment-488691725","issue_url":"https://api.github.com/repos/apache/druid/issues/6442","id":488691725,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4ODY5MTcyNQ==","user":{"login":"a2l007","id":4603202,"node_id":"MDQ6VXNlcjQ2MDMyMDI=","avatar_url":"https://avatars.githubusercontent.com/u/4603202?v=4","gravatar_id":"","url":"https://api.github.com/users/a2l007","html_url":"https://github.com/a2l007","followers_url":"https://api.github.com/users/a2l007/followers","following_url":"https://api.github.com/users/a2l007/following{/other_user}","gists_url":"https://api.github.com/users/a2l007/gists{/gist_id}","starred_url":"https://api.github.com/users/a2l007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/a2l007/subscriptions","organizations_url":"https://api.github.com/users/a2l007/orgs","repos_url":"https://api.github.com/users/a2l007/repos","events_url":"https://api.github.com/users/a2l007/events{/privacy}","received_events_url":"https://api.github.com/users/a2l007/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-02T14:18:59Z","updated_at":"2019-05-02T14:18:59Z","author_association":"CONTRIBUTOR","body":"http://static.druid.io/artifacts/releases/druid-0.10.1-bin.tar.gz should\nwork.\n\n\nOn Thu, May 2, 2019 at 6:20 AM prabakarankrishnan <notifications@github.com>\nwrote:\n\n> Hi\n> Any body help me to download druid 0.10.1 version\n>\n> Thanks\n> Prabakaran krishnan\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/incubator-druid/issues/6442#issuecomment-488635817>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ABDD2QU7RRA2SWX6AKFWWVTPTLE67ANCNFSM4F2RQB2Q>\n> .\n>\n\n\n-- \nAtul Mohan\n<atulmohan.mec@gmail.com>\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/488691725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/488725411","html_url":"https://github.com/apache/druid/issues/7583#issuecomment-488725411","issue_url":"https://api.github.com/repos/apache/druid/issues/7583","id":488725411,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4ODcyNTQxMQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-02T15:45:49Z","updated_at":"2019-05-02T15:45:49Z","author_association":"CONTRIBUTOR","body":"> Thank you Gian for the fast response. In my understanding the second option is more safe in terms of backward compatibility. So my vote is also for it. Unfortunately I know Druid from user perspective and don't familiar with its codebase. How big efforts to implement it? Will it require lot of work? Hope not much and I could see this feature implemented in the nearest release.\r\n\r\nI don't think it would be too big, if you are interested in contributing then the place to start would be adding the dimensionsSpec to org.apache.druid.segment.Metadata, and then plumbing it into the segmentMetadata query using a new analysisType.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/488725411/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/488751290","html_url":"https://github.com/apache/druid/issues/7522#issuecomment-488751290","issue_url":"https://api.github.com/repos/apache/druid/issues/7522","id":488751290,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4ODc1MTI5MA==","user":{"login":"dgregoire","id":5883542,"node_id":"MDQ6VXNlcjU4ODM1NDI=","avatar_url":"https://avatars.githubusercontent.com/u/5883542?v=4","gravatar_id":"","url":"https://api.github.com/users/dgregoire","html_url":"https://github.com/dgregoire","followers_url":"https://api.github.com/users/dgregoire/followers","following_url":"https://api.github.com/users/dgregoire/following{/other_user}","gists_url":"https://api.github.com/users/dgregoire/gists{/gist_id}","starred_url":"https://api.github.com/users/dgregoire/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dgregoire/subscriptions","organizations_url":"https://api.github.com/users/dgregoire/orgs","repos_url":"https://api.github.com/users/dgregoire/repos","events_url":"https://api.github.com/users/dgregoire/events{/privacy}","received_events_url":"https://api.github.com/users/dgregoire/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-02T17:00:37Z","updated_at":"2019-05-02T17:00:37Z","author_association":"NONE","body":"was a configuration issue, closing","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/488751290/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/488762601","html_url":"https://github.com/apache/druid/issues/7439#issuecomment-488762601","issue_url":"https://api.github.com/repos/apache/druid/issues/7439","id":488762601,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4ODc2MjYwMQ==","user":{"login":"surekhasaharan","id":13008746,"node_id":"MDQ6VXNlcjEzMDA4NzQ2","avatar_url":"https://avatars.githubusercontent.com/u/13008746?v=4","gravatar_id":"","url":"https://api.github.com/users/surekhasaharan","html_url":"https://github.com/surekhasaharan","followers_url":"https://api.github.com/users/surekhasaharan/followers","following_url":"https://api.github.com/users/surekhasaharan/following{/other_user}","gists_url":"https://api.github.com/users/surekhasaharan/gists{/gist_id}","starred_url":"https://api.github.com/users/surekhasaharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/surekhasaharan/subscriptions","organizations_url":"https://api.github.com/users/surekhasaharan/orgs","repos_url":"https://api.github.com/users/surekhasaharan/repos","events_url":"https://api.github.com/users/surekhasaharan/events{/privacy}","received_events_url":"https://api.github.com/users/surekhasaharan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-02T17:34:42Z","updated_at":"2019-05-02T17:34:42Z","author_association":"NONE","body":"Yeah, i agree it can be confusing, but this is something that can be addressed by clear documentation of the API, instead of different behavior of the same API with varying payload.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/488762601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/488773040","html_url":"https://github.com/apache/druid/pull/7066#issuecomment-488773040","issue_url":"https://api.github.com/repos/apache/druid/issues/7066","id":488773040,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4ODc3MzA0MA==","user":{"login":"a2l007","id":4603202,"node_id":"MDQ6VXNlcjQ2MDMyMDI=","avatar_url":"https://avatars.githubusercontent.com/u/4603202?v=4","gravatar_id":"","url":"https://api.github.com/users/a2l007","html_url":"https://github.com/a2l007","followers_url":"https://api.github.com/users/a2l007/followers","following_url":"https://api.github.com/users/a2l007/following{/other_user}","gists_url":"https://api.github.com/users/a2l007/gists{/gist_id}","starred_url":"https://api.github.com/users/a2l007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/a2l007/subscriptions","organizations_url":"https://api.github.com/users/a2l007/orgs","repos_url":"https://api.github.com/users/a2l007/repos","events_url":"https://api.github.com/users/a2l007/events{/privacy}","received_events_url":"https://api.github.com/users/a2l007/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-02T18:05:03Z","updated_at":"2019-05-02T18:05:03Z","author_association":"CONTRIBUTOR","body":"Hello @QiuMM just checking in to see if you've plans to continue working on this PR. We have a few usecases internally where this feature would fit in nicely.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/488773040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/488838372","html_url":"https://github.com/apache/druid/issues/6358#issuecomment-488838372","issue_url":"https://api.github.com/repos/apache/druid/issues/6358","id":488838372,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4ODgzODM3Mg==","user":{"login":"surekhasaharan","id":13008746,"node_id":"MDQ6VXNlcjEzMDA4NzQ2","avatar_url":"https://avatars.githubusercontent.com/u/13008746?v=4","gravatar_id":"","url":"https://api.github.com/users/surekhasaharan","html_url":"https://github.com/surekhasaharan","followers_url":"https://api.github.com/users/surekhasaharan/followers","following_url":"https://api.github.com/users/surekhasaharan/following{/other_user}","gists_url":"https://api.github.com/users/surekhasaharan/gists{/gist_id}","starred_url":"https://api.github.com/users/surekhasaharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/surekhasaharan/subscriptions","organizations_url":"https://api.github.com/users/surekhasaharan/orgs","repos_url":"https://api.github.com/users/surekhasaharan/repos","events_url":"https://api.github.com/users/surekhasaharan/events{/privacy}","received_events_url":"https://api.github.com/users/surekhasaharan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-02T21:27:19Z","updated_at":"2019-05-02T21:27:19Z","author_association":"NONE","body":"@leventov checking my understanding for this fix, so the equals in `DataSegment` should be either removed or modified to include not just the `SegmentId` equality, but other fields of `DataSegment` ?  And the `replaceWithExistingSegmentIfPresent` in `SQLMetadataSegmentManager` might return something like \r\n```\r\nreturn alreadyExistingSegment != null\r\n           ? (alreadyExistingSegment.equals(segment) ? alreadyExistingSegment : segment)\r\n           : segment;\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/488838372/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/488841835","html_url":"https://github.com/apache/druid/issues/7563#issuecomment-488841835","issue_url":"https://api.github.com/repos/apache/druid/issues/7563","id":488841835,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4ODg0MTgzNQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-02T21:38:42Z","updated_at":"2019-05-02T21:38:42Z","author_association":"CONTRIBUTOR","body":"Fixed by #7579.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/488841835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/488853587","html_url":"https://github.com/apache/druid/pull/7331#issuecomment-488853587","issue_url":"https://api.github.com/repos/apache/druid/issues/7331","id":488853587,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4ODg1MzU4Nw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-02T22:23:34Z","updated_at":"2019-05-02T22:23:34Z","author_association":"CONTRIBUTOR","body":"Hi @samarthjain thank you for updating the PR. It looks that the PR is somehow messed up. Would you check it again please?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/488853587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/488868248","html_url":"https://github.com/apache/druid/pull/7331#issuecomment-488868248","issue_url":"https://api.github.com/repos/apache/druid/issues/7331","id":488868248,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4ODg2ODI0OA==","user":{"login":"samarthjain","id":1642180,"node_id":"MDQ6VXNlcjE2NDIxODA=","avatar_url":"https://avatars.githubusercontent.com/u/1642180?v=4","gravatar_id":"","url":"https://api.github.com/users/samarthjain","html_url":"https://github.com/samarthjain","followers_url":"https://api.github.com/users/samarthjain/followers","following_url":"https://api.github.com/users/samarthjain/following{/other_user}","gists_url":"https://api.github.com/users/samarthjain/gists{/gist_id}","starred_url":"https://api.github.com/users/samarthjain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samarthjain/subscriptions","organizations_url":"https://api.github.com/users/samarthjain/orgs","repos_url":"https://api.github.com/users/samarthjain/repos","events_url":"https://api.github.com/users/samarthjain/events{/privacy}","received_events_url":"https://api.github.com/users/samarthjain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-02T23:31:33Z","updated_at":"2019-05-02T23:31:33Z","author_association":"CONTRIBUTOR","body":"@jihoonson - sorry about that. Looks like I pushed the garbage that Intellij generated. Fixed the commit by removing all the intellij related changes. I still haven't written the docs yet for tdigest. Working on them now. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/488868248/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489102183","html_url":"https://github.com/apache/druid/issues/6358#issuecomment-489102183","issue_url":"https://api.github.com/repos/apache/druid/issues/6358","id":489102183,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTEwMjE4Mw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-03T13:50:35Z","updated_at":"2019-05-03T13:50:35Z","author_association":"MEMBER","body":"I'm not sure what would be the best way to handle this in terms of both usability and error-proneness. If you just make `equals()` more expensive and somebody puts it in `HashSet` as keys, a lot of unnecessary work may be done in the result. On the other hand, there may be cases when we would still want to have `DataSegment` as keys in Maps to \"pack\" more data into a Map without creating extra wrapping objects, that is, having `ObjToIntMap<DataSegment>` instead of `Map<SegmentId, SomeWrapperWithDataSegmentAndIntFields>`.\r\n\r\nSo what I would do is:\r\n - Leave `DataSegment`'s `equals()` and `hashCode()` as they are now\r\n - Add `DataSegment.allDataEquals()` checking all data.\r\n - Add a [Structural Search inspection](https://github.com/apache/incubator-druid/blob/master/dev/teamcity.md#creating-a-custom-inspection-from-a-structural-search-pattern) in intelliJ which inhibits using `DataSegment` in Map keys and Sets, but can still be done using `@SuppressWarnings(\"SSBasedInspection\")` when somebody *really* needs that (see the example above).","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489102183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489105569","html_url":"https://github.com/apache/druid/pull/7088#issuecomment-489105569","issue_url":"https://api.github.com/repos/apache/druid/issues/7088","id":489105569,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTEwNTU2OQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-03T14:01:11Z","updated_at":"2019-05-03T14:01:11Z","author_association":"MEMBER","body":"@samarthjain thanks for following through.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489105569/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489106586","html_url":"https://github.com/apache/druid/pull/7175#issuecomment-489106586","issue_url":"https://api.github.com/repos/apache/druid/issues/7175","id":489106586,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTEwNjU4Ng==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-05-03T14:04:22Z","updated_at":"2019-05-03T14:04:22Z","author_association":"NONE","body":"This pull request is no longer marked as stale.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489106586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489202884","html_url":"https://github.com/apache/druid/pull/7331#issuecomment-489202884","issue_url":"https://api.github.com/repos/apache/druid/issues/7331","id":489202884,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTIwMjg4NA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-03T18:53:39Z","updated_at":"2019-05-03T18:53:39Z","author_association":"CONTRIBUTOR","body":"@samarthjain thanks for fixing it quickly! I'll take another look.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489202884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489229754","html_url":"https://github.com/apache/druid/issues/7302#issuecomment-489229754","issue_url":"https://api.github.com/repos/apache/druid/issues/7302","id":489229754,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTIyOTc1NA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-03T20:28:56Z","updated_at":"2019-05-03T20:28:56Z","author_association":"CONTRIBUTOR","body":"Fixed in #7325.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489229754/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489242587","html_url":"https://github.com/apache/druid/pull/7067#issuecomment-489242587","issue_url":"https://api.github.com/repos/apache/druid/issues/7067","id":489242587,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTI0MjU4Nw==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-05-03T21:16:57Z","updated_at":"2019-05-03T21:16:57Z","author_association":"NONE","body":"This pull request has been marked as stale due to 60 days of inactivity. It will be closed in 1 week if no further activity occurs. If you think that’s incorrect or this pull request requires a review, please simply write any comment. If closed, you can revive the PR at any time and @mention a reviewer or discuss it on the dev@druid.apache.org list. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489242587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489251006","html_url":"https://github.com/apache/druid/pull/7591#issuecomment-489251006","issue_url":"https://api.github.com/repos/apache/druid/issues/7591","id":489251006,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTI1MTAwNg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-03T21:51:33Z","updated_at":"2019-05-03T21:51:33Z","author_association":"CONTRIBUTOR","body":"@fjy @jihoonson I've updated the patch.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489251006/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489297940","html_url":"https://github.com/apache/druid/pull/7428#issuecomment-489297940","issue_url":"https://api.github.com/repos/apache/druid/issues/7428","id":489297940,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTI5Nzk0MA==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-04T06:06:14Z","updated_at":"2019-05-04T06:06:14Z","author_association":"CONTRIBUTOR","body":"In `128edad` I made some modifications to the implementation along two main lines:\r\n\r\n1) After some consideration, I felt to remove the whole concept of classifying exceptions by their transience as suggested in https://github.com/apache/incubator-druid/pull/7428#discussion_r277116304. I think it added more complexity than value, but more important could mislead users when we incorrectly classify an error as being transient but in reality it will never recover without user intervention. Some examples: in Kafka, `TimeoutException` gets classified as 'transient' if we've previously had a successful run, but without knowing why the timeout is happening, how could you know if it would ever resolve? Is it because the network was congested momentarily, or is it because the Kafka broker got zapped by lightning and is now a smoldering pile of ashes? In Kinesis, the generic `AmazonKinesisException` gets classified as 'non-transient', but I can bet that there is, or if not in a future release will be, a subclass exception that is actually a transient failure that we haven't accounted for because it hasn't been written yet. Bottom line is that it's fragile to try to classify exceptions, so better not try. \r\n\r\n2) In trying to resolve the issue mentioned in https://github.com/apache/incubator-druid/pull/7428#discussion_r278358074 + removing of the transience concept in 1), `SeekableStreamSupervisorStateManager` was fairly heavily modified from the original implementation. Most of the other files remain largely the same. I added some missed state capture points in `SeekableStreamSupervisor` and removed some that were capturing failures in non-run loop code blocks (e.g. I don't want the supervisor reporting an unhealthy state if someone repeatedly hits a status endpoint with a bad request but the main loop is fine).","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489297940/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489342603","html_url":"https://github.com/apache/druid/pull/7590#issuecomment-489342603","issue_url":"https://api.github.com/repos/apache/druid/issues/7590","id":489342603,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTM0MjYwMw==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-04T16:36:15Z","updated_at":"2019-05-04T16:36:54Z","author_association":"CONTRIBUTOR","body":"I think there are still a small set of things missing:\r\n1) Some transition docs describing how Druid should be evaluated (when to use single server, when to use clustered mode)\r\n2) In clustered docs, master/query/data servers should be started via scripts instead of two separate command lines","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489342603/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489382796","html_url":"https://github.com/apache/druid/pull/7066#issuecomment-489382796","issue_url":"https://api.github.com/repos/apache/druid/issues/7066","id":489382796,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTM4Mjc5Ng==","user":{"login":"QiuMM","id":15156517,"node_id":"MDQ6VXNlcjE1MTU2NTE3","avatar_url":"https://avatars.githubusercontent.com/u/15156517?v=4","gravatar_id":"","url":"https://api.github.com/users/QiuMM","html_url":"https://github.com/QiuMM","followers_url":"https://api.github.com/users/QiuMM/followers","following_url":"https://api.github.com/users/QiuMM/following{/other_user}","gists_url":"https://api.github.com/users/QiuMM/gists{/gist_id}","starred_url":"https://api.github.com/users/QiuMM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/QiuMM/subscriptions","organizations_url":"https://api.github.com/users/QiuMM/orgs","repos_url":"https://api.github.com/users/QiuMM/repos","events_url":"https://api.github.com/users/QiuMM/events{/privacy}","received_events_url":"https://api.github.com/users/QiuMM/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-05T02:38:05Z","updated_at":"2019-05-05T03:02:16Z","author_association":"MEMBER","body":"@a2l007 I'm going to complete this PR in next week.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489382796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489396582","html_url":"https://github.com/apache/druid/issues/7581#issuecomment-489396582","issue_url":"https://api.github.com/repos/apache/druid/issues/7581","id":489396582,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTM5NjU4Mg==","user":{"login":"shizhengchao","id":22866465,"node_id":"MDQ6VXNlcjIyODY2NDY1","avatar_url":"https://avatars.githubusercontent.com/u/22866465?v=4","gravatar_id":"","url":"https://api.github.com/users/shizhengchao","html_url":"https://github.com/shizhengchao","followers_url":"https://api.github.com/users/shizhengchao/followers","following_url":"https://api.github.com/users/shizhengchao/following{/other_user}","gists_url":"https://api.github.com/users/shizhengchao/gists{/gist_id}","starred_url":"https://api.github.com/users/shizhengchao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shizhengchao/subscriptions","organizations_url":"https://api.github.com/users/shizhengchao/orgs","repos_url":"https://api.github.com/users/shizhengchao/repos","events_url":"https://api.github.com/users/shizhengchao/events{/privacy}","received_events_url":"https://api.github.com/users/shizhengchao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-05T06:50:14Z","updated_at":"2019-05-05T06:50:14Z","author_association":"NONE","body":"Hi, @DockerLive ，I have the same question. Do you know the answer?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489396582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489405551","html_url":"https://github.com/apache/druid/issues/7592#issuecomment-489405551","issue_url":"https://api.github.com/repos/apache/druid/issues/7592","id":489405551,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTQwNTU1MQ==","user":{"login":"xueyumusic","id":95261,"node_id":"MDQ6VXNlcjk1MjYx","avatar_url":"https://avatars.githubusercontent.com/u/95261?v=4","gravatar_id":"","url":"https://api.github.com/users/xueyumusic","html_url":"https://github.com/xueyumusic","followers_url":"https://api.github.com/users/xueyumusic/followers","following_url":"https://api.github.com/users/xueyumusic/following{/other_user}","gists_url":"https://api.github.com/users/xueyumusic/gists{/gist_id}","starred_url":"https://api.github.com/users/xueyumusic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xueyumusic/subscriptions","organizations_url":"https://api.github.com/users/xueyumusic/orgs","repos_url":"https://api.github.com/users/xueyumusic/repos","events_url":"https://api.github.com/users/xueyumusic/events{/privacy}","received_events_url":"https://api.github.com/users/xueyumusic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-05T08:57:30Z","updated_at":"2019-05-05T08:57:30Z","author_association":"CONTRIBUTOR","body":"It looks that when translating sql to `GroupByQuery`, [granularities is always set as `ALL`](https://github.com/apache/incubator-druid/blob/master/sql/src/main/java/org/apache/druid/sql/calcite/rel/DruidQuery.java#L958).\r\nIs this a bug or specifically setted? @gianm @clintropolis @justinborromeo ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489405551/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489468186","html_url":"https://github.com/apache/druid/pull/7593#issuecomment-489468186","issue_url":"https://api.github.com/repos/apache/druid/issues/7593","id":489468186,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTQ2ODE4Ng==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-05T22:13:42Z","updated_at":"2019-05-05T22:13:42Z","author_association":"CONTRIBUTOR","body":"@sekingme was this PR submitted in error?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489468186/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489488819","html_url":"https://github.com/apache/druid/issues/7571#issuecomment-489488819","issue_url":"https://api.github.com/repos/apache/druid/issues/7571","id":489488819,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTQ4ODgxOQ==","user":{"login":"surekhasaharan","id":13008746,"node_id":"MDQ6VXNlcjEzMDA4NzQ2","avatar_url":"https://avatars.githubusercontent.com/u/13008746?v=4","gravatar_id":"","url":"https://api.github.com/users/surekhasaharan","html_url":"https://github.com/surekhasaharan","followers_url":"https://api.github.com/users/surekhasaharan/followers","following_url":"https://api.github.com/users/surekhasaharan/following{/other_user}","gists_url":"https://api.github.com/users/surekhasaharan/gists{/gist_id}","starred_url":"https://api.github.com/users/surekhasaharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/surekhasaharan/subscriptions","organizations_url":"https://api.github.com/users/surekhasaharan/orgs","repos_url":"https://api.github.com/users/surekhasaharan/repos","events_url":"https://api.github.com/users/surekhasaharan/events{/privacy}","received_events_url":"https://api.github.com/users/surekhasaharan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T02:58:25Z","updated_at":"2019-05-06T02:58:25Z","author_association":"NONE","body":"I feel the mutability of `DataSegment` is still being debated, and the major concern is  recomputation of overshadowed status and building `VersionedIntervalTimeline` on each coordinator API call. So I am addressing the latter with #7595 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489488819/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489500412","html_url":"https://github.com/apache/druid/pull/7528#issuecomment-489500412","issue_url":"https://api.github.com/repos/apache/druid/issues/7528","id":489500412,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTUwMDQxMg==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T04:54:46Z","updated_at":"2019-05-06T04:54:46Z","author_association":"CONTRIBUTOR","body":"Made a number of updates to revive this PR and rebased this branch on top of the Data loader (GUI) #7572 changes.\r\n\r\nSome highlights:\r\n\r\n1. My new changes address feedback from @clintropolis above\r\n\r\n![image](https://user-images.githubusercontent.com/177816/57207105-ce0d0400-6f7f-11e9-850a-1758dd60d190.png)\r\n\r\n2. There is now UI for https://github.com/apache/incubator-druid/issues/7439\r\n\r\n![image](https://user-images.githubusercontent.com/177816/57207118-e8df7880-6f7f-11e9-8bd3-b063735781ed.png)\r\n\r\n![image](https://user-images.githubusercontent.com/177816/57207127-fdbc0c00-6f7f-11e9-8484-d6c5cdfc27fd.png)\r\n\r\n3. Some rewording should address https://github.com/apache/incubator-druid/issues/7506\r\n\r\n4. Some styling fixed for the supervisor status UI (notice the added title also according to feedback from @davidagee )\r\n\r\n![image](https://user-images.githubusercontent.com/177816/57207160-4d023c80-6f80-11e9-9fc7-9ece34b33fe0.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489500412/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489504254","html_url":"https://github.com/apache/druid/issues/7597#issuecomment-489504254","issue_url":"https://api.github.com/repos/apache/druid/issues/7597","id":489504254,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTUwNDI1NA==","user":{"login":"mihai-cazacu-adswizz","id":45362709,"node_id":"MDQ6VXNlcjQ1MzYyNzA5","avatar_url":"https://avatars.githubusercontent.com/u/45362709?v=4","gravatar_id":"","url":"https://api.github.com/users/mihai-cazacu-adswizz","html_url":"https://github.com/mihai-cazacu-adswizz","followers_url":"https://api.github.com/users/mihai-cazacu-adswizz/followers","following_url":"https://api.github.com/users/mihai-cazacu-adswizz/following{/other_user}","gists_url":"https://api.github.com/users/mihai-cazacu-adswizz/gists{/gist_id}","starred_url":"https://api.github.com/users/mihai-cazacu-adswizz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mihai-cazacu-adswizz/subscriptions","organizations_url":"https://api.github.com/users/mihai-cazacu-adswizz/orgs","repos_url":"https://api.github.com/users/mihai-cazacu-adswizz/repos","events_url":"https://api.github.com/users/mihai-cazacu-adswizz/events{/privacy}","received_events_url":"https://api.github.com/users/mihai-cazacu-adswizz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T05:28:08Z","updated_at":"2019-05-06T05:28:08Z","author_association":"NONE","body":"Is there an option to compress that JSON?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489504254/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489504670","html_url":"https://github.com/apache/druid/issues/7597#issuecomment-489504670","issue_url":"https://api.github.com/repos/apache/druid/issues/7597","id":489504670,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTUwNDY3MA==","user":{"login":"mihai-cazacu-adswizz","id":45362709,"node_id":"MDQ6VXNlcjQ1MzYyNzA5","avatar_url":"https://avatars.githubusercontent.com/u/45362709?v=4","gravatar_id":"","url":"https://api.github.com/users/mihai-cazacu-adswizz","html_url":"https://github.com/mihai-cazacu-adswizz","followers_url":"https://api.github.com/users/mihai-cazacu-adswizz/followers","following_url":"https://api.github.com/users/mihai-cazacu-adswizz/following{/other_user}","gists_url":"https://api.github.com/users/mihai-cazacu-adswizz/gists{/gist_id}","starred_url":"https://api.github.com/users/mihai-cazacu-adswizz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mihai-cazacu-adswizz/subscriptions","organizations_url":"https://api.github.com/users/mihai-cazacu-adswizz/orgs","repos_url":"https://api.github.com/users/mihai-cazacu-adswizz/repos","events_url":"https://api.github.com/users/mihai-cazacu-adswizz/events{/privacy}","received_events_url":"https://api.github.com/users/mihai-cazacu-adswizz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T05:32:03Z","updated_at":"2019-05-06T05:32:03Z","author_association":"NONE","body":"There is another [issue](https://github.com/apache/incubator-druid/issues/5008) which is related to this one.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489504670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489518103","html_url":"https://github.com/apache/druid/issues/7597#issuecomment-489518103","issue_url":"https://api.github.com/repos/apache/druid/issues/7597","id":489518103,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTUxODEwMw==","user":{"login":"mihai-cazacu-adswizz","id":45362709,"node_id":"MDQ6VXNlcjQ1MzYyNzA5","avatar_url":"https://avatars.githubusercontent.com/u/45362709?v=4","gravatar_id":"","url":"https://api.github.com/users/mihai-cazacu-adswizz","html_url":"https://github.com/mihai-cazacu-adswizz","followers_url":"https://api.github.com/users/mihai-cazacu-adswizz/followers","following_url":"https://api.github.com/users/mihai-cazacu-adswizz/following{/other_user}","gists_url":"https://api.github.com/users/mihai-cazacu-adswizz/gists{/gist_id}","starred_url":"https://api.github.com/users/mihai-cazacu-adswizz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mihai-cazacu-adswizz/subscriptions","organizations_url":"https://api.github.com/users/mihai-cazacu-adswizz/orgs","repos_url":"https://api.github.com/users/mihai-cazacu-adswizz/repos","events_url":"https://api.github.com/users/mihai-cazacu-adswizz/events{/privacy}","received_events_url":"https://api.github.com/users/mihai-cazacu-adswizz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T06:59:25Z","updated_at":"2019-05-06T06:59:25Z","author_association":"NONE","body":"@zhangxinyu1: Have you met this issue?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489518103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489544904","html_url":"https://github.com/apache/druid/issues/7137#issuecomment-489544904","issue_url":"https://api.github.com/repos/apache/druid/issues/7137","id":489544904,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTU0NDkwNA==","user":{"login":"JinseonyLee","id":26076691,"node_id":"MDQ6VXNlcjI2MDc2Njkx","avatar_url":"https://avatars.githubusercontent.com/u/26076691?v=4","gravatar_id":"","url":"https://api.github.com/users/JinseonyLee","html_url":"https://github.com/JinseonyLee","followers_url":"https://api.github.com/users/JinseonyLee/followers","following_url":"https://api.github.com/users/JinseonyLee/following{/other_user}","gists_url":"https://api.github.com/users/JinseonyLee/gists{/gist_id}","starred_url":"https://api.github.com/users/JinseonyLee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JinseonyLee/subscriptions","organizations_url":"https://api.github.com/users/JinseonyLee/orgs","repos_url":"https://api.github.com/users/JinseonyLee/repos","events_url":"https://api.github.com/users/JinseonyLee/events{/privacy}","received_events_url":"https://api.github.com/users/JinseonyLee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T08:25:45Z","updated_at":"2019-05-06T08:25:45Z","author_association":"CONTRIBUTOR","body":"> I guess that can be solved on the database level setting the correct schema, for example:\r\n> \r\n> ```\r\n> ALTER TABLE prod_segments\r\n>     SET SCHEMA druid;\r\n> ```\r\n\r\nI checked the source code of the scheduler and it only worked if it was 'druid'.\r\nAs you said, it seems to work by changing the schema of every druid meta table one by one. However, because there are many tables in addition to 'prod_segments', I thought it was right to specify a schema for druid access. So I modified the configurable source code.\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489544904/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489585646","html_url":"https://github.com/apache/druid/issues/7597#issuecomment-489585646","issue_url":"https://api.github.com/repos/apache/druid/issues/7597","id":489585646,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTU4NTY0Ng==","user":{"login":"zhangxinyu1","id":12528894,"node_id":"MDQ6VXNlcjEyNTI4ODk0","avatar_url":"https://avatars.githubusercontent.com/u/12528894?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangxinyu1","html_url":"https://github.com/zhangxinyu1","followers_url":"https://api.github.com/users/zhangxinyu1/followers","following_url":"https://api.github.com/users/zhangxinyu1/following{/other_user}","gists_url":"https://api.github.com/users/zhangxinyu1/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangxinyu1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangxinyu1/subscriptions","organizations_url":"https://api.github.com/users/zhangxinyu1/orgs","repos_url":"https://api.github.com/users/zhangxinyu1/repos","events_url":"https://api.github.com/users/zhangxinyu1/events{/privacy}","received_events_url":"https://api.github.com/users/zhangxinyu1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T11:17:39Z","updated_at":"2019-05-06T11:17:39Z","author_association":"CONTRIBUTOR","body":"I think you can increase the value of `druid.indexer.runner.maxZnodeBytes` to avoid this exception. However, less segments will make query faster.  You could try to reduce the number of segments.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489585646/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489592846","html_url":"https://github.com/apache/druid/issues/7597#issuecomment-489592846","issue_url":"https://api.github.com/repos/apache/druid/issues/7597","id":489592846,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTU5Mjg0Ng==","user":{"login":"mihai-cazacu-adswizz","id":45362709,"node_id":"MDQ6VXNlcjQ1MzYyNzA5","avatar_url":"https://avatars.githubusercontent.com/u/45362709?v=4","gravatar_id":"","url":"https://api.github.com/users/mihai-cazacu-adswizz","html_url":"https://github.com/mihai-cazacu-adswizz","followers_url":"https://api.github.com/users/mihai-cazacu-adswizz/followers","following_url":"https://api.github.com/users/mihai-cazacu-adswizz/following{/other_user}","gists_url":"https://api.github.com/users/mihai-cazacu-adswizz/gists{/gist_id}","starred_url":"https://api.github.com/users/mihai-cazacu-adswizz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mihai-cazacu-adswizz/subscriptions","organizations_url":"https://api.github.com/users/mihai-cazacu-adswizz/orgs","repos_url":"https://api.github.com/users/mihai-cazacu-adswizz/repos","events_url":"https://api.github.com/users/mihai-cazacu-adswizz/events{/privacy}","received_events_url":"https://api.github.com/users/mihai-cazacu-adswizz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T11:49:34Z","updated_at":"2019-05-06T11:49:34Z","author_association":"NONE","body":"Thank you, @zhangxinyu1!\r\n\r\nOne more think: do you know if Druid is compressing the JSON before sending it to ZooKeeper?\r\n\r\nIf so, I've found [this](https://github.com/apache/incubator-druid/blob/master/indexing-service/src/main/java/org/apache/druid/indexing/overlord/RemoteTaskRunner.java#L859) line of code and the [verification](https://github.com/apache/incubator-druid/blob/master/server/src/main/java/org/apache/druid/curator/CuratorUtils.java#L48) is over the uncompressed JSON. Isn't this a bug? The size check shouldn't be done using the length of the compressed data?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489592846/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489593892","html_url":"https://github.com/apache/druid/issues/7597#issuecomment-489593892","issue_url":"https://api.github.com/repos/apache/druid/issues/7597","id":489593892,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTU5Mzg5Mg==","user":{"login":"mihai-cazacu-adswizz","id":45362709,"node_id":"MDQ6VXNlcjQ1MzYyNzA5","avatar_url":"https://avatars.githubusercontent.com/u/45362709?v=4","gravatar_id":"","url":"https://api.github.com/users/mihai-cazacu-adswizz","html_url":"https://github.com/mihai-cazacu-adswizz","followers_url":"https://api.github.com/users/mihai-cazacu-adswizz/followers","following_url":"https://api.github.com/users/mihai-cazacu-adswizz/following{/other_user}","gists_url":"https://api.github.com/users/mihai-cazacu-adswizz/gists{/gist_id}","starred_url":"https://api.github.com/users/mihai-cazacu-adswizz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mihai-cazacu-adswizz/subscriptions","organizations_url":"https://api.github.com/users/mihai-cazacu-adswizz/orgs","repos_url":"https://api.github.com/users/mihai-cazacu-adswizz/repos","events_url":"https://api.github.com/users/mihai-cazacu-adswizz/events{/privacy}","received_events_url":"https://api.github.com/users/mihai-cazacu-adswizz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T11:53:43Z","updated_at":"2019-05-06T11:53:43Z","author_association":"NONE","body":"About reducing the number of segments: we cannot do this. In the near feature will even grow.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489593892/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489661319","html_url":"https://github.com/apache/druid/issues/7548#issuecomment-489661319","issue_url":"https://api.github.com/repos/apache/druid/issues/7548","id":489661319,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTY2MTMxOQ==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T15:23:23Z","updated_at":"2019-05-06T15:23:23Z","author_association":"CONTRIBUTOR","body":"We have reworked that button and added more actions to each data source as part of: https://github.com/apache/incubator-druid/pull/7528\r\n\r\n![image](https://user-images.githubusercontent.com/177816/57235610-1f48e200-6fd8-11e9-8671-e26023d30519.png)\r\n\r\nHopefully that change will address this issue as it make the Actions column much narrower.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489661319/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489661568","html_url":"https://github.com/apache/druid/issues/7548#issuecomment-489661568","issue_url":"https://api.github.com/repos/apache/druid/issues/7548","id":489661568,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTY2MTU2OA==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T15:24:08Z","updated_at":"2019-05-06T15:24:08Z","author_association":"CONTRIBUTOR","body":"@clintropolis I believe this can be closed now (also tag plz!)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489661568/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489662121","html_url":"https://github.com/apache/druid/issues/7502#issuecomment-489662121","issue_url":"https://api.github.com/repos/apache/druid/issues/7502","id":489662121,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTY2MjEyMQ==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T15:25:38Z","updated_at":"2019-05-06T15:25:38Z","author_association":"CONTRIBUTOR","body":"The batch parts of this proposal have been merged and are working nicely together. Now we need to add the streaming components also.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489662121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489689803","html_url":"https://github.com/apache/druid/issues/1198#issuecomment-489689803","issue_url":"https://api.github.com/repos/apache/druid/issues/1198","id":489689803,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTY4OTgwMw==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T16:47:20Z","updated_at":"2019-05-06T16:47:20Z","author_association":"CONTRIBUTOR","body":"I believe this has been fixed a while ago (@clintropolis I think this can be closed)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489689803/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489710398","html_url":"https://github.com/apache/druid/issues/6726#issuecomment-489710398","issue_url":"https://api.github.com/repos/apache/druid/issues/6726","id":489710398,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTcxMDM5OA==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T17:46:49Z","updated_at":"2019-05-06T17:46:49Z","author_association":"CONTRIBUTOR","body":"Is this still an issue in the latest code?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489710398/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489712287","html_url":"https://github.com/apache/druid/issues/6507#issuecomment-489712287","issue_url":"https://api.github.com/repos/apache/druid/issues/6507","id":489712287,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTcxMjI4Nw==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T17:52:06Z","updated_at":"2019-05-06T17:52:06Z","author_association":"CONTRIBUTOR","body":"Which API are you referring to specifically?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489712287/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489717877","html_url":"https://github.com/apache/druid/pull/6948#issuecomment-489717877","issue_url":"https://api.github.com/repos/apache/druid/issues/6948","id":489717877,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTcxNzg3Nw==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T18:07:14Z","updated_at":"2019-05-06T18:07:14Z","author_association":"NONE","body":"This pull request has been marked as stale due to 60 days of inactivity. It will be closed in 1 week if no further activity occurs. If you think that’s incorrect or this pull request requires a review, please simply write any comment. If closed, you can revive the PR at any time and @mention a reviewer or discuss it on the dev@druid.apache.org list. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489717877/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489742109","html_url":"https://github.com/apache/druid/pull/7590#issuecomment-489742109","issue_url":"https://api.github.com/repos/apache/druid/issues/7590","id":489742109,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTc0MjEwOQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T19:19:52Z","updated_at":"2019-05-06T19:20:27Z","author_association":"CONTRIBUTOR","body":"> Some transition docs describing how Druid should be evaluated (when to use single server, when to use clustered mode)\r\n\r\n> In clustered docs, master/query/data servers should be started via scripts instead of two separate command lines\r\n\r\nI'm working on another doc-only update PR that will provide guidance on important performance tuning properties, which will also adjust the current cluster.md docs and address these points.\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489742109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489745237","html_url":"https://github.com/apache/druid/pull/7590#issuecomment-489745237","issue_url":"https://api.github.com/repos/apache/druid/issues/7590","id":489745237,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTc0NTIzNw==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T19:29:54Z","updated_at":"2019-05-06T19:29:54Z","author_association":"CONTRIBUTOR","body":"> > Some transition docs describing how Druid should be evaluated (when to use single server, when to use clustered mode)\r\n> \r\n> > In clustered docs, master/query/data servers should be started via scripts instead of two separate command lines\r\n> \r\n> I'm working on another doc-only update PR that will provide guidance on important performance tuning properties, which will also adjust the current cluster.md docs and address these points.\r\n\r\nCool. Maybe the ToC should reflect the path to production. Laptop --> Single Server --> Clustering (non-HA) --> Clustering (HA)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489745237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489756053","html_url":"https://github.com/apache/druid/pull/7590#issuecomment-489756053","issue_url":"https://api.github.com/repos/apache/druid/issues/7590","id":489756053,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTc1NjA1Mw==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T20:03:27Z","updated_at":"2019-05-06T20:03:27Z","author_association":"CONTRIBUTOR","body":"> Cool. Maybe the ToC should reflect the path to production. Laptop --> Single Server --> Clustering (non-HA) --> Clustering (HA)\r\n\r\nSounds good, I'll add that structure in the follow-on PR","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489756053/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489759668","html_url":"https://github.com/apache/druid/pull/6567#issuecomment-489759668","issue_url":"https://api.github.com/repos/apache/druid/issues/6567","id":489759668,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTc1OTY2OA==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T20:14:01Z","updated_at":"2019-05-06T20:14:01Z","author_association":"CONTRIBUTOR","body":"This would totally make sense as a part of the new console #6832 if someone wants to revive the API side then adding the UI would be very simple.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489759668/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489759797","html_url":"https://github.com/apache/druid/issues/6214#issuecomment-489759797","issue_url":"https://api.github.com/repos/apache/druid/issues/6214","id":489759797,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTc1OTc5Nw==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T20:14:26Z","updated_at":"2019-05-06T20:14:26Z","author_association":"CONTRIBUTOR","body":"Would love to add this to the new console #6832","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489759797/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489762176","html_url":"https://github.com/apache/druid/issues/7584#issuecomment-489762176","issue_url":"https://api.github.com/repos/apache/druid/issues/7584","id":489762176,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTc2MjE3Ng==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T20:21:31Z","updated_at":"2019-05-06T20:21:31Z","author_association":"CONTRIBUTOR","body":"@vogievetsky here is an example:\r\n\r\n1. MySQL query with `GROUP BY` using variable `s`\r\n```sql\r\n\r\nselect count(*), dataSource AS s\r\nfrom druid_rules\r\ngroup by s;\r\n```\r\nWorks as expected\r\n\r\n2. Druid SQL query with `GROUP BY` using variable `gran` :\r\n```sql\r\nSELECT sum (\"mem_used\") as memUsed, TIME_FLOOR(\"__time\", 'PT2S') as gran\r\nFROM \"metrics\" \r\nWHERE \"__time\" >= TIMESTAMP '2019-05-06 19:32:42' AND \"__time\" < TIMESTAMP '2019-05-06 19:32:48'  \r\nGROUP BY  gran\r\n```\r\n\r\nResult:\r\n```\r\nBad Request: Unknown exception: org.apache.calcite.runtime.CalciteContextException:  Column 'gran' not found in any table\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489762176/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489765990","html_url":"https://github.com/apache/druid/issues/4373#issuecomment-489765990","issue_url":"https://api.github.com/repos/apache/druid/issues/4373","id":489765990,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTc2NTk5MA==","user":{"login":"cparaskeva","id":2951462,"node_id":"MDQ6VXNlcjI5NTE0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2951462?v=4","gravatar_id":"","url":"https://api.github.com/users/cparaskeva","html_url":"https://github.com/cparaskeva","followers_url":"https://api.github.com/users/cparaskeva/followers","following_url":"https://api.github.com/users/cparaskeva/following{/other_user}","gists_url":"https://api.github.com/users/cparaskeva/gists{/gist_id}","starred_url":"https://api.github.com/users/cparaskeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cparaskeva/subscriptions","organizations_url":"https://api.github.com/users/cparaskeva/orgs","repos_url":"https://api.github.com/users/cparaskeva/repos","events_url":"https://api.github.com/users/cparaskeva/events{/privacy}","received_events_url":"https://api.github.com/users/cparaskeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T20:33:10Z","updated_at":"2019-05-06T20:33:10Z","author_association":"NONE","body":"Hello! Is this feature finally realized? Any related documentation on this?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489765990/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489768496","html_url":"https://github.com/apache/druid/issues/7584#issuecomment-489768496","issue_url":"https://api.github.com/repos/apache/druid/issues/7584","id":489768496,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTc2ODQ5Ng==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T20:40:54Z","updated_at":"2019-05-06T20:40:54Z","author_association":"CONTRIBUTOR","body":"This example:\r\n```\r\nselect count(*), dataSource AS s\r\nfrom druid_rules\r\ngroup by s;\r\n```\r\n\r\nis not the same type of query as\r\n```\r\nSELECT \"cluster\", sum (\"mem_limit\") as memTotal, sum (\"mem_used\") as memUsed,  \r\n(memUsed*100.0/memTotal)  as pct  /*this causes problems*/\r\nFROM \"metrics\"\r\nWHERE   \"__time\" >= TIMESTAMP '2019-04-30 20:17:46' AND \"__time\" < TIMESTAMP '2019-04-30 20:17:48'   \r\ngroup by \"cluster\"\r\n```\r\nSee the following:\r\n\r\n```\r\nmysql> select count(*), SUM(partitioned) as psum, (psum*100.0) as psumhundred, dataSource AS s from druid_segments group by s;\r\nERROR 1054 (42S22): Unknown column 'psum' in 'field list'\r\n```\r\n\r\n```\r\nmysql> select count(*), SUM(partitioned) as psum, (SUM(partitioned)*100.0) as psumhundred, dataSource AS s from druid_segments group by s;\r\n+----------+------+-------------+------------+\r\n| count(*) | psum | psumhundred | s          |\r\n+----------+------+-------------+------------+\r\n|        1 |    1 |       100.0 | wikipedia  |\r\n|       44 |   44 |      4400.0 | wikipedia2 |\r\n+----------+------+-------------+------------+\r\n2 rows in set (0.00 sec)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489768496/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489778852","html_url":"https://github.com/apache/druid/issues/7584#issuecomment-489778852","issue_url":"https://api.github.com/repos/apache/druid/issues/7584","id":489778852,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTc3ODg1Mg==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T21:13:20Z","updated_at":"2019-05-06T21:13:20Z","author_association":"CONTRIBUTOR","body":"you are right. \r\nbut it does seem my second comment (with the group by example) is a genuine issue.\r\nnot sure if that should be moved to a separate bug or not.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489778852/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489819616","html_url":"https://github.com/apache/druid/issues/4373#issuecomment-489819616","issue_url":"https://api.github.com/repos/apache/druid/issues/4373","id":489819616,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTgxOTYxNg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T23:09:30Z","updated_at":"2019-05-06T23:09:30Z","author_association":"CONTRIBUTOR","body":"Ah ha, it is. It was introduced in #5081. However, at present, you do need to implement a custom extension to get it (none of the builtin parsers will split out messages into multiple rows). I expect we will add that functionality at some point, but have not yet.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489819616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489822548","html_url":"https://github.com/apache/druid/issues/410#issuecomment-489822548","issue_url":"https://api.github.com/repos/apache/druid/issues/410","id":489822548,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTgyMjU0OA==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T23:23:41Z","updated_at":"2019-05-06T23:23:41Z","author_association":"CONTRIBUTOR","body":"This has been addressed in all consoles (old and new #6832) @fjy this can be closed","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489822548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489823662","html_url":"https://github.com/apache/druid/issues/6924#issuecomment-489823662","issue_url":"https://api.github.com/repos/apache/druid/issues/6924","id":489823662,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTgyMzY2Mg==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T23:29:30Z","updated_at":"2019-05-06T23:29:30Z","author_association":"CONTRIBUTOR","body":"Can this issue be marked as resolved?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489823662/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489827975","html_url":"https://github.com/apache/druid/issues/3000#issuecomment-489827975","issue_url":"https://api.github.com/repos/apache/druid/issues/3000","id":489827975,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTgyNzk3NQ==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T23:51:14Z","updated_at":"2019-05-06T23:51:14Z","author_association":"CONTRIBUTOR","body":"This is possible now via http://druid.io/docs/latest/misc/math-expr.html","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489827975/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489828625","html_url":"https://github.com/apache/druid/issues/7432#issuecomment-489828625","issue_url":"https://api.github.com/repos/apache/druid/issues/7432","id":489828625,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTgyODYyNQ==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-06T23:54:37Z","updated_at":"2019-05-06T23:54:37Z","author_association":"CONTRIBUTOR","body":"If changing the metadata storage to derby fixes the issue it is likely not a network issue but rather an issue with you metadata store. How was it installed?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489828625/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489863426","html_url":"https://github.com/apache/druid/pull/7598#issuecomment-489863426","issue_url":"https://api.github.com/repos/apache/druid/issues/7598","id":489863426,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTg2MzQyNg==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-07T00:49:04Z","updated_at":"2019-05-07T00:49:04Z","author_association":"CONTRIBUTOR","body":"@jihoonson \r\n\r\n> Also I tested the command in the doc, it emitted the below error. Would you check it please?\r\n\r\nI fixed this, I had simplified the example command too much and left out `-Ddruid.extensions.loadList=[]`, thanks","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489863426/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489865916","html_url":"https://github.com/apache/druid/pull/7602#issuecomment-489865916","issue_url":"https://api.github.com/repos/apache/druid/issues/7602","id":489865916,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTg2NTkxNg==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-07T01:02:02Z","updated_at":"2019-05-07T01:02:02Z","author_association":"CONTRIBUTOR","body":"oohhh, I wonder how many regex matchers on logs out there are going to fail to alert when using java 11","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489865916/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489866247","html_url":"https://github.com/apache/druid/issues/7599#issuecomment-489866247","issue_url":"https://api.github.com/repos/apache/druid/issues/7599","id":489866247,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTg2NjI0Nw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-07T01:03:59Z","updated_at":"2019-05-07T01:03:59Z","author_association":"CONTRIBUTOR","body":"@DockerLive, according to this note on the doc page, this aggregator cannot be used at ingestion time:\r\n\r\n> (Double/Float/Long) First and Last aggregator cannot be used in ingestion spec, and should only be specified as part of queries.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489866247/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489866800","html_url":"https://github.com/apache/druid/issues/7592#issuecomment-489866800","issue_url":"https://api.github.com/repos/apache/druid/issues/7592","id":489866800,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTg2NjgwMA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-07T01:07:01Z","updated_at":"2019-05-07T01:07:01Z","author_association":"CONTRIBUTOR","body":"I can't find the issue number right now, but essentially the reason for this is that 'granularity' for groupBy does not work the way that you would expect for a SQL GROUP BY when there's an ORDER BY or a LIMIT clause, so it cannot be used by the SQL planner. I think the issue was that dimension ordering is applied within each granular bucket for groupBy, rather than across all buckets as you would expect with SQL.\r\n\r\nHowever, I would like to optimize the execution of `FLOOR(__time TO DAY)` enough that this is not an issue perf-wise. That seems like a good direction to me.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489866800/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489866850","html_url":"https://github.com/apache/druid/issues/7581#issuecomment-489866850","issue_url":"https://api.github.com/repos/apache/druid/issues/7581","id":489866850,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTg2Njg1MA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-07T01:07:21Z","updated_at":"2019-05-07T01:07:21Z","author_association":"CONTRIBUTOR","body":"See #7592 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489866850/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489868477","html_url":"https://github.com/apache/druid/pull/7590#issuecomment-489868477","issue_url":"https://api.github.com/repos/apache/druid/issues/7590","id":489868477,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTg2ODQ3Nw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-07T01:16:07Z","updated_at":"2019-05-07T01:16:07Z","author_association":"CONTRIBUTOR","body":"> Cool. Maybe the ToC should reflect the path to production. Laptop --> Single Server --> Clustering (non-HA) --> Clustering (HA)\r\n\r\nBy the way, I don't think there's a need to separate 'laptop' and 'single server' (people can treat their laptop as a single server if they want to - there is really no meaningful difference). I also don't think there's a need to separate 'Clustering (non HA)' from 'Clustering (HA)' (HA should just be a section at the end of the clustering docs).","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489868477/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489883164","html_url":"https://github.com/apache/druid/issues/7599#issuecomment-489883164","issue_url":"https://api.github.com/repos/apache/druid/issues/7599","id":489883164,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTg4MzE2NA==","user":{"login":"DockerLive","id":16477531,"node_id":"MDQ6VXNlcjE2NDc3NTMx","avatar_url":"https://avatars.githubusercontent.com/u/16477531?v=4","gravatar_id":"","url":"https://api.github.com/users/DockerLive","html_url":"https://github.com/DockerLive","followers_url":"https://api.github.com/users/DockerLive/followers","following_url":"https://api.github.com/users/DockerLive/following{/other_user}","gists_url":"https://api.github.com/users/DockerLive/gists{/gist_id}","starred_url":"https://api.github.com/users/DockerLive/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DockerLive/subscriptions","organizations_url":"https://api.github.com/users/DockerLive/orgs","repos_url":"https://api.github.com/users/DockerLive/repos","events_url":"https://api.github.com/users/DockerLive/events{/privacy}","received_events_url":"https://api.github.com/users/DockerLive/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-07T02:30:49Z","updated_at":"2019-05-07T02:30:49Z","author_association":"NONE","body":"> @DockerLive, according to this note on the doc page, this aggregator cannot be used at ingestion time:\r\n> \r\n> > (Double/Float/Long) First and Last aggregator cannot be used in ingestion spec, and should only be specified as part of queries.\r\n\r\nOh, I see that. Thank you~!\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489883164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489889067","html_url":"https://github.com/apache/druid/issues/7243#issuecomment-489889067","issue_url":"https://api.github.com/repos/apache/druid/issues/7243","id":489889067,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTg4OTA2Nw==","user":{"login":"DockerLive","id":16477531,"node_id":"MDQ6VXNlcjE2NDc3NTMx","avatar_url":"https://avatars.githubusercontent.com/u/16477531?v=4","gravatar_id":"","url":"https://api.github.com/users/DockerLive","html_url":"https://github.com/DockerLive","followers_url":"https://api.github.com/users/DockerLive/followers","following_url":"https://api.github.com/users/DockerLive/following{/other_user}","gists_url":"https://api.github.com/users/DockerLive/gists{/gist_id}","starred_url":"https://api.github.com/users/DockerLive/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DockerLive/subscriptions","organizations_url":"https://api.github.com/users/DockerLive/orgs","repos_url":"https://api.github.com/users/DockerLive/repos","events_url":"https://api.github.com/users/DockerLive/events{/privacy}","received_events_url":"https://api.github.com/users/DockerLive/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-07T03:01:43Z","updated_at":"2019-05-07T03:01:43Z","author_association":"NONE","body":"I saw this message in the latest version :\r\n(Double/Float/Long) First and Last aggregator cannot be used in ingestion spec, and should only be specified as part of queries.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489889067/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489926580","html_url":"https://github.com/apache/druid/issues/4373#issuecomment-489926580","issue_url":"https://api.github.com/repos/apache/druid/issues/4373","id":489926580,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTkyNjU4MA==","user":{"login":"cparaskeva","id":2951462,"node_id":"MDQ6VXNlcjI5NTE0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2951462?v=4","gravatar_id":"","url":"https://api.github.com/users/cparaskeva","html_url":"https://github.com/cparaskeva","followers_url":"https://api.github.com/users/cparaskeva/followers","following_url":"https://api.github.com/users/cparaskeva/following{/other_user}","gists_url":"https://api.github.com/users/cparaskeva/gists{/gist_id}","starred_url":"https://api.github.com/users/cparaskeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cparaskeva/subscriptions","organizations_url":"https://api.github.com/users/cparaskeva/orgs","repos_url":"https://api.github.com/users/cparaskeva/repos","events_url":"https://api.github.com/users/cparaskeva/events{/privacy}","received_events_url":"https://api.github.com/users/cparaskeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-07T06:30:16Z","updated_at":"2019-05-07T06:30:16Z","author_association":"NONE","body":"@gianm Thank you! You just made my day! I supose you are referring to the so-called [druid module](http://druid.io/docs/latest/development/modules.html) ? Is there any code-ready module you have in mind ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489926580/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/489999174","html_url":"https://github.com/apache/druid/issues/7485#issuecomment-489999174","issue_url":"https://api.github.com/repos/apache/druid/issues/7485","id":489999174,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTk5OTE3NA==","user":{"login":"dutta1kartik3","id":6983483,"node_id":"MDQ6VXNlcjY5ODM0ODM=","avatar_url":"https://avatars.githubusercontent.com/u/6983483?v=4","gravatar_id":"","url":"https://api.github.com/users/dutta1kartik3","html_url":"https://github.com/dutta1kartik3","followers_url":"https://api.github.com/users/dutta1kartik3/followers","following_url":"https://api.github.com/users/dutta1kartik3/following{/other_user}","gists_url":"https://api.github.com/users/dutta1kartik3/gists{/gist_id}","starred_url":"https://api.github.com/users/dutta1kartik3/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dutta1kartik3/subscriptions","organizations_url":"https://api.github.com/users/dutta1kartik3/orgs","repos_url":"https://api.github.com/users/dutta1kartik3/repos","events_url":"https://api.github.com/users/dutta1kartik3/events{/privacy}","received_events_url":"https://api.github.com/users/dutta1kartik3/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-07T09:07:05Z","updated_at":"2019-05-07T09:07:05Z","author_association":"NONE","body":"@shizhengchao How did you solve this issue ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/489999174/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/490073599","html_url":"https://github.com/apache/druid/issues/6996#issuecomment-490073599","issue_url":"https://api.github.com/repos/apache/druid/issues/6996","id":490073599,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDA3MzU5OQ==","user":{"login":"abossenbroek","id":7729,"node_id":"MDQ6VXNlcjc3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/7729?v=4","gravatar_id":"","url":"https://api.github.com/users/abossenbroek","html_url":"https://github.com/abossenbroek","followers_url":"https://api.github.com/users/abossenbroek/followers","following_url":"https://api.github.com/users/abossenbroek/following{/other_user}","gists_url":"https://api.github.com/users/abossenbroek/gists{/gist_id}","starred_url":"https://api.github.com/users/abossenbroek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abossenbroek/subscriptions","organizations_url":"https://api.github.com/users/abossenbroek/orgs","repos_url":"https://api.github.com/users/abossenbroek/repos","events_url":"https://api.github.com/users/abossenbroek/events{/privacy}","received_events_url":"https://api.github.com/users/abossenbroek/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-07T13:12:58Z","updated_at":"2019-05-07T13:13:13Z","author_association":"NONE","body":"Just ran into that issue, how do I resolve it? Happy to add a comment section once I resolve it.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/490073599/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/490081669","html_url":"https://github.com/apache/druid/issues/7597#issuecomment-490081669","issue_url":"https://api.github.com/repos/apache/druid/issues/7597","id":490081669,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDA4MTY2OQ==","user":{"login":"mihai-cazacu-adswizz","id":45362709,"node_id":"MDQ6VXNlcjQ1MzYyNzA5","avatar_url":"https://avatars.githubusercontent.com/u/45362709?v=4","gravatar_id":"","url":"https://api.github.com/users/mihai-cazacu-adswizz","html_url":"https://github.com/mihai-cazacu-adswizz","followers_url":"https://api.github.com/users/mihai-cazacu-adswizz/followers","following_url":"https://api.github.com/users/mihai-cazacu-adswizz/following{/other_user}","gists_url":"https://api.github.com/users/mihai-cazacu-adswizz/gists{/gist_id}","starred_url":"https://api.github.com/users/mihai-cazacu-adswizz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mihai-cazacu-adswizz/subscriptions","organizations_url":"https://api.github.com/users/mihai-cazacu-adswizz/orgs","repos_url":"https://api.github.com/users/mihai-cazacu-adswizz/repos","events_url":"https://api.github.com/users/mihai-cazacu-adswizz/events{/privacy}","received_events_url":"https://api.github.com/users/mihai-cazacu-adswizz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-07T13:34:16Z","updated_at":"2019-05-08T06:56:51Z","author_association":"NONE","body":"I have increased the `druid.indexer.runner.maxZnodeBytes` value to `2.5MB` and everything worked fine until the Supervisor reached an interval with many segments (the [created JSON](https://github.com/apache/incubator-druid/blob/master/indexing-service/src/main/java/org/apache/druid/indexing/overlord/RemoteTaskRunner.java#L863) has ~ `1.5MB`). Starting from this point,  the `Waiting Tasks - Tasks waiting on locks` section in Overlord was filled with dozens of MV tasks (for the same data source: `index_materialized_view_test_2019-05-07...`). \r\n\r\nThe error:\r\n\r\n```\r\nERROR [LeaderSelector[/druid/druid-prod/overlord/_OVERLORD]] org.apache.druid.curator.discovery.CuratorDruidLeaderSelector - listener becomeLeader() failed. Unable to become leader: {class=org.apache.druid.curator.discovery.CuratorDruidLeaderSelector, exceptionType=class org.apache.druid.java.util.common.ISE, exceptionMessage=Could not reacquire lock on interval[2019-02-21T00:00:00.000Z/2019-02-22T00:00:00.000Z] version[2019-05-07T11:24:03.543Z] for task: index_materialized_view_test_2019-05-07T11:16:05.026Z}\r\norg.apache.druid.java.util.common.ISE: Could not reacquire lock on interval[2019-02-21T00:00:00.000Z/2019-02-22T00:00:00.000Z] version[2019-05-07T11:24:03.543Z] for task: index_materialized_view_test_2019-05-07T11:16:05.026Z\r\n        at org.apache.druid.indexing.overlord.TaskLockbox.syncFromStorage(TaskLockbox.java:171) ~[druid-indexing-service-0.13.0-incubating.jar:0.13.0-incubating]\r\n        at org.apache.druid.indexing.overlord.TaskMaster$1.becomeLeader(TaskMaster.java:109) ~[druid-indexing-service-0.13.0-incubating.jar:0.13.0-incubating]\r\n        at org.apache.druid.curator.discovery.CuratorDruidLeaderSelector$1.isLeader(CuratorDruidLeaderSelector.java:98) [druid-server-0.13.0-incubating.jar:0.13.0-incubating]\r\n        at org.apache.curator.framework.recipes.leader.LeaderLatch$9.apply(LeaderLatch.java:665) [curator-recipes-4.0.0.jar:4.0.0]\r\n        at org.apache.curator.framework.recipes.leader.LeaderLatch$9.apply(LeaderLatch.java:661) [curator-recipes-4.0.0.jar:4.0.0]\r\n        at org.apache.curator.framework.listen.ListenerContainer$1.run(ListenerContainer.java:93) [curator-framework-4.0.0.jar:4.0.0]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_201]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_201]\r\n        at java.lang.Thread.run(Thread.java:748) [?:1.8.0_201]\r\n```\r\n\r\nBecause of this error, the Overlord has stopped to respond.\r\n\r\nAlso, all those waiting tasks have the same payload. If I don't suspend the Supervisor, the waiting tasks are keep growing.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/490081669/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/490091539","html_url":"https://github.com/apache/druid/issues/6507#issuecomment-490091539","issue_url":"https://api.github.com/repos/apache/druid/issues/6507","id":490091539,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDA5MTUzOQ==","user":{"login":"egor-ryashin","id":14215045,"node_id":"MDQ6VXNlcjE0MjE1MDQ1","avatar_url":"https://avatars.githubusercontent.com/u/14215045?v=4","gravatar_id":"","url":"https://api.github.com/users/egor-ryashin","html_url":"https://github.com/egor-ryashin","followers_url":"https://api.github.com/users/egor-ryashin/followers","following_url":"https://api.github.com/users/egor-ryashin/following{/other_user}","gists_url":"https://api.github.com/users/egor-ryashin/gists{/gist_id}","starred_url":"https://api.github.com/users/egor-ryashin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egor-ryashin/subscriptions","organizations_url":"https://api.github.com/users/egor-ryashin/orgs","repos_url":"https://api.github.com/users/egor-ryashin/repos","events_url":"https://api.github.com/users/egor-ryashin/events{/privacy}","received_events_url":"https://api.github.com/users/egor-ryashin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-07T13:58:44Z","updated_at":"2019-05-07T13:58:44Z","author_association":"CONTRIBUTOR","body":"@vogievetsky I updated the description.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/490091539/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/490093475","html_url":"https://github.com/apache/druid/issues/6905#issuecomment-490093475","issue_url":"https://api.github.com/repos/apache/druid/issues/6905","id":490093475,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDA5MzQ3NQ==","user":{"login":"Stephan3555","id":2537072,"node_id":"MDQ6VXNlcjI1MzcwNzI=","avatar_url":"https://avatars.githubusercontent.com/u/2537072?v=4","gravatar_id":"","url":"https://api.github.com/users/Stephan3555","html_url":"https://github.com/Stephan3555","followers_url":"https://api.github.com/users/Stephan3555/followers","following_url":"https://api.github.com/users/Stephan3555/following{/other_user}","gists_url":"https://api.github.com/users/Stephan3555/gists{/gist_id}","starred_url":"https://api.github.com/users/Stephan3555/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Stephan3555/subscriptions","organizations_url":"https://api.github.com/users/Stephan3555/orgs","repos_url":"https://api.github.com/users/Stephan3555/repos","events_url":"https://api.github.com/users/Stephan3555/events{/privacy}","received_events_url":"https://api.github.com/users/Stephan3555/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-07T14:03:30Z","updated_at":"2019-05-07T14:03:30Z","author_association":"NONE","body":"Nope, still occurs in Druid 0.14.0\r\n\r\n`\r\n2019-05-07T13:55:18,998 WARN [ZkCoordinator] com.amazonaws.services.s3.internal.S3AbortableInputStream - Not all bytes were read from the S3ObjectInputStream, aborting HTTP connection. This is likely an error and may result in sub-optimal behavior. Request only the bytes you need via a ranged GET or drain the input stream after use.\r\n`\r\n\r\nAnyone experience this as well?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/490093475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/490134448","html_url":"https://github.com/apache/druid/issues/7192#issuecomment-490134448","issue_url":"https://api.github.com/repos/apache/druid/issues/7192","id":490134448,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDEzNDQ0OA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-07T15:41:25Z","updated_at":"2019-05-07T15:41:25Z","author_association":"CONTRIBUTOR","body":"I don't think this bug is a blocker for 0.15.0 release because it was partially fixed in #7203. I'm rescheduling this to 0.16.0.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/490134448/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/490136828","html_url":"https://github.com/apache/druid/pull/6683#issuecomment-490136828","issue_url":"https://api.github.com/repos/apache/druid/issues/6683","id":490136828,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDEzNjgyOA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-07T15:47:21Z","updated_at":"2019-05-07T15:47:21Z","author_association":"CONTRIBUTOR","body":"@kaijianding would you please fix the conflicts and check @leventov's latest comments? BTW, I'm untagging milestone since this issue is not necessarily a release blocker. Feel free to let me know if you think this should be.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/490136828/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/490137437","html_url":"https://github.com/apache/druid/pull/6698#issuecomment-490137437","issue_url":"https://api.github.com/repos/apache/druid/issues/6698","id":490137437,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDEzNzQzNw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-07T15:48:52Z","updated_at":"2019-05-07T15:48:52Z","author_association":"CONTRIBUTOR","body":"@kaijianding would you please check @himanshug's comment? BTW, I'm untagging milestone since this issue is not necessarily a release blocker. Feel free to let me know if you think this should be.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/490137437/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/490138190","html_url":"https://github.com/apache/druid/pull/6699#issuecomment-490138190","issue_url":"https://api.github.com/repos/apache/druid/issues/6699","id":490138190,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDEzODE5MA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-07T15:50:43Z","updated_at":"2019-05-07T15:50:43Z","author_association":"CONTRIBUTOR","body":"I'm untagging milestone since this issue is not necessarily a release blocker. Feel free to let me know if you think this should be.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/490138190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/490140892","html_url":"https://github.com/apache/druid/pull/6917#issuecomment-490140892","issue_url":"https://api.github.com/repos/apache/druid/issues/6917","id":490140892,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDE0MDg5Mg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-07T15:57:36Z","updated_at":"2019-05-07T15:57:36Z","author_association":"CONTRIBUTOR","body":"I'm untagging milestone since this issue is not necessarily a release blocker. Feel free to let me know if you think this should be.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/490140892/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]