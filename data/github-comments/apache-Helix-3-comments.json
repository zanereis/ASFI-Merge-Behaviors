[{"url":"https://api.github.com/repos/apache/helix/issues/comments/384378573","html_url":"https://github.com/apache/helix/pull/199#issuecomment-384378573","issue_url":"https://api.github.com/repos/apache/helix/issues/199","id":384378573,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDM3ODU3Mw==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-25T17:59:30Z","updated_at":"2018-04-25T19:42:01Z","author_association":"CONTRIBUTOR","body":"Snapshots\r\n\r\n![index](https://user-images.githubusercontent.com/1803880/39263645-ab6e7bd4-4877-11e8-9e02-23aca0e42986.png)\r\n[Apache Helix - Helix Monitoring Metrics.pdf](https://github.com/apache/helix/files/1948241/Apache.Helix.-.Helix.Monitoring.Metrics.pdf)\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/384378573/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/385464365","html_url":"https://github.com/apache/helix/pull/201#issuecomment-385464365","issue_url":"https://api.github.com/repos/apache/helix/issues/201","id":385464365,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NTQ2NDM2NQ==","user":{"login":"zhan849","id":3003026,"node_id":"MDQ6VXNlcjMwMDMwMjY=","avatar_url":"https://avatars.githubusercontent.com/u/3003026?v=4","gravatar_id":"","url":"https://api.github.com/users/zhan849","html_url":"https://github.com/zhan849","followers_url":"https://api.github.com/users/zhan849/followers","following_url":"https://api.github.com/users/zhan849/following{/other_user}","gists_url":"https://api.github.com/users/zhan849/gists{/gist_id}","starred_url":"https://api.github.com/users/zhan849/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhan849/subscriptions","organizations_url":"https://api.github.com/users/zhan849/orgs","repos_url":"https://api.github.com/users/zhan849/repos","events_url":"https://api.github.com/users/zhan849/events{/privacy}","received_events_url":"https://api.github.com/users/zhan849/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-30T17:10:47Z","updated_at":"2018-04-30T17:10:47Z","author_association":"CONTRIBUTOR","body":"1. IDEs are already doing NPE checking for us.\r\n2. You are just detecting null and throw another exception, how's it different than NPE?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/385464365/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/385582413","html_url":"https://github.com/apache/helix/pull/201#issuecomment-385582413","issue_url":"https://api.github.com/repos/apache/helix/issues/201","id":385582413,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NTU4MjQxMw==","user":{"login":"lujiefsi","id":2918158,"node_id":"MDQ6VXNlcjI5MTgxNTg=","avatar_url":"https://avatars.githubusercontent.com/u/2918158?v=4","gravatar_id":"","url":"https://api.github.com/users/lujiefsi","html_url":"https://github.com/lujiefsi","followers_url":"https://api.github.com/users/lujiefsi/followers","following_url":"https://api.github.com/users/lujiefsi/following{/other_user}","gists_url":"https://api.github.com/users/lujiefsi/gists{/gist_id}","starred_url":"https://api.github.com/users/lujiefsi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lujiefsi/subscriptions","organizations_url":"https://api.github.com/users/lujiefsi/orgs","repos_url":"https://api.github.com/users/lujiefsi/repos","events_url":"https://api.github.com/users/lujiefsi/events{/privacy}","received_events_url":"https://api.github.com/users/lujiefsi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-01T02:13:08Z","updated_at":"2018-05-01T02:13:08Z","author_association":"NONE","body":"@zhan849 \r\nQ1: We use findbugs to check helix and found it only perform intra-procedural NPE analysis. Our analysis is  interprocedural.\r\nQ2: I think @brettKK want to use semantic exception replace the ugly NPEs","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/385582413/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/386399698","html_url":"https://github.com/apache/helix/pull/201#issuecomment-386399698","issue_url":"https://api.github.com/repos/apache/helix/issues/201","id":386399698,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NjM5OTY5OA==","user":{"login":"zhan849","id":3003026,"node_id":"MDQ6VXNlcjMwMDMwMjY=","avatar_url":"https://avatars.githubusercontent.com/u/3003026?v=4","gravatar_id":"","url":"https://api.github.com/users/zhan849","html_url":"https://github.com/zhan849","followers_url":"https://api.github.com/users/zhan849/followers","following_url":"https://api.github.com/users/zhan849/following{/other_user}","gists_url":"https://api.github.com/users/zhan849/gists{/gist_id}","starred_url":"https://api.github.com/users/zhan849/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhan849/subscriptions","organizations_url":"https://api.github.com/users/zhan849/orgs","repos_url":"https://api.github.com/users/zhan849/repos","events_url":"https://api.github.com/users/zhan849/events{/privacy}","received_events_url":"https://api.github.com/users/zhan849/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-03T18:52:15Z","updated_at":"2018-05-03T18:55:34Z","author_association":"CONTRIBUTOR","body":"@lujiefsi  If you really want to fix the issue, then I'd suggest doing the following:\r\n\r\n- currently we have the assumption that resource will have state model def, which is enforced by the builder. so if you want to assume that someone could abuse the system, i.e. manually add an object in metadatastore without using our API, please log error when we cannot find state model def, and mark all partitions as error, ResourceMonitor need to be updated accordingly. Don't throw exception as this will block rebalancing for all other valid resources\r\n\r\n- WorkflowConfig's start time is fetched from it's ScheduleConfig, which is enforced by builder (if no start time is provided, builder will fail the build). So we can assume it is always there. Similarly, if you really want to add check (assuming someone did not use our API to create object), don't throw exception, log error and record failure in workflow monitor","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/386399698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/386485321","html_url":"https://github.com/apache/helix/pull/201#issuecomment-386485321","issue_url":"https://api.github.com/repos/apache/helix/issues/201","id":386485321,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NjQ4NTMyMQ==","user":{"login":"lujiefsi","id":2918158,"node_id":"MDQ6VXNlcjI5MTgxNTg=","avatar_url":"https://avatars.githubusercontent.com/u/2918158?v=4","gravatar_id":"","url":"https://api.github.com/users/lujiefsi","html_url":"https://github.com/lujiefsi","followers_url":"https://api.github.com/users/lujiefsi/followers","following_url":"https://api.github.com/users/lujiefsi/following{/other_user}","gists_url":"https://api.github.com/users/lujiefsi/gists{/gist_id}","starred_url":"https://api.github.com/users/lujiefsi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lujiefsi/subscriptions","organizations_url":"https://api.github.com/users/lujiefsi/orgs","repos_url":"https://api.github.com/users/lujiefsi/repos","events_url":"https://api.github.com/users/lujiefsi/events{/privacy}","received_events_url":"https://api.github.com/users/lujiefsi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-04T01:36:01Z","updated_at":"2018-05-04T01:36:01Z","author_association":"NONE","body":"@zhan849 \r\nGreat! I restudy the related code, these three are really false postive. I prefer to  close this issue without fixing. What's your opinion? @brettKK ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/386485321/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/386774210","html_url":"https://github.com/apache/helix/pull/200#issuecomment-386774210","issue_url":"https://api.github.com/repos/apache/helix/issues/200","id":386774210,"node_id":"MDEyOklzc3VlQ29tbWVudDM4Njc3NDIxMA==","user":{"login":"brettKK","id":5836417,"node_id":"MDQ6VXNlcjU4MzY0MTc=","avatar_url":"https://avatars.githubusercontent.com/u/5836417?v=4","gravatar_id":"","url":"https://api.github.com/users/brettKK","html_url":"https://github.com/brettKK","followers_url":"https://api.github.com/users/brettKK/followers","following_url":"https://api.github.com/users/brettKK/following{/other_user}","gists_url":"https://api.github.com/users/brettKK/gists{/gist_id}","starred_url":"https://api.github.com/users/brettKK/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brettKK/subscriptions","organizations_url":"https://api.github.com/users/brettKK/orgs","repos_url":"https://api.github.com/users/brettKK/repos","events_url":"https://api.github.com/users/brettKK/events{/privacy}","received_events_url":"https://api.github.com/users/brettKK/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-05T02:54:59Z","updated_at":"2018-05-05T02:54:59Z","author_association":"NONE","body":"@zhan849   thanks for your suggestion and I squash my commits into one commit.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/386774210/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/388045926","html_url":"https://github.com/apache/helix/pull/200#issuecomment-388045926","issue_url":"https://api.github.com/repos/apache/helix/issues/200","id":388045926,"node_id":"MDEyOklzc3VlQ29tbWVudDM4ODA0NTkyNg==","user":{"login":"lujiefsi","id":2918158,"node_id":"MDQ6VXNlcjI5MTgxNTg=","avatar_url":"https://avatars.githubusercontent.com/u/2918158?v=4","gravatar_id":"","url":"https://api.github.com/users/lujiefsi","html_url":"https://github.com/lujiefsi","followers_url":"https://api.github.com/users/lujiefsi/followers","following_url":"https://api.github.com/users/lujiefsi/following{/other_user}","gists_url":"https://api.github.com/users/lujiefsi/gists{/gist_id}","starred_url":"https://api.github.com/users/lujiefsi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lujiefsi/subscriptions","organizations_url":"https://api.github.com/users/lujiefsi/orgs","repos_url":"https://api.github.com/users/lujiefsi/repos","events_url":"https://api.github.com/users/lujiefsi/events{/privacy}","received_events_url":"https://api.github.com/users/lujiefsi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-10T12:59:15Z","updated_at":"2018-05-10T12:59:15Z","author_association":"NONE","body":"we should combine https://issues.apache.org/jira/browse/HELIX-701 with this pull request,","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/388045926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/388246001","html_url":"https://github.com/apache/helix/pull/200#issuecomment-388246001","issue_url":"https://api.github.com/repos/apache/helix/issues/200","id":388246001,"node_id":"MDEyOklzc3VlQ29tbWVudDM4ODI0NjAwMQ==","user":{"login":"brettKK","id":5836417,"node_id":"MDQ6VXNlcjU4MzY0MTc=","avatar_url":"https://avatars.githubusercontent.com/u/5836417?v=4","gravatar_id":"","url":"https://api.github.com/users/brettKK","html_url":"https://github.com/brettKK","followers_url":"https://api.github.com/users/brettKK/followers","following_url":"https://api.github.com/users/brettKK/following{/other_user}","gists_url":"https://api.github.com/users/brettKK/gists{/gist_id}","starred_url":"https://api.github.com/users/brettKK/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brettKK/subscriptions","organizations_url":"https://api.github.com/users/brettKK/orgs","repos_url":"https://api.github.com/users/brettKK/repos","events_url":"https://api.github.com/users/brettKK/events{/privacy}","received_events_url":"https://api.github.com/users/brettKK/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-11T03:02:20Z","updated_at":"2018-05-11T03:02:20Z","author_association":"NONE","body":"@lujiefsi , https://issues.apache.org/jira/browse/HELIX-701 has been automatically associated with this PR.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/388246001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/405400871","html_url":"https://github.com/apache/helix/pull/248#issuecomment-405400871","issue_url":"https://api.github.com/repos/apache/helix/issues/248","id":405400871,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTQwMDg3MQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-16T22:27:45Z","updated_at":"2018-07-16T22:27:45Z","author_association":"MEMBER","body":"what is the purpose of this api and what will the caller do with the return value?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/405400871/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/405403296","html_url":"https://github.com/apache/helix/pull/248#issuecomment-405403296","issue_url":"https://api.github.com/repos/apache/helix/issues/248","id":405403296,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTQwMzI5Ng==","user":{"login":"zhan849","id":3003026,"node_id":"MDQ6VXNlcjMwMDMwMjY=","avatar_url":"https://avatars.githubusercontent.com/u/3003026?v=4","gravatar_id":"","url":"https://api.github.com/users/zhan849","html_url":"https://github.com/zhan849","followers_url":"https://api.github.com/users/zhan849/followers","following_url":"https://api.github.com/users/zhan849/following{/other_user}","gists_url":"https://api.github.com/users/zhan849/gists{/gist_id}","starred_url":"https://api.github.com/users/zhan849/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhan849/subscriptions","organizations_url":"https://api.github.com/users/zhan849/orgs","repos_url":"https://api.github.com/users/zhan849/repos","events_url":"https://api.github.com/users/zhan849/events{/privacy}","received_events_url":"https://api.github.com/users/zhan849/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-16T22:40:39Z","updated_at":"2018-07-16T22:40:39Z","author_association":"CONTRIBUTOR","body":"@kishoreg We have a request here that it would be handy to retrieve zk address from ZkHelixManager for user components to perform some customized operations in ZooKeeper without sharing same ZkClient with same helix component. As zk address is part of ZkHelixManager's configurations so adding a getter here fits the semantics.\r\n\r\nTo make it more general (also to introduce less code change), such method should be part of HelixManager interface, and \"MetadataStore\" is a more generic name to use here.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/405403296/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/454531090","html_url":"https://github.com/apache/helix/pull/297#issuecomment-454531090","issue_url":"https://api.github.com/repos/apache/helix/issues/297","id":454531090,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1NDUzMTA5MA==","user":{"login":"junkaixue","id":6695617,"node_id":"MDQ6VXNlcjY2OTU2MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6695617?v=4","gravatar_id":"","url":"https://api.github.com/users/junkaixue","html_url":"https://github.com/junkaixue","followers_url":"https://api.github.com/users/junkaixue/followers","following_url":"https://api.github.com/users/junkaixue/following{/other_user}","gists_url":"https://api.github.com/users/junkaixue/gists{/gist_id}","starred_url":"https://api.github.com/users/junkaixue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junkaixue/subscriptions","organizations_url":"https://api.github.com/users/junkaixue/orgs","repos_url":"https://api.github.com/users/junkaixue/repos","events_url":"https://api.github.com/users/junkaixue/events{/privacy}","received_events_url":"https://api.github.com/users/junkaixue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-15T20:02:33Z","updated_at":"2019-01-15T20:02:33Z","author_association":"CONTRIBUTOR","body":"LGTM! Make sure you pass all the tests.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/454531090/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/457384248","html_url":"https://github.com/apache/helix/pull/297#issuecomment-457384248","issue_url":"https://api.github.com/repos/apache/helix/issues/297","id":457384248,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1NzM4NDI0OA==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-24T22:34:45Z","updated_at":"2019-01-24T22:34:45Z","author_association":"CONTRIBUTOR","body":"I split the ZkConnection commit to separate logic change and file movement. Just to ensure the history of change is clear.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/457384248/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/460855943","html_url":"https://github.com/apache/helix/pull/300#issuecomment-460855943","issue_url":"https://api.github.com/repos/apache/helix/issues/300","id":460855943,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MDg1NTk0Mw==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-06T00:14:05Z","updated_at":"2019-02-06T00:14:05Z","author_association":"CONTRIBUTOR","body":"I don't think we can simply make this thread daemon. Actually, it only makes sense when all the handlers are finalized. If one or more handlers are still active, the re-subscribe function is required (and shall not be treated as a daemon).","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/460855943/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/460952070","html_url":"https://github.com/apache/helix/pull/300#issuecomment-460952070","issue_url":"https://api.github.com/repos/apache/helix/issues/300","id":460952070,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MDk1MjA3MA==","user":{"login":"mebe","id":39953,"node_id":"MDQ6VXNlcjM5OTUz","avatar_url":"https://avatars.githubusercontent.com/u/39953?v=4","gravatar_id":"","url":"https://api.github.com/users/mebe","html_url":"https://github.com/mebe","followers_url":"https://api.github.com/users/mebe/followers","following_url":"https://api.github.com/users/mebe/following{/other_user}","gists_url":"https://api.github.com/users/mebe/gists{/gist_id}","starred_url":"https://api.github.com/users/mebe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mebe/subscriptions","organizations_url":"https://api.github.com/users/mebe/orgs","repos_url":"https://api.github.com/users/mebe/repos","events_url":"https://api.github.com/users/mebe/events{/privacy}","received_events_url":"https://api.github.com/users/mebe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-06T09:17:07Z","updated_at":"2019-02-06T09:17:07Z","author_association":"NONE","body":"Thanks!\r\n\r\nAny suggestions for a better fix? Currently I have this beautiful piece of Scala code in my shutdown hooks and I'd like to get rid of it ðŸ™‚ \r\n\r\n```scala\r\nprivate def shutDownRunawayHelixThread(): Unit = {\r\n  val runawayThreadField = classOf[CallbackHandler]\r\n    .getDeclaredField(\"SubscribeChangeEventProcessor\")\r\n\r\n  runawayThreadField.setAccessible(true)\r\n  runawayThreadField\r\n    .get(null)\r\n    .asInstanceOf[DedupEventProcessor[_, _]]\r\n    .shutdown()\r\n}\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/460952070/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/463028870","html_url":"https://github.com/apache/helix/pull/301#issuecomment-463028870","issue_url":"https://api.github.com/repos/apache/helix/issues/301","id":463028870,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MzAyODg3MA==","user":{"login":"junkaixue","id":6695617,"node_id":"MDQ6VXNlcjY2OTU2MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6695617?v=4","gravatar_id":"","url":"https://api.github.com/users/junkaixue","html_url":"https://github.com/junkaixue","followers_url":"https://api.github.com/users/junkaixue/followers","following_url":"https://api.github.com/users/junkaixue/following{/other_user}","gists_url":"https://api.github.com/users/junkaixue/gists{/gist_id}","starred_url":"https://api.github.com/users/junkaixue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junkaixue/subscriptions","organizations_url":"https://api.github.com/users/junkaixue/orgs","repos_url":"https://api.github.com/users/junkaixue/repos","events_url":"https://api.github.com/users/junkaixue/events{/privacy}","received_events_url":"https://api.github.com/users/junkaixue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-13T02:24:52Z","updated_at":"2019-02-13T02:24:52Z","author_association":"CONTRIBUTOR","body":"You may need to move this to 0.8.3 folder, since this feature is released out from 0.8.3.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/463028870/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/463036989","html_url":"https://github.com/apache/helix/pull/301#issuecomment-463036989","issue_url":"https://api.github.com/repos/apache/helix/issues/301","id":463036989,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MzAzNjk4OQ==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-13T03:00:07Z","updated_at":"2019-02-13T03:00:07Z","author_association":"CONTRIBUTOR","body":"Thanks for noticing. I have moved it to 0.8.3 folder and removed from src.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/463036989/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/467695630","html_url":"https://github.com/apache/helix/pull/312#issuecomment-467695630","issue_url":"https://api.github.com/repos/apache/helix/issues/312","id":467695630,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NzY5NTYzMA==","user":{"login":"junkaixue","id":6695617,"node_id":"MDQ6VXNlcjY2OTU2MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6695617?v=4","gravatar_id":"","url":"https://api.github.com/users/junkaixue","html_url":"https://github.com/junkaixue","followers_url":"https://api.github.com/users/junkaixue/followers","following_url":"https://api.github.com/users/junkaixue/following{/other_user}","gists_url":"https://api.github.com/users/junkaixue/gists{/gist_id}","starred_url":"https://api.github.com/users/junkaixue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junkaixue/subscriptions","organizations_url":"https://api.github.com/users/junkaixue/orgs","repos_url":"https://api.github.com/users/junkaixue/repos","events_url":"https://api.github.com/users/junkaixue/events{/privacy}","received_events_url":"https://api.github.com/users/junkaixue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-27T02:14:30Z","updated_at":"2019-02-27T02:14:30Z","author_association":"CONTRIBUTOR","body":"LGTM. But since this is large change. I will leave here for other reviewers to review it. At same time. could you please rebase the head.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/467695630/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/469871837","html_url":"https://github.com/apache/helix/pull/315#issuecomment-469871837","issue_url":"https://api.github.com/repos/apache/helix/issues/315","id":469871837,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTg3MTgzNw==","user":{"login":"junkaixue","id":6695617,"node_id":"MDQ6VXNlcjY2OTU2MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6695617?v=4","gravatar_id":"","url":"https://api.github.com/users/junkaixue","html_url":"https://github.com/junkaixue","followers_url":"https://api.github.com/users/junkaixue/followers","following_url":"https://api.github.com/users/junkaixue/following{/other_user}","gists_url":"https://api.github.com/users/junkaixue/gists{/gist_id}","starred_url":"https://api.github.com/users/junkaixue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junkaixue/subscriptions","organizations_url":"https://api.github.com/users/junkaixue/orgs","repos_url":"https://api.github.com/users/junkaixue/repos","events_url":"https://api.github.com/users/junkaixue/events{/privacy}","received_events_url":"https://api.github.com/users/junkaixue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-05T21:50:46Z","updated_at":"2019-03-05T21:50:46Z","author_association":"CONTRIBUTOR","body":"Let's move user guide from FAQ to a separate section and describe it more on operations.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/469871837/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/469903213","html_url":"https://github.com/apache/helix/pull/315#issuecomment-469903213","issue_url":"https://api.github.com/repos/apache/helix/issues/315","id":469903213,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTkwMzIxMw==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-05T23:34:52Z","updated_at":"2019-03-05T23:34:52Z","author_association":"CONTRIBUTOR","body":"Updated per your suggestions.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/469903213/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/478714480","html_url":"https://github.com/apache/helix/pull/317#issuecomment-478714480","issue_url":"https://api.github.com/repos/apache/helix/issues/317","id":478714480,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODcxNDQ4MA==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-01T19:32:22Z","updated_at":"2019-04-01T19:32:22Z","author_association":"CONTRIBUTOR","body":"Thanks for the fix. Merged to master branch.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/478714480/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/482737721","html_url":"https://github.com/apache/helix/pull/318#issuecomment-482737721","issue_url":"https://api.github.com/repos/apache/helix/issues/318","id":482737721,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjczNzcyMQ==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-12T22:05:59Z","updated_at":"2019-04-12T22:05:59Z","author_association":"CONTRIBUTOR","body":"Thanks for the PR :)","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/482737721/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/490186774","html_url":"https://github.com/apache/helix/pull/320#issuecomment-490186774","issue_url":"https://api.github.com/repos/apache/helix/issues/320","id":490186774,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDE4Njc3NA==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-07T18:03:11Z","updated_at":"2019-05-07T18:03:11Z","author_association":"CONTRIBUTOR","body":"Did it not compile on the old version?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/490186774/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/490770796","html_url":"https://github.com/apache/helix/pull/320#issuecomment-490770796","issue_url":"https://api.github.com/repos/apache/helix/issues/320","id":490770796,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDc3MDc5Ng==","user":{"login":"alexgreenbar","id":2724275,"node_id":"MDQ6VXNlcjI3MjQyNzU=","avatar_url":"https://avatars.githubusercontent.com/u/2724275?v=4","gravatar_id":"","url":"https://api.github.com/users/alexgreenbar","html_url":"https://github.com/alexgreenbar","followers_url":"https://api.github.com/users/alexgreenbar/followers","following_url":"https://api.github.com/users/alexgreenbar/following{/other_user}","gists_url":"https://api.github.com/users/alexgreenbar/gists{/gist_id}","starred_url":"https://api.github.com/users/alexgreenbar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexgreenbar/subscriptions","organizations_url":"https://api.github.com/users/alexgreenbar/orgs","repos_url":"https://api.github.com/users/alexgreenbar/repos","events_url":"https://api.github.com/users/alexgreenbar/events{/privacy}","received_events_url":"https://api.github.com/users/alexgreenbar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-09T07:05:31Z","updated_at":"2019-05-09T07:05:31Z","author_association":"NONE","body":"> Did it not compile on the old version?\r\n\r\nI've provided more details on PR description.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/490770796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/491007976","html_url":"https://github.com/apache/helix/pull/320#issuecomment-491007976","issue_url":"https://api.github.com/repos/apache/helix/issues/320","id":491007976,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTAwNzk3Ng==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-09T18:08:07Z","updated_at":"2019-05-09T18:08:07Z","author_association":"CONTRIBUTOR","body":"I've tried on 2 different machines and it seems to work fine on both. I don't have a problem with bumping up the dependency version, but at this point, I'm convinced that it might be an environment problem.\r\n\r\nWhat version of Apache Maven are you using? Could you also try: mvn clean install package -DskipTests?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/491007976/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/491238706","html_url":"https://github.com/apache/helix/pull/320#issuecomment-491238706","issue_url":"https://api.github.com/repos/apache/helix/issues/320","id":491238706,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTIzODcwNg==","user":{"login":"alexgreenbar","id":2724275,"node_id":"MDQ6VXNlcjI3MjQyNzU=","avatar_url":"https://avatars.githubusercontent.com/u/2724275?v=4","gravatar_id":"","url":"https://api.github.com/users/alexgreenbar","html_url":"https://github.com/alexgreenbar","followers_url":"https://api.github.com/users/alexgreenbar/followers","following_url":"https://api.github.com/users/alexgreenbar/following{/other_user}","gists_url":"https://api.github.com/users/alexgreenbar/gists{/gist_id}","starred_url":"https://api.github.com/users/alexgreenbar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexgreenbar/subscriptions","organizations_url":"https://api.github.com/users/alexgreenbar/orgs","repos_url":"https://api.github.com/users/alexgreenbar/repos","events_url":"https://api.github.com/users/alexgreenbar/events{/privacy}","received_events_url":"https://api.github.com/users/alexgreenbar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-10T10:17:25Z","updated_at":"2019-05-10T10:17:25Z","author_association":"NONE","body":"I still got the same compile error after I did below actions\r\n1. upgrade my maven from 3.3.1 to 3.6.1, which is the latest version\r\n2. run command as @narendly suggested, $mvn -DskipTests clean install package\r\n\r\nBTW: I use MacOS 10.14.3","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/491238706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/497111470","html_url":"https://github.com/apache/helix/issues/321#issuecomment-497111470","issue_url":"https://api.github.com/repos/apache/helix/issues/321","id":497111470,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NzExMTQ3MA==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-29T21:13:49Z","updated_at":"2019-05-29T21:13:49Z","author_association":"CONTRIBUTOR","body":"#320 ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/497111470/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/505100927","html_url":"https://github.com/apache/helix/issues/323#issuecomment-505100927","issue_url":"https://api.github.com/repos/apache/helix/issues/323","id":505100927,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTEwMDkyNw==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-24T17:18:05Z","updated_at":"2019-06-24T17:18:05Z","author_association":"CONTRIBUTOR","body":"What's the difference between using multiple instance group tags and\ndefining a new tag that includes the desired scope?\nThe second solution is supported right now and maybe easier to use.\n\nBest Regards,\nJiajun\n\n\nOn Mon, Jun 24, 2019 at 10:10 AM Hunter Lee <notifications@github.com>\nwrote:\n\n> Currently we can set only one instance group tag for a job.\n>\n> jobCfg.setInstanceGroupTag(\"INSTANCEGROUPTAG\");\n>\n> It will be really helpful to support support multiple instance group tags\n> for one job so that the job can be run either in group A or group B.\n> Through this, we can support more advanced scheduling use cases like in\n> Node Affinity in Kubernetes [1]\n>\n> [1] https://kubernetes.io/docs/concepts/configuration/assign-pod-node/\n>\n> â€”\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/helix/issues/323?email_source=notifications&email_token=AANYM2ATRXFDLXXUN6BLWV3P4D5YFA5CNFSM4H3ATMLKYY3PNVWWK3TUL52HS4DFUVEXG43VMWVGG33NNVSW45C7NFSM4G3LCLWA>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AANYM2DJZK4IOD7BITHDEWDP4D5YFANCNFSM4H3ATMLA>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/505100927/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/505104174","html_url":"https://github.com/apache/helix/issues/322#issuecomment-505104174","issue_url":"https://api.github.com/repos/apache/helix/issues/322","id":505104174,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTEwNDE3NA==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-24T17:27:13Z","updated_at":"2019-06-24T17:27:13Z","author_association":"CONTRIBUTOR","body":"This is an error log. Could you please share the test case? What was complained is lacking an eligible instance to use. In this case, the controller cannot assign the resource. Cleaning up the exception stack trace will hide the detail.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/505104174/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/505109075","html_url":"https://github.com/apache/helix/issues/322#issuecomment-505109075","issue_url":"https://api.github.com/repos/apache/helix/issues/322","id":505109075,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTEwOTA3NQ==","user":{"login":"jackjlli","id":35080149,"node_id":"MDQ6VXNlcjM1MDgwMTQ5","avatar_url":"https://avatars.githubusercontent.com/u/35080149?v=4","gravatar_id":"","url":"https://api.github.com/users/jackjlli","html_url":"https://github.com/jackjlli","followers_url":"https://api.github.com/users/jackjlli/followers","following_url":"https://api.github.com/users/jackjlli/following{/other_user}","gists_url":"https://api.github.com/users/jackjlli/gists{/gist_id}","starred_url":"https://api.github.com/users/jackjlli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackjlli/subscriptions","organizations_url":"https://api.github.com/users/jackjlli/orgs","repos_url":"https://api.github.com/users/jackjlli/repos","events_url":"https://api.github.com/users/jackjlli/events{/privacy}","received_events_url":"https://api.github.com/users/jackjlli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-24T17:40:36Z","updated_at":"2019-06-24T17:40:36Z","author_association":"MEMBER","body":"Hi @jiajunwang ,  basically we recently added a resource called `leadControllerResource` in Pinot and set the rebalance strategy to `CrushEdReBalanceStrategy`. In all the integration test where a local Helix cluster is set up we encounter the exception messages. You can easily reproduce the exception in some tests like `OfflineClusterIntegrationTest`. Since this exception is thrown from Helix thread, is there any way to clean up the exception stack trace?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/505109075/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/505127003","html_url":"https://github.com/apache/helix/issues/323#issuecomment-505127003","issue_url":"https://api.github.com/repos/apache/helix/issues/323","id":505127003,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTEyNzAwMw==","user":{"login":"DImuthuUpe","id":1346332,"node_id":"MDQ6VXNlcjEzNDYzMzI=","avatar_url":"https://avatars.githubusercontent.com/u/1346332?v=4","gravatar_id":"","url":"https://api.github.com/users/DImuthuUpe","html_url":"https://github.com/DImuthuUpe","followers_url":"https://api.github.com/users/DImuthuUpe/followers","following_url":"https://api.github.com/users/DImuthuUpe/following{/other_user}","gists_url":"https://api.github.com/users/DImuthuUpe/gists{/gist_id}","starred_url":"https://api.github.com/users/DImuthuUpe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DImuthuUpe/subscriptions","organizations_url":"https://api.github.com/users/DImuthuUpe/orgs","repos_url":"https://api.github.com/users/DImuthuUpe/repos","events_url":"https://api.github.com/users/DImuthuUpe/events{/privacy}","received_events_url":"https://api.github.com/users/DImuthuUpe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-24T18:31:17Z","updated_at":"2019-06-24T18:31:17Z","author_association":"CONTRIBUTOR","body":"@jiajunwang Good question. We can add tags to instances as much as we want. But the problem is, is it scalable? I'm not sure whether there is a straightforward way to update the instance config tag dynamically with out restarting participants. I usually set the tag by calling InstanceConfig.addTag(tag). In my use case, I need to dynamically set the target instance / group for a job based on some other external metrics. In that case it would be easy to manipulate the tags at JobConfig level rather than InstanceConfig level. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/505127003/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/505162329","html_url":"https://github.com/apache/helix/issues/323#issuecomment-505162329","issue_url":"https://api.github.com/repos/apache/helix/issues/323","id":505162329,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTE2MjMyOQ==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-24T20:15:06Z","updated_at":"2019-06-24T20:15:06Z","author_association":"CONTRIBUTOR","body":"@DImuthuUpe, by supporting both sides configuration, we definitely cover more use cases. I think it's very nice to have feature.\r\n\r\nTo clarify, the instance config update does not require restarting participants.\r\n\r\nIn addition, I want to better understand your needs. By \"dynamically set the target instance / group\", can you give us some examples of the external metrics that you might use?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/505162329/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/505180440","html_url":"https://github.com/apache/helix/issues/322#issuecomment-505180440","issue_url":"https://api.github.com/repos/apache/helix/issues/322","id":505180440,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTE4MDQ0MA==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-24T21:03:54Z","updated_at":"2019-06-24T21:04:35Z","author_association":"CONTRIBUTOR","body":"Thanks for the information, @jackjlli. So you are more concerned about the verbose log, right? We can definitely avoid it. Will remove this stack trace when I have time.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/505180440/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/505184521","html_url":"https://github.com/apache/helix/issues/322#issuecomment-505184521","issue_url":"https://api.github.com/repos/apache/helix/issues/322","id":505184521,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTE4NDUyMQ==","user":{"login":"jackjlli","id":35080149,"node_id":"MDQ6VXNlcjM1MDgwMTQ5","avatar_url":"https://avatars.githubusercontent.com/u/35080149?v=4","gravatar_id":"","url":"https://api.github.com/users/jackjlli","html_url":"https://github.com/jackjlli","followers_url":"https://api.github.com/users/jackjlli/followers","following_url":"https://api.github.com/users/jackjlli/following{/other_user}","gists_url":"https://api.github.com/users/jackjlli/gists{/gist_id}","starred_url":"https://api.github.com/users/jackjlli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackjlli/subscriptions","organizations_url":"https://api.github.com/users/jackjlli/orgs","repos_url":"https://api.github.com/users/jackjlli/repos","events_url":"https://api.github.com/users/jackjlli/events{/privacy}","received_events_url":"https://api.github.com/users/jackjlli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-24T21:16:10Z","updated_at":"2019-06-24T21:16:10Z","author_association":"MEMBER","body":"Great! Thanks for confirming!","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/505184521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/509931085","html_url":"https://github.com/apache/helix/issues/328#issuecomment-509931085","issue_url":"https://api.github.com/repos/apache/helix/issues/328","id":509931085,"node_id":"MDEyOklzc3VlQ29tbWVudDUwOTkzMTA4NQ==","user":{"login":"junkaixue","id":6695617,"node_id":"MDQ6VXNlcjY2OTU2MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6695617?v=4","gravatar_id":"","url":"https://api.github.com/users/junkaixue","html_url":"https://github.com/junkaixue","followers_url":"https://api.github.com/users/junkaixue/followers","following_url":"https://api.github.com/users/junkaixue/following{/other_user}","gists_url":"https://api.github.com/users/junkaixue/gists{/gist_id}","starred_url":"https://api.github.com/users/junkaixue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junkaixue/subscriptions","organizations_url":"https://api.github.com/users/junkaixue/orgs","repos_url":"https://api.github.com/users/junkaixue/repos","events_url":"https://api.github.com/users/junkaixue/events{/privacy}","received_events_url":"https://api.github.com/users/junkaixue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-10T06:42:34Z","updated_at":"2019-07-10T06:42:34Z","author_association":"CONTRIBUTOR","body":"Fixed","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/509931085/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/510227742","html_url":"https://github.com/apache/helix/pull/329#issuecomment-510227742","issue_url":"https://api.github.com/repos/apache/helix/issues/329","id":510227742,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMDIyNzc0Mg==","user":{"login":"lei-xia","id":9325494,"node_id":"MDQ6VXNlcjkzMjU0OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/9325494?v=4","gravatar_id":"","url":"https://api.github.com/users/lei-xia","html_url":"https://github.com/lei-xia","followers_url":"https://api.github.com/users/lei-xia/followers","following_url":"https://api.github.com/users/lei-xia/following{/other_user}","gists_url":"https://api.github.com/users/lei-xia/gists{/gist_id}","starred_url":"https://api.github.com/users/lei-xia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lei-xia/subscriptions","organizations_url":"https://api.github.com/users/lei-xia/orgs","repos_url":"https://api.github.com/users/lei-xia/repos","events_url":"https://api.github.com/users/lei-xia/events{/privacy}","received_events_url":"https://api.github.com/users/lei-xia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-10T21:02:37Z","updated_at":"2019-07-10T21:02:37Z","author_association":"MEMBER","body":"5 tests fails, should we fix the tests?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/510227742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/510239011","html_url":"https://github.com/apache/helix/pull/329#issuecomment-510239011","issue_url":"https://api.github.com/repos/apache/helix/issues/329","id":510239011,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMDIzOTAxMQ==","user":{"login":"junkaixue","id":6695617,"node_id":"MDQ6VXNlcjY2OTU2MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6695617?v=4","gravatar_id":"","url":"https://api.github.com/users/junkaixue","html_url":"https://github.com/junkaixue","followers_url":"https://api.github.com/users/junkaixue/followers","following_url":"https://api.github.com/users/junkaixue/following{/other_user}","gists_url":"https://api.github.com/users/junkaixue/gists{/gist_id}","starred_url":"https://api.github.com/users/junkaixue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junkaixue/subscriptions","organizations_url":"https://api.github.com/users/junkaixue/orgs","repos_url":"https://api.github.com/users/junkaixue/repos","events_url":"https://api.github.com/users/junkaixue/events{/privacy}","received_events_url":"https://api.github.com/users/junkaixue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-10T21:38:44Z","updated_at":"2019-07-10T21:38:44Z","author_association":"CONTRIBUTOR","body":"> 5 tests fails, should we fix the tests?\r\n\r\nThere is only 1 test is unstable. We will try to fix it. I run it locally again, they all passed:\r\n[INFO] Tests run: 834, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 3,552.661 s - in TestSuite\r\n[INFO] \r\n[INFO] Results:\r\n[INFO] \r\n[INFO] Tests run: 834, Failures: 0, Errors: 0, Skipped: 0\r\n[INFO] \r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time: 59:18 min\r\n[INFO] Finished at: 2019-07-09T18:53:04-07:00\r\n[INFO] Final Memory: 30M/975M\r\n[INFO] ------------------------------------------------------------------------\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/510239011/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/510685974","html_url":"https://github.com/apache/helix/issues/327#issuecomment-510685974","issue_url":"https://api.github.com/repos/apache/helix/issues/327","id":510685974,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMDY4NTk3NA==","user":{"login":"junkaixue","id":6695617,"node_id":"MDQ6VXNlcjY2OTU2MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6695617?v=4","gravatar_id":"","url":"https://api.github.com/users/junkaixue","html_url":"https://github.com/junkaixue","followers_url":"https://api.github.com/users/junkaixue/followers","following_url":"https://api.github.com/users/junkaixue/following{/other_user}","gists_url":"https://api.github.com/users/junkaixue/gists{/gist_id}","starred_url":"https://api.github.com/users/junkaixue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junkaixue/subscriptions","organizations_url":"https://api.github.com/users/junkaixue/orgs","repos_url":"https://api.github.com/users/junkaixue/repos","events_url":"https://api.github.com/users/junkaixue/events{/privacy}","received_events_url":"https://api.github.com/users/junkaixue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-11T23:09:37Z","updated_at":"2019-07-11T23:09:37Z","author_association":"CONTRIBUTOR","body":"There is a race condition if user update the ResourceConfig at same time. Say original p1 has preference list: [1, 2, 3]. Helix read this ResourceConfig back and try to write to ZK. But at the moment the user override the p1 preference list to [4, 5, 6]. Helix will fail to update the ResourceConfig and merge it with [4, 5, 6]. So the final preference list for p1 will be [1, 2, 3, 4, 5, 6].\r\n\r\nSo anyway we should fix the issue moving away from touching ZK.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/510685974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/512043664","html_url":"https://github.com/apache/helix/pull/333#issuecomment-512043664","issue_url":"https://api.github.com/repos/apache/helix/issues/333","id":512043664,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjA0MzY2NA==","user":{"login":"i3wangyi","id":2618776,"node_id":"MDQ6VXNlcjI2MTg3NzY=","avatar_url":"https://avatars.githubusercontent.com/u/2618776?v=4","gravatar_id":"","url":"https://api.github.com/users/i3wangyi","html_url":"https://github.com/i3wangyi","followers_url":"https://api.github.com/users/i3wangyi/followers","following_url":"https://api.github.com/users/i3wangyi/following{/other_user}","gists_url":"https://api.github.com/users/i3wangyi/gists{/gist_id}","starred_url":"https://api.github.com/users/i3wangyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/i3wangyi/subscriptions","organizations_url":"https://api.github.com/users/i3wangyi/orgs","repos_url":"https://api.github.com/users/i3wangyi/repos","events_url":"https://api.github.com/users/i3wangyi/events{/privacy}","received_events_url":"https://api.github.com/users/i3wangyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-16T23:48:29Z","updated_at":"2019-07-16T23:48:29Z","author_association":"CONTRIBUTOR","body":"Add the mvn test result.\r\n\r\n```\r\nShut down zookeeper at port 2183 in thread main\r\n[ERROR] Tests run: 837, Failures: 2, Errors: 0, Skipped: 0, Time elapsed: 3,989.564 s <<< FAILURE! - in TestSuite\r\n[ERROR] testJobQueueAutoCleanUp(org.apache.helix.integration.task.TestJobQueueCleanUp)  Time elapsed: 300.016 s  <<< FAILURE!\r\norg.testng.internal.thread.ThreadTimeoutException: Method org.testng.internal.TestNGMethod.testJobQueueAutoCleanUp() didn't finish within the time-out 300000\r\n\r\n[ERROR] testLostZkConnection(org.apache.helix.integration.TestZkConnectionLost)  Time elapsed: 84.992 s  <<< FAILURE!\r\norg.apache.helix.HelixException: Workflow \"testLostZkConnection_20190716T231830\" context is empty or not in states: \"[COMPLETED]\", current state: \"IN_PROGRESS\"\r\n\tat org.apache.helix.integration.TestZkConnectionLost.testLostZkConnection(TestZkConnectionLost.java:140)\r\n\r\n[INFO] \r\n[INFO] Results:\r\n[INFO] \r\n[ERROR] Failures: \r\n[ERROR]   TestZkConnectionLost.testLostZkConnection:140 Â» Helix Workflow \"testLostZkConn...\r\n[ERROR]   TestJobQueueCleanUp.testJobQueueAutoCleanUp Â» ThreadTimeout Method org.testng....\r\n[INFO] \r\n[ERROR] Tests run: 837, Failures: 2, Errors: 0, Skipped: 0\r\n```\r\n\r\nHowever, the 2 failed tests **pass individually when running in IDE**","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/512043664/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/512508441","html_url":"https://github.com/apache/helix/pull/340#issuecomment-512508441","issue_url":"https://api.github.com/repos/apache/helix/issues/340","id":512508441,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjUwODQ0MQ==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-17T18:13:47Z","updated_at":"2019-07-17T18:13:47Z","author_association":"CONTRIBUTOR","body":"I'm afraid this might overwhelm the log? Would be fine to do this in a testing environment where load is simulated, but in production, this may cause log files to grow too fast, especially in situations where the events are queued up (signalling there are many pending cluster changes to be dealt with).\n\nHunter\n\nâ£Sent from BlueMail â€‹\n\nOn Jul 17, 2019, 20:01, at 20:01, Yi Wang <notifications@github.com> wrote:\n>When investigating the prod issue, I found now it lacks logs of when a\n>ClusterEvent gets pushed into the queue. I've added the simple log here\n>so that we would be able to measure the blocking queue processing speed\n>for an event.\n>You can view, comment on, or merge this pull request online at:\n>\n>  https://github.com/apache/helix/pull/340\n>\n>-- Commit Summary --\n>\n>* Log the enqueue time of clusterEvent, used to measure the blocking\n>queue processing speed\n>\n>-- File Changes --\n>\n>M\n>helix-core/src/main/java/org/apache/helix/controller/GenericHelixController.java\n>(1)\n>\n>-- Patch Links --\n>\n>https://github.com/apache/helix/pull/340.patch\n>https://github.com/apache/helix/pull/340.diff\n>\n>-- \n>You are receiving this because you are subscribed to this thread.\n>Reply to this email directly or view it on GitHub:\n>https://github.com/apache/helix/pull/340\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/512508441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/512512243","html_url":"https://github.com/apache/helix/pull/340#issuecomment-512512243","issue_url":"https://api.github.com/repos/apache/helix/issues/340","id":512512243,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjUxMjI0Mw==","user":{"login":"junkaixue","id":6695617,"node_id":"MDQ6VXNlcjY2OTU2MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6695617?v=4","gravatar_id":"","url":"https://api.github.com/users/junkaixue","html_url":"https://github.com/junkaixue","followers_url":"https://api.github.com/users/junkaixue/followers","following_url":"https://api.github.com/users/junkaixue/following{/other_user}","gists_url":"https://api.github.com/users/junkaixue/gists{/gist_id}","starred_url":"https://api.github.com/users/junkaixue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junkaixue/subscriptions","organizations_url":"https://api.github.com/users/junkaixue/orgs","repos_url":"https://api.github.com/users/junkaixue/repos","events_url":"https://api.github.com/users/junkaixue/events{/privacy}","received_events_url":"https://api.github.com/users/junkaixue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-17T18:24:04Z","updated_at":"2019-07-17T18:24:04Z","author_association":"CONTRIBUTOR","body":"Why you need this? We do have metrics \"Controller Pipeline Queued Time\" to understand the events staying the queue.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/512512243/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/512907487","html_url":"https://github.com/apache/helix/pull/341#issuecomment-512907487","issue_url":"https://api.github.com/repos/apache/helix/issues/341","id":512907487,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjkwNzQ4Nw==","user":{"login":"lei-xia","id":9325494,"node_id":"MDQ6VXNlcjkzMjU0OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/9325494?v=4","gravatar_id":"","url":"https://api.github.com/users/lei-xia","html_url":"https://github.com/lei-xia","followers_url":"https://api.github.com/users/lei-xia/followers","following_url":"https://api.github.com/users/lei-xia/following{/other_user}","gists_url":"https://api.github.com/users/lei-xia/gists{/gist_id}","starred_url":"https://api.github.com/users/lei-xia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lei-xia/subscriptions","organizations_url":"https://api.github.com/users/lei-xia/orgs","repos_url":"https://api.github.com/users/lei-xia/repos","events_url":"https://api.github.com/users/lei-xia/events{/privacy}","received_events_url":"https://api.github.com/users/lei-xia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-18T17:16:18Z","updated_at":"2019-07-18T17:16:18Z","author_association":"MEMBER","body":"This is a giant change list, are you supposing some of us to review it? ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/512907487/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/512911218","html_url":"https://github.com/apache/helix/pull/341#issuecomment-512911218","issue_url":"https://api.github.com/repos/apache/helix/issues/341","id":512911218,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjkxMTIxOA==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-18T17:26:48Z","updated_at":"2019-07-18T17:26:48Z","author_association":"CONTRIBUTOR","body":"Yes, these are not officially reviewed before. Most of the code was done by\nNeal. But for integration, I touched most of them...\n\nBTW, I tried the review board. Does not work... I will check later if have\ntime. For now, let's use GitHub.\n\nOn Thu, Jul 18, 2019, 10:16 AM Lei Xia <notifications@github.com> wrote:\n\n> This is a giant change list, are you supposing some of us to review it?\n>\n> â€”\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/helix/pull/341?email_source=notifications&email_token=AANYM2FZJUQC23XGTBOXEXTQACQOHA5CNFSM4IEVYPNKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD2JFRXY#issuecomment-512907487>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AANYM2GC3MLOPHS6F5YXB7TQACQOHANCNFSM4IEVYPNA>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/512911218/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/512914106","html_url":"https://github.com/apache/helix/pull/341#issuecomment-512914106","issue_url":"https://api.github.com/repos/apache/helix/issues/341","id":512914106,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjkxNDEwNg==","user":{"login":"lei-xia","id":9325494,"node_id":"MDQ6VXNlcjkzMjU0OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/9325494?v=4","gravatar_id":"","url":"https://api.github.com/users/lei-xia","html_url":"https://github.com/lei-xia","followers_url":"https://api.github.com/users/lei-xia/followers","following_url":"https://api.github.com/users/lei-xia/following{/other_user}","gists_url":"https://api.github.com/users/lei-xia/gists{/gist_id}","starred_url":"https://api.github.com/users/lei-xia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lei-xia/subscriptions","organizations_url":"https://api.github.com/users/lei-xia/orgs","repos_url":"https://api.github.com/users/lei-xia/repos","events_url":"https://api.github.com/users/lei-xia/events{/privacy}","received_events_url":"https://api.github.com/users/lei-xia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-18T17:34:34Z","updated_at":"2019-07-18T17:34:34Z","author_association":"MEMBER","body":"Then is it possible for you to break them into small PRs, it will not be possible to review 25 commits in a single PR.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/512914106/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/512915444","html_url":"https://github.com/apache/helix/pull/341#issuecomment-512915444","issue_url":"https://api.github.com/repos/apache/helix/issues/341","id":512915444,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjkxNTQ0NA==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-18T17:38:08Z","updated_at":"2019-07-18T17:38:08Z","author_association":"CONTRIBUTOR","body":"What do you think about maybe squashing them into 5-6 PRs (by component, for example) and linking them all in one GitHub wiki page so that they are easily accessible? ðŸ™‚\n\nHunter\n\nâ£Sent from BlueMail â€‹\n\nOn Jul 18, 2019, 19:34, at 19:34, Lei Xia <notifications@github.com> wrote:\n>Then is it possible for you to break them into small PRs, it will not\n>be possible to review 25 commits in a single PR.\n>\n>-- \n>You are receiving this because you are subscribed to this thread.\n>Reply to this email directly or view it on GitHub:\n>https://github.com/apache/helix/pull/341#issuecomment-512914106\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/512915444/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/512924648","html_url":"https://github.com/apache/helix/issues/343#issuecomment-512924648","issue_url":"https://api.github.com/repos/apache/helix/issues/343","id":512924648,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjkyNDY0OA==","user":{"login":"i3wangyi","id":2618776,"node_id":"MDQ6VXNlcjI2MTg3NzY=","avatar_url":"https://avatars.githubusercontent.com/u/2618776?v=4","gravatar_id":"","url":"https://api.github.com/users/i3wangyi","html_url":"https://github.com/i3wangyi","followers_url":"https://api.github.com/users/i3wangyi/followers","following_url":"https://api.github.com/users/i3wangyi/following{/other_user}","gists_url":"https://api.github.com/users/i3wangyi/gists{/gist_id}","starred_url":"https://api.github.com/users/i3wangyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/i3wangyi/subscriptions","organizations_url":"https://api.github.com/users/i3wangyi/orgs","repos_url":"https://api.github.com/users/i3wangyi/repos","events_url":"https://api.github.com/users/i3wangyi/events{/privacy}","received_events_url":"https://api.github.com/users/i3wangyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-18T18:04:14Z","updated_at":"2019-07-18T18:04:14Z","author_association":"CONTRIBUTOR","body":"I feel like we need to put more background knowledge and context on the topic. For example, why Helix will treat the previous ongoing offline -> slave as recovery balance given it was kicked off as load balance. One naive question, I understand the current limitation is **helix controller doesn't know the historical context about any ongoing state transitions in a participant** (is it true). Is it because of the **state transition message for the participant** get consumed? What if we preserve the pending message until completion and controller would be able to know the historical context? pros and cons? \r\n\r\nLet's put more background and context of the problem to have a meaningful discussion.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/512924648/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/512928626","html_url":"https://github.com/apache/helix/pull/341#issuecomment-512928626","issue_url":"https://api.github.com/repos/apache/helix/issues/341","id":512928626,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjkyODYyNg==","user":{"login":"i3wangyi","id":2618776,"node_id":"MDQ6VXNlcjI2MTg3NzY=","avatar_url":"https://avatars.githubusercontent.com/u/2618776?v=4","gravatar_id":"","url":"https://api.github.com/users/i3wangyi","html_url":"https://github.com/i3wangyi","followers_url":"https://api.github.com/users/i3wangyi/followers","following_url":"https://api.github.com/users/i3wangyi/following{/other_user}","gists_url":"https://api.github.com/users/i3wangyi/gists{/gist_id}","starred_url":"https://api.github.com/users/i3wangyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/i3wangyi/subscriptions","organizations_url":"https://api.github.com/users/i3wangyi/orgs","repos_url":"https://api.github.com/users/i3wangyi/repos","events_url":"https://api.github.com/users/i3wangyi/events{/privacy}","received_events_url":"https://api.github.com/users/i3wangyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-18T18:16:32Z","updated_at":"2019-07-18T18:16:32Z","author_association":"CONTRIBUTOR","body":"I'm not that worried about checking in a bunch of commits into a separate branch. Given that\r\n- The change here is known for its incompleteness/buggy/less optimized, etc, but it just functions basically like the foundation piece \r\n- A lot of re-write works is needed. We will and need to work together to rewrite almost every component of it. Rewrite naturally gives us a chance to review the code once again.\r\n- Once re-write is completed and it's in a good shape, we still have a pretty good chance to re-organize the commits and merge back to the master\r\n\r\nGiven the current giant change, it would rely too much on Jiajun's single effort to make the splits (splits usually are non-trivial) and it's not going to move fast. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/512928626/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/512928795","html_url":"https://github.com/apache/helix/issues/343#issuecomment-512928795","issue_url":"https://api.github.com/repos/apache/helix/issues/343","id":512928795,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjkyODc5NQ==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-18T18:16:58Z","updated_at":"2019-07-18T18:16:58Z","author_association":"CONTRIBUTOR","body":"The root cause for this problem is because we throttle things at partition granularity. For example, if Helix determines that a partition needs recovery balance, then it will subject all of its replicas to the recovery balance throttle config (although some replicas for the same partition might be undergoing load balance - these replicas will still be subject to recovery throttle, which is incorrect!).\n\nEnabling Helix to throttle at replica granularity will solve this problem.\n\nHope this helps,\nHunter \n\nâ£Sent from BlueMail â€‹\n\nOn Jul 18, 2019, 20:04, at 20:04, Yi Wang <notifications@github.com> wrote:\n>I feel like we need to put more background knowledge and context on the\n>topic. For example, why Helix will treat the previous ongoing offline\n>-> slave as recovery balance given it was kicked off as load balance.\n>One naive question, I understand the current limitation is **helix\n>controller doesn't know the historical context about any ongoing state\n>transitions in a participant** (is it true). Is it because of the\n>**state transition message for the participant** get consumed? What if\n>we preserve the pending message until completion and controller would\n>be able to know the historical context? pros and cons? \n>\n>Let's put more background and context of the problem to have a\n>meaningful discussion.\n>\n>-- \n>You are receiving this because you are subscribed to this thread.\n>Reply to this email directly or view it on GitHub:\n>https://github.com/apache/helix/issues/343#issuecomment-512924648\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/512928795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/512931683","html_url":"https://github.com/apache/helix/pull/341#issuecomment-512931683","issue_url":"https://api.github.com/repos/apache/helix/issues/341","id":512931683,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjkzMTY4Mw==","user":{"login":"lei-xia","id":9325494,"node_id":"MDQ6VXNlcjkzMjU0OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/9325494?v=4","gravatar_id":"","url":"https://api.github.com/users/lei-xia","html_url":"https://github.com/lei-xia","followers_url":"https://api.github.com/users/lei-xia/followers","following_url":"https://api.github.com/users/lei-xia/following{/other_user}","gists_url":"https://api.github.com/users/lei-xia/gists{/gist_id}","starred_url":"https://api.github.com/users/lei-xia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lei-xia/subscriptions","organizations_url":"https://api.github.com/users/lei-xia/orgs","repos_url":"https://api.github.com/users/lei-xia/repos","events_url":"https://api.github.com/users/lei-xia/events{/privacy}","received_events_url":"https://api.github.com/users/lei-xia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-18T18:24:15Z","updated_at":"2019-07-18T18:24:15Z","author_association":"MEMBER","body":"If you are only looking for temporary repo to park the half-baked code, can we use our internal repo instead?  We will need the PR be sent in a way that can be reviewed by other engineers.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/512931683/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/512932453","html_url":"https://github.com/apache/helix/pull/341#issuecomment-512932453","issue_url":"https://api.github.com/repos/apache/helix/issues/341","id":512932453,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjkzMjQ1Mw==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-18T18:26:21Z","updated_at":"2019-07-18T18:26:21Z","author_association":"CONTRIBUTOR","body":"How about checking it into a separate branch? Would that be an option?\n\nHunter\n\nâ£Sent from BlueMail â€‹\n\nOn Jul 18, 2019, 20:24, at 20:24, Lei Xia <notifications@github.com> wrote:\n>If you are only looking for temporary repo to park the half-baked code,\n>can we use our internal repo instead?  We will need the PR be sent in a\n>way that can be reviewed by other engineers.\n>\n>-- \n>You are receiving this because you commented.\n>Reply to this email directly or view it on GitHub:\n>https://github.com/apache/helix/pull/341#issuecomment-512931683\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/512932453/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/512969900","html_url":"https://github.com/apache/helix/pull/341#issuecomment-512969900","issue_url":"https://api.github.com/repos/apache/helix/issues/341","id":512969900,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjk2OTkwMA==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-18T20:13:28Z","updated_at":"2019-07-18T20:13:28Z","author_association":"CONTRIBUTOR","body":"We had some discussion offline. Let's follow a more strict workflow to ensure quality.\r\nI will convert this PR to API change only. The detailed change will be done by the individuals that work on the feature later based on this foundation.\r\n\r\nWIll update the PR soon today.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/512969900/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/512973099","html_url":"https://github.com/apache/helix/issues/342#issuecomment-512973099","issue_url":"https://api.github.com/repos/apache/helix/issues/342","id":512973099,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjk3MzA5OQ==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-18T20:23:34Z","updated_at":"2019-07-18T20:23:34Z","author_association":"CONTRIBUTOR","body":"With some discussion with the team, we will create the issues later by the task owner.\r\n\r\nHere's a rough plan for who will mainly contribute to this new rebalancer.\r\n@jiajunwang - API/configure + Pipeline integration\r\n@narendly - Change Detector + Assignment Metadata Store\r\n@i3wangyi - Rebalance algorithm optimization + integration test + rebalancer performance evaluation ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/512973099/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/513000467","html_url":"https://github.com/apache/helix/issues/343#issuecomment-513000467","issue_url":"https://api.github.com/repos/apache/helix/issues/343","id":513000467,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzAwMDQ2Nw==","user":{"login":"junkaixue","id":6695617,"node_id":"MDQ6VXNlcjY2OTU2MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6695617?v=4","gravatar_id":"","url":"https://api.github.com/users/junkaixue","html_url":"https://github.com/junkaixue","followers_url":"https://api.github.com/users/junkaixue/followers","following_url":"https://api.github.com/users/junkaixue/following{/other_user}","gists_url":"https://api.github.com/users/junkaixue/gists{/gist_id}","starred_url":"https://api.github.com/users/junkaixue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junkaixue/subscriptions","organizations_url":"https://api.github.com/users/junkaixue/orgs","repos_url":"https://api.github.com/users/junkaixue/repos","events_url":"https://api.github.com/users/junkaixue/events{/privacy}","received_events_url":"https://api.github.com/users/junkaixue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-18T21:44:48Z","updated_at":"2019-07-18T21:44:48Z","author_association":"CONTRIBUTOR","body":"@i3wangyi We need dynamically type change of ST. For example, if you have one load balance ST Offline - Slave got blocked, but now all the replica of that partition are gone. As you memorized the type of this ST, it will be fully blocked and no active replica for that partition.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/513000467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/513003050","html_url":"https://github.com/apache/helix/pull/341#issuecomment-513003050","issue_url":"https://api.github.com/repos/apache/helix/issues/341","id":513003050,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzAwMzA1MA==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-18T21:52:51Z","updated_at":"2019-07-18T21:52:51Z","author_association":"CONTRIBUTOR","body":"Modified the commit, now we only have the interface defined. Please review and we can start from this commit.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/513003050/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/513032668","html_url":"https://github.com/apache/helix/pull/333#issuecomment-513032668","issue_url":"https://api.github.com/repos/apache/helix/issues/333","id":513032668,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzAzMjY2OA==","user":{"login":"i3wangyi","id":2618776,"node_id":"MDQ6VXNlcjI2MTg3NzY=","avatar_url":"https://avatars.githubusercontent.com/u/2618776?v=4","gravatar_id":"","url":"https://api.github.com/users/i3wangyi","html_url":"https://github.com/i3wangyi","followers_url":"https://api.github.com/users/i3wangyi/followers","following_url":"https://api.github.com/users/i3wangyi/following{/other_user}","gists_url":"https://api.github.com/users/i3wangyi/gists{/gist_id}","starred_url":"https://api.github.com/users/i3wangyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/i3wangyi/subscriptions","organizations_url":"https://api.github.com/users/i3wangyi/orgs","repos_url":"https://api.github.com/users/i3wangyi/repos","events_url":"https://api.github.com/users/i3wangyi/events{/privacy}","received_events_url":"https://api.github.com/users/i3wangyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-18T23:36:14Z","updated_at":"2019-07-18T23:36:14Z","author_association":"CONTRIBUTOR","body":"The latest commit added the integration test. The test verifies at most 1 ST occurs at a time on any instance when cluster level throttle is set to ANY, quota = 1. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/513032668/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/513419178","html_url":"https://github.com/apache/helix/issues/338#issuecomment-513419178","issue_url":"https://api.github.com/repos/apache/helix/issues/338","id":513419178,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzQxOTE3OA==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-20T00:37:04Z","updated_at":"2019-07-20T00:37:04Z","author_association":"CONTRIBUTOR","body":"@kaisun2000 Are you working on this? If not, I am considering to contribute to this ticket. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/513419178/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/513419462","html_url":"https://github.com/apache/helix/issues/338#issuecomment-513419462","issue_url":"https://api.github.com/repos/apache/helix/issues/338","id":513419462,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzQxOTQ2Mg==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-20T00:40:02Z","updated_at":"2019-07-20T00:40:02Z","author_association":"CONTRIBUTOR","body":"#339 has a diff for the implementation, pending review","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/513419462/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/513419608","html_url":"https://github.com/apache/helix/issues/338#issuecomment-513419608","issue_url":"https://api.github.com/repos/apache/helix/issues/338","id":513419608,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzQxOTYwOA==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-20T00:41:33Z","updated_at":"2019-07-20T00:41:33Z","author_association":"CONTRIBUTOR","body":"I saw the diff right after leaving the comment. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/513419608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/513421460","html_url":"https://github.com/apache/helix/pull/339#issuecomment-513421460","issue_url":"https://api.github.com/repos/apache/helix/issues/339","id":513421460,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzQyMTQ2MA==","user":{"login":"junkaixue","id":6695617,"node_id":"MDQ6VXNlcjY2OTU2MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6695617?v=4","gravatar_id":"","url":"https://api.github.com/users/junkaixue","html_url":"https://github.com/junkaixue","followers_url":"https://api.github.com/users/junkaixue/followers","following_url":"https://api.github.com/users/junkaixue/following{/other_user}","gists_url":"https://api.github.com/users/junkaixue/gists{/gist_id}","starred_url":"https://api.github.com/users/junkaixue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junkaixue/subscriptions","organizations_url":"https://api.github.com/users/junkaixue/orgs","repos_url":"https://api.github.com/users/junkaixue/repos","events_url":"https://api.github.com/users/junkaixue/events{/privacy}","received_events_url":"https://api.github.com/users/junkaixue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-20T01:02:14Z","updated_at":"2019-07-20T01:02:14Z","author_association":"CONTRIBUTOR","body":"Let's use Helix template formatter in the intellij to do the work. We have our own style.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/513421460/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/513428194","html_url":"https://github.com/apache/helix/pull/346#issuecomment-513428194","issue_url":"https://api.github.com/repos/apache/helix/issues/346","id":513428194,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzQyODE5NA==","user":{"login":"lei-xia","id":9325494,"node_id":"MDQ6VXNlcjkzMjU0OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/9325494?v=4","gravatar_id":"","url":"https://api.github.com/users/lei-xia","html_url":"https://github.com/lei-xia","followers_url":"https://api.github.com/users/lei-xia/followers","following_url":"https://api.github.com/users/lei-xia/following{/other_user}","gists_url":"https://api.github.com/users/lei-xia/gists{/gist_id}","starred_url":"https://api.github.com/users/lei-xia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lei-xia/subscriptions","organizations_url":"https://api.github.com/users/lei-xia/orgs","repos_url":"https://api.github.com/users/lei-xia/repos","events_url":"https://api.github.com/users/lei-xia/events{/privacy}","received_events_url":"https://api.github.com/users/lei-xia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-20T02:32:37Z","updated_at":"2019-07-20T02:32:37Z","author_association":"MEMBER","body":"Is this fixing a single issue?  Why there are 4 commits? Can they be combined to one commit?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/513428194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/513437251","html_url":"https://github.com/apache/helix/issues/331#issuecomment-513437251","issue_url":"https://api.github.com/repos/apache/helix/issues/331","id":513437251,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzQzNzI1MQ==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-20T05:17:20Z","updated_at":"2019-07-20T05:17:20Z","author_association":"CONTRIBUTOR","body":"The re-subscribe does not rely on the async logic. It is by default done in the ZkClient.\r\nThe real problem is the race condition when updating the Helix cache. This prevents the controller from re-calculating the new mapping. Will update with more detail next week.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/513437251/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/513532438","html_url":"https://github.com/apache/helix/issues/326#issuecomment-513532438","issue_url":"https://api.github.com/repos/apache/helix/issues/326","id":513532438,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzUzMjQzOA==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-21T07:58:32Z","updated_at":"2019-07-21T07:58:32Z","author_association":"CONTRIBUTOR","body":"I don't see the call: getWorkflow() in the source code. Did you mean [getWorkflows](https://github.com/apache/helix/blob/3e670ded2ece50e21b76fcab7fed7cb61a24eea1/helix-core/src/main/java/org/apache/helix/task/TaskDriver.java#L836)()? \r\n  public Map<String, WorkflowConfig> getWorkflows() \r\n\r\nDo you think it is alright to have a default timeout for the current call getWorkflows() and also add a new api getWorkflow(long timeout) ?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/513532438/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/513534644","html_url":"https://github.com/apache/helix/issues/326#issuecomment-513534644","issue_url":"https://api.github.com/repos/apache/helix/issues/326","id":513534644,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzUzNDY0NA==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-21T08:32:58Z","updated_at":"2019-07-21T08:32:58Z","author_association":"CONTRIBUTOR","body":"It is a typo - it is getWorkflows(). For now, only adding getWorkflows (timeout) would suffice.\n\nHunter\n\nâ£Sent from BlueMail â€‹\n\nOn Jul 21, 2019, 09:58, at 09:58, pkuwm <notifications@github.com> wrote:\n>I don't see the call: getWorkflow() in the source code. Did you mean\n>[getWorkflows](https://github.com/apache/helix/blob/3e670ded2ece50e21b76fcab7fed7cb61a24eea1/helix-core/src/main/java/org/apache/helix/task/TaskDriver.java#L836)()?\n>\n>  public Map<String, WorkflowConfig> getWorkflows() \n>\n>Do you think it is alright to have a default timeout for the current\n>call getWorkflows() and also add a new api getWorkflow(long timeout) ?\n>\n>-- \n>You are receiving this because you authored the thread.\n>Reply to this email directly or view it on GitHub:\n>https://github.com/apache/helix/issues/326#issuecomment-513532438\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/513534644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/513535129","html_url":"https://github.com/apache/helix/issues/349#issuecomment-513535129","issue_url":"https://api.github.com/repos/apache/helix/issues/349","id":513535129,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzUzNTEyOQ==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-21T08:39:22Z","updated_at":"2019-07-21T08:39:22Z","author_association":"CONTRIBUTOR","body":"+1\n\nIf possible, let us also add the Apache license at the top of every file.\n\nHunter\n\n\nOn Sat, Jul 20, 2019, 23:01 jiajunwang <notifications@github.com> wrote:\n\n> The current format file helix-style.xml has very limited configured items.\n> This leaves too much flexibility to Helix developers. We shall add more\n> items to it.\n>\n> The known missing ones:\n>\n>    - Wildcard Imports\n>    - Annotation wrapping\n>    Could be more.\n>\n> Please comment on this issue and we will modify the format file\n> accordingly.\n>\n> â€”\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/helix/issues/349?email_source=notifications&email_token=ACNDRVYSZ2ZQ6SDM2GDMZFLQAN4LXA5CNFSM4IFPYGGKYY3PNVWWK3TUL52HS4DFUVEXG43VMWVGG33NNVSW45C7NFSM4HAOQ46A>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ACNDRV3LSJEJTWYA6KQ44J3QAN4LXANCNFSM4IFPYGGA>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/513535129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/513568933","html_url":"https://github.com/apache/helix/issues/326#issuecomment-513568933","issue_url":"https://api.github.com/repos/apache/helix/issues/326","id":513568933,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzU2ODkzMw==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-21T16:36:25Z","updated_at":"2019-07-21T16:36:25Z","author_association":"CONTRIBUTOR","body":"Thanks. Are you working on it? If not, may I take this ticket and\ncontribute?\n\nOn Sun, Jul 21, 2019 at 1:33 AM Hunter Lee <notifications@github.com> wrote:\n\n> It is a typo - it is getWorkflows(). For now, only adding getWorkflows\n> (timeout) would suffice.\n>\n> Hunter\n>\n> â£Sent from BlueMail â€‹\n>\n> On Jul 21, 2019, 09:58, at 09:58, pkuwm <notifications@github.com> wrote:\n> >I don't see the call: getWorkflow() in the source code. Did you mean\n> >[getWorkflows](\n> https://github.com/apache/helix/blob/3e670ded2ece50e21b76fcab7fed7cb61a24eea1/helix-core/src/main/java/org/apache/helix/task/TaskDriver.java#L836)(\n> )?\n> >\n> > public Map<String, WorkflowConfig> getWorkflows()\n> >\n> >Do you think it is alright to have a default timeout for the current\n> >call getWorkflows() and also add a new api getWorkflow(long timeout) ?\n> >\n> >--\n> >You are receiving this because you authored the thread.\n> >Reply to this email directly or view it on GitHub:\n> >https://github.com/apache/helix/issues/326#issuecomment-513532438\n>\n> â€”\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/helix/issues/326?email_source=notifications&email_token=ABHSRCMUIWK4GLYKEMRBCBLQAQNLZA5CNFSM4H36DXA2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD2N6VNA#issuecomment-513534644>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ABHSRCPE4YIBD6LQSD3XVITQAQNLZANCNFSM4H36DXAQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/513568933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/513569098","html_url":"https://github.com/apache/helix/issues/326#issuecomment-513569098","issue_url":"https://api.github.com/repos/apache/helix/issues/326","id":513569098,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzU2OTA5OA==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-21T16:38:48Z","updated_at":"2019-07-21T16:38:48Z","author_association":"CONTRIBUTOR","body":"Feel free to contribute. I have not started working on it yet. The implementation should be straightforward and I could help with the review.\n\nHunter\n\nâ£Sent from BlueMail â€‹\n\nOn Jul 21, 2019, 18:36, at 18:36, pkuwm <notifications@github.com> wrote:\n>Thanks. Are you working on it? If not, may I take this ticket and\n>contribute?\n>\n>On Sun, Jul 21, 2019 at 1:33 AM Hunter Lee <notifications@github.com>\n>wrote:\n>\n>> It is a typo - it is getWorkflows(). For now, only adding\n>getWorkflows\n>> (timeout) would suffice.\n>>\n>> Hunter\n>>\n>> â£Sent from BlueMail â€‹\n>>\n>> On Jul 21, 2019, 09:58, at 09:58, pkuwm <notifications@github.com>\n>wrote:\n>> >I don't see the call: getWorkflow() in the source code. Did you\n>mean\n>> >[getWorkflows](\n>>\n>https://github.com/apache/helix/blob/3e670ded2ece50e21b76fcab7fed7cb61a24eea1/helix-core/src/main/java/org/apache/helix/task/TaskDriver.java#L836)(\n>> )?\n>> >\n>> > public Map<String, WorkflowConfig> getWorkflows()\n>> >\n>> >Do you think it is alright to have a default timeout for the\n>current\n>> >call getWorkflows() and also add a new api getWorkflow(long timeout)\n>?\n>> >\n>> >--\n>> >You are receiving this because you authored the thread.\n>> >Reply to this email directly or view it on GitHub:\n>> >https://github.com/apache/helix/issues/326#issuecomment-513532438\n>>\n>> â€”\n>> You are receiving this because you commented.\n>> Reply to this email directly, view it on GitHub\n>>\n><https://github.com/apache/helix/issues/326?email_source=notifications&email_token=ABHSRCMUIWK4GLYKEMRBCBLQAQNLZA5CNFSM4H36DXA2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD2N6VNA#issuecomment-513534644>,\n>> or mute the thread\n>>\n><https://github.com/notifications/unsubscribe-auth/ABHSRCPE4YIBD6LQSD3XVITQAQNLZANCNFSM4H36DXAQ>\n>> .\n>>\n>\n>\n>-- \n>You are receiving this because you authored the thread.\n>Reply to this email directly or view it on GitHub:\n>https://github.com/apache/helix/issues/326#issuecomment-513568933\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/513569098/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/513576653","html_url":"https://github.com/apache/helix/issues/326#issuecomment-513576653","issue_url":"https://api.github.com/repos/apache/helix/issues/326","id":513576653,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzU3NjY1Mw==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-21T18:27:06Z","updated_at":"2019-07-21T18:27:06Z","author_association":"CONTRIBUTOR","body":"Awesome. I'll take it then. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/513576653/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/513970542","html_url":"https://github.com/apache/helix/issues/352#issuecomment-513970542","issue_url":"https://api.github.com/repos/apache/helix/issues/352","id":513970542,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzk3MDU0Mg==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T21:56:53Z","updated_at":"2019-07-22T21:56:53Z","author_association":"CONTRIBUTOR","body":"It makes sense not to double-log things in the log and the exception. If we want to make this change, however, let us consider the following:\n\n1. Make sure other Helix APIs (such as REST apis) would be okay with this behavior.\n2. What implications would the behavior change have on other applications built on Helix? It is important that we keep things backward compatible. If a downstream service just swallows the exception, would the information be lost? Vice versa if we removed the exception.\n\nHunter\n\nâ£\n\nOn Jul 22, 2019, 21:56, at 21:56, pkuwm <notifications@github.com> wrote:\n>Same log message should not be logged right while an exception is also\n>thrown. Ex.:\n>https://github.com/apache/helix/blob/3e670ded2ece50e21b76fcab7fed7cb61a24eea1/helix-core/src/main/java/org/apache/helix/task/TaskDriver.java#L337\n>\n>The principal \"don't log and throw\" would be a nice practice for\n>handling exceptions in Java. We would like to keep the logs clean and\n>helpful without redundancy. An exception message is enough to describe\n>the exceptional event. And the stack trace tells you in which class,\n>method, and line the exception was thrown.\n>\n>\n>\n>-- \n>You are receiving this because you are subscribed to this thread.\n>Reply to this email directly or view it on GitHub:\n>https://github.com/apache/helix/issues/352\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/513970542/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/513972958","html_url":"https://github.com/apache/helix/issues/353#issuecomment-513972958","issue_url":"https://api.github.com/repos/apache/helix/issues/353","id":513972958,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzk3Mjk1OA==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T22:05:49Z","updated_at":"2019-07-22T22:05:49Z","author_association":"CONTRIBUTOR","body":"Actually, we do not want to log anything here.\n\n1. This exception does not actually signal that anything is wrong. It just means that the resource config read from ZK is not of the workflow type (not a WorkflowConfig). The inline comment says this. The code is essentially using a try-catch like an if-else clause if that makes sense.\n\n2. Perhaps a better way to do this is by looking to see if the ZNRecord has a workflow-related field or not. This change could be made (using an if-else), but since the end result would be the same, so I would put this at a lower priority. It would be a style fix\n\nHunter\n\nOn Jul 22, 2019, 22:01, at 22:01, pkuwm <notifications@github.com> wrote:\n>Ex.:\n>https://github.com/apache/helix/blob/3e670ded2ece50e21b76fcab7fed7cb61a24eea1/helix-core/src/main/java/org/apache/helix/task/TaskDriver.java#L846\n>\n>If you catch an exception, you may not want to ignore it. Adding a log\n>message would help engineers to understand what happens.\n>\n>-- \n>You are receiving this because you are subscribed to this thread.\n>Reply to this email directly or view it on GitHub:\n>https://github.com/apache/helix/issues/353\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/513972958/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/513980123","html_url":"https://github.com/apache/helix/issues/354#issuecomment-513980123","issue_url":"https://api.github.com/repos/apache/helix/issues/354","id":513980123,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzk4MDEyMw==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T22:32:50Z","updated_at":"2019-07-22T22:32:50Z","author_association":"CONTRIBUTOR","body":"Could we add a little more context for this? What do we need stats for? Can't we use DataAccessor for Stats instead?\n\n-Hunter\n\nOn Jul 23, 2019, 00:29, at 00:29, Junkai Xue <notifications@github.com> wrote:\n>If you read ResourceConfig through ConfigAccessor, the stats are not\n>pulled from ZK. Thus the stats data is incorrect with these objects.\n>\n>We need to add the logic to the ConfigAccessor, not only for\n>ResourceConfig but also other objects.\n>\n>-- \n>You are receiving this because you are subscribed to this thread.\n>Reply to this email directly or view it on GitHub:\n>https://github.com/apache/helix/issues/354\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/513980123/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/513981654","html_url":"https://github.com/apache/helix/issues/354#issuecomment-513981654","issue_url":"https://api.github.com/repos/apache/helix/issues/354","id":513981654,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzk4MTY1NA==","user":{"login":"junkaixue","id":6695617,"node_id":"MDQ6VXNlcjY2OTU2MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6695617?v=4","gravatar_id":"","url":"https://api.github.com/users/junkaixue","html_url":"https://github.com/junkaixue","followers_url":"https://api.github.com/users/junkaixue/followers","following_url":"https://api.github.com/users/junkaixue/following{/other_user}","gists_url":"https://api.github.com/users/junkaixue/gists{/gist_id}","starred_url":"https://api.github.com/users/junkaixue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junkaixue/subscriptions","organizations_url":"https://api.github.com/users/junkaixue/orgs","repos_url":"https://api.github.com/users/junkaixue/repos","events_url":"https://api.github.com/users/junkaixue/events{/privacy}","received_events_url":"https://api.github.com/users/junkaixue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T22:39:43Z","updated_at":"2019-07-22T22:39:43Z","author_association":"CONTRIBUTOR","body":"@narendly This is a bug since all the ZNode objects extends from HelixProperty which contains Stats. We should not have incomplete data delivered through our public API.\r\n\r\nFor our logic, yes, we definitely can use HelixDataAccessor for reading ResourceConfig. But we left a defect there that could potential misleading external users.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/513981654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/513984628","html_url":"https://github.com/apache/helix/issues/331#issuecomment-513984628","issue_url":"https://api.github.com/repos/apache/helix/issues/331","id":513984628,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzk4NDYyOA==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T22:51:41Z","updated_at":"2019-07-22T22:51:41Z","author_association":"CONTRIBUTOR","body":"The root cause of the issue is a race condition in Helix cache refresh logic. Basically, Helix relies on the ZK notification path to set up 2 things:\r\n1. If the current assignment is still valid.\r\n2. If the data cache needs to be refreshed.\r\n\r\nThe race condition causes these 2 checks to have a different result. The assignment was not invalidated. But the cache was updated. As a result, the rebalancer refused to calculate a new mapping even knows the latest IdealState.\r\n\r\nThe impact is limited in the CUSTOM rebalance mode only. Because the fist check is done for custom rebalancer only.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/513984628/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/513987724","html_url":"https://github.com/apache/helix/issues/353#issuecomment-513987724","issue_url":"https://api.github.com/repos/apache/helix/issues/353","id":513987724,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzk4NzcyNA==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T23:05:04Z","updated_at":"2019-07-22T23:05:04Z","author_association":"CONTRIBUTOR","body":"Thanks for the explanation! I understand what the code is doing. If the property is not a correct type, it continues to check next one. My idea is if it is an exception, it should be handled properly, at least log the info to indicate the property/key is not a workflow type so it could be resolved.\r\n\r\nAnytime, the code above is just an example. There may be other places donâ€™t handle all the exceptions. I propose this to handle exceptions properly.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/513987724/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/513988590","html_url":"https://github.com/apache/helix/pull/341#issuecomment-513988590","issue_url":"https://api.github.com/repos/apache/helix/issues/341","id":513988590,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzk4ODU5MA==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T23:09:29Z","updated_at":"2019-07-22T23:09:29Z","author_association":"CONTRIBUTOR","body":"As discussed with other team members, this check-in looks good in general. We might need to update it further when more detailed implementations are added. Since we are developing on a branch, before the merge, there is no backward-compatible concern.\r\nAfter checking to the branch, whoever uses the interfaces, please feel free to modify if necessary.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/513988590/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/513988811","html_url":"https://github.com/apache/helix/issues/353#issuecomment-513988811","issue_url":"https://api.github.com/repos/apache/helix/issues/353","id":513988811,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzk4ODgxMQ==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T23:10:30Z","updated_at":"2019-07-22T23:10:30Z","author_association":"CONTRIBUTOR","body":"What you are saying makes sense. But for this exception specifically,Â  we do not want to log it because it will pollute the log.\n\nSuppose you have an application that has a lot of non-workflow configs and just a few workflow configs. If the application calls getWorkflows () frequently, it will have a lot of redundant logs. This is a Helix internal detail we do not expose to the application. \n\nDoes this make sense?\n\n- Hunter\n\nOn Jul 23, 2019, 01:05, at 01:05, pkuwm <notifications@github.com> wrote:\n>Thanks for the explanation! I understand what the code is doing. If the\n>property is not a correct type, it continues to check next one. My idea\n>is if it is an exception, it should be handled properly, at least log\n>the info to indicate the property/key is not a workflow type so it\n>could be resolved.\n>\n>Anytime, the code above is just an example. There may be other places\n>donâ€™t handle all the exceptions. I propose this to handle exceptions\n>properly.\n>\n>-- \n>You are receiving this because you commented.\n>Reply to this email directly or view it on GitHub:\n>https://github.com/apache/helix/issues/353#issuecomment-513987724\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/513988811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/513989903","html_url":"https://github.com/apache/helix/issues/353#issuecomment-513989903","issue_url":"https://api.github.com/repos/apache/helix/issues/353","id":513989903,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzk4OTkwMw==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T23:15:54Z","updated_at":"2019-07-22T23:15:54Z","author_association":"CONTRIBUTOR","body":"Yes, it makes sense not to expose the config details. \r\n\r\nBut just curious, regarding this workflowConfig checking, do we have a better way to validate if all the configs are workflow configs or not? It is just validated in fromHelixProperty by throwing an IllegalArgumentException.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/513989903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/513990562","html_url":"https://github.com/apache/helix/issues/353#issuecomment-513990562","issue_url":"https://api.github.com/repos/apache/helix/issues/353","id":513990562,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzk5MDU2Mg==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T23:19:16Z","updated_at":"2019-07-22T23:19:16Z","author_association":"CONTRIBUTOR","body":"Yes. Like I implied in my previous comment, there are certain fields that only show up in valid WorkflowConfigs. I believe \"workflowId\" is one.\n\nYou could accomplish the same thing with an if-else, so a better way to do this is to check for the workflow id field in the ZNRecord.\n\n- Hunter\n\nOn Jul 23, 2019, 01:15, at 01:15, pkuwm <notifications@github.com> wrote:\n>Yes, it makes sense not to expose the config details. \n>\n>But just curious, regarding this workflowConfig checking, do we have a\n>better way to validate if all the configs are workflow configs or not?\n>It is just validated in fromHelixProperty by throwing an\n>IllegalArgumentException.\n>\n>-- \n>You are receiving this because you commented.\n>Reply to this email directly or view it on GitHub:\n>https://github.com/apache/helix/issues/353#issuecomment-513989903\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/513990562/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/513991073","html_url":"https://github.com/apache/helix/issues/353#issuecomment-513991073","issue_url":"https://api.github.com/repos/apache/helix/issues/353","id":513991073,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzk5MTA3Mw==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T23:21:45Z","updated_at":"2019-07-22T23:21:45Z","author_association":"CONTRIBUTOR","body":"I agree with you. Instead of using an exception like way, maybe an if\ncondition could solve the problem and avoid exception handling.\n\nOn Mon, Jul 22, 2019 at 4:19 PM Hunter Lee <notifications@github.com> wrote:\n\n> Yes. Like I implied in my previous comment, there are certain fields that\n> only show up in valid WorkflowConfigs. I believe \"workflowId\" is one.\n>\n> You could accomplish the same thing with an if-else, so a better way to do\n> this is to check for the workflow id field in the ZNRecord.\n>\n> - Hunter\n>\n> On Jul 23, 2019, 01:15, at 01:15, pkuwm <notifications@github.com> wrote:\n> >Yes, it makes sense not to expose the config details.\n> >\n> >But just curious, regarding this workflowConfig checking, do we have a\n> >better way to validate if all the configs are workflow configs or not?\n> >It is just validated in fromHelixProperty by throwing an\n> >IllegalArgumentException.\n> >\n> >--\n> >You are receiving this because you commented.\n> >Reply to this email directly or view it on GitHub:\n> >https://github.com/apache/helix/issues/353#issuecomment-513989903\n>\n> â€”\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/helix/issues/353?email_source=notifications&email_token=ABHSRCMGD76OZNCIGQBBIK3QAY57PA5CNFSM4IF4HDP2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD2RN7IQ#issuecomment-513990562>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ABHSRCOUXJPJOFFYMQGULBTQAY57PANCNFSM4IF4HDPQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/513991073/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/513991286","html_url":"https://github.com/apache/helix/issues/353#issuecomment-513991286","issue_url":"https://api.github.com/repos/apache/helix/issues/353","id":513991286,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzk5MTI4Ng==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T23:22:50Z","updated_at":"2019-07-22T23:22:50Z","author_association":"CONTRIBUTOR","body":"Just to reiterate, since this part of the code is working correctly, I would just leave this as is. If you would like to take a jab at it just as an exercise, that is also fine, but again there are multiple correct ways to accomplish the same end result.\n\n- Hunter\n\nOn Jul 23, 2019, 01:19, at 01:19, Hunter Lee <narendly@gmail.com> wrote:\n>Yes. Like I implied in my previous comment, there are certain fields\n>that only show up in valid WorkflowConfigs. I believe \"workflowId\" is\n>one.\n>\n>You could accomplish the same thing with an if-else, so a better way to\n>do this is to check for the workflow id field in the ZNRecord.\n>\n>- Hunter\n>\n>On Jul 23, 2019, 01:15, at 01:15, pkuwm <notifications@github.com>\n>wrote:\n>>Yes, it makes sense not to expose the config details.\n>>\n>>But just curious, regarding this workflowConfig checking, do we have a\n>>better way to validate if all the configs are workflow configs or not?\n>>It is just validated in fromHelixProperty by throwing an\n>>IllegalArgumentException.\n>>\n>>--\n>>You are receiving this because you commented.\n>>Reply to this email directly or view it on GitHub:\n>>https://github.com/apache/helix/issues/353#issuecomment-513989903\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/513991286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/513992696","html_url":"https://github.com/apache/helix/issues/353#issuecomment-513992696","issue_url":"https://api.github.com/repos/apache/helix/issues/353","id":513992696,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzk5MjY5Ng==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T23:29:37Z","updated_at":"2019-07-22T23:29:37Z","author_association":"CONTRIBUTOR","body":"Sure. Agree on this: a problem could have multiple solutions. Maybe this is\njust a personal coding style. I just personally prefer to handle all the\nexceptions. If not, then think of another to solve the problem.\n\nThen closing the issue and leaving the code as is.\n\nOn Mon, Jul 22, 2019 at 4:22 PM Hunter Lee <notifications@github.com> wrote:\n\n> Just to reiterate, since this part of the code is working correctly, I\n> would just leave this as is. If you would like to take a jab at it just as\n> an exercise, that is also fine, but again there are multiple correct ways\n> to accomplish the same end result.\n>\n> - Hunter\n>\n> On Jul 23, 2019, 01:19, at 01:19, Hunter Lee <narendly@gmail.com> wrote:\n> >Yes. Like I implied in my previous comment, there are certain fields\n> >that only show up in valid WorkflowConfigs. I believe \"workflowId\" is\n> >one.\n> >\n> >You could accomplish the same thing with an if-else, so a better way to\n> >do this is to check for the workflow id field in the ZNRecord.\n> >\n> >- Hunter\n> >\n> >On Jul 23, 2019, 01:15, at 01:15, pkuwm <notifications@github.com>\n> >wrote:\n> >>Yes, it makes sense not to expose the config details.\n> >>\n> >>But just curious, regarding this workflowConfig checking, do we have a\n> >>better way to validate if all the configs are workflow configs or not?\n> >>It is just validated in fromHelixProperty by throwing an\n> >>IllegalArgumentException.\n> >>\n> >>--\n> >>You are receiving this because you commented.\n> >>Reply to this email directly or view it on GitHub:\n> >>https://github.com/apache/helix/issues/353#issuecomment-513989903\n>\n> â€”\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/helix/issues/353?email_source=notifications&email_token=ABHSRCOIXW5HM26KF5OWVQ3QAY6MZA5CNFSM4IF4HDP2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD2ROE5Q#issuecomment-513991286>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ABHSRCOOQNNF2WCIDJEN4ZDQAY6MZANCNFSM4IF4HDPQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/513992696/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/514013728","html_url":"https://github.com/apache/helix/issues/349#issuecomment-514013728","issue_url":"https://api.github.com/repos/apache/helix/issues/349","id":514013728,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDAxMzcyOA==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T01:12:35Z","updated_at":"2019-07-23T01:13:17Z","author_association":"CONTRIBUTOR","body":"How about the order of imports, to make the imports consistent in the project? Like:\r\n```\r\nimport java.*\r\nimport javax.*\r\n\r\nimport com.*\r\n\r\nimport net.*\r\n\r\nimport org.*\r\n\r\nimport static *\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/514013728/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/514017940","html_url":"https://github.com/apache/helix/pull/339#issuecomment-514017940","issue_url":"https://api.github.com/repos/apache/helix/issues/339","id":514017940,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDAxNzk0MA==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T01:36:00Z","updated_at":"2019-07-23T01:36:00Z","author_association":"CONTRIBUTOR","body":"Sounds good!\n\nOn Mon, Jul 22, 2019 at 6:34 PM kaisun2000 <notifications@github.com> wrote:\n\n> *@kaisun2000* commented on this pull request.\n> ------------------------------\n>\n> In\n> helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/ClusterAccessor.java\n> <https://github.com/apache/helix/pull/339#discussion_r306097170>:\n>\n> > +      @PathParam(\"clusterId\") String clusterId,\n> +      @PathParam(\"statemodel\") String statemodel,\n> +      String content\n> +  ) {\n> +    ZNRecord record;\n> +    try {\n> +      record = toZNRecord(content);\n> +    } catch (IOException e) {\n> +      _logger.error(\"Failed to deserialize user's input \" + content + \", Exception: \" + e);\n> +      return badRequest(\"Input is not a valid ZNRecord!\");\n> +    }\n> +    HelixZkClient zkClient = getHelixZkClient();\n> +    String path = PropertyPathBuilder.stateModelDef(clusterId);\n> +    try {\n> +      ZKUtil.createChildren(zkClient, path, record);\n> +    } catch (Exception e) {\n>\n> That is probably beyond the scope of this diff. How about let us keep it\n> this way for now.\n>\n> â€”\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/helix/pull/339?email_source=notifications&email_token=ABHSRCIIKZTSBUU45QBA3XTQAZN3XA5CNFSM4IEJMI22YY3PNVWWK3TUL52HS4DFWFIHK3DMKJSXC5LFON2FEZLWNFSXPKTDN5WW2ZLOORPWSZGOB7GZ5WY#discussion_r306097170>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ABHSRCMIYA22LBDSSQDG4JDQAZN3XANCNFSM4IEJMI2Q>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/514017940/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/514099797","html_url":"https://github.com/apache/helix/pull/357#issuecomment-514099797","issue_url":"https://api.github.com/repos/apache/helix/issues/357","id":514099797,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDA5OTc5Nw==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T08:02:27Z","updated_at":"2019-07-23T08:02:27Z","author_association":"CONTRIBUTOR","body":"Wonder what the unit test requirement is. Can you please suggest?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/514099797/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/514101832","html_url":"https://github.com/apache/helix/pull/357#issuecomment-514101832","issue_url":"https://api.github.com/repos/apache/helix/issues/357","id":514101832,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDEwMTgzMg==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T08:08:32Z","updated_at":"2019-07-23T08:08:32Z","author_association":"CONTRIBUTOR","body":"Please review the pull request guidelines and format your pull request accordingly.\n\nOn Jul 23, 2019, 10:01, at 10:01, pkuwm <notifications@github.com> wrote:\n>Sometimes zookeeper hangs in the getWorkflows() call, and we could\n>provide an API with a timeout to handle this at the application level.\n>Use ExcecutorService and Future to implement the timeout function.\n>Call future.get(long timeout, TimeUnit timeUnit) to wait for result.\n>\n>This commit resolves #326:\n>1. Add a static API parseWorkflowConfig to class WorkflowConfig.\n>The API can parse HelixProperty.\n>2. Add an API getWorkflows(long timeout) to TaskDriver.\n>You can view, comment on, or merge this pull request online at:\n>\n>  https://github.com/apache/helix/pull/357\n>\n>-- Commit Summary --\n>\n>  * Add getWorkflows(long timeout) to TaskDriver.\n>\n>-- File Changes --\n>\n>  M helix-core/src/main/java/org/apache/helix/task/TaskDriver.java (54)\n>M helix-core/src/main/java/org/apache/helix/task/WorkflowConfig.java\n>(16)\n>\n>-- Patch Links --\n>\n>https://github.com/apache/helix/pull/357.patch\n>https://github.com/apache/helix/pull/357.diff\n>\n>-- \n>You are receiving this because you are subscribed to this thread.\n>Reply to this email directly or view it on GitHub:\n>https://github.com/apache/helix/pull/357\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/514101832/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/514104602","html_url":"https://github.com/apache/helix/pull/357#issuecomment-514104602","issue_url":"https://api.github.com/repos/apache/helix/issues/357","id":514104602,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDEwNDYwMg==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T08:16:48Z","updated_at":"2019-07-23T08:16:48Z","author_association":"CONTRIBUTOR","body":"As for parseWorkflow - I think it will be cleaner if we could have something like isWorkflowConfig() instead that returns T/F, and based on the result, include it here or not. This way, we do not return null (a code smell), and there are other places in the codebase where we could re-use isWorkflowConfig.\n\nOn Jul 23, 2019, 10:02, at 10:02, pkuwm <notifications@github.com> wrote:\n>Wonder what the unit test requirement is. Can you please suggest?\n>\n>-- \n>You are receiving this because you are subscribed to this thread.\n>Reply to this email directly or view it on GitHub:\n>https://github.com/apache/helix/pull/357#issuecomment-514099797\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/514104602/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/514105616","html_url":"https://github.com/apache/helix/pull/357#issuecomment-514105616","issue_url":"https://api.github.com/repos/apache/helix/issues/357","id":514105616,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDEwNTYxNg==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T08:19:45Z","updated_at":"2019-07-23T08:19:45Z","author_association":"CONTRIBUTOR","body":"Also, to follow the DRY principle - could you try to reuse the logic we have in the existing getWorkflows ()? getWorkflows(long timeout) could simply be a wrapper for getWorkflows () with a timeout.\n\nOn Jul 23, 2019, 10:01, at 10:01, pkuwm <notifications@github.com> wrote:\n>Sometimes zookeeper hangs in the getWorkflows() call, and we could\n>provide an API with a timeout to handle this at the application level.\n>Use ExcecutorService and Future to implement the timeout function.\n>Call future.get(long timeout, TimeUnit timeUnit) to wait for result.\n>\n>This commit resolves #326:\n>1. Add a static API parseWorkflowConfig to class WorkflowConfig.\n>The API can parse HelixProperty.\n>2. Add an API getWorkflows(long timeout) to TaskDriver.\n>You can view, comment on, or merge this pull request online at:\n>\n>  https://github.com/apache/helix/pull/357\n>\n>-- Commit Summary --\n>\n>  * Add getWorkflows(long timeout) to TaskDriver.\n>\n>-- File Changes --\n>\n>  M helix-core/src/main/java/org/apache/helix/task/TaskDriver.java (54)\n>M helix-core/src/main/java/org/apache/helix/task/WorkflowConfig.java\n>(16)\n>\n>-- Patch Links --\n>\n>https://github.com/apache/helix/pull/357.patch\n>https://github.com/apache/helix/pull/357.diff\n>\n>-- \n>You are receiving this because you are subscribed to this thread.\n>Reply to this email directly or view it on GitHub:\n>https://github.com/apache/helix/pull/357\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/514105616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/514106193","html_url":"https://github.com/apache/helix/pull/357#issuecomment-514106193","issue_url":"https://api.github.com/repos/apache/helix/issues/357","id":514106193,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDEwNjE5Mw==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T08:21:24Z","updated_at":"2019-07-23T08:21:24Z","author_association":"CONTRIBUTOR","body":"Right. I was actually considering that. But it seems after checking\nisWFConfig, parsing is still needed. To me it seems redundant.\nIf other places could call isWFConfig, maybe we can have a isWFConfig and\nuse fromHelixProperty to parse the property after checking?\n\nOn Tue, Jul 23, 2019 at 1:16 AM Hunter Lee <notifications@github.com> wrote:\n\n> As for parseWorkflow - I think it will be cleaner if we could have\n> something like isWorkflowConfig() instead that returns T/F, and based on\n> the result, include it here or not. This way, we do not return null (a code\n> smell), and there are other places in the codebase where we could re-use\n> isWorkflowConfig.\n>\n> On Jul 23, 2019, 10:02, at 10:02, pkuwm <notifications@github.com> wrote:\n> >Wonder what the unit test requirement is. Can you please suggest?\n> >\n> >--\n> >You are receiving this because you are subscribed to this thread.\n> >Reply to this email directly or view it on GitHub:\n> >https://github.com/apache/helix/pull/357#issuecomment-514099797\n>\n> â€”\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/helix/pull/357?email_source=notifications&email_token=ABHSRCLNW6B7I5GKE2CP6M3QA247HA5CNFSM4IGBGEJKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD2SJ2GQ#issuecomment-514104602>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ABHSRCP23KGM5PJHQDOFONLQA247HANCNFSM4IGBGEJA>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/514106193/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/514106795","html_url":"https://github.com/apache/helix/pull/357#issuecomment-514106795","issue_url":"https://api.github.com/repos/apache/helix/issues/357","id":514106795,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDEwNjc5NQ==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T08:23:03Z","updated_at":"2019-07-23T08:23:03Z","author_association":"CONTRIBUTOR","body":"And once you've done that, in your unit test, create a mock of getWorkflow () function, and make it take a long time (to simulate ZK disconnect - or just literally disconnect the HelixManager), and make sure the new API behaves as expected.\n\nI apologize for making these comments since I am not able to log in to GitHub on my phone.\n\n- Hunter\n\nOn Jul 23, 2019, 10:02, at 10:02, pkuwm <notifications@github.com> wrote:\n>Wonder what the unit test requirement is. Can you please suggest?\n>\n>-- \n>You are receiving this because you are subscribed to this thread.\n>Reply to this email directly or view it on GitHub:\n>https://github.com/apache/helix/pull/357#issuecomment-514099797\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/514106795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/514109056","html_url":"https://github.com/apache/helix/pull/357#issuecomment-514109056","issue_url":"https://api.github.com/repos/apache/helix/issues/357","id":514109056,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDEwOTA1Ng==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T08:29:09Z","updated_at":"2019-07-23T08:29:09Z","author_association":"CONTRIBUTOR","body":"Definitely could. I thought about it. getWorkflows() calls getWorkflows(0).\nBut considering future.get can also accept 0 as timeouts. If we donâ€™t\nexpect 0 ms as timeout, we could definitely clean up getWorkflows() and\ncall getWorkflows(0), which means no timeout. How about that?\n\nOn Tue, Jul 23, 2019 at 1:19 AM Hunter Lee <notifications@github.com> wrote:\n\n> Also, to follow the DRY principle - could you try to reuse the logic we\n> have in the existing getWorkflows ()? getWorkflows(long timeout) could\n> simply be a wrapper for getWorkflows () with a timeout.\n>\n> On Jul 23, 2019, 10:01, at 10:01, pkuwm <notifications@github.com> wrote:\n> >Sometimes zookeeper hangs in the getWorkflows() call, and we could\n> >provide an API with a timeout to handle this at the application level.\n> >Use ExcecutorService and Future to implement the timeout function.\n> >Call future.get(long timeout, TimeUnit timeUnit) to wait for result.\n> >\n> >This commit resolves #326:\n> >1. Add a static API parseWorkflowConfig to class WorkflowConfig.\n> >The API can parse HelixProperty.\n> >2. Add an API getWorkflows(long timeout) to TaskDriver.\n> >You can view, comment on, or merge this pull request online at:\n> >\n> > https://github.com/apache/helix/pull/357\n> >\n> >-- Commit Summary --\n> >\n> > * Add getWorkflows(long timeout) to TaskDriver.\n> >\n> >-- File Changes --\n> >\n> > M helix-core/src/main/java/org/apache/helix/task/TaskDriver.java (54)\n> >M helix-core/src/main/java/org/apache/helix/task/WorkflowConfig.java\n> >(16)\n> >\n> >-- Patch Links --\n> >\n> >https://github.com/apache/helix/pull/357.patch\n> >https://github.com/apache/helix/pull/357.diff\n> >\n> >--\n> >You are receiving this because you are subscribed to this thread.\n> >Reply to this email directly or view it on GitHub:\n> >https://github.com/apache/helix/pull/357\n>\n> â€”\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/helix/pull/357?email_source=notifications&email_token=ABHSRCLYUXRFQ6JWJKWJAOTQA25KHA5CNFSM4IGBGEJKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD2SKCEA#issuecomment-514105616>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ABHSRCIEWXMUBUMZIUTBTALQA25KHANCNFSM4IGBGEJA>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/514109056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/514130185","html_url":"https://github.com/apache/helix/pull/357#issuecomment-514130185","issue_url":"https://api.github.com/repos/apache/helix/issues/357","id":514130185,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDEzMDE4NQ==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T09:26:55Z","updated_at":"2019-07-23T09:27:08Z","author_association":"CONTRIBUTOR","body":"> As for parseWorkflow - I think it will be cleaner if we could have something like isWorkflowConfig() instead that returns T/F, and based on the result, include it here or not. This way, we do not return null (a code smell), and there are other places in the codebase where we could re-use isWorkflowConfig.\r\n> [â€¦](#)\r\n> On Jul 23, 2019, 10:02, at 10:02, pkuwm ***@***.***> wrote: Wonder what the unit test requirement is. Can you please suggest? -- You are receiving this because you are subscribed to this thread. Reply to this email directly or view it on GitHub: [#357 (comment)](https://github.com/apache/helix/pull/357#issuecomment-514099797)\r\n\r\nOK. If null is not welcomed (everyone hates null), how about Optional to avoid null? I personally like Optional more than `null` or ignore exceptions in a catch block. Do you guys like Optional to possibly handle the `null` cases?\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/514130185/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/514133992","html_url":"https://github.com/apache/helix/pull/357#issuecomment-514133992","issue_url":"https://api.github.com/repos/apache/helix/issues/357","id":514133992,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDEzMzk5Mg==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T09:37:09Z","updated_at":"2019-07-23T09:37:09Z","author_association":"CONTRIBUTOR","body":"I don't think using Optional just for the sake of removing null is appropriate. I wouldn't think it would help with performance either. You could call isWorkflowConfig and parse if it is true, and skip if false, thereby doing minimal amount of parsing needed overall.\n\nOn Jul 23, 2019, 11:26, at 11:26, pkuwm <notifications@github.com> wrote:\n>> As for parseWorkflow - I think it will be cleaner if we could have\n>something like isWorkflowConfig() instead that returns T/F, and based\n>on the result, include it here or not. This way, we do not return null\n>(a code smell), and there are other places in the codebase where we\n>could re-use isWorkflowConfig.\n>> [â€¦](#)\n>> On Jul 23, 2019, 10:02, at 10:02, pkuwm ***@***.***> wrote: Wonder\n>what the unit test requirement is. Can you please suggest? -- You are\n>receiving this because you are subscribed to this thread. Reply to this\n>email directly or view it on GitHub: [#357\n>(comment)](https://github.com/apache/helix/pull/357#issuecomment-514099797)\n>\n>OK. If null is not welcomed (everyone hates null), how about Optional\n>to avoid null? I personally like Optional more than `null` or ignore\n>exceptions in a catch block. Do you guys like Optional to possibly\n>handle the `null` cases?\n>\n>> As for parseWorkflow - I think it will be cleaner if we could have\n>something like isWorkflowConfig() instead that returns T/F, and based\n>on the result, include it here or not. This way, we do not return null\n>(a code smell), and there are other places in the codebase where we\n>could re-use isWorkflowConfig.\n>> [â€¦](#)\n>> On Jul 23, 2019, 10:02, at 10:02, pkuwm ***@***.***> wrote: Wonder\n>what the unit test requirement is. Can you please suggest? -- You are\n>receiving this because you are subscribed to this thread. Reply to this\n>email directly or view it on GitHub: [#357\n>(comment)](https://github.com/apache/helix/pull/357#issuecomment-514099797)\n>\n>\n>\n>-- \n>You are receiving this because you commented.\n>Reply to this email directly or view it on GitHub:\n>https://github.com/apache/helix/pull/357#issuecomment-514130185\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/514133992/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/514134881","html_url":"https://github.com/apache/helix/pull/357#issuecomment-514134881","issue_url":"https://api.github.com/repos/apache/helix/issues/357","id":514134881,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDEzNDg4MQ==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T09:39:48Z","updated_at":"2019-07-23T09:39:48Z","author_association":"CONTRIBUTOR","body":"As for the timeout value of 0, the semantics you proposed are a bit confusing.\n\nPerhaps enforce that the timeout value must be greater than 0. Throw a HelixException if equal to or less than 0? Also make sure the JavaDoc includes this information.\n\n-Hunter\n\nOn Jul 23, 2019, 10:29, at 10:29, pkuwm <notifications@github.com> wrote:\n>Definitely could. I thought about it. getWorkflows() calls\n>getWorkflows(0).\n>But considering future.get can also accept 0 as timeouts. If we donâ€™t\n>expect 0 ms as timeout, we could definitely clean up getWorkflows()\n>and\n>call getWorkflows(0), which means no timeout. How about that?\n>\n>On Tue, Jul 23, 2019 at 1:19 AM Hunter Lee <notifications@github.com>\n>wrote:\n>\n>> Also, to follow the DRY principle - could you try to reuse the logic\n>we\n>> have in the existing getWorkflows ()? getWorkflows(long timeout)\n>could\n>> simply be a wrapper for getWorkflows () with a timeout.\n>>\n>> On Jul 23, 2019, 10:01, at 10:01, pkuwm <notifications@github.com>\n>wrote:\n>> >Sometimes zookeeper hangs in the getWorkflows() call, and we could\n>> >provide an API with a timeout to handle this at the application\n>level.\n>> >Use ExcecutorService and Future to implement the timeout function.\n>> >Call future.get(long timeout, TimeUnit timeUnit) to wait for\n>result.\n>> >\n>> >This commit resolves #326:\n>> >1. Add a static API parseWorkflowConfig to class WorkflowConfig.\n>> >The API can parse HelixProperty.\n>> >2. Add an API getWorkflows(long timeout) to TaskDriver.\n>> >You can view, comment on, or merge this pull request online at:\n>> >\n>> > https://github.com/apache/helix/pull/357\n>> >\n>> >-- Commit Summary --\n>> >\n>> > * Add getWorkflows(long timeout) to TaskDriver.\n>> >\n>> >-- File Changes --\n>> >\n>> > M helix-core/src/main/java/org/apache/helix/task/TaskDriver.java\n>(54)\n>> >M\n>helix-core/src/main/java/org/apache/helix/task/WorkflowConfig.java\n>> >(16)\n>> >\n>> >-- Patch Links --\n>> >\n>> >https://github.com/apache/helix/pull/357.patch\n>> >https://github.com/apache/helix/pull/357.diff\n>> >\n>> >--\n>> >You are receiving this because you are subscribed to this thread.\n>> >Reply to this email directly or view it on GitHub:\n>> >https://github.com/apache/helix/pull/357\n>>\n>> â€”\n>> You are receiving this because you authored the thread.\n>> Reply to this email directly, view it on GitHub\n>>\n><https://github.com/apache/helix/pull/357?email_source=notifications&email_token=ABHSRCLYUXRFQ6JWJKWJAOTQA25KHA5CNFSM4IGBGEJKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD2SKCEA#issuecomment-514105616>,\n>> or mute the thread\n>>\n><https://github.com/notifications/unsubscribe-auth/ABHSRCIEWXMUBUMZIUTBTALQA25KHANCNFSM4IGBGEJA>\n>> .\n>>\n>\n>\n>-- \n>You are receiving this because you commented.\n>Reply to this email directly or view it on GitHub:\n>https://github.com/apache/helix/pull/357#issuecomment-514109056\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/514134881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/514291290","html_url":"https://github.com/apache/helix/pull/357#issuecomment-514291290","issue_url":"https://api.github.com/repos/apache/helix/issues/357","id":514291290,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDI5MTI5MA==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T16:45:27Z","updated_at":"2019-07-23T16:45:27Z","author_association":"CONTRIBUTOR","body":"For the isWFConfig part, I understand. Definitely doable.\n\nJust for a discussion about Optional. I think it is designed to solve the\nproblem of NullPointerException/null smell. As isWFConfig is like half code\nof fromHelixProperty, using Optional may seem cleaner to me :-)\n\nOn Tue, Jul 23, 2019 at 2:37 AM Hunter Lee <notifications@github.com> wrote:\n\n> I don't think using Optional just for the sake of removing null is\n> appropriate. I wouldn't think it would help with performance either. You\n> could call isWorkflowConfig and parse if it is true, and skip if false,\n> thereby doing minimal amount of parsing needed overall.\n>\n> On Jul 23, 2019, 11:26, at 11:26, pkuwm <notifications@github.com> wrote:\n> >> As for parseWorkflow - I think it will be cleaner if we could have\n> >something like isWorkflowConfig() instead that returns T/F, and based\n> >on the result, include it here or not. This way, we do not return null\n> >(a code smell), and there are other places in the codebase where we\n> >could re-use isWorkflowConfig.\n> >> [â€¦](#)\n> >> On Jul 23, 2019, 10:02, at 10:02, pkuwm ***@***.***> wrote: Wonder\n> >what the unit test requirement is. Can you please suggest? -- You are\n> >receiving this because you are subscribed to this thread. Reply to this\n> >email directly or view it on GitHub: [#357\n> >(comment)](\n> https://github.com/apache/helix/pull/357#issuecomment-514099797)\n> >\n> >OK. If null is not welcomed (everyone hates null), how about Optional\n> >to avoid null? I personally like Optional more than `null` or ignore\n> >exceptions in a catch block. Do you guys like Optional to possibly\n> >handle the `null` cases?\n> >\n> >> As for parseWorkflow - I think it will be cleaner if we could have\n> >something like isWorkflowConfig() instead that returns T/F, and based\n> >on the result, include it here or not. This way, we do not return null\n> >(a code smell), and there are other places in the codebase where we\n> >could re-use isWorkflowConfig.\n> >> [â€¦](#)\n> >> On Jul 23, 2019, 10:02, at 10:02, pkuwm ***@***.***> wrote: Wonder\n> >what the unit test requirement is. Can you please suggest? -- You are\n> >receiving this because you are subscribed to this thread. Reply to this\n> >email directly or view it on GitHub: [#357\n> >(comment)](\n> https://github.com/apache/helix/pull/357#issuecomment-514099797)\n> >\n> >\n> >\n> >--\n> >You are receiving this because you commented.\n> >Reply to this email directly or view it on GitHub:\n> >https://github.com/apache/helix/pull/357#issuecomment-514130185\n>\n> â€”\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/helix/pull/357?email_source=notifications&email_token=ABHSRCOPOLLEO6EL7AZIYY3QA3GMRA5CNFSM4IGBGEJKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD2SQ72A#issuecomment-514133992>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ABHSRCLANEKNRZXDHCPLNCTQA3GMRANCNFSM4IGBGEJA>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/514291290/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/514293990","html_url":"https://github.com/apache/helix/pull/357#issuecomment-514293990","issue_url":"https://api.github.com/repos/apache/helix/issues/357","id":514293990,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDI5Mzk5MA==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T16:52:38Z","updated_at":"2019-07-23T16:52:38Z","author_association":"CONTRIBUTOR","body":"I think Optional would be beneficial if you want to have fluid chained-calls (similar to functional programming). Here, it is possible to avoid optionality/returning null by checking for the presence of a field. So using Optional is not necessary because you do not need to introduce null in the first place. It would also incur performance/memory overhead. -Hunter\n\nOn Jul 23, 2019, 18:45, at 18:45, pkuwm <notifications@github.com> wrote:\n>For the isWFConfig part, I understand. Definitely doable.\n>\n>Just for a discussion about Optional. I think it is designed to solve\n>the\n>problem of NullPointerException/null smell. As isWFConfig is like half\n>code\n>of fromHelixProperty, using Optional may seem cleaner to me :-)\n>\n>On Tue, Jul 23, 2019 at 2:37 AM Hunter Lee <notifications@github.com>\n>wrote:\n>\n>> I don't think using Optional just for the sake of removing null is\n>> appropriate. I wouldn't think it would help with performance either.\n>You\n>> could call isWorkflowConfig and parse if it is true, and skip if\n>false,\n>> thereby doing minimal amount of parsing needed overall.\n>>\n>> On Jul 23, 2019, 11:26, at 11:26, pkuwm <notifications@github.com>\n>wrote:\n>> >> As for parseWorkflow - I think it will be cleaner if we could\n>have\n>> >something like isWorkflowConfig() instead that returns T/F, and\n>based\n>> >on the result, include it here or not. This way, we do not return\n>null\n>> >(a code smell), and there are other places in the codebase where we\n>> >could re-use isWorkflowConfig.\n>> >> [â€¦](#)\n>> >> On Jul 23, 2019, 10:02, at 10:02, pkuwm ***@***.***> wrote:\n>Wonder\n>> >what the unit test requirement is. Can you please suggest? -- You\n>are\n>> >receiving this because you are subscribed to this thread. Reply to\n>this\n>> >email directly or view it on GitHub: [#357\n>> >(comment)](\n>> https://github.com/apache/helix/pull/357#issuecomment-514099797)\n>> >\n>> >OK. If null is not welcomed (everyone hates null), how about\n>Optional\n>> >to avoid null? I personally like Optional more than `null` or\n>ignore\n>> >exceptions in a catch block. Do you guys like Optional to possibly\n>> >handle the `null` cases?\n>> >\n>> >> As for parseWorkflow - I think it will be cleaner if we could\n>have\n>> >something like isWorkflowConfig() instead that returns T/F, and\n>based\n>> >on the result, include it here or not. This way, we do not return\n>null\n>> >(a code smell), and there are other places in the codebase where we\n>> >could re-use isWorkflowConfig.\n>> >> [â€¦](#)\n>> >> On Jul 23, 2019, 10:02, at 10:02, pkuwm ***@***.***> wrote:\n>Wonder\n>> >what the unit test requirement is. Can you please suggest? -- You\n>are\n>> >receiving this because you are subscribed to this thread. Reply to\n>this\n>> >email directly or view it on GitHub: [#357\n>> >(comment)](\n>> https://github.com/apache/helix/pull/357#issuecomment-514099797)\n>> >\n>> >\n>> >\n>> >--\n>> >You are receiving this because you commented.\n>> >Reply to this email directly or view it on GitHub:\n>> >https://github.com/apache/helix/pull/357#issuecomment-514130185\n>>\n>> â€”\n>> You are receiving this because you authored the thread.\n>> Reply to this email directly, view it on GitHub\n>>\n><https://github.com/apache/helix/pull/357?email_source=notifications&email_token=ABHSRCOPOLLEO6EL7AZIYY3QA3GMRA5CNFSM4IGBGEJKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD2SQ72A#issuecomment-514133992>,\n>> or mute the thread\n>>\n><https://github.com/notifications/unsubscribe-auth/ABHSRCLANEKNRZXDHCPLNCTQA3GMRANCNFSM4IGBGEJA>\n>> .\n>>\n>\n>\n>-- \n>You are receiving this because you commented.\n>Reply to this email directly or view it on GitHub:\n>https://github.com/apache/helix/pull/357#issuecomment-514291290\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/514293990/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/514328130","html_url":"https://github.com/apache/helix/pull/356#issuecomment-514328130","issue_url":"https://api.github.com/repos/apache/helix/issues/356","id":514328130,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDMyODEzMA==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T18:26:43Z","updated_at":"2019-07-23T18:26:43Z","author_association":"CONTRIBUTOR","body":"Could you reformat the pull request according to the guidelines? Thanks! - Hunter\n\nOn Jul 23, 2019, 20:19, at 20:19, Ali Reza Zamani Zadeh Najari <notifications@github.com> wrote:\n>alirezazamani commented on this pull request.\n>\n>\n>\n>> @@ -721,6 +721,9 @@ private void fireAllEvents() {\n>       });\n>       record(path, null, startT, ZkClientMonitor.AccessType.READ);\n>       return children;\n>+    } catch (ZkNoNodeException e){\n>\n>Thanks. I fixed it.\n>\n>-- \n>You are receiving this because you are subscribed to this thread.\n>Reply to this email directly or view it on GitHub:\n>https://github.com/apache/helix/pull/356#discussion_r306464047\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/514328130/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/514328978","html_url":"https://github.com/apache/helix/pull/355#issuecomment-514328978","issue_url":"https://api.github.com/repos/apache/helix/issues/355","id":514328978,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDMyODk3OA==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T18:29:07Z","updated_at":"2019-07-23T18:29:07Z","author_association":"CONTRIBUTOR","body":"Could we reformat the PR according to the guidelines? Thanks :) -hunter\n\nOn Jul 23, 2019, 08:31, at 08:31, pkuwm <notifications@github.com> wrote:\n>pkuwm commented on this pull request.\n>\n>\n>\n>> @@ -257,6 +257,10 @@ private boolean\n>computeResourceBestPossibleState(ClusterEvent event, ResourceCon\n> \n>         // Check if calculation is done successfully\n>         return checkBestPossibleStateCalculation(idealState);\n>+      } catch (HelixException e){\n>\n>Does Helix Style template not handle space in this case? If not, should\n>improve the template.\n>\n>-- \n>You are receiving this because you are subscribed to this thread.\n>Reply to this email directly or view it on GitHub:\n>https://github.com/apache/helix/pull/355#pullrequestreview-265194396\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/514328978/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/514336391","html_url":"https://github.com/apache/helix/pull/357#issuecomment-514336391","issue_url":"https://api.github.com/repos/apache/helix/issues/357","id":514336391,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDMzNjM5MQ==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T18:49:52Z","updated_at":"2019-07-23T19:41:08Z","author_association":"CONTRIBUTOR","body":"I personally don't like null, either, since I see it as anti-pattern. Why I put null in this draft was I saw `return null` as well in the source code and would like to make it consistent in the project. And I thought null check is similar as isWFConfig() check.\r\n\r\nRight, functional/streams would benefit a lot from Optional. Anyway, I would implement this in the way of using isWFConfig(). \r\n\r\nFYI, my opinion is we could use Optional in this way like this, which might look more intuitive to me than null/exception.\r\n```java\r\n  public static Optional<WorkflowConfig> parseWorkflowConfig(HelixProperty property) {\r\n    Map<String, String> configs = property.getRecord().getSimpleFields();\r\n    if (!configs.containsKey(WorkflowConfigProperty.Dag.name())) {\r\n      return Optional.empty();\r\n    }\r\n    return Optional.of(Builder.fromMap(configs).setWorkflowId(property.getId()).build());\r\n  }\r\n```\r\n```java\r\n    for (Map.Entry<String, ResourceConfig> resource : resourceConfigMap.entrySet()) {\r\n      String key = resource.getKey();\r\n      ResourceConfig resourceConfig = resource.getValue();\r\n      WorkflowConfig.parseWorkflowConfig(resourceConfig)\r\n           .ifPresent(w -> workflowConfigMap.put(key, x));\r\n    }\r\n\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/514336391/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/514351120","html_url":"https://github.com/apache/helix/pull/357#issuecomment-514351120","issue_url":"https://api.github.com/repos/apache/helix/issues/357","id":514351120,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDM1MTEyMA==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T19:31:02Z","updated_at":"2019-07-23T19:31:02Z","author_association":"CONTRIBUTOR","body":"Did you mean optional causes performance overhead? Just curious, can you\nexplain as I donâ€™t see it a performance overhead here? Thanks.\n\nOn Tue, Jul 23, 2019 at 9:52 AM Hunter Lee <notifications@github.com> wrote:\n\n> I think Optional would be beneficial if you want to have fluid\n> chained-calls (similar to functional programming). Here, it is possible to\n> avoid optionality/returning null by checking for the presence of a field.\n> So using Optional is not necessary because you do not need to introduce\n> null in the first place. It would also incur performance/memory overhead.\n> -Hunter\n>\n> On Jul 23, 2019, 18:45, at 18:45, pkuwm <notifications@github.com> wrote:\n> >For the isWFConfig part, I understand. Definitely doable.\n> >\n> >Just for a discussion about Optional. I think it is designed to solve\n> >the\n> >problem of NullPointerException/null smell. As isWFConfig is like half\n> >code\n> >of fromHelixProperty, using Optional may seem cleaner to me :-)\n> >\n> >On Tue, Jul 23, 2019 at 2:37 AM Hunter Lee <notifications@github.com>\n> >wrote:\n> >\n> >> I don't think using Optional just for the sake of removing null is\n> >> appropriate. I wouldn't think it would help with performance either.\n> >You\n> >> could call isWorkflowConfig and parse if it is true, and skip if\n> >false,\n> >> thereby doing minimal amount of parsing needed overall.\n> >>\n> >> On Jul 23, 2019, 11:26, at 11:26, pkuwm <notifications@github.com>\n> >wrote:\n> >> >> As for parseWorkflow - I think it will be cleaner if we could\n> >have\n> >> >something like isWorkflowConfig() instead that returns T/F, and\n> >based\n> >> >on the result, include it here or not. This way, we do not return\n> >null\n> >> >(a code smell), and there are other places in the codebase where we\n> >> >could re-use isWorkflowConfig.\n> >> >> [â€¦](#)\n> >> >> On Jul 23, 2019, 10:02, at 10:02, pkuwm ***@***.***> wrote:\n> >Wonder\n> >> >what the unit test requirement is. Can you please suggest? -- You\n> >are\n> >> >receiving this because you are subscribed to this thread. Reply to\n> >this\n> >> >email directly or view it on GitHub: [#357\n> >> >(comment)](\n> >> https://github.com/apache/helix/pull/357#issuecomment-514099797)\n> >> >\n> >> >OK. If null is not welcomed (everyone hates null), how about\n> >Optional\n> >> >to avoid null? I personally like Optional more than `null` or\n> >ignore\n> >> >exceptions in a catch block. Do you guys like Optional to possibly\n> >> >handle the `null` cases?\n> >> >\n> >> >> As for parseWorkflow - I think it will be cleaner if we could\n> >have\n> >> >something like isWorkflowConfig() instead that returns T/F, and\n> >based\n> >> >on the result, include it here or not. This way, we do not return\n> >null\n> >> >(a code smell), and there are other places in the codebase where we\n> >> >could re-use isWorkflowConfig.\n> >> >> [â€¦](#)\n> >> >> On Jul 23, 2019, 10:02, at 10:02, pkuwm ***@***.***> wrote:\n> >Wonder\n> >> >what the unit test requirement is. Can you please suggest? -- You\n> >are\n> >> >receiving this because you are subscribed to this thread. Reply to\n> >this\n> >> >email directly or view it on GitHub: [#357\n> >> >(comment)](\n> >> https://github.com/apache/helix/pull/357#issuecomment-514099797)\n> >> >\n> >> >\n> >> >\n> >> >--\n> >> >You are receiving this because you commented.\n> >> >Reply to this email directly or view it on GitHub:\n> >> >https://github.com/apache/helix/pull/357#issuecomment-514130185\n> >>\n> >> â€”\n> >> You are receiving this because you authored the thread.\n> >> Reply to this email directly, view it on GitHub\n> >>\n> ><\n> https://github.com/apache/helix/pull/357?email_source=notifications&email_token=ABHSRCOPOLLEO6EL7AZIYY3QA3GMRA5CNFSM4IGBGEJKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD2SQ72A#issuecomment-514133992\n> >,\n> >> or mute the thread\n> >>\n> ><\n> https://github.com/notifications/unsubscribe-auth/ABHSRCLANEKNRZXDHCPLNCTQA3GMRANCNFSM4IGBGEJA\n> >\n> >> .\n> >>\n> >\n> >\n> >--\n> >You are receiving this because you commented.\n> >Reply to this email directly or view it on GitHub:\n> >https://github.com/apache/helix/pull/357#issuecomment-514291290\n>\n> â€”\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/helix/pull/357?email_source=notifications&email_token=ABHSRCPKTPOEYPDOYCXMFL3QA4ZNTA5CNFSM4IGBGEJKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD2TYBZQ#issuecomment-514293990>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ABHSRCKT67O5HYX4QKV4M5LQA4ZNTANCNFSM4IGBGEJA>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/514351120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/514373271","html_url":"https://github.com/apache/helix/pull/355#issuecomment-514373271","issue_url":"https://api.github.com/repos/apache/helix/issues/355","id":514373271,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDM3MzI3MQ==","user":{"login":"junkaixue","id":6695617,"node_id":"MDQ6VXNlcjY2OTU2MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6695617?v=4","gravatar_id":"","url":"https://api.github.com/users/junkaixue","html_url":"https://github.com/junkaixue","followers_url":"https://api.github.com/users/junkaixue/followers","following_url":"https://api.github.com/users/junkaixue/following{/other_user}","gists_url":"https://api.github.com/users/junkaixue/gists{/gist_id}","starred_url":"https://api.github.com/users/junkaixue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junkaixue/subscriptions","organizations_url":"https://api.github.com/users/junkaixue/orgs","repos_url":"https://api.github.com/users/junkaixue/repos","events_url":"https://api.github.com/users/junkaixue/events{/privacy}","received_events_url":"https://api.github.com/users/junkaixue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T20:34:40Z","updated_at":"2019-07-23T20:34:40Z","author_association":"CONTRIBUTOR","body":"@alirezazamani Is it good to merge? I would like to have the final confirm before merge in.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/514373271/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/514390821","html_url":"https://github.com/apache/helix/pull/355#issuecomment-514390821","issue_url":"https://api.github.com/repos/apache/helix/issues/355","id":514390821,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDM5MDgyMQ==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T21:28:45Z","updated_at":"2019-07-23T21:28:45Z","author_association":"NONE","body":"@narendly I just reformatted the PR.\r\n@dasahcc Yes. You can merge it. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/514390821/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/514395409","html_url":"https://github.com/apache/helix/pull/356#issuecomment-514395409","issue_url":"https://api.github.com/repos/apache/helix/issues/356","id":514395409,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDM5NTQwOQ==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T21:43:49Z","updated_at":"2019-07-23T21:43:49Z","author_association":"NONE","body":"@narendly done :)","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/514395409/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]