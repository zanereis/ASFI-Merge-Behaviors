[{"url":"https://api.github.com/repos/apache/solr/issues/comments/999146504","html_url":"https://github.com/apache/solr/pull/466#issuecomment-999146504","issue_url":"https://api.github.com/repos/apache/solr/issues/466","id":999146504,"node_id":"IC_kwDOFFj3yM47jcQI","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-21T22:50:23Z","updated_at":"2021-12-21T22:50:23Z","author_association":"CONTRIBUTOR","body":"Thanks","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/999146504/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/999221193","html_url":"https://github.com/apache/solr/pull/403#issuecomment-999221193","issue_url":"https://api.github.com/repos/apache/solr/issues/403","id":999221193,"node_id":"IC_kwDOFFj3yM47jufJ","user":{"login":"chatman","id":4598004,"node_id":"MDQ6VXNlcjQ1OTgwMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/4598004?v=4","gravatar_id":"","url":"https://api.github.com/users/chatman","html_url":"https://github.com/chatman","followers_url":"https://api.github.com/users/chatman/followers","following_url":"https://api.github.com/users/chatman/following{/other_user}","gists_url":"https://api.github.com/users/chatman/gists{/gist_id}","starred_url":"https://api.github.com/users/chatman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chatman/subscriptions","organizations_url":"https://api.github.com/users/chatman/orgs","repos_url":"https://api.github.com/users/chatman/repos","events_url":"https://api.github.com/users/chatman/events{/privacy}","received_events_url":"https://api.github.com/users/chatman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-22T01:53:59Z","updated_at":"2021-12-22T01:53:59Z","author_association":"CONTRIBUTOR","body":"Addressed some comments from Ilan. TODO: Address some others from Ilan and Jan.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/999221193/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/999521230","html_url":"https://github.com/apache/solr/pull/419#issuecomment-999521230","issue_url":"https://api.github.com/repos/apache/solr/issues/419","id":999521230,"node_id":"IC_kwDOFFj3yM47k3vO","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-22T11:55:51Z","updated_at":"2021-12-22T11:55:51Z","author_association":"CONTRIBUTOR","body":"@HoustonPutman If you want to wrap up and merge this, then go ahead. I had some comments. If you don't have bandwidth, I may try to copy/paste when doing other wizard work later.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/999521230/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/999540630","html_url":"https://github.com/apache/solr/pull/468#issuecomment-999540630","issue_url":"https://api.github.com/repos/apache/solr/issues/468","id":999540630,"node_id":"IC_kwDOFFj3yM47k8eW","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-22T12:27:49Z","updated_at":"2021-12-22T12:27:49Z","author_association":"CONTRIBUTOR","body":"Took me a second to understand this PR...  Is the `waitForWatcher` critical for the path of this test?    And since it's wrapped in the logging check, then it wouldn't be run?\r\n\r\nI wonder if the logic should be to have the waitForWatcher to happen, but then to wrap the logging in the if statement?   Since that is the pattern that we use everywhere?    \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/999540630/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/999541524","html_url":"https://github.com/apache/solr/pull/468#issuecomment-999541524","issue_url":"https://api.github.com/repos/apache/solr/issues/468","id":999541524,"node_id":"IC_kwDOFFj3yM47k8sU","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-22T12:29:14Z","updated_at":"2021-12-22T12:29:14Z","author_association":"CONTRIBUTOR","body":"Also, I am unclear on if a JIRA is needed.   For documentation fixes we don't require a JIRA, but I think for code we do...    This is maybe in a bit of a gray area!    \r\n\r\nAre there other places in the tests that have this same pattern?   If there were, maybe a JIRA to cover this pattern?   @janhoy ?  Guidance?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/999541524/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/999542519","html_url":"https://github.com/apache/solr/pull/468#issuecomment-999542519","issue_url":"https://api.github.com/repos/apache/solr/issues/468","id":999542519,"node_id":"IC_kwDOFFj3yM47k873","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-22T12:31:04Z","updated_at":"2021-12-22T12:31:04Z","author_association":"CONTRIBUTOR","body":"I see a mix of using `if (log.isInfoEnabled()) {` and just direct `log.info`, is there a pattern we SHOULD be using in tests?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/999542519/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/999545613","html_url":"https://github.com/apache/solr/pull/468#issuecomment-999545613","issue_url":"https://api.github.com/repos/apache/solr/issues/468","id":999545613,"node_id":"IC_kwDOFFj3yM47k9sN","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-22T12:36:31Z","updated_at":"2021-12-22T12:36:31Z","author_association":"CONTRIBUTOR","body":"Probably no need for a JIRA. And executing logic inside a logger.info() call sounds like a bug, since if you run tests on WARN level it will be have differently. Wrapping logging in isXxxEnabled() is normally done for TRACE and DEBUG for performance reasons, so not using it for INFO is ok.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/999545613/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/999631109","html_url":"https://github.com/apache/solr/pull/461#issuecomment-999631109","issue_url":"https://api.github.com/repos/apache/solr/issues/461","id":999631109,"node_id":"IC_kwDOFFj3yM47lSkF","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-22T14:48:57Z","updated_at":"2021-12-22T14:48:57Z","author_association":"CONTRIBUTOR","body":"@weidongkl are you able to do the changes, so this can be merged?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/999631109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/999677006","html_url":"https://github.com/apache/solr/pull/468#issuecomment-999677006","issue_url":"https://api.github.com/repos/apache/solr/issues/468","id":999677006,"node_id":"IC_kwDOFFj3yM47ldxO","user":{"login":"mariemat","id":16922356,"node_id":"MDQ6VXNlcjE2OTIyMzU2","avatar_url":"https://avatars.githubusercontent.com/u/16922356?v=4","gravatar_id":"","url":"https://api.github.com/users/mariemat","html_url":"https://github.com/mariemat","followers_url":"https://api.github.com/users/mariemat/followers","following_url":"https://api.github.com/users/mariemat/following{/other_user}","gists_url":"https://api.github.com/users/mariemat/gists{/gist_id}","starred_url":"https://api.github.com/users/mariemat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mariemat/subscriptions","organizations_url":"https://api.github.com/users/mariemat/orgs","repos_url":"https://api.github.com/users/mariemat/repos","events_url":"https://api.github.com/users/mariemat/events{/privacy}","received_events_url":"https://api.github.com/users/mariemat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-22T15:46:18Z","updated_at":"2021-12-22T15:46:18Z","author_association":"CONTRIBUTOR","body":"> Took me a second to understand this PR... Is the `waitForWatcher` critical for the path of this test? And since it's wrapped in the logging check, then it wouldn't be run?\r\n\r\nYes, this is exactly the issue I want to fix to make the test morr robust\r\n\r\n> I wonder if the logic should be to have the waitForWatcher to happen, but then to wrap the logging in the if statement? Since that is the pattern that we use everywhere?\r\n\r\nOther logging at info level in that test was not in if statements, Iso I removed it from that only place in that file\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/999677006/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/999678226","html_url":"https://github.com/apache/solr/pull/468#issuecomment-999678226","issue_url":"https://api.github.com/repos/apache/solr/issues/468","id":999678226,"node_id":"IC_kwDOFFj3yM47leES","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-22T15:48:10Z","updated_at":"2021-12-22T15:48:10Z","author_association":"CONTRIBUTOR","body":"Wether \"minor\" changes (this definitely is one) needs a JIRA issue is \"PENDING DISCUSSION\" https://cwiki.apache.org/confluence/display/SOLR/Commit+Process+Guidelines I'm a huge proponent of lowering barriers to contribute both for non-committers and us committers alike.\r\n\r\nBTW @mariemat is my colleague and we reviewed this bug live and I approve of this fix.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/999678226/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/999736035","html_url":"https://github.com/apache/solr/pull/419#issuecomment-999736035","issue_url":"https://api.github.com/repos/apache/solr/issues/419","id":999736035,"node_id":"IC_kwDOFFj3yM47lsLj","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-22T17:11:37Z","updated_at":"2021-12-22T17:11:37Z","author_association":"CONTRIBUTOR","body":"I'll finish this up today. Thanks for the reminder, I put it off while people were discussing the jenkins job option.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/999736035/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/999973290","html_url":"https://github.com/apache/solr/pull/461#issuecomment-999973290","issue_url":"https://api.github.com/repos/apache/solr/issues/461","id":999973290,"node_id":"IC_kwDOFFj3yM47mmGq","user":{"login":"weidongkl","id":7512609,"node_id":"MDQ6VXNlcjc1MTI2MDk=","avatar_url":"https://avatars.githubusercontent.com/u/7512609?v=4","gravatar_id":"","url":"https://api.github.com/users/weidongkl","html_url":"https://github.com/weidongkl","followers_url":"https://api.github.com/users/weidongkl/followers","following_url":"https://api.github.com/users/weidongkl/following{/other_user}","gists_url":"https://api.github.com/users/weidongkl/gists{/gist_id}","starred_url":"https://api.github.com/users/weidongkl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weidongkl/subscriptions","organizations_url":"https://api.github.com/users/weidongkl/orgs","repos_url":"https://api.github.com/users/weidongkl/repos","events_url":"https://api.github.com/users/weidongkl/events{/privacy}","received_events_url":"https://api.github.com/users/weidongkl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-23T01:14:20Z","updated_at":"2021-12-23T01:14:20Z","author_association":"NONE","body":"> @weidongkl are you able to do the changes, so this can be merged?\r\n\r\nI'll do it as soon as possible","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/999973290/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1000178951","html_url":"https://github.com/apache/solr/pull/461#issuecomment-1000178951","issue_url":"https://api.github.com/repos/apache/solr/issues/461","id":1000178951,"node_id":"IC_kwDOFFj3yM47nYUH","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-23T09:52:44Z","updated_at":"2021-12-23T09:52:44Z","author_association":"CONTRIBUTOR","body":"Pushed outside of github","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1000178951/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1000569140","html_url":"https://github.com/apache/solr/pull/419#issuecomment-1000569140","issue_url":"https://api.github.com/repos/apache/solr/issues/419","id":1000569140,"node_id":"IC_kwDOFFj3yM47o3k0","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-23T23:57:38Z","updated_at":"2021-12-23T23:57:49Z","author_association":"CONTRIBUTOR","body":"Ok, so I think this is good-enough to go? It's hard to test it, but the ref guide runs and it looks decent. The ref guide is using the wrong solr repo for main currently, so it's especially hard to test. But we can always merge now and fix later after you make the other changes necessary after the repo split, @janhoy ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1000569140/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1000814088","html_url":"https://github.com/apache/solr/pull/473#issuecomment-1000814088","issue_url":"https://api.github.com/repos/apache/solr/issues/473","id":1000814088,"node_id":"IC_kwDOFFj3yM47pzYI","user":{"login":"cpoerschke","id":6458642,"node_id":"MDQ6VXNlcjY0NTg2NDI=","avatar_url":"https://avatars.githubusercontent.com/u/6458642?v=4","gravatar_id":"","url":"https://api.github.com/users/cpoerschke","html_url":"https://github.com/cpoerschke","followers_url":"https://api.github.com/users/cpoerschke/followers","following_url":"https://api.github.com/users/cpoerschke/following{/other_user}","gists_url":"https://api.github.com/users/cpoerschke/gists{/gist_id}","starred_url":"https://api.github.com/users/cpoerschke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cpoerschke/subscriptions","organizations_url":"https://api.github.com/users/cpoerschke/orgs","repos_url":"https://api.github.com/users/cpoerschke/repos","events_url":"https://api.github.com/users/cpoerschke/events{/privacy}","received_events_url":"https://api.github.com/users/cpoerschke/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-24T12:09:04Z","updated_at":"2021-12-24T12:09:04Z","author_association":"CONTRIBUTOR","body":"Closing for clarity since #478 combines #473 + #474 + #475 into one.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1000814088/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1000814227","html_url":"https://github.com/apache/solr/pull/474#issuecomment-1000814227","issue_url":"https://api.github.com/repos/apache/solr/issues/474","id":1000814227,"node_id":"IC_kwDOFFj3yM47pzaT","user":{"login":"cpoerschke","id":6458642,"node_id":"MDQ6VXNlcjY0NTg2NDI=","avatar_url":"https://avatars.githubusercontent.com/u/6458642?v=4","gravatar_id":"","url":"https://api.github.com/users/cpoerschke","html_url":"https://github.com/cpoerschke","followers_url":"https://api.github.com/users/cpoerschke/followers","following_url":"https://api.github.com/users/cpoerschke/following{/other_user}","gists_url":"https://api.github.com/users/cpoerschke/gists{/gist_id}","starred_url":"https://api.github.com/users/cpoerschke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cpoerschke/subscriptions","organizations_url":"https://api.github.com/users/cpoerschke/orgs","repos_url":"https://api.github.com/users/cpoerschke/repos","events_url":"https://api.github.com/users/cpoerschke/events{/privacy}","received_events_url":"https://api.github.com/users/cpoerschke/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-24T12:09:26Z","updated_at":"2021-12-24T12:09:26Z","author_association":"CONTRIBUTOR","body":"Closing for clarity since #478 combines #473 + #474 + #475 into one.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1000814227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1000814313","html_url":"https://github.com/apache/solr/pull/475#issuecomment-1000814313","issue_url":"https://api.github.com/repos/apache/solr/issues/475","id":1000814313,"node_id":"IC_kwDOFFj3yM47pzbp","user":{"login":"cpoerschke","id":6458642,"node_id":"MDQ6VXNlcjY0NTg2NDI=","avatar_url":"https://avatars.githubusercontent.com/u/6458642?v=4","gravatar_id":"","url":"https://api.github.com/users/cpoerschke","html_url":"https://github.com/cpoerschke","followers_url":"https://api.github.com/users/cpoerschke/followers","following_url":"https://api.github.com/users/cpoerschke/following{/other_user}","gists_url":"https://api.github.com/users/cpoerschke/gists{/gist_id}","starred_url":"https://api.github.com/users/cpoerschke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cpoerschke/subscriptions","organizations_url":"https://api.github.com/users/cpoerschke/orgs","repos_url":"https://api.github.com/users/cpoerschke/repos","events_url":"https://api.github.com/users/cpoerschke/events{/privacy}","received_events_url":"https://api.github.com/users/cpoerschke/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-24T12:09:40Z","updated_at":"2021-12-24T12:09:40Z","author_association":"CONTRIBUTOR","body":"Closing for clarity since #478 combines #473 + #474 + #475 into one.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1000814313/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1000895545","html_url":"https://github.com/apache/solr/pull/476#issuecomment-1000895545","issue_url":"https://api.github.com/repos/apache/solr/issues/476","id":1000895545,"node_id":"IC_kwDOFFj3yM47qHQ5","user":{"login":"alessandrobenedetti","id":513195,"node_id":"MDQ6VXNlcjUxMzE5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/513195?v=4","gravatar_id":"","url":"https://api.github.com/users/alessandrobenedetti","html_url":"https://github.com/alessandrobenedetti","followers_url":"https://api.github.com/users/alessandrobenedetti/followers","following_url":"https://api.github.com/users/alessandrobenedetti/following{/other_user}","gists_url":"https://api.github.com/users/alessandrobenedetti/gists{/gist_id}","starred_url":"https://api.github.com/users/alessandrobenedetti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alessandrobenedetti/subscriptions","organizations_url":"https://api.github.com/users/alessandrobenedetti/orgs","repos_url":"https://api.github.com/users/alessandrobenedetti/repos","events_url":"https://api.github.com/users/alessandrobenedetti/events{/privacy}","received_events_url":"https://api.github.com/users/alessandrobenedetti/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-24T16:44:30Z","updated_at":"2021-12-24T16:44:30Z","author_association":"CONTRIBUTOR","body":"The Pull Request is now complete and ready for review.\r\nAdding @ctargett  to the loop as there are plenty of documentation additions.\r\nMerry Christmas :D ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1000895545/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1001405654","html_url":"https://github.com/apache/solr/pull/465#issuecomment-1001405654","issue_url":"https://api.github.com/repos/apache/solr/issues/465","id":1001405654,"node_id":"IC_kwDOFFj3yM47sDzW","user":{"login":"linuxswords","id":540902,"node_id":"MDQ6VXNlcjU0MDkwMg==","avatar_url":"https://avatars.githubusercontent.com/u/540902?v=4","gravatar_id":"","url":"https://api.github.com/users/linuxswords","html_url":"https://github.com/linuxswords","followers_url":"https://api.github.com/users/linuxswords/followers","following_url":"https://api.github.com/users/linuxswords/following{/other_user}","gists_url":"https://api.github.com/users/linuxswords/gists{/gist_id}","starred_url":"https://api.github.com/users/linuxswords/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linuxswords/subscriptions","organizations_url":"https://api.github.com/users/linuxswords/orgs","repos_url":"https://api.github.com/users/linuxswords/repos","events_url":"https://api.github.com/users/linuxswords/events{/privacy}","received_events_url":"https://api.github.com/users/linuxswords/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-27T07:54:40Z","updated_at":"2021-12-27T07:54:40Z","author_association":"CONTRIBUTOR","body":"CC: @gerlowskija  (as a Ticket assignee)","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1001405654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1001609366","html_url":"https://github.com/apache/solr/pull/476#issuecomment-1001609366","issue_url":"https://api.github.com/repos/apache/solr/issues/476","id":1001609366,"node_id":"IC_kwDOFFj3yM47s1iW","user":{"login":"alessandrobenedetti","id":513195,"node_id":"MDQ6VXNlcjUxMzE5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/513195?v=4","gravatar_id":"","url":"https://api.github.com/users/alessandrobenedetti","html_url":"https://github.com/alessandrobenedetti","followers_url":"https://api.github.com/users/alessandrobenedetti/followers","following_url":"https://api.github.com/users/alessandrobenedetti/following{/other_user}","gists_url":"https://api.github.com/users/alessandrobenedetti/gists{/gist_id}","starred_url":"https://api.github.com/users/alessandrobenedetti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alessandrobenedetti/subscriptions","organizations_url":"https://api.github.com/users/alessandrobenedetti/orgs","repos_url":"https://api.github.com/users/alessandrobenedetti/repos","events_url":"https://api.github.com/users/alessandrobenedetti/events{/privacy}","received_events_url":"https://api.github.com/users/alessandrobenedetti/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-27T15:06:29Z","updated_at":"2021-12-27T15:06:29Z","author_association":"CONTRIBUTOR","body":"thanks @msokolov for your initial feedback!\r\nme and @eliaporciani will think about it and design some changes in the next few days!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1001609366/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1002232042","html_url":"https://github.com/apache/solr/pull/469#issuecomment-1002232042","issue_url":"https://api.github.com/repos/apache/solr/issues/469","id":1002232042,"node_id":"IC_kwDOFFj3yM47vNjq","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-28T18:32:39Z","updated_at":"2021-12-28T18:32:39Z","author_association":"CONTRIBUTOR","body":"Closing this in favor of #472 ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1002232042/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1002617717","html_url":"https://github.com/apache/solr/pull/476#issuecomment-1002617717","issue_url":"https://api.github.com/repos/apache/solr/issues/476","id":1002617717,"node_id":"IC_kwDOFFj3yM47wrt1","user":{"login":"alessandrobenedetti","id":513195,"node_id":"MDQ6VXNlcjUxMzE5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/513195?v=4","gravatar_id":"","url":"https://api.github.com/users/alessandrobenedetti","html_url":"https://github.com/alessandrobenedetti","followers_url":"https://api.github.com/users/alessandrobenedetti/followers","following_url":"https://api.github.com/users/alessandrobenedetti/following{/other_user}","gists_url":"https://api.github.com/users/alessandrobenedetti/gists{/gist_id}","starred_url":"https://api.github.com/users/alessandrobenedetti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alessandrobenedetti/subscriptions","organizations_url":"https://api.github.com/users/alessandrobenedetti/orgs","repos_url":"https://api.github.com/users/alessandrobenedetti/repos","events_url":"https://api.github.com/users/alessandrobenedetti/events{/privacy}","received_events_url":"https://api.github.com/users/alessandrobenedetti/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-29T14:20:58Z","updated_at":"2021-12-29T14:20:58Z","author_association":"CONTRIBUTOR","body":"@msokolov thanks for the very good insights.\r\nI proceeded with an extensive work of analysis for the serialization/deserialization, especially investigating the available loaders in Solr (XML, JSON, Javabin and CSV).\r\nI am finalizing quite an extensive change (including testing).\r\nMoving away from \"stringification\" and leveraging arrays of numerics.\r\nI'll update the Pull Request once polished in the next few days!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1002617717/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1002910206","html_url":"https://github.com/apache/solr/pull/479#issuecomment-1002910206","issue_url":"https://api.github.com/repos/apache/solr/issues/479","id":1002910206,"node_id":"IC_kwDOFFj3yM47xzH-","user":{"login":"ijioio","id":62468619,"node_id":"MDQ6VXNlcjYyNDY4NjE5","avatar_url":"https://avatars.githubusercontent.com/u/62468619?v=4","gravatar_id":"","url":"https://api.github.com/users/ijioio","html_url":"https://github.com/ijioio","followers_url":"https://api.github.com/users/ijioio/followers","following_url":"https://api.github.com/users/ijioio/following{/other_user}","gists_url":"https://api.github.com/users/ijioio/gists{/gist_id}","starred_url":"https://api.github.com/users/ijioio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijioio/subscriptions","organizations_url":"https://api.github.com/users/ijioio/orgs","repos_url":"https://api.github.com/users/ijioio/repos","events_url":"https://api.github.com/users/ijioio/events{/privacy}","received_events_url":"https://api.github.com/users/ijioio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-30T07:47:22Z","updated_at":"2021-12-30T07:57:06Z","author_association":"CONTRIBUTOR","body":"It is maybe seems a bit strange to hold two values `Response` and `response`, but I made it for two reasons:\r\n\r\n- I don't think that messing with the original `Response` value is a good idea. It is a general response format used for all the core admin operations. So there may be a chance of someone depending on its content/format.\r\n- In case we use some field other than `response` we also need to update the function `aggregateResults` to support two types of response types for aggregation. In contrast, if we use the `response` field it will be compatible with current`aggregateResults` code.\r\n\r\nThis is how response for backup status request will looks like in case of adding `response` field:\r\n\r\n```json\r\n{\r\n    \"responseHeader\": {\r\n        \"status\": 0,\r\n        \"QTime\": 19\r\n    },\r\n    \"success\": {\r\n        \"localhost:8983_solr\": {\r\n            \"responseHeader\": {\r\n                \"status\": 0,\r\n                \"QTime\": 4\r\n            }\r\n        },\r\n        \"localhost:8983_solr\": {\r\n            \"responseHeader\": {\r\n                \"status\": 0,\r\n                \"QTime\": 8\r\n            }\r\n        },\r\n        \"localhost:8983_solr\": {\r\n            \"responseHeader\": {\r\n                \"status\": 0,\r\n                \"QTime\": 0\r\n            },\r\n            \"STATUS\": \"completed\",\r\n            \"Response\": \"TaskId: 10562744829711078047 webapp=null path=/admin/cores params={core=techproducts_shard2_replica_n4&async=10562744829711078047&qt=/admin/cores&name=shard2&shardBackupId=md_shard2_1&action=BACKUPCORE&location=file:///path/to/my/shared/drive/mybackup/techproducts/&incremental=true&prevShardBackupId=md_shard2_0&wt=javabin&version=2} status=0 QTime=4\",\r\n            \"response\": [\r\n                \"startTime\",\r\n                \"2021-12-30T06:45:55.978702Z\",\r\n                \"indexFileCount\",\r\n                1,\r\n                \"uploadedIndexFileCount\",\r\n                0,\r\n                \"indexSizeMB\",\r\n                0.001,\r\n                \"uploadedIndexFileMB\",\r\n                0.001,\r\n                \"shard\",\r\n                \"shard2\",\r\n                \"endTime\",\r\n                \"2021-12-30T06:45:55.995335Z\",\r\n                \"shardBackupId\",\r\n                \"md_shard2_1\"\r\n            ]\r\n        },\r\n        \"localhost:8983_solr\": {\r\n            \"responseHeader\": {\r\n                \"status\": 0,\r\n                \"QTime\": 0\r\n            },\r\n            \"STATUS\": \"completed\",\r\n            \"Response\": \"TaskId: 10562744829713680734 webapp=null path=/admin/cores params={core=techproducts_shard1_replica_n1&async=10562744829713680734&qt=/admin/cores&name=shard1&shardBackupId=md_shard1_1&action=BACKUPCORE&location=file:///path/to/my/shared/drive/mybackup/techproducts/&incremental=true&prevShardBackupId=md_shard1_0&wt=javabin&version=2} status=0 QTime=8\",\r\n            \"response\": [\r\n                \"startTime\",\r\n                \"2021-12-30T06:46:10.266750Z\",\r\n                \"indexFileCount\",\r\n                21,\r\n                \"uploadedIndexFileCount\",\r\n                21,\r\n                \"indexSizeMB\",\r\n                0.006,\r\n                \"uploadedIndexFileMB\",\r\n                0.006,\r\n                \"shard\",\r\n                \"shard1\",\r\n                \"endTime\",\r\n                \"2021-12-30T06:46:10.438942Z\",\r\n                \"shardBackupId\",\r\n                \"md_shard1_1\"\r\n            ]\r\n        }\r\n    },\r\n    \"10562744829711078047\": {\r\n        \"responseHeader\": {\r\n            \"status\": 0,\r\n            \"QTime\": 0\r\n        },\r\n        \"STATUS\": \"completed\",\r\n        \"Response\": \"TaskId: 10562744829711078047 webapp=null path=/admin/cores params={core=techproducts_shard2_replica_n4&async=10562744829711078047&qt=/admin/cores&name=shard2&shardBackupId=md_shard2_1&action=BACKUPCORE&location=file:///path/to/my/shared/drive/mybackup/techproducts/&incremental=true&prevShardBackupId=md_shard2_0&wt=javabin&version=2} status=0 QTime=4\",\r\n        \"response\": [\r\n            \"startTime\",\r\n            \"2021-12-30T06:45:55.978702Z\",\r\n            \"indexFileCount\",\r\n            1,\r\n            \"uploadedIndexFileCount\",\r\n            0,\r\n            \"indexSizeMB\",\r\n            0.001,\r\n            \"uploadedIndexFileMB\",\r\n            0.001,\r\n            \"shard\",\r\n            \"shard2\",\r\n            \"endTime\",\r\n            \"2021-12-30T06:45:55.995335Z\",\r\n            \"shardBackupId\",\r\n            \"md_shard2_1\"\r\n        ]\r\n    },\r\n    \"10562744829713680734\": {\r\n        \"responseHeader\": {\r\n            \"status\": 0,\r\n            \"QTime\": 0\r\n        },\r\n        \"STATUS\": \"completed\",\r\n        \"Response\": \"TaskId: 10562744829713680734 webapp=null path=/admin/cores params={core=techproducts_shard1_replica_n1&async=10562744829713680734&qt=/admin/cores&name=shard1&shardBackupId=md_shard1_1&action=BACKUPCORE&location=file:///path/to/my/shared/drive/mybackup/techproducts/&incremental=true&prevShardBackupId=md_shard1_0&wt=javabin&version=2} status=0 QTime=8\",\r\n        \"response\": [\r\n            \"startTime\",\r\n            \"2021-12-30T06:46:10.266750Z\",\r\n            \"indexFileCount\",\r\n            21,\r\n            \"uploadedIndexFileCount\",\r\n            21,\r\n            \"indexSizeMB\",\r\n            0.006,\r\n            \"uploadedIndexFileMB\",\r\n            0.006,\r\n            \"shard\",\r\n            \"shard1\",\r\n            \"endTime\",\r\n            \"2021-12-30T06:46:10.438942Z\",\r\n            \"shardBackupId\",\r\n            \"md_shard1_1\"\r\n        ]\r\n    },\r\n    \"response\": [\r\n        \"collection\",\r\n        \"techproducts\",\r\n        \"numShards\",\r\n        2,\r\n        \"backupId\",\r\n        1,\r\n        \"indexVersion\",\r\n        \"9.0.0\",\r\n        \"startTime\",\r\n        \"2021-12-30T06:45:35.738064Z\",\r\n        \"indexSizeMB\",\r\n        0.007\r\n    ],\r\n    \"status\": {\r\n        \"state\": \"completed\",\r\n        \"msg\": \"found [1056] in completed tasks\"\r\n    }\r\n}\r\n```\r\n\r\nAnother way to solve the problem, is to put results of the operation to the `toLog` list of the response. But this implies parsing the generated string located in the `Response` field and extracting all the required fields from it within the `aggregateResults` method. Looks unnecessary complex.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1002910206/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1003079734","html_url":"https://github.com/apache/solr/pull/476#issuecomment-1003079734","issue_url":"https://api.github.com/repos/apache/solr/issues/476","id":1003079734,"node_id":"IC_kwDOFFj3yM47ycg2","user":{"login":"alessandrobenedetti","id":513195,"node_id":"MDQ6VXNlcjUxMzE5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/513195?v=4","gravatar_id":"","url":"https://api.github.com/users/alessandrobenedetti","html_url":"https://github.com/alessandrobenedetti","followers_url":"https://api.github.com/users/alessandrobenedetti/followers","following_url":"https://api.github.com/users/alessandrobenedetti/following{/other_user}","gists_url":"https://api.github.com/users/alessandrobenedetti/gists{/gist_id}","starred_url":"https://api.github.com/users/alessandrobenedetti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alessandrobenedetti/subscriptions","organizations_url":"https://api.github.com/users/alessandrobenedetti/orgs","repos_url":"https://api.github.com/users/alessandrobenedetti/repos","events_url":"https://api.github.com/users/alessandrobenedetti/events{/privacy}","received_events_url":"https://api.github.com/users/alessandrobenedetti/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-30T15:36:45Z","updated_at":"2021-12-30T15:36:45Z","author_association":"CONTRIBUTOR","body":"Done another iteration, with quite a good quantity of changes. Many issues related with the serialization/deserialization should be solved.\r\nI'll take a look after new year to the hyper-parameter mentioned by @msokolov !\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1003079734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1003410938","html_url":"https://github.com/apache/solr/pull/480#issuecomment-1003410938","issue_url":"https://api.github.com/repos/apache/solr/issues/480","id":1003410938,"node_id":"IC_kwDOFFj3yM47ztX6","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-31T16:17:55Z","updated_at":"2021-12-31T16:17:55Z","author_association":"CONTRIBUTOR","body":"Lgtm ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1003410938/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1004068228","html_url":"https://github.com/apache/solr/pull/488#issuecomment-1004068228","issue_url":"https://api.github.com/repos/apache/solr/issues/488","id":1004068228,"node_id":"IC_kwDOFFj3yM472N2E","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-03T12:46:59Z","updated_at":"2022-01-03T12:46:59Z","author_association":"CONTRIBUTOR","body":"Interesting solution to this problem. Another way to fix it would be for the CurrencyFieldType to register `ScheduledExecutorService` and do the reloading in a tread-safe manner in that thread. It would be more automatic without new params or classes, and it would respect the reloadInterval setting as before, only it would do the reload in the executor instead of in the query thread. I think it is quite resource efficient as well, you won't occupy a thread except for each run of the executor. WDYT?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1004068228/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1004161005","html_url":"https://github.com/apache/solr/pull/427#issuecomment-1004161005","issue_url":"https://api.github.com/repos/apache/solr/issues/427","id":1004161005,"node_id":"IC_kwDOFFj3yM472kft","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-03T15:16:16Z","updated_at":"2022-01-03T15:16:16Z","author_association":"CONTRIBUTOR","body":"@gerlowskija Please look at the latest changes","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1004161005/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1004229826","html_url":"https://github.com/apache/solr/pull/490#issuecomment-1004229826","issue_url":"https://api.github.com/repos/apache/solr/issues/490","id":1004229826,"node_id":"IC_kwDOFFj3yM4721TC","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-03T17:06:56Z","updated_at":"2022-01-03T17:06:56Z","author_association":"CONTRIBUTOR","body":"LGTM.    I'll leave it open to see if anyone else comments...    Ping me in a day or two to merge if no one else does.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1004229826/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1004403471","html_url":"https://github.com/apache/solr/pull/472#issuecomment-1004403471","issue_url":"https://api.github.com/repos/apache/solr/issues/472","id":1004403471,"node_id":"IC_kwDOFFj3yM473fsP","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-03T22:33:40Z","updated_at":"2022-01-03T22:33:40Z","author_association":"CONTRIBUTOR","body":"I updated `addVersion.py` so it works as expected.\r\nAlso, instead of updating `<luceneMatchVersion>` in solrconfig with the new Solr version, it is now updated with the lucene version found in `versions.props`, alternatively a lucene-version passed as `addVersion.py -l <lucene_ver> <solr_ver>`.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1004403471/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1004694776","html_url":"https://github.com/apache/solr/pull/488#issuecomment-1004694776","issue_url":"https://api.github.com/repos/apache/solr/issues/488","id":1004694776,"node_id":"IC_kwDOFFj3yM474mz4","user":{"login":"arobinski","id":10772621,"node_id":"MDQ6VXNlcjEwNzcyNjIx","avatar_url":"https://avatars.githubusercontent.com/u/10772621?v=4","gravatar_id":"","url":"https://api.github.com/users/arobinski","html_url":"https://github.com/arobinski","followers_url":"https://api.github.com/users/arobinski/followers","following_url":"https://api.github.com/users/arobinski/following{/other_user}","gists_url":"https://api.github.com/users/arobinski/gists{/gist_id}","starred_url":"https://api.github.com/users/arobinski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arobinski/subscriptions","organizations_url":"https://api.github.com/users/arobinski/orgs","repos_url":"https://api.github.com/users/arobinski/repos","events_url":"https://api.github.com/users/arobinski/events{/privacy}","received_events_url":"https://api.github.com/users/arobinski/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-04T10:32:18Z","updated_at":"2022-01-04T10:32:18Z","author_association":"NONE","body":"This seems like a much better solution than mine. I will try to implement it in this pull request.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1004694776/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1004811565","html_url":"https://github.com/apache/solr/pull/488#issuecomment-1004811565","issue_url":"https://api.github.com/repos/apache/solr/issues/488","id":1004811565,"node_id":"IC_kwDOFFj3yM475DUt","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-04T13:27:57Z","updated_at":"2022-01-04T13:27:57Z","author_association":"CONTRIBUTOR","body":"> This seems like a much better solution than mine. I will try to implement it in this pull request.\r\n\r\nI'd look at creating a pool `ScheduledExecutorService.newMDCAwareSingleThreadExecutor(new SolrNamedThreadFactory(\"currencyProvider\"))`, and in `reload()` wrap the logic inside a Runnable that is passed to the exector and then return immediately.\r\n\r\nThat way, we only refresh rates if there are actual search requests, but once a request comes, it will only trigger a background refresh, while the request will succeed on the existing rates (stale).\r\n\r\nIf you add proper synchronization on read/write of the `protected OpenExchangeRates rates` class, then the amount of time you need to lock while swapping in the new object should be minimal.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1004811565/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1004902324","html_url":"https://github.com/apache/solr/pull/493#issuecomment-1004902324","issue_url":"https://api.github.com/repos/apache/solr/issues/493","id":1004902324,"node_id":"IC_kwDOFFj3yM475Ze0","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-04T15:23:02Z","updated_at":"2022-01-04T15:23:02Z","author_association":"CONTRIBUTOR","body":"Happy New Year!\r\n\r\nHehe, as the Lucene NOTICE text does not mention a specific Lucene release, I'd update it right away.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1004902324/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1005223884","html_url":"https://github.com/apache/solr/pull/495#issuecomment-1005223884","issue_url":"https://api.github.com/repos/apache/solr/issues/495","id":1005223884,"node_id":"IC_kwDOFFj3yM476n_M","user":{"login":"thomascorthals","id":12425704,"node_id":"MDQ6VXNlcjEyNDI1NzA0","avatar_url":"https://avatars.githubusercontent.com/u/12425704?v=4","gravatar_id":"","url":"https://api.github.com/users/thomascorthals","html_url":"https://github.com/thomascorthals","followers_url":"https://api.github.com/users/thomascorthals/followers","following_url":"https://api.github.com/users/thomascorthals/following{/other_user}","gists_url":"https://api.github.com/users/thomascorthals/gists{/gist_id}","starred_url":"https://api.github.com/users/thomascorthals/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thomascorthals/subscriptions","organizations_url":"https://api.github.com/users/thomascorthals/orgs","repos_url":"https://api.github.com/users/thomascorthals/repos","events_url":"https://api.github.com/users/thomascorthals/events{/privacy}","received_events_url":"https://api.github.com/users/thomascorthals/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-04T22:39:04Z","updated_at":"2022-01-04T22:39:04Z","author_association":"NONE","body":"I'm afraid setting `Content-Length: 0` is incorrect for a `HEAD` request.\r\n\r\nhttps://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.4 (emphasis mine)\r\n>  The HEAD method is identical to GET except that the server MUST NOT return a message-body in the response. The metainformation contained in the **HTTP headers in response to a HEAD request SHOULD be identical to the information sent in response to a GET request**. This method can be used for obtaining metainformation about the entity implied by the request without transferring the entity-body itself. This method is often used for testing hypertext links for validity, accessibility, and recent modification.\r\n> \r\n> The response to a HEAD request MAY be cacheable in the sense that the information contained in the response MAY be used to update a previously cached entity from that resource. If the new field values indicate that the cached entity differs from the current entity (as would be indicated by a change in Content-Length, Content-MD5, ETag or Last-Modified), then the cache MUST treat the cache entry as stale. \r\n\r\nThe [MDN Web Docs](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/HEAD) even use this as an explicit example.\r\n\r\n> For example, if a URL might produce a large download, a `HEAD` request could read its `Content-Length` header to check the filesize without actually downloading the file.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1005223884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1005250482","html_url":"https://github.com/apache/solr/pull/491#issuecomment-1005250482","issue_url":"https://api.github.com/repos/apache/solr/issues/491","id":1005250482,"node_id":"IC_kwDOFFj3yM476uey","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-04T23:34:56Z","updated_at":"2022-01-04T23:37:30Z","author_association":"CONTRIBUTOR","body":"I'm marking this PR as ready for wider review (and testing), as I believe it is close to complete.\r\n\r\nTo test, run:\r\n```\r\n./gradlew assembleRelease\r\n```\r\nThen inspect `solr/distribution/build/release`, e.g. with `tree -L 4 solr/distribution/build/release`\r\n\r\nIf you have gpg setup, you can also test signing\r\n```\r\n./gradlew assembleRelease -Psign\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1005250482/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1005551448","html_url":"https://github.com/apache/solr/pull/480#issuecomment-1005551448","issue_url":"https://api.github.com/repos/apache/solr/issues/480","id":1005551448,"node_id":"IC_kwDOFFj3yM47739Y","user":{"login":"cpoerschke","id":6458642,"node_id":"MDQ6VXNlcjY0NTg2NDI=","avatar_url":"https://avatars.githubusercontent.com/u/6458642?v=4","gravatar_id":"","url":"https://api.github.com/users/cpoerschke","html_url":"https://github.com/cpoerschke","followers_url":"https://api.github.com/users/cpoerschke/followers","following_url":"https://api.github.com/users/cpoerschke/following{/other_user}","gists_url":"https://api.github.com/users/cpoerschke/gists{/gist_id}","starred_url":"https://api.github.com/users/cpoerschke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cpoerschke/subscriptions","organizations_url":"https://api.github.com/users/cpoerschke/orgs","repos_url":"https://api.github.com/users/cpoerschke/repos","events_url":"https://api.github.com/users/cpoerschke/events{/privacy}","received_events_url":"https://api.github.com/users/cpoerschke/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-05T10:13:16Z","updated_at":"2022-01-05T10:13:16Z","author_association":"CONTRIBUTOR","body":"Thanks @epugh for reviewing! I'm going to interpret your \"Lgtm\" as also \"Approved\" in terms of pull request and proceed to merge here next then. Also ran full test suite locally and it all passed.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1005551448/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1005554465","html_url":"https://github.com/apache/solr/pull/479#issuecomment-1005554465","issue_url":"https://api.github.com/repos/apache/solr/issues/479","id":1005554465,"node_id":"IC_kwDOFFj3yM4774sh","user":{"login":"cpoerschke","id":6458642,"node_id":"MDQ6VXNlcjY0NTg2NDI=","avatar_url":"https://avatars.githubusercontent.com/u/6458642?v=4","gravatar_id":"","url":"https://api.github.com/users/cpoerschke","html_url":"https://github.com/cpoerschke","followers_url":"https://api.github.com/users/cpoerschke/followers","following_url":"https://api.github.com/users/cpoerschke/following{/other_user}","gists_url":"https://api.github.com/users/cpoerschke/gists{/gist_id}","starred_url":"https://api.github.com/users/cpoerschke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cpoerschke/subscriptions","organizations_url":"https://api.github.com/users/cpoerschke/orgs","repos_url":"https://api.github.com/users/cpoerschke/repos","events_url":"https://api.github.com/users/cpoerschke/events{/privacy}","received_events_url":"https://api.github.com/users/cpoerschke/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-05T10:17:13Z","updated_at":"2022-01-05T10:17:13Z","author_association":"CONTRIBUTOR","body":"Hello @ijioio, thanks for opening this pull request!\r\n\r\n> This is how response for backup status request will looks like in case of adding `response` field:\r\n\r\nI found seeing this very helpful, thank you for including it in this PR.\r\n\r\n> * I don't think that messing with the original `Response` value is a good idea. It is a general response format used for all the core admin operations. So there may be a chance of someone depending on its content/format.\r\n\r\nYes, if the response format were to change that would need to be clearly communicated to users e.g. via the https://github.com/apache/solr/blob/main/solr/CHANGES.txt and/or https://github.com/apache/solr/blob/main/solr/solr-ref-guide/src/major-changes-in-solr-9.adoc notes, because as you say someone might depend on its content or format.\r\n\r\nAt least in the case of the `BACKUPCORE` here much of the `Response` seems more like a repeat of the request parameters rather than response information content. And via `something[\"Response\"] instanceof String` or similar clients could differentiate between old and new format. So changing the response format could be practical then? Having `Response` and `response` elements co-exist seems to me confusing in the long-term and for new users.\r\n\r\n> * In case we use some field other than `response` we also need to update the function `aggregateResults` to support two types of response types for aggregation. In contrast, if we use the `response` field it will be compatible with current `aggregateResults` code.\r\n\r\nThat's very insightful, thanks. I wonder what updating the `aggregateResults` might look like, the method has `private` visibility and so changing its signature (if necessary) would be easily possible.\r\n\r\n> Another way to solve the problem, is to put results of the operation to the `toLog` list of the response. But this implies parsing the generated string located in the `Response` field and extracting all the required fields from it within the `aggregateResults` method. Looks unnecessary complex.\r\n\r\nYes, that looks too complex and fragile.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1005554465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1005555872","html_url":"https://github.com/apache/solr/pull/493#issuecomment-1005555872","issue_url":"https://api.github.com/repos/apache/solr/issues/493","id":1005555872,"node_id":"IC_kwDOFFj3yM4775Cg","user":{"login":"cpoerschke","id":6458642,"node_id":"MDQ6VXNlcjY0NTg2NDI=","avatar_url":"https://avatars.githubusercontent.com/u/6458642?v=4","gravatar_id":"","url":"https://api.github.com/users/cpoerschke","html_url":"https://github.com/cpoerschke","followers_url":"https://api.github.com/users/cpoerschke/followers","following_url":"https://api.github.com/users/cpoerschke/following{/other_user}","gists_url":"https://api.github.com/users/cpoerschke/gists{/gist_id}","starred_url":"https://api.github.com/users/cpoerschke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cpoerschke/subscriptions","organizations_url":"https://api.github.com/users/cpoerschke/orgs","repos_url":"https://api.github.com/users/cpoerschke/repos","events_url":"https://api.github.com/users/cpoerschke/events{/privacy}","received_events_url":"https://api.github.com/users/cpoerschke/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-05T10:19:06Z","updated_at":"2022-01-05T10:19:06Z","author_association":"CONTRIBUTOR","body":"> Hehe, as the Lucene NOTICE text does not mention a specific Lucene release, I'd update it right away.\r\n\r\nDone.\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1005555872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1005558214","html_url":"https://github.com/apache/solr/pull/496#issuecomment-1005558214","issue_url":"https://api.github.com/repos/apache/solr/issues/496","id":1005558214,"node_id":"IC_kwDOFFj3yM4775nG","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-05T10:22:13Z","updated_at":"2022-01-05T10:22:13Z","author_association":"CONTRIBUTOR","body":"There are other candidates too, but the ability to build a docker image is not only a build change, so I left them as-is.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1005558214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1005828822","html_url":"https://github.com/apache/solr/pull/495#issuecomment-1005828822","issue_url":"https://api.github.com/repos/apache/solr/issues/495","id":1005828822,"node_id":"IC_kwDOFFj3yM4787rW","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-05T15:37:13Z","updated_at":"2022-01-05T15:37:13Z","author_association":"CONTRIBUTOR","body":"Thanks @thomascorthals for digging into this!   I'm going to take another stab ;-)","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1005828822/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1005855293","html_url":"https://github.com/apache/solr/pull/479#issuecomment-1005855293","issue_url":"https://api.github.com/repos/apache/solr/issues/479","id":1005855293,"node_id":"IC_kwDOFFj3yM479CI9","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-05T16:02:19Z","updated_at":"2022-01-05T16:02:19Z","author_association":"CONTRIBUTOR","body":"> Yes, if the response format were to change that would need to be clearly communicated to users e.g. via the https://github.com/apache/solr/blob/main/solr/CHANGES.txt and/or https://github.com/apache/solr/blob/main/solr/solr-ref-guide/src/major-changes-in-solr-9.adoc notes, because as you say someone might depend on its content or format.\r\n\r\nI think this could be a good change to make at the same time as [SOLR-15884](https://issues.apache.org/jira/browse/SOLR-15884), since we would be changing the expected response structure for backups.\r\n\r\nPersonally I think `Response` could be changed to `message` and `response` could be left the same, but that's just my first thought.\r\n\r\n> > This is how response for backup status request will looks like in case of adding response field:\r\n\r\n> I found seeing this very helpful, thank you for including it in this PR.\r\n\r\nI completely agree, this was very detailed and informative. Thanks so much for your research here.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1005855293/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1006043063","html_url":"https://github.com/apache/solr/pull/472#issuecomment-1006043063","issue_url":"https://api.github.com/repos/apache/solr/issues/472","id":1006043063,"node_id":"IC_kwDOFFj3yM479v-3","user":{"login":"thelabdude","id":417074,"node_id":"MDQ6VXNlcjQxNzA3NA==","avatar_url":"https://avatars.githubusercontent.com/u/417074?v=4","gravatar_id":"","url":"https://api.github.com/users/thelabdude","html_url":"https://github.com/thelabdude","followers_url":"https://api.github.com/users/thelabdude/followers","following_url":"https://api.github.com/users/thelabdude/following{/other_user}","gists_url":"https://api.github.com/users/thelabdude/gists{/gist_id}","starred_url":"https://api.github.com/users/thelabdude/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thelabdude/subscriptions","organizations_url":"https://api.github.com/users/thelabdude/orgs","repos_url":"https://api.github.com/users/thelabdude/repos","events_url":"https://api.github.com/users/thelabdude/events{/privacy}","received_events_url":"https://api.github.com/users/thelabdude/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-05T20:11:50Z","updated_at":"2022-01-05T20:12:05Z","author_association":"CONTRIBUTOR","body":"@janhoy ... I think the semver code `com.github.zafarkhaja.semver` is not Locale aware:\r\n```\r\norg.apache.solr.util.TestSolrVersion > testVersionComponents FAILED\r\n    org.junit.ComparisonFailure: expected:<[9.0.1]-rc1> but was:<[৯.০.১]-rc1>\r\n        at __randomizedtesting.SeedInfo.seed([EBA979F6BCADAB5F:593FBB0BE14D10A9]:0)\r\n        at org.junit.Assert.assertEquals(Assert.java:117)\r\n        at org.junit.Assert.assertEquals(Assert.java:146)\r\n        at org.apache.solr.util.TestSolrVersion.testVersionComponents(TestSolrVersion.java:31)\r\n```\r\nSpecifically, NormalVersion needs to use a Locale here: \r\n```\r\n    public String toString() {\r\n        return String.format(\"%d.%d.%d\", major, minor, patch);\r\n    }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1006043063/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1006051349","html_url":"https://github.com/apache/solr/pull/491#issuecomment-1006051349","issue_url":"https://api.github.com/repos/apache/solr/issues/491","id":1006051349,"node_id":"IC_kwDOFFj3yM479yAV","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-05T20:24:42Z","updated_at":"2022-01-05T20:26:24Z","author_association":"CONTRIBUTOR","body":"@janhoy, there is an issue with the new distribution. I believe this \"create a directory, then make a tarball\" approach was used initially, however it caused the files to lose permissions (i.e. no executable flags that had been set). This was fixed when we went straight into a tarball from sources, setting the necessary permissions.\r\n\r\nI have checked with your new build and the tarball does not contain the executable bit for solr/bin, solr/docker/scripts, etc.\r\n\r\nWould it be possible to move that stuff back into `solr/packaging` as it was originally done? You can keep the signing in the new `distributions` sub-project (though calling it `release` or `artifacts` might be a bit more clear at that point...)","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1006051349/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1006103948","html_url":"https://github.com/apache/solr/pull/491#issuecomment-1006103948","issue_url":"https://api.github.com/repos/apache/solr/issues/491","id":1006103948,"node_id":"IC_kwDOFFj3yM479-2M","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-05T21:46:50Z","updated_at":"2022-01-05T21:46:50Z","author_association":"CONTRIBUTOR","body":"I also noticed that the `-PuseGpg` doesn't work (looks like it was never implemented).","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1006103948/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1006115046","html_url":"https://github.com/apache/solr/pull/491#issuecomment-1006115046","issue_url":"https://api.github.com/repos/apache/solr/issues/491","id":1006115046,"node_id":"IC_kwDOFFj3yM47-Bjm","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-05T22:05:48Z","updated_at":"2022-01-05T22:05:48Z","author_association":"CONTRIBUTOR","body":"Ok I added support for `-PuseGpg`, feel free to remove this if I was doing something wrong... I also slimmed down the officialDockerfile packaging to just include `Dockerfile.official`\r\n\r\nI didn't change anything about how the tarball is generated, that still needs to be dealt with.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1006115046/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1006127622","html_url":"https://github.com/apache/solr/pull/491#issuecomment-1006127622","issue_url":"https://api.github.com/repos/apache/solr/issues/491","id":1006127622,"node_id":"IC_kwDOFFj3yM47-EoG","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-05T22:27:07Z","updated_at":"2022-01-06T01:21:47Z","author_association":"CONTRIBUTOR","body":"Thanks @HoustonPutman. There is still a problem I'm tackling, which is that a plain `gradlew assembleRelease` without signing, now does not work since we're always triggering officia dockerfile build, which throws exception if not signed.:\r\n```\r\n> gradlew clean assembleRelease\r\nUsing gradle at '/Users/janhoy/git/solr/gradlew' to run buildfile '/Users/janhoy/git/solr/build.gradle':\r\n\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* Where:\r\nBuild file '/Users/janhoy/git/solr/solr/docker/build.gradle' line: 338\r\n\r\n* What went wrong:\r\nNo GPG keyName found, please see help/publishing.txt (GPG key is neccessary to create Dockerfile.official)\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 2s\r\n2 actionable tasks: 2 up-to-date\r\n```\r\n\r\nA simple solution is to skip the official file if no signing, so folks can test out a local tgz build. During a release there will always be signing, so then we'll include the official. I have a patch up (just need to modify it for your latest commit :) )","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1006127622/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1006131673","html_url":"https://github.com/apache/solr/pull/491#issuecomment-1006131673","issue_url":"https://api.github.com/repos/apache/solr/issues/491","id":1006131673,"node_id":"IC_kwDOFFj3yM47-FnZ","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-05T22:34:48Z","updated_at":"2022-01-05T22:37:14Z","author_association":"CONTRIBUTOR","body":"> @janhoy, there is an issue with the new distribution. I believe this \"create a directory, then make a tarball\" approach was used initially, however it caused the files to lose permissions (i.e. no executable flags that had been set). This was fixed when we went straight into a tarball from sources, setting the necessary permissions.\r\n\r\nGood catch. This will also make the image smaller, right?\r\n\r\nI wanted to migrate to the better organization from Lucene, thus the \"distribution\" folder. But at the same time I did not want to disrupt the existing dev workflow that is documented, so I kept the assembly of the binary directory as-is.\r\n\r\n@HoustonPutman Perhaps the \"distribution\" `assembleBinaryTgz` can re-assemble the files on the fly instead of copying from the pre-built folder? Are you saying the old assembly in \"packaging\" did that?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1006131673/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1006132064","html_url":"https://github.com/apache/solr/pull/491#issuecomment-1006132064","issue_url":"https://api.github.com/repos/apache/solr/issues/491","id":1006132064,"node_id":"IC_kwDOFFj3yM47-Ftg","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-05T22:35:38Z","updated_at":"2022-01-05T22:35:38Z","author_association":"CONTRIBUTOR","body":"> A simple solution is to skip the official file if no signing, so folks can test out a local tgz build. During a release there will always be signing, so then we'll include the official. I have a patch up (just need to modify it for your latest commit :) )\r\n\r\nI have a slight iteration on your approach that works when I test it if you want me to commit and push. (it will include only `Dockerfile.local` if not signing and `Dockerfile.official` if signing)","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1006132064/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1006132692","html_url":"https://github.com/apache/solr/pull/491#issuecomment-1006132692","issue_url":"https://api.github.com/repos/apache/solr/issues/491","id":1006132692,"node_id":"IC_kwDOFFj3yM47-F3U","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-05T22:36:47Z","updated_at":"2022-01-05T22:36:47Z","author_association":"CONTRIBUTOR","body":">I have a slight iteration on your approach that works when I test it if you want me to commit and push. (it will include only Dockerfile.local if not signing and Dockerfile.official if signing)\r\n\r\nGo ahead!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1006132692/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1006133242","html_url":"https://github.com/apache/solr/pull/491#issuecomment-1006133242","issue_url":"https://api.github.com/repos/apache/solr/issues/491","id":1006133242,"node_id":"IC_kwDOFFj3yM47-F_6","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-05T22:37:55Z","updated_at":"2022-01-05T22:41:39Z","author_association":"CONTRIBUTOR","body":"> Perhaps the \"distribution\" assembleBinaryTgz can re-assemble the files on the fly instead of copying from the pre-built folder? Are you saying the old assembly in \"packaging\" did that?\r\n\r\nThe old assembly merely took all the input files and put them straight into the tarball, then if you wanted a local copy of anything, it would untar the contents into the given directory. The files were never assembled in a regular directory to start.\r\n\r\n> Good catch. This will also make the image smaller, right?\r\n\r\nMaybe but we had that logic in even when the tarball had the right permissions. I say for now to be safe we just solve it like I have proposed in #498 . But we can always remove that in the future if it looks like we are safe (that would be preferable fro sure).","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1006133242/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1006408028","html_url":"https://github.com/apache/solr/pull/472#issuecomment-1006408028","issue_url":"https://api.github.com/repos/apache/solr/issues/472","id":1006408028,"node_id":"IC_kwDOFFj3yM47_JFc","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-06T09:27:09Z","updated_at":"2022-01-06T09:27:09Z","author_association":"CONTRIBUTOR","body":"> I think the semver code com.github.zafarkhaja.semver is not Locale aware\r\n\r\nHow do you reproduce this? I see that the semver lib is getting old and there are other alternatives out there. Or we could file a bug there?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1006408028/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1006498260","html_url":"https://github.com/apache/solr/pull/472#issuecomment-1006498260","issue_url":"https://api.github.com/repos/apache/solr/issues/472","id":1006498260,"node_id":"IC_kwDOFFj3yM47_fHU","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-06T11:25:26Z","updated_at":"2022-01-06T11:25:26Z","author_association":"CONTRIBUTOR","body":"See https://issues.apache.org/jira/browse/SOLR-15896","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1006498260/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1006680521","html_url":"https://github.com/apache/solr/pull/479#issuecomment-1006680521","issue_url":"https://api.github.com/repos/apache/solr/issues/479","id":1006680521,"node_id":"IC_kwDOFFj3yM48ALnJ","user":{"login":"ijioio","id":62468619,"node_id":"MDQ6VXNlcjYyNDY4NjE5","avatar_url":"https://avatars.githubusercontent.com/u/62468619?v=4","gravatar_id":"","url":"https://api.github.com/users/ijioio","html_url":"https://github.com/ijioio","followers_url":"https://api.github.com/users/ijioio/followers","following_url":"https://api.github.com/users/ijioio/following{/other_user}","gists_url":"https://api.github.com/users/ijioio/gists{/gist_id}","starred_url":"https://api.github.com/users/ijioio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijioio/subscriptions","organizations_url":"https://api.github.com/users/ijioio/orgs","repos_url":"https://api.github.com/users/ijioio/repos","events_url":"https://api.github.com/users/ijioio/events{/privacy}","received_events_url":"https://api.github.com/users/ijioio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-06T15:28:47Z","updated_at":"2022-01-06T15:28:47Z","author_association":"CONTRIBUTOR","body":"> Yes, if the response format were to change that would need to be clearly communicated to users e.g. via the https://github.com/apache/solr/blob/main/solr/CHANGES.txt and/or https://github.com/apache/solr/blob/main/solr/solr-ref-guide/src/major-changes-in-solr-9.adoc notes, because as you say someone might depend on its content or format.\r\n\r\nInitially, I was not hoping to go that far as changing the response format. But I personally think this is the best option if possible, especially taking into account another issue concerning responses unification.\r\n\r\n> At least in the case of the `BACKUPCORE` here much of the `Response` seems more like a repeat of the request parameters rather than response information content.\r\n\r\nYes, you're absolutely right. All the `Response` value is actually is the content of the `toLog` list located inside the `org.apache.solr.response.SolrQueryResponse`. It is filled only on `preDecorateResponse` and `postDecorateResponse` calls within `org.apache.solr.servlet.HttpSolrCall.handleAdminRequest()`:\r\n\r\n```java\r\n  private void handleAdminRequest() throws IOException {\r\n    SolrQueryResponse solrResp = new SolrQueryResponse();\r\n    SolrCore.preDecorateResponse(solrReq, solrResp);\r\n    handleAdmin(solrResp);\r\n    SolrCore.postDecorateResponse(handler, solrReq, solrResp);\r\n    ....\r\n  }\r\n```\r\n\r\nNothing much of the interest is added there: path, query parameters, time, status, and handling echo parameters if provided. In the case of backup, only an async id is added there.\r\n\r\n> So changing the response format could be practical then? Having Response and response elements co-exist seems to me confusing in the long-term and for new users.\r\n\r\nAgree! It is confusing. I think, if possible, replacing the current `Response` block with a standard `response` is a good option. Maybe we can investigate in that way?\r\n\r\n> That's very insightful, thanks. I wonder what updating the aggregateResults might look like, the method has private visibility and so changing its signature (if necessary) would be easily possible.\r\n\r\nThat's true. It will not be a problem to update it if needed.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1006680521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1006688286","html_url":"https://github.com/apache/solr/pull/479#issuecomment-1006688286","issue_url":"https://api.github.com/repos/apache/solr/issues/479","id":1006688286,"node_id":"IC_kwDOFFj3yM48ANge","user":{"login":"ijioio","id":62468619,"node_id":"MDQ6VXNlcjYyNDY4NjE5","avatar_url":"https://avatars.githubusercontent.com/u/62468619?v=4","gravatar_id":"","url":"https://api.github.com/users/ijioio","html_url":"https://github.com/ijioio","followers_url":"https://api.github.com/users/ijioio/followers","following_url":"https://api.github.com/users/ijioio/following{/other_user}","gists_url":"https://api.github.com/users/ijioio/gists{/gist_id}","starred_url":"https://api.github.com/users/ijioio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijioio/subscriptions","organizations_url":"https://api.github.com/users/ijioio/orgs","repos_url":"https://api.github.com/users/ijioio/repos","events_url":"https://api.github.com/users/ijioio/events{/privacy}","received_events_url":"https://api.github.com/users/ijioio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-06T15:38:55Z","updated_at":"2022-01-06T15:38:55Z","author_association":"CONTRIBUTOR","body":"> I think this could be a good change to make at the same time as [SOLR-15884](https://issues.apache.org/jira/browse/SOLR-15884), since we would be changing the expected response structure for backups.\r\n\r\nAgree, I can investigate to find out is it sensitive for changing list vs map mentioned in the SOLR-15884. But as far as I know, the aggregated part of the response is not used within the main Solr code (except maybe SolrJ) but can be actively used outside of Solr by users. ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1006688286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1006698718","html_url":"https://github.com/apache/solr/pull/495#issuecomment-1006698718","issue_url":"https://api.github.com/repos/apache/solr/issues/495","id":1006698718,"node_id":"IC_kwDOFFj3yM48AQDe","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-06T15:52:19Z","updated_at":"2022-01-06T15:52:19Z","author_association":"CONTRIBUTOR","body":"@thomascorthals so, I tried a different appraoch, however if I blank out the content, then the content-length goes to 0....   I actually CAN'T find where we set the content-length?   I see some places we check it's existence.  I wonder if there is some OTHER location where we populate the content-length, and there, if it's a HEAD request, after we populate the content-length we then delete the response body text from the response...?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1006698718/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1006757868","html_url":"https://github.com/apache/solr/pull/495#issuecomment-1006757868","issue_url":"https://api.github.com/repos/apache/solr/issues/495","id":1006757868,"node_id":"IC_kwDOFFj3yM48Aefs","user":{"login":"thomascorthals","id":12425704,"node_id":"MDQ6VXNlcjEyNDI1NzA0","avatar_url":"https://avatars.githubusercontent.com/u/12425704?v=4","gravatar_id":"","url":"https://api.github.com/users/thomascorthals","html_url":"https://github.com/thomascorthals","followers_url":"https://api.github.com/users/thomascorthals/followers","following_url":"https://api.github.com/users/thomascorthals/following{/other_user}","gists_url":"https://api.github.com/users/thomascorthals/gists{/gist_id}","starred_url":"https://api.github.com/users/thomascorthals/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thomascorthals/subscriptions","organizations_url":"https://api.github.com/users/thomascorthals/orgs","repos_url":"https://api.github.com/users/thomascorthals/repos","events_url":"https://api.github.com/users/thomascorthals/events{/privacy}","received_events_url":"https://api.github.com/users/thomascorthals/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-06T17:10:45Z","updated_at":"2022-01-06T17:10:45Z","author_association":"NONE","body":"@epugh I hadn't paid attention to the `Content-Length` before. It seems to be an issue with `HEAD` requests in general.\r\n\r\n```\r\n$ curl -si 'http://localhost:8983/solr/techproducts/select?q=*%3A*&rows=0'\r\nHTTP/1.1 200 OK\r\nContent-Security-Policy: default-src 'none'; base-uri 'none'; connect-src 'self'; form-action 'self'; font-src 'self'; frame-ancestors 'none'; img-src 'self'; media-src 'self'; style-src 'self' 'unsafe-inline'; script-src 'self'; worker-src 'self';\r\nX-Content-Type-Options: nosniff\r\nX-Frame-Options: SAMEORIGIN\r\nX-XSS-Protection: 1; mode=block\r\nContent-Type: application/json;charset=utf-8\r\nVary: Accept-Encoding, User-Agent\r\nContent-Length: 180\r\n\r\n{\r\n  \"responseHeader\":{\r\n    \"status\":0,\r\n    \"QTime\":0,\r\n    \"params\":{\r\n      \"q\":\"*:*\",\r\n      \"rows\":\"0\"}},\r\n  \"response\":{\"numFound\":57,\"start\":0,\"numFoundExact\":true,\"docs\":[]\r\n  }}\r\n\r\n$ curl -sI 'http://localhost:8983/solr/techproducts/select?q=*%3A*&rows=0'\r\nHTTP/1.1 200 OK\r\nContent-Security-Policy: default-src 'none'; base-uri 'none'; connect-src 'self'; form-action 'self'; font-src 'self'; frame-ancestors 'none'; img-src 'self'; media-src 'self'; style-src 'self' 'unsafe-inline'; script-src 'self'; worker-src 'self';\r\nX-Content-Type-Options: nosniff\r\nX-Frame-Options: SAMEORIGIN\r\nX-XSS-Protection: 1; mode=block\r\nContent-Type: application/json;charset=utf-8\r\nContent-Length: 0\r\n```\r\n\r\nAs far as my use case is concerned, the status code is what really matters to me. You could consider \"all `HEAD` requests should respond with the correct `Content-Length`\" as a separate issue. 😉\r\n\r\nMy guess is that Jetty sets the `Content-Length` to the number of bytes in the response body. Maybe it's as simple as passing it the full response and trusting it to discard the body and only send the headers? At a performance cost compared to not sending or even building the body at all, probably.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1006757868/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1006908991","html_url":"https://github.com/apache/solr/pull/403#issuecomment-1006908991","issue_url":"https://api.github.com/repos/apache/solr/issues/403","id":1006908991,"node_id":"IC_kwDOFFj3yM48BDY_","user":{"login":"chatman","id":4598004,"node_id":"MDQ6VXNlcjQ1OTgwMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/4598004?v=4","gravatar_id":"","url":"https://api.github.com/users/chatman","html_url":"https://github.com/chatman","followers_url":"https://api.github.com/users/chatman/followers","following_url":"https://api.github.com/users/chatman/following{/other_user}","gists_url":"https://api.github.com/users/chatman/gists{/gist_id}","starred_url":"https://api.github.com/users/chatman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chatman/subscriptions","organizations_url":"https://api.github.com/users/chatman/orgs","repos_url":"https://api.github.com/users/chatman/repos","events_url":"https://api.github.com/users/chatman/events{/privacy}","received_events_url":"https://api.github.com/users/chatman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-06T20:22:48Z","updated_at":"2022-01-06T20:22:48Z","author_association":"CONTRIBUTOR","body":"> `PlacementRequestImpl.toPlacementRequest` needs to be updated (when nodes are passed in and when not) to filter out nodes that can't take data.\r\n\r\nFixed, thanks.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1006908991/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1006948679","html_url":"https://github.com/apache/solr/pull/502#issuecomment-1006948679","issue_url":"https://api.github.com/repos/apache/solr/issues/502","id":1006948679,"node_id":"IC_kwDOFFj3yM48BNFH","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-06T21:30:20Z","updated_at":"2022-01-06T21:30:20Z","author_association":"CONTRIBUTOR","body":"Hi @dweiss, could you have a quick look? Due to the new spotless options we can run errorprone in Gradle also with JDK 16+, it only fails to work when javac gets forked due to alternative runtime.\r\n\r\nI will apply the same hack to Lucene once we are on JDK-17, otherwise errorprone would not even run on nightly Jenkins runs anymore. This enables errorprone, when it runs *inside* the Gradle JVM. If you have a better idea without the rootProject extra property, tell me! :-)","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1006948679/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1006953864","html_url":"https://github.com/apache/solr/pull/502#issuecomment-1006953864","issue_url":"https://api.github.com/repos/apache/solr/issues/502","id":1006953864,"node_id":"IC_kwDOFFj3yM48BOWI","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-06T21:39:20Z","updated_at":"2022-01-06T21:42:23Z","author_association":"CONTRIBUTOR","body":"Works fine!\r\n\r\nWith alternate toolchain:\r\n```\r\n$ gradlew clean :solr:solrj:jar\r\n\r\n> Task :altJvmWarning\r\nNOTE: Alternative java toolchain will be used for compilation and tests:\r\n  Project will use 18 (OpenJDK 18-ea+26-1787, home at: C:\\Program Files\\Java\\jdk-18)\r\n  Gradle runs with 11 (Eclipse Adoptium JDK 11.0.13+8, home at: C:\\Program Files\\Java\\jdk-11.0.13)\r\n\r\n> Task :errorProneSkipped\r\nWARNING: errorprone disabled (won't work with JDK 18 if used as alternative java toolchain)\r\n\r\n> Task :solr:solrj:compileJava\r\nNote: Some input files use or override a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\n\r\nBUILD SUCCESSFUL in 23s\r\n33 actionable tasks: 25 executed, 8 up-to-date\r\n```\r\n\r\nWith plain JDK-17 as JAVA_HOME:\r\n```\r\n$ java -version\r\nopenjdk version \"17\" 2021-09-14\r\nOpenJDK Runtime Environment (build 17+35-2724)\r\nOpenJDK 64-Bit Server VM (build 17+35-2724, mixed mode, sharing)\r\n\r\n$ gradlew clean :solr:solrj:jar\r\nStarting a Gradle Daemon, 1 incompatible Daemon could not be reused, use --status for details\r\n\r\n> Task :solr:solrj:compileJava\r\nNote: Some input files use or override a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\n\r\nBUILD SUCCESSFUL in 23s\r\n33 actionable tasks: 25 executed, 8 up-to-date\r\n```","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1006953864/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1006959750","html_url":"https://github.com/apache/solr/pull/502#issuecomment-1006959750","issue_url":"https://api.github.com/repos/apache/solr/issues/502","id":1006959750,"node_id":"IC_kwDOFFj3yM48BPyG","user":{"login":"dweiss","id":199470,"node_id":"MDQ6VXNlcjE5OTQ3MA==","avatar_url":"https://avatars.githubusercontent.com/u/199470?v=4","gravatar_id":"","url":"https://api.github.com/users/dweiss","html_url":"https://github.com/dweiss","followers_url":"https://api.github.com/users/dweiss/followers","following_url":"https://api.github.com/users/dweiss/following{/other_user}","gists_url":"https://api.github.com/users/dweiss/gists{/gist_id}","starred_url":"https://api.github.com/users/dweiss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dweiss/subscriptions","organizations_url":"https://api.github.com/users/dweiss/orgs","repos_url":"https://api.github.com/users/dweiss/repos","events_url":"https://api.github.com/users/dweiss/events{/privacy}","received_events_url":"https://api.github.com/users/dweiss/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-06T21:49:56Z","updated_at":"2022-01-06T21:49:56Z","author_association":"CONTRIBUTOR","body":"This looks ok to me. An alternative would be to pass options that would open these modules to JavaCompile - see the task's options and fork options - these can be used to always force external compiler and pass module options there?\r\n\r\nhttps://docs.gradle.org/current/dsl/org.gradle.api.tasks.compile.ForkOptions.html","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1006959750/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1006966542","html_url":"https://github.com/apache/solr/pull/502#issuecomment-1006966542","issue_url":"https://api.github.com/repos/apache/solr/issues/502","id":1006966542,"node_id":"IC_kwDOFFj3yM48BRcO","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-06T22:02:37Z","updated_at":"2022-01-06T22:02:37Z","author_association":"CONTRIBUTOR","body":"> This looks ok to me. An alternative would be to pass options that would open these modules to JavaCompile - see the task's options and fork options - these can be used to always force external compiler and pass module options there?\r\n> \r\n> https://docs.gradle.org/current/dsl/org.gradle.api.tasks.compile.ForkOptions.html\r\n\r\nI was thinking about this, too. But the additional complexity wasn't worth to do this. If you run with alternate JVM, I don't think you require errorprone.\r\n\r\nWe can tune this. But then we have to put all those module-opens in 2 different files and I am sure somebody forgets to update them.\r\n\r\nAlso: I am not sure if hooking into javac internal Apis works with possible future JDK versions.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1006966542/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1007475211","html_url":"https://github.com/apache/solr/pull/501#issuecomment-1007475211","issue_url":"https://api.github.com/repos/apache/solr/issues/501","id":1007475211,"node_id":"IC_kwDOFFj3yM48DNoL","user":{"login":"magibney","id":6225104,"node_id":"MDQ6VXNlcjYyMjUxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/6225104?v=4","gravatar_id":"","url":"https://api.github.com/users/magibney","html_url":"https://github.com/magibney","followers_url":"https://api.github.com/users/magibney/followers","following_url":"https://api.github.com/users/magibney/following{/other_user}","gists_url":"https://api.github.com/users/magibney/gists{/gist_id}","starred_url":"https://api.github.com/users/magibney/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/magibney/subscriptions","organizations_url":"https://api.github.com/users/magibney/orgs","repos_url":"https://api.github.com/users/magibney/repos","events_url":"https://api.github.com/users/magibney/events{/privacy}","received_events_url":"https://api.github.com/users/magibney/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-07T15:00:16Z","updated_at":"2022-01-07T15:00:16Z","author_association":"CONTRIBUTOR","body":"I'm surprised that you don't seem to be getting the correct version from `Version.LATEST.toString()` ... are you also surprised? You're definitely correct that parsing directly out of `versions.props` could give you misleading results based on the dependency substitution in `lucene-dev-repo-composite.gradle`. In fact I wonder: is it possible that you have a `lucene` subdirectory in the root of your solr project which might be getting auto-wired (overriding the version specified in `versions.props`)? That could explain the unexpected 8_10_0 result ... which _would_ in that case actually be the correct version!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1007475211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1007509659","html_url":"https://github.com/apache/solr/pull/479#issuecomment-1007509659","issue_url":"https://api.github.com/repos/apache/solr/issues/479","id":1007509659,"node_id":"IC_kwDOFFj3yM48DWCb","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-07T15:44:21Z","updated_at":"2022-01-07T15:44:21Z","author_association":"CONTRIBUTOR","body":"@ijioio I think this would be great to get into 9.0, because of the backwards incompatibility. 9.0 currently has a feature freeze, but I'm fine arguing for this as a blocker as long as we could get it done in the next few weeks. Let me know how I can help, if I can 🙂 ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1007509659/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1007557029","html_url":"https://github.com/apache/solr/pull/501#issuecomment-1007557029","issue_url":"https://api.github.com/repos/apache/solr/issues/501","id":1007557029,"node_id":"IC_kwDOFFj3yM48Dhml","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-07T16:43:19Z","updated_at":"2022-01-07T16:43:19Z","author_association":"CONTRIBUTOR","body":"No, I have not overridden lucene version locally. But I think the gradle build may pick up another lucene-jar from .m2 than Solr itself, not sure which classpath the .gradle files use for themselves...","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1007557029/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1007626654","html_url":"https://github.com/apache/solr/pull/495#issuecomment-1007626654","issue_url":"https://api.github.com/repos/apache/solr/issues/495","id":1007626654,"node_id":"IC_kwDOFFj3yM48Dyme","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-07T18:15:55Z","updated_at":"2022-01-07T18:15:55Z","author_association":"CONTRIBUTOR","body":"@thelabdude  I'd love your opinion on if I should commit this fix.   It does fix the response that a HEAD does to match a GET, but with the caveat that the Content-Length is set to 0, when instead it should be the same value as if you did GET.   I also bogged down on trying to write a test ;-(.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1007626654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1007736779","html_url":"https://github.com/apache/solr/pull/505#issuecomment-1007736779","issue_url":"https://api.github.com/repos/apache/solr/issues/505","id":1007736779,"node_id":"IC_kwDOFFj3yM48ENfL","user":{"login":"madrob","id":1592330,"node_id":"MDQ6VXNlcjE1OTIzMzA=","avatar_url":"https://avatars.githubusercontent.com/u/1592330?v=4","gravatar_id":"","url":"https://api.github.com/users/madrob","html_url":"https://github.com/madrob","followers_url":"https://api.github.com/users/madrob/followers","following_url":"https://api.github.com/users/madrob/following{/other_user}","gists_url":"https://api.github.com/users/madrob/gists{/gist_id}","starred_url":"https://api.github.com/users/madrob/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/madrob/subscriptions","organizations_url":"https://api.github.com/users/madrob/orgs","repos_url":"https://api.github.com/users/madrob/repos","events_url":"https://api.github.com/users/madrob/events{/privacy}","received_events_url":"https://api.github.com/users/madrob/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-07T20:59:39Z","updated_at":"2022-01-07T20:59:39Z","author_association":"CONTRIBUTOR","body":"@janhoy This needs to be merged into branch_9 as well.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1007736779/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1007849998","html_url":"https://github.com/apache/solr/pull/403#issuecomment-1007849998","issue_url":"https://api.github.com/repos/apache/solr/issues/403","id":1007849998,"node_id":"IC_kwDOFFj3yM48EpIO","user":{"login":"noblepaul","id":54862,"node_id":"MDQ6VXNlcjU0ODYy","avatar_url":"https://avatars.githubusercontent.com/u/54862?v=4","gravatar_id":"","url":"https://api.github.com/users/noblepaul","html_url":"https://github.com/noblepaul","followers_url":"https://api.github.com/users/noblepaul/followers","following_url":"https://api.github.com/users/noblepaul/following{/other_user}","gists_url":"https://api.github.com/users/noblepaul/gists{/gist_id}","starred_url":"https://api.github.com/users/noblepaul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/noblepaul/subscriptions","organizations_url":"https://api.github.com/users/noblepaul/orgs","repos_url":"https://api.github.com/users/noblepaul/repos","events_url":"https://api.github.com/users/noblepaul/events{/privacy}","received_events_url":"https://api.github.com/users/noblepaul/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-08T01:01:22Z","updated_at":"2022-01-08T01:01:22Z","author_association":"CONTRIBUTOR","body":"Thanks everyone for participating ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1007849998/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1008589424","html_url":"https://github.com/apache/solr/pull/501#issuecomment-1008589424","issue_url":"https://api.github.com/repos/apache/solr/issues/501","id":1008589424,"node_id":"IC_kwDOFFj3yM48Hdpw","user":{"login":"dweiss","id":199470,"node_id":"MDQ6VXNlcjE5OTQ3MA==","avatar_url":"https://avatars.githubusercontent.com/u/199470?v=4","gravatar_id":"","url":"https://api.github.com/users/dweiss","html_url":"https://github.com/dweiss","followers_url":"https://api.github.com/users/dweiss/followers","following_url":"https://api.github.com/users/dweiss/following{/other_user}","gists_url":"https://api.github.com/users/dweiss/gists{/gist_id}","starred_url":"https://api.github.com/users/dweiss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dweiss/subscriptions","organizations_url":"https://api.github.com/users/dweiss/orgs","repos_url":"https://api.github.com/users/dweiss/repos","events_url":"https://api.github.com/users/dweiss/events{/privacy}","received_events_url":"https://api.github.com/users/dweiss/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-10T07:06:04Z","updated_at":"2022-01-10T07:06:04Z","author_association":"CONTRIBUTOR","body":"> So now I try to just pull it from versions.props, and that works.\r\n\r\nIn short: no. If you plan to extract Lucene version/ dependency version from within the build file then you should be using getVersion(\"artifact coordinates\") - this will work. But this method can be used at build execution time only so sometimes you have to resort to using providers. An example is in icu.gradle in Lucene:\r\n```\r\n  // Resolve version lazily (can't resolve at configuration time).\r\n  def icu4jVersionProvider = project.provider { getVersion('com.ibm.icu', 'icu4j') } \r\n```","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1008589424/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1008590678","html_url":"https://github.com/apache/solr/pull/501#issuecomment-1008590678","issue_url":"https://api.github.com/repos/apache/solr/issues/501","id":1008590678,"node_id":"IC_kwDOFFj3yM48Hd9W","user":{"login":"dweiss","id":199470,"node_id":"MDQ6VXNlcjE5OTQ3MA==","avatar_url":"https://avatars.githubusercontent.com/u/199470?v=4","gravatar_id":"","url":"https://api.github.com/users/dweiss","html_url":"https://github.com/dweiss","followers_url":"https://api.github.com/users/dweiss/followers","following_url":"https://api.github.com/users/dweiss/following{/other_user}","gists_url":"https://api.github.com/users/dweiss/gists{/gist_id}","starred_url":"https://api.github.com/users/dweiss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dweiss/subscriptions","organizations_url":"https://api.github.com/users/dweiss/orgs","repos_url":"https://api.github.com/users/dweiss/repos","events_url":"https://api.github.com/users/dweiss/events{/privacy}","received_events_url":"https://api.github.com/users/dweiss/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-10T07:08:35Z","updated_at":"2022-01-10T07:08:35Z","author_association":"CONTRIBUTOR","body":"Note: It will get a bit more complicated if you need this property at evaluation time.\r\n\r\n> I tried using Lucene's Version.LATEST.toString(), but the build found a 8_10_0 version in my env.\r\n\r\nI'm not sure what code you used here but if you used this exact snippet from within the build then you accessed gradle's internal references somehow. I'm surprised it even compiled (means gradle has Lucene inside somewhere?).","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1008590678/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1008656623","html_url":"https://github.com/apache/solr/pull/501#issuecomment-1008656623","issue_url":"https://api.github.com/repos/apache/solr/issues/501","id":1008656623,"node_id":"IC_kwDOFFj3yM48HuDv","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-10T08:51:42Z","updated_at":"2022-01-10T08:51:42Z","author_association":"CONTRIBUTOR","body":"See updated PR for a provider approach, unfortunately it also fails\r\n```\r\n1: Task failed with an exception.\r\n-----------\r\n* Where:\r\nScript '/Users/janhoy/git/solr/gradle/testing/randomization.gradle' line: 39\r\n* What went wrong:\r\nA problem occurred evaluating script.\r\n> A problem occurred configuring project ':solr:server'.\r\n   > Not allowed to call gradle-consistent-versions's getVersion(\"org.apache.lucene\", \"lucene-core\", configurations.unifiedClasspath) at configuration time\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n==============================================================================\r\n```","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1008656623/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1008778469","html_url":"https://github.com/apache/solr/pull/501#issuecomment-1008778469","issue_url":"https://api.github.com/repos/apache/solr/issues/501","id":1008778469,"node_id":"IC_kwDOFFj3yM48ILzl","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-10T11:21:40Z","updated_at":"2022-01-10T11:22:52Z","author_association":"CONTRIBUTOR","body":"Naaah, that can't work as the provider is resolved a evaluation time.\r\n\r\nThe execution of the provider get must be at very last when test starts to execute.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1008778469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009003916","html_url":"https://github.com/apache/solr/pull/501#issuecomment-1009003916","issue_url":"https://api.github.com/repos/apache/solr/issues/501","id":1009003916,"node_id":"IC_kwDOFFj3yM48JC2M","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-10T15:38:35Z","updated_at":"2022-01-10T15:38:35Z","author_association":"CONTRIBUTOR","body":"We can live with hardcoded '9.0.0' for now, but should find a solution to not have theTest LuceneMatchVersion test fail on you if you have a custom lucene version in dev.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009003916/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009051879","html_url":"https://github.com/apache/solr/pull/498#issuecomment-1009051879","issue_url":"https://api.github.com/repos/apache/solr/issues/498","id":1009051879,"node_id":"IC_kwDOFFj3yM48JOjn","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-10T16:24:50Z","updated_at":"2022-01-10T16:24:50Z","author_association":"CONTRIBUTOR","body":"@janhoy I decided to go ahead and move to the system of just using the permissions from the TGZ, and removing the overwriting in the dockerfile. This works well, and I just had to fix the permissions for the docker scripts.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009051879/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009193843","html_url":"https://github.com/apache/solr/pull/507#issuecomment-1009193843","issue_url":"https://api.github.com/repos/apache/solr/issues/507","id":1009193843,"node_id":"IC_kwDOFFj3yM48JxNz","user":{"login":"gus-asf","id":46900717,"node_id":"MDQ6VXNlcjQ2OTAwNzE3","avatar_url":"https://avatars.githubusercontent.com/u/46900717?v=4","gravatar_id":"","url":"https://api.github.com/users/gus-asf","html_url":"https://github.com/gus-asf","followers_url":"https://api.github.com/users/gus-asf/followers","following_url":"https://api.github.com/users/gus-asf/following{/other_user}","gists_url":"https://api.github.com/users/gus-asf/gists{/gist_id}","starred_url":"https://api.github.com/users/gus-asf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gus-asf/subscriptions","organizations_url":"https://api.github.com/users/gus-asf/orgs","repos_url":"https://api.github.com/users/gus-asf/repos","events_url":"https://api.github.com/users/gus-asf/events{/privacy}","received_events_url":"https://api.github.com/users/gus-asf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-10T18:11:34Z","updated_at":"2022-01-10T18:11:34Z","author_association":"CONTRIBUTOR","body":"Ishan is looking into this ticket, but this is by far our most failing test so I'm going to push awaits fix for now.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009193843/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009236291","html_url":"https://github.com/apache/solr/pull/428#issuecomment-1009236291","issue_url":"https://api.github.com/repos/apache/solr/issues/428","id":1009236291,"node_id":"IC_kwDOFFj3yM48J7lD","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-10T18:44:17Z","updated_at":"2022-01-10T18:44:17Z","author_association":"CONTRIBUTOR","body":"I see that I won't have bandwidth to test the service on multiple OSes now that I'm managing the 9.0 release. I thought of doing it with docker (hackish but I've done it before), but it could also be done with Vagrant or similar. Will you manage to execute tests, including an upgrade from 8.11 test (ideally it should uninstall the init.d service or exit with a message to remove it manually)? If so, we can perhaps have this committed for 9.0 at the end of the month.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009236291/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009250478","html_url":"https://github.com/apache/solr/pull/476#issuecomment-1009250478","issue_url":"https://api.github.com/repos/apache/solr/issues/476","id":1009250478,"node_id":"IC_kwDOFFj3yM48J_Cu","user":{"login":"alessandrobenedetti","id":513195,"node_id":"MDQ6VXNlcjUxMzE5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/513195?v=4","gravatar_id":"","url":"https://api.github.com/users/alessandrobenedetti","html_url":"https://github.com/alessandrobenedetti","followers_url":"https://api.github.com/users/alessandrobenedetti/followers","following_url":"https://api.github.com/users/alessandrobenedetti/following{/other_user}","gists_url":"https://api.github.com/users/alessandrobenedetti/gists{/gist_id}","starred_url":"https://api.github.com/users/alessandrobenedetti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alessandrobenedetti/subscriptions","organizations_url":"https://api.github.com/users/alessandrobenedetti/orgs","repos_url":"https://api.github.com/users/alessandrobenedetti/repos","events_url":"https://api.github.com/users/alessandrobenedetti/events{/privacy}","received_events_url":"https://api.github.com/users/alessandrobenedetti/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-10T19:03:03Z","updated_at":"2022-01-10T19:03:03Z","author_association":"CONTRIBUTOR","body":"hi @msokolov ,\r\nI just updated the Pull Request with the support for maxConn and beamWidth customization.\r\nAccording to what Lucene currently exposes I believe it's the cleanest way to support it in Solr, but I am open to suggestions!\r\nDocumentation has been updated accordingly.\r\n\r\nIn general I'll wait for a couple of weeks to collect additional suggestions and then I'll proceed with the merge and next steps in improving Neural Search support in Apache Solr :)","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009250478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009277401","html_url":"https://github.com/apache/solr/pull/509#issuecomment-1009277401","issue_url":"https://api.github.com/repos/apache/solr/issues/509","id":1009277401,"node_id":"IC_kwDOFFj3yM48KFnZ","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-10T19:38:13Z","updated_at":"2022-01-10T19:38:13Z","author_association":"CONTRIBUTOR","body":"Ok, I added back in the jar removal, but now the prometheus exporter loads in all jars in `solr-webapp/webapp/WEB-INF/lib/`, so more than it likely needs?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009277401/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009302162","html_url":"https://github.com/apache/solr/pull/503#issuecomment-1009302162","issue_url":"https://api.github.com/repos/apache/solr/issues/503","id":1009302162,"node_id":"IC_kwDOFFj3yM48KLqS","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-10T20:10:46Z","updated_at":"2022-01-10T20:10:46Z","author_association":"CONTRIBUTOR","body":"@cpoerschke can you review now?  Did I get the CHANGES.txt right?  I want this to not go in Solr 9.0.0.  I would like it to eventually go in Solr 9.1.0 however.   ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009302162/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009317061","html_url":"https://github.com/apache/solr/pull/503#issuecomment-1009317061","issue_url":"https://api.github.com/repos/apache/solr/issues/503","id":1009317061,"node_id":"IC_kwDOFFj3yM48KPTF","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-10T20:31:25Z","updated_at":"2022-01-10T20:31:25Z","author_association":"CONTRIBUTOR","body":"Test-only cleanups can be considered for 9.0.0 too.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009317061/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009334364","html_url":"https://github.com/apache/solr/pull/508#issuecomment-1009334364","issue_url":"https://api.github.com/repos/apache/solr/issues/508","id":1009334364,"node_id":"IC_kwDOFFj3yM48KThc","user":{"login":"TomMD","id":137806,"node_id":"MDQ6VXNlcjEzNzgwNg==","avatar_url":"https://avatars.githubusercontent.com/u/137806?v=4","gravatar_id":"","url":"https://api.github.com/users/TomMD","html_url":"https://github.com/TomMD","followers_url":"https://api.github.com/users/TomMD/followers","following_url":"https://api.github.com/users/TomMD/following{/other_user}","gists_url":"https://api.github.com/users/TomMD/gists{/gist_id}","starred_url":"https://api.github.com/users/TomMD/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TomMD/subscriptions","organizations_url":"https://api.github.com/users/TomMD/orgs","repos_url":"https://api.github.com/users/TomMD/repos","events_url":"https://api.github.com/users/TomMD/events{/privacy}","received_events_url":"https://api.github.com/users/TomMD/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-10T20:55:49Z","updated_at":"2022-01-10T20:56:03Z","author_association":"CONTRIBUTOR","body":"These changes should suffice.\r\n\r\nFYI, we are tracking a massive slowdown in Lift operation on Solr. I don't have an timeframe for you but we'll be working to get operation on Solr in particular into a better state with some backend changes.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009334364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009625781","html_url":"https://github.com/apache/solr/pull/479#issuecomment-1009625781","issue_url":"https://api.github.com/repos/apache/solr/issues/479","id":1009625781,"node_id":"IC_kwDOFFj3yM48Laq1","user":{"login":"ijioio","id":62468619,"node_id":"MDQ6VXNlcjYyNDY4NjE5","avatar_url":"https://avatars.githubusercontent.com/u/62468619?v=4","gravatar_id":"","url":"https://api.github.com/users/ijioio","html_url":"https://github.com/ijioio","followers_url":"https://api.github.com/users/ijioio/followers","following_url":"https://api.github.com/users/ijioio/following{/other_user}","gists_url":"https://api.github.com/users/ijioio/gists{/gist_id}","starred_url":"https://api.github.com/users/ijioio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijioio/subscriptions","organizations_url":"https://api.github.com/users/ijioio/orgs","repos_url":"https://api.github.com/users/ijioio/repos","events_url":"https://api.github.com/users/ijioio/events{/privacy}","received_events_url":"https://api.github.com/users/ijioio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-11T06:03:29Z","updated_at":"2022-01-11T06:03:29Z","author_association":"CONTRIBUTOR","body":"Hi, @HoustonPutman Thanks for the message!\r\n\r\n> @ijioio I think this would be great to get into 9.0, because of the backwards incompatibility.\r\n\r\nJust to clarify, you're talking about backup format (`Response` update to use `NamedList` instead of `String`) or about aggregated part of the response (switching from `array` to `dictionary`)? Or both?. Sorry if I don't understand you correctly. \r\n\r\nI think I can switch `Response` of type `String` to `response` with `NamedList` of the actual response and investigate more deeply. But as @cpoerschke mentioned above it should be first decided is it OK to make those kinds of general changes. \r\n\r\nAll the async managing for the collections are handled by `org.apache.solr.cloud.api.collections.CollectionHandlingUtils.ShardRequestTracker`. First the `sendShardRequest(String, ModifiableSolrParams, ShardHandler, String, ZkStateReader)` is called which will place `asyncId` (if provided) to tracking map `shardAsyncIdByNode`. Then, method `processResponses(NamedList<Object>, ShardHandler, boolean, String, Set<String>)` is executed. In case the initial request was in async mode it will additionaly call `waitForAsyncCallsToComplete` method at the end to gather all the results from all the shards. I suppose originally an idea was to implement the universal async system. So in theory, it is possible to call any distributed operation in async mode. That makes me think that no internal parsing of the shards results is applied except some special cases (like aggregation for backup). Checking of all the possible operations that call `processResponses` to understand how they handle results will take time (it doesn't mean it is impossible though :)","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009625781/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009682740","html_url":"https://github.com/apache/solr/pull/501#issuecomment-1009682740","issue_url":"https://api.github.com/repos/apache/solr/issues/501","id":1009682740,"node_id":"IC_kwDOFFj3yM48Lok0","user":{"login":"dweiss","id":199470,"node_id":"MDQ6VXNlcjE5OTQ3MA==","avatar_url":"https://avatars.githubusercontent.com/u/199470?v=4","gravatar_id":"","url":"https://api.github.com/users/dweiss","html_url":"https://github.com/dweiss","followers_url":"https://api.github.com/users/dweiss/followers","following_url":"https://api.github.com/users/dweiss/following{/other_user}","gists_url":"https://api.github.com/users/dweiss/gists{/gist_id}","starred_url":"https://api.github.com/users/dweiss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dweiss/subscriptions","organizations_url":"https://api.github.com/users/dweiss/orgs","repos_url":"https://api.github.com/users/dweiss/repos","events_url":"https://api.github.com/users/dweiss/events{/privacy}","received_events_url":"https://api.github.com/users/dweiss/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-11T07:54:23Z","updated_at":"2022-01-11T07:54:23Z","author_association":"CONTRIBUTOR","body":"Right - that's why I said:\r\n\r\n> Note: It will get a bit more complicated if you need this property at evaluation time.\r\n\r\nThe problem here is that in general you won't know the version of a dependency until the configuration is \"resolved\" and gradle folks try hard to defer this resolution until execution time so that only those configurations that are really needed/ used are resolved. Palantir's version consistency plugin also comes into play. It is complicated.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009682740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009692490","html_url":"https://github.com/apache/solr/pull/501#issuecomment-1009692490","issue_url":"https://api.github.com/repos/apache/solr/issues/501","id":1009692490,"node_id":"IC_kwDOFFj3yM48Lq9K","user":{"login":"dweiss","id":199470,"node_id":"MDQ6VXNlcjE5OTQ3MA==","avatar_url":"https://avatars.githubusercontent.com/u/199470?v=4","gravatar_id":"","url":"https://api.github.com/users/dweiss","html_url":"https://github.com/dweiss","followers_url":"https://api.github.com/users/dweiss/followers","following_url":"https://api.github.com/users/dweiss/following{/other_user}","gists_url":"https://api.github.com/users/dweiss/gists{/gist_id}","starred_url":"https://api.github.com/users/dweiss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dweiss/subscriptions","organizations_url":"https://api.github.com/users/dweiss/orgs","repos_url":"https://api.github.com/users/dweiss/repos","events_url":"https://api.github.com/users/dweiss/events{/privacy}","received_events_url":"https://api.github.com/users/dweiss/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-11T08:08:30Z","updated_at":"2022-01-11T08:08:30Z","author_association":"CONTRIBUTOR","body":"Looking at the code I think the top-level property from build.gradle should be removed and its initialization moved entirely to lucene-dev-repo-composite.gradle - then you'd know which version is actually in use (there are hacks that read versions.props there); the only place that uses this top-level property is in randomization.gradle; this should follow lucene-dev-repo-composite.gradle in the build file inclusion order and then it'd have access to a properly evaluated Lucene version (as would solr.config-file-sanity.gradle).","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009692490/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009716765","html_url":"https://github.com/apache/solr/pull/479#issuecomment-1009716765","issue_url":"https://api.github.com/repos/apache/solr/issues/479","id":1009716765,"node_id":"IC_kwDOFFj3yM48Lw4d","user":{"login":"ijioio","id":62468619,"node_id":"MDQ6VXNlcjYyNDY4NjE5","avatar_url":"https://avatars.githubusercontent.com/u/62468619?v=4","gravatar_id":"","url":"https://api.github.com/users/ijioio","html_url":"https://github.com/ijioio","followers_url":"https://api.github.com/users/ijioio/followers","following_url":"https://api.github.com/users/ijioio/following{/other_user}","gists_url":"https://api.github.com/users/ijioio/gists{/gist_id}","starred_url":"https://api.github.com/users/ijioio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijioio/subscriptions","organizations_url":"https://api.github.com/users/ijioio/orgs","repos_url":"https://api.github.com/users/ijioio/repos","events_url":"https://api.github.com/users/ijioio/events{/privacy}","received_events_url":"https://api.github.com/users/ijioio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-11T08:41:08Z","updated_at":"2022-01-11T08:41:08Z","author_association":"CONTRIBUTOR","body":"@cpoerschke @HoustonPutman I've checked all the sources searching `\"Response\"` entry and haven't found any pieces of evidence that value under this key is extracted or parsed somewhere. This means that from the perspective of view of Solr itself it seems that it is safe to replace original `Response` entry with `response` entry. ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009716765/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009730295","html_url":"https://github.com/apache/solr/pull/501#issuecomment-1009730295","issue_url":"https://api.github.com/repos/apache/solr/issues/501","id":1009730295,"node_id":"IC_kwDOFFj3yM48L0L3","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-11T08:59:01Z","updated_at":"2022-01-11T08:59:01Z","author_association":"CONTRIBUTOR","body":"Another option would be to resolve the property when the test starts (e.g., using a \"before\" closure) and it is then added to the command line?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009730295/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009779154","html_url":"https://github.com/apache/solr/pull/501#issuecomment-1009779154","issue_url":"https://api.github.com/repos/apache/solr/issues/501","id":1009779154,"node_id":"IC_kwDOFFj3yM48MAHS","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-11T09:56:44Z","updated_at":"2022-01-11T09:58:26Z","author_association":"CONTRIBUTOR","body":"Maybe add an JVMArgumentProvider to the test task. I can check if this works. @dweiss did this for the module system testing, too. because we had to add module paths only available at runtime, too.\r\n\r\nThe special system property does not need to be passed through the \"normal\" way using that configuration map. We can simply do this separately.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009779154/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009824811","html_url":"https://github.com/apache/solr/pull/501#issuecomment-1009824811","issue_url":"https://api.github.com/repos/apache/solr/issues/501","id":1009824811,"node_id":"IC_kwDOFFj3yM48MLQr","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-11T10:29:59Z","updated_at":"2022-01-11T10:29:59Z","author_association":"CONTRIBUTOR","body":"Hi, I got it running. Will push a commit. You still may need to adopt it with the local Lucene checkout and the version number. Also the verison number may need to be made compatible to Lucene Match Version, so parsing won't fail. Maybe use a regex to extract correct parts (so it only returns \"9.0\").","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009824811/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009840332","html_url":"https://github.com/apache/solr/pull/501#issuecomment-1009840332","issue_url":"https://api.github.com/repos/apache/solr/issues/501","id":1009840332,"node_id":"IC_kwDOFFj3yM48MPDM","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-11T10:49:16Z","updated_at":"2022-01-11T10:49:16Z","author_association":"CONTRIBUTOR","body":"OK, see my changes. Tests are starting up correctly and it prints the lifecycle message (we should remove it). Also i checked the local \"ps -ef\" and have seen the command line args passed correctly.\r\n\r\nI \"normalized\" the LuceneMatchVersion to be only formatted \"x.y\", as this is what Version class expects. Or am I wrong?\r\n\r\nAlso there are some properties passed to tests which are no longer needed. I think the `tests.LUCENE_VERSION` one is only used by a single Lucene Core test and may be obsolete. And I am not sure about `tests.bwcdir`!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009840332/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009842199","html_url":"https://github.com/apache/solr/pull/501#issuecomment-1009842199","issue_url":"https://api.github.com/repos/apache/solr/issues/501","id":1009842199,"node_id":"IC_kwDOFFj3yM48MPgX","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-11T10:51:44Z","updated_at":"2022-01-11T10:51:44Z","author_association":"CONTRIBUTOR","body":"For some reason \"solr:validateConfigFileSanity\" fails on the PR. Thats unrelated I think.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009842199/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009849683","html_url":"https://github.com/apache/solr/pull/501#issuecomment-1009849683","issue_url":"https://api.github.com/repos/apache/solr/issues/501","id":1009849683,"node_id":"IC_kwDOFFj3yM48MRVT","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-11T11:01:18Z","updated_at":"2022-01-11T11:01:18Z","author_association":"CONTRIBUTOR","body":"I think for the solr:validateConfigFileSanity test you can do the same: Just resolve the version at runtime of task. As this is a handwritten task we can easily use a provider.\r\n\r\nMaybe make a more generic provider available in the same way like you did before and let the JVMAgrumentProvider just call it.\r\n\r\nSo solr:validateConfigFileSanity may be fixed by that. SHould I look into that or do you want to check this?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009849683/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009850463","html_url":"https://github.com/apache/solr/pull/501#issuecomment-1009850463","issue_url":"https://api.github.com/repos/apache/solr/issues/501","id":1009850463,"node_id":"IC_kwDOFFj3yM48MRhf","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-11T11:02:17Z","updated_at":"2022-01-11T11:02:17Z","author_association":"CONTRIBUTOR","body":"Ah I see, solr:validateConfigFileSanity uses the test option. I'll fix.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009850463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009862011","html_url":"https://github.com/apache/solr/pull/501#issuecomment-1009862011","issue_url":"https://api.github.com/repos/apache/solr/issues/501","id":1009862011,"node_id":"IC_kwDOFFj3yM48MUV7","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-11T11:16:45Z","updated_at":"2022-01-11T11:21:52Z","author_association":"CONTRIBUTOR","body":"OK, I fixed both.\r\n\r\nThere is still one open question: Normally Lucene Version should only be provided in config files as \"x.y\", not \"x.y.z\". So I'd better go and use LuceneMatchVersion as \"9.0\" (so strip last part in the regex) and fix all config files.\r\n\r\nOtherwise it will get a desaster on updates. You would need to touch config files on every bugfix release.\r\n\r\nLucene will ignore the last part of version anyways for those checks (we only compare against `LUCENE_X_Y` constants).","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009862011/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009925156","html_url":"https://github.com/apache/solr/pull/501#issuecomment-1009925156","issue_url":"https://api.github.com/repos/apache/solr/issues/501","id":1009925156,"node_id":"IC_kwDOFFj3yM48Mjwk","user":{"login":"dweiss","id":199470,"node_id":"MDQ6VXNlcjE5OTQ3MA==","avatar_url":"https://avatars.githubusercontent.com/u/199470?v=4","gravatar_id":"","url":"https://api.github.com/users/dweiss","html_url":"https://github.com/dweiss","followers_url":"https://api.github.com/users/dweiss/followers","following_url":"https://api.github.com/users/dweiss/following{/other_user}","gists_url":"https://api.github.com/users/dweiss/gists{/gist_id}","starred_url":"https://api.github.com/users/dweiss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dweiss/subscriptions","organizations_url":"https://api.github.com/users/dweiss/orgs","repos_url":"https://api.github.com/users/dweiss/repos","events_url":"https://api.github.com/users/dweiss/events{/privacy}","received_events_url":"https://api.github.com/users/dweiss/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-11T12:38:28Z","updated_at":"2022-01-11T12:38:28Z","author_association":"CONTRIBUTOR","body":"What you wrote is fine, Uwe, but it won't work with a custom Lucene location - that's why I suggested moving the entire logic you currently have in that provider to lucene-dev-repo-composite.gradle which does this (and more) to extract the locally-overridden lucene version number. I'm sorry but I can't help with this now.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009925156/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009927818","html_url":"https://github.com/apache/solr/pull/501#issuecomment-1009927818","issue_url":"https://api.github.com/repos/apache/solr/issues/501","id":1009927818,"node_id":"IC_kwDOFFj3yM48MkaK","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-11T12:42:09Z","updated_at":"2022-01-11T12:42:09Z","author_association":"CONTRIBUTOR","body":"OK, I expected something like this. I thought that the versions are patched by the repo-composite, so it just \"replaces\" the dependency. But when replacing it changes its name.\r\n\r\nI will first to setup something like this side-by-side repos in my local computer with env args (I did this a few weeks ago) to do testing and make it work with a relationship to lucene 9.x branch..","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009927818/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009934200","html_url":"https://github.com/apache/solr/pull/501#issuecomment-1009934200","issue_url":"https://api.github.com/repos/apache/solr/issues/501","id":1009934200,"node_id":"IC_kwDOFFj3yM48Ml94","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-11T12:51:03Z","updated_at":"2022-01-11T12:51:03Z","author_association":"CONTRIBUTOR","body":"> this should follow lucene-dev-repo-composite.gradle in the build file inclusion order and then it'd have access to a properly evaluated Lucene version (as would solr.config-file-sanity.gradle).\r\n\r\nThis move in order should not be needed, as the provider is only used in another provider, so the evaluation is lazy-lazy :-)","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009934200/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009943750","html_url":"https://github.com/apache/solr/pull/501#issuecomment-1009943750","issue_url":"https://api.github.com/repos/apache/solr/issues/501","id":1009943750,"node_id":"IC_kwDOFFj3yM48MoTG","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-11T13:03:19Z","updated_at":"2022-01-11T13:03:19Z","author_association":"CONTRIBUTOR","body":"This looks really good. I'm not going to test this locally myself, but I can change the luceneMatchVersion inserted into solrconfig.xml to Major.Minor. Wehenver you guys says it's ready I can then merge and backport. \r\n\r\n(I have hacked a cherrypick.sh script that I want to test out, streamlining backporting of trivial, non-conflicting changes) 😁","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009943750/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009954187","html_url":"https://github.com/apache/solr/pull/501#issuecomment-1009954187","issue_url":"https://api.github.com/repos/apache/solr/issues/501","id":1009954187,"node_id":"IC_kwDOFFj3yM48Mq2L","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-11T13:15:42Z","updated_at":"2022-01-11T13:15:42Z","author_association":"CONTRIBUTOR","body":"> This looks really good. I'm not going to test this locally myself, but I can change the luceneMatchVersion inserted into solrconfig.xml to Major.Minor. Wehenver you guys says it's ready I can then merge and backport.\r\n\r\nAll fine. About the 9.0.0 vs. 9.0 I am not fully sure. In the past we changed this on every version, so the current state with full version is fine, although it is not needed for config file sanity (IMHO there we should only use x.y versions). When executing tests it does not matter which version we pass, we can use full version, too. It obly must be in the digit-only format, so we have to remove any appendixes.\r\n\r\nMy proposal would be: read the version as done currently and sanitize to x.y.z. Pass this to tests, but the config files shipped with release should use the x.y version to make it easier for users to understand that only this is needed for \"correct config files\". This check should be adapted in the config file checker. But maybe that's a separate issue, isn't it?\r\n\r\n> (I have hacked a cherrypick.sh script that I want to test out, streamlining backporting of trivial, non-conflicting changes) 😁\r\n\r\nI use TortoiseGit for cherrypicking. Thats grandious: Open the log window on 9.x/9.0 checkout, switch branch in log window to show main, select commit, right click, cherry-pick (also works with multiple).","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009954187/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009965076","html_url":"https://github.com/apache/solr/pull/501#issuecomment-1009965076","issue_url":"https://api.github.com/repos/apache/solr/issues/501","id":1009965076,"node_id":"IC_kwDOFFj3yM48MtgU","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-11T13:28:47Z","updated_at":"2022-01-11T13:28:47Z","author_association":"CONTRIBUTOR","body":"> I use TortoiseGit for cherrypicking. Thats grandious: Open the log window on 9.x/9.0 checkout, switch branch in log window to show main, select commit, right click, cherry-pick (also works with multiple).\r\n\r\nI use IntelliJ and it is also very simple - git -> log -> find commit -> right-click -> cherry-pick.\r\n\r\nBut my script does a bit more, it takes branch and one or more hashes, does the cherry-picking, if not clean, open mergetool, else runs `gradlew check -x` test. So you could run one command to backport 2-3 commits to branch_9x and branch_9_0 in one go. Intended for the more trivial cases only of course...","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009965076/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009970773","html_url":"https://github.com/apache/solr/pull/501#issuecomment-1009970773","issue_url":"https://api.github.com/repos/apache/solr/issues/501","id":1009970773,"node_id":"IC_kwDOFFj3yM48Mu5V","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-11T13:35:53Z","updated_at":"2022-01-11T13:35:53Z","author_association":"CONTRIBUTOR","body":"I committed the X.Y version change, and an update to `addVersion.py` tool a bit, so it does the same. Now need to fix the configfile-sanity to expect X.Y too","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009970773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009982494","html_url":"https://github.com/apache/solr/pull/501#issuecomment-1009982494","issue_url":"https://api.github.com/repos/apache/solr/issues/501","id":1009982494,"node_id":"IC_kwDOFFj3yM48Mxwe","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-11T13:49:51Z","updated_at":"2022-01-11T13:49:51Z","author_association":"CONTRIBUTOR","body":"Thanks, I can do the rest including the check script. I think I will rename the provider to luceneBaseVersionProvider.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1009982494/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1010006435","html_url":"https://github.com/apache/solr/pull/501#issuecomment-1010006435","issue_url":"https://api.github.com/repos/apache/solr/issues/501","id":1010006435,"node_id":"IC_kwDOFFj3yM48M3mj","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-11T14:16:55Z","updated_at":"2022-01-11T14:16:55Z","author_association":"CONTRIBUTOR","body":"Here is what I got, which works\r\n```patch\r\nIndex: gradle/validation/solr.config-file-sanity.gradle\r\nIDEA additional info:\r\nSubsystem: com.intellij.openapi.diff.impl.patch.CharsetEP\r\n<+>UTF-8\r\n===================================================================\r\ndiff --git a/gradle/validation/solr.config-file-sanity.gradle b/gradle/validation/solr.config-file-sanity.gradle\r\n--- a/gradle/validation/solr.config-file-sanity.gradle\t(revision 636ffd7daea7245d1b31932d549372f31b52cca5)\r\n+++ b/gradle/validation/solr.config-file-sanity.gradle\t(revision be6503578dbd8e49ac658464c3add8e28ec944c0)\r\n@@ -21,6 +21,8 @@\r\n   task validateConfigFileSanity() {\r\n     doFirst {\r\n       def matchVersion = rootProject.luceneMatchVersionProvider.get()\r\n+      def (major, minor) = matchVersion.tokenize('.')\r\n+      def matchVersionMajorMinor = \"${major}.${minor}\"\r\n \r\n       // Verify solrconfig.xml files declare proper luceneMatchVersion.\r\n       [\r\n@@ -33,8 +35,8 @@\r\n \r\n         configFiles.each { file ->\r\n           def content = file.getText(\"UTF-8\")\r\n-          if (!content.contains(\"<luceneMatchVersion>${matchVersion}<\")) {\r\n-            throw new GradleException(\"Configset does not refer to the correct luceneMatchVersion (${matchVersion}): ${file.absolutePath}\")\r\n+          if (!content.contains(\"<luceneMatchVersion>${matchVersionMajorMinor}<\")) {\r\n+            throw new GradleException(\"Configset does not refer to the correct luceneMatchVersion (${matchVersionMajorMinor}): ${file.absolutePath}\")\r\n           }\r\n         }\r\n       }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1010006435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]