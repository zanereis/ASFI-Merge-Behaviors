[{"url":"https://api.github.com/repos/apache/metron/issues/comments/273248285","html_url":"https://github.com/apache/metron/pull/397#issuecomment-273248285","issue_url":"https://api.github.com/repos/apache/metron/issues/397","id":273248285,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MzI0ODI4NQ==","user":{"login":"jjmeyer0","id":721593,"node_id":"MDQ6VXNlcjcyMTU5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/721593?v=4","gravatar_id":"","url":"https://api.github.com/users/jjmeyer0","html_url":"https://github.com/jjmeyer0","followers_url":"https://api.github.com/users/jjmeyer0/followers","following_url":"https://api.github.com/users/jjmeyer0/following{/other_user}","gists_url":"https://api.github.com/users/jjmeyer0/gists{/gist_id}","starred_url":"https://api.github.com/users/jjmeyer0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jjmeyer0/subscriptions","organizations_url":"https://api.github.com/users/jjmeyer0/orgs","repos_url":"https://api.github.com/users/jjmeyer0/repos","events_url":"https://api.github.com/users/jjmeyer0/events{/privacy}","received_events_url":"https://api.github.com/users/jjmeyer0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-17T18:02:42Z","updated_at":"2017-01-17T18:02:42Z","author_association":"CONTRIBUTOR","body":"This looks like an issue with the grammar. My guess is it isn't properly handling white space at the end. If you change the variable `hllpDefaultConstructorRule` to the below, it should work. I know this isn't a permanent solution, but it narrows the problem down.\r\n```\r\n  /**\r\n   *HLLP_CARDINALITY(\r\n   *  HLLP_ADD(\r\n   *    HLLP_ADD(\r\n   *      HLLP_INIT(),\r\n   *      val1\r\n   *    ),\r\n   *    val2\r\n   *  )\r\n   *  )*/\r\n  @Multiline\r\n  private static String hllpDefaultConstructorRule;\r\n```","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/273248285/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/273250978","html_url":"https://github.com/apache/metron/pull/418#issuecomment-273250978","issue_url":"https://api.github.com/repos/apache/metron/issues/418","id":273250978,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MzI1MDk3OA==","user":{"login":"mattf-apache","id":908957,"node_id":"MDQ6VXNlcjkwODk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/908957?v=4","gravatar_id":"","url":"https://api.github.com/users/mattf-apache","html_url":"https://github.com/mattf-apache","followers_url":"https://api.github.com/users/mattf-apache/followers","following_url":"https://api.github.com/users/mattf-apache/following{/other_user}","gists_url":"https://api.github.com/users/mattf-apache/gists{/gist_id}","starred_url":"https://api.github.com/users/mattf-apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattf-apache/subscriptions","organizations_url":"https://api.github.com/users/mattf-apache/orgs","repos_url":"https://api.github.com/users/mattf-apache/repos","events_url":"https://api.github.com/users/mattf-apache/events{/privacy}","received_events_url":"https://api.github.com/users/mattf-apache/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-17T18:12:24Z","updated_at":"2017-01-17T18:12:24Z","author_association":"MEMBER","body":"Kicking Travis. Bad Travis!","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/273250978/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/273252108","html_url":"https://github.com/apache/metron/pull/397#issuecomment-273252108","issue_url":"https://api.github.com/repos/apache/metron/issues/397","id":273252108,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MzI1MjEwOA==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-17T18:16:35Z","updated_at":"2017-01-17T18:16:35Z","author_association":"CONTRIBUTOR","body":"@dlyle65535 the thing I'm not fully understanding is how this is working in my local branch. Doing a git fetch and checkout shouldn't merge anything from master, so the most recent master shouldn't be in this test run. Doing a git pull does a fetch and merge, which I would anticipate causing problems.\r\n\r\n@jjmeyer0 Yeah, that's what I thought as well. Again, unclear yet why this is not a problem locally. Furthermore, it wasn't a problem in the last commit I had that I believe had the newline. I'll give it a shot anyhow.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/273252108/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/273253446","html_url":"https://github.com/apache/metron/pull/397#issuecomment-273253446","issue_url":"https://api.github.com/repos/apache/metron/issues/397","id":273253446,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MzI1MzQ0Ng==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-17T18:21:27Z","updated_at":"2017-01-17T18:21:27Z","author_association":"MEMBER","body":"@jjmeyer0 @mmiklavc It appears that a regression was added relatively recently that affects whitespace at the end of stellar rules (the whitespace isn't sent to the skip channel in the lexer in that situation, for some reason..not sure why).  A stopgap is what JJ said, a slightly more permanant fix considering whitespace has no meaning in Stellar is to trim the rule in BaseStellarProcessor (line 111).  I'd still consider it important to investigate what is confusing the grammar suddenly, mind you.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/273253446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/273254001","html_url":"https://github.com/apache/metron/pull/397#issuecomment-273254001","issue_url":"https://api.github.com/repos/apache/metron/issues/397","id":273254001,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MzI1NDAwMQ==","user":{"login":"jjmeyer0","id":721593,"node_id":"MDQ6VXNlcjcyMTU5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/721593?v=4","gravatar_id":"","url":"https://api.github.com/users/jjmeyer0","html_url":"https://github.com/jjmeyer0","followers_url":"https://api.github.com/users/jjmeyer0/followers","following_url":"https://api.github.com/users/jjmeyer0/following{/other_user}","gists_url":"https://api.github.com/users/jjmeyer0/gists{/gist_id}","starred_url":"https://api.github.com/users/jjmeyer0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jjmeyer0/subscriptions","organizations_url":"https://api.github.com/users/jjmeyer0/orgs","repos_url":"https://api.github.com/users/jjmeyer0/repos","events_url":"https://api.github.com/users/jjmeyer0/events{/privacy}","received_events_url":"https://api.github.com/users/jjmeyer0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-17T18:23:32Z","updated_at":"2017-01-17T18:23:32Z","author_association":"CONTRIBUTOR","body":"Okay, I took a look. It's because EOL isn't defined as a fragment.\r\n\r\nIf `EOL : '\\n';` is changed to `fragment EOL : '\\n';` it should work. Without the `fragment` keyword antlr4 makes a token for `EOL` and it gets confused on how to parse it.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/273254001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/273254862","html_url":"https://github.com/apache/metron/pull/397#issuecomment-273254862","issue_url":"https://api.github.com/repos/apache/metron/issues/397","id":273254862,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MzI1NDg2Mg==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-17T18:26:18Z","updated_at":"2017-01-17T18:26:18Z","author_association":"MEMBER","body":"@jjmeyer0 Makes sense and that explains things.  @mmiklavc despite it being out of the scope of this ticket, it should just be a 1-liner and we should probably correct it as part of this IMO.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/273254862/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/273255296","html_url":"https://github.com/apache/metron/pull/397#issuecomment-273255296","issue_url":"https://api.github.com/repos/apache/metron/issues/397","id":273255296,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MzI1NTI5Ng==","user":{"login":"jjmeyer0","id":721593,"node_id":"MDQ6VXNlcjcyMTU5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/721593?v=4","gravatar_id":"","url":"https://api.github.com/users/jjmeyer0","html_url":"https://github.com/jjmeyer0","followers_url":"https://api.github.com/users/jjmeyer0/followers","following_url":"https://api.github.com/users/jjmeyer0/following{/other_user}","gists_url":"https://api.github.com/users/jjmeyer0/gists{/gist_id}","starred_url":"https://api.github.com/users/jjmeyer0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jjmeyer0/subscriptions","organizations_url":"https://api.github.com/users/jjmeyer0/orgs","repos_url":"https://api.github.com/users/jjmeyer0/repos","events_url":"https://api.github.com/users/jjmeyer0/events{/privacy}","received_events_url":"https://api.github.com/users/jjmeyer0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-17T18:27:42Z","updated_at":"2017-01-17T18:27:42Z","author_association":"CONTRIBUTOR","body":"@mmiklavc have you rebased lately? If not, I'm sure the PR I submitted for Stellar comparisons is the culprit.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/273255296/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/273258416","html_url":"https://github.com/apache/metron/pull/397#issuecomment-273258416","issue_url":"https://api.github.com/repos/apache/metron/issues/397","id":273258416,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MzI1ODQxNg==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-17T18:38:42Z","updated_at":"2017-01-17T18:38:42Z","author_association":"CONTRIBUTOR","body":"Ok, this is making more sense now. GitHub has merged this PR out of band of the build. That fetch is not doing a merge. It's fetching what has already been merged out of band from the build - `git fetch origin +refs/pull/397/merge`. This also explains how GitHub is able to tell us if a PR has merge conflicts long before Travis runs its build. So yes, the grammar corrections should work. On it.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/273258416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/273291380","html_url":"https://github.com/apache/metron/pull/397#issuecomment-273291380","issue_url":"https://api.github.com/repos/apache/metron/issues/397","id":273291380,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MzI5MTM4MA==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-17T20:34:38Z","updated_at":"2017-01-17T20:34:38Z","author_association":"CONTRIBUTOR","body":"Merged with latest master and modified Stellar.g4 to handle EOL fragments. Test went from failing to passing locally.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/273291380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/273384068","html_url":"https://github.com/apache/metron/pull/399#issuecomment-273384068","issue_url":"https://api.github.com/repos/apache/metron/issues/399","id":273384068,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MzM4NDA2OA==","user":{"login":"james-sirota","id":4854764,"node_id":"MDQ6VXNlcjQ4NTQ3NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/4854764?v=4","gravatar_id":"","url":"https://api.github.com/users/james-sirota","html_url":"https://github.com/james-sirota","followers_url":"https://api.github.com/users/james-sirota/followers","following_url":"https://api.github.com/users/james-sirota/following{/other_user}","gists_url":"https://api.github.com/users/james-sirota/gists{/gist_id}","starred_url":"https://api.github.com/users/james-sirota/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/james-sirota/subscriptions","organizations_url":"https://api.github.com/users/james-sirota/orgs","repos_url":"https://api.github.com/users/james-sirota/repos","events_url":"https://api.github.com/users/james-sirota/events{/privacy}","received_events_url":"https://api.github.com/users/james-sirota/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-18T05:06:26Z","updated_at":"2017-01-18T05:06:26Z","author_association":"NONE","body":"@mattf-horton does this adequately meet your concerns? ","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/273384068/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/273394430","html_url":"https://github.com/apache/metron/pull/400#issuecomment-273394430","issue_url":"https://api.github.com/repos/apache/metron/issues/400","id":273394430,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MzM5NDQzMA==","user":{"login":"anandsubbu","id":20395490,"node_id":"MDQ6VXNlcjIwMzk1NDkw","avatar_url":"https://avatars.githubusercontent.com/u/20395490?v=4","gravatar_id":"","url":"https://api.github.com/users/anandsubbu","html_url":"https://github.com/anandsubbu","followers_url":"https://api.github.com/users/anandsubbu/followers","following_url":"https://api.github.com/users/anandsubbu/following{/other_user}","gists_url":"https://api.github.com/users/anandsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/anandsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anandsubbu/subscriptions","organizations_url":"https://api.github.com/users/anandsubbu/orgs","repos_url":"https://api.github.com/users/anandsubbu/repos","events_url":"https://api.github.com/users/anandsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/anandsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-18T06:23:15Z","updated_at":"2017-01-18T06:47:59Z","author_association":"CONTRIBUTOR","body":"For all OS types other than `darwin` and` linux`, I have added a generic log message. Please let me know if there is any other change required at this point.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/273394430/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/273518961","html_url":"https://github.com/apache/metron/pull/316#issuecomment-273518961","issue_url":"https://api.github.com/repos/apache/metron/issues/316","id":273518961,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MzUxODk2MQ==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-18T16:09:41Z","updated_at":"2017-01-18T16:09:41Z","author_association":"CONTRIBUTOR","body":"The latest commit resolves conflicts with the recently merged \"METRON-562: Extract indexing config from enrichment config\" by adding a \"/api/v1/sensor/indexing/config\" endpoint that exposes CRUD operations on Index configs.  While working through this I realized the function that returns all configs is returning a list of configs while it should instead return a map with the sensor name/config entries.  I made this change for enrichment and index config endpoints.  This is not required for parser configs because the name is included in the config.\r\n\r\n@jjmeyer0 and/or @cestella, do you mind reviewing when you have a chance?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/273518961/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/273535887","html_url":"https://github.com/apache/metron/pull/419#issuecomment-273535887","issue_url":"https://api.github.com/repos/apache/metron/issues/419","id":273535887,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MzUzNTg4Nw==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-18T17:05:13Z","updated_at":"2017-01-18T17:05:13Z","author_association":"MEMBER","body":"Testing Instructions beyond the normal smoke test (i.e. letting data\r\nflow through to the indices and checking them).\r\n\r\n## Preliminaries\r\n\r\nSince I will use the squid topology to pass data through in a controlled\r\nway, we must install squid and generate one point of data:\r\n* `yum install -y squid`\r\n* `service squid start`\r\n* `squidclient http://www.yahoo.com`\r\n\r\nAlso, set an environment variable to indicate `METRON_HOME`:\r\n* `export METRON_HOME=/usr/metron/0.3.0` \r\n\r\n## Free Up Space on the virtual machine\r\n\r\nFirst, let's free up some headroom on the virtual machine.  If you are running this on a\r\nmultinode cluster, you would not have to do this.\r\n* Kill monit via `service monit stop`\r\n* Kill tcpreplay via `for i in $(ps -ef | grep tcpreplay | awk '{print $2}');do kill -9 $i;done`\r\n* Kill existing parser topologies via \r\n   * `storm kill snort`\r\n   * `storm kill bro`\r\n* Kill flume via `for i in $(ps -ef | grep flume | awk '{print $2}');do kill -9 $i;done`\r\n* Kill yaf via `for i in $(ps -ef | grep yaf | awk '{print $2}');do kill -9 $i;done`\r\n* Kill bro via `for i in $(ps -ef | grep bro | awk '{print $2}');do kill -9 $i;done`\r\n\r\n## Deploy the squid parser\r\n* Create the squid kafka topic: `/usr/hdp/current/kafka-broker/bin/kafka-topics.sh --zookeeper node1:2181 --create --topic squid --partitions 1 --replication-factor 1`\r\n* Start via `$METRON_HOME/bin/start_parser_topology.sh -k node1:6667 -z node1:2181 -s squid`\r\n\r\n### Test Case 0: Base Case Test\r\n* Delete any squid index that currently exists (if any do) via `curl -XDELETE \"http://localhost:9200/squid*\"`\r\n* Send 1 data points through and ensure that there are no data points in the index:\r\n  * `cat /var/log/squid/access.log | /usr/hdp/current/kafka-broker/bin/kafka-console-producer.sh --broker-list node1:6667 --topic squid`\r\n  * `curl \"http://localhost:9200/squid*/_search?pretty=true&q=*:*\" 2> /dev/null| grep \"full_hostname\" | wc -l` should yield  `1`\r\n* Validate that the Storm UI for the indexing topology indicates a warning in the console for both the \"hdfsIndexingBolt\" and \"indexingBolt\" to the effect of `java.lang.Exception: WARNING: Default and (likely) unoptimized writer config used for hdfs writer and sensor squid` and `java.lang.Exception: WARNING: Default and (likely) unoptimized writer config used for elasticsearch writer and sensor squid` respectively \r\n\r\n### Test Case 1: Adjusting batch sizes independently\r\n* Delete any squid index that currently exists (if any do) via `curl -XDELETE \"http://localhost:9200/squid*\"`\r\n* Create a file at `$METRON_HOME/config/zookeeper/indexing/squid.json` with the following contents:\r\n```\r\n{\r\n  \"hdfs\" : {\r\n    \"index\": \"squid\",\r\n    \"batchSize\": 1,\r\n    \"enabled\" : true\r\n  },\r\n  \"elasticsearch\" : {\r\n    \"index\": \"squid\",\r\n    \"batchSize\": 5,\r\n    \"enabled\" : true\r\n  }\r\n}\r\n```\r\n* Push the configs via `$METRON_HOME/bin/zk_load_configs.sh -m PUSH -i $METRON_HOME/config/zookeeper -z node1:2181`\r\n* Send 4 data points through and ensure:\r\n  * `cat /var/log/squid/access.log /var/log/squid/access.log /var/log/squid/access.log /var/log/squid/access.log | /usr/hdp/current/kafka-broker/bin/kafka-console-producer.sh --broker-list node1:6667 --topic squid`\r\n  * `curl \"http://localhost:9200/squid*/_search?pretty=true&q=*:*\" 2> /dev/null| grep \"full_hostname\" | wc -l` should yield  `0` \r\n  * `hadoop fs -cat /apps/metron/indexing/indexed/squid/enrichment-null* | wc -l` should yield `4`\r\n* Send a final data point through and ensure:\r\n  * `cat /var/log/squid/access.log | /usr/hdp/current/kafka-broker/bin/kafka-console-producer.sh --broker-list node1:6667 --topic squid`\r\n  * `curl \"http://localhost:9200/squid*/_search?pretty=true&q=*:*\" 2> /dev/null| grep \"full_hostname\" | wc -l` should yield  `5` \r\n  * `hadoop fs -cat /apps/metron/indexing/indexed/squid/enrichment-null* | wc -l` should yield `5`\r\n \r\n### Test Case 2: Turn off HDFS writer\r\n* Delete any squid index that currently exists (if any do) via `curl -XDELETE \"http://localhost:9200/squid*\"`\r\n* Edit the file at `$METRON_HOME/config/zookeeper/indexing/squid.json` to the following contents:\r\n```\r\n{\r\n  \"hdfs\" : {\r\n    \"index\": \"squid\",\r\n    \"batchSize\": 1,\r\n    \"enabled\" : false \r\n  },\r\n  \"elasticsearch\" : {\r\n    \"index\": \"squid\",\r\n    \"batchSize\": 1,\r\n    \"enabled\" : true\r\n  }\r\n}\r\n```\r\n* Send 1 data points through and ensure:\r\n  * `cat /var/log/squid/access.log | /usr/hdp/current/kafka-broker/bin/kafka-console-producer.sh --broker-list node1:6667 --topic squid`\r\n  * `curl \"http://localhost:9200/squid*/_search?pretty=true&q=*:*\" 2> /dev/null| grep \"full_hostname\" | wc -l` should yield  `1`\r\n  * `hadoop fs -cat /apps/metron/indexing/indexed/squid/enrichment-null* | wc -l` should yield `0`\r\n\r\n### Test Case 3: Stellar Management Functions\r\n* Execute the following in the stellar shell:\r\n```\r\nStellar, Go!\r\nPlease note that functions are loading lazily in the background and will be unavailable until loaded fully.\r\n{es.clustername=metron, es.ip=node1, es.port=9300, es.date.format=yyyy.MM.dd.HH}\r\n[Stellar]>>> # Grab the indexing config\r\n[Stellar]>>> squid_config := CONFIG_GET('INDEXING', 'squid', true)\r\n[Stellar]>>>\r\n[Stellar]>>> # Update the index and batch size\r\n[Stellar]>>> squid_config := INDEXING_SET_BATCH( INDEXING_SET_INDEX(squid_config, 'hdfs', 'squid'), 'hdfs', 2)\r\n[Stellar]>>> # Push the config to zookeeper\r\n[Stellar]>>> CONFIG_PUT('INDEXING', squid_config, 'squid')\r\n[Stellar]>>> # Grab the updated config from zookeeper\r\n[Stellar]>>> CONFIG_GET('INDEXING', 'squid')\r\n{\r\n  \"hdfs\" : {\r\n    \"index\" : \"squid\",\r\n    \"batchSize\" : 2,\r\n    \"enabled\" : false\r\n  },\r\n  \"elasticsearch\" : {\r\n    \"index\" : \"squid\",\r\n    \"batchSize\" : 1,\r\n    \"enabled\" : true\r\n  }\r\n}\r\n```\r\n* Confirm that the dump command from `$METRON_HOME/bin/zk_load_configs.sh -m DUMP -z node1:2181` contains the config with batch size of `1`\r\n* Now pull the configs locally via `$METRON_HOME/bin/zk_load_configs.sh -m PULL -z node1:2181 -o $METRON_HOME/config/zookeeper -f`\r\n* Check that the \"hdfs\" config at `$METRON_HOME/config/zookeeper/indexing/squid.json` is indeed:\r\n```\r\n{\r\n  \"index\" : \"squid\",\r\n  \"batchSize\" : 2,\r\n  \"enabled\" : false\r\n}\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/273535887/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/273568785","html_url":"https://github.com/apache/metron/pull/397#issuecomment-273568785","issue_url":"https://api.github.com/repos/apache/metron/issues/397","id":273568785,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MzU2ODc4NQ==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-18T19:04:35Z","updated_at":"2017-01-18T19:04:35Z","author_association":"CONTRIBUTOR","body":"Kick Travis","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/273568785/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/273585026","html_url":"https://github.com/apache/metron/pull/397#issuecomment-273585026","issue_url":"https://api.github.com/repos/apache/metron/issues/397","id":273585026,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MzU4NTAyNg==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-18T20:02:36Z","updated_at":"2017-01-18T20:02:36Z","author_association":"MEMBER","body":"Did you verify that these functions run on:\r\n* the profiler\r\n* the parser topology via field transformations\r\n* the enrichment topology via stellar enrichments\r\n* the Stellar REPL\r\n\r\nIf so, then I'm +1","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/273585026/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/273599600","html_url":"https://github.com/apache/metron/pull/399#issuecomment-273599600","issue_url":"https://api.github.com/repos/apache/metron/issues/399","id":273599600,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MzU5OTYwMA==","user":{"login":"mattf-apache","id":908957,"node_id":"MDQ6VXNlcjkwODk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/908957?v=4","gravatar_id":"","url":"https://api.github.com/users/mattf-apache","html_url":"https://github.com/mattf-apache","followers_url":"https://api.github.com/users/mattf-apache/followers","following_url":"https://api.github.com/users/mattf-apache/following{/other_user}","gists_url":"https://api.github.com/users/mattf-apache/gists{/gist_id}","starred_url":"https://api.github.com/users/mattf-apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattf-apache/subscriptions","organizations_url":"https://api.github.com/users/mattf-apache/orgs","repos_url":"https://api.github.com/users/mattf-apache/repos","events_url":"https://api.github.com/users/mattf-apache/events{/privacy}","received_events_url":"https://api.github.com/users/mattf-apache/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-18T20:58:04Z","updated_at":"2017-01-18T20:58:04Z","author_association":"MEMBER","body":"Yes, +1.  I tested the links used, they work, and are in the right domains.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/273599600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/273623990","html_url":"https://github.com/apache/metron/pull/418#issuecomment-273623990","issue_url":"https://api.github.com/repos/apache/metron/issues/418","id":273623990,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MzYyMzk5MA==","user":{"login":"mattf-apache","id":908957,"node_id":"MDQ6VXNlcjkwODk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/908957?v=4","gravatar_id":"","url":"https://api.github.com/users/mattf-apache","html_url":"https://github.com/mattf-apache","followers_url":"https://api.github.com/users/mattf-apache/followers","following_url":"https://api.github.com/users/mattf-apache/following{/other_user}","gists_url":"https://api.github.com/users/mattf-apache/gists{/gist_id}","starred_url":"https://api.github.com/users/mattf-apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattf-apache/subscriptions","organizations_url":"https://api.github.com/users/mattf-apache/orgs","repos_url":"https://api.github.com/users/mattf-apache/repos","events_url":"https://api.github.com/users/mattf-apache/events{/privacy}","received_events_url":"https://api.github.com/users/mattf-apache/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-18T22:35:43Z","updated_at":"2017-01-18T22:35:43Z","author_association":"MEMBER","body":"Travis is back to normal.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/273623990/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/273782615","html_url":"https://github.com/apache/metron/pull/316#issuecomment-273782615","issue_url":"https://api.github.com/repos/apache/metron/issues/316","id":273782615,"node_id":"MDEyOklzc3VlQ29tbWVudDI3Mzc4MjYxNQ==","user":{"login":"jjmeyer0","id":721593,"node_id":"MDQ6VXNlcjcyMTU5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/721593?v=4","gravatar_id":"","url":"https://api.github.com/users/jjmeyer0","html_url":"https://github.com/jjmeyer0","followers_url":"https://api.github.com/users/jjmeyer0/followers","following_url":"https://api.github.com/users/jjmeyer0/following{/other_user}","gists_url":"https://api.github.com/users/jjmeyer0/gists{/gist_id}","starred_url":"https://api.github.com/users/jjmeyer0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jjmeyer0/subscriptions","organizations_url":"https://api.github.com/users/jjmeyer0/orgs","repos_url":"https://api.github.com/users/jjmeyer0/repos","events_url":"https://api.github.com/users/jjmeyer0/events{/privacy}","received_events_url":"https://api.github.com/users/jjmeyer0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-19T13:58:47Z","updated_at":"2017-01-19T13:58:47Z","author_association":"CONTRIBUTOR","body":"@merrimanr @cestella does it make sense to hold off on this for a little while? It looks like all configuration may be managed by Ambari going forward. I am getting this from the dev thread: `Ambari Metron Configuration Management consequences and call to action`. ","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/273782615/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/273784692","html_url":"https://github.com/apache/metron/pull/316#issuecomment-273784692","issue_url":"https://api.github.com/repos/apache/metron/issues/316","id":273784692,"node_id":"MDEyOklzc3VlQ29tbWVudDI3Mzc4NDY5Mg==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-19T14:07:23Z","updated_at":"2017-01-19T14:07:23Z","author_association":"CONTRIBUTOR","body":"Also, the point that this may be better managed from within ambari as a\nview may need consideration.\n\n\n\nOn January 19, 2017 at 08:58:51, JJ Meyer (notifications@github.com) wrote:\n\n@merrimanr <https://github.com/merrimanr> @cestella\n<https://github.com/cestella> does it make sense to hold off on this for a\nlittle while? It looks like all configuration may be managed by Ambari\ngoing forward. I am getting this from the dev thread: Ambari Metron\nConfiguration Management consequences and call to action.\n\n—\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\n<https://github.com/apache/incubator-metron/pull/316#issuecomment-273782615>,\nor mute the thread\n<https://github.com/notifications/unsubscribe-auth/ABD1_zjUuptzwwa_4XekwsX-AFZ6qGNAks5rT2wZgaJpZM4KbJgW>\n.\n","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/273784692/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/273786618","html_url":"https://github.com/apache/metron/pull/408#issuecomment-273786618","issue_url":"https://api.github.com/repos/apache/metron/issues/408","id":273786618,"node_id":"MDEyOklzc3VlQ29tbWVudDI3Mzc4NjYxOA==","user":{"login":"JonZeolla","id":1385510,"node_id":"MDQ6VXNlcjEzODU1MTA=","avatar_url":"https://avatars.githubusercontent.com/u/1385510?v=4","gravatar_id":"","url":"https://api.github.com/users/JonZeolla","html_url":"https://github.com/JonZeolla","followers_url":"https://api.github.com/users/JonZeolla/followers","following_url":"https://api.github.com/users/JonZeolla/following{/other_user}","gists_url":"https://api.github.com/users/JonZeolla/gists{/gist_id}","starred_url":"https://api.github.com/users/JonZeolla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JonZeolla/subscriptions","organizations_url":"https://api.github.com/users/JonZeolla/orgs","repos_url":"https://api.github.com/users/JonZeolla/repos","events_url":"https://api.github.com/users/JonZeolla/events{/privacy}","received_events_url":"https://api.github.com/users/JonZeolla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-19T14:15:19Z","updated_at":"2017-01-19T14:16:31Z","author_association":"MEMBER","body":"Is \"MySQL should not be installed on a node already running a MySQL instance\" still accurate wrt Ambari MPack?  I thought this was fixed.  I see it noted as the 2nd bullet point [here](https://github.com/mattf-horton/incubator-metron/blob/b5b3a348527c03bc778a5fc5dd0d94ec3a00470b/metron-deployment/README.md#current-limitations).  Would we be able to add that tweak in to this PR since it's so minor, and it's [semi-]related to the changes made here?  I believe the actual fix was a part of [METRON-410](https://issues.apache.org/jira/browse/METRON-410) (#317)\r\n\r\nIf this is valid, I could always open a new JIRA/PR for the fix, but since it's _so_ minor I figured I'd mention it on a MPack-related PR.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/273786618/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/273788221","html_url":"https://github.com/apache/metron/pull/316#issuecomment-273788221","issue_url":"https://api.github.com/repos/apache/metron/issues/316","id":273788221,"node_id":"MDEyOklzc3VlQ29tbWVudDI3Mzc4ODIyMQ==","user":{"login":"jjmeyer0","id":721593,"node_id":"MDQ6VXNlcjcyMTU5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/721593?v=4","gravatar_id":"","url":"https://api.github.com/users/jjmeyer0","html_url":"https://github.com/jjmeyer0","followers_url":"https://api.github.com/users/jjmeyer0/followers","following_url":"https://api.github.com/users/jjmeyer0/following{/other_user}","gists_url":"https://api.github.com/users/jjmeyer0/gists{/gist_id}","starred_url":"https://api.github.com/users/jjmeyer0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jjmeyer0/subscriptions","organizations_url":"https://api.github.com/users/jjmeyer0/orgs","repos_url":"https://api.github.com/users/jjmeyer0/repos","events_url":"https://api.github.com/users/jjmeyer0/events{/privacy}","received_events_url":"https://api.github.com/users/jjmeyer0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-19T14:21:58Z","updated_at":"2017-01-19T14:21:58Z","author_association":"CONTRIBUTOR","body":"@ottobackwards that's a good point. To me it still may makes sense to have this API (which the Ambari view would use). I think it would be useful for clusters not using Ambari. But I suspect this is going to be a much longer discussion.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/273788221/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/273789662","html_url":"https://github.com/apache/metron/pull/408#issuecomment-273789662","issue_url":"https://api.github.com/repos/apache/metron/issues/408","id":273789662,"node_id":"MDEyOklzc3VlQ29tbWVudDI3Mzc4OTY2Mg==","user":{"login":"dlyle65535","id":3439113,"node_id":"MDQ6VXNlcjM0MzkxMTM=","avatar_url":"https://avatars.githubusercontent.com/u/3439113?v=4","gravatar_id":"","url":"https://api.github.com/users/dlyle65535","html_url":"https://github.com/dlyle65535","followers_url":"https://api.github.com/users/dlyle65535/followers","following_url":"https://api.github.com/users/dlyle65535/following{/other_user}","gists_url":"https://api.github.com/users/dlyle65535/gists{/gist_id}","starred_url":"https://api.github.com/users/dlyle65535/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlyle65535/subscriptions","organizations_url":"https://api.github.com/users/dlyle65535/orgs","repos_url":"https://api.github.com/users/dlyle65535/repos","events_url":"https://api.github.com/users/dlyle65535/events{/privacy}","received_events_url":"https://api.github.com/users/dlyle65535/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-19T14:27:33Z","updated_at":"2017-01-19T14:27:33Z","author_association":"CONTRIBUTOR","body":"This is great stuff. Can you talk a bit about why you split it off instead of just updated the existing MPack to support 1+ nodes? I'd prefer not to maintain two if we don't have to.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/273789662/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/273790143","html_url":"https://github.com/apache/metron/pull/316#issuecomment-273790143","issue_url":"https://api.github.com/repos/apache/metron/issues/316","id":273790143,"node_id":"MDEyOklzc3VlQ29tbWVudDI3Mzc5MDE0Mw==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-19T14:29:23Z","updated_at":"2017-01-19T14:29:23Z","author_association":"CONTRIBUTOR","body":"I would very much prefer to not wait.  There are other endpoints outside of configuration management that we need, a REST API isn't limited to just that.  If we feel we should remove the auditing functions I am happy to do that.  With the auditing functions removed, there will not be major changes needed once configuration management is moved to Ambari.\r\n\r\n@ottobackwards, I don't understand what you mean by this:\r\n\r\n\"Also, the point that this may be better managed from within ambari as a\r\nview may need consideration.\"\r\n\r\nCan you expand on that?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/273790143/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/273797766","html_url":"https://github.com/apache/metron/pull/316#issuecomment-273797766","issue_url":"https://api.github.com/repos/apache/metron/issues/316","id":273797766,"node_id":"MDEyOklzc3VlQ29tbWVudDI3Mzc5Nzc2Ng==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-19T14:58:33Z","updated_at":"2017-01-19T14:58:33Z","author_association":"MEMBER","body":"Ok, my $0.02, for what it's worth, is that this is still very much needed.  Ambari is being considered for managing the configurations from a historical manner and the proposal is that all config updates go through ambari's API (not necessarily through the UI).  This would mean that the Metron REST API, Stellar REPL management functions (`CONFIG_PUT`) and Ambari itself would all send their updates through the Ambari API before pushing to zookeeper.\r\n\r\nAll that being said, that is future state and not current state.  We shouldn't let the other good things here go uncommitted because we will eventually use Ambari to be the backing persistent historical store for configs.  I think that I do agree with @merrimanr that given the discussion about ambari rolling our own auditing config store doesn't make a lot of sense and would just have to be ripped out later, so I'd be in favor of removing those functions and capabilities from this PR.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/273797766/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/273845614","html_url":"https://github.com/apache/metron/pull/316#issuecomment-273845614","issue_url":"https://api.github.com/repos/apache/metron/issues/316","id":273845614,"node_id":"MDEyOklzc3VlQ29tbWVudDI3Mzg0NTYxNA==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-19T17:43:12Z","updated_at":"2017-01-19T17:43:12Z","author_association":"CONTRIBUTOR","body":"The primary driver as I see it for a REST API is to facilitate building user interfaces for various interactions with Metron.  At some point (I would argue now) we will want/need to evolve from just exposing functionality through a collection of command line utilities spread out across various hosts.  That is not user friendly at all and anyone outside of our community of committers/contributors will have a steep learning curve.\r\n\r\nMost modern web development frameworks that I know of have all converged to REST and JSON standards for calling APIs.  So to build a UI or encourage others in the community to build UIs, we need to expose functions in Metron through REST/JSON.  Some functions are already exposed through a REST interface (the Storm REST API for example).  But there are several gaps.  A few that come to mind:\r\n\r\n- you cannot start/stop topologies through the Storm REST API\r\n- we are not managing sensor specific configs (parser, enrichment, indexing) with Ambari yet so the only way to do that is with the zk_load_configs.sh script\r\n- the only way to execute Stellar statements outside of topologies is with the Stellar REPL\r\n\r\nThere are many more and there will no doubt be more that come up as the platform evolves.  We need a middle-tier to fill in these gaps and grow our library of functions that users and developers can leverage.  \r\n\r\nWe've all agreed that managing sensor specific configs in Ambari has a lot of merit.  When the time comes and that actually gets implemented, it's fairly trivial to either rip those endpoints out or change the underlying implementation.  The REST API as it stands in this PR, makes the same exact calls as the zk_load_configs.sh script so the changes are likely minimal (they will have to be made to zk_load_configs.sh anyways).  Removing the auditing endpoint in anticipation of moving configs to Ambari is perfectly reasonable.  I am happy to update this PR with that change.\r\n\r\nThere are probably further discussions we can have with respect to our REST strategy but right now we are missing a critical piece in our architecture.  Even after we get the configs moved to Ambari we will still need this so I don't see any reason to hold it up.  If any of this is unclear I am happy to explain further and provide additional documentation or diagrams.     ","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/273845614/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/273903758","html_url":"https://github.com/apache/metron/pull/220#issuecomment-273903758","issue_url":"https://api.github.com/repos/apache/metron/issues/220","id":273903758,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MzkwMzc1OA==","user":{"login":"2xyo","id":31675,"node_id":"MDQ6VXNlcjMxNjc1","avatar_url":"https://avatars.githubusercontent.com/u/31675?v=4","gravatar_id":"","url":"https://api.github.com/users/2xyo","html_url":"https://github.com/2xyo","followers_url":"https://api.github.com/users/2xyo/followers","following_url":"https://api.github.com/users/2xyo/following{/other_user}","gists_url":"https://api.github.com/users/2xyo/gists{/gist_id}","starred_url":"https://api.github.com/users/2xyo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/2xyo/subscriptions","organizations_url":"https://api.github.com/users/2xyo/orgs","repos_url":"https://api.github.com/users/2xyo/repos","events_url":"https://api.github.com/users/2xyo/events{/privacy}","received_events_url":"https://api.github.com/users/2xyo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-19T21:27:08Z","updated_at":"2017-01-19T21:27:08Z","author_association":"CONTRIBUTOR","body":"Hi, sorry for not getting back to you. I am no longer able to try this setup (new job, no more server at work for this setup and not enough ram at home :/) ","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/273903758/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/273927292","html_url":"https://github.com/apache/metron/pull/220#issuecomment-273927292","issue_url":"https://api.github.com/repos/apache/metron/issues/220","id":273927292,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MzkyNzI5Mg==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-19T23:06:18Z","updated_at":"2017-01-19T23:06:18Z","author_association":"CONTRIBUTOR","body":"Can we close this then?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/273927292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/274076606","html_url":"https://github.com/apache/metron/pull/421#issuecomment-274076606","issue_url":"https://api.github.com/repos/apache/metron/issues/421","id":274076606,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDA3NjYwNg==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-20T13:52:30Z","updated_at":"2017-01-20T13:52:30Z","author_association":"CONTRIBUTOR","body":"Expanding the Stellar GEO_GET function to allow for just returning a map of specified fields (if more than one), or just the direct value (if just one field requested) would be very nice.\r\n\r\ne.g. GEO_GET('<ip>', ['country', 'city']) returns {\"country\": \"US\", \"city:\"Chicago\"} and GEO_GET('ip', ['county'] just returns 'US'","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/274076606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/274103591","html_url":"https://github.com/apache/metron/pull/420#issuecomment-274103591","issue_url":"https://api.github.com/repos/apache/metron/issues/420","id":274103591,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDEwMzU5MQ==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-20T15:43:53Z","updated_at":"2017-01-20T15:43:53Z","author_association":"CONTRIBUTOR","body":"Excellent. And I need these fixes for some outlier analysis with HLLP and MAD. +1 by inspection.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/274103591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/274121181","html_url":"https://github.com/apache/metron/pull/316#issuecomment-274121181","issue_url":"https://api.github.com/repos/apache/metron/issues/316","id":274121181,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDEyMTE4MQ==","user":{"login":"jjmeyer0","id":721593,"node_id":"MDQ6VXNlcjcyMTU5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/721593?v=4","gravatar_id":"","url":"https://api.github.com/users/jjmeyer0","html_url":"https://github.com/jjmeyer0","followers_url":"https://api.github.com/users/jjmeyer0/followers","following_url":"https://api.github.com/users/jjmeyer0/following{/other_user}","gists_url":"https://api.github.com/users/jjmeyer0/gists{/gist_id}","starred_url":"https://api.github.com/users/jjmeyer0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jjmeyer0/subscriptions","organizations_url":"https://api.github.com/users/jjmeyer0/orgs","repos_url":"https://api.github.com/users/jjmeyer0/repos","events_url":"https://api.github.com/users/jjmeyer0/events{/privacy}","received_events_url":"https://api.github.com/users/jjmeyer0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-20T16:51:21Z","updated_at":"2017-01-20T16:51:33Z","author_association":"CONTRIBUTOR","body":"I've tested a few controllers (global config, grok controller, and kafka controller). Everything seems to be working pretty well. I will continue to test more, but since this is a large PR I wanted to do smaller chunks at a time.\r\n\r\nI think we should start thinking about is how we are going to architect the service layer. I'd like to discuss two things that I think will help us improve the maintainability of this.\r\n\r\n**Each service should implement an interface.**\r\n\r\n**We should discuss how to better break up services.** \r\nI think services should be conceptually simple. Mostly interact with a specific system. If we start getting into more complicated situations where multiple services are needed these should be in a separate area. I consider situations like these to be more of a service facade. A current example of this is with the `StormService`. I think the interactions with the storm API should be in its own service. Then a facade would be used with the storm service and other necessary services to give a simpler view into storm based on our context. Does this make sense?\r\n\r\nPersonally I think number 1 should be done apart of this PR and number 2 should probably turn into a wider discussion. What do you all think? If others agree, I'd be glad to write up a Jira to discuss number 2.\r\n","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/274121181/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/274137074","html_url":"https://github.com/apache/metron/pull/316#issuecomment-274137074","issue_url":"https://api.github.com/repos/apache/metron/issues/316","id":274137074,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDEzNzA3NA==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-20T17:58:51Z","updated_at":"2017-01-20T17:58:51Z","author_association":"CONTRIBUTOR","body":"@jjmeyer0 #2 make sense.  That would be great if you can open another Jira to discuss.\r\n\r\nCan you clarify what you mean on number 1?  Are you talking about separating the services into something like SomeService and SomeServiceImpl?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/274137074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/274144563","html_url":"https://github.com/apache/metron/pull/316#issuecomment-274144563","issue_url":"https://api.github.com/repos/apache/metron/issues/316","id":274144563,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDE0NDU2Mw==","user":{"login":"jjmeyer0","id":721593,"node_id":"MDQ6VXNlcjcyMTU5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/721593?v=4","gravatar_id":"","url":"https://api.github.com/users/jjmeyer0","html_url":"https://github.com/jjmeyer0","followers_url":"https://api.github.com/users/jjmeyer0/followers","following_url":"https://api.github.com/users/jjmeyer0/following{/other_user}","gists_url":"https://api.github.com/users/jjmeyer0/gists{/gist_id}","starred_url":"https://api.github.com/users/jjmeyer0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jjmeyer0/subscriptions","organizations_url":"https://api.github.com/users/jjmeyer0/orgs","repos_url":"https://api.github.com/users/jjmeyer0/repos","events_url":"https://api.github.com/users/jjmeyer0/events{/privacy}","received_events_url":"https://api.github.com/users/jjmeyer0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-20T18:31:00Z","updated_at":"2017-01-20T18:31:00Z","author_association":"CONTRIBUTOR","body":"@merrimanr I'll work to create a Jira.\r\n\r\nYup, it will make changing things easier. Plus in the future when adding ambari support I think it will be really helpful to have the interfaces.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/274144563/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/274178147","html_url":"https://github.com/apache/metron/pull/397#issuecomment-274178147","issue_url":"https://api.github.com/repos/apache/metron/issues/397","id":274178147,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDE3ODE0Nw==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-20T20:58:17Z","updated_at":"2017-01-20T20:58:17Z","author_association":"CONTRIBUTOR","body":"@cestella Verified the above - modifying the testing plan now","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/274178147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/274196203","html_url":"https://github.com/apache/metron/pull/316#issuecomment-274196203","issue_url":"https://api.github.com/repos/apache/metron/issues/316","id":274196203,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDE5NjIwMw==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-20T22:24:07Z","updated_at":"2017-01-20T22:24:07Z","author_association":"CONTRIBUTOR","body":"Just pushed out a commit to address all the issues noted above with the exception of separating the service classes into interfaces and implementations.  \r\n\r\nFor that, @jjmeyer0 is there a pattern you prefer or have used before that worked well for you?  To extend on the example I gave above (SomeService and SomeServiceImpl), we would also need to add something like a ServiceConfig class that instantiates all of the Impl classes to be injected wherever the various services are needed.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/274196203/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/274200295","html_url":"https://github.com/apache/metron/pull/316#issuecomment-274200295","issue_url":"https://api.github.com/repos/apache/metron/issues/316","id":274200295,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDIwMDI5NQ==","user":{"login":"jjmeyer0","id":721593,"node_id":"MDQ6VXNlcjcyMTU5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/721593?v=4","gravatar_id":"","url":"https://api.github.com/users/jjmeyer0","html_url":"https://github.com/jjmeyer0","followers_url":"https://api.github.com/users/jjmeyer0/followers","following_url":"https://api.github.com/users/jjmeyer0/following{/other_user}","gists_url":"https://api.github.com/users/jjmeyer0/gists{/gist_id}","starred_url":"https://api.github.com/users/jjmeyer0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jjmeyer0/subscriptions","organizations_url":"https://api.github.com/users/jjmeyer0/orgs","repos_url":"https://api.github.com/users/jjmeyer0/repos","events_url":"https://api.github.com/users/jjmeyer0/events{/privacy}","received_events_url":"https://api.github.com/users/jjmeyer0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-20T22:45:57Z","updated_at":"2017-01-20T22:45:57Z","author_association":"CONTRIBUTOR","body":"@merrimanr you shouldn't need a config class. If I remember correctly, Spring is smart enough to pick up instances. As long as its scanning the package containing the services. If there are multiple implementations for an interface you should be able to do the following:\r\n```\r\ninterface SomeService {}\r\n\r\n@Service(\"SomeServiceImpl\")\r\nclass SomeServiceImpl implements SomeService {}\r\n\r\n@Service(\"SomeService2\")\r\nclass SomeServiceImpl2 implements SomeService {}\r\n\r\n// usage:\r\n\r\n@Autowired\r\n@Qualifier(\"SomeServiceImpl\")\r\nSomeService SomeService;\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/274200295/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/274512606","html_url":"https://github.com/apache/metron/pull/420#issuecomment-274512606","issue_url":"https://api.github.com/repos/apache/metron/issues/420","id":274512606,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDUxMjYwNg==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-23T15:09:09Z","updated_at":"2017-01-23T15:09:09Z","author_association":"CONTRIBUTOR","body":"I like this as it simplifies the Profile configuration.\r\n\r\nHow did you test this?  Did you run any profiles on \"Quick Dev\"?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/274512606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/274514244","html_url":"https://github.com/apache/metron/pull/420#issuecomment-274514244","issue_url":"https://api.github.com/repos/apache/metron/issues/420","id":274514244,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDUxNDI0NA==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-23T15:14:42Z","updated_at":"2017-01-23T15:14:42Z","author_association":"MEMBER","body":"@nickwallen running as we speak.  The test plan will be to generate some data like we do for the MAD outliers and construct a couple simple profiles.  I'll make it a bit more explicit after I do it. :)","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/274514244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/274585659","html_url":"https://github.com/apache/metron/pull/420#issuecomment-274585659","issue_url":"https://api.github.com/repos/apache/metron/issues/420","id":274585659,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDU4NTY1OQ==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-23T19:08:28Z","updated_at":"2017-01-23T19:08:28Z","author_association":"MEMBER","body":"Ok, test is complete, I made sure the profiler worked.  I also adjusted the timeout on the indexing integration tests so that travis doesn't barf.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/274585659/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/274586115","html_url":"https://github.com/apache/metron/pull/420#issuecomment-274586115","issue_url":"https://api.github.com/repos/apache/metron/issues/420","id":274586115,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDU4NjExNQ==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-23T19:10:09Z","updated_at":"2017-01-23T19:10:09Z","author_association":"MEMBER","body":"The explicit test that was done on quickdev was following the Median Absolute Deviation scenario in `metron-statistics`","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/274586115/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/274590905","html_url":"https://github.com/apache/metron/pull/316#issuecomment-274590905","issue_url":"https://api.github.com/repos/apache/metron/issues/316","id":274590905,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDU5MDkwNQ==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-23T19:26:59Z","updated_at":"2017-01-23T19:26:59Z","author_association":"CONTRIBUTOR","body":"@jjmeyer0, just pushed out the commit to separate Services into interfaces and implementations.  As I created the interfaces there were a few spots that needed some changes.  \r\n\r\nFirst there were several methods in the GrokService that didn't belong there.  These include methods that support writing grok statements to/from HDFS and updating a sensor parser config with these statements.  I believe these methods should be in SensorParserConfigService since they are needed to support writing and reading sensor parser configs.  It should be noted that these methods can all be removed if we ever move to keeping grok statements in zookeeper instead of HDFS (see PR #308).\r\n\r\nThe second is something you alluded to earlier about converting the StormService to a facade pattern.  I think you are correct there, this service contains 2 different types of Storm interactions:\r\n\r\n- function calls to the Storm REST API\r\n- functions that are not exposed through the Storm REST API, only through the Storm CLI\r\n\r\nI broke this service down into 2 smaller services.  Is that along the lines of what you were thinking?\r\n\r\nI also moved all the constants in various classes to a single constant class.  We don't have that many right now so it's manageable to keep them in one place.  \r\n\r\nWas also thinking we should rename TransformationService to StellarService?  I can see that evolving to be more generic than just the Stellar hook in the transformation phase of the parser topology.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/274590905/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/274603271","html_url":"https://github.com/apache/metron/pull/419#issuecomment-274603271","issue_url":"https://api.github.com/repos/apache/metron/issues/419","id":274603271,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDYwMzI3MQ==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-23T20:13:13Z","updated_at":"2017-01-23T20:13:13Z","author_association":"CONTRIBUTOR","body":"Tested this in quick-dev. +1","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/274603271/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/274620382","html_url":"https://github.com/apache/metron/pull/420#issuecomment-274620382","issue_url":"https://api.github.com/repos/apache/metron/issues/420","id":274620382,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDYyMDM4Mg==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-23T21:20:05Z","updated_at":"2017-01-23T21:20:05Z","author_association":"MEMBER","body":"By the way, please don't merge this.  I'm using this branch to figure out what's going on with the build failures.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/274620382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/274644447","html_url":"https://github.com/apache/metron/pull/408#issuecomment-274644447","issue_url":"https://api.github.com/repos/apache/metron/issues/408","id":274644447,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDY0NDQ0Nw==","user":{"login":"mattf-apache","id":908957,"node_id":"MDQ6VXNlcjkwODk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/908957?v=4","gravatar_id":"","url":"https://api.github.com/users/mattf-apache","html_url":"https://github.com/mattf-apache","followers_url":"https://api.github.com/users/mattf-apache/followers","following_url":"https://api.github.com/users/mattf-apache/following{/other_user}","gists_url":"https://api.github.com/users/mattf-apache/gists{/gist_id}","starred_url":"https://api.github.com/users/mattf-apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattf-apache/subscriptions","organizations_url":"https://api.github.com/users/mattf-apache/orgs","repos_url":"https://api.github.com/users/mattf-apache/repos","events_url":"https://api.github.com/users/mattf-apache/events{/privacy}","received_events_url":"https://api.github.com/users/mattf-apache/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-23T22:54:59Z","updated_at":"2017-01-23T22:54:59Z","author_association":"MEMBER","body":"@JonZeolla , I'm not sure I follow the doc statement, since the issue is not installing two MySQL instances on the same server, but rather sharing the same MySQL instance between two services (Hive and Metron).\r\n\r\nAt any rate, I think you are correct that this is an obsolete statement in the doc, since [METRON-410](https://issues.apache.org/jira/browse/METRON-410) \\([#317](https://github.com/apache/incubator-metron/pull/317)\\) was fixed in November.\r\n\r\nAre you suggesting that since I'm in this doc anyway, I should fix this doc issue by removing that statement?  Okay by me, just clarifying.  Thanks.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/274644447/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/274808027","html_url":"https://github.com/apache/metron/pull/422#issuecomment-274808027","issue_url":"https://api.github.com/repos/apache/metron/issues/422","id":274808027,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDgwODAyNw==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-24T13:53:05Z","updated_at":"2017-01-24T13:53:05Z","author_association":"CONTRIBUTOR","body":"There are also problems with shutting down topologies, since we don't pass in the wait to storm ( at least we didn't.   I need to find the pr/jira for that.  All external calls from monit need to have clear timeout accounting from both monit's pov and the external agent","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/274808027/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/274996877","html_url":"https://github.com/apache/metron/pull/316#issuecomment-274996877","issue_url":"https://api.github.com/repos/apache/metron/issues/316","id":274996877,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDk5Njg3Nw==","user":{"login":"jjmeyer0","id":721593,"node_id":"MDQ6VXNlcjcyMTU5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/721593?v=4","gravatar_id":"","url":"https://api.github.com/users/jjmeyer0","html_url":"https://github.com/jjmeyer0","followers_url":"https://api.github.com/users/jjmeyer0/followers","following_url":"https://api.github.com/users/jjmeyer0/following{/other_user}","gists_url":"https://api.github.com/users/jjmeyer0/gists{/gist_id}","starred_url":"https://api.github.com/users/jjmeyer0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jjmeyer0/subscriptions","organizations_url":"https://api.github.com/users/jjmeyer0/orgs","repos_url":"https://api.github.com/users/jjmeyer0/repos","events_url":"https://api.github.com/users/jjmeyer0/events{/privacy}","received_events_url":"https://api.github.com/users/jjmeyer0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-25T01:51:18Z","updated_at":"2017-01-25T01:51:18Z","author_association":"CONTRIBUTOR","body":"@merrimanr this is looking good. I like how you broke out some of the services and started a constants class. There were two very minor things that I noticed.\r\n\r\n1. `@Override` should be used wherever possible on all service class method that implement an interface.\r\n2. I don't believe `@Service` is needed on the interfaces.\r\n\r\nI continued to test some more endpoints and things are continuing to look good. I still want to test out some more endpoints.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/274996877/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275042538","html_url":"https://github.com/apache/metron/pull/408#issuecomment-275042538","issue_url":"https://api.github.com/repos/apache/metron/issues/408","id":275042538,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTA0MjUzOA==","user":{"login":"mattf-apache","id":908957,"node_id":"MDQ6VXNlcjkwODk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/908957?v=4","gravatar_id":"","url":"https://api.github.com/users/mattf-apache","html_url":"https://github.com/mattf-apache","followers_url":"https://api.github.com/users/mattf-apache/followers","following_url":"https://api.github.com/users/mattf-apache/following{/other_user}","gists_url":"https://api.github.com/users/mattf-apache/gists{/gist_id}","starred_url":"https://api.github.com/users/mattf-apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattf-apache/subscriptions","organizations_url":"https://api.github.com/users/mattf-apache/orgs","repos_url":"https://api.github.com/users/mattf-apache/repos","events_url":"https://api.github.com/users/mattf-apache/events{/privacy}","received_events_url":"https://api.github.com/users/mattf-apache/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-25T07:58:22Z","updated_at":"2017-01-25T07:58:22Z","author_association":"MEMBER","body":"Hi @dlyle65535 , from a design perspective, I totally agree that we should have a single MPack that works on any size cluster, and I hope to replace both the 4(+)-node and single-node versions in the future with a more general solution.  I even have a prototype of such.  My reasons for proceeding with the split-off version at this time were entirely pragmatic, due to time pressure:\r\n\r\n- I really needed a single-node that works with Ambari, for testing other PRs.  \r\n- I spent several days trying to make Elasticsearch work on a single node installation, while retaining the generality of the multi-node case, but couldn't make it work.  This chewed up a lot of time.\r\n- I put together a unified Mpack that used two different template files for Elasticsearch, depending whether it was for a single-node or multi-node install.  That worked just fine, on the surface, but was clearly going to require in-depth testing of 1, 2, 3, and 4 node cases.  I do not currently have time to thoroughly test all the special cases.\r\n- Doing it this way I only had to test the single-node case, which was fairly fast.\r\n- Having made one that works, I'd like to make it available to others.\r\n- Now, if it is not accepted into the code, the high rate of change in metron-deployment will soon obsolete it.\r\n\r\nThat's pretty much it.  It's a throw-away, but not until we do the work of actually producing the generalized solution and testing it thoroughly.  Which I evaluate as lower priority than a number of other more urgent needs.  Thanks.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275042538/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275045244","html_url":"https://github.com/apache/metron/pull/408#issuecomment-275045244","issue_url":"https://api.github.com/repos/apache/metron/issues/408","id":275045244,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTA0NTI0NA==","user":{"login":"mattf-apache","id":908957,"node_id":"MDQ6VXNlcjkwODk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/908957?v=4","gravatar_id":"","url":"https://api.github.com/users/mattf-apache","html_url":"https://github.com/mattf-apache","followers_url":"https://api.github.com/users/mattf-apache/followers","following_url":"https://api.github.com/users/mattf-apache/following{/other_user}","gists_url":"https://api.github.com/users/mattf-apache/gists{/gist_id}","starred_url":"https://api.github.com/users/mattf-apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattf-apache/subscriptions","organizations_url":"https://api.github.com/users/mattf-apache/orgs","repos_url":"https://api.github.com/users/mattf-apache/repos","events_url":"https://api.github.com/users/mattf-apache/events{/privacy}","received_events_url":"https://api.github.com/users/mattf-apache/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-25T08:15:11Z","updated_at":"2017-01-25T08:15:11Z","author_association":"MEMBER","body":"@JonZeolla , I removed the obsolete comments about MySQL installation in Mpack.  Thanks for the suggestion.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275045244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275046737","html_url":"https://github.com/apache/metron/pull/418#issuecomment-275046737","issue_url":"https://api.github.com/repos/apache/metron/issues/418","id":275046737,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTA0NjczNw==","user":{"login":"mattf-apache","id":908957,"node_id":"MDQ6VXNlcjkwODk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/908957?v=4","gravatar_id":"","url":"https://api.github.com/users/mattf-apache","html_url":"https://github.com/mattf-apache","followers_url":"https://api.github.com/users/mattf-apache/followers","following_url":"https://api.github.com/users/mattf-apache/following{/other_user}","gists_url":"https://api.github.com/users/mattf-apache/gists{/gist_id}","starred_url":"https://api.github.com/users/mattf-apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattf-apache/subscriptions","organizations_url":"https://api.github.com/users/mattf-apache/orgs","repos_url":"https://api.github.com/users/mattf-apache/repos","events_url":"https://api.github.com/users/mattf-apache/events{/privacy}","received_events_url":"https://api.github.com/users/mattf-apache/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-25T08:24:03Z","updated_at":"2017-01-25T08:24:03Z","author_association":"MEMBER","body":"Do we need any changes, to commit these modest fixes to javadoc comments?  I'd like to experiment with adding javadocs to the doc site.  Thanks.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275046737/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275102110","html_url":"https://github.com/apache/metron/pull/421#issuecomment-275102110","issue_url":"https://api.github.com/repos/apache/metron/issues/421","id":275102110,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTEwMjExMA==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-25T13:00:29Z","updated_at":"2017-01-25T13:00:29Z","author_association":"CONTRIBUTOR","body":"As a note to anyone coming in late, at least one comment (David's) is still relevant, but hidden behind a collapsed outdated diff, because the line he commented on needed to be deleted, but the point he brought up is still in active conversation.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275102110/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275103953","html_url":"https://github.com/apache/metron/pull/421#issuecomment-275103953","issue_url":"https://api.github.com/repos/apache/metron/issues/421","id":275103953,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTEwMzk1Mw==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-25T13:10:42Z","updated_at":"2017-01-25T13:10:42Z","author_association":"CONTRIBUTOR","body":"Forgot to comment on it, but the GEO_GET call was updated a bit ago per my comment about lists and fields. That change should also be reviewed and given any feedback.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275103953/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275105994","html_url":"https://github.com/apache/metron/pull/418#issuecomment-275105994","issue_url":"https://api.github.com/repos/apache/metron/issues/418","id":275105994,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTEwNTk5NA==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-25T13:21:06Z","updated_at":"2017-01-25T13:21:06Z","author_association":"CONTRIBUTOR","body":"I'm +1 on this, and definitely glad to see it.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275105994/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275108134","html_url":"https://github.com/apache/metron/pull/418#issuecomment-275108134","issue_url":"https://api.github.com/repos/apache/metron/issues/418","id":275108134,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTEwODEzNA==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-25T13:31:32Z","updated_at":"2017-01-25T13:31:32Z","author_association":"CONTRIBUTOR","body":"+1\r\n","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275108134/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275135991","html_url":"https://github.com/apache/metron/pull/408#issuecomment-275135991","issue_url":"https://api.github.com/repos/apache/metron/issues/408","id":275135991,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTEzNTk5MQ==","user":{"login":"dlyle65535","id":3439113,"node_id":"MDQ6VXNlcjM0MzkxMTM=","avatar_url":"https://avatars.githubusercontent.com/u/3439113?v=4","gravatar_id":"","url":"https://api.github.com/users/dlyle65535","html_url":"https://github.com/dlyle65535","followers_url":"https://api.github.com/users/dlyle65535/followers","following_url":"https://api.github.com/users/dlyle65535/following{/other_user}","gists_url":"https://api.github.com/users/dlyle65535/gists{/gist_id}","starred_url":"https://api.github.com/users/dlyle65535/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlyle65535/subscriptions","organizations_url":"https://api.github.com/users/dlyle65535/orgs","repos_url":"https://api.github.com/users/dlyle65535/repos","events_url":"https://api.github.com/users/dlyle65535/events{/privacy}","received_events_url":"https://api.github.com/users/dlyle65535/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-25T15:20:52Z","updated_at":"2017-01-25T15:25:02Z","author_association":"CONTRIBUTOR","body":"@mattf-horton - I need an MPack that works for 1-N nodes in order to complete [METRON-671](https://issues.apache.org/jira/browse/METRON-671). I suspect I'm working through stuff you've already fixed. Would it make sense to push out a PR with the unified branch and let me test it? Then I could finish METRON-671 on top of your changes.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275135991/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275137483","html_url":"https://github.com/apache/metron/pull/316#issuecomment-275137483","issue_url":"https://api.github.com/repos/apache/metron/issues/316","id":275137483,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTEzNzQ4Mw==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-25T15:25:53Z","updated_at":"2017-01-25T15:25:53Z","author_association":"CONTRIBUTOR","body":"Those 2 are done.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275137483/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275164540","html_url":"https://github.com/apache/metron/pull/399#issuecomment-275164540","issue_url":"https://api.github.com/repos/apache/metron/issues/399","id":275164540,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTE2NDU0MA==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-25T16:55:17Z","updated_at":"2017-01-25T16:55:17Z","author_association":"MEMBER","body":"+1 by inspection","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275164540/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275228693","html_url":"https://github.com/apache/metron/pull/421#issuecomment-275228693","issue_url":"https://api.github.com/repos/apache/metron/issues/421","id":275228693,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTIyODY5Mw==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-25T20:49:42Z","updated_at":"2017-01-25T20:49:42Z","author_association":"CONTRIBUTOR","body":"Updated to replace `EnrichmentAdapter.initializeAdapter()` with `EnrichmentAdapter.initializeAdapter(Map<String, Object> config)`.  Also added `updateAdapter(Map<String, Object> config);`.  Right now the configs only get used by GeoAdapter, but all adapters can use configs it is passed as it needs.  All implementing classes have the method updated, but simply ignore the config param.\r\n\r\nThis removes the direct dependency of `GenericEnrichmentBolt` on `GeoLiteDatabase`.  It will simply call init and update to delegate to each adapter what to do (if anything).  Update is called during `reloadCallback` if global config updates.\r\n\r\nI'll want to spin it up again to further validate, but this addresses @nickwallen's catch on topologies not using geo needing geo data to exist and @dlyle65535's concern about the `GenericEnrichmentBolt` needing to know about geo for everything.  Now errors should only occur if a topology using geo data can't find it.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275228693/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275253683","html_url":"https://github.com/apache/metron/pull/408#issuecomment-275253683","issue_url":"https://api.github.com/repos/apache/metron/issues/408","id":275253683,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTI1MzY4Mw==","user":{"login":"mattf-apache","id":908957,"node_id":"MDQ6VXNlcjkwODk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/908957?v=4","gravatar_id":"","url":"https://api.github.com/users/mattf-apache","html_url":"https://github.com/mattf-apache","followers_url":"https://api.github.com/users/mattf-apache/followers","following_url":"https://api.github.com/users/mattf-apache/following{/other_user}","gists_url":"https://api.github.com/users/mattf-apache/gists{/gist_id}","starred_url":"https://api.github.com/users/mattf-apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattf-apache/subscriptions","organizations_url":"https://api.github.com/users/mattf-apache/orgs","repos_url":"https://api.github.com/users/mattf-apache/repos","events_url":"https://api.github.com/users/mattf-apache/events{/privacy}","received_events_url":"https://api.github.com/users/mattf-apache/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-25T22:30:32Z","updated_at":"2017-01-25T22:30:32Z","author_association":"MEMBER","body":"@dlyle65535 , I'll be happy to share my wip.  It will take me a few hours to brush it off, then I'll post it as a PR referring to [METRON-609](https://issues.apache.org/jira/browse/METRON-609).","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275253683/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275273880","html_url":"https://github.com/apache/metron/pull/424#issuecomment-275273880","issue_url":"https://api.github.com/repos/apache/metron/issues/424","id":275273880,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTI3Mzg4MA==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-26T00:15:26Z","updated_at":"2017-01-26T00:16:18Z","author_association":"MEMBER","body":"To test this locally, because it's extremely sporadic that it happens locally (1 out of every 50 times I run the test), I did the following:\r\n* Built and installed the project in Maven: `mvn -DskipTests clean install`\r\n* Ran the `metron-solr` project integration tests for at least 2 hours in a row ensuring that they don't fail.  So, from `metron-platform/metron-solr`: `echo \"\" > /tmp/output;while [ $(cat /tmp/output | grep \"vs 6\" | wc -l) -lt 1 ];do mvn install >& /tmp/output;done`","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275273880/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275281523","html_url":"https://github.com/apache/metron/pull/424#issuecomment-275281523","issue_url":"https://api.github.com/repos/apache/metron/issues/424","id":275281523,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTI4MTUyMw==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-26T01:04:20Z","updated_at":"2017-01-26T01:04:20Z","author_association":"CONTRIBUTOR","body":"Thanks for taking the effort to dig into this.  Great work.  Other than a couple minor comments, I'm very happy with this.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275281523/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275327318","html_url":"https://github.com/apache/metron/pull/405#issuecomment-275327318","issue_url":"https://api.github.com/repos/apache/metron/issues/405","id":275327318,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTMyNzMxOA==","user":{"login":"mattf-apache","id":908957,"node_id":"MDQ6VXNlcjkwODk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/908957?v=4","gravatar_id":"","url":"https://api.github.com/users/mattf-apache","html_url":"https://github.com/mattf-apache","followers_url":"https://api.github.com/users/mattf-apache/followers","following_url":"https://api.github.com/users/mattf-apache/following{/other_user}","gists_url":"https://api.github.com/users/mattf-apache/gists{/gist_id}","starred_url":"https://api.github.com/users/mattf-apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattf-apache/subscriptions","organizations_url":"https://api.github.com/users/mattf-apache/orgs","repos_url":"https://api.github.com/users/mattf-apache/repos","events_url":"https://api.github.com/users/mattf-apache/events{/privacy}","received_events_url":"https://api.github.com/users/mattf-apache/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-26T07:54:39Z","updated_at":"2017-01-26T07:54:39Z","author_association":"MEMBER","body":"Let's do this, but need to also fix the other three places in this file where '{}' is used with format method.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275327318/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275334982","html_url":"https://github.com/apache/metron/pull/408#issuecomment-275334982","issue_url":"https://api.github.com/repos/apache/metron/issues/408","id":275334982,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTMzNDk4Mg==","user":{"login":"mattf-apache","id":908957,"node_id":"MDQ6VXNlcjkwODk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/908957?v=4","gravatar_id":"","url":"https://api.github.com/users/mattf-apache","html_url":"https://github.com/mattf-apache","followers_url":"https://api.github.com/users/mattf-apache/followers","following_url":"https://api.github.com/users/mattf-apache/following{/other_user}","gists_url":"https://api.github.com/users/mattf-apache/gists{/gist_id}","starred_url":"https://api.github.com/users/mattf-apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattf-apache/subscriptions","organizations_url":"https://api.github.com/users/mattf-apache/orgs","repos_url":"https://api.github.com/users/mattf-apache/repos","events_url":"https://api.github.com/users/mattf-apache/events{/privacy}","received_events_url":"https://api.github.com/users/mattf-apache/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-26T08:43:18Z","updated_at":"2017-01-26T08:43:18Z","author_association":"MEMBER","body":"@dlyle65535 , please see https://github.com/apache/incubator-metron/pull/425\r\n","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275334982/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275370607","html_url":"https://github.com/apache/metron/pull/425#issuecomment-275370607","issue_url":"https://api.github.com/repos/apache/metron/issues/425","id":275370607,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTM3MDYwNw==","user":{"login":"dlyle65535","id":3439113,"node_id":"MDQ6VXNlcjM0MzkxMTM=","avatar_url":"https://avatars.githubusercontent.com/u/3439113?v=4","gravatar_id":"","url":"https://api.github.com/users/dlyle65535","html_url":"https://github.com/dlyle65535","followers_url":"https://api.github.com/users/dlyle65535/followers","following_url":"https://api.github.com/users/dlyle65535/following{/other_user}","gists_url":"https://api.github.com/users/dlyle65535/gists{/gist_id}","starred_url":"https://api.github.com/users/dlyle65535/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlyle65535/subscriptions","organizations_url":"https://api.github.com/users/dlyle65535/orgs","repos_url":"https://api.github.com/users/dlyle65535/repos","events_url":"https://api.github.com/users/dlyle65535/events{/privacy}","received_events_url":"https://api.github.com/users/dlyle65535/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-26T11:49:17Z","updated_at":"2017-01-26T11:49:17Z","author_association":"CONTRIBUTOR","body":"Hi @mattf-horton - thanks for putting this up! It's got my \"have to haves\" plus a bunch more good stuff. I'll get working with it today. If I discover any small changes, I'll put a PR on your branch.\r\n\r\nThanks again, this is great stuff.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275370607/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275390631","html_url":"https://github.com/apache/metron/pull/424#issuecomment-275390631","issue_url":"https://api.github.com/repos/apache/metron/issues/424","id":275390631,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTM5MDYzMQ==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-26T13:42:22Z","updated_at":"2017-01-26T13:42:22Z","author_association":"MEMBER","body":"@justinleet comments addressed, let me know if there's anything else.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275390631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275390953","html_url":"https://github.com/apache/metron/pull/421#issuecomment-275390953","issue_url":"https://api.github.com/repos/apache/metron/issues/421","id":275390953,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTM5MDk1Mw==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-26T13:44:03Z","updated_at":"2017-01-26T13:44:03Z","author_association":"MEMBER","body":"+1 as well, great job, Justin.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275390953/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275391158","html_url":"https://github.com/apache/metron/pull/424#issuecomment-275391158","issue_url":"https://api.github.com/repos/apache/metron/issues/424","id":275391158,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTM5MTE1OA==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-26T13:45:01Z","updated_at":"2017-01-26T13:45:01Z","author_association":"CONTRIBUTOR","body":"Thanks again for this.  I'm +1 on it.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275391158/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275399900","html_url":"https://github.com/apache/metron/pull/421#issuecomment-275399900","issue_url":"https://api.github.com/repos/apache/metron/issues/421","id":275399900,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTM5OTkwMA==","user":{"login":"dlyle65535","id":3439113,"node_id":"MDQ6VXNlcjM0MzkxMTM=","avatar_url":"https://avatars.githubusercontent.com/u/3439113?v=4","gravatar_id":"","url":"https://api.github.com/users/dlyle65535","html_url":"https://github.com/dlyle65535","followers_url":"https://api.github.com/users/dlyle65535/followers","following_url":"https://api.github.com/users/dlyle65535/following{/other_user}","gists_url":"https://api.github.com/users/dlyle65535/gists{/gist_id}","starred_url":"https://api.github.com/users/dlyle65535/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlyle65535/subscriptions","organizations_url":"https://api.github.com/users/dlyle65535/orgs","repos_url":"https://api.github.com/users/dlyle65535/repos","events_url":"https://api.github.com/users/dlyle65535/events{/privacy}","received_events_url":"https://api.github.com/users/dlyle65535/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-26T14:23:56Z","updated_at":"2017-01-26T14:23:56Z","author_association":"CONTRIBUTOR","body":"Ditto +1. Thanks for all the hard work!","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275399900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275412213","html_url":"https://github.com/apache/metron/pull/421#issuecomment-275412213","issue_url":"https://api.github.com/repos/apache/metron/issues/421","id":275412213,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTQxMjIxMw==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-26T15:10:23Z","updated_at":"2017-01-26T15:10:23Z","author_association":"CONTRIBUTOR","body":"@cestella @dlyle65535 @nickwallen I added one more change to `EnrichmentIntegrationTest` to not create and destroy some tmp stuff that's not being used in the test.  Let me know if there's any concerns.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275412213/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275418847","html_url":"https://github.com/apache/metron/pull/405#issuecomment-275418847","issue_url":"https://api.github.com/repos/apache/metron/issues/405","id":275418847,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTQxODg0Nw==","user":{"login":"dlyle65535","id":3439113,"node_id":"MDQ6VXNlcjM0MzkxMTM=","avatar_url":"https://avatars.githubusercontent.com/u/3439113?v=4","gravatar_id":"","url":"https://api.github.com/users/dlyle65535","html_url":"https://github.com/dlyle65535","followers_url":"https://api.github.com/users/dlyle65535/followers","following_url":"https://api.github.com/users/dlyle65535/following{/other_user}","gists_url":"https://api.github.com/users/dlyle65535/gists{/gist_id}","starred_url":"https://api.github.com/users/dlyle65535/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlyle65535/subscriptions","organizations_url":"https://api.github.com/users/dlyle65535/orgs","repos_url":"https://api.github.com/users/dlyle65535/repos","events_url":"https://api.github.com/users/dlyle65535/events{/privacy}","received_events_url":"https://api.github.com/users/dlyle65535/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-26T15:33:59Z","updated_at":"2017-01-26T15:33:59Z","author_association":"CONTRIBUTOR","body":"Yup, please change the other 3 and we'll get this in, thanks!","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275418847/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275418962","html_url":"https://github.com/apache/metron/pull/405#issuecomment-275418962","issue_url":"https://api.github.com/repos/apache/metron/issues/405","id":275418962,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTQxODk2Mg==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-26T15:34:22Z","updated_at":"2017-01-26T15:34:22Z","author_association":"CONTRIBUTOR","body":"Hi, thanks for the contribution! Per Matt's comments, we do require Python 2.7. I don't believe that's in our main README, but it is listed in our deployment READMEs, e.g. https://github.com/apache/incubator-metron/tree/master/metron-deployment/vagrant/quick-dev-platform\r\n\r\nThat being said, we have made this exact fix/change in other files in the Ambari installation code and it should be here as well. Also agreed with Matt's comments about the other 3 braces.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275418962/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275431876","html_url":"https://github.com/apache/metron/pull/421#issuecomment-275431876","issue_url":"https://api.github.com/repos/apache/metron/issues/421","id":275431876,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTQzMTg3Ng==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-26T16:17:29Z","updated_at":"2017-01-26T16:17:29Z","author_association":"CONTRIBUTOR","body":"+1 looks good","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275431876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275431928","html_url":"https://github.com/apache/metron/pull/421#issuecomment-275431928","issue_url":"https://api.github.com/repos/apache/metron/issues/421","id":275431928,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTQzMTkyOA==","user":{"login":"dlyle65535","id":3439113,"node_id":"MDQ6VXNlcjM0MzkxMTM=","avatar_url":"https://avatars.githubusercontent.com/u/3439113?v=4","gravatar_id":"","url":"https://api.github.com/users/dlyle65535","html_url":"https://github.com/dlyle65535","followers_url":"https://api.github.com/users/dlyle65535/followers","following_url":"https://api.github.com/users/dlyle65535/following{/other_user}","gists_url":"https://api.github.com/users/dlyle65535/gists{/gist_id}","starred_url":"https://api.github.com/users/dlyle65535/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlyle65535/subscriptions","organizations_url":"https://api.github.com/users/dlyle65535/orgs","repos_url":"https://api.github.com/users/dlyle65535/repos","events_url":"https://api.github.com/users/dlyle65535/events{/privacy}","received_events_url":"https://api.github.com/users/dlyle65535/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-26T16:17:41Z","updated_at":"2017-01-26T16:17:41Z","author_association":"CONTRIBUTOR","body":"Still +1 @justinleet - thanks for checking.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275431928/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275432064","html_url":"https://github.com/apache/metron/pull/421#issuecomment-275432064","issue_url":"https://api.github.com/repos/apache/metron/issues/421","id":275432064,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTQzMjA2NA==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-26T16:18:06Z","updated_at":"2017-01-26T16:18:06Z","author_association":"MEMBER","body":"reaffirmed +1","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275432064/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275432920","html_url":"https://github.com/apache/metron/pull/405#issuecomment-275432920","issue_url":"https://api.github.com/repos/apache/metron/issues/405","id":275432920,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTQzMjkyMA==","user":{"login":"dlyle65535","id":3439113,"node_id":"MDQ6VXNlcjM0MzkxMTM=","avatar_url":"https://avatars.githubusercontent.com/u/3439113?v=4","gravatar_id":"","url":"https://api.github.com/users/dlyle65535","html_url":"https://github.com/dlyle65535","followers_url":"https://api.github.com/users/dlyle65535/followers","following_url":"https://api.github.com/users/dlyle65535/following{/other_user}","gists_url":"https://api.github.com/users/dlyle65535/gists{/gist_id}","starred_url":"https://api.github.com/users/dlyle65535/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlyle65535/subscriptions","organizations_url":"https://api.github.com/users/dlyle65535/orgs","repos_url":"https://api.github.com/users/dlyle65535/repos","events_url":"https://api.github.com/users/dlyle65535/events{/privacy}","received_events_url":"https://api.github.com/users/dlyle65535/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-26T16:21:11Z","updated_at":"2017-01-26T16:21:11Z","author_association":"CONTRIBUTOR","body":"Here's a fun fact- quick-dev uses 2.6.6. Had to make this exact change while unifying Ansible with the MPack, so if nothing else, we'll get it there. Still I'd like @DimDroll to get the deserved credit, so I'd be happy for this one to get there first.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275432920/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275443886","html_url":"https://github.com/apache/metron/pull/423#issuecomment-275443886","issue_url":"https://api.github.com/repos/apache/metron/issues/423","id":275443886,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTQ0Mzg4Ng==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-26T16:57:38Z","updated_at":"2017-01-26T16:57:38Z","author_association":"CONTRIBUTOR","body":"So far, I have not been able to get the \"Zeppelin Dashboard Install\" mechanism to work. \r\n \r\nI am not aware of step-by-step instructions to use the MPack, but maybe I am missing them.  Thought it would be beneficial to document here since it took me a while to piece all this together.  Here is exactly what I did.  What did I do wrong?\r\n\r\n\r\n### Build\r\n\r\n* Build Metron\r\n```\r\ncd incubator-metron\r\nmvn clean package -DskipTests\r\n```\r\n\r\n* Start Docker on your build machine\r\n\r\n* Build Metron RPMs\r\n```\r\nmvn clean package -Dbuild-rpms -DskipTests\r\n```\r\n\r\n* Validate Metron RPMs\r\n```\r\n$ find ./ -name \"*.rpm\"\r\n.//metron-deployment/packaging/docker/rpm-docker/RPMS/noarch/metron-common-0.3.0-201701261504.noarch.rpm\r\n.//metron-deployment/packaging/docker/rpm-docker/RPMS/noarch/metron-data-management-0.3.0-201701261504.noarch.rpm\r\n.//metron-deployment/packaging/docker/rpm-docker/RPMS/noarch/metron-elasticsearch-0.3.0-201701261504.noarch.rpm\r\n.//metron-deployment/packaging/docker/rpm-docker/RPMS/noarch/metron-enrichment-0.3.0-201701261504.noarch.rpm\r\n.//metron-deployment/packaging/docker/rpm-docker/RPMS/noarch/metron-indexing-0.3.0-201701261504.noarch.rpm\r\n.//metron-deployment/packaging/docker/rpm-docker/RPMS/noarch/metron-parsers-0.3.0-201701261504.noarch.rpm\r\n.//metron-deployment/packaging/docker/rpm-docker/RPMS/noarch/metron-pcap-0.3.0-201701261504.noarch.rpm\r\n.//metron-deployment/packaging/docker/rpm-docker/RPMS/noarch/metron-profiler-0.3.0-201701261504.noarch.rpm\r\n.//metron-deployment/packaging/docker/rpm-docker/RPMS/noarch/metron-solr-0.3.0-201701261504.noarch.rpm\r\n.//metron-deployment/packaging/docker/rpm-docker/SRPMS/metron-0.3.0-201701261504.src.rpm\r\n```\r\n\r\n* Build Ambari MPack\r\n```\r\ncd metron-deployment\r\nmvn clean package\r\n```\r\n\r\n* Validate Ambari MPack\r\n```\r\n$ find . -name \"*mpack*.tar.gz\"\r\n./packaging/ambari/metron-mpack/target/metron_mpack-1.0.0.0-SNAPSHOT.tar.gz\r\n```\r\n\r\n### Create Test VM\r\n\r\n* Launch Vagrant and install Ambari only\r\n```\r\ncd metron-deployment/vagrant/quick-dev\r\nvagrant --ansible-tags=ambari up\r\n```\r\n\r\n* Copy Artifacts to VM\r\n```\r\nscp incubator-metron/metron-deployment/packaging/docker/rpm-docker/target/RPMS/noarch/*.rpm vagrant@node1:/tmp\r\nscp incubator-metron/metron-deploment/packaging/ambari/metron-mpack/target/metron_mpack-1.0.0.0-SNAPSHOT.tar.gz vagrant@node1:/tmp\r\n```\r\n\r\n* Prepare RPMS\r\n```\r\nvagrant ssh\r\nsudo su -\r\nmkdir /localrepo\r\ncp /tmp/metron*.rpm /localrepo\r\n```\r\n\r\n### Install Ambari MPack\r\n\r\n* Install MPack\r\n```\r\nambari-server install-mpack --mpack=/tmp/metron_mpack-1.0.0.0-SNAPSHOT.tar.gz --verbose\r\nservice ambari-server restart\r\n```\r\n\r\n### Deploy Metron with MPack\r\n\r\n* You may need to clear the browser cache to see the additional options installed by the MPack.\r\n\r\n* Login to Ambari at http://node1:8080\r\n\r\n* Click Add Services\r\n\r\n* Select \"Metron\" and then continue the install\r\n\r\n* SUCCESS!  Validated that I was prompted to install Zeppelin and Spark as dependencies\r\n\r\n### Install Zeppelin Notebooks\r\n\r\n* Create a Zeppelin notebook and drop it at `/usr/metron/0.3.0/zeppelin/`.\r\n\r\n* In Ambari, Click Metron > Service Actions > Zeppelin Dashboard Install.  \r\n\r\n* This is what I see from the Ambari status window.\r\n```\r\n2017-01-26 16:45:29,926 - The hadoop conf dir /usr/hdp/current/hadoop-client/conf exists, will call conf-select on it for version 2.5.0.0-1245\r\n2017-01-26 16:45:29,926 - Checking if need to create versioned conf dir /etc/hadoop/2.5.0.0-1245/0\r\n2017-01-26 16:45:29,927 - call[('ambari-python-wrap', '/usr/bin/conf-select', 'create-conf-dir', '--package', 'hadoop', '--stack-version', '2.5.0.0-1245', '--conf-version', '0')] {'logoutput': False, 'sudo': True, 'quiet': False, 'stderr': -1}\r\n2017-01-26 16:45:29,947 - call returned (1, '/etc/hadoop/2.5.0.0-1245/0 exist already', '')\r\n2017-01-26 16:45:29,948 - checked_call[('ambari-python-wrap', '/usr/bin/conf-select', 'set-conf-dir', '--package', 'hadoop', '--stack-version', '2.5.0.0-1245', '--conf-version', '0')] {'logoutput': False, 'sudo': True, 'quiet': False}\r\n2017-01-26 16:45:29,968 - checked_call returned (0, '')\r\n2017-01-26 16:45:29,972 - Ensuring that hadoop has the correct symlink structure\r\n2017-01-26 16:45:29,972 - Using hadoop conf dir: /usr/hdp/current/hadoop-client/conf\r\n\r\nCommand completed successfully!\r\n```\r\n\r\n* FAILURE! I then go to Zeppelin at `http://node1:9995/` and search for the notebook.  The Notebook does not seem to be installed.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275443886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275460506","html_url":"https://github.com/apache/metron/pull/425#issuecomment-275460506","issue_url":"https://api.github.com/repos/apache/metron/issues/425","id":275460506,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTQ2MDUwNg==","user":{"login":"mattf-apache","id":908957,"node_id":"MDQ6VXNlcjkwODk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/908957?v=4","gravatar_id":"","url":"https://api.github.com/users/mattf-apache","html_url":"https://github.com/mattf-apache","followers_url":"https://api.github.com/users/mattf-apache/followers","following_url":"https://api.github.com/users/mattf-apache/following{/other_user}","gists_url":"https://api.github.com/users/mattf-apache/gists{/gist_id}","starred_url":"https://api.github.com/users/mattf-apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattf-apache/subscriptions","organizations_url":"https://api.github.com/users/mattf-apache/orgs","repos_url":"https://api.github.com/users/mattf-apache/repos","events_url":"https://api.github.com/users/mattf-apache/events{/privacy}","received_events_url":"https://api.github.com/users/mattf-apache/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-26T17:55:20Z","updated_at":"2017-01-26T17:55:20Z","author_association":"MEMBER","body":"Thanks, @dlyle65535 .  Couple more comments:\r\n\r\n- Also included is the small change proposed in METRON-641 to use {0} instead of {} in python format strings in kibana_master.py.  It shouldn't be necessary for Python 2.7, but these are the only usages of the 2.7 behavior, and there's no harm in making it also work with Python 2.6.\r\n\r\n- The biggest deficiency, as far as I'm concerned, is the need to use a different, sparser template for a single-node \"elasticsearch.master.yaml.j2\".  Presumably only one or two of the removed parameters are actually a problem, and presumably even those don't really have to be removed but simply need a different value.  But it looked like a big job to figure out.  Perhaps someone more familiar with Elasticsearch would be able to solve it.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275460506/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275466064","html_url":"https://github.com/apache/metron/pull/423#issuecomment-275466064","issue_url":"https://api.github.com/repos/apache/metron/issues/423","id":275466064,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTQ2NjA2NA==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-26T18:15:17Z","updated_at":"2017-01-26T18:15:17Z","author_association":"CONTRIBUTOR","body":"I had the wrong directory.  If I put a Notebook in `/usr/metron/0.3.0/config/zeppelin/` then it works properly.  Nice!\r\n\r\n```\r\n2017-01-26 18:12:53,238 - The hadoop conf dir /usr/hdp/current/hadoop-client/conf exists, will call conf-select on it for version 2.5.0.0-1245\r\n2017-01-26 18:12:53,238 - Checking if need to create versioned conf dir /etc/hadoop/2.5.0.0-1245/0\r\n2017-01-26 18:12:53,240 - call[('ambari-python-wrap', '/usr/bin/conf-select', 'create-conf-dir', '--package', 'hadoop', '--stack-version', '2.5.0.0-1245', '--conf-version', '0')] {'logoutput': False, 'sudo': True, 'quiet': False, 'stderr': -1}\r\n2017-01-26 18:12:53,273 - call returned (1, '/etc/hadoop/2.5.0.0-1245/0 exist already', '')\r\n2017-01-26 18:12:53,273 - checked_call[('ambari-python-wrap', '/usr/bin/conf-select', 'set-conf-dir', '--package', 'hadoop', '--stack-version', '2.5.0.0-1245', '--conf-version', '0')] {'logoutput': False, 'sudo': True, 'quiet': False}\r\n2017-01-26 18:12:53,295 - checked_call returned (0, '')\r\n2017-01-26 18:12:53,296 - Ensuring that hadoop has the correct symlink structure\r\n2017-01-26 18:12:53,296 - Using hadoop conf dir: /usr/hdp/current/hadoop-client/conf\r\n2017-01-26 18:12:53,299 - Execute['curl -s -XPOST http://node1:9995/api/notebook/import -d \"@/usr/metron/0.3.0/config/zeppelin/Metron - YAF Telemetry.json\"'] {'logoutput': True}\r\n{\"status\":\"CREATED\",\"message\":\"\",\"body\":\"2C88YEF19\"}\r\n\r\nCommand completed successfully!\r\n```","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275466064/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275470408","html_url":"https://github.com/apache/metron/pull/397#issuecomment-275470408","issue_url":"https://api.github.com/repos/apache/metron/issues/397","id":275470408,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTQ3MDQwOA==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-26T18:30:31Z","updated_at":"2017-01-26T18:30:31Z","author_association":"MEMBER","body":"@mmiklavc Can you please merge master in and commit this?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275470408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275496581","html_url":"https://github.com/apache/metron/pull/405#issuecomment-275496581","issue_url":"https://api.github.com/repos/apache/metron/issues/405","id":275496581,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTQ5NjU4MQ==","user":{"login":"mattf-apache","id":908957,"node_id":"MDQ6VXNlcjkwODk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/908957?v=4","gravatar_id":"","url":"https://api.github.com/users/mattf-apache","html_url":"https://github.com/mattf-apache","followers_url":"https://api.github.com/users/mattf-apache/followers","following_url":"https://api.github.com/users/mattf-apache/following{/other_user}","gists_url":"https://api.github.com/users/mattf-apache/gists{/gist_id}","starred_url":"https://api.github.com/users/mattf-apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattf-apache/subscriptions","organizations_url":"https://api.github.com/users/mattf-apache/orgs","repos_url":"https://api.github.com/users/mattf-apache/repos","events_url":"https://api.github.com/users/mattf-apache/events{/privacy}","received_events_url":"https://api.github.com/users/mattf-apache/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-26T20:00:10Z","updated_at":"2017-01-26T20:00:10Z","author_association":"MEMBER","body":"> I'd like @DimDroll to get the deserved credit\r\n\r\nExactly, @DimDroll please spin a quick update.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275496581/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275504168","html_url":"https://github.com/apache/metron/pull/423#issuecomment-275504168","issue_url":"https://api.github.com/repos/apache/metron/issues/423","id":275504168,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTUwNDE2OA==","user":{"login":"mattf-apache","id":908957,"node_id":"MDQ6VXNlcjkwODk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/908957?v=4","gravatar_id":"","url":"https://api.github.com/users/mattf-apache","html_url":"https://github.com/mattf-apache","followers_url":"https://api.github.com/users/mattf-apache/followers","following_url":"https://api.github.com/users/mattf-apache/following{/other_user}","gists_url":"https://api.github.com/users/mattf-apache/gists{/gist_id}","starred_url":"https://api.github.com/users/mattf-apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattf-apache/subscriptions","organizations_url":"https://api.github.com/users/mattf-apache/orgs","repos_url":"https://api.github.com/users/mattf-apache/repos","events_url":"https://api.github.com/users/mattf-apache/events{/privacy}","received_events_url":"https://api.github.com/users/mattf-apache/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-26T20:28:47Z","updated_at":"2017-01-26T20:49:34Z","author_association":"MEMBER","body":"@nickwallen , glad you got it working.  Just BTW, the [wiki page](https://cwiki.apache.org/confluence/display/METRON/Metron+with+HDP+2.5+bare-metal+install) recently posted by Dima Kovalyov ( @DimDroll ) has fairly detailed step-by-step instructions for Ambari install, which it looks like you pretty well replicated.  It will need updating after @dlyle65535 commits the stuff from METRON-609 and METRON-634 (see PR#425).\r\n\r\nWould be great if you or @justinleet add the Zeppelin steps to that wiki page :-)","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275504168/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275506517","html_url":"https://github.com/apache/metron/pull/425#issuecomment-275506517","issue_url":"https://api.github.com/repos/apache/metron/issues/425","id":275506517,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTUwNjUxNw==","user":{"login":"dlyle65535","id":3439113,"node_id":"MDQ6VXNlcjM0MzkxMTM=","avatar_url":"https://avatars.githubusercontent.com/u/3439113?v=4","gravatar_id":"","url":"https://api.github.com/users/dlyle65535","html_url":"https://github.com/dlyle65535","followers_url":"https://api.github.com/users/dlyle65535/followers","following_url":"https://api.github.com/users/dlyle65535/following{/other_user}","gists_url":"https://api.github.com/users/dlyle65535/gists{/gist_id}","starred_url":"https://api.github.com/users/dlyle65535/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlyle65535/subscriptions","organizations_url":"https://api.github.com/users/dlyle65535/orgs","repos_url":"https://api.github.com/users/dlyle65535/repos","events_url":"https://api.github.com/users/dlyle65535/events{/privacy}","received_events_url":"https://api.github.com/users/dlyle65535/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-26T20:38:23Z","updated_at":"2017-01-26T20:38:23Z","author_association":"CONTRIBUTOR","body":"I think I can collapse both templates into 1, at least that's what I was thinking.\r\n\r\nJust so you're aware @mattf-horton (and other interested parties). I've got a [METRON-671](https://issues.apache.org/jira/browse/METRON-671) PR coming out in the few days. It addresses a small subset of this changeset (METRON-641) and a few templating issues that will allow us to run on 1 node or 3+ nodes. It turns out, those were the only working configurations under Ansible automation. \r\n\r\nImmediately after that, I want to get this change incorporated, so I'll be testing it on the branch that deploys with Ansible using the MPack.\r\n\r\nI'm using that order so that we can accelerate the path to using the MPack in Ansible. Otherwise, we'll keep having changes in the Ansible aren't reflected in the MPack.\r\n\r\nPlease let me know if that approach makes sense or if there are any concerns.\r\n\r\nThanks!","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275506517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275513814","html_url":"https://github.com/apache/metron/pull/425#issuecomment-275513814","issue_url":"https://api.github.com/repos/apache/metron/issues/425","id":275513814,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTUxMzgxNA==","user":{"login":"mattf-apache","id":908957,"node_id":"MDQ6VXNlcjkwODk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/908957?v=4","gravatar_id":"","url":"https://api.github.com/users/mattf-apache","html_url":"https://github.com/mattf-apache","followers_url":"https://api.github.com/users/mattf-apache/followers","following_url":"https://api.github.com/users/mattf-apache/following{/other_user}","gists_url":"https://api.github.com/users/mattf-apache/gists{/gist_id}","starred_url":"https://api.github.com/users/mattf-apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattf-apache/subscriptions","organizations_url":"https://api.github.com/users/mattf-apache/orgs","repos_url":"https://api.github.com/users/mattf-apache/repos","events_url":"https://api.github.com/users/mattf-apache/events{/privacy}","received_events_url":"https://api.github.com/users/mattf-apache/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-26T21:07:05Z","updated_at":"2017-01-26T21:07:05Z","author_association":"MEMBER","body":"@dlyle65535 , makes sense to me.  METRON-671 is very important for rationalizing our install scenarios, and clearly these fixes can be pipelined as you describe.  I'm super glad you're picking these up.\r\n\r\nFYI, the METRON-634 fixes included here have all been proven out in my single-node installer, which I've used quite a bit over the past month. Also, all but the last 2 of the 12 items \"not affecting the Ambari database\" are bug fixes, not enhancements, without which some piece or other of the ES installation doesn't work correctly in today's Mpack, at least with Centos7. ","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275513814/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275526787","html_url":"https://github.com/apache/metron/pull/426#issuecomment-275526787","issue_url":"https://api.github.com/repos/apache/metron/issues/426","id":275526787,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTUyNjc4Nw==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-26T21:56:59Z","updated_at":"2017-01-26T21:56:59Z","author_association":"MEMBER","body":"Testing Instructions beyond the normal smoke test (i.e. letting data\r\nflow through to the indices and checking them).\r\n\r\n## Preliminaries\r\n\r\nIt is helpful to install the elasticsearch head plugin:\r\n* `/usr/share/elasticsearch/bin/plugin install mobz/elasticsearch-head`\r\n\r\nAlso, set an environment variable to indicate `METRON_HOME`:\r\n* `export METRON_HOME=/usr/metron/0.3.0` \r\n\r\n## Adjust configs to Bro\r\nWe will adjust the bro topology to have a couple of threat triage rules:\r\n* Edit `$METRON_HOME/config/zookeeper/enrichment/bro.json` as follows:\r\n```\r\n{\r\n  \"enrichment\" : {\r\n    \"fieldMap\": {\r\n      \"geo\": [\"ip_dst_addr\", \"ip_src_addr\"],\r\n      \"host\": [\"host\"]\r\n    }\r\n  },\r\n  \"threatIntel\": {\r\n    \"fieldMap\": {\r\n      \"hbaseThreatIntel\": [\"ip_src_addr\", \"ip_dst_addr\"],\r\n      \"stellar\" : {\r\n          \"config\" : {\r\n             \"is_alert\" : \"ip_dst_port == 80 or ip_dst_port == 5353\"\r\n                     }\r\n                  }\r\n    },\r\n    \"fieldToTypeMap\": {\r\n      \"ip_src_addr\" : [\"malicious_ip\"],\r\n      \"ip_dst_addr\" : [\"malicious_ip\"]\r\n    },\r\n    \"triageConfig\" : {\r\n       \"riskLevelRules\" : [\r\n              {\r\n                 \"name\" : \"web\",\r\n                 \"comment\" : \"Bump risk if web connection\",\r\n                 \"rule\" : \"ip_dst_port == 80\",\r\n                 \"score\" : 10\r\n              },\r\n              {\r\n                 \"name\" : \"dns\",\r\n                 \"comment\" : \"Bump risk if dns connection\",\r\n                 \"rule\" : \"ip_dst_port == 5353\",\r\n                 \"score\" : 20\r\n              }\r\n                          ],\r\n       \"aggregator\" : \"MAX\"\r\n                     }\r\n  }\r\n}\r\n```\r\n\r\nThis should create 2 rules:\r\n* set the triage level to 20 if the destination port is a DNS port\r\n* set the triage level to 10 if the destination port is a web port\r\n\r\nEnsure via the elasticsearch head plugin that the following is true:\r\n* All bro messages with `is_alert == true` and `ip_dst_port == 5353` have a `threat:triage:level` of 20\r\n* All bro messages with `is_alert == true` and `threat:triage:level == 20` have a `ip_dst_port` of 20\r\n* All bro messages with `is_alert == true` and `ip_dst_port == 80` have a `threat:triage:level` of 10\r\n* All bro messages with `is_alert == true` and `threat:triage:level == 10` have a `ip_dst_port` of 10\r\n\r\n### Test Case: Stellar Management Functions\r\n* Upload the management functions via `scp metron-platform/metron-management/target/metron-management-0.3.0.jar root@node1:/usr/metron/0.3.0/lib`\r\n* Create a file with the following contents named `~/script.stellar`\r\n```\r\n# First we get the squid enrichment config from zookeeper.\r\n# If it is not there, which it is not by default, a suitable default\r\n# config will be specified.\r\nsquid_enrichment_config := CONFIG_GET('ENRICHMENT', 'squid')\r\n# We should not have any threat triage rules\r\nTHREAT_TRIAGE_PRINT(squid_enrichment_config)\r\n# Just for illustration, we can create a threat alert if the country of the domain registered\r\n# is non-US, then we can make an alert.  To do that, we need to create an is_alert field on the message.\r\n#\r\n# I know that maps get folded into the message, so that whois_info enrichment is going to create a few fields:\r\n#  * domain mapped to whois_info.domain\r\n#  * registrar mapped to whois_info.registrar\r\n#  * home_country mapped to whois_info.home_country\r\n#  * owner mapped to whois_info.owner\r\nwhois_info.home_country := 'US'\r\n# Now with this, we can create a rule or two to triage these alerts.\r\n# This means associating a rule as described by a stellar expression that returns true or false with a score\r\n# Also associated with this ruleset is an aggregation function, the default of which is MAX.\r\n# Now we can make a couple rules:\r\n#  * If the message is an alert and from a non-us whois source, we can set the level to 10\r\n#  * If the message is an alert and non-local, we can set the level to 20\r\n#  * If the message is an alert and both non-local and non-us, then we can set the level to 50\r\n# If multiple rules hit, then we should take the max (default behavior)\r\nnon_us := whois_info.home_country != 'US'\r\nis_local := IN_SUBNET( if IS_IP(ip_src_addr) then ip_src_addr else NULL, '192.168.0.0/21')\r\nis_both := whois_info.home_country != 'US' && IN_SUBNET( if IS_IP(ip_src_addr) then ip_src_addr else NULL, '192.168.0.0/21')\r\nrules := [ { 'name' : 'is non-us', 'rule' : SHELL_GET_EXPRESSION('non_us'), 'score' : 10 } , { 'name' : 'is local', 'rule' : SHELL_GET_EXPRESSION('is_local'), 'score' : 20 } , { 'name' : 'both non-us and local', 'comment' : 'union of both rules.',  'rule' : SHELL_GET_EXPRESSION('is_both'), 'score' : 50 } ]\r\n# Now that we have our rules staged, we can add them to our config.\r\nsquid_enrichment_config_new := THREAT_TRIAGE_ADD( squid_enrichment_config_new, rules )\r\n# Pretty Print the rules\r\nTHREAT_TRIAGE_PRINT(squid_enrichment_config_new)\r\n# Now just print the raw config to make sure it jives\r\nsquid_enrichment_config_new\r\n# Now that we have admired it, we can remove the rules\r\nsquid_enrichment_config_new := THREAT_TRIAGE_REMOVE( squid_enrichment_config_new, [ SHELL_GET_EXPRESSION('non_us') , SHELL_GET_EXPRESSION('is_local') , SHELL_GET_EXPRESSION('is_both') ] )\r\nTHREAT_TRIAGE_PRINT(squid_enrichment_config_new)\r\n```\r\n* Execute the script via `cat script.stellar | /usr/metron/0.3.0/bin/stellar -z node1 -na` You should see the following output:\r\n```\r\nStellar, Go!\r\nPlease note that functions are loading lazily in the background and will be unavailable until loaded fully.\r\n{es.clustername=metron, es.ip=node1, es.port=9300, es.date.format=yyyy.MM.dd.HH}\r\n[Stellar]>>> # First we get the squid enrichment config from zookeeper.\r\n[Stellar]>>> # If it is not there, which it is not by default, a suitable default\r\n[Stellar]>>> # config will be specified.\r\n[Stellar]>>> squid_enrichment_config := CONFIG_GET('ENRICHMENT', 'squid')\r\nFunctions loaded, you may refer to functions now...\r\n[Stellar]>>> # We should not have any threat triage rules\r\n[Stellar]>>> THREAT_TRIAGE_PRINT(squid_enrichment_config)\r\n╔══════╤═════════╤═════════════╤═══════╗\r\n║ Name │ Comment │ Triage Rule │ Score ║\r\n╠══════╧═════════╧═════════════╧═══════╣\r\n║ (empty)                              ║\r\n╚══════════════════════════════════════╝\r\n\r\n[Stellar]>>> # Just for illustration, we can create a threat alert if the country of the domain registered\r\n[Stellar]>>> # is non-US, then we can make an alert.  To do that, we need to create an is_alert field on the message.\r\n[Stellar]>>> #\r\n[Stellar]>>> # I know that maps get folded into the message, so that whois_info enrichment is going to create a few fields:\r\n[Stellar]>>> #  * domain mapped to whois_info.domain\r\n[Stellar]>>> #  * registrar mapped to whois_info.registrar\r\n[Stellar]>>> #  * home_country mapped to whois_info.home_country\r\n[Stellar]>>> #  * owner mapped to whois_info.owner\r\n[Stellar]>>> whois_info.home_country := 'US'\r\n[Stellar]>>> # Now with this, we can create a rule or two to triage these alerts.\r\n[Stellar]>>> # This means associating a rule as described by a stellar expression that returns true or false with a score\r\n[Stellar]>>> # Also associated with this ruleset is an aggregation function, the default of which is MAX.\r\n[Stellar]>>> # Now we can make a couple rules:\r\n[Stellar]>>> #  * If the message is an alert and from a non-us whois source, we can set the level to 10\r\n[Stellar]>>> #  * If the message is an alert and non-local, we can set the level to 20\r\n[Stellar]>>> #  * If the message is an alert and both non-local and non-us, then we can set the level to 50\r\n[Stellar]>>> # If multiple rules hit, then we should take the max (default behavior)\r\n[Stellar]>>> non_us := whois_info.home_country != 'US'\r\n[Stellar]>>> is_local := IN_SUBNET( if IS_IP(ip_src_addr) then ip_src_addr else NULL, '192.168.0.0/21')\r\n[Stellar]>>> is_both := whois_info.home_country != 'US' && IN_SUBNET( if IS_IP(ip_src_addr) then ip_src_addr else NULL, '192.168.0.0/21')\r\n[Stellar]>>> rules := [ { 'name' : 'is non-us', 'rule' : SHELL_GET_EXPRESSION('non_us'), 'score' : 10 } , { 'name' : 'is local', 'rule' : SHELL_GET_EXPRESSION('is_local '), 'score' : 20 } , { 'name' : 'both non-us and local', 'comment' : 'union of both rules.',  'rule' : SHELL_GET_EXPRESSION('is_both'), 'score' : 50 } ]\r\n[Stellar]>>> # Now that we have our rules staged, we can add them to our config.\r\n[Stellar]>>> squid_enrichment_config_new := THREAT_TRIAGE_ADD( squid_enrichment_config_new, rules )\r\n[Stellar]>>> # Pretty Print the rules\r\n[Stellar]>>> THREAT_TRIAGE_PRINT(squid_enrichment_config_new)\r\n╔═══════════════════════╤══════════════════════╤═══════════════════════════════════════════════════════════════════════════════════════════════════════════════════╤═══════╗\r\n║ Name                  │ Comment              │ Triage Rule                                                                                                       │ Score ║\r\n╠═══════════════════════╪══════════════════════╪═══════════════════════════════════════════════════════════════════════════════════════════════════════════════════╪═══════╣\r\n║ is non-us             │                      │ whois_info.home_country != 'US'                                                                                   │ 10    ║\r\n╟───────────────────────┼──────────────────────┼───────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼───────╢\r\n║ is local              │                      │ IN_SUBNET( if IS_IP(ip_src_addr) then ip_src_addr else NULL, '192.168.0.0/21')                                    │ 20    ║\r\n╟───────────────────────┼──────────────────────┼───────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼───────╢\r\n║ both non-us and local │ union of both rules. │ whois_info.home_country != 'US' && IN_SUBNET( if IS_IP(ip_src_addr) then ip_src_addr else NULL, '192.168.0.0/21') │ 50    ║\r\n╚═══════════════════════╧══════════════════════╧═══════════════════════════════════════════════════════════════════════════════════════════════════════════════════╧═══════╝\r\n\r\n\r\nAggregation: MAX\r\n[Stellar]>>> # Now just print the raw config to make sure it jives\r\n[Stellar]>>> squid_enrichment_config_new\r\n{\r\n  \"enrichment\" : {\r\n    \"fieldMap\" : { },\r\n    \"fieldToTypeMap\" : { },\r\n    \"config\" : { }\r\n  },\r\n  \"threatIntel\" : {\r\n    \"fieldMap\" : { },\r\n    \"fieldToTypeMap\" : { },\r\n    \"config\" : { },\r\n    \"triageConfig\" : {\r\n      \"riskLevelRules\" : [ {\r\n        \"name\" : \"is non-us\",\r\n        \"rule\" : \"whois_info.home_country != 'US'\",\r\n        \"score\" : 10.0\r\n      }, {\r\n        \"name\" : \"is local\",\r\n        \"rule\" : \"IN_SUBNET( if IS_IP(ip_src_addr) then ip_src_addr else NULL, '192.168.0.0/21')\",\r\n        \"score\" : 20.0\r\n      }, {\r\n        \"name\" : \"both non-us and local\",\r\n        \"comment\" : \"union of both rules.\",\r\n        \"rule\" : \"whois_info.home_country != 'US' && IN_SUBNET( if IS_IP(ip_src_addr) then ip_src_addr else NULL, '192.168.0.0/21')\",\r\n        \"score\" : 50.0\r\n      } ],\r\n      \"aggregator\" : \"MAX\",\r\n      \"aggregationConfig\" : { }\r\n    }\r\n  },\r\n  \"configuration\" : { }\r\n}\r\n[Stellar]>>> # Now that we have admired it, we can remove the rules\r\n[Stellar]>>> squid_enrichment_config_new := THREAT_TRIAGE_REMOVE( squid_enrichment_config_new, [ SHELL_GET_EXPRESSION('non_us') , SHELL_GET_EXPRESSION('is_local') , SHE LL_GET_EXPRESSION('is_both') ] )\r\n[Stellar]>>> THREAT_TRIAGE_PRINT(squid_enrichment_config_new)\r\n╔══════╤═════════╤═════════════╤═══════╗\r\n║ Name │ Comment │ Triage Rule │ Score ║\r\n╠══════╧═════════╧═════════════╧═══════╣\r\n║ (empty)                              ║\r\n╚══════════════════════════════════════╝\r\n\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275526787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275562269","html_url":"https://github.com/apache/metron/pull/425#issuecomment-275562269","issue_url":"https://api.github.com/repos/apache/metron/issues/425","id":275562269,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTU2MjI2OQ==","user":{"login":"mattf-apache","id":908957,"node_id":"MDQ6VXNlcjkwODk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/908957?v=4","gravatar_id":"","url":"https://api.github.com/users/mattf-apache","html_url":"https://github.com/mattf-apache","followers_url":"https://api.github.com/users/mattf-apache/followers","following_url":"https://api.github.com/users/mattf-apache/following{/other_user}","gists_url":"https://api.github.com/users/mattf-apache/gists{/gist_id}","starred_url":"https://api.github.com/users/mattf-apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattf-apache/subscriptions","organizations_url":"https://api.github.com/users/mattf-apache/orgs","repos_url":"https://api.github.com/users/mattf-apache/repos","events_url":"https://api.github.com/users/mattf-apache/events{/privacy}","received_events_url":"https://api.github.com/users/mattf-apache/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-27T01:02:50Z","updated_at":"2017-01-27T01:02:50Z","author_association":"MEMBER","body":"@dlyle65535 , I see that changes necessary to single-node, in slave.py and elastic_slave.py, were in my METRON-634 commit rather than the METRON-609 commit.  Sorry for the oversight.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275562269/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275672326","html_url":"https://github.com/apache/metron/pull/427#issuecomment-275672326","issue_url":"https://api.github.com/repos/apache/metron/issues/427","id":275672326,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTY3MjMyNg==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-27T14:05:41Z","updated_at":"2017-01-27T14:05:41Z","author_association":"CONTRIBUTOR","body":"@nickwallen #423 is in (and breaking the README here)","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275672326/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275717562","html_url":"https://github.com/apache/metron/pull/316#issuecomment-275717562","issue_url":"https://api.github.com/repos/apache/metron/issues/316","id":275717562,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTcxNzU2Mg==","user":{"login":"jjmeyer0","id":721593,"node_id":"MDQ6VXNlcjcyMTU5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/721593?v=4","gravatar_id":"","url":"https://api.github.com/users/jjmeyer0","html_url":"https://github.com/jjmeyer0","followers_url":"https://api.github.com/users/jjmeyer0/followers","following_url":"https://api.github.com/users/jjmeyer0/following{/other_user}","gists_url":"https://api.github.com/users/jjmeyer0/gists{/gist_id}","starred_url":"https://api.github.com/users/jjmeyer0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jjmeyer0/subscriptions","organizations_url":"https://api.github.com/users/jjmeyer0/orgs","repos_url":"https://api.github.com/users/jjmeyer0/repos","events_url":"https://api.github.com/users/jjmeyer0/events{/privacy}","received_events_url":"https://api.github.com/users/jjmeyer0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-27T17:06:07Z","updated_at":"2017-01-27T17:06:07Z","author_association":"CONTRIBUTOR","body":"@merrimanr looks like you will need to resolve some conflicts.\r\n\r\nAlso, I looked at this some more. It looks like there aren't many unit tests for the service layer. It seems like it's indirectly tested through the controllers, but I think there is still some benefit to having unit tests against the services themselves. Before I made this comment I wanted to work through an example, and I created a test for `KafkaServiceImpl`. If you want to see that I'd be more than glad to share. Otherwise, I was just thinking we could inject all dependencies as mocks using PowerMock or Mockito. Then continue to test normally. This takes things like spring and any external system out of the picture and focuses just on the implementation of the services.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275717562/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275730126","html_url":"https://github.com/apache/metron/pull/427#issuecomment-275730126","issue_url":"https://api.github.com/repos/apache/metron/issues/427","id":275730126,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTczMDEyNg==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-27T17:57:44Z","updated_at":"2017-01-27T17:57:44Z","author_association":"CONTRIBUTOR","body":"Here are the links to screen captures of what the dashboard looks-like.\r\n* [Report, read-only mode](https://issues.apache.org/jira/secure/attachment/12849721/Metron%20-%20YAF%20Telemetry%20-%20Report%20Mode.png)\r\n* [Edit mode](https://issues.apache.org/jira/secure/attachment/12849578/Metron%20-%20YAF%20Telemetry.png)","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275730126/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275788471","html_url":"https://github.com/apache/metron/pull/316#issuecomment-275788471","issue_url":"https://api.github.com/repos/apache/metron/issues/316","id":275788471,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTc4ODQ3MQ==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-27T22:08:10Z","updated_at":"2017-01-27T22:08:10Z","author_association":"CONTRIBUTOR","body":"Conflict is resolved","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275788471/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275803354","html_url":"https://github.com/apache/metron/pull/428#issuecomment-275803354","issue_url":"https://api.github.com/repos/apache/metron/issues/428","id":275803354,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTgwMzM1NA==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-27T23:35:59Z","updated_at":"2017-01-28T05:28:03Z","author_association":"MEMBER","body":"# Testing Plan\r\n\r\n## Preliminaries\r\n\r\n* Download the alexa 1m dataset:\r\n```\r\nwget http://s3.amazonaws.com/alexa-static/top-1m.csv.zip\r\nunzip top-1m.csv.zip\r\n```\r\n* Create a 100k and single entry selection:\r\n```\r\nhead -n 100000 top-1m.csv > top-100k.csv\r\nhead -n 1 top-1m.csv > top-1.csv\r\n```\r\n* Create an extractor.json for the CSV data by editing `extractor.json` and pasting in these contents:\r\n```\r\n{\r\n  \"config\" : {\r\n    \"columns\" : {\r\n       \"domain\" : 1,\r\n       \"rank\" : 0\r\n                }\r\n    ,\"indicator_column\" : \"domain\"\r\n    ,\"type\" : \"alexa\"\r\n    ,\"separator\" : \",\"\r\n             },\r\n  \"extractor\" : \"CSV\"\r\n}\r\n```\r\n## Verify 100k import with 5 threads:\r\n```\r\n# truncate hbase\r\necho \"truncate 'enrichment'\" | hbase shell\r\n# import data into hbase using 5 threads\r\n/usr/metron/0.3.0/bin/flatfile_loader.sh -i ./top-100k.csv -t enrichment -c t -e ./extractor.json -p 5 -b 128\r\n# count data written and verify it's 100k\r\necho \"count 'enrichment'\" | hbase shell\r\n```\r\n## Verify 100k import with 5 threads and a batch of 1000:\r\n```\r\n# truncate hbase\r\necho \"truncate 'enrichment'\" | hbase shell\r\n# import data into hbase using 5 threads\r\n/usr/metron/0.3.0/bin/flatfile_loader.sh -i ./top-100k.csv -t enrichment -c t -e ./extractor.json -p 5 -b 1000\r\n# count data written and verify it's 100k\r\necho \"count 'enrichment'\" | hbase shell\r\n```\r\n## Verify 100k import with 1 threads:\r\n```\r\n# truncate hbase\r\necho \"truncate 'enrichment'\" | hbase shell\r\n# import data into hbase using 5 threads\r\n/usr/metron/0.3.0/bin/flatfile_loader.sh -i ./top-100k.csv -t enrichment -c t -e ./extractor.json -p 1 -b 128\r\n# count data written and verify it's 100k\r\necho \"count 'enrichment'\" | hbase shell\r\n```\r\n## Verify 1 entry import with 5 threads:\r\n```\r\n# truncate hbase\r\necho \"truncate 'enrichment'\" | hbase shell\r\n# import data into hbase using 5 threads\r\n/usr/metron/0.3.0/bin/flatfile_loader.sh -i ./top-1.csv -t enrichment -c t -e ./extractor.json -p 5 -b 128\r\n# count data written and verify it's 1\r\necho \"count 'enrichment'\" | hbase shell\r\n```\r\n## Verify 1 entry import with 1 threads:\r\n```\r\n# truncate hbase\r\necho \"truncate 'enrichment'\" | hbase shell\r\n# import data into hbase using 5 threads\r\n/usr/metron/0.3.0/bin/flatfile_loader.sh -i ./top-1.csv -t enrichment -c t -e ./extractor.json -p 1 -b 128\r\n# count data written and verify it's 1\r\necho \"count 'enrichment'\" | hbase shell\r\n```","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275803354/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275803760","html_url":"https://github.com/apache/metron/pull/428#issuecomment-275803760","issue_url":"https://api.github.com/repos/apache/metron/issues/428","id":275803760,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTgwMzc2MA==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-27T23:38:44Z","updated_at":"2017-01-27T23:38:44Z","author_association":"MEMBER","body":"Note, the batch size is just the split size (number of lines processed in each split) for the spliterator.  The default of 128 is probably pretty good for almost all cases, I think.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275803760/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/275807655","html_url":"https://github.com/apache/metron/pull/428#issuecomment-275807655","issue_url":"https://api.github.com/repos/apache/metron/issues/428","id":275807655,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTgwNzY1NQ==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-28T00:06:49Z","updated_at":"2017-01-28T00:06:49Z","author_association":"MEMBER","body":"Just as a comment: on my vagrant box, importing the alexa 1m took 4 minutes with 6 threads and 14 minutes with 1 thread.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/275807655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/276051202","html_url":"https://github.com/apache/metron/pull/316#issuecomment-276051202","issue_url":"https://api.github.com/repos/apache/metron/issues/316","id":276051202,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjA1MTIwMg==","user":{"login":"jjmeyer0","id":721593,"node_id":"MDQ6VXNlcjcyMTU5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/721593?v=4","gravatar_id":"","url":"https://api.github.com/users/jjmeyer0","html_url":"https://github.com/jjmeyer0","followers_url":"https://api.github.com/users/jjmeyer0/followers","following_url":"https://api.github.com/users/jjmeyer0/following{/other_user}","gists_url":"https://api.github.com/users/jjmeyer0/gists{/gist_id}","starred_url":"https://api.github.com/users/jjmeyer0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jjmeyer0/subscriptions","organizations_url":"https://api.github.com/users/jjmeyer0/orgs","repos_url":"https://api.github.com/users/jjmeyer0/repos","events_url":"https://api.github.com/users/jjmeyer0/events{/privacy}","received_events_url":"https://api.github.com/users/jjmeyer0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-30T12:30:36Z","updated_at":"2017-01-30T12:30:36Z","author_association":"CONTRIBUTOR","body":"@merrimanr as we discussed, I created a PR against yours with some unit tests for the services. Let me know if you have any questions.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/276051202/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/276066082","html_url":"https://github.com/apache/metron/pull/427#issuecomment-276066082","issue_url":"https://api.github.com/repos/apache/metron/issues/427","id":276066082,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjA2NjA4Mg==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-30T13:46:13Z","updated_at":"2017-01-30T13:46:13Z","author_association":"CONTRIBUTOR","body":"@nickwallen Would it be reasonable to throw links to the screenshots onto the original discuss thread?\r\n\r\nI'm +1 (by inspection) on the actual implementation, but I'd really love to see other perspectives on this (and since I'm not an expert, I'm a little hesitant to just close this ticket out myself).","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/276066082/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/276068148","html_url":"https://github.com/apache/metron/pull/429#issuecomment-276068148","issue_url":"https://api.github.com/repos/apache/metron/issues/429","id":276068148,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjA2ODE0OA==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-30T13:55:54Z","updated_at":"2017-01-30T13:55:54Z","author_association":"CONTRIBUTOR","body":"This is a fantastic improvement to what we have, and even though I'm just starting to dig in, this looks really good.  I'll add any comments I have as I go through it, but this is great.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/276068148/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/276090319","html_url":"https://github.com/apache/metron/pull/429#issuecomment-276090319","issue_url":"https://api.github.com/repos/apache/metron/issues/429","id":276090319,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjA5MDMxOQ==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-30T15:21:17Z","updated_at":"2017-01-30T15:33:40Z","author_association":"CONTRIBUTOR","body":"Bullet points get a little weird in some places. (e.g. in the metron-maas-service README).  Looks like, if we don't have a newline before the first bullet, it looks like it just includes it as part of the previous sentence.  I found a few in the metron-maas-service README, but it wouldn't surprise me if more show up.\r\n\r\nSame actually applies to code blocks.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/276090319/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/276101146","html_url":"https://github.com/apache/metron/pull/429#issuecomment-276101146","issue_url":"https://api.github.com/repos/apache/metron/issues/429","id":276101146,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjEwMTE0Ng==","user":{"login":"JonZeolla","id":1385510,"node_id":"MDQ6VXNlcjEzODU1MTA=","avatar_url":"https://avatars.githubusercontent.com/u/1385510?v=4","gravatar_id":"","url":"https://api.github.com/users/JonZeolla","html_url":"https://github.com/JonZeolla","followers_url":"https://api.github.com/users/JonZeolla/followers","following_url":"https://api.github.com/users/JonZeolla/following{/other_user}","gists_url":"https://api.github.com/users/JonZeolla/gists{/gist_id}","starred_url":"https://api.github.com/users/JonZeolla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JonZeolla/subscriptions","organizations_url":"https://api.github.com/users/JonZeolla/orgs","repos_url":"https://api.github.com/users/JonZeolla/repos","events_url":"https://api.github.com/users/JonZeolla/events{/privacy}","received_events_url":"https://api.github.com/users/JonZeolla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-30T15:57:33Z","updated_at":"2017-01-30T16:15:35Z","author_association":"MEMBER","body":"Awesome stuff, I'm taking a look now.  \r\n\r\nRelated to @justinleet's comment, it looks like there's an issue with nesting ordered and unordered list.  An example is on the main `index.html` page - it looks like it's incorrectly ending the `<ol>` after \"Efficient information storage\" and starting a separate one before \"An interface that gives a security...\" where it should be a continuance of the first `<ol>`.  Still looking at things...\r\n\r\nAlso, regarding the bullet point issue, there is an example on the main page under \"Navigating the Architecture\", under metron-parsers, and I'm sure in various other locations.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/276101146/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/276168913","html_url":"https://github.com/apache/metron/pull/429#issuecomment-276168913","issue_url":"https://api.github.com/repos/apache/metron/issues/429","id":276168913,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjE2ODkxMw==","user":{"login":"mattf-apache","id":908957,"node_id":"MDQ6VXNlcjkwODk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/908957?v=4","gravatar_id":"","url":"https://api.github.com/users/mattf-apache","html_url":"https://github.com/mattf-apache","followers_url":"https://api.github.com/users/mattf-apache/followers","following_url":"https://api.github.com/users/mattf-apache/following{/other_user}","gists_url":"https://api.github.com/users/mattf-apache/gists{/gist_id}","starred_url":"https://api.github.com/users/mattf-apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattf-apache/subscriptions","organizations_url":"https://api.github.com/users/mattf-apache/orgs","repos_url":"https://api.github.com/users/mattf-apache/repos","events_url":"https://api.github.com/users/mattf-apache/events{/privacy}","received_events_url":"https://api.github.com/users/mattf-apache/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-30T19:45:18Z","updated_at":"2017-01-30T19:45:18Z","author_association":"MEMBER","body":"@justinleet and @JonZeolla , the issues you are describing with bullets and codeblocks sound like things I worked hard to fix, and they work on my system.  Please see new screenshot at https://issues.apache.org/jira/secure/attachment/12850028/METRON-660-screenshot2.png\r\n\r\nI'm running the re-writer under Mac OS X with GNU Awk version 4.1.1. Would you both please tell me what system you're running and what `awk --version` gives you?  Thanks.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/276168913/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/276169591","html_url":"https://github.com/apache/metron/pull/429#issuecomment-276169591","issue_url":"https://api.github.com/repos/apache/metron/issues/429","id":276169591,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjE2OTU5MQ==","user":{"login":"JonZeolla","id":1385510,"node_id":"MDQ6VXNlcjEzODU1MTA=","avatar_url":"https://avatars.githubusercontent.com/u/1385510?v=4","gravatar_id":"","url":"https://api.github.com/users/JonZeolla","html_url":"https://github.com/JonZeolla","followers_url":"https://api.github.com/users/JonZeolla/followers","following_url":"https://api.github.com/users/JonZeolla/following{/other_user}","gists_url":"https://api.github.com/users/JonZeolla/gists{/gist_id}","starred_url":"https://api.github.com/users/JonZeolla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JonZeolla/subscriptions","organizations_url":"https://api.github.com/users/JonZeolla/orgs","repos_url":"https://api.github.com/users/JonZeolla/repos","events_url":"https://api.github.com/users/JonZeolla/events{/privacy}","received_events_url":"https://api.github.com/users/JonZeolla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-30T19:47:32Z","updated_at":"2017-01-30T19:47:32Z","author_association":"MEMBER","body":"Mac 10.12.2, awk version 20070501","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/276169591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/276173975","html_url":"https://github.com/apache/metron/pull/429#issuecomment-276173975","issue_url":"https://api.github.com/repos/apache/metron/issues/429","id":276173975,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjE3Mzk3NQ==","user":{"login":"mattf-apache","id":908957,"node_id":"MDQ6VXNlcjkwODk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/908957?v=4","gravatar_id":"","url":"https://api.github.com/users/mattf-apache","html_url":"https://github.com/mattf-apache","followers_url":"https://api.github.com/users/mattf-apache/followers","following_url":"https://api.github.com/users/mattf-apache/following{/other_user}","gists_url":"https://api.github.com/users/mattf-apache/gists{/gist_id}","starred_url":"https://api.github.com/users/mattf-apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattf-apache/subscriptions","organizations_url":"https://api.github.com/users/mattf-apache/orgs","repos_url":"https://api.github.com/users/mattf-apache/repos","events_url":"https://api.github.com/users/mattf-apache/events{/privacy}","received_events_url":"https://api.github.com/users/mattf-apache/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-30T20:02:56Z","updated_at":"2017-01-30T20:02:56Z","author_association":"MEMBER","body":"@JonZeolla , interesting.  That would be equivalent to gawk version 3.1.5 or 3.1.6.  I see now that my updated awk is from a homebrew installation.\r\n\r\nWould you be willing to update awk?  If you already use homebrew, all you have to say is `brew install gawk`\r\nIf you don't yet use homebrew, that's a single-line install too. ","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/276173975/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/276175067","html_url":"https://github.com/apache/metron/pull/429#issuecomment-276175067","issue_url":"https://api.github.com/repos/apache/metron/issues/429","id":276175067,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjE3NTA2Nw==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-30T20:07:11Z","updated_at":"2017-01-30T20:07:11Z","author_association":"CONTRIBUTOR","body":"@mattf-horton Homebrew gawk seems to work out well for me.  Not sure what the implementation difference is between the two though.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/276175067/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/276177188","html_url":"https://github.com/apache/metron/pull/429#issuecomment-276177188","issue_url":"https://api.github.com/repos/apache/metron/issues/429","id":276177188,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjE3NzE4OA==","user":{"login":"mattf-apache","id":908957,"node_id":"MDQ6VXNlcjkwODk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/908957?v=4","gravatar_id":"","url":"https://api.github.com/users/mattf-apache","html_url":"https://github.com/mattf-apache","followers_url":"https://api.github.com/users/mattf-apache/followers","following_url":"https://api.github.com/users/mattf-apache/following{/other_user}","gists_url":"https://api.github.com/users/mattf-apache/gists{/gist_id}","starred_url":"https://api.github.com/users/mattf-apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattf-apache/subscriptions","organizations_url":"https://api.github.com/users/mattf-apache/orgs","repos_url":"https://api.github.com/users/mattf-apache/repos","events_url":"https://api.github.com/users/mattf-apache/events{/privacy}","received_events_url":"https://api.github.com/users/mattf-apache/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-30T20:15:26Z","updated_at":"2017-01-30T20:15:26Z","author_association":"MEMBER","body":"Guys, to make it easier to distinguish between tool problems vs content bugs, I've uploaded a tarball of the full site-book as built on my platform, at [site-book_0.3.0_20170130.tar.gz](https://issues.apache.org/jira/secure/attachment/12850032/site-book_0.3.0_20170130.tar.gz)\r\n\r\nCould you please compare problems you are seeing in your build of the book, vs what you see in my build?  Thanks.\r\n\r\nBTW, I'm not minimizing the tool problems, they need to be resolved.  But we do need to know whether we are looking at a tool problem or a content bug! :-)","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/276177188/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]