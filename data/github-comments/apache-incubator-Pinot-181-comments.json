[{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1518338849","html_url":"https://github.com/apache/pinot/issues/10608#issuecomment-1518338849","issue_url":"https://api.github.com/repos/apache/pinot/issues/10608","id":1518338849,"node_id":"IC_kwDOATCU_c5agAMh","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-21T21:10:25Z","updated_at":"2023-04-21T21:10:25Z","author_association":"CONTRIBUTOR","body":"We want to do it in a backward compatible way:\r\n- Add a new field `_partitionColumn` into the `InstanceReplicaGroupPartitionConfig`\r\n- If the field is not found, fall back to the old `ReplicaGroupStrategyConfig`\r\n- Keep the `ReplicaGroupStrategyConfig` and use it when the new config doesn't exist","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1518338849/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1518338871","html_url":"https://github.com/apache/pinot/pull/10666#issuecomment-1518338871","issue_url":"https://api.github.com/repos/apache/pinot/issues/10666","id":1518338871,"node_id":"IC_kwDOATCU_c5agAM3","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-21T21:10:27Z","updated_at":"2023-04-22T02:11:57Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10666?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10666](https://codecov.io/gh/apache/pinot/pull/10666?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (af459d7) into [master](https://codecov.io/gh/apache/pinot/commit/4481e1b1ab44e6fac53049a4d6612da79be0b92b?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (4481e1b) will **decrease** coverage by `0.01%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10666      +/-   ##\n============================================\n- Coverage     70.34%   70.33%   -0.01%     \n+ Complexity     6517     5641     -876     \n============================================\n  Files          2108     2108              \n  Lines        113664   113664              \n  Branches      17126    17126              \n============================================\n- Hits          79954    79951       -3     \n- Misses        28110    28111       +1     \n- Partials       5600     5602       +2     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.35% <ø> (+0.10%)` | :arrow_up: |\n| integration2 | `23.96% <ø> (-0.16%)` | :arrow_down: |\n| unittests1 | `67.91% <ø> (-0.01%)` | :arrow_down: |\n| unittests2 | `13.86% <ø> (+0.01%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n[see 30 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10666/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1518338871/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1518368717","html_url":"https://github.com/apache/pinot/issues/10608#issuecomment-1518368717","issue_url":"https://api.github.com/repos/apache/pinot/issues/10608","id":1518368717,"node_id":"IC_kwDOATCU_c5agHfN","user":{"login":"abhioncbr","id":1076944,"node_id":"MDQ6VXNlcjEwNzY5NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1076944?v=4","gravatar_id":"","url":"https://api.github.com/users/abhioncbr","html_url":"https://github.com/abhioncbr","followers_url":"https://api.github.com/users/abhioncbr/followers","following_url":"https://api.github.com/users/abhioncbr/following{/other_user}","gists_url":"https://api.github.com/users/abhioncbr/gists{/gist_id}","starred_url":"https://api.github.com/users/abhioncbr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhioncbr/subscriptions","organizations_url":"https://api.github.com/users/abhioncbr/orgs","repos_url":"https://api.github.com/users/abhioncbr/repos","events_url":"https://api.github.com/users/abhioncbr/events{/privacy}","received_events_url":"https://api.github.com/users/abhioncbr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-21T21:56:28Z","updated_at":"2023-04-21T21:56:28Z","author_association":"CONTRIBUTOR","body":"Thanks, @siddharthteotia,  @GSharayu and @Jackie-Jiang, for the comments.\r\n\r\nI'm just asking the question here that I have asked on the draft PR. \r\nWhat if a user provides a different `partitionColumn` value in both configs? As per @Jackie-Jiang's comment, we will use the value of `partitionColumn` provided in `InstanceReplicaGroupPartitionConfig`. Is it correct? Also, for `numInstancesPerPartition`, it's going to be the same?\r\n\r\nI was going over the [documentation](https://docs.pinot.apache.org/operators/operating-pinot/instance-assignment), and I think we need to update the documentation by mentioning `ReplicaGroupStrategyConfig ` as deprecated.\r\n\r\nPlease let me know if anything else needs to be updated. Thanks","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1518368717/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1518534630","html_url":"https://github.com/apache/pinot/issues/10608#issuecomment-1518534630","issue_url":"https://api.github.com/repos/apache/pinot/issues/10608","id":1518534630,"node_id":"IC_kwDOATCU_c5agv_m","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-22T06:42:48Z","updated_at":"2023-04-22T06:42:48Z","author_association":"CONTRIBUTOR","body":"@abhioncbr The overall goal is to keep the existing config work if new config is not provided, and use the new config if provided. So if the `partitionColumn` is provided in both places, we can either throw an exception to let the user know the config is invalid (preferred, can be done within the `TableConfigUtils.validate()`), or just use the one from the new config.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1518534630/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1518535479","html_url":"https://github.com/apache/pinot/pull/10536#issuecomment-1518535479","issue_url":"https://api.github.com/repos/apache/pinot/issues/10536","id":1518535479,"node_id":"IC_kwDOATCU_c5agwM3","user":{"login":"saurabhd336","id":7672118,"node_id":"MDQ6VXNlcjc2NzIxMTg=","avatar_url":"https://avatars.githubusercontent.com/u/7672118?v=4","gravatar_id":"","url":"https://api.github.com/users/saurabhd336","html_url":"https://github.com/saurabhd336","followers_url":"https://api.github.com/users/saurabhd336/followers","following_url":"https://api.github.com/users/saurabhd336/following{/other_user}","gists_url":"https://api.github.com/users/saurabhd336/gists{/gist_id}","starred_url":"https://api.github.com/users/saurabhd336/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saurabhd336/subscriptions","organizations_url":"https://api.github.com/users/saurabhd336/orgs","repos_url":"https://api.github.com/users/saurabhd336/repos","events_url":"https://api.github.com/users/saurabhd336/events{/privacy}","received_events_url":"https://api.github.com/users/saurabhd336/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-22T06:46:53Z","updated_at":"2023-04-22T06:46:53Z","author_association":"CONTRIBUTOR","body":"@mcvsubbu @Jackie-Jiang \r\n1) I saw value in letting this segment lifecycle event listener pattern be used across the board for getting notifications of any segment related event (reloading. tiering, addition, deletion etc.). I've updated the PR to make it more generic and allow for extending to other event types. LMK what you think. I can update accordingly.\r\n\r\n2) Had a discussion with @Jackie-Jiang and since fetching ZK metadata for the segment / tables is likely a common task these listeners would perform, needed to initialize it with ZKManger. Which means these interfaces need to go in pinot-core. @mcvsubbu I know the general guidelines would dictate these interfaces to reside in spi, but the need to init with zk manager prohibits that here.. Could you please share your thoughts on this? If we do indeed keep it in SPI, we may think of not initializing via reflections and possibly somewhere inside controller start(). We might lose ability to plug in listerners in that case though.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1518535479/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1518543384","html_url":"https://github.com/apache/pinot/issues/10661#issuecomment-1518543384","issue_url":"https://api.github.com/repos/apache/pinot/issues/10661","id":1518543384,"node_id":"IC_kwDOATCU_c5agyIY","user":{"login":"abhioncbr","id":1076944,"node_id":"MDQ6VXNlcjEwNzY5NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1076944?v=4","gravatar_id":"","url":"https://api.github.com/users/abhioncbr","html_url":"https://github.com/abhioncbr","followers_url":"https://api.github.com/users/abhioncbr/followers","following_url":"https://api.github.com/users/abhioncbr/following{/other_user}","gists_url":"https://api.github.com/users/abhioncbr/gists{/gist_id}","starred_url":"https://api.github.com/users/abhioncbr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhioncbr/subscriptions","organizations_url":"https://api.github.com/users/abhioncbr/orgs","repos_url":"https://api.github.com/users/abhioncbr/repos","events_url":"https://api.github.com/users/abhioncbr/events{/privacy}","received_events_url":"https://api.github.com/users/abhioncbr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-22T07:14:07Z","updated_at":"2023-04-22T07:14:07Z","author_association":"CONTRIBUTOR","body":"We can close this issue. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1518543384/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1518543751","html_url":"https://github.com/apache/pinot/pull/10669#issuecomment-1518543751","issue_url":"https://api.github.com/repos/apache/pinot/issues/10669","id":1518543751,"node_id":"IC_kwDOATCU_c5agyOH","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-22T07:16:08Z","updated_at":"2023-04-22T19:36:01Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10669?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10669](https://codecov.io/gh/apache/pinot/pull/10669?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (a5852cc) into [master](https://codecov.io/gh/apache/pinot/commit/03511e980ea7698fe8a95a19a3e78b2bda85998c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (03511e9) will **decrease** coverage by `1.32%`.\n> The diff coverage is `95.53%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10669      +/-   ##\n============================================\n- Coverage     70.26%   68.95%   -1.32%     \n+ Complexity     6516     6504      -12     \n============================================\n  Files          2108     2108              \n  Lines        113897   113866      -31     \n  Branches      17194    17181      -13     \n============================================\n- Hits          80032    78512    -1520     \n- Misses        28261    29835    +1574     \n+ Partials       5604     5519      -85     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `?` | |\n| integration2 | `24.03% <0.00%> (+0.02%)` | :arrow_up: |\n| unittests1 | `67.81% <95.53%> (+<0.01%)` | :arrow_up: |\n| unittests2 | `13.84% <0.00%> (+0.01%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10669?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...runtime/operator/SortedMailboxReceiveOperator.java](https://codecov.io/gh/apache/pinot/pull/10669?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9vcGVyYXRvci9Tb3J0ZWRNYWlsYm94UmVjZWl2ZU9wZXJhdG9yLmphdmE=) | `90.19% <92.30%> (+2.52%)` | :arrow_up: |\n| [...query/runtime/operator/MailboxReceiveOperator.java](https://codecov.io/gh/apache/pinot/pull/10669?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9vcGVyYXRvci9NYWlsYm94UmVjZWl2ZU9wZXJhdG9yLmphdmE=) | `94.28% <93.10%> (+1.78%)` | :arrow_up: |\n| [...apache/pinot/query/mailbox/GrpcMailboxService.java](https://codecov.io/gh/apache/pinot/pull/10669?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvbWFpbGJveC9HcnBjTWFpbGJveFNlcnZpY2UuamF2YQ==) | `81.57% <100.00%> (+2.09%)` | :arrow_up: |\n| [...ache/pinot/query/mailbox/GrpcReceivingMailbox.java](https://codecov.io/gh/apache/pinot/pull/10669?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvbWFpbGJveC9HcnBjUmVjZWl2aW5nTWFpbGJveC5qYXZh) | `85.00% <100.00%> (+0.78%)` | :arrow_up: |\n| [...he/pinot/query/mailbox/InMemoryMailboxService.java](https://codecov.io/gh/apache/pinot/pull/10669?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvbWFpbGJveC9Jbk1lbW9yeU1haWxib3hTZXJ2aWNlLmphdmE=) | `80.64% <100.00%> (+2.52%)` | :arrow_up: |\n| [.../pinot/query/mailbox/InMemoryReceivingMailbox.java](https://codecov.io/gh/apache/pinot/pull/10669?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvbWFpbGJveC9Jbk1lbW9yeVJlY2VpdmluZ01haWxib3guamF2YQ==) | `90.00% <100.00%> (+1.11%)` | :arrow_up: |\n| [...inot/query/mailbox/MultiplexingMailboxService.java](https://codecov.io/gh/apache/pinot/pull/10669?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvbWFpbGJveC9NdWx0aXBsZXhpbmdNYWlsYm94U2VydmljZS5qYXZh) | `100.00% <100.00%> (ø)` | |\n| [...y/runtime/operator/BaseMailboxReceiveOperator.java](https://codecov.io/gh/apache/pinot/pull/10669?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9vcGVyYXRvci9CYXNlTWFpbGJveFJlY2VpdmVPcGVyYXRvci5qYXZh) | `97.43% <100.00%> (-0.30%)` | :arrow_down: |\n| [...not/query/runtime/operator/MultiStageOperator.java](https://codecov.io/gh/apache/pinot/pull/10669?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9vcGVyYXRvci9NdWx0aVN0YWdlT3BlcmF0b3IuamF2YQ==) | `80.55% <100.00%> (ø)` | |\n| [.../pinot/query/runtime/plan/PhysicalPlanVisitor.java](https://codecov.io/gh/apache/pinot/pull/10669?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9wbGFuL1BoeXNpY2FsUGxhblZpc2l0b3IuamF2YQ==) | `93.61% <100.00%> (ø)` | |\n| ... and [1 more](https://codecov.io/gh/apache/pinot/pull/10669?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n... and [149 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10669/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1518543751/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1518712383","html_url":"https://github.com/apache/pinot/pull/10670#issuecomment-1518712383","issue_url":"https://api.github.com/repos/apache/pinot/issues/10670","id":1518712383,"node_id":"IC_kwDOATCU_c5ahbY_","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-22T17:28:19Z","updated_at":"2023-04-22T17:37:13Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10670?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10670](https://codecov.io/gh/apache/pinot/pull/10670?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (012cd48) into [master](https://codecov.io/gh/apache/pinot/commit/03511e980ea7698fe8a95a19a3e78b2bda85998c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (03511e9) will **decrease** coverage by `0.05%`.\n> The diff coverage is `100.00%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10670      +/-   ##\n============================================\n- Coverage     70.26%   70.21%   -0.05%     \n+ Complexity     6516     5641     -875     \n============================================\n  Files          2108     2107       -1     \n  Lines        113897   113895       -2     \n  Branches      17194    17194              \n============================================\n- Hits          80032    79977      -55     \n- Misses        28261    28314      +53     \n  Partials       5604     5604              \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.25% <0.00%> (-0.08%)` | :arrow_down: |\n| integration2 | `23.85% <0.00%> (-0.16%)` | :arrow_down: |\n| unittests1 | `67.81% <100.00%> (+<0.01%)` | :arrow_up: |\n| unittests2 | `13.84% <0.00%> (+0.02%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10670?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [.../org/apache/pinot/query/routing/WorkerManager.java](https://codecov.io/gh/apache/pinot/pull/10670?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcm91dGluZy9Xb3JrZXJNYW5hZ2VyLmphdmE=) | `88.18% <100.00%> (+1.31%)` | :arrow_up: |\n| [.../query/runtime/plan/serde/QueryPlanSerDeUtils.java](https://codecov.io/gh/apache/pinot/pull/10670?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9wbGFuL3NlcmRlL1F1ZXJ5UGxhblNlckRlVXRpbHMuamF2YQ==) | `97.01% <100.00%> (+0.04%)` | :arrow_up: |\n\n... and [30 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10670/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1518712383/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1518734619","html_url":"https://github.com/apache/pinot/pull/10670#issuecomment-1518734619","issue_url":"https://api.github.com/repos/apache/pinot/issues/10670","id":1518734619,"node_id":"IC_kwDOATCU_c5ahg0b","user":{"login":"walterddr","id":3581352,"node_id":"MDQ6VXNlcjM1ODEzNTI=","avatar_url":"https://avatars.githubusercontent.com/u/3581352?v=4","gravatar_id":"","url":"https://api.github.com/users/walterddr","html_url":"https://github.com/walterddr","followers_url":"https://api.github.com/users/walterddr/followers","following_url":"https://api.github.com/users/walterddr/following{/other_user}","gists_url":"https://api.github.com/users/walterddr/gists{/gist_id}","starred_url":"https://api.github.com/users/walterddr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/walterddr/subscriptions","organizations_url":"https://api.github.com/users/walterddr/orgs","repos_url":"https://api.github.com/users/walterddr/repos","events_url":"https://api.github.com/users/walterddr/events{/privacy}","received_events_url":"https://api.github.com/users/walterddr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-22T19:03:29Z","updated_at":"2023-04-22T19:03:46Z","author_association":"CONTRIBUTOR","body":"> We should not directly use `ServerInstance` which is backed by `InstanceConfig`. Instead, we should introduce a new class which wraps the `hostname`, `controlPort` and `dataPort`\r\n\r\nyes that's going to be my next PR. i can merge the 2 together if that's preferred","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1518734619/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1518745922","html_url":"https://github.com/apache/pinot/pull/10670#issuecomment-1518745922","issue_url":"https://api.github.com/repos/apache/pinot/issues/10670","id":1518745922,"node_id":"IC_kwDOATCU_c5ahjlC","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-22T19:47:11Z","updated_at":"2023-04-22T19:47:11Z","author_association":"CONTRIBUTOR","body":"> > We should not directly use `ServerInstance` which is backed by `InstanceConfig`. Instead, we should introduce a new class which wraps the `hostname`, `controlPort` and `dataPort`\r\n> \r\n> yes that's going to be my next PR. i can merge the 2 together if that's preferred\r\n\r\nI'd suggest making it one PR because the next one will revert the changes in this PR","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1518745922/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1518749576","html_url":"https://github.com/apache/pinot/pull/10536#issuecomment-1518749576","issue_url":"https://api.github.com/repos/apache/pinot/issues/10536","id":1518749576,"node_id":"IC_kwDOATCU_c5ahkeI","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-22T20:03:07Z","updated_at":"2023-04-22T20:03:07Z","author_association":"CONTRIBUTOR","body":"The changes look good to me. Thanks for making it general, very clean implementation!\r\n@mcvsubbu Let me know if you have concerns. Because of the `Helix` dependency, we need to put it in `pinot-core` for now, but we can easily move it into the SPI when we introduce the `Helix` dependent SPI module","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1518749576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1518923337","html_url":"https://github.com/apache/pinot/pull/10656#issuecomment-1518923337","issue_url":"https://api.github.com/repos/apache/pinot/issues/10656","id":1518923337,"node_id":"IC_kwDOATCU_c5aiO5J","user":{"login":"abhioncbr","id":1076944,"node_id":"MDQ6VXNlcjEwNzY5NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1076944?v=4","gravatar_id":"","url":"https://api.github.com/users/abhioncbr","html_url":"https://github.com/abhioncbr","followers_url":"https://api.github.com/users/abhioncbr/followers","following_url":"https://api.github.com/users/abhioncbr/following{/other_user}","gists_url":"https://api.github.com/users/abhioncbr/gists{/gist_id}","starred_url":"https://api.github.com/users/abhioncbr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhioncbr/subscriptions","organizations_url":"https://api.github.com/users/abhioncbr/orgs","repos_url":"https://api.github.com/users/abhioncbr/repos","events_url":"https://api.github.com/users/abhioncbr/events{/privacy}","received_events_url":"https://api.github.com/users/abhioncbr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-23T02:31:12Z","updated_at":"2023-04-23T02:31:12Z","author_association":"CONTRIBUTOR","body":"Please review. Changes are as per the [discussion](https://github.com/apache/pinot/issues/10608). \r\nThanks","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1518923337/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1518924124","html_url":"https://github.com/apache/pinot/issues/10608#issuecomment-1518924124","issue_url":"https://api.github.com/repos/apache/pinot/issues/10608","id":1518924124,"node_id":"IC_kwDOATCU_c5aiPFc","user":{"login":"abhioncbr","id":1076944,"node_id":"MDQ6VXNlcjEwNzY5NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1076944?v=4","gravatar_id":"","url":"https://api.github.com/users/abhioncbr","html_url":"https://github.com/abhioncbr","followers_url":"https://api.github.com/users/abhioncbr/followers","following_url":"https://api.github.com/users/abhioncbr/following{/other_user}","gists_url":"https://api.github.com/users/abhioncbr/gists{/gist_id}","starred_url":"https://api.github.com/users/abhioncbr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhioncbr/subscriptions","organizations_url":"https://api.github.com/users/abhioncbr/orgs","repos_url":"https://api.github.com/users/abhioncbr/repos","events_url":"https://api.github.com/users/abhioncbr/events{/privacy}","received_events_url":"https://api.github.com/users/abhioncbr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-23T02:35:35Z","updated_at":"2023-04-23T02:35:35Z","author_association":"CONTRIBUTOR","body":"Please review the changes. Thanks","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1518924124/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1519076933","html_url":"https://github.com/apache/pinot/issues/10631#issuecomment-1519076933","issue_url":"https://api.github.com/repos/apache/pinot/issues/10631","id":1519076933,"node_id":"IC_kwDOATCU_c5ai0ZF","user":{"login":"shounakmk219","id":25409127,"node_id":"MDQ6VXNlcjI1NDA5MTI3","avatar_url":"https://avatars.githubusercontent.com/u/25409127?v=4","gravatar_id":"","url":"https://api.github.com/users/shounakmk219","html_url":"https://github.com/shounakmk219","followers_url":"https://api.github.com/users/shounakmk219/followers","following_url":"https://api.github.com/users/shounakmk219/following{/other_user}","gists_url":"https://api.github.com/users/shounakmk219/gists{/gist_id}","starred_url":"https://api.github.com/users/shounakmk219/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shounakmk219/subscriptions","organizations_url":"https://api.github.com/users/shounakmk219/orgs","repos_url":"https://api.github.com/users/shounakmk219/repos","events_url":"https://api.github.com/users/shounakmk219/events{/privacy}","received_events_url":"https://api.github.com/users/shounakmk219/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-23T14:10:52Z","updated_at":"2023-04-23T14:10:52Z","author_association":"COLLABORATOR","body":"That's correct @klsince","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1519076933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1519082989","html_url":"https://github.com/apache/pinot/pull/10655#issuecomment-1519082989","issue_url":"https://api.github.com/repos/apache/pinot/issues/10655","id":1519082989,"node_id":"IC_kwDOATCU_c5ai13t","user":{"login":"shounakmk219","id":25409127,"node_id":"MDQ6VXNlcjI1NDA5MTI3","avatar_url":"https://avatars.githubusercontent.com/u/25409127?v=4","gravatar_id":"","url":"https://api.github.com/users/shounakmk219","html_url":"https://github.com/shounakmk219","followers_url":"https://api.github.com/users/shounakmk219/followers","following_url":"https://api.github.com/users/shounakmk219/following{/other_user}","gists_url":"https://api.github.com/users/shounakmk219/gists{/gist_id}","starred_url":"https://api.github.com/users/shounakmk219/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shounakmk219/subscriptions","organizations_url":"https://api.github.com/users/shounakmk219/orgs","repos_url":"https://api.github.com/users/shounakmk219/repos","events_url":"https://api.github.com/users/shounakmk219/events{/privacy}","received_events_url":"https://api.github.com/users/shounakmk219/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-23T14:40:03Z","updated_at":"2023-04-23T14:40:03Z","author_association":"COLLABORATOR","body":"Hey @mcvsubbu as mentioned in the issue (link in description) the API consumer will be mostly another application built on top of pinot rather than a pinot user. Motivation is to enable client side user data input validations.\r\n\r\nThe endpoint should return in general what are the constraints imposed by pinot on the table config or schema. It's not specific to any particular table or segment. Using this info client application should be able to impose data validations dynamically.\r\n\r\nI have no strong reason behind the endpoint path, I can change it to `/schemas/fieldSpec`","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1519082989/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1519129853","html_url":"https://github.com/apache/pinot/pull/10671#issuecomment-1519129853","issue_url":"https://api.github.com/repos/apache/pinot/issues/10671","id":1519129853,"node_id":"IC_kwDOATCU_c5ajBT9","user":{"login":"walterddr","id":3581352,"node_id":"MDQ6VXNlcjM1ODEzNTI=","avatar_url":"https://avatars.githubusercontent.com/u/3581352?v=4","gravatar_id":"","url":"https://api.github.com/users/walterddr","html_url":"https://github.com/walterddr","followers_url":"https://api.github.com/users/walterddr/followers","following_url":"https://api.github.com/users/walterddr/following{/other_user}","gists_url":"https://api.github.com/users/walterddr/gists{/gist_id}","starred_url":"https://api.github.com/users/walterddr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/walterddr/subscriptions","organizations_url":"https://api.github.com/users/walterddr/orgs","repos_url":"https://api.github.com/users/walterddr/repos","events_url":"https://api.github.com/users/walterddr/events{/privacy}","received_events_url":"https://api.github.com/users/walterddr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-23T18:43:22Z","updated_at":"2023-04-23T18:43:22Z","author_association":"CONTRIBUTOR","body":"closing. using a more accurate version in #10673","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1519129853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1519344689","html_url":"https://github.com/apache/pinot/pull/10673#issuecomment-1519344689","issue_url":"https://api.github.com/repos/apache/pinot/issues/10673","id":1519344689,"node_id":"IC_kwDOATCU_c5aj1wx","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-24T03:51:24Z","updated_at":"2023-04-27T19:24:23Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10673?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10673](https://codecov.io/gh/apache/pinot/pull/10673?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (4c0d1dd) into [master](https://codecov.io/gh/apache/pinot/commit/d806b5f8f2750fa5611584537ae1451b332f649f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (d806b5f) will **decrease** coverage by `40.79%`.\n> The diff coverage is `0.26%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10673       +/-   ##\n=============================================\n- Coverage     68.44%   27.65%   -40.79%     \n+ Complexity     6421       58     -6363     \n=============================================\n  Files          2107     2092       -15     \n  Lines        113792   113440      -352     \n  Branches      17199    17143       -56     \n=============================================\n- Hits          77887    31377    -46510     \n- Misses        30369    78955    +48586     \n+ Partials       5536     3108     -2428     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.34% <0.26%> (-0.09%)` | :arrow_down: |\n| integration2 | `24.13% <0.00%> (?)` | |\n| unittests1 | `?` | |\n| unittests2 | `?` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10673?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...e/pinot/query/planner/ExplainPlanStageVisitor.java](https://codecov.io/gh/apache/pinot/pull/10673?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcGxhbm5lci9FeHBsYWluUGxhblN0YWdlVmlzaXRvci5qYXZh) | `0.00% <0.00%> (-78.58%)` | :arrow_down: |\n| [...java/org/apache/pinot/query/planner/QueryPlan.java](https://codecov.io/gh/apache/pinot/pull/10673?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcGxhbm5lci9RdWVyeVBsYW4uamF2YQ==) | `0.00% <0.00%> (-88.89%)` | :arrow_down: |\n| [...ache/pinot/query/planner/logical/StagePlanner.java](https://codecov.io/gh/apache/pinot/pull/10673?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcGxhbm5lci9sb2dpY2FsL1N0YWdlUGxhbm5lci5qYXZh) | `0.00% <0.00%> (-94.34%)` | :arrow_down: |\n| [...uery/planner/physical/DispatchablePlanContext.java](https://codecov.io/gh/apache/pinot/pull/10673?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcGxhbm5lci9waHlzaWNhbC9EaXNwYXRjaGFibGVQbGFuQ29udGV4dC5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ery/planner/physical/DispatchablePlanMetadata.java](https://codecov.io/gh/apache/pinot/pull/10673?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcGxhbm5lci9waHlzaWNhbC9EaXNwYXRjaGFibGVQbGFuTWV0YWRhdGEuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...uery/planner/physical/DispatchablePlanVisitor.java](https://codecov.io/gh/apache/pinot/pull/10673?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcGxhbm5lci9waHlzaWNhbC9EaXNwYXRjaGFibGVQbGFuVmlzaXRvci5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...hysical/colocated/GreedyShuffleRewriteVisitor.java](https://codecov.io/gh/apache/pinot/pull/10673?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcGxhbm5lci9waHlzaWNhbC9jb2xvY2F0ZWQvR3JlZWR5U2h1ZmZsZVJld3JpdGVWaXNpdG9yLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...pache/pinot/query/routing/QueryServerInstance.java](https://codecov.io/gh/apache/pinot/pull/10673?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcm91dGluZy9RdWVyeVNlcnZlckluc3RhbmNlLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [.../org/apache/pinot/query/routing/StageMetadata.java](https://codecov.io/gh/apache/pinot/pull/10673?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcm91dGluZy9TdGFnZU1ldGFkYXRhLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...ache/pinot/query/routing/VirtualServerAddress.java](https://codecov.io/gh/apache/pinot/pull/10673?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcm91dGluZy9WaXJ0dWFsU2VydmVyQWRkcmVzcy5qYXZh) | `0.00% <0.00%> (-54.55%)` | :arrow_down: |\n| ... and [17 more](https://codecov.io/gh/apache/pinot/pull/10673?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n... and [1536 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10673/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1519344689/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1519460056","html_url":"https://github.com/apache/pinot/pull/10602#issuecomment-1519460056","issue_url":"https://api.github.com/repos/apache/pinot/issues/10602","id":1519460056,"node_id":"IC_kwDOATCU_c5akR7Y","user":{"login":"KKcorps","id":5559703,"node_id":"MDQ6VXNlcjU1NTk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5559703?v=4","gravatar_id":"","url":"https://api.github.com/users/KKcorps","html_url":"https://github.com/KKcorps","followers_url":"https://api.github.com/users/KKcorps/followers","following_url":"https://api.github.com/users/KKcorps/following{/other_user}","gists_url":"https://api.github.com/users/KKcorps/gists{/gist_id}","starred_url":"https://api.github.com/users/KKcorps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KKcorps/subscriptions","organizations_url":"https://api.github.com/users/KKcorps/orgs","repos_url":"https://api.github.com/users/KKcorps/repos","events_url":"https://api.github.com/users/KKcorps/events{/privacy}","received_events_url":"https://api.github.com/users/KKcorps/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-24T06:28:55Z","updated_at":"2023-04-24T06:28:55Z","author_association":"CONTRIBUTOR","body":"> Can you check if we can directly call shut down? Calling shut down will prevent consuming segment from committing, which is desired\r\n\r\nIt works when I tried it but then we won't be waiting for EV to converge. It would lead to race condition issues mentioned in \r\nhttps://github.com/apache/pinot/issues/8423","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1519460056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1519516805","html_url":"https://github.com/apache/pinot/pull/10625#issuecomment-1519516805","issue_url":"https://api.github.com/repos/apache/pinot/issues/10625","id":1519516805,"node_id":"IC_kwDOATCU_c5akfyF","user":{"login":"KKcorps","id":5559703,"node_id":"MDQ6VXNlcjU1NTk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5559703?v=4","gravatar_id":"","url":"https://api.github.com/users/KKcorps","html_url":"https://github.com/KKcorps","followers_url":"https://api.github.com/users/KKcorps/followers","following_url":"https://api.github.com/users/KKcorps/following{/other_user}","gists_url":"https://api.github.com/users/KKcorps/gists{/gist_id}","starred_url":"https://api.github.com/users/KKcorps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KKcorps/subscriptions","organizations_url":"https://api.github.com/users/KKcorps/orgs","repos_url":"https://api.github.com/users/KKcorps/repos","events_url":"https://api.github.com/users/KKcorps/events{/privacy}","received_events_url":"https://api.github.com/users/KKcorps/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-24T07:15:59Z","updated_at":"2023-04-24T07:15:59Z","author_association":"CONTRIBUTOR","body":"I am already storing progress in the ZK. That's how the deleteStatusAPI works. Without the message thought how are we supposed to return API response immediately? Other jobs are dealing with IS update only and not EV converge which can take extremely long. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1519516805/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1519538636","html_url":"https://github.com/apache/pinot/pull/10674#issuecomment-1519538636","issue_url":"https://api.github.com/repos/apache/pinot/issues/10674","id":1519538636,"node_id":"IC_kwDOATCU_c5aklHM","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-24T07:34:02Z","updated_at":"2023-04-24T07:43:20Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10674?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10674](https://codecov.io/gh/apache/pinot/pull/10674?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (4c69984) into [master](https://codecov.io/gh/apache/pinot/commit/866c796bd56cf846b654f29f024f3e610557b2c7?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (866c796) will **decrease** coverage by `5.97%`.\n> The diff coverage is `0.00%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10674      +/-   ##\n============================================\n- Coverage     70.25%   64.28%   -5.97%     \n+ Complexity     6503     6483      -20     \n============================================\n  Files          2108     2054      -54     \n  Lines        113866   111380    -2486     \n  Branches      17181    16884     -297     \n============================================\n- Hits          79991    71597    -8394     \n- Misses        28283    34613    +6330     \n+ Partials       5592     5170     -422     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `?` | |\n| integration2 | `?` | |\n| unittests1 | `67.82% <0.00%> (+<0.01%)` | :arrow_up: |\n| unittests2 | `13.82% <0.00%> (-0.01%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10674?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [.../org/apache/pinot/segment/spi/index/IndexType.java](https://codecov.io/gh/apache/pinot/pull/10674?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1zcGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3NlZ21lbnQvc3BpL2luZGV4L0luZGV4VHlwZS5qYXZh) | `50.00% <0.00%> (-50.00%)` | :arrow_down: |\n\n... and [434 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10674/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1519538636/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1519586705","html_url":"https://github.com/apache/pinot/issues/10675#issuecomment-1519586705","issue_url":"https://api.github.com/repos/apache/pinot/issues/10675","id":1519586705,"node_id":"IC_kwDOATCU_c5akw2R","user":{"login":"gortiz","id":1913993,"node_id":"MDQ6VXNlcjE5MTM5OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1913993?v=4","gravatar_id":"","url":"https://api.github.com/users/gortiz","html_url":"https://github.com/gortiz","followers_url":"https://api.github.com/users/gortiz/followers","following_url":"https://api.github.com/users/gortiz/following{/other_user}","gists_url":"https://api.github.com/users/gortiz/gists{/gist_id}","starred_url":"https://api.github.com/users/gortiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gortiz/subscriptions","organizations_url":"https://api.github.com/users/gortiz/orgs","repos_url":"https://api.github.com/users/gortiz/repos","events_url":"https://api.github.com/users/gortiz/events{/privacy}","received_events_url":"https://api.github.com/users/gortiz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-24T08:06:07Z","updated_at":"2023-04-24T08:06:07Z","author_association":"CONTRIBUTOR","body":"I also tried to remove/create an inverted index in `airlineStats`, specifically in the Origin column, and it doesn't seem to break anything, so maybe the problem is only related to the github events table. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1519586705/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1519669026","html_url":"https://github.com/apache/pinot/issues/10609#issuecomment-1519669026","issue_url":"https://api.github.com/repos/apache/pinot/issues/10609","id":1519669026,"node_id":"IC_kwDOATCU_c5alE8i","user":{"login":"tibrewalpratik17","id":23629228,"node_id":"MDQ6VXNlcjIzNjI5MjI4","avatar_url":"https://avatars.githubusercontent.com/u/23629228?v=4","gravatar_id":"","url":"https://api.github.com/users/tibrewalpratik17","html_url":"https://github.com/tibrewalpratik17","followers_url":"https://api.github.com/users/tibrewalpratik17/followers","following_url":"https://api.github.com/users/tibrewalpratik17/following{/other_user}","gists_url":"https://api.github.com/users/tibrewalpratik17/gists{/gist_id}","starred_url":"https://api.github.com/users/tibrewalpratik17/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tibrewalpratik17/subscriptions","organizations_url":"https://api.github.com/users/tibrewalpratik17/orgs","repos_url":"https://api.github.com/users/tibrewalpratik17/repos","events_url":"https://api.github.com/users/tibrewalpratik17/events{/privacy}","received_events_url":"https://api.github.com/users/tibrewalpratik17/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-24T09:02:21Z","updated_at":"2023-04-24T09:02:21Z","author_association":"CONTRIBUTOR","body":"cc @atris ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1519669026/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1519868779","html_url":"https://github.com/apache/pinot/issues/10609#issuecomment-1519868779","issue_url":"https://api.github.com/repos/apache/pinot/issues/10609","id":1519868779,"node_id":"IC_kwDOATCU_c5al1tr","user":{"login":"atris","id":1724131,"node_id":"MDQ6VXNlcjE3MjQxMzE=","avatar_url":"https://avatars.githubusercontent.com/u/1724131?v=4","gravatar_id":"","url":"https://api.github.com/users/atris","html_url":"https://github.com/atris","followers_url":"https://api.github.com/users/atris/followers","following_url":"https://api.github.com/users/atris/following{/other_user}","gists_url":"https://api.github.com/users/atris/gists{/gist_id}","starred_url":"https://api.github.com/users/atris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atris/subscriptions","organizations_url":"https://api.github.com/users/atris/orgs","repos_url":"https://api.github.com/users/atris/repos","events_url":"https://api.github.com/users/atris/events{/privacy}","received_events_url":"https://api.github.com/users/atris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-24T10:30:22Z","updated_at":"2023-04-24T10:30:22Z","author_association":"CONTRIBUTOR","body":"> @Jackie-Jiang @walterddr : just fyi, the behavior of like is not compliant with Postgres. LIKE is case sensitive there but in Pinot it is case insensitive.\r\n\r\nPostgres's ILIKE is not SQL Standard compliant, as is documented in their documentation.\r\n\r\nThe SQL Standard defines the LIKE operator to be case insensitive.\r\n\r\nI think it will be super messy to introduce ILIKE to the dialect. Most databases choose a style and stick to it.\r\n\r\nI would strongly argue that this is not a \"bug\". SQL Server has the exact same behaviour, and so does MariaDB. We should not try to do all styles by introducing different keywords.\r\n\r\nI see three clean ways of doing it:\r\n1. Introduce collations and let the set collation type define whether the match is case insensitive or not.\r\n2. Introduce a configuration which toggles between the two behaviours and let users decide what they want. The code path remains the same and just has an additional rule stacked over it.\r\n3. Introduce a new keyword to LIKE to define if case sensitivity is required (MySQL's WHERE BLOB).","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1519868779/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1520192324","html_url":"https://github.com/apache/pinot/pull/10646#issuecomment-1520192324","issue_url":"https://api.github.com/repos/apache/pinot/issues/10646","id":1520192324,"node_id":"IC_kwDOATCU_c5anEtE","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-24T13:45:59Z","updated_at":"2023-04-24T13:45:59Z","author_association":"CONTRIBUTOR","body":"I will take a look at this and corresponding issue discussion today.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1520192324/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1520230332","html_url":"https://github.com/apache/pinot/issues/10677#issuecomment-1520230332","issue_url":"https://api.github.com/repos/apache/pinot/issues/10677","id":1520230332,"node_id":"IC_kwDOATCU_c5anN-8","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-24T14:08:06Z","updated_at":"2023-04-24T14:08:06Z","author_association":"CONTRIBUTOR","body":"cc @somandal  - please comment here once for me to assign to you","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1520230332/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1520243457","html_url":"https://github.com/apache/pinot/issues/10677#issuecomment-1520243457","issue_url":"https://api.github.com/repos/apache/pinot/issues/10677","id":1520243457,"node_id":"IC_kwDOATCU_c5anRMB","user":{"login":"somandal","id":47411403,"node_id":"MDQ6VXNlcjQ3NDExNDAz","avatar_url":"https://avatars.githubusercontent.com/u/47411403?v=4","gravatar_id":"","url":"https://api.github.com/users/somandal","html_url":"https://github.com/somandal","followers_url":"https://api.github.com/users/somandal/followers","following_url":"https://api.github.com/users/somandal/following{/other_user}","gists_url":"https://api.github.com/users/somandal/gists{/gist_id}","starred_url":"https://api.github.com/users/somandal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/somandal/subscriptions","organizations_url":"https://api.github.com/users/somandal/orgs","repos_url":"https://api.github.com/users/somandal/repos","events_url":"https://api.github.com/users/somandal/events{/privacy}","received_events_url":"https://api.github.com/users/somandal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-24T14:15:17Z","updated_at":"2023-04-24T14:15:17Z","author_association":"CONTRIBUTOR","body":"I can take a look at this issue ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1520243457/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1520290411","html_url":"https://github.com/apache/pinot/issues/10654#issuecomment-1520290411","issue_url":"https://api.github.com/repos/apache/pinot/issues/10654","id":1520290411,"node_id":"IC_kwDOATCU_c5ancpr","user":{"login":"chrishanKH","id":43552036,"node_id":"MDQ6VXNlcjQzNTUyMDM2","avatar_url":"https://avatars.githubusercontent.com/u/43552036?v=4","gravatar_id":"","url":"https://api.github.com/users/chrishanKH","html_url":"https://github.com/chrishanKH","followers_url":"https://api.github.com/users/chrishanKH/followers","following_url":"https://api.github.com/users/chrishanKH/following{/other_user}","gists_url":"https://api.github.com/users/chrishanKH/gists{/gist_id}","starred_url":"https://api.github.com/users/chrishanKH/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrishanKH/subscriptions","organizations_url":"https://api.github.com/users/chrishanKH/orgs","repos_url":"https://api.github.com/users/chrishanKH/repos","events_url":"https://api.github.com/users/chrishanKH/events{/privacy}","received_events_url":"https://api.github.com/users/chrishanKH/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-24T14:36:33Z","updated_at":"2023-04-24T14:36:33Z","author_association":"NONE","body":"I believe the [config map](https://github.com/apache/pinot/blob/master/kubernetes/helm/pinot/templates/controller/configmap.yaml) should be updated to include the S3 related configs so they are written to `pinot-controller.conf`","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1520290411/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1520435852","html_url":"https://github.com/apache/pinot/pull/10635#issuecomment-1520435852","issue_url":"https://api.github.com/repos/apache/pinot/issues/10635","id":1520435852,"node_id":"IC_kwDOATCU_c5aoAKM","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-24T15:56:51Z","updated_at":"2023-04-24T15:56:51Z","author_association":"CONTRIBUTOR","body":"@somandal  - can you rebase please ? ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1520435852/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1520483734","html_url":"https://github.com/apache/pinot/pull/10587#issuecomment-1520483734","issue_url":"https://api.github.com/repos/apache/pinot/issues/10587","id":1520483734,"node_id":"IC_kwDOATCU_c5aoL2W","user":{"login":"somandal","id":47411403,"node_id":"MDQ6VXNlcjQ3NDExNDAz","avatar_url":"https://avatars.githubusercontent.com/u/47411403?v=4","gravatar_id":"","url":"https://api.github.com/users/somandal","html_url":"https://github.com/somandal","followers_url":"https://api.github.com/users/somandal/followers","following_url":"https://api.github.com/users/somandal/following{/other_user}","gists_url":"https://api.github.com/users/somandal/gists{/gist_id}","starred_url":"https://api.github.com/users/somandal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/somandal/subscriptions","organizations_url":"https://api.github.com/users/somandal/orgs","repos_url":"https://api.github.com/users/somandal/repos","events_url":"https://api.github.com/users/somandal/events{/privacy}","received_events_url":"https://api.github.com/users/somandal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-24T16:27:41Z","updated_at":"2023-04-24T16:27:41Z","author_association":"CONTRIBUTOR","body":"@siddharthteotia thanks for the review! I'll address these comments as a separate PR (don't want to mix this into the other PR I have open to fix the empty LogicalProject issue as it'll be confusing). ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1520483734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1520491742","html_url":"https://github.com/apache/pinot/pull/10635#issuecomment-1520491742","issue_url":"https://api.github.com/repos/apache/pinot/issues/10635","id":1520491742,"node_id":"IC_kwDOATCU_c5aoNze","user":{"login":"somandal","id":47411403,"node_id":"MDQ6VXNlcjQ3NDExNDAz","avatar_url":"https://avatars.githubusercontent.com/u/47411403?v=4","gravatar_id":"","url":"https://api.github.com/users/somandal","html_url":"https://github.com/somandal","followers_url":"https://api.github.com/users/somandal/followers","following_url":"https://api.github.com/users/somandal/following{/other_user}","gists_url":"https://api.github.com/users/somandal/gists{/gist_id}","starred_url":"https://api.github.com/users/somandal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/somandal/subscriptions","organizations_url":"https://api.github.com/users/somandal/orgs","repos_url":"https://api.github.com/users/somandal/repos","events_url":"https://api.github.com/users/somandal/events{/privacy}","received_events_url":"https://api.github.com/users/somandal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-24T16:34:09Z","updated_at":"2023-04-24T16:34:09Z","author_association":"CONTRIBUTOR","body":"> @somandal - can you rebase please ?\r\n\r\n@siddharthteotia I've rebased, can you take a look when you get a chance? Thanks!","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1520491742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1520518081","html_url":"https://github.com/apache/pinot/issues/10658#issuecomment-1520518081","issue_url":"https://api.github.com/repos/apache/pinot/issues/10658","id":1520518081,"node_id":"IC_kwDOATCU_c5aoUPB","user":{"login":"vvivekiyer","id":21298365,"node_id":"MDQ6VXNlcjIxMjk4MzY1","avatar_url":"https://avatars.githubusercontent.com/u/21298365?v=4","gravatar_id":"","url":"https://api.github.com/users/vvivekiyer","html_url":"https://github.com/vvivekiyer","followers_url":"https://api.github.com/users/vvivekiyer/followers","following_url":"https://api.github.com/users/vvivekiyer/following{/other_user}","gists_url":"https://api.github.com/users/vvivekiyer/gists{/gist_id}","starred_url":"https://api.github.com/users/vvivekiyer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvivekiyer/subscriptions","organizations_url":"https://api.github.com/users/vvivekiyer/orgs","repos_url":"https://api.github.com/users/vvivekiyer/repos","events_url":"https://api.github.com/users/vvivekiyer/events{/privacy}","received_events_url":"https://api.github.com/users/vvivekiyer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-24T16:55:19Z","updated_at":"2023-04-24T17:21:48Z","author_association":"CONTRIBUTOR","body":"I have a [draft implementation for SUM_MV here](https://github.com/apache/pinot/compare/master...vvivekiyer:pinot:multistage_mv). I can improve on it and add support for all other aggregations in a similar fashion. To support GROUP BY, I am thinking of writing an RelOptRule to modify the return type of the project in the leaf stage to be a primitive type instead of array.\r\n\r\n\r\nBut before I go ahead with making the entire changes, let’s discuss how we’d like to see the evolution of MV columns. I see that there are two possible options (please let me know if there are more):\r\n\r\n1. Provide backward compatibility support for MV columns in the V2 Engine (for all existing operations). Create a new datatype for ARRAY.  This will allow us to provide standard SQL operations (like postgres) on ARRAY columns.  We can optionally decide to phase out MV column functionality in favor of standard ARRAYs (because MV functionality can be achieved with a combination of ARRAYs/UNNEST and subqueries).  As the end state, Pinot will have support for two datatypes:\r\n   - MV (which behaves the same way as today. Additionally working for Joins/Subqueries and other complex SQL). \r\n   - ARRAY (which behaves similar to Postgres).\r\n\r\n2. Do not introduce an ARRAY datatype. But equate/evolve our support of MV columns to achieve all the support that ARRAYs have.\r\n\r\nI’m inclined with doing (1) where we onboard all future customers to use ARRAYs  (when the functionality is complete) and slowly phase out MV column support. \r\n\r\nAlso, currently, we unnest MV columns when applying aggregation functions and group by on MV columns. Do we want to retain the behavior as such when executing all sorts of complex SQL (Joins, Subqueries, etc)?\r\n\r\ncc: @xiangfu0 @walterddr @siddharthteotia @somandal ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1520518081/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1520545910","html_url":"https://github.com/apache/pinot/issues/10609#issuecomment-1520545910","issue_url":"https://api.github.com/repos/apache/pinot/issues/10609","id":1520545910,"node_id":"IC_kwDOATCU_c5aobB2","user":{"login":"tibrewalpratik17","id":23629228,"node_id":"MDQ6VXNlcjIzNjI5MjI4","avatar_url":"https://avatars.githubusercontent.com/u/23629228?v=4","gravatar_id":"","url":"https://api.github.com/users/tibrewalpratik17","html_url":"https://github.com/tibrewalpratik17","followers_url":"https://api.github.com/users/tibrewalpratik17/followers","following_url":"https://api.github.com/users/tibrewalpratik17/following{/other_user}","gists_url":"https://api.github.com/users/tibrewalpratik17/gists{/gist_id}","starred_url":"https://api.github.com/users/tibrewalpratik17/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tibrewalpratik17/subscriptions","organizations_url":"https://api.github.com/users/tibrewalpratik17/orgs","repos_url":"https://api.github.com/users/tibrewalpratik17/repos","events_url":"https://api.github.com/users/tibrewalpratik17/events{/privacy}","received_events_url":"https://api.github.com/users/tibrewalpratik17/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-24T17:14:28Z","updated_at":"2023-04-24T17:14:28Z","author_association":"CONTRIBUTOR","body":"@atris \r\n\r\nAsked ChatGPT on this\r\n> The SQL Standard defines the LIKE operator to be case insensitive\r\n\r\nand it says:\r\n```\r\nAccording to the SQL-92 standard, column values are not required to be case-sensitive, so the \r\nimplementation of case-sensitivity for column values is left up to the database system.\r\n\r\nThat being said, most database systems do treat column values as case-sensitive by default. \r\nThis means that \"John\" and \"john\" would be considered two different values in a column. \r\nHowever, some database systems may provide options or settings to allow for case-insensitive\r\ncomparison of column values.\r\n```\r\n\r\nIt seems - **identifiers, such as table and column names, are not case-sensitive** as per SQL-92 standard. \r\n\r\nAlso it looks like that behaviour of `REGEXP_LIKE` is case-insensitive as well in Pinot. \r\nAccording to ChatGPT:\r\n```\r\nAccording to the SQL standard, the REGEXP_LIKE function should be case-sensitive by default.\r\n```\r\n\r\nSo I think the behaviour of `REGEXP_LIKE` should be fixed for sure but that is also backward-incompatible.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1520545910/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1520557692","html_url":"https://github.com/apache/pinot/pull/10678#issuecomment-1520557692","issue_url":"https://api.github.com/repos/apache/pinot/issues/10678","id":1520557692,"node_id":"IC_kwDOATCU_c5aod58","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-24T17:23:56Z","updated_at":"2023-04-24T17:23:56Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10678?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10678](https://codecov.io/gh/apache/pinot/pull/10678?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (7450776) into [master](https://codecov.io/gh/apache/pinot/commit/866c796bd56cf846b654f29f024f3e610557b2c7?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (866c796) will **decrease** coverage by `56.42%`.\n> The diff coverage is `0.00%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10678       +/-   ##\n=============================================\n- Coverage     70.25%   13.83%   -56.42%     \n+ Complexity     6503      439     -6064     \n=============================================\n  Files          2108     2054       -54     \n  Lines        113866   111423     -2443     \n  Branches      17181    16895      -286     \n=============================================\n- Hits          79991    15411    -64580     \n- Misses        28283    94754    +66471     \n+ Partials       5592     1258     -4334     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `?` | |\n| integration2 | `?` | |\n| unittests1 | `?` | |\n| unittests2 | `13.83% <0.00%> (-0.01%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10678?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...a/org/apache/pinot/common/metrics/ServerMeter.java](https://codecov.io/gh/apache/pinot/pull/10678?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9TZXJ2ZXJNZXRlci5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...che/pinot/core/transport/grpc/GrpcQueryServer.java](https://codecov.io/gh/apache/pinot/pull/10678?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS90cmFuc3BvcnQvZ3JwYy9HcnBjUXVlcnlTZXJ2ZXIuamF2YQ==) | `0.00% <0.00%> (-52.57%)` | :arrow_down: |\n\n... and [1661 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10678/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1520557692/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1520626208","html_url":"https://github.com/apache/pinot/issues/10609#issuecomment-1520626208","issue_url":"https://api.github.com/repos/apache/pinot/issues/10609","id":1520626208,"node_id":"IC_kwDOATCU_c5aouog","user":{"login":"atris","id":1724131,"node_id":"MDQ6VXNlcjE3MjQxMzE=","avatar_url":"https://avatars.githubusercontent.com/u/1724131?v=4","gravatar_id":"","url":"https://api.github.com/users/atris","html_url":"https://github.com/atris","followers_url":"https://api.github.com/users/atris/followers","following_url":"https://api.github.com/users/atris/following{/other_user}","gists_url":"https://api.github.com/users/atris/gists{/gist_id}","starred_url":"https://api.github.com/users/atris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atris/subscriptions","organizations_url":"https://api.github.com/users/atris/orgs","repos_url":"https://api.github.com/users/atris/repos","events_url":"https://api.github.com/users/atris/events{/privacy}","received_events_url":"https://api.github.com/users/atris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-24T18:18:52Z","updated_at":"2023-04-24T18:18:52Z","author_association":"CONTRIBUTOR","body":"> @atris\r\n> \r\n> Asked ChatGPT on this\r\n> \r\n> > The SQL Standard defines the LIKE operator to be case insensitive\r\n> \r\n> and it says:\r\n> \r\n> ```\r\n> According to the SQL-92 standard, column values are not required to be case-sensitive, so the \r\n> implementation of case-sensitivity for column values is left up to the database system.\r\n> \r\n> That being said, most database systems do treat column values as case-sensitive by default. \r\n> This means that \"John\" and \"john\" would be considered two different values in a column. \r\n> However, some database systems may provide options or settings to allow for case-insensitive\r\n> comparison of column values.\r\n> ```\r\n> \r\n> It seems - **identifiers, such as table and column names, are not case-sensitive** as per SQL-92 standard.\r\n> \r\n> Also it looks like that behaviour of `REGEXP_LIKE` is case-insensitive as well in Pinot. According to ChatGPT:\r\n> \r\n> ```\r\n> According to the SQL standard, the REGEXP_LIKE function should be case-sensitive by default.\r\n> ```\r\n> \r\n> So I think the behaviour of `REGEXP_LIKE` should be fixed for sure but that is also backward-incompatible.\r\n\r\nOk, I stand corrected. Nevertheless, databases choose one path. I am +1 to adding the capacity of specifying case sensitive searches -- as an extension to LIKE, while leaving the default behaviour the same.\r\n\r\nWe need to think about REGEXP_LIKE's rollout plan, but should fix it for sure.\r\n\r\nThinking about it, most databases make this choice a lot more obvious by using UPPER and LOWER. Should we consider that option?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1520626208/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1520941010","html_url":"https://github.com/apache/pinot/issues/10658#issuecomment-1520941010","issue_url":"https://api.github.com/repos/apache/pinot/issues/10658","id":1520941010,"node_id":"IC_kwDOATCU_c5ap7fS","user":{"login":"somandal","id":47411403,"node_id":"MDQ6VXNlcjQ3NDExNDAz","avatar_url":"https://avatars.githubusercontent.com/u/47411403?v=4","gravatar_id":"","url":"https://api.github.com/users/somandal","html_url":"https://github.com/somandal","followers_url":"https://api.github.com/users/somandal/followers","following_url":"https://api.github.com/users/somandal/following{/other_user}","gists_url":"https://api.github.com/users/somandal/gists{/gist_id}","starred_url":"https://api.github.com/users/somandal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/somandal/subscriptions","organizations_url":"https://api.github.com/users/somandal/orgs","repos_url":"https://api.github.com/users/somandal/repos","events_url":"https://api.github.com/users/somandal/events{/privacy}","received_events_url":"https://api.github.com/users/somandal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-24T23:14:57Z","updated_at":"2023-04-24T23:19:28Z","author_association":"CONTRIBUTOR","body":"Thanks @vvivekiyer I'll take a look at this in more detail soon. Just wanted to bring up what we discussed offline:\r\n\r\n> Do not introduce an ARRAY datatype. But equate/evolve our support of MV columns to achieve all the support that ARRAYs have.\r\n\r\nI do have some concerns with this. MV today doesn't have a very clear guideline on whether it's really like an ARRAY or a SET or something else. For example (as we discussed offline), today when the `ForwardIndexHandler` disables the forward index for an MV column and wants to reconstruct it later on, the following guarantees cannot be met:\r\n\r\n- The order of the elements in each MV row can be reordered (i.e. ordering is not preserved on re-enabling the forward index). This breaks array semantics\r\n- Today when an MV row has duplicate entries, on forward index reconstruction the duplicates are lost as we don't store frequency information. This breaks array semantics.\r\n\r\nFixing the reordering issue is not really possible as we'd need to store some information in the segment about the order of data and this will take away the benefits of disabling the forward index in the first place. As for duplicate handling, we can potentially fix this by storing the frequency when the forward index is disabled, but this is still a non-trivial change and will need to be fixed.\r\n\r\nThough we don't reorder MV rows (as far as I can tell) anywhere else in the code, these semantics aren't ingrained into Pinot. We may need to make significant changes (at least to our handling of the forward index) to make this work, or make the call that if someone disables forward index and re-enables it, they may lose all form of array semantics.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1520941010/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1520996294","html_url":"https://github.com/apache/pinot/pull/10587#issuecomment-1520996294","issue_url":"https://api.github.com/repos/apache/pinot/issues/10587","id":1520996294,"node_id":"IC_kwDOATCU_c5aqI_G","user":{"login":"somandal","id":47411403,"node_id":"MDQ6VXNlcjQ3NDExNDAz","avatar_url":"https://avatars.githubusercontent.com/u/47411403?v=4","gravatar_id":"","url":"https://api.github.com/users/somandal","html_url":"https://github.com/somandal","followers_url":"https://api.github.com/users/somandal/followers","following_url":"https://api.github.com/users/somandal/following{/other_user}","gists_url":"https://api.github.com/users/somandal/gists{/gist_id}","starred_url":"https://api.github.com/users/somandal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/somandal/subscriptions","organizations_url":"https://api.github.com/users/somandal/orgs","repos_url":"https://api.github.com/users/somandal/repos","events_url":"https://api.github.com/users/somandal/events{/privacy}","received_events_url":"https://api.github.com/users/somandal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-25T00:35:09Z","updated_at":"2023-04-25T00:35:09Z","author_association":"CONTRIBUTOR","body":"@siddharthteotia opened a PR to address comments: https://github.com/apache/pinot/pull/10684","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1520996294/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1521017224","html_url":"https://github.com/apache/pinot/pull/10660#issuecomment-1521017224","issue_url":"https://api.github.com/repos/apache/pinot/issues/10660","id":1521017224,"node_id":"IC_kwDOATCU_c5aqOGI","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-25T01:02:48Z","updated_at":"2023-04-28T00:01:14Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10660?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10660](https://codecov.io/gh/apache/pinot/pull/10660?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (54421da) into [master](https://codecov.io/gh/apache/pinot/commit/d806b5f8f2750fa5611584537ae1451b332f649f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (d806b5f) will **increase** coverage by `1.73%`.\n> The diff coverage is `80.95%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10660      +/-   ##\n============================================\n+ Coverage     68.44%   70.18%   +1.73%     \n- Complexity     6421     6428       +7     \n============================================\n  Files          2107     2111       +4     \n  Lines        113792   113912     +120     \n  Branches      17199    17220      +21     \n============================================\n+ Hits          77887    79951    +2064     \n+ Misses        30369    28353    -2016     \n- Partials       5536     5608      +72     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.29% <75.85%> (-0.13%)` | :arrow_down: |\n| integration2 | `23.97% <77.21%> (?)` | |\n| unittests1 | `67.76% <79.59%> (+0.02%)` | :arrow_up: |\n| unittests2 | `13.82% <0.00%> (-0.06%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10660?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...ot/core/operator/combine/CombineOperatorUtils.java](https://codecov.io/gh/apache/pinot/pull/10660?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9jb21iaW5lL0NvbWJpbmVPcGVyYXRvclV0aWxzLmphdmE=) | `100.00% <ø> (ø)` | |\n| [...ot/core/query/pruner/BloomFilterSegmentPruner.java](https://codecov.io/gh/apache/pinot/pull/10660?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9wcnVuZXIvQmxvb21GaWx0ZXJTZWdtZW50UHJ1bmVyLmphdmE=) | `58.92% <58.92%> (ø)` | |\n| [...va/org/apache/pinot/core/plan/CombinePlanNode.java](https://codecov.io/gh/apache/pinot/pull/10660?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9wbGFuL0NvbWJpbmVQbGFuTm9kZS5qYXZh) | `90.00% <92.85%> (+15.67%)` | :arrow_up: |\n| [...ache/pinot/core/util/QueryMultiThreadingUtils.java](https://codecov.io/gh/apache/pinot/pull/10660?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS91dGlsL1F1ZXJ5TXVsdGlUaHJlYWRpbmdVdGlscy5qYXZh) | `93.10% <93.10%> (ø)` | |\n| [...not/core/query/pruner/ValueBasedSegmentPruner.java](https://codecov.io/gh/apache/pinot/pull/10660?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9wcnVuZXIvVmFsdWVCYXNlZFNlZ21lbnRQcnVuZXIuamF2YQ==) | `93.75% <93.75%> (ø)` | |\n| [...ot/core/query/pruner/ColumnValueSegmentPruner.java](https://codecov.io/gh/apache/pinot/pull/10660?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9wcnVuZXIvQ29sdW1uVmFsdWVTZWdtZW50UHJ1bmVyLmphdmE=) | `94.89% <97.14%> (+11.40%)` | :arrow_up: |\n| [...not/core/operator/combine/BaseCombineOperator.java](https://codecov.io/gh/apache/pinot/pull/10660?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9jb21iaW5lL0Jhc2VDb21iaW5lT3BlcmF0b3IuamF2YQ==) | `90.69% <100.00%> (ø)` | |\n| [...core/query/executor/ServerQueryExecutorV1Impl.java](https://codecov.io/gh/apache/pinot/pull/10660?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9leGVjdXRvci9TZXJ2ZXJRdWVyeUV4ZWN1dG9yVjFJbXBsLmphdmE=) | `82.08% <100.00%> (-1.91%)` | :arrow_down: |\n| [.../apache/pinot/core/query/pruner/SegmentPruner.java](https://codecov.io/gh/apache/pinot/pull/10660?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9wcnVuZXIvU2VnbWVudFBydW5lci5qYXZh) | `100.00% <100.00%> (ø)` | |\n| [...pinot/core/query/pruner/SegmentPrunerProvider.java](https://codecov.io/gh/apache/pinot/pull/10660?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9wcnVuZXIvU2VnbWVudFBydW5lclByb3ZpZGVyLmphdmE=) | `85.71% <100.00%> (+1.09%)` | :arrow_up: |\n| ... and [2 more](https://codecov.io/gh/apache/pinot/pull/10660?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n... and [179 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10660/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1521017224/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1521027482","html_url":"https://github.com/apache/pinot/pull/10683#issuecomment-1521027482","issue_url":"https://api.github.com/repos/apache/pinot/issues/10683","id":1521027482,"node_id":"IC_kwDOATCU_c5aqQma","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-25T01:19:56Z","updated_at":"2023-05-10T17:51:10Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/10683?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10683](https://app.codecov.io/gh/apache/pinot/pull/10683?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (3776f14) into [master](https://app.codecov.io/gh/apache/pinot/commit/cb0ffc0307708cc18e443b061cc09c4d7896e6e9?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (cb0ffc0) will **increase** coverage by `1.81%`.\n> The diff coverage is `71.42%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10683      +/-   ##\n============================================\n+ Coverage     68.63%   70.44%   +1.81%     \n- Complexity     6463     6469       +6     \n============================================\n  Files          2143     2143              \n  Lines        115167   115175       +8     \n  Branches      17352    17354       +2     \n============================================\n+ Hits          79048    81139    +2091     \n+ Misses        30539    28396    -2143     \n- Partials       5580     5640      +60     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.26% <14.28%> (+0.07%)` | :arrow_up: |\n| integration2 | `23.96% <71.42%> (?)` | |\n| unittests1 | `68.02% <0.00%> (-0.03%)` | :arrow_down: |\n| unittests2 | `13.74% <5.26%> (-0.03%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://app.codecov.io/gh/apache/pinot/pull/10683?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [.../apache/pinot/common/exception/QueryException.java](https://app.codecov.io/gh/apache/pinot/pull/10683?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZXhjZXB0aW9uL1F1ZXJ5RXhjZXB0aW9uLmphdmE=) | `94.50% <ø> (ø)` | |\n| [...counting/HeapUsagePublishingAccountantFactory.java](https://app.codecov.io/gh/apache/pinot/pull/10683?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9hY2NvdW50aW5nL0hlYXBVc2FnZVB1Ymxpc2hpbmdBY2NvdW50YW50RmFjdG9yeS5qYXZh) | `0.00% <ø> (ø)` | |\n| [...ore/query/scheduler/resources/ResourceManager.java](https://app.codecov.io/gh/apache/pinot/pull/10683?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9zY2hlZHVsZXIvcmVzb3VyY2VzL1Jlc291cmNlTWFuYWdlci5qYXZh) | `100.00% <ø> (ø)` | |\n| [.../main/java/org/apache/pinot/spi/trace/Tracing.java](https://app.codecov.io/gh/apache/pinot/pull/10683?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdHJhY2UvVHJhY2luZy5qYXZh) | `60.00% <0.00%> (-6.25%)` | :arrow_down: |\n| [...va/org/apache/pinot/spi/utils/CommonConstants.java](https://app.codecov.io/gh/apache/pinot/pull/10683?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdXRpbHMvQ29tbW9uQ29uc3RhbnRzLmphdmE=) | `26.74% <ø> (ø)` | |\n| [...re/accounting/PerQueryCPUMemAccountantFactory.java](https://app.codecov.io/gh/apache/pinot/pull/10683?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9hY2NvdW50aW5nL1BlclF1ZXJ5Q1BVTWVtQWNjb3VudGFudEZhY3RvcnkuamF2YQ==) | `76.66% <61.53%> (+76.66%)` | :arrow_up: |\n| [...e/pinot/broker/broker/helix/BaseBrokerStarter.java](https://app.codecov.io/gh/apache/pinot/pull/10683?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0Jhc2VCcm9rZXJTdGFydGVyLmphdmE=) | `76.37% <100.00%> (+2.36%)` | :arrow_up: |\n| [...unting/PerQueryCPUMemAccountantFactoryForTest.java](https://app.codecov.io/gh/apache/pinot/pull/10683?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9hY2NvdW50aW5nL1BlclF1ZXJ5Q1BVTWVtQWNjb3VudGFudEZhY3RvcnlGb3JUZXN0LmphdmE=) | `100.00% <100.00%> (+100.00%)` | :arrow_up: |\n| [...operator/blocks/results/ExceptionResultsBlock.java](https://app.codecov.io/gh/apache/pinot/pull/10683?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9ibG9ja3MvcmVzdWx0cy9FeGNlcHRpb25SZXN1bHRzQmxvY2suamF2YQ==) | `72.72% <100.00%> (+6.06%)` | :arrow_up: |\n| [.../pinot/server/starter/helix/BaseServerStarter.java](https://app.codecov.io/gh/apache/pinot/pull/10683?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvc3RhcnRlci9oZWxpeC9CYXNlU2VydmVyU3RhcnRlci5qYXZh) | `57.00% <100.00%> (+1.90%)` | :arrow_up: |\n\n... and [175 files with indirect coverage changes](https://app.codecov.io/gh/apache/pinot/pull/10683/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1521027482/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1521042266","html_url":"https://github.com/apache/pinot/pull/10684#issuecomment-1521042266","issue_url":"https://api.github.com/repos/apache/pinot/issues/10684","id":1521042266,"node_id":"IC_kwDOATCU_c5aqUNa","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-25T01:50:22Z","updated_at":"2023-04-25T01:50:22Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10684?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10684](https://codecov.io/gh/apache/pinot/pull/10684?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (ccc4c74) into [master](https://codecov.io/gh/apache/pinot/commit/a130cb2b1e465ad9ad3bdb4428a32fef5bf54cdd?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (a130cb2) will **decrease** coverage by `54.66%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10684       +/-   ##\n=============================================\n- Coverage     68.47%   13.82%   -54.66%     \n+ Complexity     6507      439     -6068     \n=============================================\n  Files          2108     2054       -54     \n  Lines        113904   111417     -2487     \n  Branches      17192    16895      -297     \n=============================================\n- Hits          77997    15402    -62595     \n- Misses        30354    94757    +64403     \n+ Partials       5553     1258     -4295     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `?` | |\n| unittests1 | `?` | |\n| unittests2 | `13.82% <ø> (-0.01%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10684?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...uery/runtime/operator/WindowAggregateOperator.java](https://codecov.io/gh/apache/pinot/pull/10684?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9vcGVyYXRvci9XaW5kb3dBZ2dyZWdhdGVPcGVyYXRvci5qYXZh) | `0.00% <ø> (-95.29%)` | :arrow_down: |\n\n... and [1623 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10684/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1521042266/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1521406124","html_url":"https://github.com/apache/pinot/pull/10681#issuecomment-1521406124","issue_url":"https://api.github.com/repos/apache/pinot/issues/10681","id":1521406124,"node_id":"IC_kwDOATCU_c5artCs","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-25T08:43:14Z","updated_at":"2023-04-25T23:13:34Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10681?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10681](https://codecov.io/gh/apache/pinot/pull/10681?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (2769ea0) into [master](https://codecov.io/gh/apache/pinot/commit/96d34fd280b154c9d6f8435ac787b7bebd1e631e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (96d34fd) will **decrease** coverage by `0.09%`.\n> The diff coverage is `85.09%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10681      +/-   ##\n============================================\n- Coverage     70.29%   70.20%   -0.09%     \n+ Complexity     6514     6428      -86     \n============================================\n  Files          2108     2107       -1     \n  Lines        113904   113786     -118     \n  Branches      17192    17199       +7     \n============================================\n- Hits          80065    79889     -176     \n- Misses        28229    28298      +69     \n+ Partials       5610     5599      -11     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.29% <0.99%> (-0.08%)` | :arrow_down: |\n| integration2 | `23.96% <0.66%> (-0.06%)` | :arrow_down: |\n| unittests1 | `67.74% <85.23%> (-0.09%)` | :arrow_down: |\n| unittests2 | `13.85% <0.66%> (+<0.01%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10681?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...he/pinot/query/mailbox/channel/ChannelManager.java](https://codecov.io/gh/apache/pinot/pull/10681?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvbWFpbGJveC9jaGFubmVsL0NoYW5uZWxNYW5hZ2VyLmphdmE=) | `100.00% <ø> (ø)` | |\n| [...y/runtime/operator/exchange/BroadcastExchange.java](https://codecov.io/gh/apache/pinot/pull/10681?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9vcGVyYXRvci9leGNoYW5nZS9Ccm9hZGNhc3RFeGNoYW5nZS5qYXZh) | `100.00% <ø> (ø)` | |\n| [.../query/runtime/operator/exchange/HashExchange.java](https://codecov.io/gh/apache/pinot/pull/10681?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9vcGVyYXRvci9leGNoYW5nZS9IYXNoRXhjaGFuZ2UuamF2YQ==) | `100.00% <ø> (ø)` | |\n| [...uery/runtime/operator/exchange/RandomExchange.java](https://codecov.io/gh/apache/pinot/pull/10681?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9vcGVyYXRvci9leGNoYW5nZS9SYW5kb21FeGNoYW5nZS5qYXZh) | `100.00% <ø> (ø)` | |\n| [...y/runtime/operator/exchange/SingletonExchange.java](https://codecov.io/gh/apache/pinot/pull/10681?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9vcGVyYXRvci9leGNoYW5nZS9TaW5nbGV0b25FeGNoYW5nZS5qYXZh) | `100.00% <ø> (ø)` | |\n| [...ot/query/runtime/plan/OpChainExecutionContext.java](https://codecov.io/gh/apache/pinot/pull/10681?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9wbGFuL09wQ2hhaW5FeGVjdXRpb25Db250ZXh0LmphdmE=) | `96.15% <ø> (ø)` | |\n| [.../runtime/plan/server/ServerPlanRequestContext.java](https://codecov.io/gh/apache/pinot/pull/10681?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9wbGFuL3NlcnZlci9TZXJ2ZXJQbGFuUmVxdWVzdENvbnRleHQuamF2YQ==) | `100.00% <ø> (ø)` | |\n| [.../org/apache/pinot/segment/spi/index/IndexType.java](https://codecov.io/gh/apache/pinot/pull/10681?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1zcGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3NlZ21lbnQvc3BpL2luZGV4L0luZGV4VHlwZS5qYXZh) | `50.00% <0.00%> (-50.00%)` | :arrow_down: |\n| [...t/query/runtime/plan/ServerRequestPlanVisitor.java](https://codecov.io/gh/apache/pinot/pull/10681?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9wbGFuL1NlcnZlclJlcXVlc3RQbGFuVmlzaXRvci5qYXZh) | `86.20% <72.72%> (-0.12%)` | :arrow_down: |\n| [...g/apache/pinot/query/mailbox/ReceivingMailbox.java](https://codecov.io/gh/apache/pinot/pull/10681?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvbWFpbGJveC9SZWNlaXZpbmdNYWlsYm94LmphdmE=) | `73.80% <73.80%> (ø)` | |\n| ... and [20 more](https://codecov.io/gh/apache/pinot/pull/10681?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n... and [41 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10681/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1521406124/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1521530222","html_url":"https://github.com/apache/pinot/pull/10685#issuecomment-1521530222","issue_url":"https://api.github.com/repos/apache/pinot/issues/10685","id":1521530222,"node_id":"IC_kwDOATCU_c5asLVu","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-25T10:11:45Z","updated_at":"2023-04-27T21:35:51Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10685?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10685](https://codecov.io/gh/apache/pinot/pull/10685?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (c9d6c20) into [master](https://codecov.io/gh/apache/pinot/commit/768a0b90b6f2a149affa4d18793a4c1d5ae679a6?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (768a0b9) will **increase** coverage by `0.00%`.\n> The diff coverage is `100.00%`.\n\n```diff\n@@            Coverage Diff            @@\n##             master   #10685   +/-   ##\n=========================================\n  Coverage     68.38%   68.38%           \n  Complexity     6420     6420           \n=========================================\n  Files          2107     2107           \n  Lines        113793   113804   +11     \n  Branches      17200    17202    +2     \n=========================================\n+ Hits          77817    77826    +9     \n- Misses        30433    30436    +3     \n+ Partials       5543     5542    -1     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.26% <0.00%> (-0.05%)` | :arrow_down: |\n| unittests1 | `67.76% <100.00%> (+0.01%)` | :arrow_up: |\n| unittests2 | `13.83% <0.00%> (-0.01%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10685?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [.../java/org/apache/pinot/query/QueryEnvironment.java](https://codecov.io/gh/apache/pinot/pull/10685?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvUXVlcnlFbnZpcm9ubWVudC5qYXZh) | `94.17% <100.00%> (+0.69%)` | :arrow_up: |\n\n... and [36 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10685/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1521530222/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1521750495","html_url":"https://github.com/apache/pinot/issues/10654#issuecomment-1521750495","issue_url":"https://api.github.com/repos/apache/pinot/issues/10654","id":1521750495,"node_id":"IC_kwDOATCU_c5atBHf","user":{"login":"chrishanKH","id":43552036,"node_id":"MDQ6VXNlcjQzNTUyMDM2","avatar_url":"https://avatars.githubusercontent.com/u/43552036?v=4","gravatar_id":"","url":"https://api.github.com/users/chrishanKH","html_url":"https://github.com/chrishanKH","followers_url":"https://api.github.com/users/chrishanKH/followers","following_url":"https://api.github.com/users/chrishanKH/following{/other_user}","gists_url":"https://api.github.com/users/chrishanKH/gists{/gist_id}","starred_url":"https://api.github.com/users/chrishanKH/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrishanKH/subscriptions","organizations_url":"https://api.github.com/users/chrishanKH/orgs","repos_url":"https://api.github.com/users/chrishanKH/repos","events_url":"https://api.github.com/users/chrishanKH/events{/privacy}","received_events_url":"https://api.github.com/users/chrishanKH/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-25T13:00:28Z","updated_at":"2023-04-25T13:01:15Z","author_association":"NONE","body":"The fix is to pass the extra configs as a YAML file and include it in `extra.configs` so they are populated in [this](https://github.com/apache/pinot/blob/b0284994393c09d79917e529592b8ac10258e9ea/kubernetes/helm/pinot/templates/controller/configmap.yaml#L34) block. An example, working config looks like:\r\n\r\n```\r\ncontroller:\r\n  enable:\r\n    split:\r\n      commit: true\r\n  data:\r\n    dir: s3://data-pinot-deep-storage\r\n\r\n  extra:\r\n    configs: |-\r\n      pinot.set.instance.id.to.hostname=true\r\n      controller.task.scheduler.enabled=true\r\n      controller.local.temp.dir=/tmp/pinot-tmp-data/\r\n      pinot.controller.storage.factory.class.s3=org.apache.pinot.plugin.filesystem.S3PinotFS\r\n      pinot.controller.storage.factory.s3.region=ap-south-1\r\n      pinot.controller.segment.fetcher.protocols=file,http,s3\r\n      pinot.controller.segment.fetcher.s3.class=org.apache.pinot.common.utils.fetcher.PinotFSSegmentFetcher\r\n\r\nserver:\r\n  extra:\r\n    configs: |-\r\n      pinot.server.storage.factory.class.s3=org.apache.pinot.plugin.filesystem.S3PinotFS\r\n      pinot.server.storage.factory.s3.region=ap-south-1\r\n      pinot.server.segment.fetcher.protocols=file,http,s3\r\n      pinot.server.segment.fetcher.s3.class=org.apache.pinot.common.utils.fetcher.PinotFSSegmentFetcher\r\n      pinot.server.instance.enable.split.commit=true\r\n      pinot.server.storage.factory.s3.httpclient.maxConnections=50\r\n      pinot.server.storage.factory.s3.httpclient.socketTimeout=30s\r\n      pinot.server.storage.factory.s3.httpclient.connectionTimeout=2s\r\n      pinot.server.storage.factory.s3.httpclient.connectionTimeToLive=0s\r\n      pinot.server.storage.factory.s3.httpclient.connectionAcquisitionTimeout=10s\r\n\r\nminion:\r\n  extra:\r\n    configs: |-\r\n      pinot.minion.storage.factory.class.s3=org.apache.pinot.plugin.filesystem.S3PinotFS\r\n      pinot.minion.storage.factory.s3.region=ap-south-1\r\n      pinot.minion.segment.fetcher.protocols=file,http,s3\r\n      pinot.minion.segment.fetcher.s3.class=org.apache.pinot.common.utils.fetcher.PinotFSSegmentFetcher\r\n```\r\nPut this into a file called `values-s3-deepstore.yaml` and then pass it to `helm install`:\r\n\r\n`helm install -f values.yaml -f values-s3-deepstore.yaml pinot pinot/pinot -n namespace`","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1521750495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1521806262","html_url":"https://github.com/apache/pinot/issues/10686#issuecomment-1521806262","issue_url":"https://api.github.com/repos/apache/pinot/issues/10686","id":1521806262,"node_id":"IC_kwDOATCU_c5atOu2","user":{"login":"abhioncbr","id":1076944,"node_id":"MDQ6VXNlcjEwNzY5NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1076944?v=4","gravatar_id":"","url":"https://api.github.com/users/abhioncbr","html_url":"https://github.com/abhioncbr","followers_url":"https://api.github.com/users/abhioncbr/followers","following_url":"https://api.github.com/users/abhioncbr/following{/other_user}","gists_url":"https://api.github.com/users/abhioncbr/gists{/gist_id}","starred_url":"https://api.github.com/users/abhioncbr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhioncbr/subscriptions","organizations_url":"https://api.github.com/users/abhioncbr/orgs","repos_url":"https://api.github.com/users/abhioncbr/repos","events_url":"https://api.github.com/users/abhioncbr/events{/privacy}","received_events_url":"https://api.github.com/users/abhioncbr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-25T13:37:48Z","updated_at":"2023-04-25T13:37:48Z","author_association":"CONTRIBUTOR","body":"I am planning to work on this. Thanks","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1521806262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1521982605","html_url":"https://github.com/apache/pinot/pull/10488#issuecomment-1521982605","issue_url":"https://api.github.com/repos/apache/pinot/issues/10488","id":1521982605,"node_id":"IC_kwDOATCU_c5at5yN","user":{"login":"walterddr","id":3581352,"node_id":"MDQ6VXNlcjM1ODEzNTI=","avatar_url":"https://avatars.githubusercontent.com/u/3581352?v=4","gravatar_id":"","url":"https://api.github.com/users/walterddr","html_url":"https://github.com/walterddr","followers_url":"https://api.github.com/users/walterddr/followers","following_url":"https://api.github.com/users/walterddr/following{/other_user}","gists_url":"https://api.github.com/users/walterddr/gists{/gist_id}","starred_url":"https://api.github.com/users/walterddr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/walterddr/subscriptions","organizations_url":"https://api.github.com/users/walterddr/orgs","repos_url":"https://api.github.com/users/walterddr/repos","events_url":"https://api.github.com/users/walterddr/events{/privacy}","received_events_url":"https://api.github.com/users/walterddr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-25T15:19:47Z","updated_at":"2023-04-25T15:19:47Z","author_association":"CONTRIBUTOR","body":"this PR can be closed if we have #10685 yes?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1521982605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1522096587","html_url":"https://github.com/apache/pinot/pull/10687#issuecomment-1522096587","issue_url":"https://api.github.com/repos/apache/pinot/issues/10687","id":1522096587,"node_id":"IC_kwDOATCU_c5auVnL","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-25T16:36:35Z","updated_at":"2023-05-18T10:18:22Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/10687?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\n> Merging [#10687](https://app.codecov.io/gh/apache/pinot/pull/10687?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (364876a) into [master](https://app.codecov.io/gh/apache/pinot/commit/12d86902a84d4bc78b6f2f7bc8bd002659ee61cb?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (12d8690) will **decrease** coverage by `38.73%`.\n> The diff coverage is `5.76%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master   #10687       +/-   ##\n=============================================\n- Coverage     70.32%   31.60%   -38.73%     \n+ Complexity     6473      453     -6020     \n=============================================\n  Files          2157     2159        +2     \n  Lines        116016   116028       +12     \n  Branches      17552    17563       +11     \n=============================================\n- Hits          81586    36665    -44921     \n- Misses        28731    76046    +47315     \n+ Partials       5699     3317     -2382     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.04% <0.86%> (+0.03%)` | :arrow_up: |\n| integration2 | `?` | |\n| unittests1 | `?` | |\n| unittests2 | `13.69% <4.89%> (+<0.01%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://app.codecov.io/gh/apache/pinot/pull/10687?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [...manager/realtime/HLRealtimeSegmentDataManager.java](https://app.codecov.io/gh/apache/pinot/pull/10687?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvSExSZWFsdGltZVNlZ21lbnREYXRhTWFuYWdlci5qYXZh) | `0.00% <0.00%> (-80.28%)` | :arrow_down: |\n| [...local/indexsegment/mutable/MutableSegmentImpl.java](https://app.codecov.io/gh/apache/pinot/pull/10687?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9pbmRleHNlZ21lbnQvbXV0YWJsZS9NdXRhYmxlU2VnbWVudEltcGwuamF2YQ==) | `0.00% <0.00%> (-57.35%)` | :arrow_down: |\n| [...ent/local/realtime/impl/RealtimeSegmentConfig.java](https://app.codecov.io/gh/apache/pinot/pull/10687?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9yZWFsdGltZS9pbXBsL1JlYWx0aW1lU2VnbWVudENvbmZpZy5qYXZh) | `0.00% <0.00%> (-92.43%)` | :arrow_down: |\n| [...local/realtime/impl/geospatial/MutableH3Index.java](https://app.codecov.io/gh/apache/pinot/pull/10687?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9yZWFsdGltZS9pbXBsL2dlb3NwYXRpYWwvTXV0YWJsZUgzSW5kZXguamF2YQ==) | `0.00% <0.00%> (-93.34%)` | :arrow_down: |\n| [...time/impl/invertedindex/NativeMutableFSTIndex.java](https://app.codecov.io/gh/apache/pinot/pull/10687?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9yZWFsdGltZS9pbXBsL2ludmVydGVkaW5kZXgvTmF0aXZlTXV0YWJsZUZTVEluZGV4LmphdmE=) | `0.00% <0.00%> (-94.74%)` | :arrow_down: |\n| [...al/segment/index/datasource/MutableDataSource.java](https://app.codecov.io/gh/apache/pinot/pull/10687?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L2luZGV4L2RhdGFzb3VyY2UvTXV0YWJsZURhdGFTb3VyY2UuamF2YQ==) | `0.00% <0.00%> (-84.62%)` | :arrow_down: |\n| [.../segment/index/dictionary/DictionaryIndexType.java](https://app.codecov.io/gh/apache/pinot/pull/10687?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L2luZGV4L2RpY3Rpb25hcnkvRGljdGlvbmFyeUluZGV4VHlwZS5qYXZh) | `0.00% <0.00%> (-83.67%)` | :arrow_down: |\n| [.../local/segment/index/forward/ForwardIndexType.java](https://app.codecov.io/gh/apache/pinot/pull/10687?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L2luZGV4L2ZvcndhcmQvRm9yd2FyZEluZGV4VHlwZS5qYXZh) | `0.00% <0.00%> (-97.50%)` | :arrow_down: |\n| [.../segment/local/segment/index/fst/FstIndexType.java](https://app.codecov.io/gh/apache/pinot/pull/10687?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L2luZGV4L2ZzdC9Gc3RJbmRleFR5cGUuamF2YQ==) | `0.00% <0.00%> (-80.49%)` | :arrow_down: |\n| [...ot/segment/local/segment/index/h3/H3IndexType.java](https://app.codecov.io/gh/apache/pinot/pull/10687?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L2luZGV4L2gzL0gzSW5kZXhUeXBlLmphdmE=) | `0.00% <0.00%> (-85.72%)` | :arrow_down: |\n| ... and [17 more](https://app.codecov.io/gh/apache/pinot/pull/10687?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | |\n\n... and [1347 files with indirect coverage changes](https://app.codecov.io/gh/apache/pinot/pull/10687/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1522096587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1522148787","html_url":"https://github.com/apache/pinot/issues/10688#issuecomment-1522148787","issue_url":"https://api.github.com/repos/apache/pinot/issues/10688","id":1522148787,"node_id":"IC_kwDOATCU_c5auiWz","user":{"login":"walterddr","id":3581352,"node_id":"MDQ6VXNlcjM1ODEzNTI=","avatar_url":"https://avatars.githubusercontent.com/u/3581352?v=4","gravatar_id":"","url":"https://api.github.com/users/walterddr","html_url":"https://github.com/walterddr","followers_url":"https://api.github.com/users/walterddr/followers","following_url":"https://api.github.com/users/walterddr/following{/other_user}","gists_url":"https://api.github.com/users/walterddr/gists{/gist_id}","starred_url":"https://api.github.com/users/walterddr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/walterddr/subscriptions","organizations_url":"https://api.github.com/users/walterddr/orgs","repos_url":"https://api.github.com/users/walterddr/repos","events_url":"https://api.github.com/users/walterddr/events{/privacy}","received_events_url":"https://api.github.com/users/walterddr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-25T17:19:23Z","updated_at":"2023-04-25T17:19:23Z","author_association":"CONTRIBUTOR","body":"solution:\r\n\r\ninstead of making `Connection.resolveTableName` call into \r\n```\r\n  private static String resolveTableName(String query) {\r\n    try {\r\n      return CalciteSqlCompiler.compileToBrokerRequest(query).querySource.tableName;\r\n      ...\r\n```\r\nwe should switch to \r\n```\r\n    SqlNode sqlNode = CalciteSqlParser.extractSqlNodeAndOptions(query);\r\n    return CalciteSqlParser.extractTableNamesFromNode(sqlNode);\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1522148787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1522176686","html_url":"https://github.com/apache/pinot/issues/10688#issuecomment-1522176686","issue_url":"https://api.github.com/repos/apache/pinot/issues/10688","id":1522176686,"node_id":"IC_kwDOATCU_c5aupKu","user":{"login":"abhioncbr","id":1076944,"node_id":"MDQ6VXNlcjEwNzY5NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1076944?v=4","gravatar_id":"","url":"https://api.github.com/users/abhioncbr","html_url":"https://github.com/abhioncbr","followers_url":"https://api.github.com/users/abhioncbr/followers","following_url":"https://api.github.com/users/abhioncbr/following{/other_user}","gists_url":"https://api.github.com/users/abhioncbr/gists{/gist_id}","starred_url":"https://api.github.com/users/abhioncbr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhioncbr/subscriptions","organizations_url":"https://api.github.com/users/abhioncbr/orgs","repos_url":"https://api.github.com/users/abhioncbr/repos","events_url":"https://api.github.com/users/abhioncbr/events{/privacy}","received_events_url":"https://api.github.com/users/abhioncbr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-25T17:44:39Z","updated_at":"2023-04-25T17:44:39Z","author_association":"CONTRIBUTOR","body":"Please assign it to me. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1522176686/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1522235779","html_url":"https://github.com/apache/pinot/pull/10649#issuecomment-1522235779","issue_url":"https://api.github.com/repos/apache/pinot/issues/10649","id":1522235779,"node_id":"IC_kwDOATCU_c5au3mD","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-25T18:35:00Z","updated_at":"2023-04-25T18:35:00Z","author_association":"CONTRIBUTOR","body":"@somandal This is great! Can you help update the pinot doc about this new argument?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1522235779/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1522238782","html_url":"https://github.com/apache/pinot/pull/10649#issuecomment-1522238782","issue_url":"https://api.github.com/repos/apache/pinot/issues/10649","id":1522238782,"node_id":"IC_kwDOATCU_c5au4U-","user":{"login":"somandal","id":47411403,"node_id":"MDQ6VXNlcjQ3NDExNDAz","avatar_url":"https://avatars.githubusercontent.com/u/47411403?v=4","gravatar_id":"","url":"https://api.github.com/users/somandal","html_url":"https://github.com/somandal","followers_url":"https://api.github.com/users/somandal/followers","following_url":"https://api.github.com/users/somandal/following{/other_user}","gists_url":"https://api.github.com/users/somandal/gists{/gist_id}","starred_url":"https://api.github.com/users/somandal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/somandal/subscriptions","organizations_url":"https://api.github.com/users/somandal/orgs","repos_url":"https://api.github.com/users/somandal/repos","events_url":"https://api.github.com/users/somandal/events{/privacy}","received_events_url":"https://api.github.com/users/somandal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-25T18:37:02Z","updated_at":"2023-04-25T18:37:02Z","author_association":"CONTRIBUTOR","body":"> @somandal This is great! Can you help update the pinot doc about this new argument?\r\n\r\n@Jackie-Jiang thanks, I've already updated the OSS docs:\r\nhttps://docs.pinot.apache.org/users/user-guide-query/supported-aggregations\r\nhttps://docs.pinot.apache.org/configuration-reference/functions/percentiletdigest\r\nhttps://docs.pinot.apache.org/configuration-reference/functions/percentiletdigestmv","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1522238782/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1522250423","html_url":"https://github.com/apache/pinot/issues/10637#issuecomment-1522250423","issue_url":"https://api.github.com/repos/apache/pinot/issues/10637","id":1522250423,"node_id":"IC_kwDOATCU_c5au7K3","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-25T18:43:31Z","updated_at":"2023-04-25T18:43:31Z","author_association":"CONTRIBUTOR","body":"I tried `Math.exp(2 * Math.log(3))` and got `9.000000000000002`, so I guess this result is expected. IMO both of them are correct, and maybe we should just use fuzzy compare when validating floating point values","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1522250423/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1522268806","html_url":"https://github.com/apache/pinot/issues/10651#issuecomment-1522268806","issue_url":"https://api.github.com/repos/apache/pinot/issues/10651","id":1522268806,"node_id":"IC_kwDOATCU_c5au_qG","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-25T18:58:04Z","updated_at":"2023-04-25T18:58:04Z","author_association":"CONTRIBUTOR","body":"cc @xiangfu0 \r\n\r\nI can see 2 problems by reading `PinotConfiguration`:\r\n1. Seems we are not using the constructor with environment variables\r\n2. We keep only the variable with `PINOT_` prefix, so there is no way to add key without `pinot.`","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1522268806/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1522324788","html_url":"https://github.com/apache/pinot/issues/10652#issuecomment-1522324788","issue_url":"https://api.github.com/repos/apache/pinot/issues/10652","id":1522324788,"node_id":"IC_kwDOATCU_c5avNU0","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-25T19:43:11Z","updated_at":"2023-04-25T19:43:11Z","author_association":"CONTRIBUTOR","body":"From the config perspective, instead of treating null value vector as an index similar to inverted index, I'd suggest putting it as part of the field spec (nullable). See #10428 for prior discussions","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1522324788/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1522328229","html_url":"https://github.com/apache/pinot/pull/10536#issuecomment-1522328229","issue_url":"https://api.github.com/repos/apache/pinot/issues/10536","id":1522328229,"node_id":"IC_kwDOATCU_c5avOKl","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-25T19:46:29Z","updated_at":"2023-04-25T19:46:29Z","author_association":"CONTRIBUTOR","body":"@saurabhd336 Please update the pinot doc on how to plug in the listener","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1522328229/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1522337435","html_url":"https://github.com/apache/pinot/pull/10667#issuecomment-1522337435","issue_url":"https://api.github.com/repos/apache/pinot/issues/10667","id":1522337435,"node_id":"IC_kwDOATCU_c5avQab","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-04-25T19:55:28Z","updated_at":"2023-04-25T19:55:28Z","author_association":"CONTRIBUTOR","body":"OK, I won't notify you again about this release, but will get in touch when a new version is available. If you'd rather skip all updates until the next major or minor version, let me know by commenting `@dependabot ignore this major version` or `@dependabot ignore this minor version`. You can also ignore all major, minor, or patch releases for a dependency by adding an [`ignore` condition](https://docs.github.com/en/code-security/supply-chain-security/configuration-options-for-dependency-updates#ignore) with the desired `update_types` to your config file.\n\nIf you change your mind, just re-open this PR and I'll resolve any conflicts on it.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1522337435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1522390459","html_url":"https://github.com/apache/pinot/issues/10668#issuecomment-1522390459","issue_url":"https://api.github.com/repos/apache/pinot/issues/10668","id":1522390459,"node_id":"IC_kwDOATCU_c5avdW7","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-25T20:43:13Z","updated_at":"2023-04-25T20:43:13Z","author_association":"CONTRIBUTOR","body":"We should consider adding an API to reload the whole table (internally recreate the table data manager)","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1522390459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1522518227","html_url":"https://github.com/apache/pinot/pull/10602#issuecomment-1522518227","issue_url":"https://api.github.com/repos/apache/pinot/issues/10602","id":1522518227,"node_id":"IC_kwDOATCU_c5av8jT","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-25T22:54:26Z","updated_at":"2023-04-25T22:54:26Z","author_association":"CONTRIBUTOR","body":"> > Can you check if we can directly call shut down? Calling shut down will prevent consuming segment from committing, which is desired\r\n> \r\n> It works when I tried it but then we won't be waiting for EV to converge. It would lead to race condition issues mentioned in #8423\r\n\r\nI don't think we will run into the same issue. In #8423, the race condition is triggered when table data manager is shut down without user deleting the table, and the new uploaded segment data gets deleted. The fix for that is to introduce the table delete message which ensures the table is deleted.\r\nSince we know the table is guaranteed to be deleted, we should be able to just shut down the table data manager, wait for all segments to be cleaned up (EV disappear, or current state disappear which is even better), then remove it from the instance data manager. That is actually similar to the server shut down where we first shut down the data manager, then wait for segments to be OFFLINE","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1522518227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1522523496","html_url":"https://github.com/apache/pinot/pull/10625#issuecomment-1522523496","issue_url":"https://api.github.com/repos/apache/pinot/issues/10625","id":1522523496,"node_id":"IC_kwDOATCU_c5av91o","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-25T23:01:34Z","updated_at":"2023-04-25T23:01:34Z","author_association":"CONTRIBUTOR","body":"You may take a look at how rebalance task is handled `PinotTableRestletResource.rebalance()`. Essentially we want to use a background executor to execute the task and keeps updating the ZK about the progress. Using Helix message will use the Helix executor, but we already have a dedicate executor in controller for such long running tasks.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1522523496/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1522526469","html_url":"https://github.com/apache/pinot/issues/10675#issuecomment-1522526469","issue_url":"https://api.github.com/repos/apache/pinot/issues/10675","id":1522526469,"node_id":"IC_kwDOATCU_c5av-kF","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-25T23:04:59Z","updated_at":"2023-04-25T23:04:59Z","author_association":"CONTRIBUTOR","body":"Per the exception message, I don't think it is related to the index change. The exception is thrown from RealtimeToOfflineSegmentsTask, which expects both REALTIME and OFFLINE table to exist. We should just remove this task from the table config","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1522526469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1522538451","html_url":"https://github.com/apache/pinot/issues/10609#issuecomment-1522538451","issue_url":"https://api.github.com/repos/apache/pinot/issues/10609","id":1522538451,"node_id":"IC_kwDOATCU_c5awBfT","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-25T23:23:38Z","updated_at":"2023-04-25T23:23:38Z","author_association":"CONTRIBUTOR","body":"@atris Using UPPER or LOWER can effectively convert case-sensitive to case-insensitive, but if we don't have a operator to perform case-sensitive like, there is no workaround.\r\n\r\nI personally prefer sticking with PostgreSQL behavior because we have been using it as a reference for other features and for multi-stage query engine.\r\n\r\ncc @kishoreg @xiangfu0 for broader discussion","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1522538451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1522621586","html_url":"https://github.com/apache/pinot/issues/10688#issuecomment-1522621586","issue_url":"https://api.github.com/repos/apache/pinot/issues/10688","id":1522621586,"node_id":"IC_kwDOATCU_c5awVyS","user":{"login":"abhioncbr","id":1076944,"node_id":"MDQ6VXNlcjEwNzY5NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1076944?v=4","gravatar_id":"","url":"https://api.github.com/users/abhioncbr","html_url":"https://github.com/abhioncbr","followers_url":"https://api.github.com/users/abhioncbr/followers","following_url":"https://api.github.com/users/abhioncbr/following{/other_user}","gists_url":"https://api.github.com/users/abhioncbr/gists{/gist_id}","starred_url":"https://api.github.com/users/abhioncbr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhioncbr/subscriptions","organizations_url":"https://api.github.com/users/abhioncbr/orgs","repos_url":"https://api.github.com/users/abhioncbr/repos","events_url":"https://api.github.com/users/abhioncbr/events{/privacy}","received_events_url":"https://api.github.com/users/abhioncbr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-26T01:10:45Z","updated_at":"2023-04-26T22:20:07Z","author_association":"CONTRIBUTOR","body":"Question:\r\n`extractTableNamesFromNode` returns the List of the table names; what should we do for `_brokerSelector.selectBroker`? Since the current implementation returns the broker address on which the table is hosted, multiple tables can be hosted on different brokers in the case of a JOIN query. Right?\r\n\r\n~~For testing purposes, I passed the first table name to get the broker address, but later the query execution failed with the following error~~, got it working by just getting the broker for the first table name in the list.\r\n\r\n ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1522621586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1522865970","html_url":"https://github.com/apache/pinot/issues/10652#issuecomment-1522865970","issue_url":"https://api.github.com/repos/apache/pinot/issues/10652","id":1522865970,"node_id":"IC_kwDOATCU_c5axRcy","user":{"login":"gortiz","id":1913993,"node_id":"MDQ6VXNlcjE5MTM5OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1913993?v=4","gravatar_id":"","url":"https://api.github.com/users/gortiz","html_url":"https://github.com/gortiz","followers_url":"https://api.github.com/users/gortiz/followers","following_url":"https://api.github.com/users/gortiz/following{/other_user}","gists_url":"https://api.github.com/users/gortiz/gists{/gist_id}","starred_url":"https://api.github.com/users/gortiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gortiz/subscriptions","organizations_url":"https://api.github.com/users/gortiz/orgs","repos_url":"https://api.github.com/users/gortiz/repos","events_url":"https://api.github.com/users/gortiz/events{/privacy}","received_events_url":"https://api.github.com/users/gortiz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-26T06:38:43Z","updated_at":"2023-04-26T06:39:03Z","author_association":"CONTRIBUTOR","body":"I like the idea of defining it at field spec level. The configuration shouldn't be a problem. IndexType.getConfig receives the schema as an argument, so it should be easy to read the field spec there. I guess I'm biased given that I don't have enough knowledge in that area, but I think the challenge will be in actually modifying the engine behavior in order to understand that the nullability granularity is at column level instead of table level.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1522865970/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1523330698","html_url":"https://github.com/apache/pinot/pull/10540#issuecomment-1523330698","issue_url":"https://api.github.com/repos/apache/pinot/issues/10540","id":1523330698,"node_id":"IC_kwDOATCU_c5azC6K","user":{"login":"psheets","id":4058236,"node_id":"MDQ6VXNlcjQwNTgyMzY=","avatar_url":"https://avatars.githubusercontent.com/u/4058236?v=4","gravatar_id":"","url":"https://api.github.com/users/psheets","html_url":"https://github.com/psheets","followers_url":"https://api.github.com/users/psheets/followers","following_url":"https://api.github.com/users/psheets/following{/other_user}","gists_url":"https://api.github.com/users/psheets/gists{/gist_id}","starred_url":"https://api.github.com/users/psheets/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psheets/subscriptions","organizations_url":"https://api.github.com/users/psheets/orgs","repos_url":"https://api.github.com/users/psheets/repos","events_url":"https://api.github.com/users/psheets/events{/privacy}","received_events_url":"https://api.github.com/users/psheets/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-26T12:24:36Z","updated_at":"2023-04-26T12:24:36Z","author_association":"CONTRIBUTOR","body":"Are there any other changes required before merging? ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1523330698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1523568099","html_url":"https://github.com/apache/pinot/pull/10423#issuecomment-1523568099","issue_url":"https://api.github.com/repos/apache/pinot/issues/10423","id":1523568099,"node_id":"IC_kwDOATCU_c5az83j","user":{"login":"walterddr","id":3581352,"node_id":"MDQ6VXNlcjM1ODEzNTI=","avatar_url":"https://avatars.githubusercontent.com/u/3581352?v=4","gravatar_id":"","url":"https://api.github.com/users/walterddr","html_url":"https://github.com/walterddr","followers_url":"https://api.github.com/users/walterddr/followers","following_url":"https://api.github.com/users/walterddr/following{/other_user}","gists_url":"https://api.github.com/users/walterddr/gists{/gist_id}","starred_url":"https://api.github.com/users/walterddr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/walterddr/subscriptions","organizations_url":"https://api.github.com/users/walterddr/orgs","repos_url":"https://api.github.com/users/walterddr/repos","events_url":"https://api.github.com/users/walterddr/events{/privacy}","received_events_url":"https://api.github.com/users/walterddr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-26T14:58:37Z","updated_at":"2023-04-26T14:58:37Z","author_association":"CONTRIBUTOR","body":"any additional comment on this approach? @ankitsultana @61yao @Jackie-Jiang ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1523568099/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1523832582","html_url":"https://github.com/apache/pinot/issues/10680#issuecomment-1523832582","issue_url":"https://api.github.com/repos/apache/pinot/issues/10680","id":1523832582,"node_id":"IC_kwDOATCU_c5a09cG","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-26T17:57:59Z","updated_at":"2023-04-26T17:57:59Z","author_association":"CONTRIBUTOR","body":"Good finding!\r\nCurrently the only usage for this `customConfigs` is a deprecated key `generate.inverted.index.before.push`.\r\nWe can either fix the documentation, or pull this map one level up so that it is more intuitive.\r\n@jackjlli Do you use other properties within the `customConfigs` internally?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1523832582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1523870304","html_url":"https://github.com/apache/pinot/issues/10680#issuecomment-1523870304","issue_url":"https://api.github.com/repos/apache/pinot/issues/10680","id":1523870304,"node_id":"IC_kwDOATCU_c5a1Gpg","user":{"login":"jackjlli","id":35080149,"node_id":"MDQ6VXNlcjM1MDgwMTQ5","avatar_url":"https://avatars.githubusercontent.com/u/35080149?v=4","gravatar_id":"","url":"https://api.github.com/users/jackjlli","html_url":"https://github.com/jackjlli","followers_url":"https://api.github.com/users/jackjlli/followers","following_url":"https://api.github.com/users/jackjlli/following{/other_user}","gists_url":"https://api.github.com/users/jackjlli/gists{/gist_id}","starred_url":"https://api.github.com/users/jackjlli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackjlli/subscriptions","organizations_url":"https://api.github.com/users/jackjlli/orgs","repos_url":"https://api.github.com/users/jackjlli/repos","events_url":"https://api.github.com/users/jackjlli/events{/privacy}","received_events_url":"https://api.github.com/users/jackjlli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-26T18:30:35Z","updated_at":"2023-04-26T23:24:13Z","author_association":"MEMBER","body":"Hi guys, I've checked the internal usage of this custom configs. Currently there are quite a few configs which are being used in that custom config map. I think the easier approach is to fix the documentation. Otherwise, there will be some non-trivial effort to put this map one level up (e.g. migrating all the existing table configs, making code change, etc).","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1523870304/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1523871377","html_url":"https://github.com/apache/pinot/pull/10679#issuecomment-1523871377","issue_url":"https://api.github.com/repos/apache/pinot/issues/10679","id":1523871377,"node_id":"IC_kwDOATCU_c5a1G6R","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-26T18:31:39Z","updated_at":"2024-11-04T18:45:16Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/10679?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\nAttention: Patch coverage is `57.28155%` with `44 lines` in your changes missing coverage. Please review.\n> Project coverage is 64.31%. Comparing base [(`cad764d`)](https://app.codecov.io/gh/apache/pinot/commit/cad764dcbe8793f7fb1cbec37051c27a753e4f30?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) to head [(`8691c1b`)](https://app.codecov.io/gh/apache/pinot/commit/8691c1b41e5a7b0c003e7b3169d0ecb7aab85985?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n> Report is 2301 commits behind head on master.\n\n| [Files with missing lines](https://app.codecov.io/gh/apache/pinot/pull/10679?dropdown=coverage&src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Patch % | Lines |\n|---|---|---|\n| [...ntroller/helix/core/PinotHelixResourceManager.java](https://app.codecov.io/gh/apache/pinot/pull/10679?src=pr&el=tree&filepath=pinot-controller%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fcontroller%2Fhelix%2Fcore%2FPinotHelixResourceManager.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL1Bpbm90SGVsaXhSZXNvdXJjZU1hbmFnZXIuamF2YQ==) | 65.51% | [6 Missing and 4 partials :warning: ](https://app.codecov.io/gh/apache/pinot/pull/10679?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...ller/helix/core/lineage/DefaultLineageManager.java](https://app.codecov.io/gh/apache/pinot/pull/10679?src=pr&el=tree&filepath=pinot-controller%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fcontroller%2Fhelix%2Fcore%2Flineage%2FDefaultLineageManager.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL2xpbmVhZ2UvRGVmYXVsdExpbmVhZ2VNYW5hZ2VyLmphdmE=) | 76.47% | [3 Missing and 5 partials :warning: ](https://app.codecov.io/gh/apache/pinot/pull/10679?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...rg/apache/pinot/common/lineage/SegmentLineage.java](https://app.codecov.io/gh/apache/pinot/pull/10679?src=pr&el=tree&filepath=pinot-common%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fcommon%2Flineage%2FSegmentLineage.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbGluZWFnZS9TZWdtZW50TGluZWFnZS5qYXZh) | 41.66% | [6 Missing and 1 partial :warning: ](https://app.codecov.io/gh/apache/pinot/pull/10679?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...estlet/resources/RevertReplaceSegmentsRequest.java](https://app.codecov.io/gh/apache/pinot/pull/10679?src=pr&el=tree&filepath=pinot-common%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fcommon%2Frestlet%2Fresources%2FRevertReplaceSegmentsRequest.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVzdGxldC9yZXNvdXJjZXMvUmV2ZXJ0UmVwbGFjZVNlZ21lbnRzUmVxdWVzdC5qYXZh) | 0.00% | [4 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/10679?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...n/restlet/resources/EndReplaceSegmentsRequest.java](https://app.codecov.io/gh/apache/pinot/pull/10679?src=pr&el=tree&filepath=pinot-common%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fcommon%2Frestlet%2Fresources%2FEndReplaceSegmentsRequest.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVzdGxldC9yZXNvdXJjZXMvRW5kUmVwbGFjZVNlZ21lbnRzUmVxdWVzdC5qYXZh) | 0.00% | [3 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/10679?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...restlet/resources/StartReplaceSegmentsRequest.java](https://app.codecov.io/gh/apache/pinot/pull/10679?src=pr&el=tree&filepath=pinot-common%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fcommon%2Frestlet%2Fresources%2FStartReplaceSegmentsRequest.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVzdGxldC9yZXNvdXJjZXMvU3RhcnRSZXBsYWNlU2VnbWVudHNSZXF1ZXN0LmphdmE=) | 0.00% | [3 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/10679?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...ces/PinotSegmentUploadDownloadRestletResource.java](https://app.codecov.io/gh/apache/pinot/pull/10679?src=pr&el=tree&filepath=pinot-controller%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fcontroller%2Fapi%2Fresources%2FPinotSegmentUploadDownloadRestletResource.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL1Bpbm90U2VnbWVudFVwbG9hZERvd25sb2FkUmVzdGxldFJlc291cmNlLmphdmE=) | 0.00% | [3 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/10679?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...ller/helix/core/lineage/LineageManagerFactory.java](https://app.codecov.io/gh/apache/pinot/pull/10679?src=pr&el=tree&filepath=pinot-controller%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fcontroller%2Fhelix%2Fcore%2Flineage%2FLineageManagerFactory.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL2xpbmVhZ2UvTGluZWFnZU1hbmFnZXJGYWN0b3J5LmphdmE=) | 57.14% | [3 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/10679?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...va/org/apache/pinot/controller/ControllerConf.java](https://app.codecov.io/gh/apache/pinot/pull/10679?src=pr&el=tree&filepath=pinot-controller%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fcontroller%2FControllerConf.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9Db250cm9sbGVyQ29uZi5qYXZh) | 33.33% | [2 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/10679?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [.../tasks/BaseMultipleSegmentsConversionExecutor.java](https://app.codecov.io/gh/apache/pinot/pull/10679?src=pr&el=tree&filepath=pinot-plugins%2Fpinot-minion-tasks%2Fpinot-minion-builtin-tasks%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fpinot%2Fplugin%2Fminion%2Ftasks%2FBaseMultipleSegmentsConversionExecutor.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-cGlub3QtcGx1Z2lucy9waW5vdC1taW5pb24tdGFza3MvcGlub3QtbWluaW9uLWJ1aWx0aW4tdGFza3Mvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3BsdWdpbi9taW5pb24vdGFza3MvQmFzZU11bHRpcGxlU2VnbWVudHNDb252ZXJzaW9uRXhlY3V0b3IuamF2YQ==) | 0.00% | [1 Missing :warning: ](https://app.codecov.io/gh/apache/pinot/pull/10679?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n\n> :exclamation:  There is a different number of reports uploaded between BASE (cad764d) and HEAD (8691c1b). Click for more details.\n> \n> <details><summary>HEAD has 2 uploads less than BASE</summary>\n>\n>| Flag | BASE (cad764d) | HEAD (8691c1b) |\n>|------|------|------|\n>|integration2|1|0|\n>|integration1|1|0|\n></details>\n\n<details><summary>Additional details and impacted files</summary>\n\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10679      +/-   ##\n============================================\n- Coverage     70.32%   64.31%   -6.02%     \n+ Complexity     6429     6406      -23     \n============================================\n  Files          2112     2061      -51     \n  Lines        114056   111630    -2426     \n  Branches      17226    16934     -292     \n============================================\n- Hits          80213    71793    -8420     \n- Misses        28244    34668    +6424     \n+ Partials       5599     5169     -430     \n```\n\n| [Flag](https://app.codecov.io/gh/apache/pinot/pull/10679/flags?src=pr&el=flags&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [integration1](https://app.codecov.io/gh/apache/pinot/pull/10679/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `?` | |\n| [integration2](https://app.codecov.io/gh/apache/pinot/pull/10679/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `?` | |\n| [unittests1](https://app.codecov.io/gh/apache/pinot/pull/10679/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `67.82% <22.72%> (-0.01%)` | :arrow_down: |\n| [unittests2](https://app.codecov.io/gh/apache/pinot/pull/10679/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `13.84% <52.42%> (+0.02%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n</details>\n\n[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/apache/pinot/pull/10679?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).   \n:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1523871377/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1524090786","html_url":"https://github.com/apache/pinot/issues/10688#issuecomment-1524090786","issue_url":"https://api.github.com/repos/apache/pinot/issues/10688","id":1524090786,"node_id":"IC_kwDOATCU_c5a18ei","user":{"login":"walterddr","id":3581352,"node_id":"MDQ6VXNlcjM1ODEzNTI=","avatar_url":"https://avatars.githubusercontent.com/u/3581352?v=4","gravatar_id":"","url":"https://api.github.com/users/walterddr","html_url":"https://github.com/walterddr","followers_url":"https://api.github.com/users/walterddr/followers","following_url":"https://api.github.com/users/walterddr/following{/other_user}","gists_url":"https://api.github.com/users/walterddr/gists{/gist_id}","starred_url":"https://api.github.com/users/walterddr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/walterddr/subscriptions","organizations_url":"https://api.github.com/users/walterddr/orgs","repos_url":"https://api.github.com/users/walterddr/repos","events_url":"https://api.github.com/users/walterddr/events{/privacy}","received_events_url":"https://api.github.com/users/walterddr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-26T21:53:58Z","updated_at":"2023-04-26T21:53:58Z","author_association":"CONTRIBUTOR","body":"This is a good question for how the routing is handling I would suggest check out here the controller  logic. In https://github.com/apache/pinot/pull/10336 . \r\n\r\nIn fact the logic is so generic I think we should factor it to a utility. \r\nCC @ankitsultana @tibrewalpratik17 ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1524090786/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1524110799","html_url":"https://github.com/apache/pinot/issues/10688#issuecomment-1524110799","issue_url":"https://api.github.com/repos/apache/pinot/issues/10688","id":1524110799,"node_id":"IC_kwDOATCU_c5a2BXP","user":{"login":"abhioncbr","id":1076944,"node_id":"MDQ6VXNlcjEwNzY5NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1076944?v=4","gravatar_id":"","url":"https://api.github.com/users/abhioncbr","html_url":"https://github.com/abhioncbr","followers_url":"https://api.github.com/users/abhioncbr/followers","following_url":"https://api.github.com/users/abhioncbr/following{/other_user}","gists_url":"https://api.github.com/users/abhioncbr/gists{/gist_id}","starred_url":"https://api.github.com/users/abhioncbr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhioncbr/subscriptions","organizations_url":"https://api.github.com/users/abhioncbr/orgs","repos_url":"https://api.github.com/users/abhioncbr/repos","events_url":"https://api.github.com/users/abhioncbr/events{/privacy}","received_events_url":"https://api.github.com/users/abhioncbr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-26T22:17:58Z","updated_at":"2023-04-26T22:17:58Z","author_association":"CONTRIBUTOR","body":"Yes, I was thinking the same about moving to some utility class.\r\n\r\nRight now, the code is sitting in `PinotQueryResource` [getCommonBrokerTenant](https://github.com/apache/pinot/blob/master/pinot-controller/src/main/java/org/apache/pinot/controller/api/resources/PinotQueryResource.java#L272), which requires `tableConfigs` and indirectly `HelixResourceManger`. \r\n\r\nI can give it a shot to move the functionality to some util class. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1524110799/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1524114507","html_url":"https://github.com/apache/pinot/issues/10686#issuecomment-1524114507","issue_url":"https://api.github.com/repos/apache/pinot/issues/10686","id":1524114507,"node_id":"IC_kwDOATCU_c5a2CRL","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-26T22:23:09Z","updated_at":"2023-04-26T22:23:09Z","author_association":"CONTRIBUTOR","body":"We should discuss if we want to do exact comparison between floating point numbers or fuzzy comparison. I'd suggest doing some research to see what is the behavior of the commonly used DBs.\r\ncc @richardstartin I remember you have some suggestions to this topic\r\ncc @xiangfu0 @siddharthteotia @yupeng9 @walterddr @61yao @atris for some input","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1524114507/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1524115541","html_url":"https://github.com/apache/pinot/issues/10686#issuecomment-1524115541","issue_url":"https://api.github.com/repos/apache/pinot/issues/10686","id":1524115541,"node_id":"IC_kwDOATCU_c5a2ChV","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-26T22:24:49Z","updated_at":"2023-04-26T22:24:49Z","author_association":"CONTRIBUTOR","body":"Also related to #10637 cc @elonazoulay ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1524115541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1524119019","html_url":"https://github.com/apache/pinot/issues/10652#issuecomment-1524119019","issue_url":"https://api.github.com/repos/apache/pinot/issues/10652","id":1524119019,"node_id":"IC_kwDOATCU_c5a2DXr","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-26T22:30:00Z","updated_at":"2023-04-26T22:30:00Z","author_association":"CONTRIBUTOR","body":"When null handling is enabled, the engine should pull the null value vector from the column, and if the vector doesn't exist or is empty, we handle it as non-null. Basically using the actual index as source of choose when processing the queries","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1524119019/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1524120107","html_url":"https://github.com/apache/pinot/issues/10691#issuecomment-1524120107","issue_url":"https://api.github.com/repos/apache/pinot/issues/10691","id":1524120107,"node_id":"IC_kwDOATCU_c5a2Dor","user":{"login":"MeihanLi","id":42751784,"node_id":"MDQ6VXNlcjQyNzUxNzg0","avatar_url":"https://avatars.githubusercontent.com/u/42751784?v=4","gravatar_id":"","url":"https://api.github.com/users/MeihanLi","html_url":"https://github.com/MeihanLi","followers_url":"https://api.github.com/users/MeihanLi/followers","following_url":"https://api.github.com/users/MeihanLi/following{/other_user}","gists_url":"https://api.github.com/users/MeihanLi/gists{/gist_id}","starred_url":"https://api.github.com/users/MeihanLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MeihanLi/subscriptions","organizations_url":"https://api.github.com/users/MeihanLi/orgs","repos_url":"https://api.github.com/users/MeihanLi/repos","events_url":"https://api.github.com/users/MeihanLi/events{/privacy}","received_events_url":"https://api.github.com/users/MeihanLi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-26T22:31:30Z","updated_at":"2023-04-26T22:31:30Z","author_association":"CONTRIBUTOR","body":"Can you help provide some insights here? cc @Jackie-Jiang @chenboat ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1524120107/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1524120399","html_url":"https://github.com/apache/pinot/issues/10689#issuecomment-1524120399","issue_url":"https://api.github.com/repos/apache/pinot/issues/10689","id":1524120399,"node_id":"IC_kwDOATCU_c5a2DtP","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-26T22:31:54Z","updated_at":"2023-04-26T22:31:54Z","author_association":"CONTRIBUTOR","body":"cc @xiangfu0 ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1524120399/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1524121757","html_url":"https://github.com/apache/pinot/pull/10540#issuecomment-1524121757","issue_url":"https://api.github.com/repos/apache/pinot/issues/10540","id":1524121757,"node_id":"IC_kwDOATCU_c5a2ECd","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-26T22:33:46Z","updated_at":"2023-04-26T22:33:46Z","author_association":"CONTRIBUTOR","body":"@xiangfu0 Can you please help review the change?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1524121757/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1524125283","html_url":"https://github.com/apache/pinot/issues/10688#issuecomment-1524125283","issue_url":"https://api.github.com/repos/apache/pinot/issues/10688","id":1524125283,"node_id":"IC_kwDOATCU_c5a2E5j","user":{"login":"ankitsultana","id":8644710,"node_id":"MDQ6VXNlcjg2NDQ3MTA=","avatar_url":"https://avatars.githubusercontent.com/u/8644710?v=4","gravatar_id":"","url":"https://api.github.com/users/ankitsultana","html_url":"https://github.com/ankitsultana","followers_url":"https://api.github.com/users/ankitsultana/followers","following_url":"https://api.github.com/users/ankitsultana/following{/other_user}","gists_url":"https://api.github.com/users/ankitsultana/gists{/gist_id}","starred_url":"https://api.github.com/users/ankitsultana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ankitsultana/subscriptions","organizations_url":"https://api.github.com/users/ankitsultana/orgs","repos_url":"https://api.github.com/users/ankitsultana/repos","events_url":"https://api.github.com/users/ankitsultana/events{/privacy}","received_events_url":"https://api.github.com/users/ankitsultana/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-26T22:39:05Z","updated_at":"2023-04-26T22:39:05Z","author_association":"CONTRIBUTOR","body":"@walterddr : Any approach works for me. Long term though I wanted to move the parsing code out to a separate dedicated module, similar to how Presto has presto-parser.\r\n\r\ncc: @Jackie-Jiang for his thoughts as well.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1524125283/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1524135114","html_url":"https://github.com/apache/pinot/issues/10680#issuecomment-1524135114","issue_url":"https://api.github.com/repos/apache/pinot/issues/10680","id":1524135114,"node_id":"IC_kwDOATCU_c5a2HTK","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-26T22:55:10Z","updated_at":"2023-04-26T22:55:10Z","author_association":"CONTRIBUTOR","body":"Sounds good. Updated the documentation. We may revisit this in the future.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1524135114/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1524197065","html_url":"https://github.com/apache/pinot/pull/10690#issuecomment-1524197065","issue_url":"https://api.github.com/repos/apache/pinot/issues/10690","id":1524197065,"node_id":"IC_kwDOATCU_c5a2WbJ","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-26T23:34:38Z","updated_at":"2023-04-26T23:34:38Z","author_association":"CONTRIBUTOR","body":"Can you check when it can be Long.MAX_VALUE? Or are you running a quite old version? With latest master I don't think it can be Long.MAX_VALUE. The value is set in `ServerQueryExecutorV1Impl`","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1524197065/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1524201991","html_url":"https://github.com/apache/pinot/issues/10686#issuecomment-1524201991","issue_url":"https://api.github.com/repos/apache/pinot/issues/10686","id":1524201991,"node_id":"IC_kwDOATCU_c5a2XoH","user":{"login":"abhioncbr","id":1076944,"node_id":"MDQ6VXNlcjEwNzY5NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1076944?v=4","gravatar_id":"","url":"https://api.github.com/users/abhioncbr","html_url":"https://github.com/abhioncbr","followers_url":"https://api.github.com/users/abhioncbr/followers","following_url":"https://api.github.com/users/abhioncbr/following{/other_user}","gists_url":"https://api.github.com/users/abhioncbr/gists{/gist_id}","starred_url":"https://api.github.com/users/abhioncbr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhioncbr/subscriptions","organizations_url":"https://api.github.com/users/abhioncbr/orgs","repos_url":"https://api.github.com/users/abhioncbr/repos","events_url":"https://api.github.com/users/abhioncbr/events{/privacy}","received_events_url":"https://api.github.com/users/abhioncbr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-26T23:37:38Z","updated_at":"2023-04-26T23:37:38Z","author_association":"CONTRIBUTOR","body":"I did a bit of analysis while going over the problem itself.\r\n\r\n1. H2 database follows the exact comparison between double and float columns. Here are the results of queries in the H2 database\r\n```\r\n$ CREATE TABLE float_x_double_comp_tbl (i1 double,i2 real);\r\n$ INSERT INTO float_x_double_comp_tbl VALUES(1.1,1.1);\r\n$ INSERT INTO float_x_double_comp_tbl VALUES(1.5,1.5);\r\n\r\n$ SELECT i1, i2, i1!=i2, i2!=i1 FROM FLOAT_X_DOUBLE_COMP_TBL\r\n\r\n\r\nI1  | I2  | I1 <> I2 | I2 <> I1\r\n----|-----|----------|---------\r\n1.1 | 1.1 | TRUE     | TRUE\r\n1.5 | 1.5 | FALSE    | FALSE\r\n\r\n```\r\nActually, initially I thought it's a bug in H2 also and created an [issue](https://github.com/h2database/h2database/issues/3784) for this. Got nice explanation by the developer. \r\n\r\n2. I have also checked the Postgress, and the results are the same as of the H2 database.  \r\n<img width=\"1634\" alt=\"Screen Shot 2023-04-26 at 7 33 02 PM\" src=\"https://user-images.githubusercontent.com/1076944/234724368-23df152d-cc52-4710-971e-c37314faa017.png\">\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1524201991/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1524206732","html_url":"https://github.com/apache/pinot/pull/10690#issuecomment-1524206732","issue_url":"https://api.github.com/repos/apache/pinot/issues/10690","id":1524206732,"node_id":"IC_kwDOATCU_c5a2YyM","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-26T23:40:39Z","updated_at":"2023-04-26T23:40:39Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10690?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10690](https://codecov.io/gh/apache/pinot/pull/10690?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (6e7686e) into [master](https://codecov.io/gh/apache/pinot/commit/d806b5f8f2750fa5611584537ae1451b332f649f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (d806b5f) will **increase** coverage by `1.80%`.\n> The diff coverage is `0.00%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10690      +/-   ##\n============================================\n+ Coverage     68.44%   70.24%   +1.80%     \n- Complexity     6421     6428       +7     \n============================================\n  Files          2107     2107              \n  Lines        113792   113792              \n  Branches      17199    17199              \n============================================\n+ Hits          77887    79938    +2051     \n+ Misses        30369    28258    -2111     \n- Partials       5536     5596      +60     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.26% <0.00%> (-0.17%)` | :arrow_down: |\n| integration2 | `24.05% <0.00%> (?)` | |\n| unittests1 | `67.74% <0.00%> (+<0.01%)` | :arrow_up: |\n| unittests2 | `13.84% <0.00%> (-0.04%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10690?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...che/pinot/core/query/scheduler/QueryScheduler.java](https://codecov.io/gh/apache/pinot/pull/10690?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9zY2hlZHVsZXIvUXVlcnlTY2hlZHVsZXIuamF2YQ==) | `83.67% <0.00%> (-0.69%)` | :arrow_down: |\n\n... and [172 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10690/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1524206732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1524212793","html_url":"https://github.com/apache/pinot/issues/10691#issuecomment-1524212793","issue_url":"https://api.github.com/repos/apache/pinot/issues/10691","id":1524212793,"node_id":"IC_kwDOATCU_c5a2aQ5","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-26T23:44:31Z","updated_at":"2023-04-26T23:44:31Z","author_association":"CONTRIBUTOR","body":"Is `active_riders` already serialized `RoaringBitmap`? \r\nI think it throws exception because star-tree builder is still using the V2 raw forward index, where the chunk size is calculated based on the largest entry. If the largest bitmap size is larger than 2M, then the chunk size will be greater than 2GB.\r\n\r\nTo fix this, we want to allow star-tree to switch to higher version of raw forward index. Further more, we might want to consider making V4 the default raw forward index version, and deprecate the old versions from the builder side.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1524212793/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1524216703","html_url":"https://github.com/apache/pinot/issues/10688#issuecomment-1524216703","issue_url":"https://api.github.com/repos/apache/pinot/issues/10688","id":1524216703,"node_id":"IC_kwDOATCU_c5a2bN_","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-26T23:46:59Z","updated_at":"2023-04-26T23:46:59Z","author_association":"CONTRIBUTOR","body":"I think we need to make sure the broker picked is hosting all the tables within the JOIN, essentially do an intersection of multiple broker lists","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1524216703/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1524227971","html_url":"https://github.com/apache/pinot/issues/10686#issuecomment-1524227971","issue_url":"https://api.github.com/repos/apache/pinot/issues/10686","id":1524227971,"node_id":"IC_kwDOATCU_c5a2d-D","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-26T23:54:13Z","updated_at":"2023-04-26T23:54:13Z","author_association":"CONTRIBUTOR","body":"So seems all the DBs are doing exact match on `=` and `!=`.\r\n\r\nDo you see the cast from double to float getting added during the query parsing? Why would it cast value from double to float, but not hoisting up to double?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1524227971/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1524233422","html_url":"https://github.com/apache/pinot/pull/10690#issuecomment-1524233422","issue_url":"https://api.github.com/repos/apache/pinot/issues/10690","id":1524233422,"node_id":"IC_kwDOATCU_c5a2fTO","user":{"login":"ankitsultana","id":8644710,"node_id":"MDQ6VXNlcjg2NDQ3MTA=","avatar_url":"https://avatars.githubusercontent.com/u/8644710?v=4","gravatar_id":"","url":"https://api.github.com/users/ankitsultana","html_url":"https://github.com/ankitsultana","followers_url":"https://api.github.com/users/ankitsultana/followers","following_url":"https://api.github.com/users/ankitsultana/following{/other_user}","gists_url":"https://api.github.com/users/ankitsultana/gists{/gist_id}","starred_url":"https://api.github.com/users/ankitsultana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ankitsultana/subscriptions","organizations_url":"https://api.github.com/users/ankitsultana/orgs","repos_url":"https://api.github.com/users/ankitsultana/repos","events_url":"https://api.github.com/users/ankitsultana/events{/privacy}","received_events_url":"https://api.github.com/users/ankitsultana/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-26T23:57:35Z","updated_at":"2023-04-26T23:57:35Z","author_association":"CONTRIBUTOR","body":"> Can you check when it can be Long.MAX_VALUE? Or are you running a quite old version? With latest master I don't think it can be Long.MAX_VALUE. The value is set in `ServerQueryExecutorV1Impl`\r\n\r\nPinot version is 0.11. Yeah looks like this is fixed on master. In our version code looks as follows so that's where the issue may be coming from.\r\n\r\n@Jackie-Jiang : Feel free to close or merge this PR. It might not hurt to have this check but from the looks of it it's no longer needed.\r\n\r\n<img width=\"837\" alt=\"image\" src=\"https://user-images.githubusercontent.com/8644710/234726846-ce43acef-25a3-437e-b224-69607a10e17f.png\">\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1524233422/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1524278410","html_url":"https://github.com/apache/pinot/issues/10686#issuecomment-1524278410","issue_url":"https://api.github.com/repos/apache/pinot/issues/10686","id":1524278410,"node_id":"IC_kwDOATCU_c5a2qSK","user":{"login":"abhioncbr","id":1076944,"node_id":"MDQ6VXNlcjEwNzY5NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1076944?v=4","gravatar_id":"","url":"https://api.github.com/users/abhioncbr","html_url":"https://github.com/abhioncbr","followers_url":"https://api.github.com/users/abhioncbr/followers","following_url":"https://api.github.com/users/abhioncbr/following{/other_user}","gists_url":"https://api.github.com/users/abhioncbr/gists{/gist_id}","starred_url":"https://api.github.com/users/abhioncbr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhioncbr/subscriptions","organizations_url":"https://api.github.com/users/abhioncbr/orgs","repos_url":"https://api.github.com/users/abhioncbr/repos","events_url":"https://api.github.com/users/abhioncbr/events{/privacy}","received_events_url":"https://api.github.com/users/abhioncbr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T00:22:54Z","updated_at":"2023-04-27T00:22:54Z","author_association":"CONTRIBUTOR","body":"Yes. Apache Calcite supports [implicit type conversion](https://calcite.apache.org/docs/reference.html#implicit-type-conversion) between float and double and hence depends on the left operand data type; the right operand is getting cast. \r\n\r\nSo if the LHS is `float` and RHS is `double`; the `cast` is happening from `double -> float`, hence losing precision and resulting in the wrong result.\r\n<img width=\"869\" alt=\"Screen Shot 2023-04-26 at 8 20 24 PM\" src=\"https://user-images.githubusercontent.com/1076944/234729152-a10c523e-235d-4dab-9250-a105b4b220d0.png\">\r\n\r\n\r\nMy initial solution approach is to remove/skip this casting function in case of comparison of float/double. What do you think about it?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1524278410/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1524327572","html_url":"https://github.com/apache/pinot/pull/10656#issuecomment-1524327572","issue_url":"https://api.github.com/repos/apache/pinot/issues/10656","id":1524327572,"node_id":"IC_kwDOATCU_c5a22SU","user":{"login":"abhioncbr","id":1076944,"node_id":"MDQ6VXNlcjEwNzY5NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1076944?v=4","gravatar_id":"","url":"https://api.github.com/users/abhioncbr","html_url":"https://github.com/abhioncbr","followers_url":"https://api.github.com/users/abhioncbr/followers","following_url":"https://api.github.com/users/abhioncbr/following{/other_user}","gists_url":"https://api.github.com/users/abhioncbr/gists{/gist_id}","starred_url":"https://api.github.com/users/abhioncbr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhioncbr/subscriptions","organizations_url":"https://api.github.com/users/abhioncbr/orgs","repos_url":"https://api.github.com/users/abhioncbr/repos","events_url":"https://api.github.com/users/abhioncbr/events{/privacy}","received_events_url":"https://api.github.com/users/abhioncbr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T00:53:32Z","updated_at":"2023-04-27T00:53:32Z","author_association":"CONTRIBUTOR","body":"> I don't think this is correct. We don't need to change anything in `InstanceAssignmentConfigUtils` because it will directly return the new config if it exists (line 95). `ReplicaGroupStrategyConfig.getPartitionColumn()` is used in `BaseSegmentAssignment` and `ReplicaGroupSegmentAssignmentStrategy`, so we should modify these 2 classes to be able to take the partition column from the new config\r\n\r\nThanks for the review. Going to make the changes in `BaseSegmentAssignment` and `ReplicaGroupSegmentAssignmentStrategy`.\r\n\r\nQuestion for `InstanceAssignmentConfigUtils`, since we are creating an object of `InstanceReplicaGroupPartitionConfig`[L116, L121] and with this change we have added `partitionColumn` as a class member, we need to provide the value of it. I thought it's better to give the value we are extracting there instead of setting it as `null`. WDYT? ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1524327572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1524450872","html_url":"https://github.com/apache/pinot/pull/10488#issuecomment-1524450872","issue_url":"https://api.github.com/repos/apache/pinot/issues/10488","id":1524450872,"node_id":"IC_kwDOATCU_c5a3UY4","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T02:02:45Z","updated_at":"2023-04-27T02:02:45Z","author_association":"CONTRIBUTOR","body":"> this PR can be closed if we have #10685 yes?\r\n\r\nI think UncollectNode is still need, CorrelateNode is not needed.\r\n\r\nI will rebase once #10685 is merged.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1524450872/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1524455860","html_url":"https://github.com/apache/pinot/pull/10692#issuecomment-1524455860","issue_url":"https://api.github.com/repos/apache/pinot/issues/10692","id":1524455860,"node_id":"IC_kwDOATCU_c5a3Vm0","user":{"login":"abhioncbr","id":1076944,"node_id":"MDQ6VXNlcjEwNzY5NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1076944?v=4","gravatar_id":"","url":"https://api.github.com/users/abhioncbr","html_url":"https://github.com/abhioncbr","followers_url":"https://api.github.com/users/abhioncbr/followers","following_url":"https://api.github.com/users/abhioncbr/following{/other_user}","gists_url":"https://api.github.com/users/abhioncbr/gists{/gist_id}","starred_url":"https://api.github.com/users/abhioncbr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhioncbr/subscriptions","organizations_url":"https://api.github.com/users/abhioncbr/orgs","repos_url":"https://api.github.com/users/abhioncbr/repos","events_url":"https://api.github.com/users/abhioncbr/events{/privacy}","received_events_url":"https://api.github.com/users/abhioncbr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T02:05:24Z","updated_at":"2023-04-27T02:05:24Z","author_association":"CONTRIBUTOR","body":"Please, let me know if unit test cases are required. Currently, there are no unit tests for the `Connection` class.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1524455860/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1524556425","html_url":"https://github.com/apache/pinot/pull/10692#issuecomment-1524556425","issue_url":"https://api.github.com/repos/apache/pinot/issues/10692","id":1524556425,"node_id":"IC_kwDOATCU_c5a3uKJ","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T03:03:24Z","updated_at":"2023-05-04T03:34:20Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/pinot/pull/10692?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10692](https://app.codecov.io/gh/apache/pinot/pull/10692?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (a462e32) into [master](https://app.codecov.io/gh/apache/pinot/commit/bcfcd0a4ab0450a7bbd97b1a5b4f625590981d4e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (bcfcd0a) will **increase** coverage by `0.08%`.\n> The diff coverage is `73.68%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10692      +/-   ##\n============================================\n+ Coverage     70.19%   70.27%   +0.08%     \n- Complexity     6428     6462      +34     \n============================================\n  Files          2107     2120      +13     \n  Lines        113786   114222     +436     \n  Branches      17199    17250      +51     \n============================================\n+ Hits          79868    80266     +398     \n- Misses        28327    28347      +20     \n- Partials       5591     5609      +18     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.29% <52.63%> (+0.12%)` | :arrow_up: |\n| integration2 | `23.99% <47.36%> (+0.02%)` | :arrow_up: |\n| unittests1 | `67.86% <ø> (+0.11%)` | :arrow_up: |\n| unittests2 | `13.85% <68.42%> (-0.01%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://app.codecov.io/gh/apache/pinot/pull/10692?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...main/java/org/apache/pinot/client/BrokerCache.java](https://app.codecov.io/gh/apache/pinot/pull/10692?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Jyb2tlckNhY2hlLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...pache/pinot/client/BrokerCacheUpdaterPeriodic.java](https://app.codecov.io/gh/apache/pinot/pull/10692?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Jyb2tlckNhY2hlVXBkYXRlclBlcmlvZGljLmphdmE=) | `0.00% <ø> (ø)` | |\n| [...he/pinot/client/ControllerBasedBrokerSelector.java](https://app.codecov.io/gh/apache/pinot/pull/10692?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0NvbnRyb2xsZXJCYXNlZEJyb2tlclNlbGVjdG9yLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [.../org/apache/pinot/client/SimpleBrokerSelector.java](https://app.codecov.io/gh/apache/pinot/pull/10692?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L1NpbXBsZUJyb2tlclNlbGVjdG9yLmphdmE=) | `85.71% <ø> (ø)` | |\n| [.../main/java/org/apache/pinot/client/Connection.java](https://app.codecov.io/gh/apache/pinot/pull/10692?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Nvbm5lY3Rpb24uamF2YQ==) | `63.46% <75.00%> (+3.84%)` | :arrow_up: |\n| [...apache/pinot/client/utils/BrokerSelectorUtils.java](https://app.codecov.io/gh/apache/pinot/pull/10692?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L3V0aWxzL0Jyb2tlclNlbGVjdG9yVXRpbHMuamF2YQ==) | `95.00% <95.00%> (ø)` | |\n| [...org/apache/pinot/client/DynamicBrokerSelector.java](https://app.codecov.io/gh/apache/pinot/pull/10692?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0R5bmFtaWNCcm9rZXJTZWxlY3Rvci5qYXZh) | `92.68% <100.00%> (+1.01%)` | :arrow_up: |\n\n... and [99 files with indirect coverage changes](https://app.codecov.io/gh/apache/pinot/pull/10692/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1524556425/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1525956251","html_url":"https://github.com/apache/pinot/pull/10427#issuecomment-1525956251","issue_url":"https://api.github.com/repos/apache/pinot/issues/10427","id":1525956251,"node_id":"IC_kwDOATCU_c5a9D6b","user":{"login":"swaminathanmanish","id":126024920,"node_id":"U_kgDOB4L82A","avatar_url":"https://avatars.githubusercontent.com/u/126024920?v=4","gravatar_id":"","url":"https://api.github.com/users/swaminathanmanish","html_url":"https://github.com/swaminathanmanish","followers_url":"https://api.github.com/users/swaminathanmanish/followers","following_url":"https://api.github.com/users/swaminathanmanish/following{/other_user}","gists_url":"https://api.github.com/users/swaminathanmanish/gists{/gist_id}","starred_url":"https://api.github.com/users/swaminathanmanish/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swaminathanmanish/subscriptions","organizations_url":"https://api.github.com/users/swaminathanmanish/orgs","repos_url":"https://api.github.com/users/swaminathanmanish/repos","events_url":"https://api.github.com/users/swaminathanmanish/events{/privacy}","received_events_url":"https://api.github.com/users/swaminathanmanish/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T16:03:34Z","updated_at":"2023-04-27T16:03:34Z","author_association":"CONTRIBUTOR","body":"Thanks for taking care of comments !","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1525956251/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1525960672","html_url":"https://github.com/apache/pinot/issues/9992#issuecomment-1525960672","issue_url":"https://api.github.com/repos/apache/pinot/issues/9992","id":1525960672,"node_id":"IC_kwDOATCU_c5a9E_g","user":{"login":"jadami10","id":4760722,"node_id":"MDQ6VXNlcjQ3NjA3MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4760722?v=4","gravatar_id":"","url":"https://api.github.com/users/jadami10","html_url":"https://github.com/jadami10","followers_url":"https://api.github.com/users/jadami10/followers","following_url":"https://api.github.com/users/jadami10/following{/other_user}","gists_url":"https://api.github.com/users/jadami10/gists{/gist_id}","starred_url":"https://api.github.com/users/jadami10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jadami10/subscriptions","organizations_url":"https://api.github.com/users/jadami10/orgs","repos_url":"https://api.github.com/users/jadami10/repos","events_url":"https://api.github.com/users/jadami10/events{/privacy}","received_events_url":"https://api.github.com/users/jadami10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T16:05:15Z","updated_at":"2023-04-27T16:05:15Z","author_association":"CONTRIBUTOR","body":"@xiangfu0, any reason we didn't cleanup controllers in here as well?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1525960672/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1525998942","html_url":"https://github.com/apache/pinot/issues/10677#issuecomment-1525998942","issue_url":"https://api.github.com/repos/apache/pinot/issues/10677","id":1525998942,"node_id":"IC_kwDOATCU_c5a9OVe","user":{"login":"somandal","id":47411403,"node_id":"MDQ6VXNlcjQ3NDExNDAz","avatar_url":"https://avatars.githubusercontent.com/u/47411403?v=4","gravatar_id":"","url":"https://api.github.com/users/somandal","html_url":"https://github.com/somandal","followers_url":"https://api.github.com/users/somandal/followers","following_url":"https://api.github.com/users/somandal/following{/other_user}","gists_url":"https://api.github.com/users/somandal/gists{/gist_id}","starred_url":"https://api.github.com/users/somandal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/somandal/subscriptions","organizations_url":"https://api.github.com/users/somandal/orgs","repos_url":"https://api.github.com/users/somandal/repos","events_url":"https://api.github.com/users/somandal/events{/privacy}","received_events_url":"https://api.github.com/users/somandal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T16:28:13Z","updated_at":"2023-04-27T16:28:13Z","author_association":"CONTRIBUTOR","body":"I've requested more information from the user. Need details about the schema for the fields they used and the relevant index configs. User mentioned the type for updatedTime is TIMESTAMP.\r\n\r\nTried a few queries (not using TIMESTAMP but using CAST) which seem to work:\r\n\r\n```\r\nSET useMultistageEngine=true;\r\nSELECT col1, col2, MAX(CAST(col3 AS DOUBLE)) OVER(PARTITION BY col1)  from TestTable WHERE col3 = 1000 OR col3 = 1024 AND col1 < 2845947 LIMIT 10000\r\n```\r\nIn the above col3 is a LONG type column. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1525998942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1526003073","html_url":"https://github.com/apache/pinot/issues/10677#issuecomment-1526003073","issue_url":"https://api.github.com/repos/apache/pinot/issues/10677","id":1526003073,"node_id":"IC_kwDOATCU_c5a9PWB","user":{"login":"somandal","id":47411403,"node_id":"MDQ6VXNlcjQ3NDExNDAz","avatar_url":"https://avatars.githubusercontent.com/u/47411403?v=4","gravatar_id":"","url":"https://api.github.com/users/somandal","html_url":"https://github.com/somandal","followers_url":"https://api.github.com/users/somandal/followers","following_url":"https://api.github.com/users/somandal/following{/other_user}","gists_url":"https://api.github.com/users/somandal/gists{/gist_id}","starred_url":"https://api.github.com/users/somandal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/somandal/subscriptions","organizations_url":"https://api.github.com/users/somandal/orgs","repos_url":"https://api.github.com/users/somandal/repos","events_url":"https://api.github.com/users/somandal/events{/privacy}","received_events_url":"https://api.github.com/users/somandal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T16:31:42Z","updated_at":"2023-04-27T16:31:42Z","author_association":"CONTRIBUTOR","body":"The user mentioned they are using release 0.12.1, which doesn't seem to have window function support based on release notes: https://docs.pinot.apache.org/basics/releases/0.12.0-1 (need to check more on this). That might explain the weird cast issues.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1526003073/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1526052730","html_url":"https://github.com/apache/pinot/pull/10693#issuecomment-1526052730","issue_url":"https://api.github.com/repos/apache/pinot/issues/10693","id":1526052730,"node_id":"IC_kwDOATCU_c5a9bd6","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T17:12:28Z","updated_at":"2023-04-27T17:12:28Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/pinot/pull/10693?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10693](https://codecov.io/gh/apache/pinot/pull/10693?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (6a7452a) into [master](https://codecov.io/gh/apache/pinot/commit/d806b5f8f2750fa5611584537ae1451b332f649f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (d806b5f) will **increase** coverage by `1.79%`.\n> The diff coverage is `100.00%`.\n\n> :exclamation: Current head 6a7452a differs from pull request most recent head 35a4883. Consider uploading reports for the commit 35a4883 to get more accurate results\n\n```diff\n@@             Coverage Diff              @@\n##             master   #10693      +/-   ##\n============================================\n+ Coverage     68.44%   70.24%   +1.79%     \n- Complexity     6421     6429       +8     \n============================================\n  Files          2107     2107              \n  Lines        113792   113793       +1     \n  Branches      17199    17200       +1     \n============================================\n+ Hits          77887    79930    +2043     \n+ Misses        30369    28271    -2098     \n- Partials       5536     5592      +56     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `24.31% <0.00%> (-0.12%)` | :arrow_down: |\n| integration2 | `23.94% <0.00%> (?)` | |\n| unittests1 | `67.75% <100.00%> (+0.01%)` | :arrow_up: |\n| unittests2 | `13.86% <0.00%> (-0.02%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/10693?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...not/segment/local/upsert/PartialUpsertHandler.java](https://codecov.io/gh/apache/pinot/pull/10693?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC91cHNlcnQvUGFydGlhbFVwc2VydEhhbmRsZXIuamF2YQ==) | `100.00% <100.00%> (ø)` | |\n\n... and [171 files with indirect coverage changes](https://codecov.io/gh/apache/pinot/pull/10693/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1526052730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1526067042","html_url":"https://github.com/apache/pinot/issues/10691#issuecomment-1526067042","issue_url":"https://api.github.com/repos/apache/pinot/issues/10691","id":1526067042,"node_id":"IC_kwDOATCU_c5a9e9i","user":{"login":"MeihanLi","id":42751784,"node_id":"MDQ6VXNlcjQyNzUxNzg0","avatar_url":"https://avatars.githubusercontent.com/u/42751784?v=4","gravatar_id":"","url":"https://api.github.com/users/MeihanLi","html_url":"https://github.com/MeihanLi","followers_url":"https://api.github.com/users/MeihanLi/followers","following_url":"https://api.github.com/users/MeihanLi/following{/other_user}","gists_url":"https://api.github.com/users/MeihanLi/gists{/gist_id}","starred_url":"https://api.github.com/users/MeihanLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MeihanLi/subscriptions","organizations_url":"https://api.github.com/users/MeihanLi/orgs","repos_url":"https://api.github.com/users/MeihanLi/repos","events_url":"https://api.github.com/users/MeihanLi/events{/privacy}","received_events_url":"https://api.github.com/users/MeihanLi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T17:24:36Z","updated_at":"2023-04-27T19:53:38Z","author_association":"CONTRIBUTOR","body":"Thanks Jackie. Yes, the largest entry size we saw is ~25M. How much effort it will take to upgrade to v4? ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1526067042/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1526110888","html_url":"https://github.com/apache/pinot/pull/10639#issuecomment-1526110888","issue_url":"https://api.github.com/repos/apache/pinot/issues/10639","id":1526110888,"node_id":"IC_kwDOATCU_c5a9pqo","user":{"login":"raghavgautam","id":1521534,"node_id":"MDQ6VXNlcjE1MjE1MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1521534?v=4","gravatar_id":"","url":"https://api.github.com/users/raghavgautam","html_url":"https://github.com/raghavgautam","followers_url":"https://api.github.com/users/raghavgautam/followers","following_url":"https://api.github.com/users/raghavgautam/following{/other_user}","gists_url":"https://api.github.com/users/raghavgautam/gists{/gist_id}","starred_url":"https://api.github.com/users/raghavgautam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raghavgautam/subscriptions","organizations_url":"https://api.github.com/users/raghavgautam/orgs","repos_url":"https://api.github.com/users/raghavgautam/repos","events_url":"https://api.github.com/users/raghavgautam/events{/privacy}","received_events_url":"https://api.github.com/users/raghavgautam/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T18:02:56Z","updated_at":"2023-04-27T18:02:56Z","author_association":"CONTRIBUTOR","body":"> Making it pluggable at KV store level will add extra overhead to the default implementation because it will force us to serialize everything. Instead, we can make it pluggable at metadata manager level so that there is no performance penalty to the default implementation. You may take a look at #9186 of how we made upsert metadata manager pluggable. This PR should be very similar to that\r\n\r\n@Jackie-Jiang The serialization that we are using is simple enough to not add significant overhead. It will probably cost 100 or so CPU cycles per record. Moreover, this overhead happens only during ingestion time and does not affect query performance. Keeping the LocalKeyValueStore pluggable will make it reusable in other places as well.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1526110888/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1526115660","html_url":"https://github.com/apache/pinot/issues/10686#issuecomment-1526115660","issue_url":"https://api.github.com/repos/apache/pinot/issues/10686","id":1526115660,"node_id":"IC_kwDOATCU_c5a9q1M","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T18:07:19Z","updated_at":"2023-04-27T18:07:19Z","author_association":"CONTRIBUTOR","body":"Losing precision might not be the root cause though. Even if we do float to double casting, the number won't match.\r\n```\r\nSystem.out.println((double) 1.1f); --> 1.100000023841858\r\n```\r\n\r\nWhich query is giving different result comparing to H2?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1526115660/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1526119626","html_url":"https://github.com/apache/pinot/pull/10656#issuecomment-1526119626","issue_url":"https://api.github.com/repos/apache/pinot/issues/10656","id":1526119626,"node_id":"IC_kwDOATCU_c5a9rzK","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T18:10:33Z","updated_at":"2023-04-27T18:10:33Z","author_association":"CONTRIBUTOR","body":"> Question for `InstanceAssignmentConfigUtils`, since we are creating an object of `InstanceReplicaGroupPartitionConfig`[L116, L121] and with this change we have added `partitionColumn` as a class member, we need to provide the value of it. I thought it's better to give the value we are extracting there instead of setting it as `null`. WDYT?\r\n\r\nGood point. We should set the `partitionColumn` in the generated `InstanceReplicaGroupPartitionConfig`","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1526119626/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1526121035","html_url":"https://github.com/apache/pinot/issues/10694#issuecomment-1526121035","issue_url":"https://api.github.com/repos/apache/pinot/issues/10694","id":1526121035,"node_id":"IC_kwDOATCU_c5a9sJL","user":{"login":"swaminathanmanish","id":126024920,"node_id":"U_kgDOB4L82A","avatar_url":"https://avatars.githubusercontent.com/u/126024920?v=4","gravatar_id":"","url":"https://api.github.com/users/swaminathanmanish","html_url":"https://github.com/swaminathanmanish","followers_url":"https://api.github.com/users/swaminathanmanish/followers","following_url":"https://api.github.com/users/swaminathanmanish/following{/other_user}","gists_url":"https://api.github.com/users/swaminathanmanish/gists{/gist_id}","starred_url":"https://api.github.com/users/swaminathanmanish/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swaminathanmanish/subscriptions","organizations_url":"https://api.github.com/users/swaminathanmanish/orgs","repos_url":"https://api.github.com/users/swaminathanmanish/repos","events_url":"https://api.github.com/users/swaminathanmanish/events{/privacy}","received_events_url":"https://api.github.com/users/swaminathanmanish/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T18:11:48Z","updated_at":"2023-04-27T18:11:48Z","author_association":"CONTRIBUTOR","body":"Thanks @thatran for the feedback. When I tried doing this on the pinot controller console, I saw this message \r\n\"**Cannot invoke java.util.list.size() because streamConfigMap is null\"**. This gave some info, but perhaps we need to throw InvalidTableConfigException with the exact cause for this exception (\"missing streamConfigMaps\"). ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1526121035/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1526145417","html_url":"https://github.com/apache/pinot/pull/10692#issuecomment-1526145417","issue_url":"https://api.github.com/repos/apache/pinot/issues/10692","id":1526145417,"node_id":"IC_kwDOATCU_c5a9yGJ","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T18:31:57Z","updated_at":"2023-04-27T18:31:57Z","author_association":"CONTRIBUTOR","body":"We do have test utilizing `Connection`, and they are actually failing.\r\nWe want to build this logic into the `BrokerSelector`, and we may change the signature of `String selectBroker(String table);` to `String selectBroker(List<String> tables);`","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1526145417/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1526151784","html_url":"https://github.com/apache/pinot/pull/10683#issuecomment-1526151784","issue_url":"https://api.github.com/repos/apache/pinot/issues/10683","id":1526151784,"node_id":"IC_kwDOATCU_c5a9zpo","user":{"login":"jasperjiaguo","id":10736840,"node_id":"MDQ6VXNlcjEwNzM2ODQw","avatar_url":"https://avatars.githubusercontent.com/u/10736840?v=4","gravatar_id":"","url":"https://api.github.com/users/jasperjiaguo","html_url":"https://github.com/jasperjiaguo","followers_url":"https://api.github.com/users/jasperjiaguo/followers","following_url":"https://api.github.com/users/jasperjiaguo/following{/other_user}","gists_url":"https://api.github.com/users/jasperjiaguo/gists{/gist_id}","starred_url":"https://api.github.com/users/jasperjiaguo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasperjiaguo/subscriptions","organizations_url":"https://api.github.com/users/jasperjiaguo/orgs","repos_url":"https://api.github.com/users/jasperjiaguo/repos","events_url":"https://api.github.com/users/jasperjiaguo/events{/privacy}","received_events_url":"https://api.github.com/users/jasperjiaguo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T18:37:57Z","updated_at":"2023-04-27T18:37:57Z","author_association":"CONTRIBUTOR","body":"> if we are changing the status code, should we consider a general guideline of response code? at the moment error query result and success query result and partial query results are all returning 200 which could be misleading.\r\n> \r\n> it is definitely bigger than the scope of this PR but would like to raise the concern before we determine 205 (Reset content) as the proper return code. according to document:\r\n> \r\n> ```\r\n> 205: The server successfully processed the request, asks that the requester reset its document view, and is not returning any content.\r\n> ```\r\n> \r\n> which doesn't seems like what's associated with query killing\r\n\r\n@walterddr agreed, I think we should consider the error codes holistically sometime, it is indeed a bit misleading right now. This PR should not affect the future refactoring right? I don't think we depend on hard coded number here?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1526151784/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]