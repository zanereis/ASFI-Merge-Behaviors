[{"url":"https://api.github.com/repos/apache/metron/issues/comments/380965857","html_url":"https://github.com/apache/metron/pull/863#issuecomment-380965857","issue_url":"https://api.github.com/repos/apache/metron/issues/863","id":380965857,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDk2NTg1Nw==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T22:39:30Z","updated_at":"2018-04-12T22:39:30Z","author_association":"CONTRIBUTOR","body":"It seems this PR is meant to address the global case, since the writer is general purpose. Per @cestella's comments, I don't know that we can include original_string. I do think there's value in minimally ensuring the timestamp and source.type fields are validated in the near term. It seems that addressing a broader validation strategy might be in order, but maybe we could handle that separately as a compromise? Thoughts @ottobackwards?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/380965857/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/380976384","html_url":"https://github.com/apache/metron/pull/863#issuecomment-380976384","issue_url":"https://api.github.com/repos/apache/metron/issues/863","id":380976384,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDk3NjM4NA==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-12T23:40:17Z","updated_at":"2018-04-12T23:40:17Z","author_association":"CONTRIBUTOR","body":"I think this is a mess that we will need to sort out, but I won't hold this up for that.\r\nI'm +0 I guess.  ","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/380976384/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/381173243","html_url":"https://github.com/apache/metron/pull/993#issuecomment-381173243","issue_url":"https://api.github.com/repos/apache/metron/issues/993","id":381173243,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTE3MzI0Mw==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-13T15:32:02Z","updated_at":"2018-04-13T15:32:02Z","author_association":"CONTRIBUTOR","body":"+1 by inspection - thanks @simonellistonball. I merged this, but can you update the title on the PR to match the Jira? Thanks!\r\n\r\n\"Add support for Vagrant Cachier plugin if present\"","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/381173243/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/381202731","html_url":"https://github.com/apache/metron/pull/863#issuecomment-381202731","issue_url":"https://api.github.com/repos/apache/metron/issues/863","id":381202731,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTIwMjczMQ==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-13T17:15:23Z","updated_at":"2018-04-13T17:15:23Z","author_association":"CONTRIBUTOR","body":"@ottobackwards created this to track it - https://issues.apache.org/jira/browse/METRON-1524","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/381202731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/381207906","html_url":"https://github.com/apache/metron/pull/987#issuecomment-381207906","issue_url":"https://api.github.com/repos/apache/metron/issues/987","id":381207906,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTIwNzkwNg==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-13T17:34:41Z","updated_at":"2018-04-13T17:34:41Z","author_association":"CONTRIBUTOR","body":"+1 by inspection.  Thanks @nickwallen.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/381207906/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/381240920","html_url":"https://github.com/apache/metron/pull/970#issuecomment-381240920","issue_url":"https://api.github.com/repos/apache/metron/issues/970","id":381240920,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTI0MDkyMA==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-13T19:38:07Z","updated_at":"2018-04-13T19:38:07Z","author_association":"CONTRIBUTOR","body":"Hopefully taking care of the test failures.  Added appropriate teardowns on the solrcomponent usage on a couple tests.  Also added some .gitignore on a couple log directories because I kept accidentally adding garbage because tests were spinning up.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/381240920/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/381241059","html_url":"https://github.com/apache/metron/pull/970#issuecomment-381241059","issue_url":"https://api.github.com/repos/apache/metron/issues/970","id":381241059,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTI0MTA1OQ==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-13T19:38:40Z","updated_at":"2018-04-13T19:38:40Z","author_association":"CONTRIBUTOR","body":"I'm going to run the Travis tests a few in my own repo in addition to this, to make sure we aren't hitting the issue intermittently.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/381241059/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/381257788","html_url":"https://github.com/apache/metron/pull/985#issuecomment-381257788","issue_url":"https://api.github.com/repos/apache/metron/issues/985","id":381257788,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTI1Nzc4OA==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-13T20:53:04Z","updated_at":"2018-04-13T20:53:04Z","author_association":"CONTRIBUTOR","body":"+1 LGTM","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/381257788/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/381990731","html_url":"https://github.com/apache/metron/pull/994#issuecomment-381990731","issue_url":"https://api.github.com/repos/apache/metron/issues/994","id":381990731,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTk5MDczMQ==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T13:24:00Z","updated_at":"2018-04-17T13:24:00Z","author_association":"MEMBER","body":"+1 by inspection","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/381990731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/381991511","html_url":"https://github.com/apache/metron/pull/988#issuecomment-381991511","issue_url":"https://api.github.com/repos/apache/metron/issues/988","id":381991511,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTk5MTUxMQ==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T13:26:25Z","updated_at":"2018-04-17T13:26:25Z","author_association":"MEMBER","body":"+1 by inspection, this is great detail.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/381991511/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/381991697","html_url":"https://github.com/apache/metron/pull/984#issuecomment-381991697","issue_url":"https://api.github.com/repos/apache/metron/issues/984","id":381991697,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTk5MTY5Nw==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T13:26:58Z","updated_at":"2018-04-17T13:26:58Z","author_association":"MEMBER","body":"This looks good to me; +1 by inspection.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/381991697/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382069398","html_url":"https://github.com/apache/metron/pull/988#issuecomment-382069398","issue_url":"https://api.github.com/repos/apache/metron/issues/988","id":382069398,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjA2OTM5OA==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T17:06:26Z","updated_at":"2018-04-17T17:06:26Z","author_association":"CONTRIBUTOR","body":"+1 Thanks","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382069398/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382078130","html_url":"https://github.com/apache/metron/pull/974#issuecomment-382078130","issue_url":"https://api.github.com/repos/apache/metron/issues/974","id":382078130,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjA3ODEzMA==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T17:34:57Z","updated_at":"2018-04-17T17:35:39Z","author_association":"CONTRIBUTOR","body":"@nickwallen Not particularly. There's a lot more to Doxia ~~that~~ than we use, iirc.  So some of that is potentially useful.  This is primarily perf and avoiding some pathological cases.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382078130/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382159883","html_url":"https://github.com/apache/metron/pull/996#issuecomment-382159883","issue_url":"https://api.github.com/repos/apache/metron/issues/996","id":382159883,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjE1OTg4Mw==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T21:49:34Z","updated_at":"2018-04-17T21:49:34Z","author_association":"CONTRIBUTOR","body":"Can you update the changelog?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382159883/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382194736","html_url":"https://github.com/apache/metron/pull/996#issuecomment-382194736","issue_url":"https://api.github.com/repos/apache/metron/issues/996","id":382194736,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjE5NDczNg==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T23:50:39Z","updated_at":"2018-04-17T23:50:39Z","author_association":"CONTRIBUTOR","body":"@justinleet Do we still want/need to do this? The last log change was Tue Sep 25 2017 by @merrimanr in METRON-1207. However, there have been 6 changes to the spec since then that have not made it to the change log. I believe there was a reason we started doing this (in duplication of source control), but I don't recall specifically. Do remember why that was?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382194736/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382199021","html_url":"https://github.com/apache/metron/pull/996#issuecomment-382199021","issue_url":"https://api.github.com/repos/apache/metron/issues/996","id":382199021,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjE5OTAyMQ==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T00:10:42Z","updated_at":"2018-04-18T00:10:42Z","author_association":"CONTRIBUTOR","body":"I believe, and my memory is pretty fuzzy, is that it's best practice to maintain that changelog because it's useful for auditing and tracking purposes given that it's available on the rpm itself.\r\n\r\nThere's probably a couple questions here\r\n1. Are we going to maintain it going forward? If not, we should just dump it entirely.\r\n2. If we choose to do so, do we want/need to update the changelog for the missing commits (and probably to use the dev list as authors, rather than individuals)?\r\n\r\nMight be worth opening a discuss on it.  I could be persuaded either way in terms of whether we update it for this PR or not, but I have a slight preference on adding it until there's agreement we aren't doing it.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382199021/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382361310","html_url":"https://github.com/apache/metron/pull/996#issuecomment-382361310","issue_url":"https://api.github.com/repos/apache/metron/issues/996","id":382361310,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjM2MTMxMA==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T11:55:25Z","updated_at":"2018-04-18T11:55:25Z","author_association":"CONTRIBUTOR","body":"+1 by inspection.  I would suggest we get this fix in ASAP so we can build.  We can resolve the change log issue later.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382361310/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382372441","html_url":"https://github.com/apache/metron/pull/996#issuecomment-382372441","issue_url":"https://api.github.com/repos/apache/metron/issues/996","id":382372441,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjM3MjQ0MQ==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T12:40:47Z","updated_at":"2018-04-18T12:40:47Z","author_association":"CONTRIBUTOR","body":"I'm +1 on this, to get the build working, with the understanding that there's follow up on resolving our best practices around the spec files.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382372441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382392985","html_url":"https://github.com/apache/metron/pull/984#issuecomment-382392985","issue_url":"https://api.github.com/repos/apache/metron/issues/984","id":382392985,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjM5Mjk4NQ==","user":{"login":"alinazemian","id":8438293,"node_id":"MDQ6VXNlcjg0MzgyOTM=","avatar_url":"https://avatars.githubusercontent.com/u/8438293?v=4","gravatar_id":"","url":"https://api.github.com/users/alinazemian","html_url":"https://github.com/alinazemian","followers_url":"https://api.github.com/users/alinazemian/followers","following_url":"https://api.github.com/users/alinazemian/following{/other_user}","gists_url":"https://api.github.com/users/alinazemian/gists{/gist_id}","starred_url":"https://api.github.com/users/alinazemian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alinazemian/subscriptions","organizations_url":"https://api.github.com/users/alinazemian/orgs","repos_url":"https://api.github.com/users/alinazemian/repos","events_url":"https://api.github.com/users/alinazemian/events{/privacy}","received_events_url":"https://api.github.com/users/alinazemian/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T13:49:52Z","updated_at":"2018-04-18T13:49:52Z","author_association":"NONE","body":"Great Idea to keep both for a while. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382392985/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382422470","html_url":"https://github.com/apache/metron/pull/982#issuecomment-382422470","issue_url":"https://api.github.com/repos/apache/metron/issues/982","id":382422470,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjQyMjQ3MA==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T15:13:32Z","updated_at":"2018-04-18T15:13:32Z","author_association":"MEMBER","body":"This looks good, thanks!  +1","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382422470/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382437360","html_url":"https://github.com/apache/metron/pull/995#issuecomment-382437360","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":382437360,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjQzNzM2MA==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T15:56:07Z","updated_at":"2018-04-18T15:56:07Z","author_association":"MEMBER","body":"It seems as though we should be checking the type for `isPolyField()` (see [here](http://lucene.apache.org/solr/6_3_0/solr-core/org/apache/solr/schema/PointType.html#isPolyField--).  \r\n\r\nThe problem, as I see it, is that we don't ahve access to the type directly.  So, in order to have the type, we may need a type cache.  I'd suggest a LFU caffeine cache that will retrieve the schema for the sensor from solr.  Thoughts?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382437360/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382438984","html_url":"https://github.com/apache/metron/pull/995#issuecomment-382438984","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":382438984,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjQzODk4NA==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T16:01:04Z","updated_at":"2018-04-18T16:01:04Z","author_association":"CONTRIBUTOR","body":"I can play around with this.  Extending my comment above, we might be able to use this method to determine which fields are expanded rather than just looking for the \"subFieldSuffix\" attribute.  Also happy to add a caching layer to keep us from having to look it up every time.\r\n\r\nWould this approach work?  Are we sure we want to put a caching layer in front of schemas considering they might change? ","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382438984/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382439463","html_url":"https://github.com/apache/metron/pull/995#issuecomment-382439463","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":382439463,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjQzOTQ2Mw==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T16:02:28Z","updated_at":"2018-04-18T16:03:06Z","author_association":"MEMBER","body":"If you can do it without schema caching, that'd be best.  That being said, hitting solr each query to retrieve type information is likely to be a bad idea as well.  Though, to be frank, I don't know how bad of an idea we're talking.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382439463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382461393","html_url":"https://github.com/apache/metron/pull/995#issuecomment-382461393","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":382461393,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjQ2MTM5Mw==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T17:13:48Z","updated_at":"2018-04-18T17:13:48Z","author_association":"CONTRIBUTOR","body":"Is it possible for parser writers to create other fields that have this issue?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382461393/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382468332","html_url":"https://github.com/apache/metron/pull/995#issuecomment-382468332","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":382468332,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjQ2ODMzMg==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T17:36:13Z","updated_at":"2018-04-18T17:36:13Z","author_association":"CONTRIBUTOR","body":"> This causes a problem in our DAO layer because we don't do partial updates (we reindex the whole document) and these expanded fields are included in the updated document.\r\n\r\n@merrimanr Can you elaborate on this a bit? I'm not sure I follow the full scope of the problem. Per @ottobackwards comment, would new fields introduced by parsers also cause issues? What are the parameters around when a user would \"step in it?\" What prophylaxis do we need to ensure, or at least reduce the risk, that this can happen for other fields?\r\n\r\nThis makes me think of another topic that's been discussed recently about message envelopes (e.g. syslog and parser chaining) that potentially wrap multiple other log types that need to be parsed. If the wrapped messages all routed to the same index, is that a problem?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382468332/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382477584","html_url":"https://github.com/apache/metron/pull/995#issuecomment-382477584","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":382477584,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjQ3NzU4NA==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T18:06:32Z","updated_at":"2018-04-18T18:30:07Z","author_association":"MEMBER","body":"@ottobackwards At the very least, if this is indeed a problem with all [PointType](http://lucene.apache.org/solr/6_3_0/solr-core/org/apache/solr/schema/PointType.html) fields and not just lat/long fields, then this may impact a common data science workflow:\r\n1. Generate a model which outputs a vector representation for some input\r\n2. Enrich data with that model (e.g. generate a vector per data point)\r\n3. Index the data as a Point in solr\r\n4. Find similar data by doing nearest neighbor searches\r\n\r\nEDIT: Actually, upon looking a bit further, any FieldType can be a polyfield, depending on the underlying implementation, not just point types.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382477584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382499711","html_url":"https://github.com/apache/metron/pull/995#issuecomment-382499711","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":382499711,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjQ5OTcxMQ==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T19:20:04Z","updated_at":"2018-04-18T19:20:04Z","author_association":"CONTRIBUTOR","body":"Let's say you want to add/remove/change a field in an existing document.  You would lookup the document, make your change, then reindex the document.  The problem is that expanded fields (polyfields) are returned when you lookup a document.  If you try to reindex those fields you will get an error.\r\n\r\nThis has more to do with field types than adding fields.  The only way you could cause a problem by adding a field is if you happened to add a field that is a polyfield type that we are not handling.  If we can put something in place that handles all polyfield types, I think we're ok.  ","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382499711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382502379","html_url":"https://github.com/apache/metron/pull/995#issuecomment-382502379","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":382502379,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjUwMjM3OQ==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T19:30:01Z","updated_at":"2018-04-18T19:30:35Z","author_association":"CONTRIBUTOR","body":"I am thinking of the metron as a framework POV here.  Right now, someone can create a parser, an enrichment a (in this PR's world) solr/es schema for their input.\r\n\r\nThis PR makes assumptions about a single use case, but the platform allows the capability for this to happen in many other ways that are beyond the control or knowledge of the 'core' platform through the platform's extensibility.\r\n\r\nThat makes any remediation of this issue a 'one' off it assumes knowledge of the data, which the platform cannot have beyond the parsers that ship.  And even then that knowledge ( based on the known configuration ) is not reliable because they are examples can be modified.\r\n\r\nDoes that make sense or am I missing something?\r\n","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382502379/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382505748","html_url":"https://github.com/apache/metron/pull/995#issuecomment-382505748","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":382505748,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjUwNTc0OA==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T19:42:42Z","updated_at":"2018-04-18T19:42:42Z","author_association":"CONTRIBUTOR","body":"There are a finite number of field types that ship with Solr so the fact that someone can create an infinite number of fields really isn't an issue.  Any field that is created and stored in Solr has to be one of the finite field types.  I agree that we can't assume knowledge of data hence handling all field types that could be potentially problematic.\r\n\r\nAre there other solutions to this problem that we're not thinking of?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382505748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382506455","html_url":"https://github.com/apache/metron/pull/995#issuecomment-382506455","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":382506455,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjUwNjQ1NQ==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T19:45:18Z","updated_at":"2018-04-18T19:45:18Z","author_association":"MEMBER","body":"@merrimanr @ottobackwards Would it be fair to say that a sufficient solution would be one which handles all types such that `isPolyField() == true`?  This should handle the cases in which users use field types which we do not anticipate, I think, but I may be missing something.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382506455/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382508949","html_url":"https://github.com/apache/metron/pull/995#issuecomment-382508949","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":382508949,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjUwODk0OQ==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T19:54:06Z","updated_at":"2018-04-18T19:54:06Z","author_association":"CONTRIBUTOR","body":"@cestella I think that must be the case, given that we cannot assume the fields present beyond a certain set.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382508949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382523301","html_url":"https://github.com/apache/metron/pull/995#issuecomment-382523301","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":382523301,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjUyMzMwMQ==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T20:44:39Z","updated_at":"2018-04-18T20:44:39Z","author_association":"MEMBER","body":"I'm sure you did this, @merrimanr, but I googled your error and ran upon [this](https://stackoverflow.com/questions/44375034/solr-docvaluesfield-appears-more-than-once-in-this-document-solr-6-5).  Are we certain that we're not in this situation where a simple migration to `solr.LatLonPointSpatialField` isn't the solution?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382523301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382523963","html_url":"https://github.com/apache/metron/pull/995#issuecomment-382523963","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":382523963,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjUyMzk2Mw==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T20:46:51Z","updated_at":"2018-04-18T20:46:59Z","author_association":"CONTRIBUTOR","body":"I did see that but that field type doesn't exist in Solr 5.5.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382523963/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382525459","html_url":"https://github.com/apache/metron/pull/995#issuecomment-382525459","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":382525459,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjUyNTQ1OQ==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T20:52:11Z","updated_at":"2018-04-18T20:52:11Z","author_association":"MEMBER","body":"Yes, but according to that thread, this became a problem in 6.5.  In 5.5, presumably, this worked.  Should we, perhaps, have different schema for 5.x vs 6.x?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382525459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382527237","html_url":"https://github.com/apache/metron/pull/995#issuecomment-382527237","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":382527237,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjUyNzIzNw==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T20:58:31Z","updated_at":"2018-04-18T20:58:31Z","author_association":"MEMBER","body":"One thing that I would question, looking at that answer, is whether it's just a LatLonType problem or if it really is a problem with all poly fields.  I would suggest tryign to replicate with a currency type, which is also a polyfield.  If the same error does not happen, then we may be safe with just handling this for point types.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382527237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382529929","html_url":"https://github.com/apache/metron/pull/995#issuecomment-382529929","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":382529929,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjUyOTkyOQ==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T21:08:15Z","updated_at":"2018-04-18T21:08:15Z","author_association":"MEMBER","body":"Another possibility, which these guys [did](https://github.com/ukwa/webarchive-discovery/issues/105) is disabling docValues for the spatial field.  I'm not clear on the consequences of that.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382529929/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382531218","html_url":"https://github.com/apache/metron/pull/995#issuecomment-382531218","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":382531218,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjUzMTIxOA==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T21:13:04Z","updated_at":"2018-04-18T21:13:04Z","author_association":"CONTRIBUTOR","body":"An interesting consequence of not using docValues is https://lucene.apache.org/solr/guide/6_6/docvalues.html#DocValues-RetrievingDocValuesDuringSearch\r\n\r\n>When useDocValuesAsStored=\"false\", non-stored DocValues fields can still be explicitly requested by name in the fl param, but will not match glob patterns (\"*\").\r\n\r\nThis sounds more like what we want, right?  From my selfish metaalerts perspective.  Why should be be returning the subfields of polyfields to the user?  My concerns are more around if this causes perf problems around sorting those fields.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382531218/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382750052","html_url":"https://github.com/apache/metron/pull/970#issuecomment-382750052","issue_url":"https://api.github.com/repos/apache/metron/issues/970","id":382750052,"node_id":"MDEyOklzc3VlQ29tbWVudDM4Mjc1MDA1Mg==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T14:08:21Z","updated_at":"2018-04-19T14:08:21Z","author_association":"CONTRIBUTOR","body":"I've been looking into the Travis failure that occurred. I was able to reproduce it, intermittently, locally. Best speculation is that it's a Lucene bug, given that it occurs seemingly randomly (~ every 20 times or so, but I've seen it go 50+).\r\n\r\nAfter playing around a bit, opening up the parentFilter on the child doc transformer seems to take care of the problem by avoiding the rare situation where it treats the document inconsistently and throws and error.\r\n\r\nThe code used to test this was\r\n```\r\n  @Test\r\n  public void shouldSearchByNestedAlertAlot() throws Exception {\r\n    for (int i = 0; i < 500; ++i) {\r\n      System.out.println(\"\\nRound : \" + i);\r\n      if (i != 0) {\r\n        setup();\r\n      }\r\n      try {\r\n        shouldSearchByNestedAlert();\r\n      } catch (Exception e) {\r\n        throw new IllegalStateException(e);\r\n      }\r\n      reset();\r\n    }\r\n  }\r\n```\r\nWhich just basically cleaned things up and ran the test a whole lot.  Setup/reset are nontrivial in terms of time, so I let this run a couple times with the change.  Over 1000 rounds completed successfully without error.\r\n\r\nIf anyone wants to see more testing or has ideas on how to improve it, I'm definitely open to suggestions.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382750052/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382787513","html_url":"https://github.com/apache/metron/pull/995#issuecomment-382787513","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":382787513,"node_id":"MDEyOklzc3VlQ29tbWVudDM4Mjc4NzUxMw==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T15:53:31Z","updated_at":"2018-04-19T15:53:31Z","author_association":"CONTRIBUTOR","body":"After doing more research on this, managing fields included when updating a document looks to be more complex than we thought.  The `isPolyField()` method is part of the internal API and we don't have access to it with SolrJ.  Also, I found another field that is stored in multiple fields internally (date).  I suspect we will find more special cases like this and if there are cases we don't find, it could break things later if a user adds a field with that type.\r\n\r\nShould we investigate adding partial update support to the SolrDao?  There is a `patch` method in the IndexDao so the interfaces would not need to change.  The downside is this will introduce some constraints on schema design:  https://lucene.apache.org/solr/guide/6_6/updating-parts-of-documents.html#UpdatingPartsofDocuments-FieldStorage.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382787513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382793882","html_url":"https://github.com/apache/metron/pull/995#issuecomment-382793882","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":382793882,"node_id":"MDEyOklzc3VlQ29tbWVudDM4Mjc5Mzg4Mg==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T16:13:03Z","updated_at":"2018-04-19T16:13:03Z","author_association":"MEMBER","body":"Before going down the path of partial document update:\r\n* Can you confirm that this isn't an issue when you set docValues to false, like in my previous comment?\r\n* Are date fields polyfields?\r\n* Is this a problem in 5.x or just 6.x?\r\n  * Is there a workaround for dates like there is for latlon in 6.x (e.g. another type)?  If so, wouldn't differentiating schema per version solve the issue?\r\n\r\nIf you did want to go with partial updates:\r\n* how do you propose to pull the JSON Patch apart into just the selected fields?\r\n* Since we will possibly expose these generated fields (perhaps not for latlon, but possibly for other polytypes), aren't we in the same spot of having a way to update both a generated field and a derived field if the users can update derived fields?\r\n  * If the answer to that is to whitelist updates on derived fields, aren't we back in the same spot as we are currently in?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382793882/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382810966","html_url":"https://github.com/apache/metron/pull/995#issuecomment-382810966","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":382810966,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjgxMDk2Ng==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T17:08:04Z","updated_at":"2018-04-19T17:08:04Z","author_association":"CONTRIBUTOR","body":"It might also be possible to do this the other way, rather than getting a list of all fields then figuring out which are polyFields, we might be able to get just all valid fields.  Substantially more validation would have to be done on what I've tested here though to make sure it's valid and I didn't skip over something important.\r\n\r\nI threw this together in one of the metaalerts tests:\r\n```\r\n    MetronSolrClient client = solr.getSolrClient();\r\n    client.setDefaultCollection(\"test\");\r\n    LukeRequest lukeRequest = new LukeRequest();\r\n    lukeRequest.setShowSchema(true);\r\n    LukeResponse result = lukeRequest\r\n        .process(client);\r\n    Map<String, FieldInfo> fieldInfo = result.getFieldInfo();\r\n    for(Entry<String, FieldInfo> entry : fieldInfo.entrySet()) {\r\n      System.out.println(\"KEY: \" + entry.getKey());\r\n      System.out.println(\"VALUE NAME: \" + entry.getValue().getName());\r\n      System.out.println(\"FLAGS: \" + entry.getValue().getFlags());\r\n      System.out.println();\r\n    }\r\n```\r\n\r\nOutput is\r\n>KEY: new-field\r\n>VALUE NAME: new-field\r\n>FLAGS: [INDEXED, STORED, OMIT_NORMS, OMIT_TF, SORT_MISSING_LAST]\r\n>\r\n>KEY: score\r\n>VALUE NAME: score\r\n>FLAGS: [INDEXED, STORED, DOC_VALUES, OMIT_NORMS, OMIT_TF]\r\n>\r\n>KEY: _version_\r\n>VALUE NAME: _version_\r\n>FLAGS: [DOC_VALUES]\r\n>\r\n>KEY: threat:triage:score\r\n>VALUE NAME: threat:triage:score\r\n>FLAGS: [INDEXED, STORED, DOC_VALUES, OMIT_NORMS, OMIT_TF]\r\n>\r\n>KEY: _root_\r\n>VALUE NAME: _root_\r\n>FLAGS: [INDEXED, OMIT_NORMS, OMIT_TF, SORT_MISSING_LAST]\r\n>\r\n>KEY: location_point\r\n>VALUE NAME: location_point\r\n>FLAGS: [INDEXED, STORED, OMIT_TF]\r\n>\r\n>KEY: name\r\n>VALUE NAME: name\r\n>FLAGS: [INDEXED, STORED, OMIT_NORMS, OMIT_TF, SORT_MISSING_LAST]\r\n>\r\n>KEY: guid\r\n>VALUE NAME: guid\r\n>FLAGS: [INDEXED, STORED, OMIT_NORMS, OMIT_TF, SORT_MISSING_LAST]\r\n>\r\n>KEY: metaalerts\r\n>VALUE NAME: metaalerts\r\n>FLAGS: [INDEXED, STORED, MULTI_VALUED, OMIT_NORMS, OMIT_TF, SORT_MISSING_LAST]\r\n>\r\n>KEY: source.type\r\n>VALUE NAME: source.type\r\n>FLAGS: [INDEXED, STORED, OMIT_NORMS, OMIT_TF, SORT_MISSING_LAST]\r\n>\r\n>KEY: timestamp\r\n>VALUE NAME: timestamp\r\n>FLAGS: [INDEXED, STORED, DOC_VALUES, OMIT_NORMS, OMIT_TF]\r\n\r\nNotice there's no \"_coordinate\" fields. Having \"location_point\" defined in my schema with:\r\n```\r\n  <field name=\"location_point\" type=\"location\" indexed=\"true\" stored=\"true\"/>\r\n  <dynamicField name=\"*_coordinate\" type=\"pdouble\" indexed=\"true\" stored=\"false\"/>\r\n  ...\r\n  <fieldType name=\"location\" class=\"solr.LatLonType\" subFieldSuffix=\"_coordinate\"/>\r\n```\r\nResulted in the \"_coordinate\" fields being present in this query:\r\n```\r\n    client = solr.getSolrClient();\r\n    client.setDefaultCollection(\"test\");\r\n    SolrQuery query = new SolrQuery(\"*:*\");\r\n    query.set(\"fl\", \"*\");\r\n    QueryResponse response = client.query(query);\r\n    System.out.println(response.getResults());\r\n```\r\nLike so (with all the extra stripped out so it's easier to read here):\r\n```\r\n{\r\n  ...,\r\n  docs=[\r\n    SolrDocument{threat:triage:score=0.0, location_point=10,20, guid=message_0, metaalerts=[meta_active], source.type=test, timestamp=1524157278555, ip_src_port=8010, location_point_1_coordinate=20.0, _version_=1598194742551642112, location_point_0_coordinate=10.0, ip_src_addr=192.168.1.1},\r\n    ...\r\n  ]}\r\n```\r\n\r\nThere is a catch: the schema has to be updated and I'm not sure it's compatible with both 5.x and 6.x\r\n`<requestHandler name=\"/admin/luke\" class=\"org.apache.solr.handler.admin.LukeRequestHandler\" />`","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382810966/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382815818","html_url":"https://github.com/apache/metron/pull/995#issuecomment-382815818","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":382815818,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjgxNTgxOA==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T17:24:20Z","updated_at":"2018-04-19T17:24:20Z","author_association":"CONTRIBUTOR","body":"> Can you confirm that this isn't an issue when you set docValues to false, like in my previous comment?  \r\n\r\nI will research this.\r\n\r\n> Are date fields polyfields?\r\n\r\nI don't know.  At this point I am not sure how to determine if a field is a polyfield or not.  The `isPolyField` method is internal and I don't have access to it in Solrj.\r\n\r\n> Is this a problem in 5.x or just 6.x?\r\n\r\nI will have to install 5.x and test it out.\r\n\r\n> Is there a workaround for dates like there is for latlon in 6.x (e.g. another type)? If so, wouldn't differentiating schema per version solve the issue?\r\n\r\nI can research this but there may be other fields that cause problems that we are not aware of yet.\r\n\r\n> how do you propose to pull the JSON Patch apart into just the selected fields?\r\n\r\nI'm not following.  A patch would only include the field to be added, changed, or removed.\r\n\r\n> Since we will possibly expose these generated fields (perhaps not for latlon, but possibly for other polytypes), aren't we in the same spot of having a way to update both a generated field and a derived field if the users can update derived fields?\r\n\r\nI don't understand this question.  By moving to partial updates, generated fields are no longer involved since there is no need to look up a document before indexing anymore.  In the case of metaalert, a patch request would look like:\r\n```\r\n{\r\n  \"guid\": \"some guid\",\r\n  \"index\": \"bro\",\r\n  \"patch\": [\r\n    {\r\n      \"op\": \"add\",\r\n      \"path\": \"/metaalerts\",\r\n      \"value\": [\"some metaalert guid\"]\r\n    }\r\n  ],\r\n  \"sensorType\": \"bro\"\r\n}\r\n```\r\nIf for some reason a user is trying to directly update a generated field that is incorrect and a user error.  Would be the same as if they were trying to update a field that didn't exist in the schema.  If a user wants to update a field that results in generated fields (like latlon), they just update that field only and let Solr regenerate the internal fields.  With our current approach a generated field is being updated when a valid, unrelated field is updated.  That is the root of the problem.\r\n\r\nIt's also worth mentioning that partial updates are atomic so we're not susceptible to race conditions when updating like we are now.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382815818/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382824982","html_url":"https://github.com/apache/metron/pull/995#issuecomment-382824982","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":382824982,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjgyNDk4Mg==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T17:53:20Z","updated_at":"2018-04-19T17:54:30Z","author_association":"MEMBER","body":"> I'm not following. A patch would only include the field to be added, changed, or removed.\r\n\r\n[JSONPatch](http://jsonpatch.com/), the input that we accept for the `patch` command, offers more than add, change and remove operations.  There is also move and add supports adding into an array.  My point is that the format is more complex than just passing in a list of fields to add, change or remove.\r\n\r\n> If for some reason a user is trying to directly update a generated field that is incorrect and a user error.\r\n \r\nConsider this from a user perspective for a moment.  How would a user know if a field is generated or not? If we could determine which fields were generated to ensure the users aren't given the ability to change them, then we could whitelist them generally and solve this problem.  \r\n\r\nI'm not opposed to partial updates, but I don't see that as a solution to the problem from this PR.  It feels like kicking the can down the road and making it the user's problem, which I don't agree with.\r\n","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382824982/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382828476","html_url":"https://github.com/apache/metron/pull/995#issuecomment-382828476","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":382828476,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjgyODQ3Ng==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T18:04:30Z","updated_at":"2018-04-19T18:04:30Z","author_association":"MEMBER","body":"@justinleet Looks like [LukeRequestHandler](http://lucene.apache.org/solr/5_4_1/solr-core/org/apache/solr/handler/admin/LukeRequestHandler.html) has been around since Solr 1.2.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382828476/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382830696","html_url":"https://github.com/apache/metron/pull/995#issuecomment-382830696","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":382830696,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjgzMDY5Ng==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T18:11:47Z","updated_at":"2018-04-19T18:11:47Z","author_association":"CONTRIBUTOR","body":"The schema declaration itself might have changed between 5.x and 6.x.  I saw something about it, but didn't double check since I hadn't looked in to the request at all yet. The request itself should be fine though","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382830696/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382837771","html_url":"https://github.com/apache/metron/pull/995#issuecomment-382837771","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":382837771,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjgzNzc3MQ==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T18:35:06Z","updated_at":"2018-04-19T18:35:06Z","author_association":"CONTRIBUTOR","body":"@justinleet Your example suggests that by using a LukeRequest and calling getFieldInfo() on the result, we should be able to naturally obtain the filtered list of fields that can be used as a whitelist when constructing the index update? And it's available since Solr 1.2? This sounds pretty clean to me and it seems to solve the problem in a general way without exposing Solr implementation details to the end user (whether by API or documentation).","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382837771/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382839220","html_url":"https://github.com/apache/metron/pull/995#issuecomment-382839220","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":382839220,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjgzOTIyMA==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T18:39:52Z","updated_at":"2018-04-19T18:39:52Z","author_association":"CONTRIBUTOR","body":"I agree, I'm not seeing how partial updates solves the general problem of \"We need to avoid updates against derived fields\".  End users aren't going to necessarily know what a generated field is.  Say a data scientist writes a machine learning model, and an analyst wants to update some output of the model.  They may not know, or even be able to easily discover, what fields are poly types and what aren't. They'll just get an error.  I'm not even convinced it'll be an easily understandable error to anyone not familiar with Solr.\r\n\r\nIt seems like there one real, solution to this problem that doesn't compromise usability: Don't pass sub fields back in queries.\r\n\r\nThis can be something in the schema itself (e.g. does docValues change work).  It could also be something determined while running (e.g. LukeRequest if it turns out to be viable or some other request / query).","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382839220/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382839373","html_url":"https://github.com/apache/metron/pull/995#issuecomment-382839373","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":382839373,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjgzOTM3Mw==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T18:40:21Z","updated_at":"2018-04-19T18:40:21Z","author_association":"CONTRIBUTOR","body":"@justinleet will this return dynamic fields?  Why did you change the schema?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382839373/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382840572","html_url":"https://github.com/apache/metron/pull/995#issuecomment-382840572","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":382840572,"node_id":"MDEyOklzc3VlQ29tbWVudDM4Mjg0MDU3Mg==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T18:44:21Z","updated_at":"2018-04-19T18:44:21Z","author_association":"CONTRIBUTOR","body":"@mmiklavc The main worry is I'm not honestly sure if that's exactly how it works.  I didn't dig into the caveats or any issues that we might hit with it.  I also don't know what constraints get placed on general polyfields in terms of whether they get returned by that or not.  Assuming it works, it would be fairly clean.   But that'll require a bit of research.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382840572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382841370","html_url":"https://github.com/apache/metron/pull/995#issuecomment-382841370","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":382841370,"node_id":"MDEyOklzc3VlQ29tbWVudDM4Mjg0MTM3MA==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T18:46:54Z","updated_at":"2018-04-19T18:46:54Z","author_association":"CONTRIBUTOR","body":"@merrimanr Not sure if it returns dynamic fields.  I didn't see them, but there might be a different way to grab them.  Again, it's a really cursory idea that needs more research if other things fall through (e.g. docValues)\r\n\r\nI changed the schema in two ways\r\n1. To add the ability to make the call\r\n2. To add the dynamic \"*_coordinate\" field.  This is (or at least was at some point) required.  Check out https://wiki.apache.org/solr/SpatialSearch#QuickStart.  Assuming this is true, we likely need to add this to all our schemas anyway.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382841370/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382841665","html_url":"https://github.com/apache/metron/pull/995#issuecomment-382841665","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":382841665,"node_id":"MDEyOklzc3VlQ29tbWVudDM4Mjg0MTY2NQ==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T18:47:47Z","updated_at":"2018-04-19T18:47:47Z","author_association":"CONTRIBUTOR","body":"To add onto my last comment, the subfields probably get created right now, but get caught by the \"*\" field that's type \"ignored\", which seems wrong.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382841665/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382841670","html_url":"https://github.com/apache/metron/pull/995#issuecomment-382841670","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":382841670,"node_id":"MDEyOklzc3VlQ29tbWVudDM4Mjg0MTY3MA==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T18:47:49Z","updated_at":"2018-04-19T18:47:49Z","author_association":"CONTRIBUTOR","body":"@justinleet \r\n\r\n> They may not know, or even be able to easily discover, what fields are poly types and what aren't. \r\n\r\n@cestella, @merrimanr \r\n\r\n>>Are date fields polyfields?\r\n\r\n>I don't know. At this point I am not sure how to determine if a field is a polyfield or not. The isPolyField method is internal and I don't have access to it in Solrj.\r\n\r\nI think the proof of @justinleet 's point is made abundantly clear by our very own discussion on the subject.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382841670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382879054","html_url":"https://github.com/apache/metron/pull/995#issuecomment-382879054","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":382879054,"node_id":"MDEyOklzc3VlQ29tbWVudDM4Mjg3OTA1NA==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T20:59:53Z","updated_at":"2018-04-19T20:59:53Z","author_association":"CONTRIBUTOR","body":"@merrimanr Re: dynamic fields.  Looks like you can get them in 6.6, but possibly not 5.5\r\n\r\nhttps://lucene.apache.org/solr/6_6_0/solr-solrj/org/apache/solr/client/solrj/response/LukeResponse.html#getDynamicFieldInfo--\r\n\r\nhttp://lucene.apache.org/solr/5_5_2/solr-solrj/org/apache/solr/client/solrj/response/LukeResponse.html#getFieldInfo()\r\n\r\nNot sure what it returns, whether it's the actual fields or just what the schema defines though.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382879054/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382880896","html_url":"https://github.com/apache/metron/pull/995#issuecomment-382880896","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":382880896,"node_id":"MDEyOklzc3VlQ29tbWVudDM4Mjg4MDg5Ng==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T21:06:48Z","updated_at":"2018-04-19T21:06:48Z","author_association":"CONTRIBUTOR","body":"@justinleet I tested that and it looks like it's just what the schema defines.  The only way we could use those is if we did a regex max on the actual fields in a document.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382880896/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382891132","html_url":"https://github.com/apache/metron/pull/995#issuecomment-382891132","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":382891132,"node_id":"MDEyOklzc3VlQ29tbWVudDM4Mjg5MTEzMg==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T21:47:30Z","updated_at":"2018-04-19T21:47:30Z","author_association":"MEMBER","body":"Can we get this problem exhibited in the integration tests?  It would help us try potential solutions out easily.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382891132/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382892499","html_url":"https://github.com/apache/metron/pull/995#issuecomment-382892499","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":382892499,"node_id":"MDEyOklzc3VlQ29tbWVudDM4Mjg5MjQ5OQ==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T21:53:36Z","updated_at":"2018-04-19T21:53:36Z","author_association":"CONTRIBUTOR","body":"If you add the \"-h node1\" option to the start command in install_solr.sh you can develop locally against Solr in full dev.  The line ends up looking like:\r\n```\r\nsu $SOLR_USER -c \"bin/solr -e cloud -noprompt -h node1\"\r\n```","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382892499/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382893311","html_url":"https://github.com/apache/metron/pull/995#issuecomment-382893311","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":382893311,"node_id":"MDEyOklzc3VlQ29tbWVudDM4Mjg5MzMxMQ==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T21:57:16Z","updated_at":"2018-04-19T21:57:39Z","author_association":"MEMBER","body":"@merrimanr Ok, that's fine, we can do it on full-dev or locally.  Can you please submit a step-by-step manual testing script to exhibit this issue?  I was asking for an integration test because then it'll be run every build and easy to adjust the code, but this will work too.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382893311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382899502","html_url":"https://github.com/apache/metron/pull/995#issuecomment-382899502","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":382899502,"node_id":"MDEyOklzc3VlQ29tbWVudDM4Mjg5OTUwMg==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T22:25:28Z","updated_at":"2018-04-19T22:25:45Z","author_association":"CONTRIBUTOR","body":"I've been changing/uploading schemas in full dev with the Solr CLI and using the Solr Admin console to test.  I can write up a list of commands that mimic what I'm doing in the console or create a simple integration test.  Which one do you prefer?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382899502/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/382900293","html_url":"https://github.com/apache/metron/pull/998#issuecomment-382900293","issue_url":"https://api.github.com/repos/apache/metron/issues/998","id":382900293,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjkwMDI5Mw==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T22:29:17Z","updated_at":"2018-04-19T22:29:17Z","author_association":"CONTRIBUTOR","body":"The \"/search\" and \"/_cluster\" entries aren't necessary here (and should probably be removed from the metron-alerts proxy file too).  Other than that this looks good.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/382900293/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/383098838","html_url":"https://github.com/apache/metron/pull/942#issuecomment-383098838","issue_url":"https://api.github.com/repos/apache/metron/issues/942","id":383098838,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzA5ODgzOA==","user":{"login":"simonellistonball","id":1217895,"node_id":"MDQ6VXNlcjEyMTc4OTU=","avatar_url":"https://avatars.githubusercontent.com/u/1217895?v=4","gravatar_id":"","url":"https://api.github.com/users/simonellistonball","html_url":"https://github.com/simonellistonball","followers_url":"https://api.github.com/users/simonellistonball/followers","following_url":"https://api.github.com/users/simonellistonball/following{/other_user}","gists_url":"https://api.github.com/users/simonellistonball/gists{/gist_id}","starred_url":"https://api.github.com/users/simonellistonball/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simonellistonball/subscriptions","organizations_url":"https://api.github.com/users/simonellistonball/orgs","repos_url":"https://api.github.com/users/simonellistonball/repos","events_url":"https://api.github.com/users/simonellistonball/events{/privacy}","received_events_url":"https://api.github.com/users/simonellistonball/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-20T13:38:56Z","updated_at":"2018-04-20T13:38:56Z","author_association":"CONTRIBUTOR","body":"Do we think we've reached consensus on this? It seems like avoiding the mixed scenarios is a good thing from a performance perspective, which is key to something like this which will be used a lot in baselining use cases. Any one else have any open thoughts on this?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/383098838/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/383169243","html_url":"https://github.com/apache/metron/pull/995#issuecomment-383169243","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":383169243,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzE2OTI0Mw==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-20T17:37:19Z","updated_at":"2018-04-20T17:37:19Z","author_association":"CONTRIBUTOR","body":"Just added an integration test that demonstrates this behavior.  I had to switch from the test schema to the schema that is actually deployed and remove the HBaseDao from this particular test to get it to work.  We will want to expand this test to all types once we agree on a good solution to this problem.  It also might be a good idea to get rid of these test schemas and just use the real ones at some point.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/383169243/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/383188207","html_url":"https://github.com/apache/metron/pull/942#issuecomment-383188207","issue_url":"https://api.github.com/repos/apache/metron/issues/942","id":383188207,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzE4ODIwNw==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-20T18:47:27Z","updated_at":"2018-04-20T18:47:27Z","author_association":"MEMBER","body":"I think so.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/383188207/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/383199596","html_url":"https://github.com/apache/metron/pull/995#issuecomment-383199596","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":383199596,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzE5OTU5Ng==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-20T19:35:02Z","updated_at":"2018-04-20T19:35:02Z","author_association":"CONTRIBUTOR","body":"I did some additional testing and here are my notes.  I've attempted to compile a list of all the proposed solutions and their outcomes.\r\n\r\n> checking the type for isPolyField()\r\n\r\nThis method is not available in the Solrj client library and would require adding a dependency on solr-core which I don't think we want to do.  Compiling a list of field type to polyfield mappings would need to be something we do outside of runtime and maintain across Solr upgrades.  I did this and found that out of the field types include with Solr 6.6, these are polyfields:\r\n- CurrencyField\r\n- DateRangeField\r\n- LatLonPointSpatialField\r\n- LatLonType\r\n- PointType\r\n- SpatialRecursivePrefixTreeFieldType\r\n\r\nI also added any types not currently defined in our schemas and indexed sample data.  Only LatLonType and PointType resulted in expanded fields.\r\n\r\n> migrate to solr.LatLonPointSpatialField and maintain separate schemas\r\n\r\nThe solr.LatLonPointSpatialField type worked without issue in Solr 6.6 as expected.  I installed a separate 5.5 instance and indexed the same data.  There is no error thrown but the data ends up looking like this in the index:\r\n```\r\n{\r\n  \"enrichments.geo.ip_dst_addr.location_point_0_coordinate\": [\r\n    \"34.0438\",\r\n    \"34.0438\"\r\n  ],\r\n  \"enrichments.geo.ip_dst_addr.location_point_1_coordinate\": [\r\n    \"-118.2512\",\r\n    \"-118.2512\"\r\n  ],\r\n  \"enrichments.geo.ip_dst_addr.location_point\": \"34.0438,-118.2512\"\r\n}\r\n```\r\nThat does not look correct to me.  If this were to be acceptable what would our approach be for testing and maintaining separate schemas for different versions?  Our code does not compile with version 5.5.\r\n\r\n> disabling docValues for the spatial field\r\n\r\nThe docValues setting is already disabled in our schemas.\r\n\r\n> using LukeRequest to get field type information\r\n\r\nThis does not handle the case of dynamic fields so we will need to come up with a strategy to map dynamic fields to the field types we care about.  I think we may need to do this regardless of which approach we decide on.  It will be necessary to match dynamic field types to fields that are actually present in a document.\r\n\r\nAm I missing any solutions that have been proposed?  Let me know I will investigate.\r\n\r\nI also looked into the date field issue I noticed.  Turns out I was wrong and this was actually a result of a copyField being defined.  This is another case we will need to handle.  If a field is a copyField you cannot reindex that field or you will get an error.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/383199596/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/383200451","html_url":"https://github.com/apache/metron/pull/995#issuecomment-383200451","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":383200451,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzIwMDQ1MQ==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-20T19:38:23Z","updated_at":"2018-04-20T19:38:23Z","author_association":"CONTRIBUTOR","body":"Another potential solution I thought of is to only return the intersection of the fields defined in the schema with fields that are present in a document.  This could potentially eliminate the need to keep track of polyfields and make things simpler.  We would still need to handle dynamic fields and copyFields but I think we'll need to do that anyways.  Still thinking through edge cases but let me know if we think this might be an option worth exploring.\r\n\r\nGiven all this information, where do we go from here?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/383200451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/383219316","html_url":"https://github.com/apache/metron/pull/995#issuecomment-383219316","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":383219316,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzIxOTMxNg==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-20T20:53:17Z","updated_at":"2018-04-20T20:53:17Z","author_association":"CONTRIBUTOR","body":"```\r\n{\r\n  \"enrichments.geo.ip_dst_addr.location_point_0_coordinate\": [\r\n    \"34.0438\",\r\n    \"34.0438\"\r\n  ],\r\n  \"enrichments.geo.ip_dst_addr.location_point_1_coordinate\": [\r\n    \"-118.2512\",\r\n    \"-118.2512\"\r\n  ],\r\n  \"enrichments.geo.ip_dst_addr.location_point\": \"34.0438,-118.2512\"\r\n}\r\n```\r\n> That does not look correct to me.\r\n\r\n@merrimanr - can you be more specific? I gather it should not be an array, but simple string value for the derived fields, e.g.\r\n```\r\n{\r\n  \"enrichments.geo.ip_dst_addr.location_point_0_coordinate\":\"34.0438\",\r\n  \"enrichments.geo.ip_dst_addr.location_point_1_coordinate\":\"-118.2512\",\r\n  \"enrichments.geo.ip_dst_addr.location_point\": \"34.0438,-118.2512\"\r\n}\r\n```\r\n\r\nWhat was your input doc when doing this test on 5.5? Did you included the expanded fields as part of the insert? To me your results make it look like Solr treated the values as an additive operation vs overwrite, but it's hard for me to say without more detail.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/383219316/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/383405265","html_url":"https://github.com/apache/metron/pull/995#issuecomment-383405265","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":383405265,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzQwNTI2NQ==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-22T19:14:52Z","updated_at":"2018-04-22T19:14:52Z","author_association":"CONTRIBUTOR","body":"Yes it should be simple string values or, in other words, the doc should look the same minus the changes.  I should have stated this in my previous comment but ideally those *_coordinate fields wouldn't come back at all.\r\n\r\nThe test case is:\r\n- read back a doc that is already indexed\r\n- change or add field (not location type)\r\n- reindex the doc\r\n- read back the doc and verify it is unchanged minus the change in step 2\r\n\r\nTo answer your question, yes the expanded fields are included in the insert because we are reindexing the whole document.  I agree with you, it looks like Solr treats it as an additive operation.\r\n ","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/383405265/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/383543682","html_url":"https://github.com/apache/metron/pull/1001#issuecomment-383543682","issue_url":"https://api.github.com/repos/apache/metron/issues/1001","id":383543682,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzU0MzY4Mg==","user":{"login":"simonellistonball","id":1217895,"node_id":"MDQ6VXNlcjEyMTc4OTU=","avatar_url":"https://avatars.githubusercontent.com/u/1217895?v=4","gravatar_id":"","url":"https://api.github.com/users/simonellistonball","html_url":"https://github.com/simonellistonball","followers_url":"https://api.github.com/users/simonellistonball/followers","following_url":"https://api.github.com/users/simonellistonball/following{/other_user}","gists_url":"https://api.github.com/users/simonellistonball/gists{/gist_id}","starred_url":"https://api.github.com/users/simonellistonball/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simonellistonball/subscriptions","organizations_url":"https://api.github.com/users/simonellistonball/orgs","repos_url":"https://api.github.com/users/simonellistonball/repos","events_url":"https://api.github.com/users/simonellistonball/events{/privacy}","received_events_url":"https://api.github.com/users/simonellistonball/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-23T11:31:03Z","updated_at":"2018-04-23T11:31:03Z","author_association":"CONTRIBUTOR","body":"+1 thees are useful additions for anyone getting started.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/383543682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/383583276","html_url":"https://github.com/apache/metron/pull/995#issuecomment-383583276","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":383583276,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzU4MzI3Ng==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-23T13:53:38Z","updated_at":"2018-04-23T13:53:38Z","author_association":"CONTRIBUTOR","body":"For the integration test, adding the specific dynamic fields for the underlying LatLon seems to take care of the problem for that type.\r\n\r\ne.g. this makes the test you added pass:\r\n```\r\n  <!-- Catch all, if we don't know about it, it gets dropped. -->\r\n  <dynamicField name=\"*_coordinate\" type=\"pdouble\" indexed=\"true\" stored=\"false\" docValues=\"false\"/>\r\n  <dynamicField name=\"*\" type=\"ignored\" multiValued=\"false\" docValues=\"true\"/>\r\n```\r\n\r\nIt appears docValues is not disabled for the subfields, because they get caught by the \"*\" dynamic fields, so they end up being `docValues=true`.\r\n\r\nMy concern would be making sure we document what has to happen for LatLon, and making sure that the other types you laid out can be managed in a similar way (and document appropriately),","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/383583276/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/383616320","html_url":"https://github.com/apache/metron/pull/995#issuecomment-383616320","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":383616320,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzYxNjMyMA==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-23T15:27:33Z","updated_at":"2018-04-23T15:27:59Z","author_association":"CONTRIBUTOR","body":"Adding this dynamic field worked for me as well.  I tested in a Solr installation as well as the integration test.  I believe this will solve our issue with the older LatLon type.  The only other field type that resulted in expanded fields were PointTypes and we don't currently use them.\r\n\r\nHow should we document this?  Comments in our schemas?  We don't have a dedicated document for creating Solr schemas and I don't think we should maintain detailed documentation on the topic.  Maybe we add a section to the Solr README with tips for Solr schema creation as it relates to Metron (would include this issue)?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/383616320/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/383635371","html_url":"https://github.com/apache/metron/pull/995#issuecomment-383635371","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":383635371,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzYzNTM3MQ==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-23T16:20:49Z","updated_at":"2018-04-23T16:20:49Z","author_association":"CONTRIBUTOR","body":"The latest commit reverts the original fix in this PR, adds the extra dynamic field to the existing schemas, and adds a section in the Solr README documenting this for LatLon and PointType field types.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/383635371/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/383675475","html_url":"https://github.com/apache/metron/pull/995#issuecomment-383675475","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":383675475,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzY3NTQ3NQ==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-23T18:26:54Z","updated_at":"2018-04-23T18:26:54Z","author_association":"CONTRIBUTOR","body":"If we're going to the `docValues=false` + documentation route,  we should have the documentation be more generic than just the LatLon and Point (e.g. custom types that may get used in more advanced use cases).\r\n\r\nI'm also a little surprised that LatLon and Point are the only two types that result in additional fields, given that there were more poly types listed above. Do we know why Currency and other types don't result in additional fields?  Also, is there anything different under the hood about Points vs LatLon?\r\n\r\nGeneral questions for people interested\r\n* Are we okay with `docValues=false` and documenting (I personally am, assuming we can provide relatively general guidance, not just something that only works for a couple types).\r\n* If LatLon and Point are the only two mainline fields that produce subfields, should we also provide an example of suppressing the subfields of Point, even though it's not in use right now?\r\n","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/383675475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/383685448","html_url":"https://github.com/apache/metron/pull/990#issuecomment-383685448","issue_url":"https://api.github.com/repos/apache/metron/issues/990","id":383685448,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzY4NTQ0OA==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-23T18:59:06Z","updated_at":"2018-04-23T18:59:06Z","author_association":"MEMBER","body":"Ok, @nickwallen I think I reacted to your comments.  I'm going to spin this up one more time since it's churned a bit since I originally submitted.  Let me know if I missed anything.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/383685448/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/383688227","html_url":"https://github.com/apache/metron/pull/995#issuecomment-383688227","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":383688227,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzY4ODIyNw==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-23T19:08:03Z","updated_at":"2018-04-23T19:08:40Z","author_association":"MEMBER","body":"I'd be ok with going the `docValues=false` route, but I'm really curious as to why other polyfield types wouldn't have this issue.  I'll hold for that justification.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/383688227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/383697591","html_url":"https://github.com/apache/metron/pull/995#issuecomment-383697591","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":383697591,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzY5NzU5MQ==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-23T19:40:22Z","updated_at":"2018-04-23T19:40:22Z","author_association":"CONTRIBUTOR","body":"Just to clarify, both `docValues` and `stored` needs to be set to false.  If one or the other are true then it fails.\r\n\r\nAt this point I question whether a field being a polyfield is causing this issue.  The testing I've done does not support that.  Javadocs for FieldType.isPolyField() state:\r\n\r\n> A \"polyField\" is a FieldType that can produce more than one IndexableField instance for a single value\r\n\r\nThe issue here is with stored fields because that's what is returned in a search query.  Indexed fields are not.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/383697591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/383701974","html_url":"https://github.com/apache/metron/pull/995#issuecomment-383701974","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":383701974,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzcwMTk3NA==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-23T19:55:19Z","updated_at":"2018-04-23T19:55:19Z","author_association":"CONTRIBUTOR","body":"To give an idea of how I arrived at the conclusion that other fields are not a problem, this is how I tested it.  I will use currency as an example.  First I added this to our bro schema:\r\n```\r\n<dynamicField name=\"*.c\"   type=\"currency\" indexed=\"true\"  stored=\"true\"/>\r\n<fieldType name=\"currency\" class=\"solr.CurrencyField\" precisionStep=\"8\"\r\n             defaultCurrency=\"USD\" currencyConfig=\"currency.xml\" />\r\n```\r\nI also added the currency.xml file from the example configs that ship with Solr.  Then I added that field to the integration test added in this PR (SolrUpdateIntegrationTest.suppress_expanded_fields).  It ends up looking like:\r\n```\r\n@Test\r\n  public void suppress_expanded_fields() throws Exception {\r\n    dao = new MultiIndexDao(createDao());\r\n    dao.init(accessConfig);\r\n\r\n    Map<String, Object> fields = new HashMap<>();\r\n    fields.put(\"guid\", \"bro_1\");\r\n    fields.put(\"source.type\", SENSOR_NAME);\r\n    fields.put(\"ip_src_port\", 8010);\r\n    fields.put(\"long_field\", 10000);\r\n    fields.put(\"latitude\", 48.5839);\r\n    fields.put(\"score\", 10.0);\r\n    fields.put(\"is_alert\", true);\r\n    fields.put(\"field.location_point\", \"48.5839,7.7455\");\r\n    fields.put(\"field.c\", \"1000,EUR\");\r\n\r\n    Document document = new Document(fields, \"bro_1\", SENSOR_NAME, 0L);\r\n    dao.update(document, Optional.of(SENSOR_NAME));\r\n\r\n    Document indexedDocument = dao.getLatest(\"bro_1\", SENSOR_NAME);\r\n\r\n    // assert no extra expanded fields are included\r\n    Assert.assertEquals(9, indexedDocument.getDocument().size());\r\n  }\r\n```\r\nIf we get the same number of fields back that we indexed originally, we know no extra fields are being returned.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/383701974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/383703662","html_url":"https://github.com/apache/metron/pull/995#issuecomment-383703662","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":383703662,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzcwMzY2Mg==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-23T20:00:48Z","updated_at":"2018-04-23T20:00:48Z","author_association":"CONTRIBUTOR","body":"A note about the added integration test.  I moved the test to the SolrUpdateIntegrationTest because this issue is specific to Solr.  Adding an additional test exposed a problem in our Solr in memory component where reset wasn't working correctly.  I had to fix that to get all tests to pass.\r\n\r\nIf verifying this in full dev, the \"*_coordinate\" fields should no longer be present when searching or looking up documents either through our REST endpoint or the Solr admin console.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/383703662/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/383718284","html_url":"https://github.com/apache/metron/pull/990#issuecomment-383718284","issue_url":"https://api.github.com/repos/apache/metron/issues/990","id":383718284,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzcxODI4NA==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-23T20:50:36Z","updated_at":"2018-04-23T20:50:36Z","author_association":"MEMBER","body":"I reran this in full-dev from scratch and it checks out.  Let me know if there are any more comments @nickwallen and @ottobackwards ","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/383718284/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/383727113","html_url":"https://github.com/apache/metron/pull/995#issuecomment-383727113","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":383727113,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzcyNzExMw==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-23T21:20:40Z","updated_at":"2018-04-23T21:20:40Z","author_association":"CONTRIBUTOR","body":"@merrimanr Let me replay my understanding to see if I'm on the right track.\r\n\r\nThe problem we have is that we're returning fields that we can't reindex as a whole document when we run a glob query (\"*\"). In particular, the ones we've seen are the subfields of LatLon.  We can't reindex the _coordinate fields, but they come back in a search.\r\n\r\nThese fields will come back if they are either\r\n* stored (which are returned normally),\r\n* docValues that aren't stored, which are returned in the case of a glob query per Solr docs:\r\n  >Field values retrieved during search queries are typically returned from stored values. However, non-stored docValues fields will be also returned along with other stored fields when all fields (or pattern matching globs) are specified to be returned (e.g. “fl=*”)\r\n\r\nThis is why setting the dynamic field solves the problem (it both makes them not stored and not docValues).\r\n\r\nIs this correct so far?\r\n\r\nSo I dug the slightest bit into Lucene source for the Currency field (as a specific example of a nonproblematic field per your test).\r\n\r\nHere's a snippet of \r\n\r\n```\r\n  private void createDynamicCurrencyField(String suffix, FieldType type) {\r\n    String name = \"*\" + POLY_FIELD_SEPARATOR + suffix;\r\n    Map<String, String> props = new HashMap<>();\r\n    props.put(\"indexed\", \"true\");\r\n    props.put(\"stored\", \"false\");\r\n    props.put(\"multiValued\", \"false\");\r\n    props.put(\"omitNorms\", \"true\");\r\n    int p = SchemaField.calcProps(name, type, props);\r\n    schema.registerDynamicFields(SchemaField.create(name, type, p, null));\r\n  }\r\n\r\n...\r\n  @Override\r\n  public void inform(IndexSchema schema) {\r\n    this.schema = schema;\r\n    createDynamicCurrencyField(FIELD_SUFFIX_CURRENCY,   fieldTypeCurrency);\r\n    createDynamicCurrencyField(FIELD_SUFFIX_AMOUNT_RAW, fieldTypeAmountRaw);\r\n  }\r\n```\r\n\r\nWhat's interesting is that it appears to create an entirely new dynamic field, `*____currency` to catch everything under the hood.  This field is not stored and uses the default docValues, which is false.\r\n\r\nOutput from a LukeRequest similar to the test above:\r\n```\r\nKEY: *____currency\r\nVALUE NAME: *____currency\r\nFLAGS: [INDEXED, OMIT_NORMS]\r\n\r\nKEY: *____amount_raw\r\nVALUE NAME: *____amount_raw\r\nFLAGS: [INDEXED, OMIT_NORMS]\r\n\r\nKEY: *\r\nVALUE NAME: *\r\nFLAGS: [DOC_VALUES, OMIT_NORMS, OMIT_TF]\r\n\r\nKEY: *.c\r\nVALUE NAME: *.c\r\nFLAGS: [INDEXED, STORED, OMIT_TF]\r\n```\r\n\r\nNote that only the catch all has the docValues flag, but the custom type's currency and amount_raw do not.\r\n\r\nThe short version is that it seems like the majority of the default types manage their subfields more reasonably and therefore aren't a problem.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/383727113/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/383732810","html_url":"https://github.com/apache/metron/pull/995#issuecomment-383732810","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":383732810,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzczMjgxMA==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-23T21:43:10Z","updated_at":"2018-04-23T21:43:10Z","author_association":"CONTRIBUTOR","body":"Thanks for the thorough reply @justinleet.  Everything you have said makes sense to me.\r\n\r\nIn my testing I also found copy fields to be an issue if they were set to stored.  Same problem as LatLon types.  Is it worth adding those to our README in this PR as well?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/383732810/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/383746205","html_url":"https://github.com/apache/metron/pull/995#issuecomment-383746205","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":383746205,"node_id":"MDEyOklzc3VlQ29tbWVudDM4Mzc0NjIwNQ==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-23T22:44:33Z","updated_at":"2018-04-23T22:44:33Z","author_association":"CONTRIBUTOR","body":"@justinleet - Thanks for that write up - that helps considerably.\r\n\r\nJust to round out @merrimanr 's comment about polyfields:\r\n\r\n>At this point I question whether a field being a polyfield is causing this issue. The testing I've done does not support that. Javadocs for FieldType.isPolyField() state:\r\n\r\n>>A \"polyField\" is a FieldType that can produce more than one IndexableField instance for a single value\r\n\r\nSo, from the last few examples discussed it suggests to me that being a polyfield *is* actually a problem, but it's only part of the total reason for the problem. Under the hood they are setting stored=false and docValues=false for currency and some of the other polyfields, whereas they aren't doing this for LatLonType and Point. Does that sound about right? I saw mention of Date also, and some comments about LatLonType being the only problem data type, so it would be good to summarize again what field types are specifically a problem.\r\n\r\nOne bit I'm not completely clear on after the rounds of discussion is when it's desirable to return the dynamic/subfields generated by virtue of being a polyfield, and further how the doc update code is managing that differently from a normal search. For a standard doc query in context of performing an update, we don't want dynamically generated fields returned because that will bork the re-index. For a user glob query, we *do* want then returned because they may be useful to some users? Is that hovering around accurate?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/383746205/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/383750892","html_url":"https://github.com/apache/metron/pull/990#issuecomment-383750892","issue_url":"https://api.github.com/repos/apache/metron/issues/990","id":383750892,"node_id":"MDEyOklzc3VlQ29tbWVudDM4Mzc1MDg5Mg==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-23T23:09:46Z","updated_at":"2018-04-23T23:09:46Z","author_association":"CONTRIBUTOR","body":"+1 Thanks.  Looks good.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/383750892/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/383902015","html_url":"https://github.com/apache/metron/pull/995#issuecomment-383902015","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":383902015,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzkwMjAxNQ==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-24T11:47:52Z","updated_at":"2018-04-24T11:47:52Z","author_association":"CONTRIBUTOR","body":"@mmiklavc That sounds right, yes. For returning dynamic fields (at least on the known problematic fields), I don't think it's pretty much ever advantageous. At most it avoids a split on the LatLon result to pull out just latitude or longitude. I think the newer version of geospatial, LatLonPointSpatialField, is in the list not problematic list, so presumably this realization was made and it's handled similar to others.\r\n\r\nAs an aside, looking through the javadocs, there's this remark on PointFields\r\n>FieldCache is not supported for PointFields, so sorting, faceting, etc on these fields require the use of docValues=\"true\" in the schema.\r\nEven though we don't use PointField in our schemas, we may still want to make that note in our docs.  Seems like a fairly important caveat.\r\n\r\nWe could also potentially, based on https://lucene.apache.org/solr/guide/6_6/docvalues.html#DocValues-RetrievingDocValuesDuringSearch, set `useDocValuesAsStored=\"false\"`, which might sidestep this problem entirely.  The catch is I think there's a whole set of considerations regarding performance and querying that I do not have the expertise to assess.\r\n\r\n@merrimanr Are there any circumstances where we'd want copy fields?  It seems like we could just direct users to make a copy of the field in Metron and just index the copy fields directly. The main concern would be if we're able to manage globs in there, but even if we don't it doesn't seem like super important functionality to support.  At least at a glance; I may definitely be missing use cases.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/383902015/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/383902798","html_url":"https://github.com/apache/metron/pull/942#issuecomment-383902798","issue_url":"https://api.github.com/repos/apache/metron/issues/942","id":383902798,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzkwMjc5OA==","user":{"login":"MohanDV","id":12934693,"node_id":"MDQ6VXNlcjEyOTM0Njkz","avatar_url":"https://avatars.githubusercontent.com/u/12934693?v=4","gravatar_id":"","url":"https://api.github.com/users/MohanDV","html_url":"https://github.com/MohanDV","followers_url":"https://api.github.com/users/MohanDV/followers","following_url":"https://api.github.com/users/MohanDV/following{/other_user}","gists_url":"https://api.github.com/users/MohanDV/gists{/gist_id}","starred_url":"https://api.github.com/users/MohanDV/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MohanDV/subscriptions","organizations_url":"https://api.github.com/users/MohanDV/orgs","repos_url":"https://api.github.com/users/MohanDV/repos","events_url":"https://api.github.com/users/MohanDV/events{/privacy}","received_events_url":"https://api.github.com/users/MohanDV/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-24T11:51:14Z","updated_at":"2018-04-24T11:51:14Z","author_association":"CONTRIBUTOR","body":"If we've reached consensus can I get +1 for this ?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/383902798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/383919906","html_url":"https://github.com/apache/metron/pull/970#issuecomment-383919906","issue_url":"https://api.github.com/repos/apache/metron/issues/970","id":383919906,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzkxOTkwNg==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-24T12:55:54Z","updated_at":"2018-04-24T12:55:54Z","author_association":"CONTRIBUTOR","body":"Merged in a PR from @merrimanr that fixed a couple bugs, in particular around committing (which would happen in tests but no on full dev)","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/383919906/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/383970301","html_url":"https://github.com/apache/metron/pull/995#issuecomment-383970301","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":383970301,"node_id":"MDEyOklzc3VlQ29tbWVudDM4Mzk3MDMwMQ==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-24T15:14:25Z","updated_at":"2018-04-24T15:14:25Z","author_association":"CONTRIBUTOR","body":"> So, from the last few examples discussed it suggests to me that being a polyfield is actually a problem, but it's only part of the total reason for the problem. Under the hood they are setting stored=false and docValues=false for currency and some of the other polyfields, whereas they aren't doing this for LatLonType and Point. Does that sound about right? I saw mention of Date also, and some comments about LatLonType being the only problem data type, so it would be good to summarize again what field types are specifically a problem.\r\n\r\nYes that sounds right to me.  The issue with Date was actually a result of a copy field being defined with stored set to true.  The only types that returned extra fields in my testing were LatLonType and PointType.\r\n\r\n> One bit I'm not completely clear on after the rounds of discussion is when it's desirable to return the dynamic/subfields generated by virtue of being a polyfield, and further how the doc update code is managing that differently from a normal search. For a standard doc query in context of performing an update, we don't want dynamically generated fields returned because that will bork the re-index. For a user glob query, we do want then returned because they may be useful to some users? Is that hovering around accurate?\r\n\r\nThe root of the problem is that updates in our DAOs involve reindexing the whole document.  If internal fields are returned in the lookup it will bork the re-index.  With a couple exceptions, document lookups are done with the SolrClient.getById method which I believe returns all fields.  I don't know that there is a case where we want to return these dynamically generated fields.  In fact, I'm now convinced the LatLonType field was just not configured correctly and is an isolated issue.\r\n\r\n> @merrimanr Are there any circumstances where we'd want copy fields? It seems like we could just direct users to make a copy of the field in Metron and just index the copy fields directly. The main concern would be if we're able to manage globs in there, but even if we don't it doesn't seem like super important functionality to support. At least at a glance; I may definitely be missing use cases.\r\n\r\nI believe copy fields is a commonly used feature in Solr.  It can be useful for indexing a value in different ways, with a different chain of analyzers.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/383970301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/383983342","html_url":"https://github.com/apache/metron/pull/995#issuecomment-383983342","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":383983342,"node_id":"MDEyOklzc3VlQ29tbWVudDM4Mzk4MzM0Mg==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-24T15:51:27Z","updated_at":"2018-04-24T15:51:27Z","author_association":"CONTRIBUTOR","body":"@merrimanr Can the copyFields destination be `docValues=false`?  I'm inclined to just document that requirement (assuming it works), and not worry too much about it until someone actually needs something that can't be done via the main Metron processes?\r\n","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/383983342/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/384049684","html_url":"https://github.com/apache/metron/pull/995#issuecomment-384049684","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":384049684,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDA0OTY4NA==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-24T19:21:58Z","updated_at":"2018-04-24T19:21:58Z","author_association":"CONTRIBUTOR","body":"Yes we can set docValues and stored to false for copyFields.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/384049684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/384058246","html_url":"https://github.com/apache/metron/pull/1002#issuecomment-384058246","issue_url":"https://api.github.com/repos/apache/metron/issues/1002","id":384058246,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDA1ODI0Ng==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-24T19:52:06Z","updated_at":"2018-04-24T19:52:06Z","author_association":"CONTRIBUTOR","body":"I am going to review this, because I remember one of our earliest conversations and I feel I have inspired this PR, even if sub-consciously.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/384058246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/384058420","html_url":"https://github.com/apache/metron/pull/1002#issuecomment-384058420","issue_url":"https://api.github.com/repos/apache/metron/issues/1002","id":384058420,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDA1ODQyMA==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-24T19:52:41Z","updated_at":"2018-04-24T19:52:41Z","author_association":"MEMBER","body":"@ottobackwards It's all your fault. ;)","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/384058420/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/384064717","html_url":"https://github.com/apache/metron/pull/1002#issuecomment-384064717","issue_url":"https://api.github.com/repos/apache/metron/issues/1002","id":384064717,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDA2NDcxNw==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-24T20:14:20Z","updated_at":"2018-04-24T20:14:20Z","author_association":"CONTRIBUTOR","body":"+ 1 by inspection.  Everything looks great. Thanks for the contribution.  ","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/384064717/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/384067088","html_url":"https://github.com/apache/metron/pull/1002#issuecomment-384067088","issue_url":"https://api.github.com/repos/apache/metron/issues/1002","id":384067088,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDA2NzA4OA==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-24T20:22:31Z","updated_at":"2018-04-24T20:22:42Z","author_association":"MEMBER","body":"Thanks @ottobackwards ! I want to run this up once more in full-dev to make sure of one last thing.  I'll commit tomorrow.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/384067088/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/384142073","html_url":"https://github.com/apache/metron/pull/995#issuecomment-384142073","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":384142073,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDE0MjA3Mw==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-25T02:32:02Z","updated_at":"2018-04-25T02:32:02Z","author_association":"CONTRIBUTOR","body":"I think, based on my understanding, that we document around the copy fields limitation.\r\n\r\n@cestella @mmiklavc are you both good with the approach of documenting the schema definitions for LatLon and Point along with the restrictions on copy fields?  Are there any outstanding questions or issues you have that need to be addressed? Or new ones to be added? ","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/384142073/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/384283588","html_url":"https://github.com/apache/metron/pull/997#issuecomment-384283588","issue_url":"https://api.github.com/repos/apache/metron/issues/997","id":384283588,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDI4MzU4OA==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-25T13:20:04Z","updated_at":"2018-04-25T13:20:04Z","author_association":"MEMBER","body":"+1 by inspection, great job!","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/384283588/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/384293398","html_url":"https://github.com/apache/metron/pull/995#issuecomment-384293398","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":384293398,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDI5MzM5OA==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-25T13:49:24Z","updated_at":"2018-04-25T13:49:24Z","author_association":"CONTRIBUTOR","body":"Latest commit fixes the copy/paste error and adds copyFields documentation to the README.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/384293398/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/384337421","html_url":"https://github.com/apache/metron/pull/995#issuecomment-384337421","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":384337421,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDMzNzQyMQ==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-25T15:52:21Z","updated_at":"2018-04-25T15:52:21Z","author_association":"MEMBER","body":"@justinleet @merrimanr Nope, I'm good.  I'll give my +1 (pending acceptance by the rest of the people who have commented here).","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/384337421/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/384384169","html_url":"https://github.com/apache/metron/pull/995#issuecomment-384384169","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":384384169,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDM4NDE2OQ==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-25T18:16:48Z","updated_at":"2018-04-25T18:16:48Z","author_association":"CONTRIBUTOR","body":"@mmiklavc let me know if the recent commit satisfies your feedback.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/384384169/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/384421234","html_url":"https://github.com/apache/metron/pull/995#issuecomment-384421234","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":384421234,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDQyMTIzNA==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-25T20:21:15Z","updated_at":"2018-04-25T20:21:15Z","author_association":"CONTRIBUTOR","body":"Lgtm with these changes. I'm +1 by inspection.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/384421234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/384422338","html_url":"https://github.com/apache/metron/pull/995#issuecomment-384422338","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":384422338,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDQyMjMzOA==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-25T20:25:08Z","updated_at":"2018-04-25T20:25:08Z","author_association":"CONTRIBUTOR","body":"Thanks @cestella and @mmiklavc.  Just waiting on a +1 from @justinleet and we'll call it done.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/384422338/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/384472352","html_url":"https://github.com/apache/metron/pull/995#issuecomment-384472352","issue_url":"https://api.github.com/repos/apache/metron/issues/995","id":384472352,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDQ3MjM1Mg==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-26T00:13:41Z","updated_at":"2018-04-26T00:13:41Z","author_association":"CONTRIBUTOR","body":"+1 by inspection. Thanks a lot for the work on this.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/384472352/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/384972333","html_url":"https://github.com/apache/metron/pull/1003#issuecomment-384972333","issue_url":"https://api.github.com/repos/apache/metron/issues/1003","id":384972333,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDk3MjMzMw==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-27T13:37:52Z","updated_at":"2018-04-27T13:37:52Z","author_association":"CONTRIBUTOR","body":"Should profiler properties also be included? https://github.com/apache/metron/blob/2b4f0b84062d65f9400421d66ec3b7d6d093bebf/metron-deployment/packaging/ambari/metron-mpack/src/main/resources/common-services/METRON/CURRENT/package/templates/profiler.properties.j2","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/384972333/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]