[{"url":"https://api.github.com/repos/apache/druid/issues/comments/330553267","html_url":"https://github.com/apache/druid/pull/4415#issuecomment-330553267","issue_url":"https://api.github.com/repos/apache/druid/issues/4415","id":330553267,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDU1MzI2Nw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-19T14:14:57Z","updated_at":"2017-09-19T14:14:57Z","author_association":"CONTRIBUTOR","body":"@fmarelli, would you mind raising a new issue for this?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/330553267/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/330553752","html_url":"https://github.com/apache/druid/pull/4415#issuecomment-330553752","issue_url":"https://api.github.com/repos/apache/druid/issues/4415","id":330553752,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDU1Mzc1Mg==","user":{"login":"fmarelli","id":6542651,"node_id":"MDQ6VXNlcjY1NDI2NTE=","avatar_url":"https://avatars.githubusercontent.com/u/6542651?v=4","gravatar_id":"","url":"https://api.github.com/users/fmarelli","html_url":"https://github.com/fmarelli","followers_url":"https://api.github.com/users/fmarelli/followers","following_url":"https://api.github.com/users/fmarelli/following{/other_user}","gists_url":"https://api.github.com/users/fmarelli/gists{/gist_id}","starred_url":"https://api.github.com/users/fmarelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmarelli/subscriptions","organizations_url":"https://api.github.com/users/fmarelli/orgs","repos_url":"https://api.github.com/users/fmarelli/repos","events_url":"https://api.github.com/users/fmarelli/events{/privacy}","received_events_url":"https://api.github.com/users/fmarelli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-19T14:16:15Z","updated_at":"2017-09-19T14:16:15Z","author_association":"NONE","body":"@gianm Sure. Thanks","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/330553752/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/330555319","html_url":"https://github.com/apache/druid/pull/4415#issuecomment-330555319","issue_url":"https://api.github.com/repos/apache/druid/issues/4415","id":330555319,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDU1NTMxOQ==","user":{"login":"fmarelli","id":6542651,"node_id":"MDQ6VXNlcjY1NDI2NTE=","avatar_url":"https://avatars.githubusercontent.com/u/6542651?v=4","gravatar_id":"","url":"https://api.github.com/users/fmarelli","html_url":"https://github.com/fmarelli","followers_url":"https://api.github.com/users/fmarelli/followers","following_url":"https://api.github.com/users/fmarelli/following{/other_user}","gists_url":"https://api.github.com/users/fmarelli/gists{/gist_id}","starred_url":"https://api.github.com/users/fmarelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmarelli/subscriptions","organizations_url":"https://api.github.com/users/fmarelli/orgs","repos_url":"https://api.github.com/users/fmarelli/repos","events_url":"https://api.github.com/users/fmarelli/events{/privacy}","received_events_url":"https://api.github.com/users/fmarelli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-19T14:20:36Z","updated_at":"2017-09-19T14:20:36Z","author_association":"NONE","body":"@gianm Done, link below. Thanks\r\n\r\n[Issue 4826](https://github.com/druid-io/druid/issues/4826)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/330555319/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/330557072","html_url":"https://github.com/apache/druid/issues/4826#issuecomment-330557072","issue_url":"https://api.github.com/repos/apache/druid/issues/4826","id":330557072,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDU1NzA3Mg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-19T14:26:21Z","updated_at":"2017-09-19T14:26:21Z","author_association":"CONTRIBUTOR","body":"Based on the stack trace, I think this is happening because druid-sql plans a non-aggregating query by concatting a bunch of native Select queries, and that means the QueryMetrics emission will happen on some \"random\" call to `yielder.next()` not on `close()` (since internally, the ConcatSequence closes the inner sequences as they finish accumulating, and the inner sequences are the ones that came from the ClientQuerySegmentWalker). The yielderOpenCloseExecutor is used by DruidStatement to make sure open/close happen in the same thread, but this is not true for nextFrame. This particular problem shouldn't happen for aggregating queries, or for the JSON-over-HTTP API (since that one does everything in one thread).\r\n\r\n@fmarelli, we will fix this, but if possible for now you could do a workaround of using the JSON-over-HTTP API rather than JDBC.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/330557072/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/330558620","html_url":"https://github.com/apache/druid/issues/4826#issuecomment-330558620","issue_url":"https://api.github.com/repos/apache/druid/issues/4826","id":330558620,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDU1ODYyMA==","user":{"login":"fmarelli","id":6542651,"node_id":"MDQ6VXNlcjY1NDI2NTE=","avatar_url":"https://avatars.githubusercontent.com/u/6542651?v=4","gravatar_id":"","url":"https://api.github.com/users/fmarelli","html_url":"https://github.com/fmarelli","followers_url":"https://api.github.com/users/fmarelli/followers","following_url":"https://api.github.com/users/fmarelli/following{/other_user}","gists_url":"https://api.github.com/users/fmarelli/gists{/gist_id}","starred_url":"https://api.github.com/users/fmarelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmarelli/subscriptions","organizations_url":"https://api.github.com/users/fmarelli/orgs","repos_url":"https://api.github.com/users/fmarelli/repos","events_url":"https://api.github.com/users/fmarelli/events{/privacy}","received_events_url":"https://api.github.com/users/fmarelli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-19T14:31:27Z","updated_at":"2017-09-19T14:31:27Z","author_association":"NONE","body":"@gianm Thank you for the quick reply. The query I am submitting in this scenario is in fact a simple non aggregating extraction query. I will use a JSON-over-HTTP query to work around this issue although it's a bit of a pain as my app is 100% jdbc based at the moment.\r\n\r\nThanks for the great work and support.\r\n\r\nCheers","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/330558620/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/330560830","html_url":"https://github.com/apache/druid/issues/4826#issuecomment-330560830","issue_url":"https://api.github.com/repos/apache/druid/issues/4826","id":330560830,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDU2MDgzMA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-19T14:38:30Z","updated_at":"2017-09-19T14:38:30Z","author_association":"CONTRIBUTOR","body":"@fmarelli apologies for the inconvenience, we'll get it fixed as soon as we can.\r\n\r\nSome notes on that: I think the same-thread check in QueryMetrics is counter-productive for the JDBC API. DruidStatement already synchronizes calls to the yielder, and I think that's the only thing that might call QueryMetrics, so it should be safe as-is if the check were ignored. The issue is just that JDBC delivers query results not all in one http request, but spread out over multiple http requests, so even though the calls are synchronized they might not happen in the same thread.\r\n\r\nWould it make sense to disable the check for JDBC? Or at least have some way to adjust the ownerThread? The QueryMetrics docs say \"this DefaultQueryMetrics's ownerThread should be reassigned explicitly\" but it's not clear how best to do that when it's buried inside a Sequence.\r\n\r\n@leventov or @jon-wei do you have any comment on this?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/330560830/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/330606550","html_url":"https://github.com/apache/druid/pull/4823#issuecomment-330606550","issue_url":"https://api.github.com/repos/apache/druid/issues/4823","id":330606550,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDYwNjU1MA==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-19T17:05:46Z","updated_at":"2017-09-19T17:05:46Z","author_association":"CONTRIBUTOR","body":"👍 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/330606550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/330608273","html_url":"https://github.com/apache/druid/pull/4824#issuecomment-330608273","issue_url":"https://api.github.com/repos/apache/druid/issues/4824","id":330608273,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDYwODI3Mw==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-19T17:12:02Z","updated_at":"2017-09-19T17:12:02Z","author_association":"CONTRIBUTOR","body":":+1:","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/330608273/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/330633989","html_url":"https://github.com/apache/druid/pull/4758#issuecomment-330633989","issue_url":"https://api.github.com/repos/apache/druid/issues/4758","id":330633989,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDYzMzk4OQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-19T18:45:09Z","updated_at":"2017-09-19T18:45:09Z","author_association":"CONTRIBUTOR","body":"@himanshug basically I'm saying a failure to load a lookup should not prevent a node from servicing whatever it can any more than a failure to load a segment. If the query stuff waits completely until lookups either succeed or fail, then it is going to greatly increase the start time of an instance. This is also assuming the instance isn't completely failed if the lookup loading fails. (I haven't checked the code on this point yet)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/330633989/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/330647873","html_url":"https://github.com/apache/druid/pull/4758#issuecomment-330647873","issue_url":"https://api.github.com/repos/apache/druid/issues/4758","id":330647873,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDY0Nzg3Mw==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-19T19:27:18Z","updated_at":"2017-09-19T19:27:18Z","author_association":"CONTRIBUTOR","body":"@drcrallen syncup with coordinator at startup is configurable and by default  not enabled, so behavior stays same for user not opting in to specifically use this feature.\r\nnow, when configured, yes it will delay the time by which node starts because it has to load all lookups that coordinator provided and it is done in parallel using configured number of threads. but, this is a choice user is making considering they want lookups to be loaded upfront before start so that no queries fail.\r\nlookupExtractorFactory.start() implementation is expected to behave well and cleanup any state if it returns false or throws exception (ideally its not expected to throw exceptions but only return success status only). that cleanup is not the responsibility of LookupReferencesManager. Also, this behavior has always been expected.\r\n\r\nhope that gives some clarity.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/330647873/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/330651651","html_url":"https://github.com/apache/druid/pull/4810#issuecomment-330651651","issue_url":"https://api.github.com/repos/apache/druid/issues/4810","id":330651651,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDY1MTY1MQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-19T19:42:08Z","updated_at":"2017-09-19T19:42:08Z","author_association":"CONTRIBUTOR","body":":+1:","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/330651651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/330654591","html_url":"https://github.com/apache/druid/pull/4757#issuecomment-330654591","issue_url":"https://api.github.com/repos/apache/druid/issues/4757","id":330654591,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDY1NDU5MQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-19T19:53:55Z","updated_at":"2017-09-19T19:53:55Z","author_association":"CONTRIBUTOR","body":"((Mentioned in private to @xanec )): Since a bunch of the code is refactored, adding in more class level or in-method comments about what is protecting data from being dropped on accident would be helpful. For example, if the state of the coordinator is stale for some reason (ex: Historical asked to drop a segment, new coordinator takes over and didn't know historical is dropping a segment, new coordinator asks some other historical to also drop a segment), how is such a scenario handled to prevent temporary data loss?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/330654591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/330732295","html_url":"https://github.com/apache/druid/issues/4575#issuecomment-330732295","issue_url":"https://api.github.com/repos/apache/druid/issues/4575","id":330732295,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDczMjI5NQ==","user":{"login":"zhxiaom5","id":10976459,"node_id":"MDQ6VXNlcjEwOTc2NDU5","avatar_url":"https://avatars.githubusercontent.com/u/10976459?v=4","gravatar_id":"","url":"https://api.github.com/users/zhxiaom5","html_url":"https://github.com/zhxiaom5","followers_url":"https://api.github.com/users/zhxiaom5/followers","following_url":"https://api.github.com/users/zhxiaom5/following{/other_user}","gists_url":"https://api.github.com/users/zhxiaom5/gists{/gist_id}","starred_url":"https://api.github.com/users/zhxiaom5/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhxiaom5/subscriptions","organizations_url":"https://api.github.com/users/zhxiaom5/orgs","repos_url":"https://api.github.com/users/zhxiaom5/repos","events_url":"https://api.github.com/users/zhxiaom5/events{/privacy}","received_events_url":"https://api.github.com/users/zhxiaom5/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-20T03:05:29Z","updated_at":"2017-09-20T03:05:29Z","author_association":"NONE","body":"that not what I want,\r\nI want to first groupby,then topN every groupby ,not just group by,then topN all groupby","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/330732295/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/330733679","html_url":"https://github.com/apache/druid/issues/4575#issuecomment-330733679","issue_url":"https://api.github.com/repos/apache/druid/issues/4575","id":330733679,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDczMzY3OQ==","user":{"login":"zhxiaom5","id":10976459,"node_id":"MDQ6VXNlcjEwOTc2NDU5","avatar_url":"https://avatars.githubusercontent.com/u/10976459?v=4","gravatar_id":"","url":"https://api.github.com/users/zhxiaom5","html_url":"https://github.com/zhxiaom5","followers_url":"https://api.github.com/users/zhxiaom5/followers","following_url":"https://api.github.com/users/zhxiaom5/following{/other_user}","gists_url":"https://api.github.com/users/zhxiaom5/gists{/gist_id}","starred_url":"https://api.github.com/users/zhxiaom5/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhxiaom5/subscriptions","organizations_url":"https://api.github.com/users/zhxiaom5/orgs","repos_url":"https://api.github.com/users/zhxiaom5/repos","events_url":"https://api.github.com/users/zhxiaom5/events{/privacy}","received_events_url":"https://api.github.com/users/zhxiaom5/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-20T03:16:02Z","updated_at":"2017-09-20T03:16:02Z","author_association":"NONE","body":"well，foreach topN works too，not cost too many time","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/330733679/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/330760640","html_url":"https://github.com/apache/druid/pull/4704#issuecomment-330760640","issue_url":"https://api.github.com/repos/apache/druid/issues/4704","id":330760640,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDc2MDY0MA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-20T06:47:24Z","updated_at":"2017-09-20T22:48:59Z","author_association":"CONTRIBUTOR","body":"I changed to use different degrees for combining leaf nodes and intermediate nodes because it can further improve the performance. Please see the comments at https://github.com/druid-io/druid/pull/4704/files#diff-35b5677deb4d7f8f67011b895a96e065R67. Here is the benchmark result. About 8 % performance gain.\r\n\r\n```\r\nBenchmark                                              (defaultStrategy)  (initialBuckets)  (numProcessingThreads)  (numSegments)  (queryGranularity)  (rowsPerSegment)  (schemaAndQuery)  Mode  Cnt       Score      Error  Units\r\nGroupByBenchmark.queryMultiQueryableIndexWithSpilling                 v2                -1                       8              8                 all            100000           basic.A  avgt   30  249158.560 ± 3395.212  us/op\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/330760640/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/330833345","html_url":"https://github.com/apache/druid/issues/4683#issuecomment-330833345","issue_url":"https://api.github.com/repos/apache/druid/issues/4683","id":330833345,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDgzMzM0NQ==","user":{"login":"randerzander","id":1692914,"node_id":"MDQ6VXNlcjE2OTI5MTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1692914?v=4","gravatar_id":"","url":"https://api.github.com/users/randerzander","html_url":"https://github.com/randerzander","followers_url":"https://api.github.com/users/randerzander/followers","following_url":"https://api.github.com/users/randerzander/following{/other_user}","gists_url":"https://api.github.com/users/randerzander/gists{/gist_id}","starred_url":"https://api.github.com/users/randerzander/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/randerzander/subscriptions","organizations_url":"https://api.github.com/users/randerzander/orgs","repos_url":"https://api.github.com/users/randerzander/repos","events_url":"https://api.github.com/users/randerzander/events{/privacy}","received_events_url":"https://api.github.com/users/randerzander/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-20T12:16:23Z","updated_at":"2017-09-20T12:16:23Z","author_association":"NONE","body":"Hi @gianm, are the docs [here](http://druid.io/docs/0.10.1/querying/sql.html) out of date? I tried the curl example query but get 405s:\r\n\r\ncurl -XPOST -H'Content-Type: application/json' http://localhost:8082/druid/v2/sql/ -d '{\"query\":\"SELECT COUNT(*) FROM data_source\"}'\r\n\r\n* About to connect() to localhost port 8082 (#0)\r\n*   Trying 127.0.0.1...\r\n* Connected to localhost (127.0.0.1) port 8082 (#0)\r\n> POST /druid/v2/sql/ HTTP/1.1\r\n> User-Agent: curl/7.29.0\r\n> Host: localhost:8082\r\n> Accept: */*\r\n> Content-Type: application/json\r\n> Content-Length: 44\r\n> \r\n* upload completely sent off: 44 out of 44 bytes\r\n< HTTP/1.1 405 Method Not Allowed\r\n< Date: Wed, 20 Sep 2017 12:14:55 GMT\r\n< Allow: DELETE,OPTIONS\r\n< Content-Length: 0\r\n< Server: Jetty(9.3.19.v20170502)\r\n< \r\n* Connection #0 to host localhost left intact","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/330833345/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/330940001","html_url":"https://github.com/apache/druid/pull/4570#issuecomment-330940001","issue_url":"https://api.github.com/repos/apache/druid/issues/4570","id":330940001,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDk0MDAwMQ==","user":{"login":"akashdw","id":5886276,"node_id":"MDQ6VXNlcjU4ODYyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5886276?v=4","gravatar_id":"","url":"https://api.github.com/users/akashdw","html_url":"https://github.com/akashdw","followers_url":"https://api.github.com/users/akashdw/followers","following_url":"https://api.github.com/users/akashdw/following{/other_user}","gists_url":"https://api.github.com/users/akashdw/gists{/gist_id}","starred_url":"https://api.github.com/users/akashdw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akashdw/subscriptions","organizations_url":"https://api.github.com/users/akashdw/orgs","repos_url":"https://api.github.com/users/akashdw/repos","events_url":"https://api.github.com/users/akashdw/events{/privacy}","received_events_url":"https://api.github.com/users/akashdw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-20T18:28:06Z","updated_at":"2017-09-20T18:28:06Z","author_association":"CONTRIBUTOR","body":"@leventov Addressed comments and search package name correction pr got merged. Can you please review this PR.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/330940001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/330952741","html_url":"https://github.com/apache/druid/pull/4532#issuecomment-330952741","issue_url":"https://api.github.com/repos/apache/druid/issues/4532","id":330952741,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDk1Mjc0MQ==","user":{"login":"chunghochen","id":254066,"node_id":"MDQ6VXNlcjI1NDA2Ng==","avatar_url":"https://avatars.githubusercontent.com/u/254066?v=4","gravatar_id":"","url":"https://api.github.com/users/chunghochen","html_url":"https://github.com/chunghochen","followers_url":"https://api.github.com/users/chunghochen/followers","following_url":"https://api.github.com/users/chunghochen/following{/other_user}","gists_url":"https://api.github.com/users/chunghochen/gists{/gist_id}","starred_url":"https://api.github.com/users/chunghochen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chunghochen/subscriptions","organizations_url":"https://api.github.com/users/chunghochen/orgs","repos_url":"https://api.github.com/users/chunghochen/repos","events_url":"https://api.github.com/users/chunghochen/events{/privacy}","received_events_url":"https://api.github.com/users/chunghochen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-20T19:15:21Z","updated_at":"2017-09-20T19:16:59Z","author_association":"CONTRIBUTOR","body":"Not sure why the checks failed?\r\nMy mvn regressions passed all tests in my env.  I can provide the log if needed.\r\n\r\n- can't click into details of Inspections: pull requests (Druid) — TeamCity build failed.  It asked me to sign up and but even I signed up, I can't see any thing meaningful.\r\n- continuous-integration/travis-ci/pr — The Travis CI build failed\r\nIt showed failure with java.util.concurrent.locks.AbstractQueuedSynchronizer.tryAcquireSharedNanos(AbstractQueuedSynchronizer.java:1328)  \r\nI don't think my change will cause this issue.  It looks like intermittent issues I ran into before.\r\n\r\nAlso I can't see ihoonson requested changes, as I clicked \"See review\" link but failed to see new review comment.\r\n\r\nPlease help/advise.\r\nThanks so much!\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/330952741/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/330953237","html_url":"https://github.com/apache/druid/pull/4828#issuecomment-330953237","issue_url":"https://api.github.com/repos/apache/druid/issues/4828","id":330953237,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDk1MzIzNw==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-20T19:17:22Z","updated_at":"2017-09-20T19:17:22Z","author_association":"CONTRIBUTOR","body":"Thank you @AlexanderSaydakov , are there specific features or highlights that can be called out? or is this just a keeping-up-with-master kind of patch?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/330953237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/330953516","html_url":"https://github.com/apache/druid/pull/4828#issuecomment-330953516","issue_url":"https://api.github.com/repos/apache/druid/issues/4828","id":330953516,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDk1MzUxNg==","user":{"login":"niketh","id":626548,"node_id":"MDQ6VXNlcjYyNjU0OA==","avatar_url":"https://avatars.githubusercontent.com/u/626548?v=4","gravatar_id":"","url":"https://api.github.com/users/niketh","html_url":"https://github.com/niketh","followers_url":"https://api.github.com/users/niketh/followers","following_url":"https://api.github.com/users/niketh/following{/other_user}","gists_url":"https://api.github.com/users/niketh/gists{/gist_id}","starred_url":"https://api.github.com/users/niketh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niketh/subscriptions","organizations_url":"https://api.github.com/users/niketh/orgs","repos_url":"https://api.github.com/users/niketh/repos","events_url":"https://api.github.com/users/niketh/events{/privacy}","received_events_url":"https://api.github.com/users/niketh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-20T19:18:31Z","updated_at":"2017-09-20T19:18:31Z","author_association":"CONTRIBUTOR","body":"👍 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/330953516/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/330954020","html_url":"https://github.com/apache/druid/pull/4828#issuecomment-330954020","issue_url":"https://api.github.com/repos/apache/druid/issues/4828","id":330954020,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDk1NDAyMA==","user":{"login":"AlexanderSaydakov","id":13126686,"node_id":"MDQ6VXNlcjEzMTI2Njg2","avatar_url":"https://avatars.githubusercontent.com/u/13126686?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexanderSaydakov","html_url":"https://github.com/AlexanderSaydakov","followers_url":"https://api.github.com/users/AlexanderSaydakov/followers","following_url":"https://api.github.com/users/AlexanderSaydakov/following{/other_user}","gists_url":"https://api.github.com/users/AlexanderSaydakov/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexanderSaydakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexanderSaydakov/subscriptions","organizations_url":"https://api.github.com/users/AlexanderSaydakov/orgs","repos_url":"https://api.github.com/users/AlexanderSaydakov/repos","events_url":"https://api.github.com/users/AlexanderSaydakov/events{/privacy}","received_events_url":"https://api.github.com/users/AlexanderSaydakov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-20T19:20:34Z","updated_at":"2017-09-20T19:20:34Z","author_association":"CONTRIBUTOR","body":"@drcrallen This should be fully compatible. Mostly maintenance and preparation to submit aggregators for other sketch types.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/330954020/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/330955636","html_url":"https://github.com/apache/druid/pull/4776#issuecomment-330955636","issue_url":"https://api.github.com/repos/apache/druid/issues/4776","id":330955636,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDk1NTYzNg==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-20T19:26:49Z","updated_at":"2017-09-20T19:26:49Z","author_association":"CONTRIBUTOR","body":"@himanshug or @nishantmonu51 can one of you guys look at this one?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/330955636/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/330967077","html_url":"https://github.com/apache/druid/pull/4793#issuecomment-330967077","issue_url":"https://api.github.com/repos/apache/druid/issues/4793","id":330967077,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDk2NzA3Nw==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-20T20:12:45Z","updated_at":"2017-09-20T20:12:45Z","author_association":"CONTRIBUTOR","body":"going to go ahead and merge this for 0.11.0 since it's a doc patch and it's already approved","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/330967077/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/330987768","html_url":"https://github.com/apache/druid/pull/4776#issuecomment-330987768","issue_url":"https://api.github.com/repos/apache/druid/issues/4776","id":330987768,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDk4Nzc2OA==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-20T21:34:39Z","updated_at":"2017-09-20T21:35:16Z","author_association":"CONTRIBUTOR","body":"This seems to be an issue of packaging, the Kerberos extension is supposed to have the Hadoop dependencies namely the hadoop-common. @shiroari can you make sure the extension directory has all the dependencies? ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/330987768/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/330999298","html_url":"https://github.com/apache/druid/issues/4825#issuecomment-330999298","issue_url":"https://api.github.com/repos/apache/druid/issues/4825","id":330999298,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDk5OTI5OA==","user":{"login":"KenjiTakahashi","id":431488,"node_id":"MDQ6VXNlcjQzMTQ4OA==","avatar_url":"https://avatars.githubusercontent.com/u/431488?v=4","gravatar_id":"","url":"https://api.github.com/users/KenjiTakahashi","html_url":"https://github.com/KenjiTakahashi","followers_url":"https://api.github.com/users/KenjiTakahashi/followers","following_url":"https://api.github.com/users/KenjiTakahashi/following{/other_user}","gists_url":"https://api.github.com/users/KenjiTakahashi/gists{/gist_id}","starred_url":"https://api.github.com/users/KenjiTakahashi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KenjiTakahashi/subscriptions","organizations_url":"https://api.github.com/users/KenjiTakahashi/orgs","repos_url":"https://api.github.com/users/KenjiTakahashi/repos","events_url":"https://api.github.com/users/KenjiTakahashi/events{/privacy}","received_events_url":"https://api.github.com/users/KenjiTakahashi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-20T22:30:47Z","updated_at":"2017-09-20T22:30:47Z","author_association":"CONTRIBUTOR","body":"FYI: It was discussed in the `scan-query` PR: https://github.com/druid-io/druid/pull/3307. TL;DR is that it needs to be done on the upper level of serialization, above specific query, and is not trivial to introduce. Not saying it can't be done, though, and I'd like to see that happen too.\r\n\r\nFor now, depending on your case, you could be able to use a streaming Jackson deserializer to avoid memory pressure.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/330999298/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331000411","html_url":"https://github.com/apache/druid/pull/4532#issuecomment-331000411","issue_url":"https://api.github.com/repos/apache/druid/issues/4532","id":331000411,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTAwMDQxMQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-20T22:36:43Z","updated_at":"2017-09-20T22:36:43Z","author_association":"CONTRIBUTOR","body":"@chunghochen \r\n\r\nWe've been having issues with Travis CI recently, the third test there often fails with a timeout, I've reset that test.\r\n\r\nTo see the TeamCity report, you can click on \"Login as Guest\". I checked the error report there and they don't seem related to this patch.\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331000411/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331000591","html_url":"https://github.com/apache/druid/pull/4532#issuecomment-331000591","issue_url":"https://api.github.com/repos/apache/druid/issues/4532","id":331000591,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTAwMDU5MQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-20T22:37:44Z","updated_at":"2017-09-20T22:37:44Z","author_association":"CONTRIBUTOR","body":"Moving this to 0.11.1, as 0.11.0 is feature frozen now","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331000591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331003026","html_url":"https://github.com/apache/druid/issues/4609#issuecomment-331003026","issue_url":"https://api.github.com/repos/apache/druid/issues/4609","id":331003026,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTAwMzAyNg==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-20T22:51:49Z","updated_at":"2017-09-20T22:51:49Z","author_association":"CONTRIBUTOR","body":"fixed by #4680 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331003026/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331008463","html_url":"https://github.com/apache/druid/pull/4532#issuecomment-331008463","issue_url":"https://api.github.com/repos/apache/druid/issues/4532","id":331008463,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTAwODQ2Mw==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-20T23:26:08Z","updated_at":"2017-09-20T23:26:30Z","author_association":"CONTRIBUTOR","body":"@chunghochen Can you try merging master to your branch? The TeamCity failures shown in the report were fixed by https://github.com/druid-io/druid/pull/4809\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331008463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331013160","html_url":"https://github.com/apache/druid/pull/4811#issuecomment-331013160","issue_url":"https://api.github.com/repos/apache/druid/issues/4811","id":331013160,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTAxMzE2MA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-20T23:58:18Z","updated_at":"2017-09-20T23:58:18Z","author_association":"MEMBER","body":"@gianm @drcrallen do you have more comments here?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331013160/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331025848","html_url":"https://github.com/apache/druid/pull/4815#issuecomment-331025848","issue_url":"https://api.github.com/repos/apache/druid/issues/4815","id":331025848,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTAyNTg0OA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T01:34:16Z","updated_at":"2017-09-21T01:34:16Z","author_association":"CONTRIBUTOR","body":"@pjain1 thanks for your work on this issue. I'll review soon.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331025848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331027242","html_url":"https://github.com/apache/druid/pull/4829#issuecomment-331027242","issue_url":"https://api.github.com/repos/apache/druid/issues/4829","id":331027242,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTAyNzI0Mg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T01:44:35Z","updated_at":"2017-09-21T01:44:35Z","author_association":"CONTRIBUTOR","body":"Looks that the CI failure is not relevant to this patch.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331027242/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331027534","html_url":"https://github.com/apache/druid/pull/4783#issuecomment-331027534","issue_url":"https://api.github.com/repos/apache/druid/issues/4783","id":331027534,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTAyNzUzNA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T01:46:38Z","updated_at":"2017-09-21T01:46:38Z","author_association":"CONTRIBUTOR","body":"@akashdw would you merge the master branch? It looks that the broken CI relates to https://github.com/druid-io/druid/pull/4755.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331027534/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331029053","html_url":"https://github.com/apache/druid/pull/4783#issuecomment-331029053","issue_url":"https://api.github.com/repos/apache/druid/issues/4783","id":331029053,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTAyOTA1Mw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T01:57:50Z","updated_at":"2017-09-21T01:57:50Z","author_association":"CONTRIBUTOR","body":"master shouldn't be merged into the 0.10.1 branch, but the CI-fixing commits could be cherry-picked.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331029053/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331029225","html_url":"https://github.com/apache/druid/pull/4783#issuecomment-331029225","issue_url":"https://api.github.com/repos/apache/druid/issues/4783","id":331029225,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTAyOTIyNQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T01:58:59Z","updated_at":"2017-09-21T01:58:59Z","author_association":"CONTRIBUTOR","body":"@gianm ah sure.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331029225/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331035016","html_url":"https://github.com/apache/druid/issues/4830#issuecomment-331035016","issue_url":"https://api.github.com/repos/apache/druid/issues/4830","id":331035016,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTAzNTAxNg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T02:41:43Z","updated_at":"2017-09-21T02:41:43Z","author_association":"CONTRIBUTOR","body":"Do you know what happened to get Druid into this state? Is it reproducible?\r\n\r\nCould you try running `jstack -l <coordinator pid>` and see what the http handler threads are doing? (They should start with the string `qtp`)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331035016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331035592","html_url":"https://github.com/apache/druid/issues/4825#issuecomment-331035592","issue_url":"https://api.github.com/repos/apache/druid/issues/4825","id":331035592,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTAzNTU5Mg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T02:46:17Z","updated_at":"2017-09-21T02:46:17Z","author_association":"CONTRIBUTOR","body":"If you have a parser that can parse JSON arrays in a streaming fashion (like Jackson) then as @KenjiTakahashi pointed out, you could parse this output one chunk at a time.\r\n\r\nIf you have one that can't parse JSON arrays like that, but _can_ parse a stream of objects concatenated together with potential garbage between them, then you could try skipping the first character (first checking that it's in fact a `[`) and then parsing the rest of the stream as a series of objects. They will have `,` between them but maybe you can skip that.\r\n\r\nI think we would also accept a patch that adds an option to the broker to return results as concatenated objects rather than as JSON arrays. It sounds like a simple and potentially useful patch to me (to help in situations like this).","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331035592/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331035635","html_url":"https://github.com/apache/druid/issues/4825#issuecomment-331035635","issue_url":"https://api.github.com/repos/apache/druid/issues/4825","id":331035635,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTAzNTYzNQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T02:46:38Z","updated_at":"2017-09-21T02:46:38Z","author_association":"CONTRIBUTOR","body":"That option would apply to all queries, btw, not just scan.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331035635/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331047808","html_url":"https://github.com/apache/druid/pull/4829#issuecomment-331047808","issue_url":"https://api.github.com/repos/apache/druid/issues/4829","id":331047808,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTA0NzgwOA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T04:27:16Z","updated_at":"2017-09-21T04:27:16Z","author_association":"CONTRIBUTOR","body":"@leventov can you do the backport please?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331047808/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331053102","html_url":"https://github.com/apache/druid/issues/4830#issuecomment-331053102","issue_url":"https://api.github.com/repos/apache/druid/issues/4830","id":331053102,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTA1MzEwMg==","user":{"login":"sasounda","id":18609305,"node_id":"MDQ6VXNlcjE4NjA5MzA1","avatar_url":"https://avatars.githubusercontent.com/u/18609305?v=4","gravatar_id":"","url":"https://api.github.com/users/sasounda","html_url":"https://github.com/sasounda","followers_url":"https://api.github.com/users/sasounda/followers","following_url":"https://api.github.com/users/sasounda/following{/other_user}","gists_url":"https://api.github.com/users/sasounda/gists{/gist_id}","starred_url":"https://api.github.com/users/sasounda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sasounda/subscriptions","organizations_url":"https://api.github.com/users/sasounda/orgs","repos_url":"https://api.github.com/users/sasounda/repos","events_url":"https://api.github.com/users/sasounda/events{/privacy}","received_events_url":"https://api.github.com/users/sasounda/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T05:14:08Z","updated_at":"2017-09-21T05:23:47Z","author_association":"NONE","body":"Yes. It is consistently reproducible on my machine right from when Druid coordinator starts up. I didn't have to do anything special.\r\n\r\nHere is the output from `jstack -l <coordinator_pid>`: \r\n[jstack_coordinator.txt](https://github.com/druid-io/druid/files/1320019/jstack_coordinator.txt)\r\n\r\nI did run this earlier and thought `JettyScheduler` was the one handling the requests. Just came to know that `qtp*` were the http handler threads. Looks like it is in a poll wait.\r\n```\r\n\"qtp1509506488-122\" #122 daemon prio=5 os_prio=0 tid=0x00007fc70242c800 nid=0x1817 runnable [0x00007fc554b2a000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\tat sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)\r\n\tat sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)\r\n\tat sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)\r\n\tat sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)\r\n\t- locked <0x00000000df2622a8> (a sun.nio.ch.Util$3)\r\n\t- locked <0x00000000df262298> (a java.util.Collections$UnmodifiableSet)\r\n\t- locked <0x00000000df262250> (a sun.nio.ch.EPollSelectorImpl)\r\n\tat sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)\r\n\tat sun.nio.ch.SelectorImpl.select(SelectorImpl.java:101)\r\n\tat org.eclipse.jetty.io.ManagedSelector$SelectorProducer.select(ManagedSelector.java:243)\r\n\tat org.eclipse.jetty.io.ManagedSelector$SelectorProducer.produce(ManagedSelector.java:191)\r\n\tat org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceExecuteConsume(ExecuteProduceConsume.java:169)\r\n\tat org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceConsume(ExecuteProduceConsume.java:145)\r\n\tat org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.execute(ExecuteProduceConsume.java:100)\r\n\tat org.eclipse.jetty.io.ManagedSelector.run(ManagedSelector.java:147)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:671)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:589)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\n   Locked ownable synchronizers:\r\n\t- None\r\n```\r\n\r\nIn a machine where things are working fine, I see some unlocked threads and some locked threads:\r\n\r\n```\r\n\"qtp1730595945-72\" #72 daemon prio=5 os_prio=0 tid=0x00007f25692ee800 nid=0x69c6 waiting on condition [0x00007f253befd000]\r\n   java.lang.Thread.State: TIMED_WAITING (parking)\r\n\tat sun.misc.Unsafe.park(Native Method)\r\n\t- parking to wait for  <0x00000000e09f4a90> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\r\n\tat java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)\r\n\tat org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:392)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:563)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool.access$800(QueuedThreadPool.java:48)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:626)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\n   Locked ownable synchronizers:\r\n\t- None\r\n\r\n\"qtp1730595945-71\" #71 daemon prio=5 os_prio=0 tid=0x00007f25692ec800 nid=0x69c5 runnable [0x00007f253bffe000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\tat sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)\r\n\tat sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)\r\n\tat sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)\r\n\tat sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)\r\n\t- locked <0x00000000fd6474a0> (a sun.nio.ch.Util$3)\r\n\t- locked <0x00000000fd647490> (a java.util.Collections$UnmodifiableSet)\r\n\t- locked <0x00000000fd647238> (a sun.nio.ch.EPollSelectorImpl)\r\n\tat sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)\r\n\tat sun.nio.ch.SelectorImpl.select(SelectorImpl.java:101)\r\n\tat org.eclipse.jetty.io.ManagedSelector$SelectorProducer.select(ManagedSelector.java:243)\r\n\tat org.eclipse.jetty.io.ManagedSelector$SelectorProducer.produce(ManagedSelector.java:191)\r\n\tat org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.executeProduceConsume(ExecuteProduceConsume.java:249)\r\n\tat org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceConsume(ExecuteProduceConsume.java:148)\r\n\tat org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:136)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:671)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:589)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\n   Locked ownable synchronizers:\r\n\t- None\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331053102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331081180","html_url":"https://github.com/apache/druid/pull/4831#issuecomment-331081180","issue_url":"https://api.github.com/repos/apache/druid/issues/4831","id":331081180,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTA4MTE4MA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T07:55:17Z","updated_at":"2017-09-21T07:55:17Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331081180/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331081806","html_url":"https://github.com/apache/druid/pull/4776#issuecomment-331081806","issue_url":"https://api.github.com/repos/apache/druid/issues/4776","id":331081806,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTA4MTgwNg==","user":{"login":"shiroari","id":11080799,"node_id":"MDQ6VXNlcjExMDgwNzk5","avatar_url":"https://avatars.githubusercontent.com/u/11080799?v=4","gravatar_id":"","url":"https://api.github.com/users/shiroari","html_url":"https://github.com/shiroari","followers_url":"https://api.github.com/users/shiroari/followers","following_url":"https://api.github.com/users/shiroari/following{/other_user}","gists_url":"https://api.github.com/users/shiroari/gists{/gist_id}","starred_url":"https://api.github.com/users/shiroari/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shiroari/subscriptions","organizations_url":"https://api.github.com/users/shiroari/orgs","repos_url":"https://api.github.com/users/shiroari/repos","events_url":"https://api.github.com/users/shiroari/events{/privacy}","received_events_url":"https://api.github.com/users/shiroari/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T07:58:07Z","updated_at":"2017-09-21T07:58:07Z","author_association":"CONTRIBUTOR","body":"@b-slim absolutely, \"hadoop-common\" exists in plugin dependencies folder and in `hadoop-dependencies` folder. I can see in the code that `hadoop-dependencies` never used in classpath for plugin (at least on initialization stage, please see stacktrace). Also please review hdfs plugin (module class) to find the same fix related to classpath.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331081806/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331081812","html_url":"https://github.com/apache/druid/issues/4683#issuecomment-331081812","issue_url":"https://api.github.com/repos/apache/druid/issues/4683","id":331081812,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTA4MTgxMg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T07:58:08Z","updated_at":"2017-09-21T07:58:08Z","author_association":"CONTRIBUTOR","body":"@randerzander You might need to set `druid.sql.enable = true` to get SQL up and running. See http://druid.io/docs/latest/querying/sql.html for details on that.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331081812/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331082050","html_url":"https://github.com/apache/druid/issues/4620#issuecomment-331082050","issue_url":"https://api.github.com/repos/apache/druid/issues/4620","id":331082050,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTA4MjA1MA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T07:59:12Z","updated_at":"2017-09-21T07:59:12Z","author_association":"CONTRIBUTOR","body":"Fixed by #4619.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331082050/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331082418","html_url":"https://github.com/apache/druid/pull/3226#issuecomment-331082418","issue_url":"https://api.github.com/repos/apache/druid/issues/3226","id":331082418,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTA4MjQxOA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T08:01:00Z","updated_at":"2017-09-21T08:01:00Z","author_association":"CONTRIBUTOR","body":"Superseded by #3566.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331082418/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331082983","html_url":"https://github.com/apache/druid/pull/4744#issuecomment-331082983","issue_url":"https://api.github.com/repos/apache/druid/issues/4744","id":331082983,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTA4Mjk4Mw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T08:03:31Z","updated_at":"2017-09-21T08:03:31Z","author_association":"CONTRIBUTOR","body":"@ginoledesma, any thoughts on the question from https://github.com/druid-io/druid/pull/4744#issuecomment-329350396?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331082983/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331084121","html_url":"https://github.com/apache/druid/issues/4620#issuecomment-331084121","issue_url":"https://api.github.com/repos/apache/druid/issues/4620","id":331084121,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTA4NDEyMQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T08:08:24Z","updated_at":"2017-09-21T08:08:24Z","author_association":"CONTRIBUTOR","body":"Sorry, not fixed by #4619. That fixed a bunch of similar sounding things but not this one.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331084121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331084789","html_url":"https://github.com/apache/druid/pull/4829#issuecomment-331084789","issue_url":"https://api.github.com/repos/apache/druid/issues/4829","id":331084789,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTA4NDc4OQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T08:11:16Z","updated_at":"2017-09-21T08:11:16Z","author_association":"CONTRIBUTOR","body":"Marked release notes, it deserves a mention since a config parameter has changed.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331084789/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331137350","html_url":"https://github.com/apache/druid/issues/4825#issuecomment-331137350","issue_url":"https://api.github.com/repos/apache/druid/issues/4825","id":331137350,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTEzNzM1MA==","user":{"login":"stevenchen3","id":2478428,"node_id":"MDQ6VXNlcjI0Nzg0Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/2478428?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenchen3","html_url":"https://github.com/stevenchen3","followers_url":"https://api.github.com/users/stevenchen3/followers","following_url":"https://api.github.com/users/stevenchen3/following{/other_user}","gists_url":"https://api.github.com/users/stevenchen3/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenchen3/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenchen3/subscriptions","organizations_url":"https://api.github.com/users/stevenchen3/orgs","repos_url":"https://api.github.com/users/stevenchen3/repos","events_url":"https://api.github.com/users/stevenchen3/events{/privacy}","received_events_url":"https://api.github.com/users/stevenchen3/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T12:09:34Z","updated_at":"2017-09-21T12:09:34Z","author_association":"NONE","body":"@KenjiTakahashi thanks for the pointer of the PR discussions and suggesting Jackson. I found alternative streaming Json decoder (`circe-fs2`) that works for me at this moment.\r\n\r\nLooks like `scan-query` enforces client code to handle streaming data to avoid memory pressure. Just curious why to disable the `pagination` feature in `scan-query`? Would it be good to let client code choose which way to go? :)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331137350/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331149249","html_url":"https://github.com/apache/druid/issues/4825#issuecomment-331149249","issue_url":"https://api.github.com/repos/apache/druid/issues/4825","id":331149249,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTE0OTI0OQ==","user":{"login":"KenjiTakahashi","id":431488,"node_id":"MDQ6VXNlcjQzMTQ4OA==","avatar_url":"https://avatars.githubusercontent.com/u/431488?v=4","gravatar_id":"","url":"https://api.github.com/users/KenjiTakahashi","html_url":"https://github.com/KenjiTakahashi","followers_url":"https://api.github.com/users/KenjiTakahashi/followers","following_url":"https://api.github.com/users/KenjiTakahashi/following{/other_user}","gists_url":"https://api.github.com/users/KenjiTakahashi/gists{/gist_id}","starred_url":"https://api.github.com/users/KenjiTakahashi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KenjiTakahashi/subscriptions","organizations_url":"https://api.github.com/users/KenjiTakahashi/orgs","repos_url":"https://api.github.com/users/KenjiTakahashi/repos","events_url":"https://api.github.com/users/KenjiTakahashi/events{/privacy}","received_events_url":"https://api.github.com/users/KenjiTakahashi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T13:01:30Z","updated_at":"2017-09-21T13:01:30Z","author_association":"CONTRIBUTOR","body":"While we're discussing it anyway :-), there are two things I see here to sort out\r\n\r\n1. How to handle this in the API (without breaking the current one)? I don't think that adding option to Broker specifically is good, there are cases where people are querying historicals directly. I originally thought of it as an option that client supplies along with the query. But now that I think of it again, it will probably be easier to introduce a server-side switch (but for common, not just Broker).\r\n2. I remember looking at the code and the obvious approach of removing outer array and adding `\\n` with `setRaw` (or similar method, I'm not sure about the name now) worked for JSON, but was completely breaking SMILE (it didn't even want to compile, if I remember correctly).\r\n\r\n@stevenchen3 `scan-query` implementation is completely separate from `select`, the original implementer probably just didn't need pagination and it was less work for him to not add it.\r\nAlso, I think changing the return to what you (and me too, earlier :-)) described would be better than `select` style pagination.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331149249/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331150388","html_url":"https://github.com/apache/druid/issues/4825#issuecomment-331150388","issue_url":"https://api.github.com/repos/apache/druid/issues/4825","id":331150388,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTE1MDM4OA==","user":{"login":"stevenchen3","id":2478428,"node_id":"MDQ6VXNlcjI0Nzg0Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/2478428?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenchen3","html_url":"https://github.com/stevenchen3","followers_url":"https://api.github.com/users/stevenchen3/followers","following_url":"https://api.github.com/users/stevenchen3/following{/other_user}","gists_url":"https://api.github.com/users/stevenchen3/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenchen3/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenchen3/subscriptions","organizations_url":"https://api.github.com/users/stevenchen3/orgs","repos_url":"https://api.github.com/users/stevenchen3/repos","events_url":"https://api.github.com/users/stevenchen3/events{/privacy}","received_events_url":"https://api.github.com/users/stevenchen3/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T13:06:21Z","updated_at":"2017-09-21T13:06:21Z","author_association":"NONE","body":"@KenjiTakahashi thanks for the explanation  ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331150388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331173191","html_url":"https://github.com/apache/druid/pull/4829#issuecomment-331173191","issue_url":"https://api.github.com/repos/apache/druid/issues/4829","id":331173191,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTE3MzE5MQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T14:26:32Z","updated_at":"2017-09-21T14:26:32Z","author_association":"CONTRIBUTOR","body":"@gianm yeah, I wasn't sure if this one or the backport should get the release notes.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331173191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331179291","html_url":"https://github.com/apache/druid/pull/4744#issuecomment-331179291","issue_url":"https://api.github.com/repos/apache/druid/issues/4744","id":331179291,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTE3OTI5MQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T14:45:57Z","updated_at":"2017-09-21T14:45:57Z","author_association":"CONTRIBUTOR","body":"waiting for answers to @gianm 's questions before merging.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331179291/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331186347","html_url":"https://github.com/apache/druid/pull/4744#issuecomment-331186347","issue_url":"https://api.github.com/repos/apache/druid/issues/4744","id":331186347,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTE4NjM0Nw==","user":{"login":"ginoledesma","id":879991,"node_id":"MDQ6VXNlcjg3OTk5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/879991?v=4","gravatar_id":"","url":"https://api.github.com/users/ginoledesma","html_url":"https://github.com/ginoledesma","followers_url":"https://api.github.com/users/ginoledesma/followers","following_url":"https://api.github.com/users/ginoledesma/following{/other_user}","gists_url":"https://api.github.com/users/ginoledesma/gists{/gist_id}","starred_url":"https://api.github.com/users/ginoledesma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ginoledesma/subscriptions","organizations_url":"https://api.github.com/users/ginoledesma/orgs","repos_url":"https://api.github.com/users/ginoledesma/repos","events_url":"https://api.github.com/users/ginoledesma/events{/privacy}","received_events_url":"https://api.github.com/users/ginoledesma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T15:08:05Z","updated_at":"2017-09-21T15:08:05Z","author_association":"CONTRIBUTOR","body":"I don’t have a solid answer, unfortunately. I’m trying to come up with a smaller dataset that replicates the approximation breaks do it can be replicated in the tests properly, but I haven’t found any good leads to explain it.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331186347/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331235994","html_url":"https://github.com/apache/druid/pull/4776#issuecomment-331235994","issue_url":"https://api.github.com/repos/apache/druid/issues/4776","id":331235994,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTIzNTk5NA==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T18:04:59Z","updated_at":"2017-09-21T18:04:59Z","author_association":"CONTRIBUTOR","body":"@shiroari  i doubt that Hadoop common is not in the classpath otherwise the Exception will not hit `CompositeGroupsMapping` but `Configuration` instead. I am afraid you have multiple hadoop-common jars in the classpath of the application. Can you share the logs of the Peon and Middelmanager executing this task ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331235994/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331237204","html_url":"https://github.com/apache/druid/pull/4678#issuecomment-331237204","issue_url":"https://api.github.com/repos/apache/druid/issues/4678","id":331237204,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTIzNzIwNA==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T18:09:25Z","updated_at":"2017-09-21T18:09:25Z","author_association":"CONTRIBUTOR","body":"@jon-wei can you please solve the conflicts this PR is good to go","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331237204/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331240103","html_url":"https://github.com/apache/druid/pull/4829#issuecomment-331240103","issue_url":"https://api.github.com/repos/apache/druid/issues/4829","id":331240103,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTI0MDEwMw==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T18:20:27Z","updated_at":"2017-09-21T18:20:27Z","author_association":"CONTRIBUTOR","body":"@leventov @drcrallen why did we decide to remove `druid.segmentCache.numBootstrapThreads` config? we do want segment cache to be initialized in parallel on server startup.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331240103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331245426","html_url":"https://github.com/apache/druid/pull/4829#issuecomment-331245426","issue_url":"https://api.github.com/repos/apache/druid/issues/4829","id":331245426,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTI0NTQyNg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T18:40:41Z","updated_at":"2017-09-21T18:40:41Z","author_association":"CONTRIBUTOR","body":"@himanshug `numBootstrapThreads` is still there, just `numLoadingThreads` has been removed, for reasons from #4421.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331245426/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331259261","html_url":"https://github.com/apache/druid/pull/4829#issuecomment-331259261","issue_url":"https://api.github.com/repos/apache/druid/issues/4829","id":331259261,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTI1OTI2MQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T19:36:23Z","updated_at":"2017-09-21T19:36:23Z","author_association":"CONTRIBUTOR","body":"@gianm ah sorry, looked more carefully now, false alarm.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331259261/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331263529","html_url":"https://github.com/apache/druid/pull/4678#issuecomment-331263529","issue_url":"https://api.github.com/repos/apache/druid/issues/4678","id":331263529,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTI2MzUyOQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T19:54:06Z","updated_at":"2017-09-21T19:54:06Z","author_association":"CONTRIBUTOR","body":"merged with master, thanks for the review!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331263529/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331264574","html_url":"https://github.com/apache/druid/pull/4834#issuecomment-331264574","issue_url":"https://api.github.com/repos/apache/druid/issues/4834","id":331264574,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTI2NDU3NA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T19:58:06Z","updated_at":"2017-09-21T19:58:06Z","author_association":"CONTRIBUTOR","body":":+1:","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331264574/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331276750","html_url":"https://github.com/apache/druid/pull/4686#issuecomment-331276750","issue_url":"https://api.github.com/repos/apache/druid/issues/4686","id":331276750,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTI3Njc1MA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T20:46:17Z","updated_at":"2017-09-21T20:46:17Z","author_association":"CONTRIBUTOR","body":"@praveev Can you take a look at this PR again? We're thinking of getting this into 0.11.0.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331276750/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331286092","html_url":"https://github.com/apache/druid/issues/4819#issuecomment-331286092","issue_url":"https://api.github.com/repos/apache/druid/issues/4819","id":331286092,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTI4NjA5Mg==","user":{"login":"niketh","id":626548,"node_id":"MDQ6VXNlcjYyNjU0OA==","avatar_url":"https://avatars.githubusercontent.com/u/626548?v=4","gravatar_id":"","url":"https://api.github.com/users/niketh","html_url":"https://github.com/niketh","followers_url":"https://api.github.com/users/niketh/followers","following_url":"https://api.github.com/users/niketh/following{/other_user}","gists_url":"https://api.github.com/users/niketh/gists{/gist_id}","starred_url":"https://api.github.com/users/niketh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niketh/subscriptions","organizations_url":"https://api.github.com/users/niketh/orgs","repos_url":"https://api.github.com/users/niketh/repos","events_url":"https://api.github.com/users/niketh/events{/privacy}","received_events_url":"https://api.github.com/users/niketh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T21:23:21Z","updated_at":"2017-09-21T21:23:21Z","author_association":"CONTRIBUTOR","body":"The behaviour is consistent with the paradigm of \"Datasource existing only when there are segments\" and segments really only exist once we have them in deep storage.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331286092/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331289311","html_url":"https://github.com/apache/druid/pull/4532#issuecomment-331289311","issue_url":"https://api.github.com/repos/apache/druid/issues/4532","id":331289311,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTI4OTMxMQ==","user":{"login":"chunghochen","id":254066,"node_id":"MDQ6VXNlcjI1NDA2Ng==","avatar_url":"https://avatars.githubusercontent.com/u/254066?v=4","gravatar_id":"","url":"https://api.github.com/users/chunghochen","html_url":"https://github.com/chunghochen","followers_url":"https://api.github.com/users/chunghochen/followers","following_url":"https://api.github.com/users/chunghochen/following{/other_user}","gists_url":"https://api.github.com/users/chunghochen/gists{/gist_id}","starred_url":"https://api.github.com/users/chunghochen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chunghochen/subscriptions","organizations_url":"https://api.github.com/users/chunghochen/orgs","repos_url":"https://api.github.com/users/chunghochen/repos","events_url":"https://api.github.com/users/chunghochen/events{/privacy}","received_events_url":"https://api.github.com/users/chunghochen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T21:37:59Z","updated_at":"2017-09-21T22:09:56Z","author_association":"CONTRIBUTOR","body":"@jon-wei \r\nThanks so much for your help!\r\nHere is what I see from my terminal:\r\n...@...\\<druid-...\\> git status\r\nOn branch stats-pvalue\r\nYour branch is up-to-date with 'origin/stats-pvalue'.\r\n...\r\n...@...\\<druid-...\\> git remote -v\r\norigin\thttps://github.com/chunghochen/druid.git (fetch)\r\norigin\thttps://github.com/chunghochen/druid.git (push)\r\nupstream\thttps://github.com/druid-io/druid.git (fetch)\r\nupstream\thttps://github.com/druid-io/druid.git (push)\r\n...@...\\<druid-...\\> git merge upstream/master\r\nAlready up-to-date.\r\n\r\n>>Can you try merging master to your branch?\r\n\r\nNot sure what git command I should do to merge master to my branch?\r\nThanks so much for all the help!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331289311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331295939","html_url":"https://github.com/apache/druid/pull/4764#issuecomment-331295939","issue_url":"https://api.github.com/repos/apache/druid/issues/4764","id":331295939,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTI5NTkzOQ==","user":{"login":"niketh","id":626548,"node_id":"MDQ6VXNlcjYyNjU0OA==","avatar_url":"https://avatars.githubusercontent.com/u/626548?v=4","gravatar_id":"","url":"https://api.github.com/users/niketh","html_url":"https://github.com/niketh","followers_url":"https://api.github.com/users/niketh/followers","following_url":"https://api.github.com/users/niketh/following{/other_user}","gists_url":"https://api.github.com/users/niketh/gists{/gist_id}","starred_url":"https://api.github.com/users/niketh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niketh/subscriptions","organizations_url":"https://api.github.com/users/niketh/orgs","repos_url":"https://api.github.com/users/niketh/repos","events_url":"https://api.github.com/users/niketh/events{/privacy}","received_events_url":"https://api.github.com/users/niketh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T22:10:31Z","updated_at":"2017-09-21T22:10:31Z","author_association":"CONTRIBUTOR","body":"@leventov Can you merge if you don't have any objections","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331295939/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331300905","html_url":"https://github.com/apache/druid/pull/4532#issuecomment-331300905","issue_url":"https://api.github.com/repos/apache/druid/issues/4532","id":331300905,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTMwMDkwNQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T22:37:01Z","updated_at":"2017-09-21T22:37:01Z","author_association":"CONTRIBUTOR","body":"@chunghochen \r\n>Not sure what git command I should do to merge master to my branch?\r\n\r\nYou can do:\r\n\r\n```\r\ngit fetch upstream\r\ngit merge upstream/master\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331300905/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331301042","html_url":"https://github.com/apache/druid/pull/4776#issuecomment-331301042","issue_url":"https://api.github.com/repos/apache/druid/issues/4776","id":331301042,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTMwMTA0Mg==","user":{"login":"shiroari","id":11080799,"node_id":"MDQ6VXNlcjExMDgwNzk5","avatar_url":"https://avatars.githubusercontent.com/u/11080799?v=4","gravatar_id":"","url":"https://api.github.com/users/shiroari","html_url":"https://github.com/shiroari","followers_url":"https://api.github.com/users/shiroari/followers","following_url":"https://api.github.com/users/shiroari/following{/other_user}","gists_url":"https://api.github.com/users/shiroari/gists{/gist_id}","starred_url":"https://api.github.com/users/shiroari/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shiroari/subscriptions","organizations_url":"https://api.github.com/users/shiroari/orgs","repos_url":"https://api.github.com/users/shiroari/repos","events_url":"https://api.github.com/users/shiroari/events{/privacy}","received_events_url":"https://api.github.com/users/shiroari/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T22:37:50Z","updated_at":"2017-09-22T10:22:23Z","author_association":"CONTRIBUTOR","body":"> otherwise the Exception will not hit CompositeGroupsMapping but Configuration instead.\r\n\r\nWell, not really. `Configuration` loaded inside `druid-kerberos` extension's classpath (it has its own `hadoop-common`) but when `Configuration` loads other classes it uses current thread class loader (see https://github.com/apache/hadoop/blob/e5e1851d803bf8d8b96fec1b5c0058014e9329d0/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/conf/Configuration.java#L731). I would rather say that implementation is wrong from Hadoop side, but we have to live with that.\r\n\r\n@b-slim I will be back tomorrow with logs and step by step explanation for this problem. But if you have time please try to convince yourself. Pay attention that the exception happens in `io.druid.indexing.common.task.HadoopIndexTask#isReady` method, but for the first time we access `hadoop-dependencies` in `io.druid.indexing.common.task.HadoopIndexTask#run` method which executes later. And again please see pretty much the same fix here https://github.com/druid-io/druid/blob/e267f3901b47d93048f9c822f8f23530497b237f/extensions-core/hdfs-storage/src/main/java/io/druid/storage/hdfs/HdfsStorageDruidModule.java#L104","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331301042/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331301992","html_url":"https://github.com/apache/druid/pull/4532#issuecomment-331301992","issue_url":"https://api.github.com/repos/apache/druid/issues/4532","id":331301992,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTMwMTk5Mg==","user":{"login":"chunghochen","id":254066,"node_id":"MDQ6VXNlcjI1NDA2Ng==","avatar_url":"https://avatars.githubusercontent.com/u/254066?v=4","gravatar_id":"","url":"https://api.github.com/users/chunghochen","html_url":"https://github.com/chunghochen","followers_url":"https://api.github.com/users/chunghochen/followers","following_url":"https://api.github.com/users/chunghochen/following{/other_user}","gists_url":"https://api.github.com/users/chunghochen/gists{/gist_id}","starred_url":"https://api.github.com/users/chunghochen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chunghochen/subscriptions","organizations_url":"https://api.github.com/users/chunghochen/orgs","repos_url":"https://api.github.com/users/chunghochen/repos","events_url":"https://api.github.com/users/chunghochen/events{/privacy}","received_events_url":"https://api.github.com/users/chunghochen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T22:43:26Z","updated_at":"2017-09-21T22:43:26Z","author_association":"CONTRIBUTOR","body":"@jon-wei\r\nYeap, just realized that after sending out the question.\r\nCI is running for ~ an hour now.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331301992/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331316072","html_url":"https://github.com/apache/druid/issues/4835#issuecomment-331316072","issue_url":"https://api.github.com/repos/apache/druid/issues/4835","id":331316072,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTMxNjA3Mg==","user":{"login":"KenjiTakahashi","id":431488,"node_id":"MDQ6VXNlcjQzMTQ4OA==","avatar_url":"https://avatars.githubusercontent.com/u/431488?v=4","gravatar_id":"","url":"https://api.github.com/users/KenjiTakahashi","html_url":"https://github.com/KenjiTakahashi","followers_url":"https://api.github.com/users/KenjiTakahashi/followers","following_url":"https://api.github.com/users/KenjiTakahashi/following{/other_user}","gists_url":"https://api.github.com/users/KenjiTakahashi/gists{/gist_id}","starred_url":"https://api.github.com/users/KenjiTakahashi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KenjiTakahashi/subscriptions","organizations_url":"https://api.github.com/users/KenjiTakahashi/orgs","repos_url":"https://api.github.com/users/KenjiTakahashi/repos","events_url":"https://api.github.com/users/KenjiTakahashi/events{/privacy}","received_events_url":"https://api.github.com/users/KenjiTakahashi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T00:18:00Z","updated_at":"2017-09-22T00:18:00Z","author_association":"CONTRIBUTOR","body":"Oh, I forgot! This is on 0.10.1.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331316072/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331319644","html_url":"https://github.com/apache/druid/issues/4830#issuecomment-331319644","issue_url":"https://api.github.com/repos/apache/druid/issues/4830","id":331319644,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTMxOTY0NA==","user":{"login":"sasounda","id":18609305,"node_id":"MDQ6VXNlcjE4NjA5MzA1","avatar_url":"https://avatars.githubusercontent.com/u/18609305?v=4","gravatar_id":"","url":"https://api.github.com/users/sasounda","html_url":"https://github.com/sasounda","followers_url":"https://api.github.com/users/sasounda/followers","following_url":"https://api.github.com/users/sasounda/following{/other_user}","gists_url":"https://api.github.com/users/sasounda/gists{/gist_id}","starred_url":"https://api.github.com/users/sasounda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sasounda/subscriptions","organizations_url":"https://api.github.com/users/sasounda/orgs","repos_url":"https://api.github.com/users/sasounda/repos","events_url":"https://api.github.com/users/sasounda/events{/privacy}","received_events_url":"https://api.github.com/users/sasounda/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T00:44:53Z","updated_at":"2017-09-22T17:17:44Z","author_association":"NONE","body":"Found that this problem with coordinator occurs only on high spec systems like `32vCPU/120GB RAM` and not on lower end systems like `8vCPU/32GB RAM`. The number of cores in the machine is affecting this somehow.\r\n\r\nIncreasing the num of http threads in the coordinator from `20` to `40` fixed the problem for me. What's surprising is that I was running `20` threads on all the other Druid processes and it was running fine. Also, running the coordinator with `20` http threads on a lower spec machine didn't cause any issues.\r\n\r\nSo, something makes the coordinator process behave differently on a higher spec machine.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331319644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331342466","html_url":"https://github.com/apache/druid/pull/4762#issuecomment-331342466","issue_url":"https://api.github.com/repos/apache/druid/issues/4762","id":331342466,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTM0MjQ2Ng==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T03:44:21Z","updated_at":"2017-09-22T03:44:21Z","author_association":"MEMBER","body":"@jihoonson could you please review this PR?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331342466/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331347631","html_url":"https://github.com/apache/druid/pull/4762#issuecomment-331347631","issue_url":"https://api.github.com/repos/apache/druid/issues/4762","id":331347631,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTM0NzYzMQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T04:34:13Z","updated_at":"2017-09-22T04:34:13Z","author_association":"CONTRIBUTOR","body":"Sure, I'll review soon.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331347631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331353080","html_url":"https://github.com/apache/druid/pull/4836#issuecomment-331353080","issue_url":"https://api.github.com/repos/apache/druid/issues/4836","id":331353080,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTM1MzA4MA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T05:23:36Z","updated_at":"2017-09-22T05:23:36Z","author_association":"CONTRIBUTOR","body":"I think more unit tests are needed for this firehose like testing caching and prefetching capabilities. I'll add them soon. I changed to WIP.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331353080/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331379017","html_url":"https://github.com/apache/druid/pull/4836#issuecomment-331379017","issue_url":"https://api.github.com/repos/apache/druid/issues/4836","id":331379017,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTM3OTAxNw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T08:00:19Z","updated_at":"2017-09-22T08:00:19Z","author_association":"CONTRIBUTOR","body":"Ready for review now.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331379017/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331410998","html_url":"https://github.com/apache/druid/pull/4776#issuecomment-331410998","issue_url":"https://api.github.com/repos/apache/druid/issues/4776","id":331410998,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTQxMDk5OA==","user":{"login":"shiroari","id":11080799,"node_id":"MDQ6VXNlcjExMDgwNzk5","avatar_url":"https://avatars.githubusercontent.com/u/11080799?v=4","gravatar_id":"","url":"https://api.github.com/users/shiroari","html_url":"https://github.com/shiroari","followers_url":"https://api.github.com/users/shiroari/followers","following_url":"https://api.github.com/users/shiroari/following{/other_user}","gists_url":"https://api.github.com/users/shiroari/gists{/gist_id}","starred_url":"https://api.github.com/users/shiroari/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shiroari/subscriptions","organizations_url":"https://api.github.com/users/shiroari/orgs","repos_url":"https://api.github.com/users/shiroari/repos","events_url":"https://api.github.com/users/shiroari/events{/privacy}","received_events_url":"https://api.github.com/users/shiroari/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T10:26:14Z","updated_at":"2017-09-22T10:26:14Z","author_association":"CONTRIBUTOR","body":"### /hadoop-dependencies\r\n\r\n```\r\n-bash-4.2$ ls -la /usr/hdp/current/druid-middlemanager/hadoop-dependencies/hadoop-client/2.7.3.2.6.1.0-129/\r\ntotal 42912\r\ndrwxr-xr-x 2 root root    4096 Jun 20 14:50 .\r\ndrwxr-xr-x 3 root root    4096 Jun 20 14:50 ..\r\n-rw-r--r-- 1 root root   62983 May 24 06:41 activation-1.1.jar\r\n-rw-r--r-- 1 root root   44925 May 24 06:41 apacheds-i18n-2.0.0-M15.jar\r\n-rw-r--r-- 1 root root  691479 May 24 06:41 apacheds-kerberos-codec-2.0.0-M15.jar\r\n-rw-r--r-- 1 root root   16560 May 24 06:41 api-asn1-api-1.0.0-M20.jar\r\n-rw-r--r-- 1 root root   79912 May 24 06:41 api-util-1.0.0-M20.jar\r\n-rw-r--r-- 1 root root  303139 May 24 06:41 avro-1.7.4.jar\r\n-rw-r--r-- 1 root root   10092 May 24 06:41 azure-keyvault-core-0.8.0.jar\r\n-rw-r--r-- 1 root root  745325 May 24 06:41 azure-storage-4.2.0.jar\r\n-rw-r--r-- 1 root root  188671 May 24 06:40 commons-beanutils-1.7.0.jar\r\n-rw-r--r-- 1 root root  206035 May 24 06:41 commons-beanutils-core-1.8.0.jar\r\n-rw-r--r-- 1 root root   41123 May 24 06:40 commons-cli-1.2.jar\r\n-rw-r--r-- 1 root root   58160 May 24 06:41 commons-codec-1.4.jar\r\n-rw-r--r-- 1 root root  588337 May 24 06:41 commons-collections-3.2.2.jar\r\n-rw-r--r-- 1 root root  241367 May 24 06:41 commons-compress-1.4.1.jar\r\n-rw-r--r-- 1 root root  298829 May 24 06:41 commons-configuration-1.6.jar\r\n-rw-r--r-- 1 root root  143602 May 24 06:40 commons-digester-1.8.jar\r\n-rw-r--r-- 1 root root  185140 May 24 06:41 commons-io-2.4.jar\r\n-rw-r--r-- 1 root root  284220 May 24 06:40 commons-lang-2.6.jar\r\n-rw-r--r-- 1 root root  434678 May 24 06:41 commons-lang3-3.4.jar\r\n-rw-r--r-- 1 root root   62050 May 24 06:41 commons-logging-1.1.3.jar\r\n-rw-r--r-- 1 root root 1599627 May 24 06:41 commons-math3-3.1.1.jar\r\n-rw-r--r-- 1 root root  273370 May 24 06:41 commons-net-3.1.jar\r\n-rw-r--r-- 1 root root   69500 May 24 06:41 curator-client-2.7.1.jar\r\n-rw-r--r-- 1 root root  186273 May 24 06:41 curator-framework-2.7.1.jar\r\n-rw-r--r-- 1 root root  270342 May 24 06:41 curator-recipes-2.7.1.jar\r\n-rw-r--r-- 1 root root  190432 May 24 06:41 gson-2.2.4.jar\r\n-rw-r--r-- 1 root root 1648200 May 24 06:41 guava-11.0.2.jar\r\n-rw-r--r-- 1 root root   17369 May 31 03:08 hadoop-annotations-2.7.3.2.6.1.0-129.jar\r\n-rw-r--r-- 1 root root   79175 May 31 03:08 hadoop-auth-2.7.3.2.6.1.0-129.jar\r\n-rw-r--r-- 1 root root    2567 May 31 03:08 hadoop-client-2.7.3.2.6.1.0-129.jar\r\n-rw-r--r-- 1 root root 3647240 May 31 03:08 hadoop-common-2.7.3.2.6.1.0-129.jar\r\n-rw-r--r-- 1 root root 8711541 May 31 03:08 hadoop-hdfs-2.7.3.2.6.1.0-129.jar\r\n-rw-r--r-- 1 root root  516634 May 31 03:08 hadoop-mapreduce-client-app-2.7.3.2.6.1.0-129.jar\r\n-rw-r--r-- 1 root root  752754 May 31 03:08 hadoop-mapreduce-client-common-2.7.3.2.6.1.0-129.jar\r\n-rw-r--r-- 1 root root 1535771 May 31 03:08 hadoop-mapreduce-client-core-2.7.3.2.6.1.0-129.jar\r\n-rw-r--r-- 1 root root   39398 May 31 03:08 hadoop-mapreduce-client-jobclient-2.7.3.2.6.1.0-129.jar\r\n-rw-r--r-- 1 root root   54074 May 31 03:08 hadoop-mapreduce-client-shuffle-2.7.3.2.6.1.0-129.jar\r\n-rw-r--r-- 1 root root 2117555 May 31 03:08 hadoop-yarn-api-2.7.3.2.6.1.0-129.jar\r\n-rw-r--r-- 1 root root  193240 May 31 03:08 hadoop-yarn-client-2.7.3.2.6.1.0-129.jar\r\n-rw-r--r-- 1 root root 1750536 May 31 03:08 hadoop-yarn-common-2.7.3.2.6.1.0-129.jar\r\n-rw-r--r-- 1 root root  101126 May 31 03:08 hadoop-yarn-registry-2.7.3.2.6.1.0-129.jar\r\n-rw-r--r-- 1 root root  420788 May 31 03:08 hadoop-yarn-server-common-2.7.3.2.6.1.0-129.jar\r\n-rw-r--r-- 1 root root 1475955 May 24 06:41 htrace-core-3.1.0-incubating.jar\r\n-rw-r--r-- 1 root root  736658 May 24 06:41 httpclient-4.5.2.jar\r\n-rw-r--r-- 1 root root  326724 May 24 06:41 httpcore-4.4.4.jar\r\n-rw-r--r-- 1 root root   33483 May 24 06:44 jackson-annotations-2.2.3.jar\r\n-rw-r--r-- 1 root root  192699 May 24 06:41 jackson-core-2.2.3.jar\r\n-rw-r--r-- 1 root root  232248 May 24 06:41 jackson-core-asl-1.9.13.jar\r\n-rw-r--r-- 1 root root  865838 May 24 06:44 jackson-databind-2.2.3.jar\r\n-rw-r--r-- 1 root root   18336 May 24 06:41 jackson-jaxrs-1.9.13.jar\r\n-rw-r--r-- 1 root root  780664 May 24 06:41 jackson-mapper-asl-1.9.13.jar\r\n-rw-r--r-- 1 root root   27084 May 24 06:41 jackson-xc-1.9.13.jar\r\n-rw-r--r-- 1 root root  105134 May 24 06:41 jaxb-api-2.2.2.jar\r\n-rw-r--r-- 1 root root    2254 May 24 06:41 jcip-annotations-1.0.jar\r\n-rw-r--r-- 1 root root  130458 May 24 06:51 jersey-client-1.9.jar\r\n-rw-r--r-- 1 root root  458739 May 24 06:41 jersey-core-1.9.jar\r\n-rw-r--r-- 1 root root   18899 May 24 06:41 jetty-sslengine-6.1.26.hwx.jar\r\n-rw-r--r-- 1 root root  177214 May 24 06:41 jetty-util-6.1.26.hwx.jar\r\n-rw-r--r-- 1 root root   51484 May 24 06:41 json-smart-1.1.1.jar\r\n-rw-r--r-- 1 root root  100636 May 24 06:41 jsp-api-2.1.jar\r\n-rw-r--r-- 1 root root   33031 May 24 06:41 jsr305-3.0.0.jar\r\n-rw-r--r-- 1 root root 1045744 May 24 06:44 leveldbjni-all-1.8.jar\r\n-rw-r--r-- 1 root root  489884 May 24 06:41 log4j-1.2.17.jar\r\n-rw-r--r-- 1 root root 1199572 May 24 06:41 netty-3.6.2.Final.jar\r\n-rw-r--r-- 1 root root 1779991 May 24 06:44 netty-all-4.0.23.Final.jar\r\n-rw-r--r-- 1 root root  178648 May 24 06:41 nimbus-jose-jwt-3.9.jar\r\n-rw-r--r-- 1 root root  319099 May 24 06:44 okhttp-2.4.0.jar\r\n-rw-r--r-- 1 root root   64661 May 24 06:44 okio-1.4.0.jar\r\n-rw-r--r-- 1 root root   29555 May 24 06:41 paranamer-2.3.jar\r\n-rw-r--r-- 1 root root  533455 May 24 06:41 protobuf-java-2.5.0.jar\r\n-rw-r--r-- 1 root root  105112 May 24 06:40 servlet-api-2.5.jar\r\n-rw-r--r-- 1 root root   32119 May 24 06:41 slf4j-api-1.7.10.jar\r\n-rw-r--r-- 1 root root    8866 May 24 06:41 slf4j-log4j12-1.7.10.jar\r\n-rw-r--r-- 1 root root  995968 May 24 06:41 snappy-java-1.0.4.1.jar\r\n-rw-r--r-- 1 root root   23346 May 24 06:40 stax-api-1.0-2.jar\r\n-rw-r--r-- 1 root root 1229125 May 24 06:40 xercesImpl-2.9.1.jar\r\n-rw-r--r-- 1 root root  194354 May 24 06:40 xml-apis-1.3.04.jar\r\n-rw-r--r-- 1 root root   15010 May 24 06:41 xmlenc-0.52.jar\r\n-rw-r--r-- 1 root root   94672 May 24 06:41 xz-1.0.jar\r\n-rw-r--r-- 1 root root  797315 May 31 03:10 zookeeper-3.4.6.2.6.1.0-129.jar\r\n```\r\n\r\n### full log\r\n\r\n```\r\n2017-09-07T13:16:54,044 INFO [main] io.druid.guice.PropertiesModule - Loading properties from common.runtime.properties\r\n2017-09-07T13:16:54,046 INFO [main] io.druid.guice.PropertiesModule - Loading properties from runtime.properties\r\n2017-09-07T13:16:54,085 INFO [main] org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 5.1.3.Final\r\n2017-09-07T13:16:54,669 INFO [main] io.druid.guice.JsonConfigurator - Loaded class[class io.druid.guice.ExtensionsConfig] from props[druid.extensions.] as [ExtensionsConfig{searchCurrentClassloader=true, directory='/usr/hdp/current/druid-middlemanager/extensions', hadoopDependenciesDir='/usr/hdp/current/druid-middlemanager/hadoop-dependencies', hadoopContainerDruidClasspath='null', loadList=[druid-datasketches, druid-hdfs-storage, druid-kafka-indexing-service, ambari-metrics-emitter, mysql-metadata-storage, druid-kerberos]}]\r\n2017-09-07T13:16:54,672 INFO [main] io.druid.initialization.Initialization - Loading extension [druid-datasketches] for class [io.druid.cli.CliCommandCreator]\r\n2017-09-07T13:16:54,684 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-datasketches/sketches-core-0.4.1.jar]\r\n2017-09-07T13:16:54,684 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-datasketches/druid-datasketches-0.9.2.2.6.1.0-129.jar]\r\n2017-09-07T13:16:54,685 INFO [main] io.druid.initialization.Initialization - Loading extension [druid-hdfs-storage] for class [io.druid.cli.CliCommandCreator]\r\n2017-09-07T13:16:54,716 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/avro-1.7.4.jar]\r\n2017-09-07T13:16:54,717 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/netty-3.6.2.Final.jar]\r\n2017-09-07T13:16:54,717 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/curator-recipes-2.11.0.jar]\r\n2017-09-07T13:16:54,717 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/hadoop-mapreduce-client-core-2.7.3.2.6.1.0-129.jar]\r\n2017-09-07T13:16:54,717 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/xml-apis-1.3.04.jar]\r\n2017-09-07T13:16:54,717 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/commons-net-3.1.jar]\r\n2017-09-07T13:16:54,718 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/commons-lang3-3.4.jar]\r\n2017-09-07T13:16:54,718 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/hadoop-mapreduce-client-app-2.7.3.2.6.1.0-129.jar]\r\n2017-09-07T13:16:54,718 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/hadoop-yarn-registry-2.7.3.2.6.1.0-129.jar]\r\n2017-09-07T13:16:54,718 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/curator-client-2.11.0.jar]\r\n2017-09-07T13:16:54,718 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/jackson-annotations-2.4.6.jar]\r\n2017-09-07T13:16:54,718 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/httpclient-4.5.1.jar]\r\n2017-09-07T13:16:54,719 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/snappy-java-1.0.4.1.jar]\r\n2017-09-07T13:16:54,719 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/hadoop-mapreduce-client-jobclient-2.7.3.2.6.1.0-129.jar]\r\n2017-09-07T13:16:54,719 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/curator-framework-2.11.0.jar]\r\n2017-09-07T13:16:54,719 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/commons-beanutils-1.7.0.jar]\r\n2017-09-07T13:16:54,719 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/commons-collections-3.2.2.jar]\r\n2017-09-07T13:16:54,719 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/jackson-jaxrs-1.9.13.jar]\r\n2017-09-07T13:16:54,720 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/commons-codec-1.7.jar]\r\n2017-09-07T13:16:54,720 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/leveldbjni-all-1.8.jar]\r\n2017-09-07T13:16:54,720 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/apacheds-i18n-2.0.0-M15.jar]\r\n2017-09-07T13:16:54,720 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/paranamer-2.3.jar]\r\n2017-09-07T13:16:54,720 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/xmlenc-0.52.jar]\r\n2017-09-07T13:16:54,720 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/json-smart-1.1.1.jar]\r\n2017-09-07T13:16:54,720 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/netty-all-4.0.23.Final.jar]\r\n2017-09-07T13:16:54,721 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/commons-configuration-1.6.jar]\r\n2017-09-07T13:16:54,721 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/hadoop-common-2.7.3.2.6.1.0-129.jar]\r\n2017-09-07T13:16:54,721 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/hadoop-client-2.7.3.2.6.1.0-129.jar]\r\n2017-09-07T13:16:54,721 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/aws-java-sdk-core-1.10.6.jar]\r\n2017-09-07T13:16:54,721 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/hadoop-yarn-client-2.7.3.2.6.1.0-129.jar]\r\n2017-09-07T13:16:54,722 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/servlet-api-2.5.jar]\r\n2017-09-07T13:16:54,722 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/hadoop-mapreduce-client-common-2.7.3.2.6.1.0-129.jar]\r\n2017-09-07T13:16:54,722 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/jersey-client-1.9.jar]\r\n2017-09-07T13:16:54,722 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/hadoop-auth-2.7.3.2.6.1.0-129.jar]\r\n2017-09-07T13:16:54,722 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/commons-logging-1.1.1.jar]\r\n2017-09-07T13:16:54,722 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/hadoop-mapreduce-client-shuffle-2.7.3.2.6.1.0-129.jar]\r\n2017-09-07T13:16:54,723 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/jackson-databind-2.4.6.jar]\r\n2017-09-07T13:16:54,723 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/okio-1.4.0.jar]\r\n2017-09-07T13:16:54,723 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/xz-1.0.jar]\r\n2017-09-07T13:16:54,723 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/apacheds-kerberos-codec-2.0.0-M15.jar]\r\n2017-09-07T13:16:54,723 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/jetty-sslengine-6.1.26.hwx.jar]\r\n2017-09-07T13:16:54,723 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/hadoop-aws-2.7.3.2.6.1.0-129.jar]\r\n2017-09-07T13:16:54,724 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/api-util-1.0.0-M20.jar]\r\n2017-09-07T13:16:54,724 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/commons-beanutils-core-1.8.0.jar]\r\n2017-09-07T13:16:54,724 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/commons-compress-1.4.1.jar]\r\n2017-09-07T13:16:54,724 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/jcip-annotations-1.0.jar]\r\n2017-09-07T13:16:54,724 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/aws-java-sdk-kms-1.10.6.jar]\r\n2017-09-07T13:16:54,724 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/hadoop-hdfs-2.7.3.2.6.1.0-129.jar]\r\n2017-09-07T13:16:54,725 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/druid-hdfs-storage-0.9.2.2.6.1.0-129.jar]\r\n2017-09-07T13:16:54,725 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/jackson-xc-1.9.13.jar]\r\n2017-09-07T13:16:54,725 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/hadoop-yarn-server-common-2.7.3.2.6.1.0-129.jar]\r\n2017-09-07T13:16:54,725 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/hadoop-yarn-common-2.7.3.2.6.1.0-129.jar]\r\n2017-09-07T13:16:54,725 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/jackson-core-2.4.6.jar]\r\n2017-09-07T13:16:54,725 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/httpcore-4.4.3.jar]\r\n2017-09-07T13:16:54,725 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/htrace-core-3.1.0-incubating.jar]\r\n2017-09-07T13:16:54,725 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/stax-api-1.0-2.jar]\r\n2017-09-07T13:16:54,726 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/commons-digester-1.8.jar]\r\n2017-09-07T13:16:54,726 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/jsp-api-2.1.jar]\r\n2017-09-07T13:16:54,726 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/xercesImpl-2.9.1.jar]\r\n2017-09-07T13:16:54,726 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/jaxb-api-2.2.2.jar]\r\n2017-09-07T13:16:54,726 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/aws-java-sdk-s3-1.10.6.jar]\r\n2017-09-07T13:16:54,726 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/azure-storage-4.2.0.jar]\r\n2017-09-07T13:16:54,726 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/hadoop-yarn-api-2.7.3.2.6.1.0-129.jar]\r\n2017-09-07T13:16:54,727 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/api-asn1-api-1.0.0-M20.jar]\r\n2017-09-07T13:16:54,727 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/nimbus-jose-jwt-3.9.jar]\r\n2017-09-07T13:16:54,727 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/gson-2.2.4.jar]\r\n2017-09-07T13:16:54,727 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/joda-time-2.8.2.jar]\r\n2017-09-07T13:16:54,727 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/azure-keyvault-core-0.8.0.jar]\r\n2017-09-07T13:16:54,727 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/commons-math3-3.6.1.jar]\r\n2017-09-07T13:16:54,727 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/okhttp-2.4.0.jar]\r\n2017-09-07T13:16:54,728 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-hdfs-storage/guava-16.0.1.jar]\r\n2017-09-07T13:16:54,746 INFO [main] io.druid.initialization.Initialization - Loading extension [druid-kafka-indexing-service] for class [io.druid.cli.CliCommandCreator]\r\n2017-09-07T13:16:54,747 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kafka-indexing-service/lz4-1.3.0.jar]\r\n2017-09-07T13:16:54,747 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kafka-indexing-service/kafka-clients-0.9.0.1.jar]\r\n2017-09-07T13:16:54,747 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kafka-indexing-service/slf4j-api-1.7.6.jar]\r\n2017-09-07T13:16:54,747 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kafka-indexing-service/snappy-java-1.1.1.7.jar]\r\n2017-09-07T13:16:54,747 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kafka-indexing-service/druid-kafka-indexing-service-0.9.2.2.6.1.0-129.jar]\r\n2017-09-07T13:16:54,749 INFO [main] io.druid.initialization.Initialization - Loading extension [ambari-metrics-emitter] for class [io.druid.cli.CliCommandCreator]\r\n2017-09-07T13:16:54,749 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/ambari-metrics-emitter/hadoop-annotations-2.6.0.jar]\r\n2017-09-07T13:16:54,749 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/ambari-metrics-emitter/ambari-metrics-common-2.4.1.0.22.jar]\r\n2017-09-07T13:16:54,749 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/ambari-metrics-emitter/jackson-core-asl-1.9.13.jar]\r\n2017-09-07T13:16:54,750 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/ambari-metrics-emitter/commons-logging-1.1.1.jar]\r\n2017-09-07T13:16:54,750 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/ambari-metrics-emitter/ambari-metrics-emitter-0.9.2.2.6.1.0-129.jar]\r\n2017-09-07T13:16:54,750 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/ambari-metrics-emitter/jackson-xc-1.9.13.jar]\r\n2017-09-07T13:16:54,750 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/ambari-metrics-emitter/jackson-mapper-asl-1.9.13.jar]\r\n2017-09-07T13:16:54,750 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/ambari-metrics-emitter/commons-math3-3.6.1.jar]\r\n2017-09-07T13:16:54,752 INFO [main] io.druid.initialization.Initialization - Loading extension [mysql-metadata-storage] for class [io.druid.cli.CliCommandCreator]\r\n2017-09-07T13:16:54,753 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/mysql-metadata-storage/mysql-metadata-storage-0.9.2.2.6.1.0-129.jar]\r\n2017-09-07T13:16:54,753 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/mysql-metadata-storage/mysql-jdbc-driver.jar]\r\n2017-09-07T13:16:54,754 INFO [main] io.druid.initialization.Initialization - Loading extension [druid-kerberos] for class [io.druid.cli.CliCommandCreator]\r\n2017-09-07T13:16:54,755 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/avro-1.7.4.jar]\r\n2017-09-07T13:16:54,756 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/curator-recipes-2.11.0.jar]\r\n2017-09-07T13:16:54,756 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/commons-net-3.1.jar]\r\n2017-09-07T13:16:54,756 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/commons-lang3-3.4.jar]\r\n2017-09-07T13:16:54,756 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/curator-client-2.11.0.jar]\r\n2017-09-07T13:16:54,756 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/jackson-jaxrs-1.8.3.jar]\r\n2017-09-07T13:16:54,756 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/snappy-java-1.0.4.1.jar]\r\n2017-09-07T13:16:54,756 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/curator-framework-2.11.0.jar]\r\n2017-09-07T13:16:54,756 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/commons-beanutils-1.7.0.jar]\r\n2017-09-07T13:16:54,757 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/commons-collections-3.2.2.jar]\r\n2017-09-07T13:16:54,757 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/jetty-server-9.2.5.v20141112.jar]\r\n2017-09-07T13:16:54,757 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/apacheds-i18n-2.0.0-M15.jar]\r\n2017-09-07T13:16:54,757 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/paranamer-2.3.jar]\r\n2017-09-07T13:16:54,757 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/xmlenc-0.52.jar]\r\n2017-09-07T13:16:54,757 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/jetty-http-9.2.5.v20141112.jar]\r\n2017-09-07T13:16:54,757 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/json-smart-1.1.1.jar]\r\n2017-09-07T13:16:54,757 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/jackson-xc-1.8.3.jar]\r\n2017-09-07T13:16:54,758 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/commons-configuration-1.6.jar]\r\n2017-09-07T13:16:54,758 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/hadoop-common-2.7.3.2.6.1.0-129.jar]\r\n2017-09-07T13:16:54,758 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/jetty-client-9.2.5.v20141112.jar]\r\n2017-09-07T13:16:54,758 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/jetty-security-9.2.5.v20141112.jar]\r\n2017-09-07T13:16:54,758 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/jets3t-0.9.4.jar]\r\n2017-09-07T13:16:54,758 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/java-xmlbuilder-1.1.jar]\r\n2017-09-07T13:16:54,758 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/jetty-util-9.2.5.v20141112.jar]\r\n2017-09-07T13:16:54,758 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/servlet-api-2.5.jar]\r\n2017-09-07T13:16:54,759 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/jetty-proxy-9.2.5.v20141112.jar]\r\n2017-09-07T13:16:54,759 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/hadoop-auth-2.7.3.2.6.1.0-129.jar]\r\n2017-09-07T13:16:54,759 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/bcprov-jdk15on-1.52.jar]\r\n2017-09-07T13:16:54,759 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/jetty-continuation-9.2.5.v20141112.jar]\r\n2017-09-07T13:16:54,759 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/jetty-6.1.26.hwx.jar]\r\n2017-09-07T13:16:54,759 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/xz-1.0.jar]\r\n2017-09-07T13:16:54,759 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/apacheds-kerberos-codec-2.0.0-M15.jar]\r\n2017-09-07T13:16:54,760 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/jetty-sslengine-6.1.26.hwx.jar]\r\n2017-09-07T13:16:54,760 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/api-util-1.0.0-M20.jar]\r\n2017-09-07T13:16:54,760 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/jersey-json-1.9.jar]\r\n2017-09-07T13:16:54,760 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/commons-beanutils-core-1.8.0.jar]\r\n2017-09-07T13:16:54,760 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/commons-compress-1.4.1.jar]\r\n2017-09-07T13:16:54,760 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/jcip-annotations-1.0.jar]\r\n2017-09-07T13:16:54,760 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/base64-2.3.8.jar]\r\n2017-09-07T13:16:54,760 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/jettison-1.1.jar]\r\n2017-09-07T13:16:54,761 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/jackson-core-2.4.6.jar]\r\n2017-09-07T13:16:54,761 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/jersey-server-1.19.jar]\r\n2017-09-07T13:16:54,761 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/druid-kerberos-0.9.2.2.6.1.0-129.jar]\r\n2017-09-07T13:16:54,761 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/htrace-core-3.1.0-incubating.jar]\r\n2017-09-07T13:16:54,761 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/stax-api-1.0-2.jar]\r\n2017-09-07T13:16:54,761 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/commons-digester-1.8.jar]\r\n2017-09-07T13:16:54,761 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/jsp-api-2.1.jar]\r\n2017-09-07T13:16:54,761 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/jaxb-api-2.2.2.jar]\r\n2017-09-07T13:16:54,762 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/azure-storage-4.2.0.jar]\r\n2017-09-07T13:16:54,762 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/javax.servlet-api-3.1.0.jar]\r\n2017-09-07T13:16:54,762 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/jaxb-impl-2.2.3-1.jar]\r\n2017-09-07T13:16:54,762 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/jetty-servlets-9.2.5.v20141112.jar]\r\n2017-09-07T13:16:54,762 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/jetty-io-9.2.5.v20141112.jar]\r\n2017-09-07T13:16:54,762 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/api-asn1-api-1.0.0-M20.jar]\r\n2017-09-07T13:16:54,762 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/jsch-0.1.54.jar]\r\n2017-09-07T13:16:54,762 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/nimbus-jose-jwt-3.9.jar]\r\n2017-09-07T13:16:54,762 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/gson-2.2.4.jar]\r\n2017-09-07T13:16:54,763 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/jetty-servlet-9.2.5.v20141112.jar]\r\n2017-09-07T13:16:54,763 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/azure-keyvault-core-0.8.0.jar]\r\n2017-09-07T13:16:54,763 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/commons-math3-3.6.1.jar]\r\n2017-09-07T13:16:54,763 INFO [main] io.druid.initialization.Initialization - added URL[file:/usr/hdp/current/druid-middlemanager/extensions/druid-kerberos/guava-16.0.1.jar]\r\n2017-09-07T13:16:54,967 INFO [main] io.druid.initialization.Initialization - Loading extension [druid-datasketches] for class [io.druid.initialization.DruidModule]\r\n2017-09-07T13:16:54,971 INFO [main] io.druid.initialization.Initialization - Adding local file system extension module [io.druid.query.aggregation.datasketches.theta.SketchModule] for class [io.druid.initialization.DruidModule]\r\n2017-09-07T13:16:54,972 INFO [main] io.druid.initialization.Initialization - Adding local file system extension module [io.druid.query.aggregation.datasketches.theta.oldapi.OldApiSketchModule] for class [io.druid.initialization.DruidModule]\r\n2017-09-07T13:16:54,972 INFO [main] io.druid.initialization.Initialization - Loading extension [druid-hdfs-storage] for class [io.druid.initialization.DruidModule]\r\n2017-09-07T13:16:54,975 INFO [main] io.druid.initialization.Initialization - Adding local file system extension module [io.druid.storage.hdfs.HdfsStorageDruidModule] for class [io.druid.initialization.DruidModule]\r\n2017-09-07T13:16:54,975 INFO [main] io.druid.initialization.Initialization - Loading extension [druid-kafka-indexing-service] for class [io.druid.initialization.DruidModule]\r\n2017-09-07T13:16:54,976 INFO [main] io.druid.initialization.Initialization - Adding local file system extension module [io.druid.indexing.kafka.KafkaIndexTaskModule] for class [io.druid.initialization.DruidModule]\r\n2017-09-07T13:16:54,977 INFO [main] io.druid.initialization.Initialization - Loading extension [ambari-metrics-emitter] for class [io.druid.initialization.DruidModule]\r\n2017-09-07T13:16:54,978 INFO [main] io.druid.initialization.Initialization - Adding local file system extension module [io.druid.emitter.ambari.metrics.AmbariMetricsEmitterModule] for class [io.druid.initialization.DruidModule]\r\n2017-09-07T13:16:54,978 INFO [main] io.druid.initialization.Initialization - Loading extension [mysql-metadata-storage] for class [io.druid.initialization.DruidModule]\r\n2017-09-07T13:16:54,980 INFO [main] io.druid.initialization.Initialization - Adding local file system extension module [io.druid.metadata.storage.mysql.MySQLMetadataStorageModule] for class [io.druid.initialization.DruidModule]\r\n2017-09-07T13:16:54,980 INFO [main] io.druid.initialization.Initialization - Loading extension [druid-kerberos] for class [io.druid.initialization.DruidModule]\r\n2017-09-07T13:16:54,982 INFO [main] io.druid.initialization.Initialization - Adding local file system extension module [io.druid.security.kerberos.DruidKerberosModule] for class [io.druid.initialization.DruidModule]\r\n2017-09-07T13:16:57,175 WARN [main] org.apache.hadoop.util.NativeCodeLoader - Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\n2017-09-07T13:16:57,183 WARN [main] org.apache.hadoop.hdfs.shortcircuit.DomainSocketFactory - The short-circuit local reads feature cannot be used because libhadoop cannot be loaded.\r\n2017-09-07T13:16:57,572 INFO [main] io.druid.guice.JsonConfigurator - Loaded class[class io.druid.security.kerberos.AuthenticationKerberosConfig] from props[druid.hadoop.security.kerberos.] as [io.druid.security.kerberos.AuthenticationKerberosConfig@63c44639]\r\n2017-09-07T13:16:57,637 INFO [main] io.druid.emitter.ambari.metrics.WhiteListBasedDruidToTimelineEventConverter - using default whiteList map located at [file:/usr/hdp/current/druid-middlemanager/extensions/ambari-metrics-emitter/ambari-metrics-emitter-0.9.2.2.6.1.0-129.jar!/defaultWhiteListMap.json]\r\n2017-09-07T13:16:57,666 INFO [main] io.druid.guice.JsonConfigurator - Loaded class[class io.druid.emitter.ambari.metrics.AmbariMetricsEmitterConfig] from props[druid.emitter.ambari-metrics.] as [io.druid.emitter.ambari.metrics.AmbariMetricsEmitterConfig@5c969a2]\r\n2017-09-07T13:16:57,747 INFO [main] io.druid.guice.JsonConfigurator - Loaded class[class io.druid.server.metrics.DruidMonitorSchedulerConfig] from props[druid.monitoring.] as [io.druid.server.metrics.DruidMonitorSchedulerConfig@65bad087]\r\n2017-09-07T13:16:57,756 INFO [main] io.druid.guice.JsonConfigurator - Loaded class[class io.druid.server.metrics.MonitorsConfig] from props[druid.monitoring.] as [MonitorsConfig{monitors=[class com.metamx.metrics.JvmMonitor]}]\r\n2017-09-07T13:16:57,771 INFO [main] io.druid.guice.JsonConfigurator - Loaded class[class io.druid.server.DruidNode] from props[druid.] as [DruidNode{serviceName='druid/middlemanager', host='clusterhn02.nix.cydmodule.com', port=8100}]\r\n2017-09-07T13:16:57,924 INFO [main] io.druid.guice.PropertiesModule - Loading properties from common.runtime.properties\r\n2017-09-07T13:16:57,925 INFO [main] io.druid.guice.PropertiesModule - Loading properties from runtime.properties\r\n2017-09-07T13:16:57,937 INFO [main] io.druid.guice.JsonConfigurator - Loaded class[class io.druid.guice.ExtensionsConfig] from props[druid.extensions.] as [ExtensionsConfig{searchCurrentClassloader=true, directory='/usr/hdp/current/druid-middlemanager/extensions', hadoopDependenciesDir='/usr/hdp/current/druid-middlemanager/hadoop-dependencies', hadoopContainerDruidClasspath='null', loadList=[druid-datasketches, druid-hdfs-storage, druid-kafka-indexing-service, ambari-metrics-emitter, mysql-metadata-storage, druid-kerberos]}]\r\n2017-09-07T13:16:57,939 INFO [main] io.druid.server.metrics.MetricsModule - Adding monitor[com.metamx.metrics.JvmMonitor@399ca607]\r\n2017-09-07T13:16:57,940 INFO [main] io.druid.server.metrics.MetricsModule - Adding monitor[io.druid.query.ExecutorServiceMonitor@38d08cb5]\r\n2017-09-07T13:16:57,940 INFO [main] io.druid.server.metrics.MetricsModule - Adding monitor[io.druid.server.initialization.jetty.JettyServerModule$JettyMonitor@6baf25d7]\r\n2017-09-07T13:16:57,948 INFO [main] io.druid.guice.JsonConfigurator - Loaded class[class io.druid.server.log.StartupLoggingConfig] from props[druid.startup.logging.] as [io.druid.server.log.StartupLoggingConfig@56c8e6f0]\r\n2017-09-07T13:16:57,949 INFO [main] io.druid.cli.CliPeon - Starting up with processors[4], memory[265,289,728].\r\n2017-09-07T13:16:57,952 INFO [main] io.druid.guice.JsonConfigurator - Loaded class[class io.druid.storage.hdfs.HdfsKerberosConfig] from props[druid.hadoop.security.kerberos.] as [io.druid.storage.hdfs.HdfsKerberosConfig@63c44639]\r\n2017-09-07T13:16:57,963 INFO [main] io.druid.guice.JsonConfigurator - Loaded class[class io.druid.indexing.common.config.TaskConfig] from props[druid.indexer.task.] as [io.druid.indexing.common.config.TaskConfig@4b1ec694]\r\n2017-09-07T13:16:57,971 INFO [main] io.druid.guice.JsonConfigurator - Loaded class[class io.druid.guice.http.DruidHttpClientConfig] from props[druid.global.http.] as [io.druid.guice.http.DruidHttpClientConfig@21c747a]\r\n2017-09-07T13:16:58,032 INFO [main] io.druid.guice.JsonConfigurator - Loaded class[class io.druid.client.indexing.IndexingServiceSelectorConfig] from props[druid.selectors.indexing.] as [io.druid.client.indexing.IndexingServiceSelectorConfig@3443e476]\r\n2017-09-07T13:16:58,036 INFO [main] io.druid.guice.JsonConfigurator - Loaded class[class io.druid.curator.CuratorConfig] from props[druid.zk.service.] as [io.druid.curator.CuratorConfig@2349f14d]\r\n2017-09-07T13:16:58,041 WARN [main] org.apache.curator.retry.ExponentialBackoffRetry - maxRetries too large (30). Pinning to 29\r\n2017-09-07T13:16:58,068 INFO [main] io.druid.guice.JsonConfigurator - Loaded class[class io.druid.server.initialization.CuratorDiscoveryConfig] from props[druid.discovery.curator.] as [io.druid.server.initialization.CuratorDiscoveryConfig@ec7b5de]\r\n2017-09-07T13:16:58,096 INFO [main] io.druid.guice.JsonConfigurator - Loaded class[class io.druid.indexing.common.RetryPolicyConfig] from props[druid.peon.taskActionClient.retry.] as [io.druid.indexing.common.RetryPolicyConfig@2c748a15]\r\n2017-09-07T13:16:58,099 INFO [main] io.druid.guice.JsonConfigurator - Loaded class[class io.druid.storage.hdfs.HdfsDataSegmentPusherConfig] from props[druid.storage.] as [io.druid.storage.hdfs.HdfsDataSegmentPusherConfig@11dcd42c]\r\n2017-09-07T13:16:58,100 INFO [main] io.druid.storage.hdfs.HdfsDataSegmentPusher - Configured HDFS as deep storage\r\n2017-09-07T13:16:58,111 INFO [main] io.druid.guice.JsonConfigurator - Loaded class[class io.druid.client.DruidServerConfig] from props[druid.server.] as [io.druid.client.DruidServerConfig@62b09715]\r\n2017-09-07T13:16:58,118 INFO [main] io.druid.guice.JsonConfigurator - Loaded class[class io.druid.server.initialization.BatchDataSegmentAnnouncerConfig] from props[druid.announcer.] as [io.druid.server.initialization.BatchDataSegmentAnnouncerConfig@1ca610a0]\r\n2017-09-07T13:16:58,126 INFO [main] io.druid.guice.JsonConfigurator - Loaded class[class io.druid.server.initialization.ZkPathsConfig] from props[druid.zk.paths.] as [io.druid.server.initialization.ZkPathsConfig@22e2266d]\r\n2017-09-07T13:16:58,136 INFO [main] io.druid.guice.JsonConfigurator - Loaded class[interface io.druid.server.coordination.DataSegmentAnnouncerProvider] from props[druid.announcer.] as [io.druid.server.coordination.BatchDataSegmentAnnouncerProvider@27fe059d]\r\n2017-09-07T13:16:58,139 INFO [main] io.druid.guice.JsonConfigurator - Loaded class[class io.druid.client.coordinator.CoordinatorSelectorConfig] from props[druid.selectors.coordinator.] as [io.druid.client.coordinator.CoordinatorSelectorConfig@566e142]\r\n2017-09-07T13:16:58,143 INFO [main] io.druid.guice.JsonConfigurator - Loaded class[class io.druid.segment.realtime.plumber.CoordinatorBasedSegmentHandoffNotifierConfig] from props[druid.segment.handoff.] as [io.druid.segment.realtime.plumber.CoordinatorBasedSegmentHandoffNotifierConfig@469a7575]\r\n2017-09-07T13:16:58,146 INFO [main] org.skife.config.ConfigurationObjectFactory - Assigning value [256000000] for [druid.processing.buffer.sizeBytes] on [io.druid.query.DruidProcessingConfig#intermediateComputeSizeBytes()]\r\n2017-09-07T13:16:58,149 INFO [main] org.skife.config.ConfigurationObjectFactory - Using method itself for [druid.computation.buffer.poolCacheMaxCount, ${base_path}.buffer.poolCacheMaxCount] on [io.druid.query.DruidProcessingConfig#poolCacheMaxCount()]\r\n2017-09-07T13:16:58,151 INFO [main] org.skife.config.ConfigurationObjectFactory - Using method itself for [${base_path}.numMergeBuffers] on [io.druid.query.DruidProcessingConfig#getNumMergeBuffers()]\r\n2017-09-07T13:16:58,151 INFO [main] org.skife.config.ConfigurationObjectFactory - Assigning value [2] for [druid.processing.numThreads] on [io.druid.query.DruidProcessingConfig#getNumThreads()]\r\n2017-09-07T13:16:58,152 INFO [main] org.skife.config.ConfigurationObjectFactory - Using method itself for [${base_path}.columnCache.sizeBytes] on [io.druid.query.DruidProcessingConfig#columnCacheSizeBytes()]\r\n2017-09-07T13:16:58,152 INFO [main] org.skife.config.ConfigurationObjectFactory - Using method itself for [${base_path}.fifo] on [io.druid.query.DruidProcessingConfig#isFifo()]\r\n2017-09-07T13:16:58,152 INFO [main] org.skife.config.ConfigurationObjectFactory - Assigning default value [processing-%s] for [${base_path}.formatString] on [com.metamx.common.concurrent.ExecutorServiceConfig#getFormatString()]\r\n2017-09-07T13:16:58,249 INFO [main] io.druid.guice.JsonConfigurator - Loaded class[class io.druid.query.search.search.SearchQueryConfig] from props[druid.query.search.] as [io.druid.query.search.search.SearchQueryConfig@1b57c345]\r\n2017-09-07T13:16:58,252 INFO [main] io.druid.guice.JsonConfigurator - Loaded class[class io.druid.query.metadata.SegmentMetadataQueryConfig] from props[druid.query.segmentMetadata.] as [io.druid.query.metadata.SegmentMetadataQueryConfig@39b626e5]\r\n2017-09-07T13:16:58,258 INFO [main] io.druid.guice.JsonConfigurator - Loaded class[class io.druid.query.groupby.GroupByQueryConfig] from props[druid.query.groupBy.] as [io.druid.query.groupby.GroupByQueryConfig@1e12a5a6]\r\n2017-09-07T13:16:58,285 INFO [main] io.druid.guice.JsonConfigurator - Loaded class[class io.druid.query.topn.TopNQueryConfig] from props[druid.query.topN.] as [io.druid.query.topn.TopNQueryConfig@2ba42204]\r\n2017-09-07T13:16:58,294 INFO [main] io.druid.guice.JsonConfigurator - Loaded class[interface io.druid.client.cache.CacheProvider] from props[druid.cache.] as [io.druid.client.cache.LocalCacheProvider@7eeb38b2]\r\n2017-09-07T13:16:58,303 INFO [main] io.druid.guice.JsonConfigurator - Loaded class[class io.druid.client.cache.CacheConfig] from props[druid.realtime.cache.] as [io.druid.client.cache.CacheConfig@4971f459]\r\n2017-09-07T13:16:58,319 INFO [main] io.druid.guice.JsonConfigurator - Loaded class[class io.druid.server.initialization.ServerConfig] from props[druid.server.http.] as [ServerConfig{numThreads=50, maxIdleTime=PT5M}]\r\n2017-09-07T13:16:58,321 INFO [main] io.druid.guice.JsonConfigurator - Loaded class[interface io.druid.server.log.RequestLoggerProvider] from props[druid.request.logging.] as [io.druid.server.log.NoopRequestLoggerProvider@45a1d057]\r\n2017-09-07T13:16:58,324 INFO [main] io.druid.guice.JsonConfigurator - Loaded class[class io.druid.server.security.AuthConfig] from props[druid.auth.] as [AuthConfig{enabled=false}]\r\n2017-09-07T13:16:58,333 INFO [main] org.eclipse.jetty.util.log - Logging initialized @5429ms\r\n2017-09-07T13:16:58,439 INFO [main] io.druid.guice.JsonConfigurator - Loaded class[class io.druid.security.kerberos.SpnegoFilterConfig] from props[druid.hadoop.security.spnego.] as [io.druid.security.kerberos.SpnegoFilterConfig@c9abe11c]\r\n2017-09-07T13:16:58,529 INFO [main] io.druid.guice.JsonConfigurator - Loaded class[class io.druid.query.lookup.LookupConfig] from props[druid.lookup.] as [LookupConfig{snapshotWorkingDir=''}]\r\n2017-09-07T13:16:58,533 INFO [main] io.druid.guice.JsonConfigurator - Loaded class[class io.druid.query.lookup.LookupListeningAnnouncerConfig] from props[druid.lookup.] as [ListeningAnnouncerConfig{listenersPath='/druid/listeners'}]\r\n2017-09-07T13:16:58,535 INFO [main] com.metamx.common.lifecycle.Lifecycle$AnnotationBasedHandler - Invoking start method[public void io.druid.initialization.Log4jShutterDownerModule$Log4jShutterDowner.start()] on object[io.druid.initialization.Log4jShutterDownerModule$Log4jShutterDowner@49671897].\r\n2017-09-07T13:16:58,535 INFO [main] com.metamx.common.lifecycle.Lifecycle$AnnotationBasedHandler - Invoking start method[public void com.metamx.emitter.service.ServiceEmitter.start()] on object[com.metamx.emitter.service.ServiceEmitter@168142da].\r\n2017-09-07T13:16:58,535 INFO [main] io.druid.emitter.ambari.metrics.AmbariMetricsEmitter - Starting Ambari Metrics Emitter.\r\n2017-09-07T13:16:58,541 INFO [main] com.metamx.common.lifecycle.Lifecycle$AnnotationBasedHandler - Invoking start method[public void com.metamx.metrics.MonitorScheduler.start()] on object[com.metamx.metrics.MonitorScheduler@30922f8d].\r\n2017-09-07T13:16:58,545 INFO [main] com.metamx.common.lifecycle.Lifecycle$AnnotationBasedHandler - Invoking start method[public void io.druid.storage.hdfs.HdfsStorageAuthentication.authenticate()] on object[io.druid.storage.hdfs.HdfsStorageAuthentication@191c6e13].\r\n2017-09-07T13:16:58,546 INFO [main] io.druid.storage.hdfs.HdfsStorageAuthentication - Trying to authenticate user [druid@CYDMODULE.COM] with keytab [/etc/security/keytabs/druid.headless.keytab]..\r\n2017-09-07T13:16:58,620 INFO [main] org.apache.hadoop.security.UserGroupInformation - Login successful for user druid@CYDMODULE.COM using keytab file /etc/security/keytabs/druid.headless.keytab\r\n2017-09-07T13:16:58,622 INFO [main] com.metamx.common.lifecycle.Lifecycle$AnnotationBasedHandler - Invoking start method[public void com.metamx.http.client.NettyHttpClient.start()] on object[com.metamx.http.client.NettyHttpClient@6d0290d8].\r\n2017-09-07T13:16:58,622 INFO [main] io.druid.curator.CuratorModule - Starting Curator\r\n2017-09-07T13:16:58,622 INFO [main] org.apache.curator.framework.imps.CuratorFrameworkImpl - Starting\r\n2017-09-07T13:16:58,632 INFO [main] org.apache.zookeeper.ZooKeeper - Client environment:zookeeper.version=3.4.9-1757313, built on 08/23/2016 06:50 GMT\r\n2017-09-07T13:16:58,632 INFO [main] org.apache.zookeeper.ZooKeeper - Client environment:host.name=clusterhn02.nix.cydmodule.com\r\n2017-09-07T13:16:58,632 INFO [main] org.apache.zookeeper.ZooKeeper - Client environment:java.version=1.8.0_121\r\n2017-09-07T13:16:58,632 INFO [main] org.apache.zookeeper.ZooKeeper - Client environment:java.vendor=Oracle Corporation\r\n2017-09-07T13:16:58,632 INFO [main] org.apache.zookeeper.ZooKeeper - Client environment:java.home=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.121-0.b13.el7_3.x86_64/jre\r\n2017-09-07T13:16:58,633 INFO [main] org.apache.zookeeper.ZooKeeper - Client environment:java.class.path=/usr/hdp/current/druid-middlemanager/conf/_common:/usr/hdp/current/druid-middlemanager/conf/middleManager:/usr/hdp/current/druid-middlemanager/lib/jboss-logging-3.1.3.GA.jar:/usr/hdp/current/druid-middlemanager/lib/curator-recipes-2.11.0.jar:/usr/hdp/current/druid-middlemanager/lib/protobuf-java-2.5.0.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-codedeploy-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/commons-pool2-2.2.jar:/usr/hdp/current/druid-middlemanager/lib/curator-x-discovery-2.11.0.jar:/usr/hdp/current/druid-middlemanager/lib/wagon-provider-api-2.4.jar:/usr/hdp/current/druid-middlemanager/lib/jsr305-2.0.1.jar:/usr/hdp/current/druid-middlemanager/lib/jackson-datatype-guava-2.4.6.jar:/usr/hdp/current/druid-middlemanager/lib/aether-connector-okhttp-0.0.9.jar:/usr/hdp/current/druid-middlemanager/lib/druid-aws-common-0.9.2.2.6.1.0-129.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-ecs-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/druid-indexing-service-0.9.2.2.6.1.0-129.jar:/usr/hdp/current/druid-middlemanager/lib/javax.el-api-3.0.0.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-swf-libraries-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/curator-client-2.11.0.jar:/usr/hdp/current/druid-middlemanager/lib/slf4j-api-1.7.12.jar:/usr/hdp/current/druid-middlemanager/lib/RoaringBitmap-0.5.18.jar:/usr/hdp/current/druid-middlemanager/lib/irc-api-1.0-0014.jar:/usr/hdp/current/druid-middlemanager/lib/druid-console-0.0.2.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-route53-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/jackson-annotations-2.4.6.jar:/usr/hdp/current/druid-middlemanager/lib/druid-api-0.9.2.2.6.1.0-129.jar:/usr/hdp/current/druid-middlemanager/lib/httpclient-4.5.1.jar:/usr/hdp/current/druid-middlemanager/lib/druid-indexing-hadoop-0.9.2.2.6.1.0-129.jar:/usr/hdp/current/druid-middlemanager/lib/curator-framework-2.11.0.jar:/usr/hdp/current/druid-middlemanager/lib/jersey-servlet-1.19.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-elastictranscoder-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-codecommit-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-ses-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-sts-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/commons-codec-1.7.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-rds-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-simpleworkflow-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/lz4-1.3.0.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-cloudtrail-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/validation-api-1.1.0.Final.jar:/usr/hdp/current/druid-middlemanager/lib/jackson-dataformat-smile-2.4.6.jar:/usr/hdp/current/druid-middlemanager/lib/airline-0.7.jar:/usr/hdp/current/druid-middlemanager/lib/log4j-api-2.5.jar:/usr/hdp/current/druid-middlemanager/lib/jetty-server-9.2.5.v20141112.jar:/usr/hdp/current/druid-middlemanager/lib/jackson-jaxrs-base-2.4.6.jar:/usr/hdp/current/druid-middlemanager/lib/jetty-http-9.2.5.v20141112.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-kinesis-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/log4j-core-2.5.jar:/usr/hdp/current/druid-middlemanager/lib/aether-impl-0.9.0.M2.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-workspaces-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-support-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/jackson-core-asl-1.9.13.jar:/usr/hdp/current/druid-middlemanager/lib/jetty-client-9.2.5.v20141112.jar:/usr/hdp/current/druid-middlemanager/lib/jetty-security-9.2.5.v20141112.jar:/usr/hdp/current/druid-middlemanager/lib/jets3t-0.9.4.jar:/usr/hdp/current/druid-middlemanager/lib/commons-pool-1.6.jar:/usr/hdp/current/druid-middlemanager/lib/guice-multibindings-4.1.0.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-cloudwatch-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/aether-spi-0.9.0.M2.jar:/usr/hdp/current/druid-middlemanager/lib/maven-settings-3.1.1.jar:/usr/hdp/current/druid-middlemanager/lib/java-xmlbuilder-1.1.jar:/usr/hdp/current/druid-middlemanager/lib/rhino-1.7R5.jar:/usr/hdp/current/druid-middlemanager/lib/jetty-util-9.2.5.v20141112.jar:/usr/hdp/current/druid-middlemanager/lib/aopalliance-1.0.jar:/usr/hdp/current/druid-middlemanager/lib/druid-server-0.9.2.2.6.1.0-129.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/jersey-guice-1.19.jar:/usr/hdp/current/druid-middlemanager/lib/tesla-aether-0.0.5.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-elasticloadbalancing-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-opsworks-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/jackson-jaxrs-smile-provider-2.4.6.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-codepipeline-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/http-client-1.0.4.jar:/usr/hdp/current/druid-middlemanager/lib/derby-10.11.1.1.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-elasticache-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/plexus-utils-3.0.15.jar:/usr/hdp/current/druid-middlemanager/lib/javax.inject-1.jar:/usr/hdp/current/druid-middlemanager/lib/druid-processing-0.9.2.2.6.1.0-129.jar:/usr/hdp/current/druid-middlemanager/lib/jsr311-api-1.1.1.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-directory-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/jetty-proxy-9.2.5.v20141112.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-core-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/plexus-interpolation-1.19.jar:/usr/hdp/current/druid-middlemanager/lib/bcprov-jdk15on-1.52.jar:/usr/hdp/current/druid-middlemanager/lib/guice-4.1.0.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-logs-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/jetty-continuation-9.2.5.v20141112.jar:/usr/hdp/current/druid-middlemanager/lib/server-metrics-0.2.8.jar:/usr/hdp/current/druid-middlemanager/lib/commons-logging-1.1.1.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-storagegateway-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-kms-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/jackson-databind-2.4.6.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-directconnect-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-cognitosync-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/hibernate-validator-5.1.3.Final.jar:/usr/hdp/current/druid-middlemanager/lib/jdbi-2.63.1.jar:/usr/hdp/current/druid-middlemanager/lib/jline-0.9.94.jar:/usr/hdp/current/druid-middlemanager/lib/druid-services-0.9.2.2.6.1.0-129.jar:/usr/hdp/current/druid-middlemanager/lib/json-path-2.1.0.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-redshift-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/google-http-client-jackson2-1.15.0-rc.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-iam-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-s3-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-cloudhsm-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/maven-aether-provider-3.1.1.jar:/usr/hdp/current/druid-middlemanager/lib/mapdb-1.0.8.jar:/usr/hdp/current/druid-middlemanager/lib/aether-api-0.9.0.M2.jar:/usr/hdp/current/druid-middlemanager/lib/jackson-module-jaxb-annotations-2.4.6.jar:/usr/hdp/current/druid-middlemanager/lib/guice-servlet-4.1.0.jar:/usr/hdp/current/druid-middlemanager/lib/classmate-1.0.0.jar:/usr/hdp/current/druid-middlemanager/lib/base64-2.3.8.jar:/usr/hdp/current/druid-middlemanager/lib/jcl-over-slf4j-1.7.12.jar:/usr/hdp/current/druid-middlemanager/lib/geoip2-0.4.0.jar:/usr/hdp/current/druid-middlemanager/lib/opencsv-2.3.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-sqs-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-devicefarm-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/bytebuffer-collections-0.2.5.jar:/usr/hdp/current/druid-middlemanager/lib/activation-1.1.1.jar:/usr/hdp/current/druid-middlemanager/lib/commons-io-2.4.jar:/usr/hdp/current/druid-middlemanager/lib/jackson-datatype-joda-2.4.6.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-config-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-machinelearning-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/commons-cli-1.2.jar:/usr/hdp/current/druid-middlemanager/lib/jackson-core-2.4.6.jar:/usr/hdp/current/druid-middlemanager/lib/jersey-server-1.19.jar:/usr/hdp/current/druid-middlemanager/lib/httpcore-4.4.3.jar:/usr/hdp/current/druid-middlemanager/lib/okhttp-1.0.2.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-ec2-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/compress-lzf-1.0.3.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-sns-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-cloudfront-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/maven-repository-metadata-3.1.1.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-elasticbeanstalk-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/druid-common-0.9.2.2.6.1.0-129.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-efs-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-autoscaling-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/log4j-1.2-api-2.5.jar:/usr/hdp/current/druid-middlemanager/lib/jackson-mapper-asl-1.9.13.jar:/usr/hdp/current/druid-middlemanager/lib/log4j-jul-2.5.jar:/usr/hdp/current/druid-middlemanager/lib/log4j-slf4j-impl-2.5.jar:/usr/hdp/current/druid-middlemanager/lib/maven-model-3.1.1.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-cloudformation-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-ssm-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/javax.servlet-api-3.1.0.jar:/usr/hdp/current/druid-middlemanager/lib/aether-util-0.9.0.M2.jar:/usr/hdp/current/druid-middlemanager/lib/maven-settings-builder-3.1.1.jar:/usr/hdp/current/druid-middlemanager/lib/netty-3.10.4.Final.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-cognitoidentity-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/jackson-jaxrs-json-provider-2.4.6.jar:/usr/hdp/current/druid-middlemanager/lib/jetty-servlets-9.2.5.v20141112.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-glacier-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/aether-connector-file-0.9.0.M2.jar:/usr/hdp/current/druid-middlemanager/lib/javax.el-3.0.0.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-emr-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/zookeeper-3.4.9.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-lambda-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/config-magic-0.9.jar:/usr/hdp/current/druid-middlemanager/lib/jetty-io-9.2.5.v20141112.jar:/usr/hdp/current/druid-middlemanager/lib/derbynet-10.11.1.1.jar:/usr/hdp/current/druid-middlemanager/lib/extendedset-1.3.10.jar:/usr/hdp/current/druid-middlemanager/lib/emitter-0.3.6.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-importexport-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/icu4j-4.8.1.jar:/usr/hdp/current/druid-middlemanager/lib/antlr4-runtime-4.5.1.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-cloudsearch-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/java-util-0.27.10.jar:/usr/hdp/current/druid-middlemanager/lib/jetty-servlet-9.2.5.v20141112.jar:/usr/hdp/current/druid-middlemanager/lib/disruptor-3.3.0.jar:/usr/hdp/current/druid-middlemanager/lib/maxminddb-0.2.0.jar:/usr/hdp/current/druid-middlemanager/lib/joda-time-2.8.2.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-dynamodb-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/jersey-core-1.19.jar:/usr/hdp/current/druid-middlemanager/lib/commons-lang-2.6.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-cloudwatchmetrics-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/derbyclient-10.11.1.1.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-datapipeline-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/maven-model-builder-3.1.1.jar:/usr/hdp/current/druid-middlemanager/lib/commons-dbcp2-2.0.1.jar:/usr/hdp/current/druid-middlemanager/lib/commons-math3-3.6.1.jar:/usr/hdp/current/druid-middlemanager/lib/aws-java-sdk-simpledb-1.10.21.jar:/usr/hdp/current/druid-middlemanager/lib/spymemcached-2.11.7.jar:/usr/hdp/current/druid-middlemanager/lib/guava-16.0.1.jar:/usr/hdp/current/hadoop-client/conf\r\n2017-09-07T13:16:58,633 INFO [main] org.apache.zookeeper.ZooKeeper - Client environment:java.library.path=/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib\r\n2017-09-07T13:16:58,633 INFO [main] org.apache.zookeeper.ZooKeeper - Client environment:java.io.tmpdir=/tmp\r\n2017-09-07T13:16:58,633 INFO [main] org.apache.zookeeper.ZooKeeper - Client environment:java.compiler=<NA>\r\n2017-09-07T13:16:58,633 INFO [main] org.apache.zookeeper.ZooKeeper - Client environment:os.name=Linux\r\n2017-09-07T13:16:58,633 INFO [main] org.apache.zookeeper.ZooKeeper - Client environment:os.arch=amd64\r\n2017-09-07T13:16:58,633 INFO [main] org.apache.zookeeper.ZooKeeper - Client environment:os.version=3.10.0-514.10.2.el7.x86_64\r\n2017-09-07T13:16:58,633 INFO [main] org.apache.zookeeper.ZooKeeper - Client environment:user.name=druid\r\n2017-09-07T13:16:58,633 INFO [main] org.apache.zookeeper.ZooKeeper - Client environment:user.home=/home/druid\r\n2017-09-07T13:16:58,633 INFO [main] org.apache.zookeeper.ZooKeeper - Client environment:user.dir=/home/druid\r\n2017-09-07T13:16:58,634 INFO [main] org.apache.zookeeper.ZooKeeper - Initiating client connection, connectString=clustermn01.nix.cydmodule.com:2181,clusterhn02.nix.cydmodule.com:2181,clusterhn01.nix.cydmodule.com:2181 sessionTimeout=30000 watcher=org.apache.curator.ConnectionState@11df2829\r\n2017-09-07T13:16:58,659 INFO [main] com.metamx.common.lifecycle.Lifecycle$AnnotationBasedHandler - Invoking start method[public void io.druid.curator.discovery.ServerDiscoverySelector.start() throws java.lang.Exception] on object[io.druid.curator.discovery.ServerDiscoverySelector@4a864d4d].\r\n2017-09-07T13:16:58,663 INFO [main-SendThread(clusterhn02.nix.cydmodule.com:2181)] org.apache.zookeeper.ClientCnxn - Opening socket connection to server clusterhn02.nix.cydmodule.com/10.72.19.15:2181. Will not attempt to authenticate using SASL (unknown error)\r\n2017-09-07T13:16:58,672 INFO [main-SendThread(clusterhn02.nix.cydmodule.com:2181)] org.apache.zookeeper.ClientCnxn - Socket connection established to clusterhn02.nix.cydmodule.com/10.72.19.15:2181, initiating session\r\n2017-09-07T13:16:58,685 INFO [main-SendThread(clusterhn02.nix.cydmodule.com:2181)] org.apache.zookeeper.ClientCnxn - Session establishment complete on server clusterhn02.nix.cydmodule.com/10.72.19.15:2181, sessionid = 0x25e4d2c337002fb, negotiated timeout = 30000\r\n2017-09-07T13:16:58,690 INFO [main-EventThread] org.apache.curator.framework.state.ConnectionStateManager - State change: CONNECTED\r\n2017-09-07T13:16:58,818 INFO [main] com.metamx.common.lifecycle.Lifecycle$AnnotationBasedHandler - Invoking start method[public void io.druid.curator.announcement.Announcer.start()] on object[io.druid.curator.announcement.Announcer@6d69a0d3].\r\n2017-09-07T13:16:58,819 INFO [main] com.metamx.common.lifecycle.Lifecycle$AnnotationBasedHandler - Invoking start method[public void io.druid.curator.discovery.ServerDiscoverySelector.start() throws java.lang.Exception] on object[io.druid.curator.discovery.ServerDiscoverySelector@4f114b].\r\n2017-09-07T13:16:58,829 INFO [main] com.metamx.common.lifecycle.Lifecycle$AnnotationBasedHandler - Invoking start method[public void io.druid.indexing.worker.executor.ExecutorLifecycle.start() throws java.lang.InterruptedException] on object[io.druid.indexing.worker.executor.ExecutorLifecycle@4ef18604].\r\n2017-09-07T13:16:58,898 INFO [main] io.druid.indexing.worker.executor.ExecutorLifecycle - Running with task: {\r\n  \"type\" : \"index_hadoop\",\r\n  \"id\" : \"index_2017-09-07T13:16:52.833Z\",\r\n  \"spec\" : { ... },\r\n    \"ioConfig\" : {\r\n      \"type\" : \"hadoop\",\r\n      \"inputSpec\" : {\r\n        \"type\" : \"static\",\r\n        \"paths\" : \"/tmp/output.json/part-00000\"\r\n      },\r\n      \"metadataUpdateSpec\" : null,\r\n      \"segmentOutputPath\" : null\r\n    },\r\n    \"tuningConfig\" : {\r\n      \"type\" : \"hadoop\",\r\n      \"workingPath\" : null,\r\n      \"version\" : \"2017-09-07T13:16:52.833Z\",\r\n      \"partitionsSpec\" : {\r\n        \"type\" : \"hashed\",\r\n        \"targetPartitionSize\" : -1,\r\n        \"maxPartitionSize\" : -1,\r\n        \"assumeGrouped\" : false,\r\n        \"numShards\" : -1,\r\n        \"partitionDimensions\" : [ ]\r\n      },\r\n      \"shardSpecs\" : { },\r\n      \"indexSpec\" : {\r\n        \"bitmap\" : {\r\n          \"type\" : \"concise\"\r\n        },\r\n        \"dimensionCompression\" : \"lz4\",\r\n        \"metricCompression\" : \"lz4\",\r\n        \"longEncoding\" : \"longs\"\r\n      },\r\n      \"maxRowsInMemory\" : 75000,\r\n      \"leaveIntermediate\" : false,\r\n      \"cleanupOnFailure\" : true,\r\n      \"overwriteFiles\" : false,\r\n      \"ignoreInvalidRows\" : false,\r\n      \"jobProperties\" : { },\r\n      \"combineText\" : false,\r\n      \"useCombiner\" : false,\r\n      \"buildV9Directly\" : false,\r\n      \"numBackgroundPersistThreads\" : 0,\r\n      \"forceExtendableShardSpecs\" : false\r\n    },\r\n    \"uniqueId\" : \"df5a10b4f75641bf9d21d5b28b3867fd\"\r\n  },\r\n  \"hadoopDependencyCoordinates\" : null,\r\n  \"classpathPrefix\" : null,\r\n  \"context\" : null,\r\n  \"groupId\" : \"index_hadoop_2017-09-07T13:16:52.833Z\",\r\n  \"dataSource\" : \"...\",\r\n  \"resource\" : {\r\n    \"availabilityGroup\" : \"index_hadoop_2017-09-07T13:16:52.833Z\",\r\n    \"requiredCapacity\" : 1\r\n  }\r\n}\r\n2017-09-07T13:16:58,907 INFO [main] io.druid.indexing.worker.executor.ExecutorLifecycle - Attempting to lock file[/apps/druid/tasks/index_2017-09-07T13:16:52.833Z/lock].\r\n2017-09-07T13:16:58,909 INFO [main] io.druid.indexing.worker.executor.ExecutorLifecycle - Acquired lock file[/apps/druid/tasks/index_2017-09-07T13:16:52.833Z/lock] in 2ms.\r\n2017-09-07T13:16:58,916 INFO [main] io.druid.indexing.common.actions.RemoteTaskActionClient - Performing action for task[index_2017-09-07T13:16:52.833Z]: LockTryAcquireAction{interval=2017-08-09T00:00:00.000Z/2017-08-11T00:00:00.000Z}\r\n2017-09-07T13:16:58,928 INFO [main] io.druid.indexing.common.actions.RemoteTaskActionClient - Submitting action for task[index_2017-09-07T13:16:52.833Z] to overlord[http://clusterhn01.nix.cydmodule.com:8090/druid/indexer/v1/action]: LockTryAcquireAction{interval=2017-08-09T00:00:00.000Z/2017-08-11T00:00:00.000Z}\r\n2017-09-07T13:16:59,011 ERROR [main] io.druid.cli.CliPeon - Error when starting up.  Failing.\r\njava.lang.reflect.InvocationTargetException\r\n                at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_121]\r\n                at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_121]\r\n                at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_121]\r\n                at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_121]\r\n                at com.metamx.common.lifecycle.Lifecycle$AnnotationBasedHandler.start(Lifecycle.java:350) ~[java-util-0.27.10.jar:?]\r\n                at com.metamx.common.lifecycle.Lifecycle.start(Lifecycle.java:259) ~[java-util-0.27.10.jar:?]\r\n                at io.druid.guice.LifecycleModule$2.start(LifecycleModule.java:155) ~[druid-api-0.9.2.2.6.1.0-129.jar:0.9.2.2.6.1.0-129]\r\n                at io.druid.cli.GuiceRunnable.initLifecycle(GuiceRunnable.java:101) [druid-services-0.9.2.2.6.1.0-129.jar:0.9.2.2.6.1.0-129]\r\n                at io.druid.cli.CliPeon.run(CliPeon.java:274) [druid-services-0.9.2.2.6.1.0-129.jar:0.9.2.2.6.1.0-129]\r\n                at io.druid.cli.Main.main(Main.java:106) [druid-services-0.9.2.2.6.1.0-129.jar:0.9.2.2.6.1.0-129]\r\nCaused by: com.metamx.common.ISE: Failed to run isReady\r\n                at io.druid.indexing.worker.executor.ExecutorLifecycle.start(ExecutorLifecycle.java:173) ~[druid-indexing-service-0.9.2.2.6.1.0-129.jar:0.9.2.2.6.1.0-129]\r\n                ... 10 more\r\nCaused by: java.lang.RuntimeException: java.lang.RuntimeException: java.lang.ClassNotFoundException: Class org.apache.hadoop.security.CompositeGroupsMapping not found\r\n                at org.apache.hadoop.conf.Configuration.getClass(Configuration.java:2273) ~[?:?]\r\n                at org.apache.hadoop.security.Groups.<init>(Groups.java:99) ~[?:?]\r\n                at org.apache.hadoop.security.Groups.<init>(Groups.java:95) ~[?:?]\r\n                at org.apache.hadoop.security.Groups.getUserToGroupsMappingService(Groups.java:420) ~[?:?]\r\n                at org.apache.hadoop.security.UserGroupInformation.initialize(UserGroupInformation.java:324) ~[?:?]\r\n                at org.apache.hadoop.security.UserGroupInformation.setConfiguration(UserGroupInformation.java:352) ~[?:?]\r\n                at io.druid.security.kerberos.DruidKerberosUtil.authenticateIfRequired(DruidKerberosUtil.java:101) ~[?:?]\r\n                at io.druid.security.kerberos.KerberosHttpClient.inner_go(KerberosHttpClient.java:97) ~[?:?]\r\n                at io.druid.security.kerberos.KerberosHttpClient.go(KerberosHttpClient.java:67) ~[?:?]\r\n                at com.metamx.http.client.AbstractHttpClient.go(AbstractHttpClient.java:14) ~[http-client-1.0.4.jar:?]\r\n                at io.druid.indexing.common.actions.RemoteTaskActionClient.submit(RemoteTaskActionClient.java:101) ~[druid-indexing-service-0.9.2.2.6.1.0-129.jar:0.9.2.2.6.1.0-129]\r\n                at io.druid.indexing.common.task.HadoopIndexTask.isReady(HadoopIndexTask.java:137) ~[druid-indexing-service-0.9.2.2.6.1.0-129.jar:0.9.2.2.6.1.0-129]\r\n                at io.druid.indexing.worker.executor.ExecutorLifecycle.start(ExecutorLifecycle.java:168) ~[druid-indexing-service-0.9.2.2.6.1.0-129.jar:0.9.2.2.6.1.0-129]\r\n                ... 10 more\r\nCaused by: java.lang.RuntimeException: java.lang.ClassNotFoundException: Class org.apache.hadoop.security.CompositeGroupsMapping not found\r\n                at org.apache.hadoop.conf.Configuration.getClass(Configuration.java:2241) ~[?:?]\r\n                at org.apache.hadoop.conf.Configuration.getClass(Configuration.java:2265) ~[?:?]\r\n                at org.apache.hadoop.security.Groups.<init>(Groups.java:99) ~[?:?]\r\n                at org.apache.hadoop.security.Groups.<init>(Groups.java:95) ~[?:?]\r\n                at org.apache.hadoop.security.Groups.getUserToGroupsMappingService(Groups.java:420) ~[?:?]\r\n                at org.apache.hadoop.security.UserGroupInformation.initialize(UserGroupInformation.java:324) ~[?:?]\r\n                at org.apache.hadoop.security.UserGroupInformation.setConfiguration(UserGroupInformation.java:352) ~[?:?]\r\n                at io.druid.security.kerberos.DruidKerberosUtil.authenticateIfRequired(DruidKerberosUtil.java:101) ~[?:?]\r\n                at io.druid.security.kerberos.KerberosHttpClient.inner_go(KerberosHttpClient.java:97) ~[?:?]\r\n                at io.druid.security.kerberos.KerberosHttpClient.go(KerberosHttpClient.java:67) ~[?:?]\r\n                at com.metamx.http.client.AbstractHttpClient.go(AbstractHttpClient.java:14) ~[http-client-1.0.4.jar:?]\r\n                at io.druid.indexing.common.actions.RemoteTaskActionClient.submit(RemoteTaskActionClient.java:101) ~[druid-indexing-service-0.9.2.2.6.1.0-129.jar:0.9.2.2.6.1.0-129]\r\n                at io.druid.indexing.common.task.HadoopIndexTask.isReady(HadoopIndexTask.java:137) ~[druid-indexing-service-0.9.2.2.6.1.0-129.jar:0.9.2.2.6.1.0-129]\r\n                at io.druid.indexing.worker.executor.ExecutorLifecycle.start(ExecutorLifecycle.java:168) ~[druid-indexing-service-0.9.2.2.6.1.0-129.jar:0.9.2.2.6.1.0-129]\r\n                ... 10 more\r\nCaused by: java.lang.ClassNotFoundException: Class org.apache.hadoop.security.CompositeGroupsMapping not found\r\n                at org.apache.hadoop.conf.Configuration.getClassByName(Configuration.java:2147) ~[?:?]\r\n                at org.apache.hadoop.conf.Configuration.getClass(Configuration.java:2239) ~[?:?]\r\n                at org.apache.hadoop.conf.Configuration.getClass(Configuration.java:2265) ~[?:?]\r\n                at org.apache.hadoop.security.Groups.<init>(Groups.java:99) ~[?:?]\r\n                at org.apache.hadoop.security.Groups.<init>(Groups.java:95) ~[?:?]\r\n                at org.apache.hadoop.security.Groups.getUserToGroupsMappingService(Groups.java:420) ~[?:?]\r\n                at org.apache.hadoop.security.UserGroupInformation.initialize(UserGroupInformation.java:324) ~[?:?]\r\n                at org.apache.hadoop.security.UserGroupInformation.setConfiguration(UserGroupInformation.java:352) ~[?:?]\r\n                at io.druid.security.kerberos.DruidKerberosUtil.authenticateIfRequired(DruidKerberosUtil.java:101) ~[?:?]\r\n                at io.druid.security.kerberos.KerberosHttpClient.inner_go(KerberosHttpClient.java:97) ~[?:?]\r\n                at io.druid.security.kerberos.KerberosHttpClient.go(KerberosHttpClient.java:67) ~[?:?]\r\n                at com.metamx.http.client.AbstractHttpClient.go(AbstractHttpClient.java:14) ~[http-client-1.0.4.jar:?]\r\n                at io.druid.indexing.common.actions.RemoteTaskActionClient.submit(RemoteTaskActionClient.java:101) ~[druid-indexing-service-0.9.2.2.6.1.0-129.jar:0.9.2.2.6.1.0-129]\r\n                at io.druid.indexing.common.task.HadoopIndexTask.isReady(HadoopIndexTask.java:137) ~[druid-indexing-service-0.9.2.2.6.1.0-129.jar:0.9.2.2.6.1.0-129]\r\n                at io.druid.indexing.worker.executor.ExecutorLifecycle.start(ExecutorLifecycle.java:168) ~[druid-indexing-service-0.9.2.2.6.1.0-129.jar:0.9.2.2.6.1.0-129]\r\n                ... 10 more\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331410998/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331435184","html_url":"https://github.com/apache/druid/pull/4776#issuecomment-331435184","issue_url":"https://api.github.com/repos/apache/druid/issues/4776","id":331435184,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTQzNTE4NA==","user":{"login":"shiroari","id":11080799,"node_id":"MDQ6VXNlcjExMDgwNzk5","avatar_url":"https://avatars.githubusercontent.com/u/11080799?v=4","gravatar_id":"","url":"https://api.github.com/users/shiroari","html_url":"https://github.com/shiroari","followers_url":"https://api.github.com/users/shiroari/followers","following_url":"https://api.github.com/users/shiroari/following{/other_user}","gists_url":"https://api.github.com/users/shiroari/gists{/gist_id}","starred_url":"https://api.github.com/users/shiroari/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shiroari/subscriptions","organizations_url":"https://api.github.com/users/shiroari/orgs","repos_url":"https://api.github.com/users/shiroari/repos","events_url":"https://api.github.com/users/shiroari/events{/privacy}","received_events_url":"https://api.github.com/users/shiroari/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T12:39:10Z","updated_at":"2017-09-22T12:39:10Z","author_association":"CONTRIBUTOR","body":"Now, let's look at the problem. I understand that classloader problems are quite tricky, but please be with me.\r\n\r\n1. We start application (Main -> CliPeon) with **an application classloader**. This is slim classloader and only contains necessary backend libs. We can find them under `/druid/lib/`. For CliPeon we never call `Thread#setContextClassLoader` (unlike `CliHadoopIndexer`) which means `Thread#getContextClassLoader` always returns an application classloader. (https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#getContextClassLoader)\r\n\r\n2. CliPeon runs guice injector (`#makeInjector` -> `Initialization#makeInjectorWithModules` -> `Initialization#getFromExtensions` -> `Initialization.ServiceLoadingFromExtensions`. See how method  `Initialization.ServiceLoadingFromExtensions#addAllFromFileSystem` works with classloader. It creates isolated classloader from all jars in extensions folder (in our case `/extensions/druid-kerberos/`). Very simply stated all classes under `/extensions-core/druid-kerberos/` will use this isolated extensions classloader. Right here we load `org.apache.hadoop.conf.Configuration` class with the same classloader. And it works fine because we have `hadoop-common` inside `/extensions/druid-kerberos/`.\r\n\r\n3. CliPeon runs lifecycle (`#initLifecycle` -> `ExecutorLifecycle#start`). At this point `Thread#getContextClassLoader` still returns **an application classloader** because we did not change it. Before running the task `ExecutorLifecycle#start` executes `task.isReady` method and fails because `Configuration` loads classes with `Thread#getContextClassLoader` which doesn't contain `hadoop-common`. Here we go!\r\n\r\n4. We can look a bit further to find a place where we actually use `hadoop-dependencies` for the first time. Just after `task.isReady` we call `taskRunner.run(task)`. Indeed inside `HadoopIndexTask#run` we initialize classloader from `hadoop-dependencies` and use it with `HadoopTask#invokeForeignLoader` by setting `Thread#setContextClassLoader` but it is too late.\r\n\r\nThanks.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331435184/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331456487","html_url":"https://github.com/apache/druid/pull/4776#issuecomment-331456487","issue_url":"https://api.github.com/repos/apache/druid/issues/4776","id":331456487,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTQ1NjQ4Nw==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T14:05:50Z","updated_at":"2017-09-22T14:05:50Z","author_association":"CONTRIBUTOR","body":"@shiroari  thanks for this valuable explanation I will get back to you soon!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331456487/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331520021","html_url":"https://github.com/apache/druid/issues/4067#issuecomment-331520021","issue_url":"https://api.github.com/repos/apache/druid/issues/4067","id":331520021,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTUyMDAyMQ==","user":{"login":"ben-manes","id":378614,"node_id":"MDQ6VXNlcjM3ODYxNA==","avatar_url":"https://avatars.githubusercontent.com/u/378614?v=4","gravatar_id":"","url":"https://api.github.com/users/ben-manes","html_url":"https://github.com/ben-manes","followers_url":"https://api.github.com/users/ben-manes/followers","following_url":"https://api.github.com/users/ben-manes/following{/other_user}","gists_url":"https://api.github.com/users/ben-manes/gists{/gist_id}","starred_url":"https://api.github.com/users/ben-manes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ben-manes/subscriptions","organizations_url":"https://api.github.com/users/ben-manes/orgs","repos_url":"https://api.github.com/users/ben-manes/repos","events_url":"https://api.github.com/users/ben-manes/events{/privacy}","received_events_url":"https://api.github.com/users/ben-manes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T18:05:11Z","updated_at":"2017-09-22T18:05:11Z","author_association":"NONE","body":"Huzzah!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331520021/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331605287","html_url":"https://github.com/apache/druid/issues/4670#issuecomment-331605287","issue_url":"https://api.github.com/repos/apache/druid/issues/4670","id":331605287,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTYwNTI4Nw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-23T02:39:59Z","updated_at":"2017-09-23T02:39:59Z","author_association":"CONTRIBUTOR","body":"I'm looking into this. Interestingly, I can see a different exception with a similar query for the tpch lineitem table. Here is the query I tested and the exception.\r\n\r\n```sql\r\nselect\r\n    floor(__time to hour) as __time,\r\n    l_linestatus,\r\n    count(l_partkey)\r\nfrom (\r\n    select \r\n        max(__time) as __time,\r\n        l_partkey,\r\n        l_linestatus\r\n    from lineitem_1g_split_year\r\n    where 1=1\r\n        and l_returnflag = 'R'\r\n    group by l_partkey, l_linestatus\r\n)\r\ngroup by floor(__time to hour), l_linestatus\r\n```\r\n\r\n```\r\njava.lang.RuntimeException: Error while applying rule DruidFilterRule, args [rel#337:LogicalFilter.NONE.[[]](input=rel#306:Subset#0.NONE.[],condition==($12, 'R')), rel#371:DruidQueryRel.NONE.[](query={\"queryType\":\"scan\",\"dataSource\":{\"type\":\"table\",\"name\":\"lineitem_1g_split_year\"},\"intervals\":{\"type\":\"intervals\",\"intervals\":[\"-146136543-09-08T08:23:32.096Z/146140482-04-24T15:36:27.903Z\"]},\"virtualColumns\":[],\"resultFormat\":\"compactedList\",\"batchSize\":20480,\"limit\":9223372036854775807,\"filter\":null,\"columns\":[\"__time\",\"count\",\"l_comment\",\"l_commitdate\",\"l_discount\",\"l_extendedprice\",\"l_linenumber\",\"l_linestatus\",\"l_orderkey\",\"l_partkey\",\"l_quantity\",\"l_receiptdate\",\"l_returnflag\",\"l_shipdate\",\"l_shipinstruct\",\"l_shipmode\",\"l_suppkey\",\"l_tax\"],\"legacy\":false,\"context\":{},\"descending\":false})]\r\n\tat org.apache.calcite.plan.volcano.VolcanoRuleCall.onMatch(VolcanoRuleCall.java:235) ~[calcite-core-1.12.0.jar:1.12.0]\r\n\tat org.apache.calcite.plan.volcano.VolcanoPlanner.findBestExp(VolcanoPlanner.java:650) ~[calcite-core-1.12.0.jar:1.12.0]\r\n\tat org.apache.calcite.tools.Programs$RuleSetProgram.run(Programs.java:368) ~[calcite-core-1.12.0.jar:1.12.0]\r\n\tat org.apache.calcite.prepare.PlannerImpl.transform(PlannerImpl.java:313) ~[calcite-core-1.12.0.jar:1.12.0]\r\n\tat io.druid.sql.calcite.planner.DruidPlanner.planWithDruidConvention(DruidPlanner.java:148) ~[druid-sql-0.11.0-SNAPSHOT.jar:0.11.0-SNAPSHOT]\r\n\tat io.druid.sql.calcite.planner.DruidPlanner.plan(DruidPlanner.java:116) ~[druid-sql-0.11.0-SNAPSHOT.jar:0.11.0-SNAPSHOT]\r\n\tat io.druid.sql.http.SqlResource.doPost(SqlResource.java:88) [druid-sql-0.11.0-SNAPSHOT.jar:0.11.0-SNAPSHOT]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_144]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_144]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_144]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_144]\r\n\tat com.sun.jersey.spi.container.JavaMethodInvokerFactory$1.invoke(JavaMethodInvokerFactory.java:60) [jersey-server-1.19.3.jar:1.19.3]\r\n\tat com.sun.jersey.server.impl.model.method.dispatch.AbstractResourceMethodDispatchProvider$ResponseOutInvoker._dispatch(AbstractResourceMethodDispatchProvider.java:205) [jersey-server-1.19.3.jar:1.19.3]\r\n\tat com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:75) [jersey-server-1.19.3.jar:1.19.3]\r\n\tat com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:302) [jersey-server-1.19.3.jar:1.19.3]\r\n\tat com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:108) [jersey-server-1.19.3.jar:1.19.3]\r\n\tat com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147) [jersey-server-1.19.3.jar:1.19.3]\r\n\tat com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:84) [jersey-server-1.19.3.jar:1.19.3]\r\n\tat com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1542) [jersey-server-1.19.3.jar:1.19.3]\r\n\tat com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1473) [jersey-server-1.19.3.jar:1.19.3]\r\n\tat com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1419) [jersey-server-1.19.3.jar:1.19.3]\r\n\tat com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1409) [jersey-server-1.19.3.jar:1.19.3]\r\n\tat com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:409) [jersey-servlet-1.19.3.jar:1.19.3]\r\n\tat com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:558) [jersey-servlet-1.19.3.jar:1.19.3]\r\n\tat com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:733) [jersey-servlet-1.19.3.jar:1.19.3]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [javax.servlet-api-3.1.0.jar:3.1.0]\r\n\tat com.google.inject.servlet.ServletDefinition.doServiceImpl(ServletDefinition.java:286) [guice-servlet-4.1.0.jar:?]\r\n\tat com.google.inject.servlet.ServletDefinition.doService(ServletDefinition.java:276) [guice-servlet-4.1.0.jar:?]\r\n\tat com.google.inject.servlet.ServletDefinition.service(ServletDefinition.java:181) [guice-servlet-4.1.0.jar:?]\r\n\tat com.google.inject.servlet.ManagedServletPipeline.service(ManagedServletPipeline.java:91) [guice-servlet-4.1.0.jar:?]\r\n\tat com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:85) [guice-servlet-4.1.0.jar:?]\r\n\tat com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:120) [guice-servlet-4.1.0.jar:?]\r\n\tat com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:135) [guice-servlet-4.1.0.jar:?]\r\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759) [jetty-servlet-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat io.druid.server.security.PreResponseAuthorizationCheckFilter.doFilter(PreResponseAuthorizationCheckFilter.java:84) [druid-server-0.11.0-SNAPSHOT.jar:0.11.0-SNAPSHOT]\r\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759) [jetty-servlet-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat io.druid.server.security.AllowAllAuthenticator$1.doFilter(AllowAllAuthenticator.java:83) [druid-server-0.11.0-SNAPSHOT.jar:0.11.0-SNAPSHOT]\r\n\tat io.druid.server.security.AuthenticationWrappingFilter.doFilter(AuthenticationWrappingFilter.java:60) [druid-server-0.11.0-SNAPSHOT.jar:0.11.0-SNAPSHOT]\r\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759) [jetty-servlet-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat io.druid.server.security.SecuritySanityCheckFilter.doFilter(SecuritySanityCheckFilter.java:86) [druid-server-0.11.0-SNAPSHOT.jar:0.11.0-SNAPSHOT]\r\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759) [jetty-servlet-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:582) [jetty-servlet-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:224) [jetty-server-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1180) [jetty-server-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:512) [jetty-servlet-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185) [jetty-server-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1112) [jetty-server-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141) [jetty-server-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat org.eclipse.jetty.server.handler.gzip.GzipHandler.handle(GzipHandler.java:493) [jetty-server-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:52) [jetty-server-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:134) [jetty-server-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat org.eclipse.jetty.server.Server.handle(Server.java:534) [jetty-server-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:320) [jetty-server-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:251) [jetty-server-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:283) [jetty-io-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:108) [jetty-io-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat org.eclipse.jetty.io.SelectChannelEndPoint$2.run(SelectChannelEndPoint.java:93) [jetty-io-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.executeProduceConsume(ExecuteProduceConsume.java:303) [jetty-util-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceConsume(ExecuteProduceConsume.java:148) [jetty-util-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:136) [jetty-util-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:671) [jetty-util-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:589) [jetty-util-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_144]\r\nCaused by: java.lang.RuntimeException: Error occurred while applying rule DruidFilterRule\r\n\tat org.apache.calcite.plan.volcano.VolcanoRuleCall.transformTo(VolcanoRuleCall.java:148) ~[calcite-core-1.12.0.jar:1.12.0]\r\n\tat org.apache.calcite.plan.RelOptRuleCall.transformTo(RelOptRuleCall.java:225) ~[calcite-core-1.12.0.jar:1.12.0]\r\n\tat io.druid.sql.calcite.rule.DruidFilterRule.onMatch(DruidFilterRule.java:58) ~[druid-sql-0.11.0-SNAPSHOT.jar:0.11.0-SNAPSHOT]\r\n\tat org.apache.calcite.plan.volcano.VolcanoRuleCall.onMatch(VolcanoRuleCall.java:211) ~[calcite-core-1.12.0.jar:1.12.0]\r\n\t... 62 more\r\nCaused by: java.lang.UnsupportedOperationException: replaceInput called on rel#374:DruidOuterQueryRel.NONE.[](innerQuery=rel#358:Subset#11.NONE.[],query={\"queryType\":\"groupBy\",\"dataSource\":{\"type\":\"table\",\"name\":\"__subquery__\"},\"intervals\":{\"type\":\"intervals\",\"intervals\":[\"-146136543-09-08T08:23:32.096Z/146140482-04-24T15:36:27.903Z\"]},\"virtualColumns\":[],\"filter\":null,\"granularity\":{\"type\":\"all\"},\"dimensions\":[{\"type\":\"extraction\",\"dimension\":\"a0\",\"outputName\":\"d0\",\"outputType\":\"LONG\",\"extractionFn\":{\"type\":\"timeFormat\",\"format\":null,\"timeZone\":null,\"locale\":null,\"granularity\":\"HOUR\",\"asMillis\":true}},{\"type\":\"default\",\"dimension\":\"d0\",\"outputName\":\"d1\",\"outputType\":\"STRING\"}],\"aggregations\":[{\"type\":\"filtered\",\"aggregator\":{\"type\":\"count\",\"name\":\"a0\"},\"filter\":{\"type\":\"not\",\"field\":{\"type\":\"selector\",\"dimension\":\"d1\",\"value\":\"\",\"extractionFn\":null}},\"name\":\"a0\"}],\"postAggregations\":[],\"having\":null,\"limitSpec\":{\"type\":\"NoopLimitSpec\"},\"context\":{},\"descending\":false})\r\n\tat org.apache.calcite.rel.AbstractRelNode.replaceInput(AbstractRelNode.java:372) ~[calcite-core-1.12.0.jar:1.12.0]\r\n\tat org.apache.calcite.plan.volcano.VolcanoPlanner.fixUpInputs(VolcanoPlanner.java:1379) ~[calcite-core-1.12.0.jar:1.12.0]\r\n\tat org.apache.calcite.plan.volcano.VolcanoPlanner.rename(VolcanoPlanner.java:1249) ~[calcite-core-1.12.0.jar:1.12.0]\r\n\tat org.apache.calcite.plan.volcano.RelSet.mergeWith(RelSet.java:345) ~[calcite-core-1.12.0.jar:1.12.0]\r\n\tat org.apache.calcite.plan.volcano.VolcanoPlanner.merge(VolcanoPlanner.java:1413) ~[calcite-core-1.12.0.jar:1.12.0]\r\n\tat org.apache.calcite.plan.volcano.VolcanoPlanner.rename(VolcanoPlanner.java:1291) ~[calcite-core-1.12.0.jar:1.12.0]\r\n\tat org.apache.calcite.plan.volcano.RelSet.mergeWith(RelSet.java:345) ~[calcite-core-1.12.0.jar:1.12.0]\r\n\tat org.apache.calcite.plan.volcano.VolcanoPlanner.merge(VolcanoPlanner.java:1413) ~[calcite-core-1.12.0.jar:1.12.0]\r\n\tat org.apache.calcite.plan.volcano.VolcanoPlanner.registerSubset(VolcanoPlanner.java:1669) ~[calcite-core-1.12.0.jar:1.12.0]\r\n\tat org.apache.calcite.plan.volcano.VolcanoPlanner.registerImpl(VolcanoPlanner.java:1530) ~[calcite-core-1.12.0.jar:1.12.0]\r\n\tat org.apache.calcite.plan.volcano.VolcanoPlanner.register(VolcanoPlanner.java:863) ~[calcite-core-1.12.0.jar:1.12.0]\r\n\tat org.apache.calcite.plan.volcano.VolcanoPlanner.ensureRegistered(VolcanoPlanner.java:883) ~[calcite-core-1.12.0.jar:1.12.0]\r\n\tat org.apache.calcite.plan.volcano.VolcanoPlanner.ensureRegistered(VolcanoPlanner.java:1769) ~[calcite-core-1.12.0.jar:1.12.0]\r\n\tat org.apache.calcite.plan.volcano.VolcanoRuleCall.transformTo(VolcanoRuleCall.java:135) ~[calcite-core-1.12.0.jar:1.12.0]\r\n\tat org.apache.calcite.plan.RelOptRuleCall.transformTo(RelOptRuleCall.java:225) ~[calcite-core-1.12.0.jar:1.12.0]\r\n\tat io.druid.sql.calcite.rule.DruidFilterRule.onMatch(DruidFilterRule.java:58) ~[druid-sql-0.11.0-SNAPSHOT.jar:0.11.0-SNAPSHOT]\r\n\tat org.apache.calcite.plan.volcano.VolcanoRuleCall.onMatch(VolcanoRuleCall.java:211) ~[calcite-core-1.12.0.jar:1.12.0]\r\n\t... 62 more\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331605287/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331717225","html_url":"https://github.com/apache/druid/pull/4758#issuecomment-331717225","issue_url":"https://api.github.com/repos/apache/druid/issues/4758","id":331717225,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTcxNzIyNQ==","user":{"login":"a2l007","id":4603202,"node_id":"MDQ6VXNlcjQ2MDMyMDI=","avatar_url":"https://avatars.githubusercontent.com/u/4603202?v=4","gravatar_id":"","url":"https://api.github.com/users/a2l007","html_url":"https://github.com/a2l007","followers_url":"https://api.github.com/users/a2l007/followers","following_url":"https://api.github.com/users/a2l007/following{/other_user}","gists_url":"https://api.github.com/users/a2l007/gists{/gist_id}","starred_url":"https://api.github.com/users/a2l007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/a2l007/subscriptions","organizations_url":"https://api.github.com/users/a2l007/orgs","repos_url":"https://api.github.com/users/a2l007/repos","events_url":"https://api.github.com/users/a2l007/events{/privacy}","received_events_url":"https://api.github.com/users/a2l007/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-24T15:26:33Z","updated_at":"2017-09-24T15:26:33Z","author_association":"CONTRIBUTOR","body":"@drcrallen Do you have any other comments? I have made changes according to your previous ones.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331717225/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331725512","html_url":"https://github.com/apache/druid/issues/3851#issuecomment-331725512","issue_url":"https://api.github.com/repos/apache/druid/issues/3851","id":331725512,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTcyNTUxMg==","user":{"login":"k29913x","id":6055214,"node_id":"MDQ6VXNlcjYwNTUyMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6055214?v=4","gravatar_id":"","url":"https://api.github.com/users/k29913x","html_url":"https://github.com/k29913x","followers_url":"https://api.github.com/users/k29913x/followers","following_url":"https://api.github.com/users/k29913x/following{/other_user}","gists_url":"https://api.github.com/users/k29913x/gists{/gist_id}","starred_url":"https://api.github.com/users/k29913x/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/k29913x/subscriptions","organizations_url":"https://api.github.com/users/k29913x/orgs","repos_url":"https://api.github.com/users/k29913x/repos","events_url":"https://api.github.com/users/k29913x/events{/privacy}","received_events_url":"https://api.github.com/users/k29913x/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-24T17:29:42Z","updated_at":"2017-09-24T17:29:42Z","author_association":"NONE","body":"@gianm hi gianm, I am stuck with this issue too. and the historical node wasn't aware of the indexing task at all. so definitely there is no segment file generated. That is not so \"harmless\" in \bour case...\r\nDo you know what the reason is causing this problem? I can't find any other error log message to debug. Great appreciation if there is any workaround to avoid this issue. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331725512/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331726172","html_url":"https://github.com/apache/druid/pull/4532#issuecomment-331726172","issue_url":"https://api.github.com/repos/apache/druid/issues/4532","id":331726172,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTcyNjE3Mg==","user":{"login":"chunghochen","id":254066,"node_id":"MDQ6VXNlcjI1NDA2Ng==","avatar_url":"https://avatars.githubusercontent.com/u/254066?v=4","gravatar_id":"","url":"https://api.github.com/users/chunghochen","html_url":"https://github.com/chunghochen","followers_url":"https://api.github.com/users/chunghochen/followers","following_url":"https://api.github.com/users/chunghochen/following{/other_user}","gists_url":"https://api.github.com/users/chunghochen/gists{/gist_id}","starred_url":"https://api.github.com/users/chunghochen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chunghochen/subscriptions","organizations_url":"https://api.github.com/users/chunghochen/orgs","repos_url":"https://api.github.com/users/chunghochen/repos","events_url":"https://api.github.com/users/chunghochen/events{/privacy}","received_events_url":"https://api.github.com/users/chunghochen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-24T17:40:23Z","updated_at":"2017-09-24T17:40:23Z","author_association":"CONTRIBUTOR","body":"Hopefully this pull request can be merged in when the codeline is open? :-)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331726172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331757508","html_url":"https://github.com/apache/druid/issues/4835#issuecomment-331757508","issue_url":"https://api.github.com/repos/apache/druid/issues/4835","id":331757508,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTc1NzUwOA==","user":{"login":"stevenchen3","id":2478428,"node_id":"MDQ6VXNlcjI0Nzg0Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/2478428?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenchen3","html_url":"https://github.com/stevenchen3","followers_url":"https://api.github.com/users/stevenchen3/followers","following_url":"https://api.github.com/users/stevenchen3/following{/other_user}","gists_url":"https://api.github.com/users/stevenchen3/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenchen3/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenchen3/subscriptions","organizations_url":"https://api.github.com/users/stevenchen3/orgs","repos_url":"https://api.github.com/users/stevenchen3/repos","events_url":"https://api.github.com/users/stevenchen3/events{/privacy}","received_events_url":"https://api.github.com/users/stevenchen3/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-25T01:48:54Z","updated_at":"2017-09-25T01:48:54Z","author_association":"NONE","body":"Got the same here.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331757508/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331764344","html_url":"https://github.com/apache/druid/issues/4835#issuecomment-331764344","issue_url":"https://api.github.com/repos/apache/druid/issues/4835","id":331764344,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTc2NDM0NA==","user":{"login":"almike","id":1705051,"node_id":"MDQ6VXNlcjE3MDUwNTE=","avatar_url":"https://avatars.githubusercontent.com/u/1705051?v=4","gravatar_id":"","url":"https://api.github.com/users/almike","html_url":"https://github.com/almike","followers_url":"https://api.github.com/users/almike/followers","following_url":"https://api.github.com/users/almike/following{/other_user}","gists_url":"https://api.github.com/users/almike/gists{/gist_id}","starred_url":"https://api.github.com/users/almike/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/almike/subscriptions","organizations_url":"https://api.github.com/users/almike/orgs","repos_url":"https://api.github.com/users/almike/repos","events_url":"https://api.github.com/users/almike/events{/privacy}","received_events_url":"https://api.github.com/users/almike/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-25T02:50:12Z","updated_at":"2017-09-25T02:50:12Z","author_association":"NONE","body":"yeah this is a major issue for us as well","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331764344/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331930330","html_url":"https://github.com/apache/druid/issues/4841#issuecomment-331930330","issue_url":"https://api.github.com/repos/apache/druid/issues/4841","id":331930330,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTkzMDMzMA==","user":{"login":"sata","id":226054,"node_id":"MDQ6VXNlcjIyNjA1NA==","avatar_url":"https://avatars.githubusercontent.com/u/226054?v=4","gravatar_id":"","url":"https://api.github.com/users/sata","html_url":"https://github.com/sata","followers_url":"https://api.github.com/users/sata/followers","following_url":"https://api.github.com/users/sata/following{/other_user}","gists_url":"https://api.github.com/users/sata/gists{/gist_id}","starred_url":"https://api.github.com/users/sata/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sata/subscriptions","organizations_url":"https://api.github.com/users/sata/orgs","repos_url":"https://api.github.com/users/sata/repos","events_url":"https://api.github.com/users/sata/events{/privacy}","received_events_url":"https://api.github.com/users/sata/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-25T16:06:52Z","updated_at":"2017-09-25T16:06:52Z","author_association":"NONE","body":"I've seen threads in google groups but I can't see a solution there. Example: https://groups.google.com/forum/?#!msg/druid-user/HhcMkkbKRXI/6BYEs8HDAgAJ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331930330/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331943449","html_url":"https://github.com/apache/druid/pull/4833#issuecomment-331943449","issue_url":"https://api.github.com/repos/apache/druid/issues/4833","id":331943449,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTk0MzQ0OQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-25T16:52:13Z","updated_at":"2017-09-25T16:52:13Z","author_association":"CONTRIBUTOR","body":"In the original (pre 0.10.x) lookups this would be risky since it didn't make any assumptions about who was loading lookups, and it would have been possible to have race conditions with multiple lookup managers. But with the current implementation of \"dictator mode\" for the coordinator's management of lookups, this should be ok.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331943449/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331972801","html_url":"https://github.com/apache/druid/issues/4841#issuecomment-331972801","issue_url":"https://api.github.com/repos/apache/druid/issues/4841","id":331972801,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTk3MjgwMQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-25T18:35:09Z","updated_at":"2017-09-25T18:35:09Z","author_association":"CONTRIBUTOR","body":"@sata Can you try adding `mapreduce.job.classloader = true` or `mapreduce.job.user.classpath.first = true` to the tuningConfig -> jobProperties of the ingestion spec","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331972801/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331979887","html_url":"https://github.com/apache/druid/pull/4842#issuecomment-331979887","issue_url":"https://api.github.com/repos/apache/druid/issues/4842","id":331979887,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTk3OTg4Nw==","user":{"login":"bolkedebruin","id":4282712,"node_id":"MDQ6VXNlcjQyODI3MTI=","avatar_url":"https://avatars.githubusercontent.com/u/4282712?v=4","gravatar_id":"","url":"https://api.github.com/users/bolkedebruin","html_url":"https://github.com/bolkedebruin","followers_url":"https://api.github.com/users/bolkedebruin/followers","following_url":"https://api.github.com/users/bolkedebruin/following{/other_user}","gists_url":"https://api.github.com/users/bolkedebruin/gists{/gist_id}","starred_url":"https://api.github.com/users/bolkedebruin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bolkedebruin/subscriptions","organizations_url":"https://api.github.com/users/bolkedebruin/orgs","repos_url":"https://api.github.com/users/bolkedebruin/repos","events_url":"https://api.github.com/users/bolkedebruin/events{/privacy}","received_events_url":"https://api.github.com/users/bolkedebruin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-25T19:00:35Z","updated_at":"2017-09-25T19:00:35Z","author_association":"CONTRIBUTOR","body":"O interesting the check style errors do not happen locally.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331979887/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331980483","html_url":"https://github.com/apache/druid/issues/4203#issuecomment-331980483","issue_url":"https://api.github.com/repos/apache/druid/issues/4203","id":331980483,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTk4MDQ4Mw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-25T19:02:49Z","updated_at":"2017-09-25T19:02:49Z","author_association":"CONTRIBUTOR","body":"This should be solvable when Calcite 1.14 is released, by using the functionality from https://issues.apache.org/jira/browse/CALCITE-1874 to disable the inline table conversion.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331980483/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/331987572","html_url":"https://github.com/apache/druid/issues/4838#issuecomment-331987572","issue_url":"https://api.github.com/repos/apache/druid/issues/4838","id":331987572,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTk4NzU3Mg==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-25T19:31:31Z","updated_at":"2017-09-25T19:31:31Z","author_association":"CONTRIBUTOR","body":"thanks, good to know. I think we should put that in druid 0.11.0 release notes too.\r\n\r\nThat said, I think proper way to fix this is to have a separate \"druid_lookups\" table for storing lookups instead of using config table and have separate rows for separate lookups in DB like we do for segments, tasks etc.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/331987572/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/332015315","html_url":"https://github.com/apache/druid/pull/4764#issuecomment-332015315","issue_url":"https://api.github.com/repos/apache/druid/issues/4764","id":332015315,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjAxNTMxNQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-25T21:15:33Z","updated_at":"2017-09-25T21:15:33Z","author_association":"CONTRIBUTOR","body":"@niketh the point @himanshug made about not loosing a query during shutdown after handoff should be called out in the master comment.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/332015315/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/332027048","html_url":"https://github.com/apache/druid/issues/4843#issuecomment-332027048","issue_url":"https://api.github.com/repos/apache/druid/issues/4843","id":332027048,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjAyNzA0OA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-25T22:03:13Z","updated_at":"2017-09-25T22:03:13Z","author_association":"CONTRIBUTOR","body":"@a2l007 can you please look into this? thanks.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/332027048/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/332028777","html_url":"https://github.com/apache/druid/issues/4843#issuecomment-332028777","issue_url":"https://api.github.com/repos/apache/druid/issues/4843","id":332028777,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjAyODc3Nw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-25T22:11:20Z","updated_at":"2017-09-25T22:11:20Z","author_association":"CONTRIBUTOR","body":"> Considering query results could be very large also, so there would be an upper limit on the size of response that could be cached.\r\n\r\nIf implemented for the regular cache, then we could enable groupBy caching by default, as there would be no concern about blowing through the cache too early.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/332028777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/332051920","html_url":"https://github.com/apache/druid/pull/4842#issuecomment-332051920","issue_url":"https://api.github.com/repos/apache/druid/issues/4842","id":332051920,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjA1MTkyMA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-26T00:36:23Z","updated_at":"2017-09-26T00:36:23Z","author_association":"CONTRIBUTOR","body":"While we've never had full support for Windows, we've never actually included code that explicitly forbade it. Can you document more about what will and won't work after this patch?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/332051920/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/332073277","html_url":"https://github.com/apache/druid/issues/4835#issuecomment-332073277","issue_url":"https://api.github.com/repos/apache/druid/issues/4835","id":332073277,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjA3MzI3Nw==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-26T03:06:29Z","updated_at":"2017-09-26T03:06:29Z","author_association":"CONTRIBUTOR","body":"It appears that in Druid 0.10.1 (vs 0.10.0) non-query nodes (coordinator, overlord) can not load query extensions.\r\nPreviously in 0.10.0 they were simply ignored.\r\nThis is technically a regression I pray to the Druid gods that it will be fixed in 0.11.0\r\nThere is a very simple work-around for now: only load the scan query on the query nodes, broker, historical, etc.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/332073277/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/332080068","html_url":"https://github.com/apache/druid/issues/4835#issuecomment-332080068","issue_url":"https://api.github.com/repos/apache/druid/issues/4835","id":332080068,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjA4MDA2OA==","user":{"login":"almike","id":1705051,"node_id":"MDQ6VXNlcjE3MDUwNTE=","avatar_url":"https://avatars.githubusercontent.com/u/1705051?v=4","gravatar_id":"","url":"https://api.github.com/users/almike","html_url":"https://github.com/almike","followers_url":"https://api.github.com/users/almike/followers","following_url":"https://api.github.com/users/almike/following{/other_user}","gists_url":"https://api.github.com/users/almike/gists{/gist_id}","starred_url":"https://api.github.com/users/almike/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/almike/subscriptions","organizations_url":"https://api.github.com/users/almike/orgs","repos_url":"https://api.github.com/users/almike/repos","events_url":"https://api.github.com/users/almike/events{/privacy}","received_events_url":"https://api.github.com/users/almike/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-26T04:00:47Z","updated_at":"2017-09-26T04:00:47Z","author_association":"NONE","body":"thanks @vogievetsky, we will try that out!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/332080068/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/332086407","html_url":"https://github.com/apache/druid/pull/4842#issuecomment-332086407","issue_url":"https://api.github.com/repos/apache/druid/issues/4842","id":332086407,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjA4NjQwNw==","user":{"login":"bolkedebruin","id":4282712,"node_id":"MDQ6VXNlcjQyODI3MTI=","avatar_url":"https://avatars.githubusercontent.com/u/4282712?v=4","gravatar_id":"","url":"https://api.github.com/users/bolkedebruin","html_url":"https://github.com/bolkedebruin","followers_url":"https://api.github.com/users/bolkedebruin/followers","following_url":"https://api.github.com/users/bolkedebruin/following{/other_user}","gists_url":"https://api.github.com/users/bolkedebruin/gists{/gist_id}","starred_url":"https://api.github.com/users/bolkedebruin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bolkedebruin/subscriptions","organizations_url":"https://api.github.com/users/bolkedebruin/orgs","repos_url":"https://api.github.com/users/bolkedebruin/repos","events_url":"https://api.github.com/users/bolkedebruin/events{/privacy}","received_events_url":"https://api.github.com/users/bolkedebruin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-26T04:57:11Z","updated_at":"2017-09-26T05:57:53Z","author_association":"CONTRIBUTOR","body":"It will still work on Windows, but it will use the os cache then. There is no change in functionality for other oses. \r\n\r\nThey way I have implemented it is equivalent to what Cassandra is doing.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/332086407/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/332129841","html_url":"https://github.com/apache/druid/issues/4670#issuecomment-332129841","issue_url":"https://api.github.com/repos/apache/druid/issues/4670","id":332129841,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjEyOTg0MQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-26T08:45:23Z","updated_at":"2017-09-26T08:45:23Z","author_association":"CONTRIBUTOR","body":"I raised https://github.com/druid-io/druid/issues/4847 because it looks that this error is different from the original one.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/332129841/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/332154971","html_url":"https://github.com/apache/druid/issues/4835#issuecomment-332154971","issue_url":"https://api.github.com/repos/apache/druid/issues/4835","id":332154971,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjE1NDk3MQ==","user":{"login":"KenjiTakahashi","id":431488,"node_id":"MDQ6VXNlcjQzMTQ4OA==","avatar_url":"https://avatars.githubusercontent.com/u/431488?v=4","gravatar_id":"","url":"https://api.github.com/users/KenjiTakahashi","html_url":"https://github.com/KenjiTakahashi","followers_url":"https://api.github.com/users/KenjiTakahashi/followers","following_url":"https://api.github.com/users/KenjiTakahashi/following{/other_user}","gists_url":"https://api.github.com/users/KenjiTakahashi/gists{/gist_id}","starred_url":"https://api.github.com/users/KenjiTakahashi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KenjiTakahashi/subscriptions","organizations_url":"https://api.github.com/users/KenjiTakahashi/orgs","repos_url":"https://api.github.com/users/KenjiTakahashi/repos","events_url":"https://api.github.com/users/KenjiTakahashi/events{/privacy}","received_events_url":"https://api.github.com/users/KenjiTakahashi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-26T10:23:06Z","updated_at":"2017-09-26T10:23:06Z","author_association":"CONTRIBUTOR","body":"@vogievetsky Thanks, that's what I figured out as well. Still not sure about my question at the bottom of the first post, though. It is not clear to me what will happen in such scenario.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/332154971/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/332268787","html_url":"https://github.com/apache/druid/issues/4670#issuecomment-332268787","issue_url":"https://api.github.com/repos/apache/druid/issues/4670","id":332268787,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjI2ODc4Nw==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-26T17:11:01Z","updated_at":"2017-09-26T17:11:01Z","author_association":"CONTRIBUTOR","body":"There have been a lot of updates since 0.10.0 in this code area. This will be closed as \"Unable to reproduce\" until a reproducible test case against a recent release can be created.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/332268787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]