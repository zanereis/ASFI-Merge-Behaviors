[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742225286","html_url":"https://github.com/apache/iceberg/pull/1822#issuecomment-742225286","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1822","id":742225286,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjIyNTI4Ng==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T04:06:32Z","updated_at":"2020-12-10T04:06:32Z","author_association":"MEMBER","body":"Merged this PR, thanks @zhangjun0x01 for contributing.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742225286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742267085","html_url":"https://github.com/apache/iceberg/pull/1850#issuecomment-742267085","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1850","id":742267085,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjI2NzA4NQ==","user":{"login":"zhangdove","id":25578853,"node_id":"MDQ6VXNlcjI1NTc4ODUz","avatar_url":"https://avatars.githubusercontent.com/u/25578853?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangdove","html_url":"https://github.com/zhangdove","followers_url":"https://api.github.com/users/zhangdove/followers","following_url":"https://api.github.com/users/zhangdove/following{/other_user}","gists_url":"https://api.github.com/users/zhangdove/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangdove/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangdove/subscriptions","organizations_url":"https://api.github.com/users/zhangdove/orgs","repos_url":"https://api.github.com/users/zhangdove/repos","events_url":"https://api.github.com/users/zhangdove/events{/privacy}","received_events_url":"https://api.github.com/users/zhangdove/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T06:15:25Z","updated_at":"2020-12-10T06:15:25Z","author_association":"CONTRIBUTOR","body":"When creating tables and writing data using HiveCatalog, the associated properties need to be added to SparkSession, otherwise the Hive client read no data. \r\n```scala\r\n    val spark = SparkSession\r\n      .builder()\r\n      .master(\"local[2]\")\r\n      .appName(\"IcebergAPI\")\r\n      .config(\"spark.sql.catalog.hive_prod\", \"org.apache.iceberg.spark.SparkCatalog\")\r\n      .config(\"spark.sql.catalog.hive_prod.type\", \"hive\")\r\n      .config(\"spark.sql.catalog.hive_prod.uri\", \"thrift://localhost:9083\")\r\n      .config(\"iceberg.engine.hive.enabled\", \"true\")\r\n      .enableHiveSupport()\r\n      .getOrCreate()\r\n```\r\n\r\nClose this PR.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742267085/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742267798","html_url":"https://github.com/apache/iceberg/issues/1831#issuecomment-742267798","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1831","id":742267798,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjI2Nzc5OA==","user":{"login":"zhangdove","id":25578853,"node_id":"MDQ6VXNlcjI1NTc4ODUz","avatar_url":"https://avatars.githubusercontent.com/u/25578853?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangdove","html_url":"https://github.com/zhangdove","followers_url":"https://api.github.com/users/zhangdove/followers","following_url":"https://api.github.com/users/zhangdove/following{/other_user}","gists_url":"https://api.github.com/users/zhangdove/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangdove/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangdove/subscriptions","organizations_url":"https://api.github.com/users/zhangdove/orgs","repos_url":"https://api.github.com/users/zhangdove/repos","events_url":"https://api.github.com/users/zhangdove/events{/privacy}","received_events_url":"https://api.github.com/users/zhangdove/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T06:17:12Z","updated_at":"2020-12-10T06:17:12Z","author_association":"CONTRIBUTOR","body":"Thanks for all reply. Modify the usage to work properly.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742267798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742280436","html_url":"https://github.com/apache/iceberg/pull/1850#issuecomment-742280436","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1850","id":742280436,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjI4MDQzNg==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T06:47:48Z","updated_at":"2020-12-10T06:47:48Z","author_association":"CONTRIBUTOR","body":"@zhangdove: Thanks for bringing this up, and confirming the solution! @massdosage: do we want to clarify this in the doc? I think we should mention that `!everyone!` modifying the table should have the `iceberg.engine.hive.enabled` set if the `engine.hive.enabled` Iceberg table property is not set. What do you think? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742280436/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742363762","html_url":"https://github.com/apache/iceberg/pull/1844#issuecomment-742363762","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1844","id":742363762,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjM2Mzc2Mg==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T08:24:50Z","updated_at":"2020-12-10T08:24:50Z","author_association":"CONTRIBUTOR","body":">     * CatalogProperties: I'm not sure what these are? \r\n\r\nIn the context of Spark, it is the `Map<String, String> argument` of spark source. It is just generalized also for Flink (and any other use case that can accept a map).\r\n\r\n> Should a file io be created just for the json file and then a new file io be created for the other part of the table after reading the table properties? (manifest list/ manifest + data files?)\r\n\r\nThat is why FileIO is treated as a catalog property instead of a table property, to avoid this complication.\r\n \r\n> Where should the kms key id go? Is that a per table thing to write new data files (table properties) or is it a user/system defined property which should go in the arguments?\r\n\r\nWith the same reasoning as FileIO, if you put KMS key as a table property, then you need to create a table to know the KMS key, which needs to write to S3 and cause a circular dependency. \r\n\r\nI do agree there is a use case for one KMS key per table, that can be added in the future if there is such a request, with the KMS key in catalog property as default, and the one in table property as an override.\r\n\r\nPlease let me know if these answer your question.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742363762/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742408491","html_url":"https://github.com/apache/iceberg/pull/1850#issuecomment-742408491","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1850","id":742408491,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjQwODQ5MQ==","user":{"login":"massdosage","id":29457,"node_id":"MDQ6VXNlcjI5NDU3","avatar_url":"https://avatars.githubusercontent.com/u/29457?v=4","gravatar_id":"","url":"https://api.github.com/users/massdosage","html_url":"https://github.com/massdosage","followers_url":"https://api.github.com/users/massdosage/followers","following_url":"https://api.github.com/users/massdosage/following{/other_user}","gists_url":"https://api.github.com/users/massdosage/gists{/gist_id}","starred_url":"https://api.github.com/users/massdosage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massdosage/subscriptions","organizations_url":"https://api.github.com/users/massdosage/orgs","repos_url":"https://api.github.com/users/massdosage/repos","events_url":"https://api.github.com/users/massdosage/events{/privacy}","received_events_url":"https://api.github.com/users/massdosage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T09:47:31Z","updated_at":"2020-12-10T09:47:31Z","author_association":"CONTRIBUTOR","body":"> @zhangdove: Thanks for bringing this up, and confirming the solution! @massdosage: do we want to clarify this in the doc? I think we should mention that `!everyone!` modifying the table should have the `iceberg.engine.hive.enabled` set if the `engine.hive.enabled` Iceberg table property is not set. What do you think?\r\n\r\nWell, at https://iceberg.apache.org/hive/ -> \"Using Hive Catalog\" -> \"Hive Configuration\" and \"Table Property Configuration\" we already cover that don't we?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742408491/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742414487","html_url":"https://github.com/apache/iceberg/pull/1897#issuecomment-742414487","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1897","id":742414487,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjQxNDQ4Nw==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T09:58:12Z","updated_at":"2020-12-10T09:58:12Z","author_association":"CONTRIBUTOR","body":"Do we need to change `HiveSchemaConverter`?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742414487/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742434651","html_url":"https://github.com/apache/iceberg/pull/1850#issuecomment-742434651","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1850","id":742434651,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjQzNDY1MQ==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T10:34:00Z","updated_at":"2020-12-10T10:34:00Z","author_association":"CONTRIBUTOR","body":"> > @zhangdove: Thanks for bringing this up, and confirming the solution! @massdosage: do we want to clarify this in the doc? I think we should mention that `!everyone!` modifying the table should have the `iceberg.engine.hive.enabled` set if the `engine.hive.enabled` Iceberg table property is not set. What do you think?\r\n> \r\n> Well, at https://iceberg.apache.org/hive/ -> \"Using Hive Catalog\" -> \"Hive Configuration\" and \"Table Property Configuration\" we already cover that don't we?\r\n\r\nWe write that there:\r\n> The value iceberg.engine.hive.enabled needs to be set to true and added to the Hive configuration file on the classpath of the application creating the table. \r\n\r\nMaybe we should extend it like this:\r\n\r\n> The value iceberg.engine.hive.enabled needs to be set to true and added to the Hive configuration file on the classpath of the application creating or modifying (alter/insert etc) the table. \r\n\r\nWould this be more clear? Asking you not only as a fellow Iceberg developer but as a native English speaker as well ðŸ˜ƒ \r\nThanks,\r\nPeter\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742434651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742435832","html_url":"https://github.com/apache/iceberg/pull/1850#issuecomment-742435832","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1850","id":742435832,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjQzNTgzMg==","user":{"login":"massdosage","id":29457,"node_id":"MDQ6VXNlcjI5NDU3","avatar_url":"https://avatars.githubusercontent.com/u/29457?v=4","gravatar_id":"","url":"https://api.github.com/users/massdosage","html_url":"https://github.com/massdosage","followers_url":"https://api.github.com/users/massdosage/followers","following_url":"https://api.github.com/users/massdosage/following{/other_user}","gists_url":"https://api.github.com/users/massdosage/gists{/gist_id}","starred_url":"https://api.github.com/users/massdosage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massdosage/subscriptions","organizations_url":"https://api.github.com/users/massdosage/orgs","repos_url":"https://api.github.com/users/massdosage/repos","events_url":"https://api.github.com/users/massdosage/events{/privacy}","received_events_url":"https://api.github.com/users/massdosage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T10:36:06Z","updated_at":"2020-12-10T10:36:06Z","author_association":"CONTRIBUTOR","body":"OK, so the nuance here is that one doesn't need that property set just when creating the table but also when updating it in any way? If so the above sounds fine.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742435832/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742473365","html_url":"https://github.com/apache/iceberg/pull/1850#issuecomment-742473365","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1850","id":742473365,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjQ3MzM2NQ==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T11:50:58Z","updated_at":"2020-12-10T11:50:58Z","author_association":"CONTRIBUTOR","body":"> OK, so the nuance here is that one doesn't need that property set just when creating the table but also when updating it in any way? If so the above sounds fine.\r\n\r\nThanks. Created #1902","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742473365/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742489830","html_url":"https://github.com/apache/iceberg/pull/1861#issuecomment-742489830","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1861","id":742489830,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjQ4OTgzMA==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T12:25:42Z","updated_at":"2020-12-10T12:25:42Z","author_association":"CONTRIBUTOR","body":"@rdblue: Cleaned up the commits, and rebased the patch. If you have time could you please check out this PR?\r\nThanks,\r\nPeter","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742489830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742503204","html_url":"https://github.com/apache/iceberg/pull/1783#issuecomment-742503204","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1783","id":742503204,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjUwMzIwNA==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T12:54:27Z","updated_at":"2020-12-10T12:54:27Z","author_association":"CONTRIBUTOR","body":"Rebased and cleaned up based on these comments. Thanks @rdblue \r\n\r\nOne thing I wanted to make explicit. The test `TestSparkSchema3` has been removed as `SupportsCatalogOptions` doesn't allow to specify the schema. This introduces a breaking change between Spark2.4 and Spark3 based `IcebergSource`. See https://github.com/apache/spark/blob/master/sql/core/src/main/scala/org/apache/spark/sql/DataFrameReader.scala#L284","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742503204/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742524425","html_url":"https://github.com/apache/iceberg/issues/1904#issuecomment-742524425","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1904","id":742524425,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjUyNDQyNQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T13:34:59Z","updated_at":"2020-12-10T13:34:59Z","author_association":"CONTRIBUTOR","body":"Internally, we have a utility method like this:\r\n\r\n```\r\n  /**\r\n   * Execute a block of code and call the failure callbacks in the catch block. If exceptions occur\r\n   * in either the catch or the finally block, they are appended to the list of suppressed\r\n   * exceptions in original exception which is then rethrown.\r\n   *\r\n   * This is primarily an issue with `catch { abort() }` or `finally { out.close() }` blocks,\r\n   * where the abort/close needs to be called to clean up `out`, but if an exception happened\r\n   * in `out.write`, it's likely `out` may be corrupted and `abort` or `out.close` will\r\n   * fail as well. This would then suppress the original/likely more meaningful\r\n   * exception from the original `out.write` call.\r\n   */\r\n  def tryWithSafeFinallyAndFailureCallbacks[T](block: => T)(catchBlock: => Unit = (), finallyBlock: => Unit = ()): T = {\r\n    var originalThrowable: Throwable = null\r\n    try {\r\n      block\r\n    } catch {\r\n      case cause: Throwable =>\r\n        originalThrowable = cause\r\n        try {\r\n          catchBlock\r\n        } catch {\r\n          case t: Throwable =>\r\n            if (originalThrowable != t) {\r\n              originalThrowable.addSuppressed(t)\r\n            }\r\n        }\r\n        throw originalThrowable\r\n    } finally {\r\n      try {\r\n        finallyBlock\r\n      } catch {\r\n        case t: Throwable if originalThrowable != null && originalThrowable != t =>\r\n          originalThrowable.addSuppressed(t)\r\n          throw originalThrowable\r\n      }\r\n    }\r\n  }\r\n```\r\n\r\nI think we need a similar variant in Java in Iceberg.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742524425/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742524888","html_url":"https://github.com/apache/iceberg/issues/1904#issuecomment-742524888","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1904","id":742524888,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjUyNDg4OA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T13:35:53Z","updated_at":"2020-12-10T13:35:53Z","author_association":"CONTRIBUTOR","body":"@rdblue @RussellSpitzer, thoughts? I think we can leverage it other places too.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742524888/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742526994","html_url":"https://github.com/apache/iceberg/pull/1903#issuecomment-742526994","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1903","id":742526994,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjUyNjk5NA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T13:39:56Z","updated_at":"2020-12-10T13:39:56Z","author_association":"CONTRIBUTOR","body":"I am going to merge this one as @rymurr approved it. It should reduce the verification time for PRs.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742526994/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742580227","html_url":"https://github.com/apache/iceberg/pull/1903#issuecomment-742580227","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1903","id":742580227,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjU4MDIyNw==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T15:09:48Z","updated_at":"2020-12-10T15:09:48Z","author_association":"CONTRIBUTOR","body":"interestingly this doesn't seem to have affected the run time for the CI job on master. Could be related to the load on the CI servers but the long job (java 8) actually took fractionally longer compared to last master run.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742580227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742584273","html_url":"https://github.com/apache/iceberg/pull/1897#issuecomment-742584273","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1897","id":742584273,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjU4NDI3Mw==","user":{"login":"marton-bod","id":19599214,"node_id":"MDQ6VXNlcjE5NTk5MjE0","avatar_url":"https://avatars.githubusercontent.com/u/19599214?v=4","gravatar_id":"","url":"https://api.github.com/users/marton-bod","html_url":"https://github.com/marton-bod","followers_url":"https://api.github.com/users/marton-bod/followers","following_url":"https://api.github.com/users/marton-bod/following{/other_user}","gists_url":"https://api.github.com/users/marton-bod/gists{/gist_id}","starred_url":"https://api.github.com/users/marton-bod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marton-bod/subscriptions","organizations_url":"https://api.github.com/users/marton-bod/orgs","repos_url":"https://api.github.com/users/marton-bod/repos","events_url":"https://api.github.com/users/marton-bod/events{/privacy}","received_events_url":"https://api.github.com/users/marton-bod/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T15:16:13Z","updated_at":"2020-12-10T15:16:13Z","author_association":"COLLABORATOR","body":"> Do we need to change `HiveSchemaConverter`?\r\n\r\nYes, good point. I'll modify the `HiveSchemaConverter` as well as the `HiveSchemaUtil` classes. Adjusting their unit tests are tricky, because the hive-metastore unit tests are run using Hive2 classes. I'll need to think how to go around that.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742584273/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742588390","html_url":"https://github.com/apache/iceberg/pull/1903#issuecomment-742588390","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1903","id":742588390,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjU4ODM5MA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T15:22:42Z","updated_at":"2020-12-10T15:22:42Z","author_association":"MEMBER","body":"I think the biggest issue with the CI server is that every suite still runs\nin serial :/\n\nOn Thu, Dec 10, 2020 at 9:10 AM Ryan Murray <notifications@github.com>\nwrote:\n\n> interestingly this doesn't seem to have affected the run time for the CI\n> job on master. Could be related to the load on the CI servers but the long\n> job (java 8) actually took fractionally longer compared to last master run.\n>\n> â€”\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/iceberg/pull/1903#issuecomment-742580227>, or\n> unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AADE2YJ3QJ2QQ4IFUPHP5KTSUDQE5ANCNFSM4UU6KF7Q>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742588390/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742606904","html_url":"https://github.com/apache/iceberg/pull/1903#issuecomment-742606904","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1903","id":742606904,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjYwNjkwNA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T15:51:19Z","updated_at":"2020-12-10T15:51:19Z","author_association":"CONTRIBUTOR","body":"Hm, it did reduce the time to execute tests for expire snapshots procedure from 44 s to 20s on my machine.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742606904/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742636797","html_url":"https://github.com/apache/iceberg/pull/1844#issuecomment-742636797","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1844","id":742636797,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjYzNjc5Nw==","user":{"login":"johnclara","id":9331049,"node_id":"MDQ6VXNlcjkzMzEwNDk=","avatar_url":"https://avatars.githubusercontent.com/u/9331049?v=4","gravatar_id":"","url":"https://api.github.com/users/johnclara","html_url":"https://github.com/johnclara","followers_url":"https://api.github.com/users/johnclara/followers","following_url":"https://api.github.com/users/johnclara/following{/other_user}","gists_url":"https://api.github.com/users/johnclara/gists{/gist_id}","starred_url":"https://api.github.com/users/johnclara/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johnclara/subscriptions","organizations_url":"https://api.github.com/users/johnclara/orgs","repos_url":"https://api.github.com/users/johnclara/repos","events_url":"https://api.github.com/users/johnclara/events{/privacy}","received_events_url":"https://api.github.com/users/johnclara/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T16:37:23Z","updated_at":"2020-12-10T23:00:55Z","author_association":"NONE","body":"Thanks this makes a lot of sense!\r\n\r\n> > ```\r\n> > * CatalogProperties: I'm not sure what these are? \r\n> > ```\r\n> \r\n> In the context of Spark, it is the `Map<String, String> argument` of spark source. It is just generalized also for Flink (and any other use case that can accept a map).\r\n\r\n\r\nSo CatalogProperties are the arguments that are passed in. What about the HMS Metastore properties (or any other information that is kept alongside the pointer to the iceberg table)? In my team's Dynamo backed catalog implementation, we only have two columns: TableName and Location. But I could also see having other columns (eg \"this is a gcp table. this is an aws table\"). These are entirely ignored? I was confusing these Metastore properties with Catalog properties.\r\n\r\nSo CatalogProperties will have a mix of system/compute constraints + how to access to access the table?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742636797/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742641778","html_url":"https://github.com/apache/iceberg/pull/1525#issuecomment-742641778","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1525","id":742641778,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjY0MTc3OA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T16:44:24Z","updated_at":"2020-12-10T16:44:24Z","author_association":"CONTRIBUTOR","body":"Awesome work, @RussellSpitzer! I had a couple of nits but I think this is ready to go.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742641778/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742677126","html_url":"https://github.com/apache/iceberg/pull/1895#issuecomment-742677126","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1895","id":742677126,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjY3NzEyNg==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T17:38:14Z","updated_at":"2020-12-10T17:38:14Z","author_association":"CONTRIBUTOR","body":"Ive added Nessie and Jersey to `NOTICE` and `LICENSE`. Not 100% sure about Jersey as its CDDL licensed in Spark2. @jacques-n and @laurentgo look ok to you?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742677126/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742680915","html_url":"https://github.com/apache/iceberg/pull/1873#issuecomment-742680915","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1873","id":742680915,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjY4MDkxNQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T17:44:17Z","updated_at":"2020-12-10T17:44:17Z","author_association":"CONTRIBUTOR","body":"I'll do a pass in 15 mins","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742680915/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742692663","html_url":"https://github.com/apache/iceberg/pull/1873#issuecomment-742692663","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1873","id":742692663,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjY5MjY2Mw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T18:01:54Z","updated_at":"2020-12-10T18:01:54Z","author_association":"CONTRIBUTOR","body":"Thanks everyone! The change looks solid so I merged it!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742692663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742693183","html_url":"https://github.com/apache/iceberg/pull/1873#issuecomment-742693183","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1873","id":742693183,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjY5MzE4Mw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T18:02:41Z","updated_at":"2020-12-10T18:02:41Z","author_association":"CONTRIBUTOR","body":"@raptond, do you want to work on catalog options for this next?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742693183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742712798","html_url":"https://github.com/apache/iceberg/pull/1873#issuecomment-742712798","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1873","id":742712798,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjcxMjc5OA==","user":{"login":"raptond","id":30231978,"node_id":"MDQ6VXNlcjMwMjMxOTc4","avatar_url":"https://avatars.githubusercontent.com/u/30231978?v=4","gravatar_id":"","url":"https://api.github.com/users/raptond","html_url":"https://github.com/raptond","followers_url":"https://api.github.com/users/raptond/followers","following_url":"https://api.github.com/users/raptond/following{/other_user}","gists_url":"https://api.github.com/users/raptond/gists{/gist_id}","starred_url":"https://api.github.com/users/raptond/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raptond/subscriptions","organizations_url":"https://api.github.com/users/raptond/orgs","repos_url":"https://api.github.com/users/raptond/repos","events_url":"https://api.github.com/users/raptond/events{/privacy}","received_events_url":"https://api.github.com/users/raptond/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T18:35:24Z","updated_at":"2020-12-10T18:35:24Z","author_association":"CONTRIBUTOR","body":"@aokolnychyi - Sure, I will work on to submit a new one with catalog options (properties via initialize method) overriding the Configuration. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742712798/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742712808","html_url":"https://github.com/apache/iceberg/pull/1861#issuecomment-742712808","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1861","id":742712808,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjcxMjgwOA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T18:35:25Z","updated_at":"2020-12-10T18:35:25Z","author_association":"CONTRIBUTOR","body":"@pvary, looks great! I merged this. Thanks for separating these into smaller PRs, it really helps keep the reviews manageable.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742712808/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742778682","html_url":"https://github.com/apache/iceberg/pull/1525#issuecomment-742778682","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1525","id":742778682,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Mjc3ODY4Mg==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T20:28:26Z","updated_at":"2020-12-10T20:28:26Z","author_association":"MEMBER","body":"Thanks! Making progress!\n\nOn Thu, Dec 10, 2020 at 2:03 PM Anton Okolnychyi <notifications@github.com>\nwrote:\n\n> Merged #1525 <https://github.com/apache/iceberg/pull/1525> into master.\n>\n> â€”\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/iceberg/pull/1525#event-4096998878>, or\n> unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AADE2YNA53PIJK7F25MQPJ3SUESQLANCNFSM4R475UJA>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742778682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742787385","html_url":"https://github.com/apache/iceberg/pull/1525#issuecomment-742787385","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1525","id":742787385,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Mjc4NzM4NQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T20:44:14Z","updated_at":"2020-12-10T20:44:14Z","author_association":"CONTRIBUTOR","body":"Thanks for the great work, @RussellSpitzer!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742787385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742809546","html_url":"https://github.com/apache/iceberg/pull/1905#issuecomment-742809546","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1905","id":742809546,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjgwOTU0Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T21:25:41Z","updated_at":"2020-12-10T21:25:41Z","author_association":"CONTRIBUTOR","body":"Do you have more information about what was happening? I don't think that we include Jersey in any runtime Jars, so this shouldn't affect runtime. Where did you see the error?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742809546/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742811103","html_url":"https://github.com/apache/iceberg/pull/1902#issuecomment-742811103","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1902","id":742811103,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjgxMTEwMw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T21:28:34Z","updated_at":"2020-12-10T21:28:34Z","author_association":"CONTRIBUTOR","body":"Looks good to me. The question I asked in a comment is not related to the PR, so I merged it. Thanks @pvary and @massdosage!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742811103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742875797","html_url":"https://github.com/apache/iceberg/pull/1857#issuecomment-742875797","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1857","id":742875797,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Mjg3NTc5Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T23:57:28Z","updated_at":"2020-12-10T23:57:28Z","author_association":"CONTRIBUTOR","body":"Thanks, @yyanyy! Looks good.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742875797/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742876656","html_url":"https://github.com/apache/iceberg/pull/1907#issuecomment-742876656","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1907","id":742876656,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Mjg3NjY1Ng==","user":{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T00:00:12Z","updated_at":"2020-12-11T00:00:12Z","author_association":"MEMBER","body":"Thank you, @rdblue !","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742876656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742889117","html_url":"https://github.com/apache/iceberg/pull/1783#issuecomment-742889117","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1783","id":742889117,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Mjg4OTExNw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T00:35:06Z","updated_at":"2020-12-11T00:35:06Z","author_association":"CONTRIBUTOR","body":"> One thing I wanted to make explicit. The test TestSparkSchema3 has been removed as SupportsCatalogOptions doesn't allow to specify the schema. This introduces a breaking change between Spark2.4 and Spark3 based IcebergSource.\r\n\r\nThanks @rymurr. I think this is the only remaining blocker.\r\n\r\n@prodeezy & @xabriel, do you specify the schema when reading Iceberg tables in Spark 3? I think the feature that this PR would disable was added by you, so I want to make sure you're okay with this potential change.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742889117/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742894438","html_url":"https://github.com/apache/iceberg/issues/1904#issuecomment-742894438","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1904","id":742894438,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Mjg5NDQzOA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T00:52:20Z","updated_at":"2020-12-11T00:52:20Z","author_association":"CONTRIBUTOR","body":"This doesn't interact well with checked exceptions. I think that's the primary reason for using the `threw` boolean in Java. If you have a checked exception but don't know what it is, then you can't really declare that a method may throw it. We can get around that with tricks like parameterizing `throws`, but that gets a bit ugly when you have multiple exceptions. Let me see if I can recreate this in a reasonable way for Java.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742894438/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742917677","html_url":"https://github.com/apache/iceberg/issues/1904#issuecomment-742917677","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1904","id":742917677,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjkxNzY3Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T02:07:33Z","updated_at":"2020-12-11T02:07:33Z","author_association":"CONTRIBUTOR","body":"@aokolnychyi, @RussellSpitzer, I opened a PR with an implementation that I think works well: https://github.com/apache/iceberg/pull/1909/files#diff-05514568d4022f3fbd510618bdf1ff14b32271158d385e07879a3181d0b9baaaR40-R46\r\n\r\nLambdas really help here because the classes get ugly. It supports up to 3 checked exceptions. The classes must be passed as arguments, but otherwise it looks roughly the same. There are still some cases that get wrapped in RuntimeException, like any throwable from the main block that isn't a `RuntimeException` or one of the passed checked exceptions. Same with any throwable from the finally block if the main block didn't throw an exception.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742917677/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742926538","html_url":"https://github.com/apache/iceberg/issues/1904#issuecomment-742926538","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1904","id":742926538,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjkyNjUzOA==","user":{"login":"jacques-n","id":183350,"node_id":"MDQ6VXNlcjE4MzM1MA==","avatar_url":"https://avatars.githubusercontent.com/u/183350?v=4","gravatar_id":"","url":"https://api.github.com/users/jacques-n","html_url":"https://github.com/jacques-n","followers_url":"https://api.github.com/users/jacques-n/followers","following_url":"https://api.github.com/users/jacques-n/following{/other_user}","gists_url":"https://api.github.com/users/jacques-n/gists{/gist_id}","starred_url":"https://api.github.com/users/jacques-n/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jacques-n/subscriptions","organizations_url":"https://api.github.com/users/jacques-n/orgs","repos_url":"https://api.github.com/users/jacques-n/repos","events_url":"https://api.github.com/users/jacques-n/events{/privacy}","received_events_url":"https://api.github.com/users/jacques-n/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T02:35:58Z","updated_at":"2020-12-11T02:35:58Z","author_association":"NONE","body":"For the original comment from @aokolnychyi , I've generally tried to address this using try-with-resources, which does a much better job of handling multiple exception cases natively then trying to build something functional. For example, we created [AutoCloseableLock](https://github.com/dremio/dremio-oss/blob/master/common/src/main/java/com/dremio/common/concurrent/AutoCloseableLock.java) to manage this particular locking situation. \r\n\r\nI also see it as somewhat of an anti-pattern in these complex scenarios to use finally blocks at all as it is too easy for people to make mistakes. The general problem being having multiple clean up tasks of any type. Instead, we typically would use multiple separate try-with-resources resource declarations or if you have more complex scenarios (returning a closeable only if several other operations succeed, each with their own rollback behavior, we created [RollbackCloseable](https://github.com/dremio/dremio-oss/blob/master/common/src/main/java/com/dremio/common/AutoCloseables.java#L176).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742926538/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743062804","html_url":"https://github.com/apache/iceberg/issues/1911#issuecomment-743062804","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1911","id":743062804,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzA2MjgwNA==","user":{"login":"txdong-sz","id":5066512,"node_id":"MDQ6VXNlcjUwNjY1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/5066512?v=4","gravatar_id":"","url":"https://api.github.com/users/txdong-sz","html_url":"https://github.com/txdong-sz","followers_url":"https://api.github.com/users/txdong-sz/followers","following_url":"https://api.github.com/users/txdong-sz/following{/other_user}","gists_url":"https://api.github.com/users/txdong-sz/gists{/gist_id}","starred_url":"https://api.github.com/users/txdong-sz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/txdong-sz/subscriptions","organizations_url":"https://api.github.com/users/txdong-sz/orgs","repos_url":"https://api.github.com/users/txdong-sz/repos","events_url":"https://api.github.com/users/txdong-sz/events{/privacy}","received_events_url":"https://api.github.com/users/txdong-sz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T08:53:46Z","updated_at":"2020-12-11T08:53:46Z","author_association":"NONE","body":"https://github.com/apache/iceberg/pull/1913/commits","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743062804/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743063373","html_url":"https://github.com/apache/iceberg/pull/1913#issuecomment-743063373","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1913","id":743063373,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzA2MzM3Mw==","user":{"login":"txdong-sz","id":5066512,"node_id":"MDQ6VXNlcjUwNjY1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/5066512?v=4","gravatar_id":"","url":"https://api.github.com/users/txdong-sz","html_url":"https://github.com/txdong-sz","followers_url":"https://api.github.com/users/txdong-sz/followers","following_url":"https://api.github.com/users/txdong-sz/following{/other_user}","gists_url":"https://api.github.com/users/txdong-sz/gists{/gist_id}","starred_url":"https://api.github.com/users/txdong-sz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/txdong-sz/subscriptions","organizations_url":"https://api.github.com/users/txdong-sz/orgs","repos_url":"https://api.github.com/users/txdong-sz/repos","events_url":"https://api.github.com/users/txdong-sz/events{/privacy}","received_events_url":"https://api.github.com/users/txdong-sz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T08:54:50Z","updated_at":"2020-12-11T08:54:50Z","author_association":"NONE","body":"https://github.com/apache/iceberg/issues/1911","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743063373/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743071114","html_url":"https://github.com/apache/iceberg/issues/1911#issuecomment-743071114","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1911","id":743071114,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzA3MTExNA==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T09:09:43Z","updated_at":"2020-12-11T09:09:43Z","author_association":"MEMBER","body":"@172403678  Sorry, I did not quite understand your concern actually.  All data files are maintained in apache iceberg's manifests,  so when planing a scan job, it will load the iceberg's manifests and get the correct data file paths for each task.  For each task,  it just GET the data from specific data file.    Which step will hurt the performance you mean ? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743071114/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743072625","html_url":"https://github.com/apache/iceberg/issues/1911#issuecomment-743072625","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1911","id":743072625,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzA3MjYyNQ==","user":{"login":"txdong-sz","id":5066512,"node_id":"MDQ6VXNlcjUwNjY1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/5066512?v=4","gravatar_id":"","url":"https://api.github.com/users/txdong-sz","html_url":"https://github.com/txdong-sz","followers_url":"https://api.github.com/users/txdong-sz/followers","following_url":"https://api.github.com/users/txdong-sz/following{/other_user}","gists_url":"https://api.github.com/users/txdong-sz/gists{/gist_id}","starred_url":"https://api.github.com/users/txdong-sz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/txdong-sz/subscriptions","organizations_url":"https://api.github.com/users/txdong-sz/orgs","repos_url":"https://api.github.com/users/txdong-sz/repos","events_url":"https://api.github.com/users/txdong-sz/events{/privacy}","received_events_url":"https://api.github.com/users/txdong-sz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T09:12:30Z","updated_at":"2020-12-11T09:12:30Z","author_association":"NONE","body":"in write the data file to cos\r\n![image](https://user-images.githubusercontent.com/5066512/101884659-06e97200-3bd4-11eb-8c1a-b715bca5894c.png)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743072625/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743081464","html_url":"https://github.com/apache/iceberg/issues/1911#issuecomment-743081464","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1911","id":743081464,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzA4MTQ2NA==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T09:27:41Z","updated_at":"2020-12-11T09:27:41Z","author_association":"MEMBER","body":"OK,  got your point.   You mean now we are creating so many objects with the same prefix ( here is `partitionId`)  in the same bucket when bulk loading data into a new iceberg table.  In that case,  the metadata service of tencent could storage will hit the hot-spot issue, that sounds reasonable. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743081464/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743082122","html_url":"https://github.com/apache/iceberg/issues/1911#issuecomment-743082122","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1911","id":743082122,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzA4MjEyMg==","user":{"login":"jerryshao","id":850797,"node_id":"MDQ6VXNlcjg1MDc5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/850797?v=4","gravatar_id":"","url":"https://api.github.com/users/jerryshao","html_url":"https://github.com/jerryshao","followers_url":"https://api.github.com/users/jerryshao/followers","following_url":"https://api.github.com/users/jerryshao/following{/other_user}","gists_url":"https://api.github.com/users/jerryshao/gists{/gist_id}","starred_url":"https://api.github.com/users/jerryshao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerryshao/subscriptions","organizations_url":"https://api.github.com/users/jerryshao/orgs","repos_url":"https://api.github.com/users/jerryshao/repos","events_url":"https://api.github.com/users/jerryshao/events{/privacy}","received_events_url":"https://api.github.com/users/jerryshao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T09:28:46Z","updated_at":"2020-12-11T09:28:46Z","author_association":"CONTRIBUTOR","body":"The key problem is that Iceberg's data file sequential name policy will somehow hit the COS (Tencent Cloud Object Store) hotspot and introduce the performance issue. The suggestion is to add salt on the file name to distribute the load.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743082122/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743086202","html_url":"https://github.com/apache/iceberg/issues/1911#issuecomment-743086202","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1911","id":743086202,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzA4NjIwMg==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T09:35:59Z","updated_at":"2020-12-11T09:35:59Z","author_association":"MEMBER","body":"@rdblue ,   Did you encounter the same issue when loading Netflix data into aws s3 bucket ?  The salt approach (from @jerryshao ) will need to create a customized `OutputFileFactory` I think ?  ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743086202/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743089839","html_url":"https://github.com/apache/iceberg/issues/1626#issuecomment-743089839","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1626","id":743089839,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzA4OTgzOQ==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T09:43:04Z","updated_at":"2020-12-11T09:43:04Z","author_association":"MEMBER","body":"Thanks for the great work, @stevenzwu !  I will take a look in these days.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743089839/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743115379","html_url":"https://github.com/apache/iceberg/issues/1912#issuecomment-743115379","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1912","id":743115379,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzExNTM3OQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T10:34:03Z","updated_at":"2020-12-11T14:31:08Z","author_association":"CONTRIBUTOR","body":"Iceberg avoids listing and renames by design and does not have this limitation as long as you use Iceberg [Hive catalog](http://iceberg.apache.org/java-api-quickstart/#using-a-hive-catalog).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743115379/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743124337","html_url":"https://github.com/apache/iceberg/pull/1906#issuecomment-743124337","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1906","id":743124337,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzEyNDMzNw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T10:52:47Z","updated_at":"2020-12-11T10:52:47Z","author_association":"CONTRIBUTOR","body":"Just minor comments, should be good to go after that.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743124337/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743156927","html_url":"https://github.com/apache/iceberg/issues/1914#issuecomment-743156927","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1914","id":743156927,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzE1NjkyNw==","user":{"login":"txdong-sz","id":5066512,"node_id":"MDQ6VXNlcjUwNjY1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/5066512?v=4","gravatar_id":"","url":"https://api.github.com/users/txdong-sz","html_url":"https://github.com/txdong-sz","followers_url":"https://api.github.com/users/txdong-sz/followers","following_url":"https://api.github.com/users/txdong-sz/following{/other_user}","gists_url":"https://api.github.com/users/txdong-sz/gists{/gist_id}","starred_url":"https://api.github.com/users/txdong-sz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/txdong-sz/subscriptions","organizations_url":"https://api.github.com/users/txdong-sz/orgs","repos_url":"https://api.github.com/users/txdong-sz/repos","events_url":"https://api.github.com/users/txdong-sz/events{/privacy}","received_events_url":"https://api.github.com/users/txdong-sz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T12:08:14Z","updated_at":"2020-12-11T12:08:14Z","author_association":"NONE","body":"https://iceberg.apache.org/schemas/\r\n\r\niceberg schemas should support timestamp without zoneid ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743156927/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743157280","html_url":"https://github.com/apache/iceberg/issues/1912#issuecomment-743157280","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1912","id":743157280,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzE1NzI4MA==","user":{"login":"borislitvak","id":9713845,"node_id":"MDQ6VXNlcjk3MTM4NDU=","avatar_url":"https://avatars.githubusercontent.com/u/9713845?v=4","gravatar_id":"","url":"https://api.github.com/users/borislitvak","html_url":"https://github.com/borislitvak","followers_url":"https://api.github.com/users/borislitvak/followers","following_url":"https://api.github.com/users/borislitvak/following{/other_user}","gists_url":"https://api.github.com/users/borislitvak/gists{/gist_id}","starred_url":"https://api.github.com/users/borislitvak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/borislitvak/subscriptions","organizations_url":"https://api.github.com/users/borislitvak/orgs","repos_url":"https://api.github.com/users/borislitvak/repos","events_url":"https://api.github.com/users/borislitvak/events{/privacy}","received_events_url":"https://api.github.com/users/borislitvak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T12:09:05Z","updated_at":"2020-12-11T15:51:58Z","author_association":"NONE","body":"For future visitors looking to compare s3 ACID data lake solutions, this scenario over S3 is not supported in Hudi/Delta and there does not seem to be a path for such a support. \r\nSo Iceberg is a clear winner in this regard!\r\n\r\nSources:\r\n[Delta.io](https://github.com/delta-io/delta/issues/564)\r\n[Hudi](https://github.com/apache/hudi/issues/2330)\r\n\r\nHow did you accomplish this, @aokolnychyi ?\r\n\r\nUPDATE: As @vinothchandar mentioned, Iceberg's solution must go through a Hive Metastore which will provide with the synchronization primitives over S3. Hudi is considering providing a similar or better solution. I am not sure about the performance impact here.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743157280/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743162592","html_url":"https://github.com/apache/iceberg/issues/1916#issuecomment-743162592","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1916","id":743162592,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzE2MjU5Mg==","user":{"login":"txdong-sz","id":5066512,"node_id":"MDQ6VXNlcjUwNjY1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/5066512?v=4","gravatar_id":"","url":"https://api.github.com/users/txdong-sz","html_url":"https://github.com/txdong-sz","followers_url":"https://api.github.com/users/txdong-sz/followers","following_url":"https://api.github.com/users/txdong-sz/following{/other_user}","gists_url":"https://api.github.com/users/txdong-sz/gists{/gist_id}","starred_url":"https://api.github.com/users/txdong-sz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/txdong-sz/subscriptions","organizations_url":"https://api.github.com/users/txdong-sz/orgs","repos_url":"https://api.github.com/users/txdong-sz/repos","events_url":"https://api.github.com/users/txdong-sz/events{/privacy}","received_events_url":"https://api.github.com/users/txdong-sz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T12:21:33Z","updated_at":"2020-12-11T12:21:33Z","author_association":"NONE","body":"table like this\r\n\r\nCREATE TABLE prod.iceberg_db.bofangzt3(\r\nftime timestamp,\r\nextinfo string\r\n) \r\nUSING iceberg\r\nPARTITIONED BY (hours(ftime))\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743162592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743177185","html_url":"https://github.com/apache/iceberg/issues/1914#issuecomment-743177185","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1914","id":743177185,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzE3NzE4NQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T12:55:33Z","updated_at":"2020-12-11T12:55:33Z","author_association":"CONTRIBUTOR","body":"https://iceberg.apache.org/spark/#type-compatibility\r\n\r\nIceberg Spark doc explains the type compatibility between Iceberg and Spark - supported types are dependent on engine, hence if you're trying to use Iceberg with cross-engines, the table schema should be designed as taking \"greatest common factor\".","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743177185/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743186155","html_url":"https://github.com/apache/iceberg/pull/1861#issuecomment-743186155","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1861","id":743186155,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzE4NjE1NQ==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T13:14:52Z","updated_at":"2020-12-11T13:14:52Z","author_association":"CONTRIBUTOR","body":"Thanks for the review and the merge @rdblue! I have learned a lot during the review!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743186155/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743186804","html_url":"https://github.com/apache/iceberg/pull/1905#issuecomment-743186804","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1905","id":743186804,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzE4NjgwNA==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T13:16:14Z","updated_at":"2020-12-11T13:16:14Z","author_association":"CONTRIBUTOR","body":"Hey @rdblue\r\n\r\nSorry, more info:\r\n\r\n1. `com.sun.jersey` is only in test dependencies for the various spark/hive/flink/mr modules. Basically anywhere we user hadoop 2.7 libs. So this doesn't affect runtime.\r\n\r\n2. This occurs anywhere you try and use newer `javax.ws.rs` packages as Jersey1.9 sneakily has overlapping pacakges in `com.sun.jersey:jersey-client`. So i have seen this specifically when working w/ Nessie and Spark or Hive tests (in the iceberg repo or the Nessie repo). The Nessie client loads `javax` packages and hits a variation on `java.lang.AbstractMethodError: javax.ws.rs.core.UriBuilder.uri(Ljava/lang/String;)Ljavax/ws/rs/core/UriBuilder;`. This is a pre-cursor patch to some fixes to allow Nessie as a custom catalog in the hive reader.\r\n\r\nA quick check shows that Spark doesn't ship this old jersey (even though its a dep of hadoop 2.7) nor do some Hives. \r\n\r\nFrom my understanding the only thing this change does is allow us to use modern REST clients from unit tests and it will have no effect on runtime. I could take a more subtle approach and add an exclude for each test dependency if you prefer.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743186804/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743193351","html_url":"https://github.com/apache/iceberg/issues/1914#issuecomment-743193351","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1914","id":743193351,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzE5MzM1MQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T13:30:00Z","updated_at":"2020-12-11T13:30:00Z","author_association":"CONTRIBUTOR","body":"Probably my comment would explain all your other issues - though I don't see type compatibility documentation for other engines yet.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743193351/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743200232","html_url":"https://github.com/apache/iceberg/issues/1911#issuecomment-743200232","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1911","id":743200232,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzIwMDIzMg==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T13:44:57Z","updated_at":"2020-12-11T13:44:57Z","author_association":"CONTRIBUTOR","body":"I agree that it should be ideal to customize the file name format so that it could be customized against the internal of filesystem or external storage. Though it's unfortunately against my expectation for the object store that the physical location is somehow related to the object key.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743200232/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743213913","html_url":"https://github.com/apache/iceberg/issues/1808#issuecomment-743213913","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1808","id":743213913,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzIxMzkxMw==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T14:11:31Z","updated_at":"2020-12-11T14:11:31Z","author_association":"CONTRIBUTOR","body":"I think thats a good idea @shangshengtung. Any thoughts about the rest? I am starting to like `CREATE/DROP BRANCH/TAG` more over the `ALTER` syntax","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743213913/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743268138","html_url":"https://github.com/apache/iceberg/issues/1912#issuecomment-743268138","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1912","id":743268138,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzI2ODEzOA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T15:42:15Z","updated_at":"2020-12-11T15:42:15Z","author_association":"MEMBER","body":"FWIW the answers I gave are for Hudi are for the case that does not need an external server like Hive. So its not quite apples-apples. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743268138/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":2,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743328900","html_url":"https://github.com/apache/iceberg/pull/1905#issuecomment-743328900","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1905","id":743328900,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzMyODkwMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T17:36:32Z","updated_at":"2020-12-11T17:36:32Z","author_association":"CONTRIBUTOR","body":"> I could take a more subtle approach and add an exclude for each test dependency if you prefer.\r\n\r\nAs long as this is test, I think it's okay to be less subtle.\r\n\r\nSounds like this is safe and straightforward. I do worry a bit about what the runtime issues might be, so let's make sure that whatever might conflict is relocated in our runtime Jars.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743328900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743334192","html_url":"https://github.com/apache/iceberg/issues/1911#issuecomment-743334192","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1911","id":743334192,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzMzNDE5Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T17:47:17Z","updated_at":"2020-12-11T17:48:51Z","author_association":"CONTRIBUTOR","body":"Iceberg supports a `LocationProvider` implementation so that tables can customize the file layout. We already have a [`LocationProvider` that hashes to distribute files](https://github.com/apache/iceberg/blob/master/core/src/main/java/org/apache/iceberg/LocationProviders.java#L91-L131) and avoid this problem that you can enable by setting [`write.object-storage.enabled=true`](https://github.com/apache/iceberg/blob/09c69a129cbcba83637d2c4c292850803d5a9b03/core/src/main/java/org/apache/iceberg/TableProperties.java#L87-L90) for a table and providing a base location with `write.object-storage.path`.\r\n\r\nHopefully that should already implement what you need to solve this problem. It doesn't currently alter the file names that are passed in, but you could write a `LocationProvider` that does basically the same thing and adds a prefix to the file path as well.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743334192/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743335690","html_url":"https://github.com/apache/iceberg/pull/1783#issuecomment-743335690","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1783","id":743335690,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzMzNTY5MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T17:50:29Z","updated_at":"2020-12-11T17:50:29Z","author_association":"CONTRIBUTOR","body":"I think this is ready to go, but we need to build consensus around removing support for custom schemas passed in through `DataFrameWriter`. That was a work-around for not having a better way to project columns in Spark, so hopefully Spark has been fixed in the mean time.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743335690/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743340374","html_url":"https://github.com/apache/iceberg/pull/1888#issuecomment-743340374","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1888","id":743340374,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzM0MDM3NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T18:00:08Z","updated_at":"2020-12-11T18:00:08Z","author_association":"CONTRIBUTOR","body":"Merged! Great work, @openinx!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743340374/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743341217","html_url":"https://github.com/apache/iceberg/pull/1910#issuecomment-743341217","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1910","id":743341217,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzM0MTIxNw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T18:01:42Z","updated_at":"2020-12-11T18:01:42Z","author_association":"CONTRIBUTOR","body":"Thanks @jackye1995!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743341217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743341832","html_url":"https://github.com/apache/iceberg/pull/1913#issuecomment-743341832","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1913","id":743341832,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzM0MTgzMg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T18:03:00Z","updated_at":"2020-12-11T18:03:00Z","author_association":"CONTRIBUTOR","body":"Please have a look at my comment about this issue for an existing way to fix it: https://github.com/apache/iceberg/issues/1911#issuecomment-743334192","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743341832/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743343878","html_url":"https://github.com/apache/iceberg/pull/1897#issuecomment-743343878","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1897","id":743343878,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzM0Mzg3OA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T18:07:17Z","updated_at":"2020-12-11T18:07:17Z","author_association":"CONTRIBUTOR","body":"@pvary, please ping me when this is ready to merge.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743343878/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743344209","html_url":"https://github.com/apache/iceberg/pull/1896#issuecomment-743344209","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1896","id":743344209,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzM0NDIwOQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T18:08:02Z","updated_at":"2020-12-11T18:08:02Z","author_association":"CONTRIBUTOR","body":"I'll take a look at this when you've had a chance to rebase on #1888.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743344209/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743350273","html_url":"https://github.com/apache/iceberg/pull/1839#issuecomment-743350273","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1839","id":743350273,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzM1MDI3Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T18:21:02Z","updated_at":"2020-12-11T18:21:02Z","author_association":"CONTRIBUTOR","body":"The agenda for the next sync is in the [Iceberg sync doc](https://docs.google.com/document/d/1YuGhUdukLP5gGiqCbk0A5_Wifqe2CZWgOd3TbhY3UQg/edit#heading=h.gx5jk191pfuv).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743350273/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743359802","html_url":"https://github.com/apache/iceberg/pull/1783#issuecomment-743359802","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1783","id":743359802,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzM1OTgwMg==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T18:42:22Z","updated_at":"2020-12-11T18:42:22Z","author_association":"CONTRIBUTOR","body":"\r\n> need to build consensus\r\n\r\nsure I will send an email to the mailing list. Do you know if there was a specific SPARK Jira related to this?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743359802/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743403425","html_url":"https://github.com/apache/iceberg/pull/1783#issuecomment-743403425","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1783","id":743403425,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzQwMzQyNQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T20:12:53Z","updated_at":"2020-12-11T20:12:53Z","author_association":"CONTRIBUTOR","body":"I'm not aware of a JIRA, but it seems like a fairly common use case: needing to supply a specific projection rather than the one that Spark infers.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743403425/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743432878","html_url":"https://github.com/apache/iceberg/issues/1904#issuecomment-743432878","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1904","id":743432878,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzQzMjg3OA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T21:21:02Z","updated_at":"2020-12-11T21:21:02Z","author_association":"CONTRIBUTOR","body":"@jacques-n, I think this is a bit simpler case. The problem here is that cleanup is being done in `finally` to avoid modifying the throwables that might be caught, and to ensure that the cleanup is always done, even if the `catch` cases change over time. Catching `Exception` means that it is annoyingly difficult thanks to checked exceptions to throw the exception that was caught.\r\n\r\nThe PR I opened solves that problem directly. I agree with the idea of using `AutoCloseable` and multiple try-with-resources, but this problem doesn't need multiple blocks. It looks like `RollbackCloseable` does something very similar to the pattern with the `threw` boolean, except that you'd normally use a separate try, which with the `runSafely` method isn't really needed.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743432878/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743641137","html_url":"https://github.com/apache/iceberg/pull/1919#issuecomment-743641137","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1919","id":743641137,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzY0MTEzNw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-12T02:02:22Z","updated_at":"2020-12-12T02:02:22Z","author_association":"CONTRIBUTOR","body":"@jun-he, could you look at this? It implements what we discussed for partition spec evolution.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743641137/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743714128","html_url":"https://github.com/apache/iceberg/issues/1904#issuecomment-743714128","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1904","id":743714128,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzcxNDEyOA==","user":{"login":"wg1026688210","id":14267759,"node_id":"MDQ6VXNlcjE0MjY3NzU5","avatar_url":"https://avatars.githubusercontent.com/u/14267759?v=4","gravatar_id":"","url":"https://api.github.com/users/wg1026688210","html_url":"https://github.com/wg1026688210","followers_url":"https://api.github.com/users/wg1026688210/followers","following_url":"https://api.github.com/users/wg1026688210/following{/other_user}","gists_url":"https://api.github.com/users/wg1026688210/gists{/gist_id}","starred_url":"https://api.github.com/users/wg1026688210/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wg1026688210/subscriptions","organizations_url":"https://api.github.com/users/wg1026688210/orgs","repos_url":"https://api.github.com/users/wg1026688210/repos","events_url":"https://api.github.com/users/wg1026688210/events{/privacy}","received_events_url":"https://api.github.com/users/wg1026688210/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-12T06:49:26Z","updated_at":"2020-12-12T06:49:39Z","author_association":"CONTRIBUTOR","body":"hi~ @rdblue  Shall we consider this situation  that  process shut down when commit action hold the lock of hive table .","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743714128/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743719299","html_url":"https://github.com/apache/iceberg/pull/1901#issuecomment-743719299","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1901","id":743719299,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzcxOTI5OQ==","user":{"login":"XuQianJin-Stars","id":10494131,"node_id":"MDQ6VXNlcjEwNDk0MTMx","avatar_url":"https://avatars.githubusercontent.com/u/10494131?v=4","gravatar_id":"","url":"https://api.github.com/users/XuQianJin-Stars","html_url":"https://github.com/XuQianJin-Stars","followers_url":"https://api.github.com/users/XuQianJin-Stars/followers","following_url":"https://api.github.com/users/XuQianJin-Stars/following{/other_user}","gists_url":"https://api.github.com/users/XuQianJin-Stars/gists{/gist_id}","starred_url":"https://api.github.com/users/XuQianJin-Stars/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XuQianJin-Stars/subscriptions","organizations_url":"https://api.github.com/users/XuQianJin-Stars/orgs","repos_url":"https://api.github.com/users/XuQianJin-Stars/repos","events_url":"https://api.github.com/users/XuQianJin-Stars/events{/privacy}","received_events_url":"https://api.github.com/users/XuQianJin-Stars/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-12T07:44:46Z","updated_at":"2020-12-12T07:44:46Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743719299/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743721762","html_url":"https://github.com/apache/iceberg/issues/1904#issuecomment-743721762","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1904","id":743721762,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzcyMTc2Mg==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-12T08:10:02Z","updated_at":"2020-12-12T08:10:02Z","author_association":"CONTRIBUTOR","body":"> hi~ @rdblue Shall we consider this situation that process shut down when commit action hold the lock of hive table .\r\n\r\nHow often could this happen? Asking because Hive have cleaner methods in place which will remove the stale locks which did not receive heartbeat for a given period. So we should clean up the locks as much as possible, but we do not have to consider super rare situations.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743721762/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743731091","html_url":"https://github.com/apache/iceberg/issues/1826#issuecomment-743731091","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1826","id":743731091,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzczMTA5MQ==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-12T09:43:11Z","updated_at":"2020-12-12T09:43:11Z","author_association":"CONTRIBUTOR","body":"Formerly: Find a way to skip Hive test runs if the changes are spark/flink specific\r\n\r\nRenamed so it will be easier to find it next year. We should pick this up after #1924","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743731091/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743763097","html_url":"https://github.com/apache/iceberg/issues/1911#issuecomment-743763097","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1911","id":743763097,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Mzc2MzA5Nw==","user":{"login":"txdong-sz","id":5066512,"node_id":"MDQ6VXNlcjUwNjY1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/5066512?v=4","gravatar_id":"","url":"https://api.github.com/users/txdong-sz","html_url":"https://github.com/txdong-sz","followers_url":"https://api.github.com/users/txdong-sz/followers","following_url":"https://api.github.com/users/txdong-sz/following{/other_user}","gists_url":"https://api.github.com/users/txdong-sz/gists{/gist_id}","starred_url":"https://api.github.com/users/txdong-sz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/txdong-sz/subscriptions","organizations_url":"https://api.github.com/users/txdong-sz/orgs","repos_url":"https://api.github.com/users/txdong-sz/repos","events_url":"https://api.github.com/users/txdong-sz/events{/privacy}","received_events_url":"https://api.github.com/users/txdong-sz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-12T14:20:52Z","updated_at":"2020-12-12T14:20:52Z","author_association":"NONE","body":"@rdblue  i donnot think that config write.object-storage.path will meet my need .    write.object-storage.path can ensuer table with the different perfix  but our case is one table with huge data.\r\nour problem is that we write about we need to store all origin data to cos with iceberg format, one table is very huge and so we need to improve the write performance to cos .  from the cos architecture . data file with  salt approach can improve the cos write performance .  \r\n![image](https://user-images.githubusercontent.com/5066512/101985848-65424d80-3cc5-11eb-82be-e98595963bfd.png)\r\n\r\nin our cos case file name 00000-0-30576642-4a90-4e56-8c65-928b78ade270-00001.parquet   starts with 00000 is slow than \r\n4a90-4e56-8c65-928b78ade270-00000-0-30576642-00001.parquet\r\nmore widely k/v storage need key is more hash .  so i think default data file name starts with uuid will meet the need.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743763097/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743764425","html_url":"https://github.com/apache/iceberg/issues/1911#issuecomment-743764425","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1911","id":743764425,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Mzc2NDQyNQ==","user":{"login":"txdong-sz","id":5066512,"node_id":"MDQ6VXNlcjUwNjY1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/5066512?v=4","gravatar_id":"","url":"https://api.github.com/users/txdong-sz","html_url":"https://github.com/txdong-sz","followers_url":"https://api.github.com/users/txdong-sz/followers","following_url":"https://api.github.com/users/txdong-sz/following{/other_user}","gists_url":"https://api.github.com/users/txdong-sz/gists{/gist_id}","starred_url":"https://api.github.com/users/txdong-sz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/txdong-sz/subscriptions","organizations_url":"https://api.github.com/users/txdong-sz/orgs","repos_url":"https://api.github.com/users/txdong-sz/repos","events_url":"https://api.github.com/users/txdong-sz/events{/privacy}","received_events_url":"https://api.github.com/users/txdong-sz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-12T14:31:31Z","updated_at":"2020-12-12T14:31:31Z","author_association":"NONE","body":"@HeartSaVioR  i think that iceberg is Works with any cloud store and reduces NN congestion when in HDFS, by avoiding listing and renames\r\nso iceberg should take storage compatibility into consideration.   iceberg storge with cloud is advantage, but store with hdfs is also supoort   the two  storage facility is different\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743764425/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743876007","html_url":"https://github.com/apache/iceberg/pull/1897#issuecomment-743876007","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1897","id":743876007,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Mzg3NjAwNw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-12T21:10:09Z","updated_at":"2020-12-12T21:10:09Z","author_association":"CONTRIBUTOR","body":"Merged. Thanks @marton-bod, and thanks for reviewing, @pvary!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743876007/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743899255","html_url":"https://github.com/apache/iceberg/issues/1911#issuecomment-743899255","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1911","id":743899255,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Mzg5OTI1NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-12T21:32:17Z","updated_at":"2020-12-12T21:32:17Z","author_association":"CONTRIBUTOR","body":"@txdong-sz, if you need to modify the file name, you can do that by building your own `LocationProvider`.\r\n\r\nI think that the object storage feature would work because it adds a hash of the file name (or file name and partition) just after the object storage path. That should work for this case because the data would be sharded across many different paths. Again, if you want to customize then you should plug in your own provider.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/743899255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/744115275","html_url":"https://github.com/apache/iceberg/issues/1911#issuecomment-744115275","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1911","id":744115275,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDExNTI3NQ==","user":{"login":"txdong-sz","id":5066512,"node_id":"MDQ6VXNlcjUwNjY1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/5066512?v=4","gravatar_id":"","url":"https://api.github.com/users/txdong-sz","html_url":"https://github.com/txdong-sz","followers_url":"https://api.github.com/users/txdong-sz/followers","following_url":"https://api.github.com/users/txdong-sz/following{/other_user}","gists_url":"https://api.github.com/users/txdong-sz/gists{/gist_id}","starred_url":"https://api.github.com/users/txdong-sz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/txdong-sz/subscriptions","organizations_url":"https://api.github.com/users/txdong-sz/orgs","repos_url":"https://api.github.com/users/txdong-sz/repos","events_url":"https://api.github.com/users/txdong-sz/events{/privacy}","received_events_url":"https://api.github.com/users/txdong-sz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T01:39:46Z","updated_at":"2020-12-14T01:40:00Z","author_association":"NONE","body":"@rdblue    ObjectStoreLocationProvider may meet the need  thanks. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/744115275/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/744117524","html_url":"https://github.com/apache/iceberg/issues/1914#issuecomment-744117524","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1914","id":744117524,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDExNzUyNA==","user":{"login":"txdong-sz","id":5066512,"node_id":"MDQ6VXNlcjUwNjY1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/5066512?v=4","gravatar_id":"","url":"https://api.github.com/users/txdong-sz","html_url":"https://github.com/txdong-sz","followers_url":"https://api.github.com/users/txdong-sz/followers","following_url":"https://api.github.com/users/txdong-sz/following{/other_user}","gists_url":"https://api.github.com/users/txdong-sz/gists{/gist_id}","starred_url":"https://api.github.com/users/txdong-sz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/txdong-sz/subscriptions","organizations_url":"https://api.github.com/users/txdong-sz/orgs","repos_url":"https://api.github.com/users/txdong-sz/repos","events_url":"https://api.github.com/users/txdong-sz/events{/privacy}","received_events_url":"https://api.github.com/users/txdong-sz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T01:49:53Z","updated_at":"2020-12-14T01:49:53Z","author_association":"NONE","body":"@HeartSaVioR  yes  i think that compatibility  is very importtantï¼Œ we need to write table in flink  but query by hive or spark is more convenient .  because flink sql client is standalone  so cannot run huge querys.\r\nthe schema is very basic information for a table . so   \"greatest common factor\"    should implement by other engines  \r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/744117524/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/744171957","html_url":"https://github.com/apache/iceberg/issues/1915#issuecomment-744171957","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1915","id":744171957,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDE3MTk1Nw==","user":{"login":"XuQianJin-Stars","id":10494131,"node_id":"MDQ6VXNlcjEwNDk0MTMx","avatar_url":"https://avatars.githubusercontent.com/u/10494131?v=4","gravatar_id":"","url":"https://api.github.com/users/XuQianJin-Stars","html_url":"https://github.com/XuQianJin-Stars","followers_url":"https://api.github.com/users/XuQianJin-Stars/followers","following_url":"https://api.github.com/users/XuQianJin-Stars/following{/other_user}","gists_url":"https://api.github.com/users/XuQianJin-Stars/gists{/gist_id}","starred_url":"https://api.github.com/users/XuQianJin-Stars/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XuQianJin-Stars/subscriptions","organizations_url":"https://api.github.com/users/XuQianJin-Stars/orgs","repos_url":"https://api.github.com/users/XuQianJin-Stars/repos","events_url":"https://api.github.com/users/XuQianJin-Stars/events{/privacy}","received_events_url":"https://api.github.com/users/XuQianJin-Stars/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T05:14:16Z","updated_at":"2020-12-14T05:14:16Z","author_association":"CONTRIBUTOR","body":"hi @txdong-sz This type is supported since the version of flink1.9, you can use `TIMESTAMP WITH LOCAL TIME ZONE` or `TIMESTAMP WITH TIME ZONE`.\r\nThe ddl statement can be:\r\n```\r\nCREATE TABLE iceberg.iceberg_db2.iceberg_001 (\r\n    id BIGINT COMMENT'unique id',\r\n    data STRING,\r\n    ftime TIMESTAMP(3) WITH LOCAL TIME ZONE\r\n) WITH ('connector'='iceberg','write.format.default'='ORC');\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/744171957/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/744206842","html_url":"https://github.com/apache/iceberg/pull/1877#issuecomment-744206842","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1877","id":744206842,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDIwNjg0Mg==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T06:34:19Z","updated_at":"2020-12-14T06:34:19Z","author_association":"CONTRIBUTOR","body":"Raised a PR #1929 for documenting fanout.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/744206842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/744212116","html_url":"https://github.com/apache/iceberg/issues/1914#issuecomment-744212116","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1914","id":744212116,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDIxMjExNg==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T06:45:00Z","updated_at":"2020-12-14T06:45:00Z","author_association":"CONTRIBUTOR","body":"Engines' features are out of control from Iceberg. As you see the doc I linked, not every types of Iceberg are supported in Spark, and I expect the same for other engines. The greatest common factor is not something we can expect engines to implement. Unfortunately that's something end users may need to figure out according to the usages, and apply to the table schema.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/744212116/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/744311338","html_url":"https://github.com/apache/iceberg/issues/1914#issuecomment-744311338","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1914","id":744311338,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDMxMTMzOA==","user":{"login":"txdong-sz","id":5066512,"node_id":"MDQ6VXNlcjUwNjY1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/5066512?v=4","gravatar_id":"","url":"https://api.github.com/users/txdong-sz","html_url":"https://github.com/txdong-sz","followers_url":"https://api.github.com/users/txdong-sz/followers","following_url":"https://api.github.com/users/txdong-sz/following{/other_user}","gists_url":"https://api.github.com/users/txdong-sz/gists{/gist_id}","starred_url":"https://api.github.com/users/txdong-sz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/txdong-sz/subscriptions","organizations_url":"https://api.github.com/users/txdong-sz/orgs","repos_url":"https://api.github.com/users/txdong-sz/repos","events_url":"https://api.github.com/users/txdong-sz/events{/privacy}","received_events_url":"https://api.github.com/users/txdong-sz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T09:35:22Z","updated_at":"2020-12-14T09:35:22Z","author_association":"NONE","body":"@HeartSaVioR  the reson why i need to use spark and flink  is that \r\n1. flink is not support by partition by hour    \r\n![image](https://user-images.githubusercontent.com/5066512/102064596-765c9d00-3e32-11eb-8f7e-081d42afeadb.png)\r\nand my table is very huge .  that is not a good parctice\r\n2. flink sql is standalone .  my table is huge ,so  i need more resource to run sql   and choose spark\r\n\r\nwe use flink to write stream data to cos . it is of efficiency\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/744311338/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/744629046","html_url":"https://github.com/apache/iceberg/pull/1913#issuecomment-744629046","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1913","id":744629046,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDYyOTA0Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T18:33:19Z","updated_at":"2020-12-14T18:33:19Z","author_association":"CONTRIBUTOR","body":"I'm closing this and the associated issue because it can be solved by adding a custom location provider. I also think that the object store location provider that can be configured meets this need as well, so there are multiple ways to fix it that don't require changing the convention here.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/744629046/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/744629453","html_url":"https://github.com/apache/iceberg/pull/1930#issuecomment-744629453","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1930","id":744629453,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDYyOTQ1Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T18:34:03Z","updated_at":"2020-12-14T18:34:03Z","author_association":"CONTRIBUTOR","body":"Thanks, @Fokko! Good catch.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/744629453/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/744636362","html_url":"https://github.com/apache/iceberg/pull/1918#issuecomment-744636362","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1918","id":744636362,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDYzNjM2Mg==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T18:47:13Z","updated_at":"2020-12-14T18:47:13Z","author_association":"CONTRIBUTOR","body":"Thanks for sharing the patch! Let me take a close look this afternoon and see how this can integrate with the aws module.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/744636362/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/744639219","html_url":"https://github.com/apache/iceberg/issues/1808#issuecomment-744639219","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1808","id":744639219,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDYzOTIxOQ==","user":{"login":"shangshengtung","id":9952408,"node_id":"MDQ6VXNlcjk5NTI0MDg=","avatar_url":"https://avatars.githubusercontent.com/u/9952408?v=4","gravatar_id":"","url":"https://api.github.com/users/shangshengtung","html_url":"https://github.com/shangshengtung","followers_url":"https://api.github.com/users/shangshengtung/followers","following_url":"https://api.github.com/users/shangshengtung/following{/other_user}","gists_url":"https://api.github.com/users/shangshengtung/gists{/gist_id}","starred_url":"https://api.github.com/users/shangshengtung/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shangshengtung/subscriptions","organizations_url":"https://api.github.com/users/shangshengtung/orgs","repos_url":"https://api.github.com/users/shangshengtung/repos","events_url":"https://api.github.com/users/shangshengtung/events{/privacy}","received_events_url":"https://api.github.com/users/shangshengtung/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T18:52:48Z","updated_at":"2020-12-14T18:52:48Z","author_association":"NONE","body":"How do you think on the time travel syntax of sql statements like (AT|BEFORE, AS OF) to refer a past time?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/744639219/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/744642301","html_url":"https://github.com/apache/iceberg/pull/1875#issuecomment-744642301","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1875","id":744642301,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDY0MjMwMQ==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T18:58:46Z","updated_at":"2020-12-14T18:58:46Z","author_association":"CONTRIBUTOR","body":"thanks for the review @rdblue \r\n\r\nI have gone fairly extreme with respects to code reuse in this update. I thought I would get some input on the direction/design before I clean up and fix the build.\r\n\r\nLet me know what you think!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/744642301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/744646952","html_url":"https://github.com/apache/iceberg/issues/1808#issuecomment-744646952","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1808","id":744646952,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDY0Njk1Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T19:07:04Z","updated_at":"2020-12-14T19:07:04Z","author_association":"CONTRIBUTOR","body":"> How do you think on the time travel syntax of sql statements like (AT|BEFORE, AS OF) to refer a past time?\r\n\r\nI really prefer this because the engine is responsible for converting the given timestamp into a specific instant. That's much easier than Iceberg trying to match the same behavior in each engine. It is less important for `AS OF VERSION` because that gets passed directly without modification, but `AS OF TIMESTAMP` support in Spark would be great.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/744646952/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/744647628","html_url":"https://github.com/apache/iceberg/pull/1918#issuecomment-744647628","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1918","id":744647628,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDY0NzYyOA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T19:08:24Z","updated_at":"2020-12-14T19:08:24Z","author_association":"CONTRIBUTOR","body":"Thanks for working on this area, @johnclara!\r\n\r\nIs your goal to just support a single encryption stream, or do you want to support Parquet and/or ORC encryption that still supports predicate pushdown?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/744647628/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/744652023","html_url":"https://github.com/apache/iceberg/issues/1808#issuecomment-744652023","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1808","id":744652023,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDY1MjAyMw==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T19:16:21Z","updated_at":"2020-12-14T19:16:21Z","author_association":"CONTRIBUTOR","body":"> `AS OF TIMESTAMP` support in Spark would be great.\r\n\r\nI agree. One thing to watch out for: if the catalog is a nessie catalog timetravel is via the nessie branching and in Hive/Hadoop catalogs its via snapshot ids. We just have to make sure the same syntax works for both and is not surprising","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/744652023/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/744673010","html_url":"https://github.com/apache/iceberg/pull/1918#issuecomment-744673010","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1918","id":744673010,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDY3MzAxMA==","user":{"login":"johnclara","id":9331049,"node_id":"MDQ6VXNlcjkzMzEwNDk=","avatar_url":"https://avatars.githubusercontent.com/u/9331049?v=4","gravatar_id":"","url":"https://api.github.com/users/johnclara","html_url":"https://github.com/johnclara","followers_url":"https://api.github.com/users/johnclara/followers","following_url":"https://api.github.com/users/johnclara/following{/other_user}","gists_url":"https://api.github.com/users/johnclara/gists{/gist_id}","starred_url":"https://api.github.com/users/johnclara/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johnclara/subscriptions","organizations_url":"https://api.github.com/users/johnclara/orgs","repos_url":"https://api.github.com/users/johnclara/repos","events_url":"https://api.github.com/users/johnclara/events{/privacy}","received_events_url":"https://api.github.com/users/johnclara/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T19:54:37Z","updated_at":"2020-12-14T21:36:22Z","author_association":"NONE","body":"Hi @rdblue,\r\nOur goal is to try to commit back as much shared logic as possible for others to either use or have an example. The main logic here is around the key stores and getting new keys. I'm nervous about discussing our actual crypto strategy publicly: I'll ping you on slack? (unless email is better?) edit: sent you a message","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/744673010/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/744674140","html_url":"https://github.com/apache/iceberg/pull/1918#issuecomment-744674140","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1918","id":744674140,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDY3NDE0MA==","user":{"login":"johnclara","id":9331049,"node_id":"MDQ6VXNlcjkzMzEwNDk=","avatar_url":"https://avatars.githubusercontent.com/u/9331049?v=4","gravatar_id":"","url":"https://api.github.com/users/johnclara","html_url":"https://github.com/johnclara","followers_url":"https://api.github.com/users/johnclara/followers","following_url":"https://api.github.com/users/johnclara/following{/other_user}","gists_url":"https://api.github.com/users/johnclara/gists{/gist_id}","starred_url":"https://api.github.com/users/johnclara/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johnclara/subscriptions","organizations_url":"https://api.github.com/users/johnclara/orgs","repos_url":"https://api.github.com/users/johnclara/repos","events_url":"https://api.github.com/users/johnclara/events{/privacy}","received_events_url":"https://api.github.com/users/johnclara/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T19:56:41Z","updated_at":"2020-12-15T01:35:06Z","author_association":"NONE","body":"@jackye1995 might want to wait on trying to integrate. For my team's integration with sdk1, the only logic is around statically caching the kms client using caffeine. The key for the cache is a tuple/pojo containing: (region, proxyinfo, staticcredentials, sts session and role). This is still really rough and I imagine the community will want to either change a bunch or start from scratch :)\r\n\r\n\r\nEdit:\r\nYour feedback on the config dumping/loading and opinions on loading dek providers would be useful though! I know you're doing a lot of work in the aws s3 catalog around this","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/744674140/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/744771533","html_url":"https://github.com/apache/iceberg/issues/1914#issuecomment-744771533","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1914","id":744771533,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDc3MTUzMw==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T23:08:50Z","updated_at":"2020-12-14T23:08:50Z","author_association":"CONTRIBUTOR","body":"I don't know much about Flink support on Iceberg. Probably @openinx can give more information here.\r\n\r\nFrom Spark 3.0+ you can set up custom catalog for Iceberg and execute create table against the catalog, and partitioned by hours is supported in create table syntax. I don't know Flink will include this as a part of create table syntax though. The ability to write to the partitioned table is completely different story, so you may want to check whether you can write to the table partitioned by hours from Flink. (I guess you can, but just to double check.)\r\n\r\nI don't know much about Flink itself, but it sounds odd if Flink SQL CLI (you meant CLI, not Flink SQL itself, right?) only works with standalone. I'd expect Flink SQL CLI to submit a job to the cluster and receive the output and print out, but well, I don't know.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/744771533/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/744772624","html_url":"https://github.com/apache/iceberg/pull/1920#issuecomment-744772624","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1920","id":744772624,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDc3MjYyNA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T23:09:41Z","updated_at":"2020-12-14T23:09:41Z","author_association":"CONTRIBUTOR","body":"+1 to the general approach. I think it's a great use of the static table!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/744772624/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/744790207","html_url":"https://github.com/apache/iceberg/pull/1920#issuecomment-744790207","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1920","id":744790207,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDc5MDIwNw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T23:22:24Z","updated_at":"2020-12-14T23:22:24Z","author_association":"CONTRIBUTOR","body":"This looks good to me. One last thing to consider is whether we should do this in Hive or whether we should do this through serialization. If we do it in Hive, then we have code that touches `BaseTable` and does substitution. That's okay, but not great.\r\n\r\nAnother way to do this is to make `BaseTable` implement `Serializable` and `writeReplace`, then implement `Serializable` in `StaticTable`.\r\n\r\n```java\r\n  Object writeReplace() throws ObjectStreamException {\r\n    return new StaticTable(ops.current().metadataFileLocation(), ops.io());\r\n  }\r\n```\r\n\r\nThen a table would automatically become a `StaticTable` when serialized. That's convenient and doesn't expose any internals.\r\n\r\nFYI @aokolnychyi and @RussellSpitzer.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/744790207/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/744795459","html_url":"https://github.com/apache/iceberg/pull/1896#issuecomment-744795459","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1896","id":744795459,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDc5NTQ1OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T23:26:11Z","updated_at":"2020-12-14T23:26:11Z","author_association":"CONTRIBUTOR","body":"Looks great! I merged this. Thanks @openinx!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/744795459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/744833410","html_url":"https://github.com/apache/iceberg/issues/1908#issuecomment-744833410","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1908","id":744833410,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDgzMzQxMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T23:53:31Z","updated_at":"2020-12-14T23:53:31Z","author_association":"CONTRIBUTOR","body":"I'm not sure I consider those use cases valid.\r\n\r\n> use a different encryption mechanism for metadata and data, with encryption key stored as a table property\r\n\r\nDoes this require a different `FileIO` and not different key metadata? Would the actual encryption scheme be different or just the keys? If so, isn't that a problem with the `EncryptionManager` and not the `FileIO`?\r\n\r\n> check permissions for read and write access based on an access control list stored in table properties\r\n\r\nThis seems suspicious to me. Is this a scheme where the Iceberg library decides not to read a file because it doesn't  authorize itself?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/744833410/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/744846891","html_url":"https://github.com/apache/iceberg/pull/1929#issuecomment-744846891","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1929","id":744846891,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDg0Njg5MQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T00:03:23Z","updated_at":"2020-12-15T00:03:23Z","author_association":"CONTRIBUTOR","body":"Thanks for the quick review and merge!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/744846891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]