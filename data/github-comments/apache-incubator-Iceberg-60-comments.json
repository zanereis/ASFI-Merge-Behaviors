[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/722192510","html_url":"https://github.com/apache/iceberg/pull/1723#issuecomment-722192510","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1723","id":722192510,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjE5MjUxMA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-05T07:18:58Z","updated_at":"2020-11-05T07:19:18Z","author_association":"CONTRIBUTOR","body":"Looks like the [CI failure](https://travis-ci.org/github/apache/iceberg/jobs/741528541) is related: \r\n\r\n```\r\n/home/travis/build/apache/iceberg/spark/src/main/java/org/apache/iceberg/spark/SparkDataFile.java:35: error: SparkDataFile is not abstract and does not override abstract method pos() in ContentFile\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/722192510/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/722197862","html_url":"https://github.com/apache/iceberg/pull/1720#issuecomment-722197862","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1720","id":722197862,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjE5Nzg2Mg==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-05T07:31:08Z","updated_at":"2020-11-05T07:31:08Z","author_association":"CONTRIBUTOR","body":"You look to miss removing the TODO. Looks OK otherwise.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/722197862/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/722210649","html_url":"https://github.com/apache/iceberg/issues/1690#issuecomment-722210649","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1690","id":722210649,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjIxMDY0OQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-05T08:00:14Z","updated_at":"2020-11-05T08:00:14Z","author_association":"CONTRIBUTOR","body":"If you're trying to find Java API, https://iceberg.apache.org/api/ & https://iceberg.apache.org/javadoc/\r\n\r\nIf you're trying to find the internal details, https://iceberg.apache.org/spec/","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/722210649/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/722217603","html_url":"https://github.com/apache/iceberg/issues/1713#issuecomment-722217603","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1713","id":722217603,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjIxNzYwMw==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-05T08:14:47Z","updated_at":"2020-11-05T08:14:47Z","author_association":"CONTRIBUTOR","body":"https://iceberg.apache.org/spec/#primitive-types\r\n\r\nOnce you're dealing with Iceberg core API directly, you need to understand the Iceberg types. According to spec, Iceberg stores timestamp via microsecond precision, which is different than java.sql.Timestamp (probably you meant this) which getTime would provide millisecond precision.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/722217603/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/722244238","html_url":"https://github.com/apache/iceberg/issues/1713#issuecomment-722244238","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1713","id":722244238,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjI0NDIzOA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-05T09:06:28Z","updated_at":"2020-11-05T09:06:28Z","author_association":"CONTRIBUTOR","body":"Also the one of major advantages in Iceberg is that you really don't need to specify the partition explicitly. You can apply filter on origin column, and Iceberg will automatically prune the partitions based on the condition.\n\nI don't know whether Iceberg supports explicit partition filtering, but the automatic pruning really works well.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/722244238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/722246104","html_url":"https://github.com/apache/iceberg/pull/1715#issuecomment-722246104","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1715","id":722246104,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjI0NjEwNA==","user":{"login":"liukun4515","id":7450163,"node_id":"MDQ6VXNlcjc0NTAxNjM=","avatar_url":"https://avatars.githubusercontent.com/u/7450163?v=4","gravatar_id":"","url":"https://api.github.com/users/liukun4515","html_url":"https://github.com/liukun4515","followers_url":"https://api.github.com/users/liukun4515/followers","following_url":"https://api.github.com/users/liukun4515/following{/other_user}","gists_url":"https://api.github.com/users/liukun4515/gists{/gist_id}","starred_url":"https://api.github.com/users/liukun4515/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liukun4515/subscriptions","organizations_url":"https://api.github.com/users/liukun4515/orgs","repos_url":"https://api.github.com/users/liukun4515/repos","events_url":"https://api.github.com/users/liukun4515/events{/privacy}","received_events_url":"https://api.github.com/users/liukun4515/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-05T09:10:05Z","updated_at":"2020-11-05T09:10:05Z","author_association":"NONE","body":"> confusion\r\n\r\ni think it is a great way.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/722246104/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/722270235","html_url":"https://github.com/apache/iceberg/pull/1356#issuecomment-722270235","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1356","id":722270235,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjI3MDIzNQ==","user":{"login":"shardulm94","id":6961317,"node_id":"MDQ6VXNlcjY5NjEzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/6961317?v=4","gravatar_id":"","url":"https://api.github.com/users/shardulm94","html_url":"https://github.com/shardulm94","followers_url":"https://api.github.com/users/shardulm94/followers","following_url":"https://api.github.com/users/shardulm94/following{/other_user}","gists_url":"https://api.github.com/users/shardulm94/gists{/gist_id}","starred_url":"https://api.github.com/users/shardulm94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shardulm94/subscriptions","organizations_url":"https://api.github.com/users/shardulm94/orgs","repos_url":"https://api.github.com/users/shardulm94/repos","events_url":"https://api.github.com/users/shardulm94/events{/privacy}","received_events_url":"https://api.github.com/users/shardulm94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-05T09:54:45Z","updated_at":"2020-11-05T09:54:45Z","author_association":"CONTRIBUTOR","body":"@chenjunjiedada That bug was specific to ORC and does not exist in the Parquet reader.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/722270235/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/722450553","html_url":"https://github.com/apache/iceberg/issues/1713#issuecomment-722450553","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1713","id":722450553,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjQ1MDU1Mw==","user":{"login":"dmgcodevil","id":1413873,"node_id":"MDQ6VXNlcjE0MTM4NzM=","avatar_url":"https://avatars.githubusercontent.com/u/1413873?v=4","gravatar_id":"","url":"https://api.github.com/users/dmgcodevil","html_url":"https://github.com/dmgcodevil","followers_url":"https://api.github.com/users/dmgcodevil/followers","following_url":"https://api.github.com/users/dmgcodevil/following{/other_user}","gists_url":"https://api.github.com/users/dmgcodevil/gists{/gist_id}","starred_url":"https://api.github.com/users/dmgcodevil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmgcodevil/subscriptions","organizations_url":"https://api.github.com/users/dmgcodevil/orgs","repos_url":"https://api.github.com/users/dmgcodevil/repos","events_url":"https://api.github.com/users/dmgcodevil/events{/privacy}","received_events_url":"https://api.github.com/users/dmgcodevil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-05T15:29:54Z","updated_at":"2020-11-05T15:29:54Z","author_association":"CONTRIBUTOR","body":"@zhangdove  thanks for the link\r\n\r\n@HeartSaVioR I thought if `Expressions` has `day` function I can do `filter(Expressions.equal(Expressions.day[String](\"frontdoor_timestamp\"), \"2020-10-20\"))` instead of `between`\r\n\r\nclosing this issue","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/722450553/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/722472781","html_url":"https://github.com/apache/iceberg/pull/1715#issuecomment-722472781","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1715","id":722472781,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjQ3Mjc4MQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-05T16:06:00Z","updated_at":"2020-11-05T16:06:00Z","author_association":"MEMBER","body":"I think we could rename it in another PR? but I'm still not sure the current split makes sense since if we end up with more actions that share code through a base class that inherits from BaseAction, we can discuss that later.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/722472781/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/722631800","html_url":"https://github.com/apache/iceberg/pull/1728#issuecomment-722631800","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1728","id":722631800,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjYzMTgwMA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-05T20:41:04Z","updated_at":"2020-11-05T20:41:04Z","author_association":"CONTRIBUTOR","body":"cc @rdblue @RussellSpitzer @HeartSaVioR ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/722631800/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/722721922","html_url":"https://github.com/apache/iceberg/pull/1730#issuecomment-722721922","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1730","id":722721922,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjcyMTkyMg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-06T00:20:40Z","updated_at":"2020-11-06T00:20:40Z","author_association":"CONTRIBUTOR","body":"@paulzanmei, I fixed another method and added tests to your work in #1726. I added this PR so that we can get this in quickly. I think we should get this into the 0.10.0 release.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/722721922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/722729851","html_url":"https://github.com/apache/iceberg/pull/1731#issuecomment-722729851","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1731","id":722729851,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjcyOTg1MQ==","user":{"login":"danielcweeks","id":4925077,"node_id":"MDQ6VXNlcjQ5MjUwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4925077?v=4","gravatar_id":"","url":"https://api.github.com/users/danielcweeks","html_url":"https://github.com/danielcweeks","followers_url":"https://api.github.com/users/danielcweeks/followers","following_url":"https://api.github.com/users/danielcweeks/following{/other_user}","gists_url":"https://api.github.com/users/danielcweeks/gists{/gist_id}","starred_url":"https://api.github.com/users/danielcweeks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielcweeks/subscriptions","organizations_url":"https://api.github.com/users/danielcweeks/orgs","repos_url":"https://api.github.com/users/danielcweeks/repos","events_url":"https://api.github.com/users/danielcweeks/events{/privacy}","received_events_url":"https://api.github.com/users/danielcweeks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-06T00:40:16Z","updated_at":"2020-11-06T00:40:16Z","author_association":"CONTRIBUTOR","body":"+1 (pending checks)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/722729851/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/722730486","html_url":"https://github.com/apache/iceberg/pull/1731#issuecomment-722730486","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1731","id":722730486,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjczMDQ4Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-06T00:42:02Z","updated_at":"2020-11-06T00:42:02Z","author_association":"CONTRIBUTOR","body":"This only changes site, so no need to wait on Java or Python tests to run. I'll merge this to fix the other PRs.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/722730486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/722734394","html_url":"https://github.com/apache/iceberg/pull/1730#issuecomment-722734394","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1730","id":722734394,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjczNDM5NA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-06T00:52:54Z","updated_at":"2020-11-06T00:53:10Z","author_association":"CONTRIBUTOR","body":"Probably this should close #1724 instead of #1725?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/722734394/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/722735628","html_url":"https://github.com/apache/iceberg/pull/1715#issuecomment-722735628","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1715","id":722735628,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjczNTYyOA==","user":{"login":"zhangjun0x01","id":25563794,"node_id":"MDQ6VXNlcjI1NTYzNzk0","avatar_url":"https://avatars.githubusercontent.com/u/25563794?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangjun0x01","html_url":"https://github.com/zhangjun0x01","followers_url":"https://api.github.com/users/zhangjun0x01/followers","following_url":"https://api.github.com/users/zhangjun0x01/following{/other_user}","gists_url":"https://api.github.com/users/zhangjun0x01/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangjun0x01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangjun0x01/subscriptions","organizations_url":"https://api.github.com/users/zhangjun0x01/orgs","repos_url":"https://api.github.com/users/zhangjun0x01/repos","events_url":"https://api.github.com/users/zhangjun0x01/events{/privacy}","received_events_url":"https://api.github.com/users/zhangjun0x01/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-06T00:56:13Z","updated_at":"2020-11-06T00:56:13Z","author_association":"CONTRIBUTOR","body":"> I think we could rename it in another PR? but I'm still not sure the current split makes sense since if we end up with more actions that share code through a base class that inherits from BaseAction, we can discuss that later.\r\n\r\nMaybe we have not done more flink actions, so it may not make much sense at the moment, we can consider extract common logic when we use it in the future","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/722735628/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/722738009","html_url":"https://github.com/apache/iceberg/pull/1725#issuecomment-722738009","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1725","id":722738009,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjczODAwOQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-06T01:02:20Z","updated_at":"2020-11-06T01:02:20Z","author_association":"CONTRIBUTOR","body":"Thanks, @HeartSaVioR! Good catch.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/722738009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/722753653","html_url":"https://github.com/apache/iceberg/pull/1733#issuecomment-722753653","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1733","id":722753653,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjc1MzY1Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-06T01:41:31Z","updated_at":"2020-11-06T01:41:31Z","author_association":"CONTRIBUTOR","body":"@TGooch44, @rymurr, @Fokko, you may be interested in reviewing this PR that replaces Travis CI with github actions.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/722753653/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/722755089","html_url":"https://github.com/apache/iceberg/issues/1717#issuecomment-722755089","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1717","id":722755089,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjc1NTA4OQ==","user":{"login":"zanmeipaul","id":20592867,"node_id":"MDQ6VXNlcjIwNTkyODY3","avatar_url":"https://avatars.githubusercontent.com/u/20592867?v=4","gravatar_id":"","url":"https://api.github.com/users/zanmeipaul","html_url":"https://github.com/zanmeipaul","followers_url":"https://api.github.com/users/zanmeipaul/followers","following_url":"https://api.github.com/users/zanmeipaul/following{/other_user}","gists_url":"https://api.github.com/users/zanmeipaul/gists{/gist_id}","starred_url":"https://api.github.com/users/zanmeipaul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zanmeipaul/subscriptions","organizations_url":"https://api.github.com/users/zanmeipaul/orgs","repos_url":"https://api.github.com/users/zanmeipaul/repos","events_url":"https://api.github.com/users/zanmeipaul/events{/privacy}","received_events_url":"https://api.github.com/users/zanmeipaul/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-06T01:45:34Z","updated_at":"2020-11-06T01:45:34Z","author_association":"NONE","body":"Use #1724 this case to write and delete files","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/722755089/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/722756631","html_url":"https://github.com/apache/iceberg/pull/1730#issuecomment-722756631","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1730","id":722756631,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjc1NjYzMQ==","user":{"login":"zanmeipaul","id":20592867,"node_id":"MDQ6VXNlcjIwNTkyODY3","avatar_url":"https://avatars.githubusercontent.com/u/20592867?v=4","gravatar_id":"","url":"https://api.github.com/users/zanmeipaul","html_url":"https://github.com/zanmeipaul","followers_url":"https://api.github.com/users/zanmeipaul/followers","following_url":"https://api.github.com/users/zanmeipaul/following{/other_user}","gists_url":"https://api.github.com/users/zanmeipaul/gists{/gist_id}","starred_url":"https://api.github.com/users/zanmeipaul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zanmeipaul/subscriptions","organizations_url":"https://api.github.com/users/zanmeipaul/orgs","repos_url":"https://api.github.com/users/zanmeipaul/repos","events_url":"https://api.github.com/users/zanmeipaul/events{/privacy}","received_events_url":"https://api.github.com/users/zanmeipaul/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-06T01:49:46Z","updated_at":"2020-11-06T01:49:46Z","author_association":"NONE","body":"Thank you @rdblue , #1724  and #1726   closed","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/722756631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/722773940","html_url":"https://github.com/apache/iceberg/pull/1725#issuecomment-722773940","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1725","id":722773940,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjc3Mzk0MA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-06T02:39:52Z","updated_at":"2020-11-06T02:39:52Z","author_association":"CONTRIBUTOR","body":"Thanks for the quick reviewing!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/722773940/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723207711","html_url":"https://github.com/apache/iceberg/pull/1734#issuecomment-723207711","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1734","id":723207711,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzIwNzcxMQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-06T17:36:26Z","updated_at":"2020-11-06T17:36:26Z","author_association":"CONTRIBUTOR","body":"Merged these changes into #1733.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723207711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723210332","html_url":"https://github.com/apache/iceberg/pull/1730#issuecomment-723210332","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1730","id":723210332,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzIxMDMzMg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-06T17:42:02Z","updated_at":"2020-11-06T17:42:02Z","author_association":"CONTRIBUTOR","body":"@zanmeipaul, thanks for catching this in time to get it into the release!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723210332/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723224357","html_url":"https://github.com/apache/iceberg/pull/1727#issuecomment-723224357","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1727","id":723224357,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzIyNDM1Nw==","user":{"login":"TGooch44","id":1591711,"node_id":"MDQ6VXNlcjE1OTE3MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1591711?v=4","gravatar_id":"","url":"https://api.github.com/users/TGooch44","html_url":"https://github.com/TGooch44","followers_url":"https://api.github.com/users/TGooch44/followers","following_url":"https://api.github.com/users/TGooch44/following{/other_user}","gists_url":"https://api.github.com/users/TGooch44/gists{/gist_id}","starred_url":"https://api.github.com/users/TGooch44/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TGooch44/subscriptions","organizations_url":"https://api.github.com/users/TGooch44/orgs","repos_url":"https://api.github.com/users/TGooch44/repos","events_url":"https://api.github.com/users/TGooch44/events{/privacy}","received_events_url":"https://api.github.com/users/TGooch44/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-06T18:11:14Z","updated_at":"2020-11-06T18:11:14Z","author_association":"CONTRIBUTOR","body":"@rdblue I'm not sure why this Run license check is failing.  I initially didn't have those files in my PR, but I've rebased onto the current master and still seems to not have them. When I look at my branch in my repo they are there. Also,  when running locally the license check passes for all the python files.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723224357/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723226911","html_url":"https://github.com/apache/iceberg/issues/1735#issuecomment-723226911","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1735","id":723226911,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzIyNjkxMQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-06T18:16:28Z","updated_at":"2020-11-06T18:16:28Z","author_association":"MEMBER","body":"Attached is a sample table I made which reproduces the issue\r\n[oldicebergtable.zip](https://github.com/apache/iceberg/files/5502839/oldicebergtable.zip)\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723226911/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723232790","html_url":"https://github.com/apache/iceberg/pull/1727#issuecomment-723232790","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1727","id":723232790,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzIzMjc5MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-06T18:28:43Z","updated_at":"2020-11-06T18:28:43Z","author_association":"CONTRIBUTOR","body":"@TGooch44, the license check is new and master had failures that we fixed yesterday. Pushing to this branch should fix it, but I'm okay just ignoring the errors that we already fixed.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723232790/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723236019","html_url":"https://github.com/apache/iceberg/issues/1702#issuecomment-723236019","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1702","id":723236019,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzIzNjAxOQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-06T18:36:11Z","updated_at":"2020-11-06T18:36:11Z","author_association":"CONTRIBUTOR","body":"That's not a feature that's been implemented.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723236019/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723238361","html_url":"https://github.com/apache/iceberg/issues/1698#issuecomment-723238361","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1698","id":723238361,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzIzODM2MQ==","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-06T18:41:26Z","updated_at":"2020-11-06T18:41:26Z","author_association":"CONTRIBUTOR","body":"@openinx @JingsongLi @rdblue any comment?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723238361/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723247823","html_url":"https://github.com/apache/iceberg/issues/1735#issuecomment-723247823","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1735","id":723247823,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzI0NzgyMw==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-06T19:02:36Z","updated_at":"2020-11-06T19:02:36Z","author_association":"MEMBER","body":"Ok these are two Separate issues.\r\n\r\nThe \"status\" issue only happens when dealing with old tables.\r\n\r\nThe \"data_file.subfield\" issue happens with new tables as well","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723247823/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723249173","html_url":"https://github.com/apache/iceberg/pull/1573#issuecomment-723249173","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1573","id":723249173,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzI0OTE3Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-06T19:05:35Z","updated_at":"2020-11-06T19:05:35Z","author_association":"CONTRIBUTOR","body":"Looks like a bug in an error message caught by errorprone:\r\n```\r\n/home/runner/work/iceberg/iceberg/aws/src/main/java/org/apache/iceberg/aws/s3/S3URI.java:64: error: [FormatStringAnnotation] extra format arguments: used 0, provided 1\r\n    ValidationException.check(VALID_SCHEMES.contains(scheme.toLowerCase()), \"Invalid scheme: \", scheme);\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723249173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723277610","html_url":"https://github.com/apache/iceberg/pull/1573#issuecomment-723277610","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1573","id":723277610,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzI3NzYxMA==","user":{"login":"danielcweeks","id":4925077,"node_id":"MDQ6VXNlcjQ5MjUwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4925077?v=4","gravatar_id":"","url":"https://api.github.com/users/danielcweeks","html_url":"https://github.com/danielcweeks","followers_url":"https://api.github.com/users/danielcweeks/followers","following_url":"https://api.github.com/users/danielcweeks/following{/other_user}","gists_url":"https://api.github.com/users/danielcweeks/gists{/gist_id}","starred_url":"https://api.github.com/users/danielcweeks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielcweeks/subscriptions","organizations_url":"https://api.github.com/users/danielcweeks/orgs","repos_url":"https://api.github.com/users/danielcweeks/repos","events_url":"https://api.github.com/users/danielcweeks/events{/privacy}","received_events_url":"https://api.github.com/users/danielcweeks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-06T20:12:09Z","updated_at":"2020-11-06T20:12:09Z","author_association":"CONTRIBUTOR","body":"> Looks like a bug in an error message caught by errorprone:\r\n> \r\n> ```\r\n> /home/runner/work/iceberg/iceberg/aws/src/main/java/org/apache/iceberg/aws/s3/S3URI.java:64: error: [FormatStringAnnotation] extra format arguments: used 0, provided 1\r\n>     ValidationException.check(VALID_SCHEMES.contains(scheme.toLowerCase()), \"Invalid scheme: \", scheme);\r\n> ```\r\n\r\nInteresting, I ran checks locally and it didn't hit (maybe because I was just running build for the iceberg-aws project).  Pushed a fix for that.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723277610/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723278673","html_url":"https://github.com/apache/iceberg/pull/1722#issuecomment-723278673","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1722","id":723278673,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzI3ODY3Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-06T20:13:21Z","updated_at":"2020-11-06T20:13:21Z","author_association":"CONTRIBUTOR","body":"Merged. Thanks for the quick fix, @yyanyy!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723278673/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723295493","html_url":"https://github.com/apache/iceberg/issues/1735#issuecomment-723295493","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1735","id":723295493,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzI5NTQ5Mw==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-06T20:55:07Z","updated_at":"2020-11-06T20:55:07Z","author_association":"MEMBER","body":"Ok both of these issues seem to be related to trying to file an impossible projection with the AvroReader.\r\n\r\nFor the \"Status\" issue on the old table an empty projection is given,\r\nFor the \"subfield\" issue the projection is given as if looking for a top level field which seems not to work","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723295493/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723305364","html_url":"https://github.com/apache/iceberg/pull/1736#issuecomment-723305364","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1736","id":723305364,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzMwNTM2NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-06T21:21:41Z","updated_at":"2020-11-06T21:21:41Z","author_association":"CONTRIBUTOR","body":"Thanks, @samarthjain!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723305364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723332831","html_url":"https://github.com/apache/iceberg/pull/1728#issuecomment-723332831","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1728","id":723332831,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzMzMjgzMQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-06T22:43:31Z","updated_at":"2020-11-06T22:43:31Z","author_association":"CONTRIBUTOR","body":"Looks great, I'll merge!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723332831/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723335583","html_url":"https://github.com/apache/iceberg/issues/1735#issuecomment-723335583","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1735","id":723335583,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzMzNTU4Mw==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-06T22:53:23Z","updated_at":"2020-11-06T22:57:34Z","author_association":"MEMBER","body":"The Status issue is caused by a BuildAvroProjection call,\r\nThe empty projection note above is turned into a full manifest entry spec request including data_file as a required field. The actual records present in the \"Record\" call in BuildAvroProjection have a schema like\r\n\r\n```\r\nstatus type:INT pos:0\r\nsnapshot_id type:UNION pos:1\r\n```\r\n\r\nThis doesn't have the data_file field which causes the projection to fail with \"No field data_file\" found\r\n\r\n\r\nWe get this because in ProjectionDatumReader.java setSchema we attempt to prune an expected schema which contains all files and result in a pruned schema with only the above 2 columns.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723335583/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723344900","html_url":"https://github.com/apache/iceberg/pull/1737#issuecomment-723344900","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1737","id":723344900,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzM0NDkwMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-06T23:27:57Z","updated_at":"2020-11-06T23:27:57Z","author_association":"CONTRIBUTOR","body":"Because this only changes docs, I think the [test failure](https://github.com/apache/iceberg/pull/1737/checks?check_run_id=1366119844#step:5:5750) is unrelated. I'll merge this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723344900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723364520","html_url":"https://github.com/apache/iceberg/pull/1573#issuecomment-723364520","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1573","id":723364520,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzM2NDUyMA==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-07T00:59:53Z","updated_at":"2020-11-07T00:59:53Z","author_association":"CONTRIBUTOR","body":"Looks like this PR is close to get merged. I will wait on the Glue side and switch to use S3FileIO as the default IO. And just FYI, I also have the KMS and multipart upload features ready, and will create PRs once this one is pushed.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723364520/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723369468","html_url":"https://github.com/apache/iceberg/issues/1735#issuecomment-723369468","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1735","id":723369468,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzM2OTQ2OA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-07T01:31:05Z","updated_at":"2020-11-07T01:31:05Z","author_association":"MEMBER","body":"Pretty sure the specific error is here\r\n\r\n```\r\n    Set<Integer> projectedIds = TypeUtil.getProjectedIds(expectedSchema)\r\n```\r\n\r\nGiven an expected schema\r\n```\r\n< 0: Status, 1: snapshot_id, 3: Sequence_number, 2: data_file >\r\n```\r\n\r\nThe code returns\r\n```\r\n<0 , 1, 3>\r\n```\r\n\r\nSo our pruned schema looks like\r\n   Schema prunedSchema = AvroSchemaUtil.pruneColumns(newFileSchema, projectedIds, nameMapping);\r\n```\r\n0 status, 1 snapshot_id\r\n```\r\n\r\nMissing the requested data_file column\r\n\r\nThis all seems to happen on the executors, and since we shouldn't be reading those other columns in the first place it seem to me like the Projection is actually not being serialized correctly to the executors apart from this error with the bad mapping for projectedIds","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723369468/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723370890","html_url":"https://github.com/apache/iceberg/pull/1573#issuecomment-723370890","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1573","id":723370890,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzM3MDg5MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-07T01:41:16Z","updated_at":"2020-11-07T01:41:16Z","author_association":"CONTRIBUTOR","body":"I resolved the conflicts with #1728 in LICENSE and versions.props. Just waiting for the checks to pass and we can merge.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723370890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723373179","html_url":"https://github.com/apache/iceberg/issues/1735#issuecomment-723373179","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1735","id":723373179,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzM3MzE3OQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-07T02:00:04Z","updated_at":"2020-11-07T02:00:46Z","author_association":"MEMBER","body":"From what I can tell this actually shouldn't be working on 0.9.1 but works because of a fluke.\r\n\r\nWhen running through prune Columns we check whether or not our field posses a selected ID\r\n\r\n```java\r\n      Schema fieldSchema = fields.get(field.pos());\r\n      // All primitives are selected by selecting the field, but map and list\r\n      // types can be selected by projecting the keys, values, or elements.\r\n      // This creates two conditions where the field should be selected: if the\r\n      // id is selected or if the result of the field is non-null. The only\r\n      // case where the converted field is non-null is when a map or list is\r\n      // selected by lower IDs.\r\n      if (selectedIds.contains(fieldId)) {\r\n        filteredFields.add(copyField(field, field.schema(), fieldId));\r\n      } else if (fieldSchema != null) {\r\n        hasChange = true;\r\n        filteredFields.add(copyField(field, fieldSchema, fieldId));\r\n      }\r\n```\r\n\r\nIn the 0.9.1 table this correctly also passes through selected field ID's of 0,1,3 \r\n\r\nWe still get the field.pos() on data_file of 2 so it doesn't match. BUT \r\nfields.get(2) returns the Partition schema in \"r2\" `partition type:Record pos:0`\r\n\r\nNow we aren't actually looking for that field, we are looking for the data_file field. BUT if \"filedSchema != null\" we follow the secondary pruning pathway above. This means we get to add in a copy where we set \r\n\"data_file to have schema RECORD and the fieldId\" we expect. Luckily we are pruning this out at the spark level but we are reading the wrong column data here.\r\n\r\nThe 0.8.0 table doesn't have the \"r2\" record placed in \"fields\" and instead just get's null\r\nleading to the error at the beginning of this ticket.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723373179/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723497661","html_url":"https://github.com/apache/iceberg/issues/1637#issuecomment-723497661","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1637","id":723497661,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzQ5NzY2MQ==","user":{"login":"johnclara","id":9331049,"node_id":"MDQ6VXNlcjkzMzEwNDk=","avatar_url":"https://avatars.githubusercontent.com/u/9331049?v=4","gravatar_id":"","url":"https://api.github.com/users/johnclara","html_url":"https://github.com/johnclara","followers_url":"https://api.github.com/users/johnclara/followers","following_url":"https://api.github.com/users/johnclara/following{/other_user}","gists_url":"https://api.github.com/users/johnclara/gists{/gist_id}","starred_url":"https://api.github.com/users/johnclara/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johnclara/subscriptions","organizations_url":"https://api.github.com/users/johnclara/orgs","repos_url":"https://api.github.com/users/johnclara/repos","events_url":"https://api.github.com/users/johnclara/events{/privacy}","received_events_url":"https://api.github.com/users/johnclara/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-07T21:29:30Z","updated_at":"2020-11-07T21:30:48Z","author_association":"NONE","body":"Sorry for the delay! @rdblue https://github.com/apache/iceberg/pull/1514 this pull request seems to have fixed the issue by deduping the files by path before creating the immutable map. This still lets the file be read multiple times but that behavior should probably be expected. I'll send out a PR with a test","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723497661/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723503976","html_url":"https://github.com/apache/iceberg/pull/1573#issuecomment-723503976","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1573","id":723503976,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzUwMzk3Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-07T22:40:40Z","updated_at":"2020-11-07T22:40:40Z","author_association":"CONTRIBUTOR","body":"Merged! Thanks for the comments and reviews, everyone!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723503976/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723504427","html_url":"https://github.com/apache/iceberg/pull/1716#issuecomment-723504427","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1716","id":723504427,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzUwNDQyNw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-07T22:45:59Z","updated_at":"2020-11-07T22:45:59Z","author_association":"CONTRIBUTOR","body":"Looks good now. Thanks @chenjunjiedada!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723504427/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723504561","html_url":"https://github.com/apache/iceberg/pull/1633#issuecomment-723504561","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1633","id":723504561,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzUwNDU2MQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-07T22:47:28Z","updated_at":"2020-11-07T22:47:28Z","author_association":"CONTRIBUTOR","body":"@jackye1995, can you update this? #1573 was just merged. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723504561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723504599","html_url":"https://github.com/apache/iceberg/pull/1705#issuecomment-723504599","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1705","id":723504599,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzUwNDU5OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-07T22:47:52Z","updated_at":"2020-11-07T22:47:52Z","author_association":"CONTRIBUTOR","body":"@openinx, can you take a look at this?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723504599/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723504953","html_url":"https://github.com/apache/iceberg/issues/1637#issuecomment-723504953","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1637","id":723504953,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzUwNDk1Mw==","user":{"login":"johnclara","id":9331049,"node_id":"MDQ6VXNlcjkzMzEwNDk=","avatar_url":"https://avatars.githubusercontent.com/u/9331049?v=4","gravatar_id":"","url":"https://api.github.com/users/johnclara","html_url":"https://github.com/johnclara","followers_url":"https://api.github.com/users/johnclara/followers","following_url":"https://api.github.com/users/johnclara/following{/other_user}","gists_url":"https://api.github.com/users/johnclara/gists{/gist_id}","starred_url":"https://api.github.com/users/johnclara/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johnclara/subscriptions","organizations_url":"https://api.github.com/users/johnclara/orgs","repos_url":"https://api.github.com/users/johnclara/repos","events_url":"https://api.github.com/users/johnclara/events{/privacy}","received_events_url":"https://api.github.com/users/johnclara/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-07T22:51:46Z","updated_at":"2020-11-07T22:51:58Z","author_association":"NONE","body":"@rdblue opened pr #1739 with what we added to get around this. it's a pretty bad patch and we'll try to get rid of it","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723504953/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723526016","html_url":"https://github.com/apache/iceberg/issues/1589#issuecomment-723526016","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1589","id":723526016,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzUyNjAxNg==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-08T03:35:11Z","updated_at":"2020-11-08T03:35:11Z","author_association":"CONTRIBUTOR","body":"Done in #1728.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723526016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723561556","html_url":"https://github.com/apache/iceberg/pull/1739#issuecomment-723561556","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1739","id":723561556,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzU2MTU1Ng==","user":{"login":"johnclara","id":9331049,"node_id":"MDQ6VXNlcjkzMzEwNDk=","avatar_url":"https://avatars.githubusercontent.com/u/9331049?v=4","gravatar_id":"","url":"https://api.github.com/users/johnclara","html_url":"https://github.com/johnclara","followers_url":"https://api.github.com/users/johnclara/followers","following_url":"https://api.github.com/users/johnclara/following{/other_user}","gists_url":"https://api.github.com/users/johnclara/gists{/gist_id}","starred_url":"https://api.github.com/users/johnclara/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johnclara/subscriptions","organizations_url":"https://api.github.com/users/johnclara/orgs","repos_url":"https://api.github.com/users/johnclara/repos","events_url":"https://api.github.com/users/johnclara/events{/privacy}","received_events_url":"https://api.github.com/users/johnclara/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-08T11:06:02Z","updated_at":"2020-11-08T11:30:06Z","author_association":"NONE","body":"@openinx did you ever run into this issue in the flink committer with a \"failed\" commit which actually succeeded?\r\nLooking at:\r\n```\r\n  // A sorted map to maintain the completed data files for each pending checkpointId (which have not been committed\r\n  // to iceberg table). We need a sorted map here because there's possible that few checkpoints snapshot failed, for\r\n  // example: the 1st checkpoint have 2 data files <1, <file0, file1>>, the 2st checkpoint have 1 data files\r\n  // <2, <file3>>. Snapshot for checkpoint#1 interrupted because of network/disk failure etc, while we don't expect\r\n  // any data loss in iceberg table. So we keep the finished files <1, <file0, file1>> in memory and retry to commit\r\n  // iceberg table when the next checkpoint happen.\r\n  private final NavigableMap<Long, byte[]> dataFilesPerCheckpoint = Maps.newTreeMap();\r\n```\r\n\r\nNevermind, it looks like you skip already committed files during initialize to avoid this. I need to learn more about Two Phase Commit","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723561556/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723645208","html_url":"https://github.com/apache/iceberg/pull/1566#issuecomment-723645208","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1566","id":723645208,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzY0NTIwOA==","user":{"login":"shangxinli","id":31421745,"node_id":"MDQ6VXNlcjMxNDIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/31421745?v=4","gravatar_id":"","url":"https://api.github.com/users/shangxinli","html_url":"https://github.com/shangxinli","followers_url":"https://api.github.com/users/shangxinli/followers","following_url":"https://api.github.com/users/shangxinli/following{/other_user}","gists_url":"https://api.github.com/users/shangxinli/gists{/gist_id}","starred_url":"https://api.github.com/users/shangxinli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shangxinli/subscriptions","organizations_url":"https://api.github.com/users/shangxinli/orgs","repos_url":"https://api.github.com/users/shangxinli/repos","events_url":"https://api.github.com/users/shangxinli/events{/privacy}","received_events_url":"https://api.github.com/users/shangxinli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-08T18:05:17Z","updated_at":"2020-11-08T18:05:17Z","author_association":"CONTRIBUTOR","body":"@rdblue I looked at the implementation of ColumnIndex. Here are what we need to do to rewrite this filter and use it in Iceberg. \r\n1. Rewrite the equivalent filters in the Parquet ColumnIndexFilter class. \r\n2. Rewrite ParquetFileReader#getRowRanges(), which applies the column index filters and get rowRanges (RowRanges).  \r\n3. Use the filtered rowRanges gotten in step 2 to build a PageReadStore like ColumnChunkPageReadStore https://github.com/apache/parquet-mr/blob/master/parquet-hadoop/src/main/java/org/apache/parquet/hadoop/ParquetFileReader.java#L976. Unfortunately ColumnChunkPageReadStore() is not a public class for Iceberg to use. This would require us to rewrite our own PageReadStore, or let Parquet make it public. \r\n4. With the filtered rowRanges to get filteredOffsetIndex, we can read all the parts needed with it. Then we need SynchronizingColumnReader to synchronize cross columns. Unfortunately, SynchronizingColumnReader is not a public class either. We need to rewrite it in Iceberg.\r\n5. Wrap up the step #2, #3, #4 into a method to replace readNextFilteredRowGroup() in Parquet. \r\n\r\nThe work seems more than just rewriting the filter but also rewriting ColumnChunkPageReadStore, SynchronizingColumnReader, and partially ParquetFileReader. This makes me think should we continue rewriting or reusing? If we choose to reuse, we can limit the filter not to support startWith, in.., or we can add them into Parquet. Let me know you thought.  \r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723645208/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723711378","html_url":"https://github.com/apache/iceberg/pull/1703#issuecomment-723711378","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1703","id":723711378,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzcxMTM3OA==","user":{"login":"zhangdove","id":25578853,"node_id":"MDQ6VXNlcjI1NTc4ODUz","avatar_url":"https://avatars.githubusercontent.com/u/25578853?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangdove","html_url":"https://github.com/zhangdove","followers_url":"https://api.github.com/users/zhangdove/followers","following_url":"https://api.github.com/users/zhangdove/following{/other_user}","gists_url":"https://api.github.com/users/zhangdove/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangdove/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangdove/subscriptions","organizations_url":"https://api.github.com/users/zhangdove/orgs","repos_url":"https://api.github.com/users/zhangdove/repos","events_url":"https://api.github.com/users/zhangdove/events{/privacy}","received_events_url":"https://api.github.com/users/zhangdove/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-09T02:01:19Z","updated_at":"2020-11-09T02:01:19Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/iceberg/issues/1702#issuecomment-722040499\r\nThis PR does seem to be causing other problems, so I'll close it for now.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723711378/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723711676","html_url":"https://github.com/apache/iceberg/issues/1702#issuecomment-723711676","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1702","id":723711676,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzcxMTY3Ng==","user":{"login":"zhangdove","id":25578853,"node_id":"MDQ6VXNlcjI1NTc4ODUz","avatar_url":"https://avatars.githubusercontent.com/u/25578853?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangdove","html_url":"https://github.com/zhangdove","followers_url":"https://api.github.com/users/zhangdove/followers","following_url":"https://api.github.com/users/zhangdove/following{/other_user}","gists_url":"https://api.github.com/users/zhangdove/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangdove/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangdove/subscriptions","organizations_url":"https://api.github.com/users/zhangdove/orgs","repos_url":"https://api.github.com/users/zhangdove/repos","events_url":"https://api.github.com/users/zhangdove/events{/privacy}","received_events_url":"https://api.github.com/users/zhangdove/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-09T02:02:10Z","updated_at":"2020-11-09T02:02:10Z","author_association":"CONTRIBUTOR","body":"Thanks for your reply!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723711676/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723798146","html_url":"https://github.com/apache/iceberg/issues/1718#issuecomment-723798146","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1718","id":723798146,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzc5ODE0Ng==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-09T06:44:29Z","updated_at":"2020-11-09T06:48:11Z","author_association":"CONTRIBUTOR","body":"Have seen the problem when working on #1612 and fixed it there.\r\n\r\nThe `/hive/default.db/iceberg_table` does not seem like a valid HadoopCatalog table path, so that too has to be changed to a valid path if I am correct.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723798146/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723812718","html_url":"https://github.com/apache/iceberg/pull/1669#issuecomment-723812718","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1669","id":723812718,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzgxMjcxOA==","user":{"login":"simonsssu","id":12323514,"node_id":"MDQ6VXNlcjEyMzIzNTE0","avatar_url":"https://avatars.githubusercontent.com/u/12323514?v=4","gravatar_id":"","url":"https://api.github.com/users/simonsssu","html_url":"https://github.com/simonsssu","followers_url":"https://api.github.com/users/simonsssu/followers","following_url":"https://api.github.com/users/simonsssu/following{/other_user}","gists_url":"https://api.github.com/users/simonsssu/gists{/gist_id}","starred_url":"https://api.github.com/users/simonsssu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simonsssu/subscriptions","organizations_url":"https://api.github.com/users/simonsssu/orgs","repos_url":"https://api.github.com/users/simonsssu/repos","events_url":"https://api.github.com/users/simonsssu/events{/privacy}","received_events_url":"https://api.github.com/users/simonsssu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-09T07:15:40Z","updated_at":"2020-11-09T07:15:40Z","author_association":"CONTRIBUTOR","body":"https://docs.google.com/document/d/1pK2aN9Nv1HjYaJFYTQUWsttp4ahwFPoZbvmPpZ0T32k/edit#heading=h.asry5i6qtp9p\r\n@JingsongLi  Hi Jingsong, I have draft a simple doc. Sorry for late response.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723812718/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723837802","html_url":"https://github.com/apache/iceberg/pull/1669#issuecomment-723837802","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1669","id":723837802,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzgzNzgwMg==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-09T08:00:14Z","updated_at":"2020-11-09T08:00:14Z","author_association":"MEMBER","body":"@simonsssu Mind to grant the access to the document ? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723837802/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723888343","html_url":"https://github.com/apache/iceberg/pull/1607#issuecomment-723888343","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1607","id":723888343,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzg4ODM0Mw==","user":{"login":"lcspinter","id":47777102,"node_id":"MDQ6VXNlcjQ3Nzc3MTAy","avatar_url":"https://avatars.githubusercontent.com/u/47777102?v=4","gravatar_id":"","url":"https://api.github.com/users/lcspinter","html_url":"https://github.com/lcspinter","followers_url":"https://api.github.com/users/lcspinter/followers","following_url":"https://api.github.com/users/lcspinter/following{/other_user}","gists_url":"https://api.github.com/users/lcspinter/gists{/gist_id}","starred_url":"https://api.github.com/users/lcspinter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lcspinter/subscriptions","organizations_url":"https://api.github.com/users/lcspinter/orgs","repos_url":"https://api.github.com/users/lcspinter/repos","events_url":"https://api.github.com/users/lcspinter/events{/privacy}","received_events_url":"https://api.github.com/users/lcspinter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-09T09:30:35Z","updated_at":"2020-11-09T09:30:35Z","author_association":"CONTRIBUTOR","body":"@rdblue If you have time, could you please have a second look at this change? Thanks","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723888343/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723900972","html_url":"https://github.com/apache/iceberg/pull/1663#issuecomment-723900972","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1663","id":723900972,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzkwMDk3Mg==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-09T09:51:29Z","updated_at":"2020-11-09T09:51:29Z","author_association":"MEMBER","body":"Hi @rdblue ,  I've finished the basic abstraction for DeltaWriter (it's a draft, I proposed many TODO issues),  which would write insert records, equality records and position records (with row or without row).  How is your feeling about this abstraction work ?  \r\n\r\n(I'm still working with the integration things so that I could import the mysql binlog events from the source [flink-cdc-connector](https://github.com/ververica/flink-cdc-connectors) to apache iceberg table and read them correctly ).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/723900972/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724015428","html_url":"https://github.com/apache/iceberg/issues/1735#issuecomment-724015428","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1735","id":724015428,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDAxNTQyOA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-09T13:32:43Z","updated_at":"2020-11-09T13:32:43Z","author_association":"MEMBER","body":"Ok! I'm finally going less crazy, this isn't an issue with old tables, this is broken on new tables as well, any Partitioned table is broken regardless of when it was made. My 0.9.X table I was testing before is also broken if it is partitioned, the key difference was between partitioned and not.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724015428/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724025648","html_url":"https://github.com/apache/iceberg/issues/1735#issuecomment-724025648","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1735","id":724025648,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDAyNTY0OA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-09T13:50:43Z","updated_at":"2020-11-09T13:50:58Z","author_association":"MEMBER","body":"Repo for IcebergSourceTableTest\r\n\r\n``` java\r\n@Test\r\n  public void testEntriesTablePartitionedPrune() throws Exception {\r\n    TableIdentifier tableIdentifier = TableIdentifier.of(\"db\", \"entries_test\");\r\n    Table table = createTable(tableIdentifier, SCHEMA, SPEC);\r\n    Table entriesTable = loadTable(tableIdentifier, \"entries\");\r\n\r\n    List<SimpleRecord> records = Lists.newArrayList(new SimpleRecord(1, \"1\"));\r\n\r\n    Dataset<Row> inputDf = spark.createDataFrame(records, SimpleRecord.class);\r\n    inputDf.select(\"id\", \"data\").write()\r\n        .format(\"iceberg\")\r\n        .mode(\"append\")\r\n        .save(loadLocation(tableIdentifier));\r\n\r\n    table.refresh();\r\n\r\n    List<Row> actual = spark.read()\r\n        .format(\"iceberg\")\r\n        .load(loadLocation(tableIdentifier, \"entries\"))\r\n        .select(\"status\")\r\n        .collectAsList();\r\n\r\n    Snapshot snapshot = table.currentSnapshot();\r\n\r\n    Assert.assertEquals(\"Should only contain one manifest\", 1, snapshot.allManifests().size());\r\n    Assert.assertEquals(\"Results should contain only one status\", 1, actual.size());\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724025648/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724053798","html_url":"https://github.com/apache/iceberg/issues/1735#issuecomment-724053798","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1735","id":724053798,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDA1Mzc5OA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-09T14:38:38Z","updated_at":"2020-11-09T14:43:14Z","author_association":"MEMBER","body":"A more complete view.\r\n\r\nWe call pruneColumns with ```{0 : status,1 : snapshot, 3: sequence_number}``` as our selected ID's on a second pass (still not sure why we hit this twice or why we request these 3 columns seems like this is a bug too)\r\n\r\nThese selectedIds are passed in with the fileSchema correctly but there is a slightly strange behavior within the pruning code\r\n\r\nhttps://github.com/apache/iceberg/blob/d1ba7b62abdad6b9fd8f3ec98f789ca53e9cf7b4/core/src/main/java/org/apache/iceberg/avro/PruneColumns.java#L97-L98\r\n\r\nThis filter means that any \"empty\" schema will automatically not be removed. If empty schemas are never removed then any top level schema element that contains an empty sub schema element will be saved. This happens when a table is unpartitioned since the PartitionType struct subfield of the file schema is empty.\r\n\r\nWhen the table is unpartitioned the sub schema of \"partitionType\" is empty, this means filteredFields.size == record.getFields.size() SO the \"data_file\" field is not pruned out. This means when we go back up the stack and attempt to resolve the top level schema we get a call to \"record\" with the last parameter \"fields\" set to \r\n\r\n```\r\nnull,\r\nnull,\r\n{\"type\":\"record\",\"name\":\"r2\",\"fields\":[{\"name\":\"partition\",\"type\":{\"type\":\"record\",\"name\":\"r102\",\"fields\":[]},\"field-id\":102}]},\r\n```\r\n\r\nThis saves us in the \"unpartitioned\" pruning case because then when we get down to the check\r\n\r\n\r\nhttps://github.com/apache/iceberg/blob/d1ba7b62abdad6b9fd8f3ec98f789ca53e9cf7b4/core/src/main/java/org/apache/iceberg/avro/PruneColumns.java#L80-L86\r\n\r\nFields.get(2) has a field schema  Even though we didn't ask for \"partition\", the Line 97 check only says we cannot ever prune an empty struct. Since we can't prune the empty \"partitionStruct\" we end up having to keep data_file even though it is not on our list of selected Ids.\r\n\r\n\r\n**TLDR** This is broken because we ask for the wrong field IDs but is unbroken only for unpartitioned tables because we also incorrectly can never prune an empty struct\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724053798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724130212","html_url":"https://github.com/apache/iceberg/pull/1663#issuecomment-724130212","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1663","id":724130212,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDEzMDIxMg==","user":{"login":"rice668","id":6520673,"node_id":"MDQ6VXNlcjY1MjA2NzM=","avatar_url":"https://avatars.githubusercontent.com/u/6520673?v=4","gravatar_id":"","url":"https://api.github.com/users/rice668","html_url":"https://github.com/rice668","followers_url":"https://api.github.com/users/rice668/followers","following_url":"https://api.github.com/users/rice668/following{/other_user}","gists_url":"https://api.github.com/users/rice668/gists{/gist_id}","starred_url":"https://api.github.com/users/rice668/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rice668/subscriptions","organizations_url":"https://api.github.com/users/rice668/orgs","repos_url":"https://api.github.com/users/rice668/repos","events_url":"https://api.github.com/users/rice668/events{/privacy}","received_events_url":"https://api.github.com/users/rice668/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-09T16:40:36Z","updated_at":"2020-11-09T16:41:14Z","author_association":"CONTRIBUTOR","body":"Thanks to @openinx , Our company has been looking forward to this CDC capability for a long time. I can't wait to experiment it!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724130212/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724218264","html_url":"https://github.com/apache/iceberg/pull/1727#issuecomment-724218264","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1727","id":724218264,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDIxODI2NA==","user":{"login":"TGooch44","id":1591711,"node_id":"MDQ6VXNlcjE1OTE3MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1591711?v=4","gravatar_id":"","url":"https://api.github.com/users/TGooch44","html_url":"https://github.com/TGooch44","followers_url":"https://api.github.com/users/TGooch44/followers","following_url":"https://api.github.com/users/TGooch44/following{/other_user}","gists_url":"https://api.github.com/users/TGooch44/gists{/gist_id}","starred_url":"https://api.github.com/users/TGooch44/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TGooch44/subscriptions","organizations_url":"https://api.github.com/users/TGooch44/orgs","repos_url":"https://api.github.com/users/TGooch44/repos","events_url":"https://api.github.com/users/TGooch44/events{/privacy}","received_events_url":"https://api.github.com/users/TGooch44/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-09T19:12:46Z","updated_at":"2020-11-09T19:12:46Z","author_association":"CONTRIBUTOR","body":"@rymurr Let me know what you think on this. I wasn't able to get a version working with multiple files being passed in because (at least I believe) we aren't able to know the schema for a each file in a set ahead of time, and the arrow Datasets read didn't like it when there were multiple schemas in the set.  Not sure if there is some way to pass in a list of files, and get back a list of tables instead of trying to conform all the files to a single schema.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724218264/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724220000","html_url":"https://github.com/apache/iceberg/pull/1727#issuecomment-724220000","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1727","id":724220000,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDIyMDAwMA==","user":{"login":"TGooch44","id":1591711,"node_id":"MDQ6VXNlcjE1OTE3MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1591711?v=4","gravatar_id":"","url":"https://api.github.com/users/TGooch44","html_url":"https://github.com/TGooch44","followers_url":"https://api.github.com/users/TGooch44/followers","following_url":"https://api.github.com/users/TGooch44/following{/other_user}","gists_url":"https://api.github.com/users/TGooch44/gists{/gist_id}","starred_url":"https://api.github.com/users/TGooch44/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TGooch44/subscriptions","organizations_url":"https://api.github.com/users/TGooch44/orgs","repos_url":"https://api.github.com/users/TGooch44/repos","events_url":"https://api.github.com/users/TGooch44/events{/privacy}","received_events_url":"https://api.github.com/users/TGooch44/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-09T19:13:54Z","updated_at":"2020-11-09T19:13:54Z","author_association":"CONTRIBUTOR","body":"@rblue i rebased this to the current master and it looks like it fixed the previous issues.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724220000/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724232913","html_url":"https://github.com/apache/iceberg/pull/1727#issuecomment-724232913","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1727","id":724232913,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDIzMjkxMw==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-09T19:37:22Z","updated_at":"2020-11-09T19:37:22Z","author_association":"CONTRIBUTOR","body":"Hey @TGooch44 apologies, I'm about 3/4 done reviewing. Should have something tomorrow morning.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724232913/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724320412","html_url":"https://github.com/apache/iceberg/pull/1727#issuecomment-724320412","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1727","id":724320412,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDMyMDQxMg==","user":{"login":"TGooch44","id":1591711,"node_id":"MDQ6VXNlcjE1OTE3MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1591711?v=4","gravatar_id":"","url":"https://api.github.com/users/TGooch44","html_url":"https://github.com/TGooch44","followers_url":"https://api.github.com/users/TGooch44/followers","following_url":"https://api.github.com/users/TGooch44/following{/other_user}","gists_url":"https://api.github.com/users/TGooch44/gists{/gist_id}","starred_url":"https://api.github.com/users/TGooch44/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TGooch44/subscriptions","organizations_url":"https://api.github.com/users/TGooch44/orgs","repos_url":"https://api.github.com/users/TGooch44/repos","events_url":"https://api.github.com/users/TGooch44/events{/privacy}","received_events_url":"https://api.github.com/users/TGooch44/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-09T22:37:40Z","updated_at":"2020-11-09T22:37:40Z","author_association":"CONTRIBUTOR","body":"No problem, take your time. I'm very appreciative that you're reviewing it.\n\nOn Mon, Nov 9, 2020, 11:37 AM Ryan Murray <notifications@github.com> wrote:\n\n> Hey @TGooch44 <https://github.com/TGooch44> apologies, I'm about 3/4 done\n> reviewing. Should have something tomorrow morning.\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/iceberg/pull/1727#issuecomment-724232913>, or\n> unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AAMETH6VAC7IHQS7HNMDU2DSPBAIFANCNFSM4TLX5O3A>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724320412/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724348545","html_url":"https://github.com/apache/iceberg/pull/1745#issuecomment-724348545","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1745","id":724348545,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDM0ODU0NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-09T23:39:05Z","updated_at":"2020-11-09T23:39:05Z","author_association":"CONTRIBUTOR","body":"Thanks, @djsstarburst! Great to have this updated.\r\n\r\nAre there any plans to add documentation for Presto to this page? If not, then we might reformat this to just link from the top bar rather than having a page with the link.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724348545/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724351856","html_url":"https://github.com/apache/iceberg/pull/1743#issuecomment-724351856","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1743","id":724351856,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDM1MTg1Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-09T23:46:39Z","updated_at":"2020-11-09T23:46:39Z","author_association":"CONTRIBUTOR","body":"Mostly looks good, but I would probably pass arguments using an interface that passes InternalRow rather than using MethodHandle.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724351856/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724354430","html_url":"https://github.com/apache/iceberg/pull/1739#issuecomment-724354430","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1739","id":724354430,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDM1NDQzMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-09T23:53:01Z","updated_at":"2020-11-09T23:53:01Z","author_association":"CONTRIBUTOR","body":"I'm not sure that we want to do this. The issue in #1511 was that the same delete file needed to be applied to multiple data files in a task, which caused two identical entries in a map. That case had two valid references to the same file, not duplicate files.\r\n\r\nIceberg doesn't second-guess changes made through its API. If you add the same file twice, then you get duplicate data rows. It isn't feasible for Iceberg to deduplicate data files when appending, and I'm not sure it is a good idea to do this when reading. Even with a flag to turn on deduplication, you'd need to instruct all readers to deduplicate files.\r\n\r\nI would rather fix the process writing duplicates to Iceberg. You should be able to check whether a file or batch of files is already committed. That's what the Flink sink does when it recovers from a checkpoint -- it checks whether a given checkpoint's files were added in a commit using snapshot metadata. Can you use the same approach to avoid duplicates?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724354430/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724359855","html_url":"https://github.com/apache/iceberg/pull/1742#issuecomment-724359855","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1742","id":724359855,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDM1OTg1NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-10T00:05:48Z","updated_at":"2020-11-10T00:05:48Z","author_association":"CONTRIBUTOR","body":"I agree that option 2 is incorrect so we should go with either 1 or 3. Option 1 is definitely conservative. I can't think of any reason why option 3 would be dangerous, given that we can compare decimals with different scales. I think we can move forward with it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724359855/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724360229","html_url":"https://github.com/apache/iceberg/pull/1657#issuecomment-724360229","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1657","id":724360229,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDM2MDIyOQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-10T00:06:41Z","updated_at":"2020-11-10T00:06:41Z","author_association":"CONTRIBUTOR","body":"I merged this. Thanks, @Fokko!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724360229/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724384063","html_url":"https://github.com/apache/iceberg/issues/1746#issuecomment-724384063","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1746","id":724384063,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDM4NDA2Mw==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-10T01:11:36Z","updated_at":"2020-11-10T01:11:36Z","author_association":"CONTRIBUTOR","body":"Could you please elaborate this with details?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724384063/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724389141","html_url":"https://github.com/apache/iceberg/pull/1669#issuecomment-724389141","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1669","id":724389141,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDM4OTE0MQ==","user":{"login":"simonsssu","id":12323514,"node_id":"MDQ6VXNlcjEyMzIzNTE0","avatar_url":"https://avatars.githubusercontent.com/u/12323514?v=4","gravatar_id":"","url":"https://api.github.com/users/simonsssu","html_url":"https://github.com/simonsssu","followers_url":"https://api.github.com/users/simonsssu/followers","following_url":"https://api.github.com/users/simonsssu/following{/other_user}","gists_url":"https://api.github.com/users/simonsssu/gists{/gist_id}","starred_url":"https://api.github.com/users/simonsssu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simonsssu/subscriptions","organizations_url":"https://api.github.com/users/simonsssu/orgs","repos_url":"https://api.github.com/users/simonsssu/repos","events_url":"https://api.github.com/users/simonsssu/events{/privacy}","received_events_url":"https://api.github.com/users/simonsssu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-10T01:26:17Z","updated_at":"2020-11-10T01:26:17Z","author_association":"CONTRIBUTOR","body":"@openinx @JingsongLi Done \r\nhttps://docs.google.com/document/d/1pK2aN9Nv1HjYaJFYTQUWsttp4ahwFPoZbvmPpZ0T32k/edit?usp=sharing","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724389141/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724394053","html_url":"https://github.com/apache/iceberg/pull/1744#issuecomment-724394053","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1744","id":724394053,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDM5NDA1Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-10T01:40:35Z","updated_at":"2020-11-10T01:40:35Z","author_association":"CONTRIBUTOR","body":"For reference later, the problem here is that Avro's `BuildAvroProjection` can fail if the expected schema and Avro schema don't match. The problem in `GetProjectedIds` caused an empty `data_file` field to not get projected in the result of `PruneColumns` because no ID was returned to select it. The number of fields in the final Avro projection must match so that all column indexes align between the expected Iceberg schema and the schema passed to the Avro resolver.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724394053/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724396196","html_url":"https://github.com/apache/iceberg/pull/1704#issuecomment-724396196","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1704","id":724396196,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDM5NjE5Ng==","user":{"login":"zhangjun0x01","id":25563794,"node_id":"MDQ6VXNlcjI1NTYzNzk0","avatar_url":"https://avatars.githubusercontent.com/u/25563794?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangjun0x01","html_url":"https://github.com/zhangjun0x01","followers_url":"https://api.github.com/users/zhangjun0x01/followers","following_url":"https://api.github.com/users/zhangjun0x01/following{/other_user}","gists_url":"https://api.github.com/users/zhangjun0x01/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangjun0x01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangjun0x01/subscriptions","organizations_url":"https://api.github.com/users/zhangjun0x01/orgs","repos_url":"https://api.github.com/users/zhangjun0x01/repos","events_url":"https://api.github.com/users/zhangjun0x01/events{/privacy}","received_events_url":"https://api.github.com/users/zhangjun0x01/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-10T01:47:01Z","updated_at":"2020-11-10T01:47:01Z","author_association":"CONTRIBUTOR","body":"@openinx could you help me review the pr ? thanks ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724396196/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724402711","html_url":"https://github.com/apache/iceberg/pull/1747#issuecomment-724402711","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1747","id":724402711,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDQwMjcxMQ==","user":{"login":"yyanyy","id":71906210,"node_id":"MDQ6VXNlcjcxOTA2MjEw","avatar_url":"https://avatars.githubusercontent.com/u/71906210?v=4","gravatar_id":"","url":"https://api.github.com/users/yyanyy","html_url":"https://github.com/yyanyy","followers_url":"https://api.github.com/users/yyanyy/followers","following_url":"https://api.github.com/users/yyanyy/following{/other_user}","gists_url":"https://api.github.com/users/yyanyy/gists{/gist_id}","starred_url":"https://api.github.com/users/yyanyy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yyanyy/subscriptions","organizations_url":"https://api.github.com/users/yyanyy/orgs","repos_url":"https://api.github.com/users/yyanyy/repos","events_url":"https://api.github.com/users/yyanyy/events{/privacy}","received_events_url":"https://api.github.com/users/yyanyy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-10T02:08:08Z","updated_at":"2020-11-10T02:08:08Z","author_association":"CONTRIBUTOR","body":"(not related to this change itself) \r\nI was thinking how we should change metrics evaluators when we exclude NaN from upper/lower bounds. Here's a table I summarized about the changes we have to make:\r\n\r\n|                    | strict evaluator          | inclusive evaluator       |\r\n|--------------------|---------------------------|---------------------------|\r\n| ... where id lteq/gteq NaN |need to check if we are comparing with NaN, and check NaN counter if min==max==null |need to check if we are comparing with NaN, and check NaN counter |\r\n|... where id = V, V != NaN, and column contains some NaN | if min==max==V, need to check if there are null/NaN count to decide if `ROWS_MUST_MATCH` should be returned | no change |\r\n|... where id lt/lteq/gt/gteq V, V != NaN and column contains some NaN |if there are NaN count, return `ROWS_MIGHT_NOT_MATCH` (this may result in v2 returning more files than v1)| if there are NaN count, return `ROWS_MIGHT_MATCH` (this may result in v2 returning more files than v1)|\r\n|... where id lt/lteq/gt/gteq V, V != NaN, and column contains only NaN| no change | if there are null/NaN count, return `ROWS_MIGHT_MATCH` (this may result in v2 returning more files than v1)\r\n\r\nHere's an example for the explanation of \"this may result in v2 returning more files than v1\": say in v1 we consistently treat NaN as lower bound when there's any NaN value, and a file has stats distributed as below:\r\n```NaN-------<actual min>----<actual max>-----V-----```\r\nin v1 and without NaN counter, query `where x > V` will not return this file since it's outside the bound; however in v2 we will return it, since we don't know how to compare with NaN. \r\n\r\nAnother change is \"in\". In v2 we may need to explicitly check if there's NaN value in `literalSet` when comparing with lower/upper bound. \r\n\r\nDo statements I made above look right? Thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724402711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724411164","html_url":"https://github.com/apache/iceberg/issues/1746#issuecomment-724411164","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1746","id":724411164,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDQxMTE2NA==","user":{"login":"XuQianJin-Stars","id":10494131,"node_id":"MDQ6VXNlcjEwNDk0MTMx","avatar_url":"https://avatars.githubusercontent.com/u/10494131?v=4","gravatar_id":"","url":"https://api.github.com/users/XuQianJin-Stars","html_url":"https://github.com/XuQianJin-Stars","followers_url":"https://api.github.com/users/XuQianJin-Stars/followers","following_url":"https://api.github.com/users/XuQianJin-Stars/following{/other_user}","gists_url":"https://api.github.com/users/XuQianJin-Stars/gists{/gist_id}","starred_url":"https://api.github.com/users/XuQianJin-Stars/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XuQianJin-Stars/subscriptions","organizations_url":"https://api.github.com/users/XuQianJin-Stars/orgs","repos_url":"https://api.github.com/users/XuQianJin-Stars/repos","events_url":"https://api.github.com/users/XuQianJin-Stars/events{/privacy}","received_events_url":"https://api.github.com/users/XuQianJin-Stars/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-10T02:35:24Z","updated_at":"2020-11-10T02:35:24Z","author_association":"CONTRIBUTOR","body":"> Could you please elaborate this with details?\r\n\r\nhi @HeartSaVioR well, I will verify the implementation of this function to supplement this isuses.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724411164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724426199","html_url":"https://github.com/apache/iceberg/issues/1746#issuecomment-724426199","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1746","id":724426199,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDQyNjE5OQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-10T03:28:08Z","updated_at":"2020-11-10T03:28:08Z","author_association":"CONTRIBUTOR","body":"I meant, what is the use case, and what is the goal of the issue, and what would be your approach to deal with this if you'd like to work on this. I guess this is essential information to construct as rationalization when adding a new feature.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724426199/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724437522","html_url":"https://github.com/apache/iceberg/pull/1744#issuecomment-724437522","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1744","id":724437522,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDQzNzUyMg==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-10T04:10:45Z","updated_at":"2020-11-10T04:10:45Z","author_association":"MEMBER","body":"Also for reference, the other issue we are dealing with is that \"PruneColumns\" in the current implementation will always select any   record whose sub records are empty structs regardless of pruning Id's. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724437522/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724454774","html_url":"https://github.com/apache/iceberg/pull/1745#issuecomment-724454774","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1745","id":724454774,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDQ1NDc3NA==","user":{"login":"electrum","id":9230,"node_id":"MDQ6VXNlcjkyMzA=","avatar_url":"https://avatars.githubusercontent.com/u/9230?v=4","gravatar_id":"","url":"https://api.github.com/users/electrum","html_url":"https://github.com/electrum","followers_url":"https://api.github.com/users/electrum/followers","following_url":"https://api.github.com/users/electrum/following{/other_user}","gists_url":"https://api.github.com/users/electrum/gists{/gist_id}","starred_url":"https://api.github.com/users/electrum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/electrum/subscriptions","organizations_url":"https://api.github.com/users/electrum/orgs","repos_url":"https://api.github.com/users/electrum/repos","events_url":"https://api.github.com/users/electrum/events{/privacy}","received_events_url":"https://api.github.com/users/electrum/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-10T05:07:45Z","updated_at":"2020-11-10T05:07:45Z","author_association":"CONTRIBUTOR","body":"@rdblue good idea. I agree it’s better to just link to the Presto documentation, since it’s complete and always up to date.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724454774/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724562053","html_url":"https://github.com/apache/iceberg/pull/1739#issuecomment-724562053","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1739","id":724562053,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDU2MjA1Mw==","user":{"login":"johnclara","id":9331049,"node_id":"MDQ6VXNlcjkzMzEwNDk=","avatar_url":"https://avatars.githubusercontent.com/u/9331049?v=4","gravatar_id":"","url":"https://api.github.com/users/johnclara","html_url":"https://github.com/johnclara","followers_url":"https://api.github.com/users/johnclara/followers","following_url":"https://api.github.com/users/johnclara/following{/other_user}","gists_url":"https://api.github.com/users/johnclara/gists{/gist_id}","starred_url":"https://api.github.com/users/johnclara/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johnclara/subscriptions","organizations_url":"https://api.github.com/users/johnclara/orgs","repos_url":"https://api.github.com/users/johnclara/repos","events_url":"https://api.github.com/users/johnclara/events{/privacy}","received_events_url":"https://api.github.com/users/johnclara/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-10T08:58:53Z","updated_at":"2020-11-10T08:58:53Z","author_association":"NONE","body":"Yeah, we can try noting down the current snapshot id before an attempt and then checking back through the snapshots back to that snapshot id to look for the file before retrying.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724562053/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724609345","html_url":"https://github.com/apache/iceberg/pull/1742#issuecomment-724609345","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1742","id":724609345,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDYwOTM0NQ==","user":{"login":"marton-bod","id":19599214,"node_id":"MDQ6VXNlcjE5NTk5MjE0","avatar_url":"https://avatars.githubusercontent.com/u/19599214?v=4","gravatar_id":"","url":"https://api.github.com/users/marton-bod","html_url":"https://github.com/marton-bod","followers_url":"https://api.github.com/users/marton-bod/followers","following_url":"https://api.github.com/users/marton-bod/following{/other_user}","gists_url":"https://api.github.com/users/marton-bod/gists{/gist_id}","starred_url":"https://api.github.com/users/marton-bod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marton-bod/subscriptions","organizations_url":"https://api.github.com/users/marton-bod/orgs","repos_url":"https://api.github.com/users/marton-bod/repos","events_url":"https://api.github.com/users/marton-bod/events{/privacy}","received_events_url":"https://api.github.com/users/marton-bod/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-10T10:21:50Z","updated_at":"2020-11-10T10:21:50Z","author_association":"COLLABORATOR","body":"Thanks for the review @rdblue !","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724609345/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724620893","html_url":"https://github.com/apache/iceberg/pull/1417#issuecomment-724620893","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1417","id":724620893,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDYyMDg5Mw==","user":{"login":"marton-bod","id":19599214,"node_id":"MDQ6VXNlcjE5NTk5MjE0","avatar_url":"https://avatars.githubusercontent.com/u/19599214?v=4","gravatar_id":"","url":"https://api.github.com/users/marton-bod","html_url":"https://github.com/marton-bod","followers_url":"https://api.github.com/users/marton-bod/followers","following_url":"https://api.github.com/users/marton-bod/following{/other_user}","gists_url":"https://api.github.com/users/marton-bod/gists{/gist_id}","starred_url":"https://api.github.com/users/marton-bod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marton-bod/subscriptions","organizations_url":"https://api.github.com/users/marton-bod/orgs","repos_url":"https://api.github.com/users/marton-bod/repos","events_url":"https://api.github.com/users/marton-bod/events{/privacy}","received_events_url":"https://api.github.com/users/marton-bod/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-10T10:43:48Z","updated_at":"2020-11-10T10:43:48Z","author_association":"COLLABORATOR","body":"> > Hi @cmathiesen - thanks a lot for starting to work on this!\r\n> > I was just wondering if this development is still in progress? Happy to provide any assistance if you happen to be lower on bandwidth at the moment. Thanks! :)\r\n> \r\n> @marton-bod Thanks for pinging on this one, it's been on my TODO list for a while. I'll take a look at sorting out the merge conflicts today or tomorrow and push that. If you have some time to help out based on the comments above that would be really appreciated. We can add you as an external collaborator if you want to contribute directly to this branch or feel free to raise a PR against it that we merge in to our branch and that will then show up in this PR etc.\r\n\r\nThanks @massdosage . I will start to look into this and will raise a PR against the Expedia branch.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724620893/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724950249","html_url":"https://github.com/apache/iceberg/pull/1587#issuecomment-724950249","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1587","id":724950249,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDk1MDI0OQ==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-10T20:32:26Z","updated_at":"2020-11-10T20:32:26Z","author_association":"CONTRIBUTOR","body":"Thanks a lot for the review @rdblue, I think have addressed all of your comments. I think further discussion on namespace interfaces and commit metadata is warranted.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724950249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724967416","html_url":"https://github.com/apache/iceberg/pull/1723#issuecomment-724967416","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1723","id":724967416,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDk2NzQxNg==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-10T21:08:24Z","updated_at":"2020-11-10T21:08:24Z","author_association":"CONTRIBUTOR","body":"Will this field also appear in the metadata table output?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724967416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724980164","html_url":"https://github.com/apache/iceberg/pull/1723#issuecomment-724980164","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1723","id":724980164,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDk4MDE2NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-10T21:33:57Z","updated_at":"2020-11-10T21:33:57Z","author_association":"CONTRIBUTOR","body":"> Will this field also appear in the metadata table output?\r\n\r\nNo, it won't. This change only adds pos to files that are read by ManifestReader, and it doesn't change any of the read or write schemas outside of that.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724980164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724981145","html_url":"https://github.com/apache/iceberg/pull/1723#issuecomment-724981145","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1723","id":724981145,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDk4MTE0NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-10T21:36:05Z","updated_at":"2020-11-10T21:36:05Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing, @HeartSaVioR and @aokolnychyi! I'll merge this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/724981145/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/725078845","html_url":"https://github.com/apache/iceberg/pull/1633#issuecomment-725078845","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1633","id":725078845,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNTA3ODg0NQ==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-11T01:59:19Z","updated_at":"2020-11-11T01:59:19Z","author_association":"CONTRIBUTOR","body":"> @jackye1995, can you update this? #1573 was just merged. Thanks!\r\n\r\nSorry for the late reply, I was out for a few days. Just rebased the master, and also fixed some issues in `S3FileIO` found during testing.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/725078845/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/725080079","html_url":"https://github.com/apache/iceberg/pull/1633#issuecomment-725080079","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1633","id":725080079,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNTA4MDA3OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-11T02:03:06Z","updated_at":"2020-11-11T02:03:06Z","author_association":"CONTRIBUTOR","body":"> also fixed some issues in S3FileIO found during testing.\r\n\r\nAre these blocking tests, or should we separate them into a different PR?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/725080079/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/725084420","html_url":"https://github.com/apache/iceberg/pull/1633#issuecomment-725084420","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1633","id":725084420,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNTA4NDQyMA==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-11T02:17:16Z","updated_at":"2020-11-11T02:17:16Z","author_association":"CONTRIBUTOR","body":"> > also fixed some issues in S3FileIO found during testing.\r\n> \r\n> Are these blocking tests, or should we separate them into a different PR?\r\n\r\nI am not entirely sure which way is the best to go here. Although there are 20 files changed, there are in total 6 main files changed and the rest are all tests so that's why I currently just put them all together. \r\n\r\nThe blocking bug is in `S3OutputStream.close()` line 84, it needs to check `closed` boolean because `TableMetadataParser` tries to close the same input stream twice. ([link](https://github.com/apache/iceberg/blob/master/core/src/main/java/org/apache/iceberg/TableMetadataParser.java#L117-L118)). All the other changes for S3 are just added tests.\r\n\r\nI also can pull the fix and added tests for S3 out to another PR if that feels like a better way to go with smaller PRs, please let me know what you think.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/725084420/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/725203445","html_url":"https://github.com/apache/iceberg/pull/1633#issuecomment-725203445","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1633","id":725203445,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNTIwMzQ0NQ==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-11T05:15:10Z","updated_at":"2020-11-11T05:15:10Z","author_association":"CONTRIBUTOR","body":"@rdblue submitted PR #1749 for the `S3FileIO` bug fixes needed for this PR. I will also remove `S3FileIO` related integration tests.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/725203445/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/725235420","html_url":"https://github.com/apache/iceberg/pull/1744#issuecomment-725235420","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1744","id":725235420,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNTIzNTQyMA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-11T06:43:30Z","updated_at":"2020-11-11T06:43:30Z","author_association":"MEMBER","body":"Automated tests failed on the last run that work locally on my MacBook :/ but oddly enough not the direct schema projection tests, only the metadata table test ... maybe it won't break this time?\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/725235420/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/725252841","html_url":"https://github.com/apache/iceberg/pull/1744#issuecomment-725252841","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1744","id":725252841,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNTI1Mjg0MQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-11T07:18:59Z","updated_at":"2020-11-11T07:18:59Z","author_association":"MEMBER","body":"It was the merge, something in master has broken my tests :/","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/725252841/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/725523056","html_url":"https://github.com/apache/iceberg/pull/1587#issuecomment-725523056","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1587","id":725523056,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNTUyMzA1Ng==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-11T16:29:46Z","updated_at":"2020-11-11T16:29:46Z","author_association":"CONTRIBUTOR","body":"Thanks again @rdblue for the patient code review, hopefully this next round looks better. I will be offline for a few days so will address any comments when I return. Unless @jacques-n or @laurentgo get there first :-)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/725523056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/725526501","html_url":"https://github.com/apache/iceberg/pull/1749#issuecomment-725526501","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1749","id":725526501,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNTUyNjUwMQ==","user":{"login":"danielcweeks","id":4925077,"node_id":"MDQ6VXNlcjQ5MjUwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4925077?v=4","gravatar_id":"","url":"https://api.github.com/users/danielcweeks","html_url":"https://github.com/danielcweeks","followers_url":"https://api.github.com/users/danielcweeks/followers","following_url":"https://api.github.com/users/danielcweeks/following{/other_user}","gists_url":"https://api.github.com/users/danielcweeks/gists{/gist_id}","starred_url":"https://api.github.com/users/danielcweeks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielcweeks/subscriptions","organizations_url":"https://api.github.com/users/danielcweeks/orgs","repos_url":"https://api.github.com/users/danielcweeks/repos","events_url":"https://api.github.com/users/danielcweeks/events{/privacy}","received_events_url":"https://api.github.com/users/danielcweeks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-11T16:35:48Z","updated_at":"2020-11-11T16:35:48Z","author_association":"CONTRIBUTOR","body":"+1 LGTM","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/725526501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/725591558","html_url":"https://github.com/apache/iceberg/pull/1752#issuecomment-725591558","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1752","id":725591558,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNTU5MTU1OA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-11T18:37:40Z","updated_at":"2020-11-11T18:37:40Z","author_association":"CONTRIBUTOR","body":"Thanks @kbendick!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/725591558/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/725593828","html_url":"https://github.com/apache/iceberg/pull/1751#issuecomment-725593828","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1751","id":725593828,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNTU5MzgyOA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-11T18:42:38Z","updated_at":"2020-11-11T18:42:38Z","author_association":"CONTRIBUTOR","body":"@boroknagyz, the problem with setting this is that Hive doesn't include these classes by default and missing classes will break Hive. We've added configuration to set up the Hive storage descriptor properly to both the Hive configuration (`iceberg.engine.hive.enabled`) and to table properties (`engine.hive.enabled`). If you enable Hive either way, then the `IcebergHiveStorageHandler` is set up.\r\n\r\nI also would not recommend any engine use the Hive configuration other than Hive. I think Impala is planning to add native read support for Iceberg tables, which would be a much better way to read.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/725593828/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/725596052","html_url":"https://github.com/apache/iceberg/issues/1617#issuecomment-725596052","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1617","id":725596052,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNTU5NjA1Mg==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-11T18:47:15Z","updated_at":"2020-11-11T18:47:15Z","author_association":"CONTRIBUTOR","body":"I remember we discussed this use case some time ago in a sync up meeting, and the related issue was  #1531. The general feedback was that it is better to expose this as a Spark procedure, and rewrite the manifests with new file path URIs to reflect new location after replication or backup. This avoids the trouble of redefining the Iceberg spec. Any thoughts?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/725596052/reactions","total_count":2,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/725598764","html_url":"https://github.com/apache/iceberg/pull/1743#issuecomment-725598764","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1743","id":725598764,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNTU5ODc2NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-11T18:52:59Z","updated_at":"2020-11-11T18:52:59Z","author_association":"CONTRIBUTOR","body":"Looks great. I'm committing this so we can start building stored procedures for actions!\r\n\r\nThanks for getting this done!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/725598764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/725609835","html_url":"https://github.com/apache/iceberg/issues/1735#issuecomment-725609835","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1735","id":725609835,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNTYwOTgzNQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-11T19:15:34Z","updated_at":"2020-11-11T19:15:55Z","author_association":"MEMBER","body":"Overview of bugs found: #1744 \r\n\r\n**Example of Bug 1**\r\n```\r\nFrom (A, B, C, D { foo, bar } )\r\nProject (A, B, C, D {})\r\nReturns\r\n(A, B, C) // Missing D which was required in the projection\r\n```\r\n\r\n**Example of Bug 2**\r\n```\r\nFrom (A, B, C, D {foo, bar, baz {}} ) // Starting with D containing an field baz which is empty\r\nProject (A)\r\nReturns\r\n(A, D{ baz {} }) // Includes D even though it was not requested\r\n```\r\n\r\nIn combination these sometimes negate each other ~ kinda\r\n**Example of interaction of bugs**\r\n```\r\nFrom (A, B, C, D {foo, bar, baz{}})\r\nProject (A, B, C, D{})\r\nReturns\r\n(A, B, C, D{ baz{} }) // D is present although with an unrequested field but this satisfies the projection\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/725609835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/725632040","html_url":"https://github.com/apache/iceberg/issues/1750#issuecomment-725632040","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1750","id":725632040,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNTYzMjA0MA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-11T20:01:43Z","updated_at":"2020-11-11T20:01:43Z","author_association":"MEMBER","body":"I find that Intellij correctly locates these if you just run the full build\nonce, once the shadow jar has been made if you refresh the project it will\nfind the shaded classes.\n\nOn Wed, Nov 11, 2020 at 5:23 AM Paul Zhong <notifications@github.com> wrote:\n\n> The iceberg-bundled-guava module uses shadowJar relocate to change the\n> package name. What plug-ins need to be added for Eclipse and IDEA to\n> prevent the development tool from reporting errors?\n>\n> [image: image]\n> <https://user-images.githubusercontent.com/20592867/98805886-4137e600-2453-11eb-8fc4-864a9c18a61d.png>\n>\n> —\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/iceberg/issues/1750>, or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AADE2YL6OVABSQD4SUCNQ4LSPJX3FANCNFSM4TR33F3A>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/725632040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/725672797","html_url":"https://github.com/apache/iceberg/pull/1641#issuecomment-725672797","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1641","id":725672797,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNTY3Mjc5Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-11T21:32:16Z","updated_at":"2020-11-11T21:32:16Z","author_association":"CONTRIBUTOR","body":"@yyanyy, thank you for the update! Nothing major to fix. Overall the changes look good, but I found a couple of minor things that might reduce the size of this PR. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/725672797/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]