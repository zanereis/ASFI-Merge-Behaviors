[{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333042383","html_url":"https://github.com/openzipkin/zipkin/issues/1750#issuecomment-333042383","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1750","id":333042383,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzA0MjM4Mw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-29T06:30:09Z","updated_at":"2017-09-29T06:30:09Z","author_association":"MEMBER","body":"can you join https://gitter.im/openzipkin/zipkin ?\n\nin short, you replace STORAGE_TYPE=mysql for STORAGE_TYPE=elasticsearch\n\nhttps://github.com/openzipkin/zipkin/blob/master/zipkin-server/README.md#elasticsearch-storage\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333042383/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333103337","html_url":"https://github.com/openzipkin/zipkin/pull/1747#issuecomment-333103337","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1747","id":333103337,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzEwMzMzNw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-29T11:35:43Z","updated_at":"2017-09-29T11:35:43Z","author_association":"MEMBER","body":"Sorry to not think of this earlier, but would this experience be ok? Ex we\nhave a saved trace, but this UI wont be able to find saved traces.. Is that\nok? If so, why? If not, why not?\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333103337/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333226158","html_url":"https://github.com/openzipkin/zipkin/pull/1747#issuecomment-333226158","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1747","id":333226158,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzIyNjE1OA==","user":{"login":"naoman","id":6273158,"node_id":"MDQ6VXNlcjYyNzMxNTg=","avatar_url":"https://avatars.githubusercontent.com/u/6273158?v=4","gravatar_id":"","url":"https://api.github.com/users/naoman","html_url":"https://github.com/naoman","followers_url":"https://api.github.com/users/naoman/followers","following_url":"https://api.github.com/users/naoman/following{/other_user}","gists_url":"https://api.github.com/users/naoman/gists{/gist_id}","starred_url":"https://api.github.com/users/naoman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/naoman/subscriptions","organizations_url":"https://api.github.com/users/naoman/orgs","repos_url":"https://api.github.com/users/naoman/repos","events_url":"https://api.github.com/users/naoman/events{/privacy}","received_events_url":"https://api.github.com/users/naoman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-29T20:07:03Z","updated_at":"2017-09-29T20:07:03Z","author_association":"CONTRIBUTOR","body":">Ex we have a saved trace, but this UI wont be able to find saved traces.. Is that ok? If so, why? If not, why not?\r\n\r\nIdeally same UI should provide access to saved traces, but I think its okay to have a separate UI, if it helps keeping the system simple and maintainable. It could be considered an `archiving` feature, and in most systems, retrieving archived data has a separate process than active data.\r\n\r\nAlso, if a user is trying to access a trace thats not available in the regular datastore, the UI can share a link to archive/permanent store, or even pull trace from there. Search will be a bit tricker, but we can handle that too by picking the correct datastore based on the TTL for the regular store.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333226158/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333245889","html_url":"https://github.com/openzipkin/zipkin/issues/1332#issuecomment-333245889","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1332","id":333245889,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzI0NTg4OQ==","user":{"login":"Logic-32","id":25107222,"node_id":"MDQ6VXNlcjI1MTA3MjIy","avatar_url":"https://avatars.githubusercontent.com/u/25107222?v=4","gravatar_id":"","url":"https://api.github.com/users/Logic-32","html_url":"https://github.com/Logic-32","followers_url":"https://api.github.com/users/Logic-32/followers","following_url":"https://api.github.com/users/Logic-32/following{/other_user}","gists_url":"https://api.github.com/users/Logic-32/gists{/gist_id}","starred_url":"https://api.github.com/users/Logic-32/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Logic-32/subscriptions","organizations_url":"https://api.github.com/users/Logic-32/orgs","repos_url":"https://api.github.com/users/Logic-32/repos","events_url":"https://api.github.com/users/Logic-32/events{/privacy}","received_events_url":"https://api.github.com/users/Logic-32/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-29T21:41:45Z","updated_at":"2017-09-29T21:41:45Z","author_association":"CONTRIBUTOR","body":"@adriancole, it looks like I need to revive this case.  We are currently running zipkin 1.28.0 and using Elasticsearch as our storage component using HTTP all the way from Java/Brave down through zipkin to Elasticsearch (so no Kafka) and are having this issue.\r\n\r\nWe have a couple of heap dumps which seem to implicate OkHttp3 as the thing causing the leaks.  There are, specifically, a bunch of okhttp3.RealCall$AsyncCall's dangling about.\r\n\r\nPlease let me know what other information I can provide to help diagnose this because we have frequent OOM issues as a result of whatever is causing this; the two most recent ones correlating with issues on Elasticsearch's side.\r\n\r\nAlso, can you provide a script for what you did to attempt and reproduce the OOM issue?  I have an idea of how I'd like to try and get something reproducible over here and it'd be nice to see if my idea is the same as yours before wasting time duplicating the effort ;)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333245889/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333272205","html_url":"https://github.com/openzipkin/zipkin/issues/1332#issuecomment-333272205","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1332","id":333272205,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzI3MjIwNQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-30T01:22:58Z","updated_at":"2017-09-30T01:22:58Z","author_association":"MEMBER","body":">\n> @adriancole <https://github.com/adriancole>, it looks like I need to\n> revive this case. We are currently running zipkin 1.28.0 and using\n> Elasticsearch as our storage component using HTTP all the way from\n> Java/Brave down through zipkin to Elasticsearch (so no Kafka) and are\n> having this issue.\n>\nOOM is too generic to try to address in one issue about kafka. I did add a\nnote about exceptions here, which is probably why you added details about\nelasticsearch. Can you describe your issue on the backpressure issue? #1741\nThe problem is that when ES is backlogged, requests don't complete. We may\nbe able to tactically put a request timeout on okhttp side so that it\ndoesn't linger when the server is not being nice. Another option is to rate\nlimit, but the other issue is more specific to ES, so probably best to\ncarry-forward there. Thanks for the offer to run tests!\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333272205/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333272752","html_url":"https://github.com/openzipkin/zipkin/issues/1332#issuecomment-333272752","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1332","id":333272752,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzI3Mjc1Mg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-30T01:31:22Z","updated_at":"2017-09-30T01:31:22Z","author_association":"MEMBER","body":"Especially for those using ES, use latest brave and zipkin and have brave\nuse v2 reporter against /api/v2\n\nThis will reduce gc pressure on both sides as ES is v2 native and using v1\nendpoints means converting every span\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333272752/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333297586","html_url":"https://github.com/openzipkin/zipkin/pull/1745#issuecomment-333297586","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1745","id":333297586,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzI5NzU4Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-30T09:50:26Z","updated_at":"2017-09-30T09:50:26Z","author_association":"MEMBER","body":"PS I just looked deeply into Amazon X-Ray. It is mostly compatible with zipkin from a trace ID storage POV.\r\n\r\nThe trace ID includes a version bit, 32bits of epoch seconds and 96 bits of random. This means it is 128bits. Most zipkin systems only sample on lower 64-bits anyway, so supporting X-Ray compatible trace IDs mean changing generation to be the same approach. Span IDs are 64bit, so exact match zipkin.\r\n\r\nLike `trace-context` only the calling ID is propagated (they call it Parent, we call it X-B3-SpanId), so fixing this issue will also also align with X-Ray integration.\r\n\r\ncc @devinsba","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333297586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333298146","html_url":"https://github.com/openzipkin/zipkin/issues/1262#issuecomment-333298146","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1262","id":333298146,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzI5ODE0Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-30T10:00:52Z","updated_at":"2017-09-30T10:00:52Z","author_association":"MEMBER","body":"throwing something out there.. what if we adopted a default behavior to make the 128bit trace ID exactly how Amazon X-Ray does? In this case, it would be possible to parse into an X-Ray ID, and still not impact us (as folks only sample lower 64 anyway).\r\n\r\nEx. first 8 hex are epoch seconds, next 24 are random.\r\n\r\nI suspect the cost would be time to get the epoch secs. Also, we'd not know if the trace was generated like this (in order to parse it), but anyway, there'd be a chance. Worth it? Not worth it?\r\n\r\nhttp://docs.aws.amazon.com/elasticloadbalancing/latest/application/load-balancer-request-tracing.html","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333298146/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333299052","html_url":"https://github.com/openzipkin/zipkin/pull/1747#issuecomment-333299052","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1747","id":333299052,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzI5OTA1Mg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-30T10:17:48Z","updated_at":"2017-09-30T10:17:48Z","author_association":"MEMBER","body":"Thanks for the info. I kindof like the archive term, as I don't want\nus necessarily to try to make the UI a fan-out system at the moment.\nMaybe we align the property name as such? like archiveEndpoint? Also,\nfolks deploying an archive instance of zipkin can set the property\n`zipkin.ui.environment` to archive to know that's what they are\nlooking at.\n\nI basically would like this feature to be easy to explain with some\ncoherent suggestions on setup... and so far I think archive is it. do\nyou agree?\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333299052/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333302845","html_url":"https://github.com/openzipkin/zipkin/issues/1262#issuecomment-333302845","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1262","id":333302845,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzMwMjg0NQ==","user":{"login":"jcarres-mdsol","id":1803073,"node_id":"MDQ6VXNlcjE4MDMwNzM=","avatar_url":"https://avatars.githubusercontent.com/u/1803073?v=4","gravatar_id":"","url":"https://api.github.com/users/jcarres-mdsol","html_url":"https://github.com/jcarres-mdsol","followers_url":"https://api.github.com/users/jcarres-mdsol/followers","following_url":"https://api.github.com/users/jcarres-mdsol/following{/other_user}","gists_url":"https://api.github.com/users/jcarres-mdsol/gists{/gist_id}","starred_url":"https://api.github.com/users/jcarres-mdsol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jcarres-mdsol/subscriptions","organizations_url":"https://api.github.com/users/jcarres-mdsol/orgs","repos_url":"https://api.github.com/users/jcarres-mdsol/repos","events_url":"https://api.github.com/users/jcarres-mdsol/events{/privacy}","received_events_url":"https://api.github.com/users/jcarres-mdsol/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-30T11:36:06Z","updated_at":"2017-09-30T11:36:06Z","author_association":"CONTRIBUTOR","body":"Intriging. \r\nIn my company we are fighting the fact that there is no control over AWS stuff. \r\nAny kind of compatibility would be interesting","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333302845/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333309834","html_url":"https://github.com/openzipkin/zipkin/issues/1262#issuecomment-333309834","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1262","id":333309834,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzMwOTgzNA==","user":{"login":"jcchavezs","id":3075074,"node_id":"MDQ6VXNlcjMwNzUwNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/3075074?v=4","gravatar_id":"","url":"https://api.github.com/users/jcchavezs","html_url":"https://github.com/jcchavezs","followers_url":"https://api.github.com/users/jcchavezs/followers","following_url":"https://api.github.com/users/jcchavezs/following{/other_user}","gists_url":"https://api.github.com/users/jcchavezs/gists{/gist_id}","starred_url":"https://api.github.com/users/jcchavezs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jcchavezs/subscriptions","organizations_url":"https://api.github.com/users/jcchavezs/orgs","repos_url":"https://api.github.com/users/jcchavezs/repos","events_url":"https://api.github.com/users/jcchavezs/events{/privacy}","received_events_url":"https://api.github.com/users/jcchavezs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-30T13:50:19Z","updated_at":"2017-09-30T13:50:19Z","author_association":"CONTRIBUTOR","body":"Interesting, however I would more think about adding a new layer for ID generation where one implementation would be a AWS X-Ray instead of adopting it from them. What do you think?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333309834/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333314557","html_url":"https://github.com/openzipkin/zipkin/issues/1262#issuecomment-333314557","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1262","id":333314557,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzMxNDU1Nw==","user":{"login":"yurishkuro","id":3523016,"node_id":"MDQ6VXNlcjM1MjMwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/3523016?v=4","gravatar_id":"","url":"https://api.github.com/users/yurishkuro","html_url":"https://github.com/yurishkuro","followers_url":"https://api.github.com/users/yurishkuro/followers","following_url":"https://api.github.com/users/yurishkuro/following{/other_user}","gists_url":"https://api.github.com/users/yurishkuro/gists{/gist_id}","starred_url":"https://api.github.com/users/yurishkuro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurishkuro/subscriptions","organizations_url":"https://api.github.com/users/yurishkuro/orgs","repos_url":"https://api.github.com/users/yurishkuro/repos","events_url":"https://api.github.com/users/yurishkuro/events{/privacy}","received_events_url":"https://api.github.com/users/yurishkuro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-30T15:08:14Z","updated_at":"2017-09-30T15:08:14Z","author_association":"CONTRIBUTOR","body":"Do Amazon docs explain why recording the time is useful?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333314557/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333315371","html_url":"https://github.com/openzipkin/zipkin/pull/1745#issuecomment-333315371","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1745","id":333315371,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzMxNTM3MQ==","user":{"login":"bogdandrutu","id":1373887,"node_id":"MDQ6VXNlcjEzNzM4ODc=","avatar_url":"https://avatars.githubusercontent.com/u/1373887?v=4","gravatar_id":"","url":"https://api.github.com/users/bogdandrutu","html_url":"https://github.com/bogdandrutu","followers_url":"https://api.github.com/users/bogdandrutu/followers","following_url":"https://api.github.com/users/bogdandrutu/following{/other_user}","gists_url":"https://api.github.com/users/bogdandrutu/gists{/gist_id}","starred_url":"https://api.github.com/users/bogdandrutu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bogdandrutu/subscriptions","organizations_url":"https://api.github.com/users/bogdandrutu/orgs","repos_url":"https://api.github.com/users/bogdandrutu/repos","events_url":"https://api.github.com/users/bogdandrutu/events{/privacy}","received_events_url":"https://api.github.com/users/bogdandrutu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-30T15:20:58Z","updated_at":"2017-09-30T15:20:58Z","author_association":"NONE","body":"@adriancole nice discovery. You still need to fix to not share the span between client and server I think, correct?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333315371/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333315687","html_url":"https://github.com/openzipkin/zipkin/issues/1262#issuecomment-333315687","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1262","id":333315687,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzMxNTY4Nw==","user":{"login":"bogdandrutu","id":1373887,"node_id":"MDQ6VXNlcjEzNzM4ODc=","avatar_url":"https://avatars.githubusercontent.com/u/1373887?v=4","gravatar_id":"","url":"https://api.github.com/users/bogdandrutu","html_url":"https://github.com/bogdandrutu","followers_url":"https://api.github.com/users/bogdandrutu/followers","following_url":"https://api.github.com/users/bogdandrutu/following{/other_user}","gists_url":"https://api.github.com/users/bogdandrutu/gists{/gist_id}","starred_url":"https://api.github.com/users/bogdandrutu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bogdandrutu/subscriptions","organizations_url":"https://api.github.com/users/bogdandrutu/orgs","repos_url":"https://api.github.com/users/bogdandrutu/repos","events_url":"https://api.github.com/users/bogdandrutu/events{/privacy}","received_events_url":"https://api.github.com/users/bogdandrutu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-30T15:26:11Z","updated_at":"2017-09-30T15:26:11Z","author_association":"NONE","body":"@yurishkuro I think the mean reason was something like this:\r\n* They have a TTL (not sure if I remember exactly what was, but I think they said 5 days) everything with the epoch older is dropped (even from their collection pipeline).","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333315687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333316518","html_url":"https://github.com/openzipkin/zipkin/issues/1262#issuecomment-333316518","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1262","id":333316518,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzMxNjUxOA==","user":{"login":"yurishkuro","id":3523016,"node_id":"MDQ6VXNlcjM1MjMwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/3523016?v=4","gravatar_id":"","url":"https://api.github.com/users/yurishkuro","html_url":"https://github.com/yurishkuro","followers_url":"https://api.github.com/users/yurishkuro/followers","following_url":"https://api.github.com/users/yurishkuro/following{/other_user}","gists_url":"https://api.github.com/users/yurishkuro/gists{/gist_id}","starred_url":"https://api.github.com/users/yurishkuro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurishkuro/subscriptions","organizations_url":"https://api.github.com/users/yurishkuro/orgs","repos_url":"https://api.github.com/users/yurishkuro/repos","events_url":"https://api.github.com/users/yurishkuro/events{/privacy}","received_events_url":"https://api.github.com/users/yurishkuro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-30T15:39:45Z","updated_at":"2017-09-30T15:39:45Z","author_association":"CONTRIBUTOR","body":"That sounds like an odd reason. The collection pipeline already knows when it receives the spans and can establish a TTL from that point, passing the timestamp in the headers doesn't add much there. There must be some other reason.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333316518/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333317113","html_url":"https://github.com/openzipkin/zipkin/issues/1262#issuecomment-333317113","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1262","id":333317113,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzMxNzExMw==","user":{"login":"bogdandrutu","id":1373887,"node_id":"MDQ6VXNlcjEzNzM4ODc=","avatar_url":"https://avatars.githubusercontent.com/u/1373887?v=4","gravatar_id":"","url":"https://api.github.com/users/bogdandrutu","html_url":"https://github.com/bogdandrutu","followers_url":"https://api.github.com/users/bogdandrutu/followers","following_url":"https://api.github.com/users/bogdandrutu/following{/other_user}","gists_url":"https://api.github.com/users/bogdandrutu/gists{/gist_id}","starred_url":"https://api.github.com/users/bogdandrutu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bogdandrutu/subscriptions","organizations_url":"https://api.github.com/users/bogdandrutu/orgs","repos_url":"https://api.github.com/users/bogdandrutu/repos","events_url":"https://api.github.com/users/bogdandrutu/events{/privacy}","received_events_url":"https://api.github.com/users/bogdandrutu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-30T15:49:43Z","updated_at":"2017-09-30T15:49:43Z","author_association":"NONE","body":"@yurishkuro the example that they gave me when I asked that they have the timestamps in the Span for something similar they said something like this:\r\n\"when you receive the Span how do you know if that is part of the trace that started 5 days ago or not?\"\r\n\r\nKind of they want to make decisions (analysis, keeping not keeping the span, maybe where to store it (there can be nice improvements based on this, have a way to store latest 1h trace then re-index etc.)) based on when the trace started.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333317113/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333317563","html_url":"https://github.com/openzipkin/zipkin/issues/1262#issuecomment-333317563","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1262","id":333317563,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzMxNzU2Mw==","user":{"login":"yurishkuro","id":3523016,"node_id":"MDQ6VXNlcjM1MjMwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/3523016?v=4","gravatar_id":"","url":"https://api.github.com/users/yurishkuro","html_url":"https://github.com/yurishkuro","followers_url":"https://api.github.com/users/yurishkuro/followers","following_url":"https://api.github.com/users/yurishkuro/following{/other_user}","gists_url":"https://api.github.com/users/yurishkuro/gists{/gist_id}","starred_url":"https://api.github.com/users/yurishkuro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurishkuro/subscriptions","organizations_url":"https://api.github.com/users/yurishkuro/orgs","repos_url":"https://api.github.com/users/yurishkuro/repos","events_url":"https://api.github.com/users/yurishkuro/events{/privacy}","received_events_url":"https://api.github.com/users/yurishkuro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-30T15:56:35Z","updated_at":"2017-09-30T15:56:35Z","author_association":"CONTRIBUTOR","body":"I see. Makes sense. Thanks.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333317563/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333345064","html_url":"https://github.com/openzipkin/zipkin/issues/1262#issuecomment-333345064","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1262","id":333345064,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzM0NTA2NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-01T00:29:06Z","updated_at":"2017-10-01T00:29:06Z","author_association":"MEMBER","body":"In the case of Zipkin, there is a large amount of users in Amazon, and a lot of the time we generate 128-bit w/o any consistency anyway. Some copy/paste the 64bit, etc. The rationale I was told from Abhishek is that the backend will reject the trace. The timestamp is used to store the data and enable even partitions in the backend. So, basically not using 32 of the 128 for the timestamp has a severe penalty if trying to use X-Ray propagation. 96 bits of random is great for probably 99.9% of deployments, and also doesn't impact sampling as most only look at lower 64-bit anyway.\r\n\r\nIf we had great support for a different way of 128-bit trace ID generation, I'd not suggest something like this, but as we don't, seems a very good reason to recommend and track one. Of course folks can make trace ID generation pluggable, but I think the tradeoff wins in favor of making things align with the largest cloud.\r\n\r\nTaking this forward, for example, I'd open a ticket on B3 with a suggested generation format for 128-bit trace IDs, with this rationale, and whoever wants to do this could originate trace IDs that Amazon won't toss. Remember, it isn't just X-Ray, it is also ALB, Api Gateway and other products that use the same ID format (if only for log correlation).\r\n\r\nThis means even if users never use X-Ray storage (which some sites can choose to as it is possible to convert zipkin data to X-Ray data), at least propagation will pass and you can ID correlate and pull data in a pinch.\r\n\r\nI think of this as tactical as it is easy to do and can be done even today. It allows us to tunnel AWS IDs through clients written for B3. Trace-Context stuff is more strategic as there's more going on there. This sort of integration shows almost exactly the pattern needed for trace-context, too.\r\n\r\nAnyone don't want me to suggest why a tracer might put timestamp in first 32 of 128? If I did, I'd mention it isn't fully random etc, and also maybe some sanity check tricks. Personally, I think not telling people about this is more damaging than telling them, as there's no easier path to Amazon integration (at least that I can think of).","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333345064/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333377666","html_url":"https://github.com/openzipkin/zipkin/issues/1262#issuecomment-333377666","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1262","id":333377666,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzM3NzY2Ng==","user":{"login":"jcarres-mdsol","id":1803073,"node_id":"MDQ6VXNlcjE4MDMwNzM=","avatar_url":"https://avatars.githubusercontent.com/u/1803073?v=4","gravatar_id":"","url":"https://api.github.com/users/jcarres-mdsol","html_url":"https://github.com/jcarres-mdsol","followers_url":"https://api.github.com/users/jcarres-mdsol/followers","following_url":"https://api.github.com/users/jcarres-mdsol/following{/other_user}","gists_url":"https://api.github.com/users/jcarres-mdsol/gists{/gist_id}","starred_url":"https://api.github.com/users/jcarres-mdsol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jcarres-mdsol/subscriptions","organizations_url":"https://api.github.com/users/jcarres-mdsol/orgs","repos_url":"https://api.github.com/users/jcarres-mdsol/repos","events_url":"https://api.github.com/users/jcarres-mdsol/events{/privacy}","received_events_url":"https://api.github.com/users/jcarres-mdsol/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-01T13:45:19Z","updated_at":"2017-10-01T13:45:19Z","author_association":"CONTRIBUTOR","body":"Sounds awesome to me. I see no problem following their format, for better or worse AWS is a big part of internet traffic, making your system work well with theirs will be a win-win for everyone","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333377666/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333424193","html_url":"https://github.com/openzipkin/zipkin/issues/1262#issuecomment-333424193","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1262","id":333424193,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzQyNDE5Mw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-02T01:50:35Z","updated_at":"2017-10-02T01:51:46Z","author_association":"MEMBER","body":"@jcarres-mdsol so I have been toying around and hopefully by the end of the day I can verify zipkin and x-ray interop works (prereq to actually suggesting this in more than a hypothetical way). Will share as soon as done, but I see no road-blocks.\r\n\r\nOther notes:\r\nAmazon actually have the same sampling approach as we do. They support a \"deferred\" decision (same as absence of B3-Sampled flag). Only difference is that in this case the http response contains the result of that decision. However, I checked and this behavior isn't mandatory.\r\n\r\nSome concern raised by @jcchavezs about encoding sensitivity. Here's the response to this. Amazon's format is version stamped. If the version isn't one, we can't continue the trace anyway (until that version is understood). We have choices including adding a tag about the linked ID before the trace is restarted. Amazon have a very good api compat track record. I am in no way concerned about X-Ray trace format v1 disappearing next year. We don't know what v2 will be anyway, and who knows, it might be the `trace-context` format. Anyway TL;DR; is that in my playground, I'll verify the version, and when processing inbound headers, we can think about how to restart a trace if we are in strict AWS compat mode (implies restarting a trace if the first 32 bits could not have been epoch seconds).\r\n\r\nSo, basically there are two parts.. the easy one is just using a different algo for root IDs. The second part is for AWS interop... if a library must use AWS-compat IDs, then it needs to restart traces which don't include valid epoch seconds. The second part only impacts sites running on AWS, and can be handled by an optional tracer plugin.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333424193/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333425162","html_url":"https://github.com/openzipkin/zipkin/issues/1262#issuecomment-333425162","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1262","id":333425162,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzQyNTE2Mg==","user":{"login":"yurishkuro","id":3523016,"node_id":"MDQ6VXNlcjM1MjMwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/3523016?v=4","gravatar_id":"","url":"https://api.github.com/users/yurishkuro","html_url":"https://github.com/yurishkuro","followers_url":"https://api.github.com/users/yurishkuro/followers","following_url":"https://api.github.com/users/yurishkuro/following{/other_user}","gists_url":"https://api.github.com/users/yurishkuro/gists{/gist_id}","starred_url":"https://api.github.com/users/yurishkuro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurishkuro/subscriptions","organizations_url":"https://api.github.com/users/yurishkuro/orgs","repos_url":"https://api.github.com/users/yurishkuro/repos","events_url":"https://api.github.com/users/yurishkuro/events{/privacy}","received_events_url":"https://api.github.com/users/yurishkuro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-02T01:58:53Z","updated_at":"2017-10-02T01:58:53Z","author_association":"CONTRIBUTOR","body":"@adriancole so what kind of interop are you targeting, a Zipkin-instrumented system talking to AWS SaaS?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333425162/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333425894","html_url":"https://github.com/openzipkin/zipkin/pull/1752#issuecomment-333425894","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1752","id":333425894,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzQyNTg5NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-02T02:06:49Z","updated_at":"2017-10-02T02:06:49Z","author_association":"MEMBER","body":"circleci is busted for a different reason (it is very bustable lately)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333425894/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333427889","html_url":"https://github.com/openzipkin/zipkin/issues/1262#issuecomment-333427889","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1262","id":333427889,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzQyNzg4OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-02T02:29:26Z","updated_at":"2017-10-02T02:29:26Z","author_association":"MEMBER","body":">\n> @adriancole <https://github.com/adriancole> so what kind of interop are\n> you targeting, a Zipkin-instrumented system talking to AWS SaaS?\n>\nmoving the conversation here now. hope you don't mind!\nhttps://github.com/openzipkin/zipkin/issues/1754\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333427889/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333427982","html_url":"https://github.com/openzipkin/zipkin/issues/1754#issuecomment-333427982","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1754","id":333427982,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzQyNzk4Mg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-02T02:30:21Z","updated_at":"2017-10-02T02:30:21Z","author_association":"MEMBER","body":"cc @llinder @devinsba @openzipkin/core ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333427982/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333428403","html_url":"https://github.com/openzipkin/zipkin/pull/1745#issuecomment-333428403","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1745","id":333428403,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzQyODQwMw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-02T02:34:41Z","updated_at":"2017-10-02T02:34:41Z","author_association":"MEMBER","body":">\n> @adriancole <https://github.com/adriancole> nice discovery. You still\n> need to fix to not share the span between client and server I think,\n> correct?\n>\nwell \"fix\" is relative :) we have to be able to express this is some way\nbecause B3 once upon a time implied sharing. Here's how we do this in brave\nhttps://github.com/openzipkin/brave/blob/master/brave/src/main/java/brave/propagation/Propagation.java#L38\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333428403/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333428563","html_url":"https://github.com/openzipkin/zipkin/issues/1751#issuecomment-333428563","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1751","id":333428563,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzQyODU2Mw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-02T02:36:31Z","updated_at":"2017-10-02T02:36:31Z","author_association":"MEMBER","body":"URLs tend to be a bad choice for span names as they end up with variable\nnames in them (which explodes the cardinality). Do you have very long span\nnames that don't have variables encoded? In general, we default to method\nname, or where supported the associated RPC name (ex method name)\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333428563/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333428600","html_url":"https://github.com/openzipkin/zipkin/issues/1751#issuecomment-333428600","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1751","id":333428600,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzQyODYwMA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-02T02:36:51Z","updated_at":"2017-10-02T02:36:51Z","author_association":"MEMBER","body":"meant \"RPC name (ex function name)\"\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333428600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333430745","html_url":"https://github.com/openzipkin/zipkin/pull/1732#issuecomment-333430745","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1732","id":333430745,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzQzMDc0NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-02T02:59:37Z","updated_at":"2017-10-02T02:59:37Z","author_association":"MEMBER","body":"sorry about the delay. trying now. I really like this, actually. a lot tighter than I expected it to be.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333430745/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333433905","html_url":"https://github.com/openzipkin/zipkin/pull/1732#issuecomment-333433905","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1732","id":333433905,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzQzMzkwNQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-02T03:34:53Z","updated_at":"2017-10-02T03:34:53Z","author_association":"MEMBER","body":"tested and looks very good. I'd add your comments about how to run in apache as an README.md section.\r\n\r\nA favor.. we broke local dev mode at some point. Can you help fix ` proxy=http://localhost:9411 ./npm.sh run dev` or similar?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333433905/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333437334","html_url":"https://github.com/openzipkin/zipkin/issues/1754#issuecomment-333437334","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1754","id":333437334,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzQzNzMzNA==","user":{"login":"yurishkuro","id":3523016,"node_id":"MDQ6VXNlcjM1MjMwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/3523016?v=4","gravatar_id":"","url":"https://api.github.com/users/yurishkuro","html_url":"https://github.com/yurishkuro","followers_url":"https://api.github.com/users/yurishkuro/followers","following_url":"https://api.github.com/users/yurishkuro/following{/other_user}","gists_url":"https://api.github.com/users/yurishkuro/gists{/gist_id}","starred_url":"https://api.github.com/users/yurishkuro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurishkuro/subscriptions","organizations_url":"https://api.github.com/users/yurishkuro/orgs","repos_url":"https://api.github.com/users/yurishkuro/repos","events_url":"https://api.github.com/users/yurishkuro/events{/privacy}","received_events_url":"https://api.github.com/users/yurishkuro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-02T04:14:20Z","updated_at":"2017-10-02T04:14:20Z","author_association":"CONTRIBUTOR","body":"So these are the interop models for the out-of-band data?\r\n  * `[zipkin SDK] -> [X-Ray backend]` directly\r\n  * `[zipkin SDK] -> [zipkin collector] -> [X-Ray backend]`\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333437334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333440566","html_url":"https://github.com/openzipkin/zipkin/issues/1695#issuecomment-333440566","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1695","id":333440566,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzQ0MDU2Ng==","user":{"login":"michaelsembwever","id":559444,"node_id":"MDQ6VXNlcjU1OTQ0NA==","avatar_url":"https://avatars.githubusercontent.com/u/559444?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelsembwever","html_url":"https://github.com/michaelsembwever","followers_url":"https://api.github.com/users/michaelsembwever/followers","following_url":"https://api.github.com/users/michaelsembwever/following{/other_user}","gists_url":"https://api.github.com/users/michaelsembwever/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelsembwever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelsembwever/subscriptions","organizations_url":"https://api.github.com/users/michaelsembwever/orgs","repos_url":"https://api.github.com/users/michaelsembwever/repos","events_url":"https://api.github.com/users/michaelsembwever/events{/privacy}","received_events_url":"https://api.github.com/users/michaelsembwever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-02T04:52:56Z","updated_at":"2017-10-02T04:52:56Z","author_association":"MEMBER","body":"> note annotation_query would be shorter per span as it only needs to concat annotation and tag pairs (as opposed to also putting in the service name, because the local_endpoint covers this part)\r\n\r\ni don't get this. when we search against that index we still are searching for `local_serviceName:annotation` or `local_serviceName;tag_key;tag_value`.\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333440566/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333440589","html_url":"https://github.com/openzipkin/zipkin/issues/1754#issuecomment-333440589","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1754","id":333440589,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzQ0MDU4OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-02T04:53:14Z","updated_at":"2017-10-02T04:53:14Z","author_association":"MEMBER","body":">\n> So these are the interop models for the out-of-band data?\n>\n>    - [zipkin SDK] -> [X-Ray backend] directly\n>    - [zipkin SDK] -> [zipkin collector] -> [X-Ray backend]\n>\n> TL;DR; correct :)\n\nnit: the component relevant to out-of-band in zipkin lingo is \"reporter\".\nWe don't define the term SDK. http://zipkin.io/pages/architecture.html\n\nSo, something already recording data in a zipkin format sends directly to\nX-Ray or via a \"collector\". A collector can be any component on a transport\n(streaming or otherwise, zipkin-server or otherwise) that takes standard\nzipkin encoding and pushes it to X-Ray. I'm intentionally being abstract as\npeople have different ways they accept data.\n\nThe first (direct) technique allows folks for example who are running\nlambdas and want to pay by the trace a way to proceed without any\ninfrastructure. They just align permissions and go. For example, one can\nwrite a lambda and run it inside or outside AWS (reporting to zipkin when\noutside)\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333440589/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333440997","html_url":"https://github.com/openzipkin/zipkin/issues/1695#issuecomment-333440997","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1695","id":333440997,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzQ0MDk5Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-02T04:57:19Z","updated_at":"2017-10-02T04:57:19Z","author_association":"MEMBER","body":"> i don't get this. when we search against that index we still are searching for local_serviceName:annotation or local_serviceName;tag_key;tag_value.\n\nI mean to say that the serviceName can be refined independent of the\nball of tags. for example, span.local_serviceName = foo filtered\nbefore annotationQuery. So instead of redundantly encoding the service\nname in the annotationQuery concatenation, access it as a field.\n\nMy assumption is that this could be more efficient, but might be\nwrong. At any rate, it would be easier to read.\n\nMake sense?\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333440997/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333448933","html_url":"https://github.com/openzipkin/zipkin/issues/1754#issuecomment-333448933","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1754","id":333448933,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzQ0ODkzMw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-02T06:15:49Z","updated_at":"2017-10-02T06:15:49Z","author_association":"MEMBER","body":"random note: http://docs.aws.amazon.com/xray/latest/api/API_PutTraceSegments.html The POST format is a list of escaped json, as the doc implies.\r\n\r\nEx.\r\n```json\r\n{\"TraceSegmentDocuments\": [\r\n\"{\\\"id\\\": \\\"0b89f1dec76af795\\\", ...\"\r\n]}\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333448933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333480818","html_url":"https://github.com/openzipkin/zipkin/pull/1753#issuecomment-333480818","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1753","id":333480818,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzQ4MDgxOA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-02T09:12:14Z","updated_at":"2017-10-02T09:12:14Z","author_association":"MEMBER","body":"thanks tons!\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333480818/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333507258","html_url":"https://github.com/openzipkin/zipkin/issues/1695#issuecomment-333507258","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1695","id":333507258,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzUwNzI1OA==","user":{"login":"michaelsembwever","id":559444,"node_id":"MDQ6VXNlcjU1OTQ0NA==","avatar_url":"https://avatars.githubusercontent.com/u/559444?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelsembwever","html_url":"https://github.com/michaelsembwever","followers_url":"https://api.github.com/users/michaelsembwever/followers","following_url":"https://api.github.com/users/michaelsembwever/following{/other_user}","gists_url":"https://api.github.com/users/michaelsembwever/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelsembwever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelsembwever/subscriptions","organizations_url":"https://api.github.com/users/michaelsembwever/orgs","repos_url":"https://api.github.com/users/michaelsembwever/repos","events_url":"https://api.github.com/users/michaelsembwever/events{/privacy}","received_events_url":"https://api.github.com/users/michaelsembwever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-02T11:24:00Z","updated_at":"2017-10-02T11:24:00Z","author_association":"MEMBER","body":"> Make sense?\r\n\r\nYup. I've put the extra column in and the extra SASI on it, so to achieve this.\r\nIt could well be that two SASI indexes working together like this is not faster than having the bigger single SASI. Benchmarking later in the PR will prove that.\r\n\r\nThe branch has been updated, the main code looks roughly in shape, next to do is get the tests compiling and working.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333507258/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333527527","html_url":"https://github.com/openzipkin/zipkin/pull/1732#issuecomment-333527527","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1732","id":333527527,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzUyNzUyNw==","user":{"login":"stepanv","id":883323,"node_id":"MDQ6VXNlcjg4MzMyMw==","avatar_url":"https://avatars.githubusercontent.com/u/883323?v=4","gravatar_id":"","url":"https://api.github.com/users/stepanv","html_url":"https://github.com/stepanv","followers_url":"https://api.github.com/users/stepanv/followers","following_url":"https://api.github.com/users/stepanv/following{/other_user}","gists_url":"https://api.github.com/users/stepanv/gists{/gist_id}","starred_url":"https://api.github.com/users/stepanv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stepanv/subscriptions","organizations_url":"https://api.github.com/users/stepanv/orgs","repos_url":"https://api.github.com/users/stepanv/repos","events_url":"https://api.github.com/users/stepanv/events{/privacy}","received_events_url":"https://api.github.com/users/stepanv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-02T13:02:02Z","updated_at":"2017-10-02T13:02:02Z","author_association":"CONTRIBUTOR","body":"@adriancole, I pushed another commit with extended README.md and fixed _devServer_.\r\nJust note that I had to add `/zipkin/` context root to the `proxy` env var to make it work (I hope it's ok):\r\n```\r\nproxy=http://localhost:9411/zipkin/ ./npm.sh run dev\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333527527/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333574702","html_url":"https://github.com/openzipkin/zipkin/issues/1332#issuecomment-333574702","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1332","id":333574702,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzU3NDcwMg==","user":{"login":"Logic-32","id":25107222,"node_id":"MDQ6VXNlcjI1MTA3MjIy","avatar_url":"https://avatars.githubusercontent.com/u/25107222?v=4","gravatar_id":"","url":"https://api.github.com/users/Logic-32","html_url":"https://github.com/Logic-32","followers_url":"https://api.github.com/users/Logic-32/followers","following_url":"https://api.github.com/users/Logic-32/following{/other_user}","gists_url":"https://api.github.com/users/Logic-32/gists{/gist_id}","starred_url":"https://api.github.com/users/Logic-32/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Logic-32/subscriptions","organizations_url":"https://api.github.com/users/Logic-32/orgs","repos_url":"https://api.github.com/users/Logic-32/repos","events_url":"https://api.github.com/users/Logic-32/events{/privacy}","received_events_url":"https://api.github.com/users/Logic-32/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-02T15:43:58Z","updated_at":"2017-10-02T15:48:35Z","author_association":"CONTRIBUTOR","body":"Good news is, we're not using Kafka, so I suppose this is a bit off topic.  I'm happy to create a new case if so, or just comment on #1741.  However, that even seems a bit inappropriate since I'm not in a position to \"talk about what is possible, especially what is easy to support.\"\r\n\r\nAs it stands, I'm also not sure \"backpressure\" is entirely the issue we're having.  The second instance we had an OOM, for example, was because Elasticsearch ran out of disk space.  Something obviously easy to remedy, but in that case I wouldn't expect zipkin-server to lock up and die like it did.  Instead, imo, it should try to push what data it gets and drop whatever Elasticsearch says it can't store; assuming Elasticsearch has the ability to say it can't store it.  To some extent, I'm curious why the ES_HTTP_READ_TIMEOUT property doesn't resolve this issue.  I'm guessing it's because OkHttp3 may not be able to establish the connection to Elasticsearch and therefore isn't getting to a point where it's waiting on a read?\r\n\r\nWith all that said, aside from the obvious reasons, would you still recommend updating to v2 to test this issue or do you suppose we'll still have the same problem but with a bit more buffer until we blow the heap?  Note, we have locally made some changes to zipkin-server that would likely have the same effect on GC/heap usage.  We were planning on doing a pull request but v2 came out before we could get some solid tests in ;)\r\n\r\np.s. For what it's worth, we have instrumented zipkin-server with metrics we report to Graphite and our heap remains sub-1.5GB, averaging about 500MB, until ES dies.  At which point there is a rapid, borderline immediate spike to 3GB where it then churns on GC indefinitely.  The heap dumps I mentioned earlier were taken at this point.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333574702/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333703513","html_url":"https://github.com/openzipkin/zipkin/issues/1743#issuecomment-333703513","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1743","id":333703513,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzcwMzUxMw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-03T00:28:54Z","updated_at":"2017-10-03T00:28:54Z","author_association":"MEMBER","body":"zipkin-server 2.1 supports rabbitmq (not sleuth stream variant)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333703513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333703811","html_url":"https://github.com/openzipkin/zipkin/issues/1614#issuecomment-333703811","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1614","id":333703811,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzcwMzgxMQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-03T00:30:43Z","updated_at":"2017-10-03T00:30:43Z","author_association":"MEMBER","body":"zipkin-server 2.1 supports rabbitmq \r\n\r\ntracers who want to support this will need to add a transport/reporter which produces messages (by default to the queue named \"zipkin\") which are encoded lists (ex a json list of v1 or v2 span format)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333703811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333708073","html_url":"https://github.com/openzipkin/zipkin/pull/1732#issuecomment-333708073","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1732","id":333708073,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzcwODA3Mw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-03T00:58:14Z","updated_at":"2017-10-03T00:58:14Z","author_association":"MEMBER","body":"very nice work.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333708073/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333809689","html_url":"https://github.com/openzipkin/zipkin/issues/1613#issuecomment-333809689","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1613","id":333809689,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzgwOTY4OQ==","user":{"login":"jcchavezs","id":3075074,"node_id":"MDQ6VXNlcjMwNzUwNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/3075074?v=4","gravatar_id":"","url":"https://api.github.com/users/jcchavezs","html_url":"https://github.com/jcchavezs","followers_url":"https://api.github.com/users/jcchavezs/followers","following_url":"https://api.github.com/users/jcchavezs/following{/other_user}","gists_url":"https://api.github.com/users/jcchavezs/gists{/gist_id}","starred_url":"https://api.github.com/users/jcchavezs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jcchavezs/subscriptions","organizations_url":"https://api.github.com/users/jcchavezs/orgs","repos_url":"https://api.github.com/users/jcchavezs/repos","events_url":"https://api.github.com/users/jcchavezs/events{/privacy}","received_events_url":"https://api.github.com/users/jcchavezs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-03T11:05:58Z","updated_at":"2017-10-03T11:05:58Z","author_association":"CONTRIBUTOR","body":"@xiaoxing598 I just published this library https://github.com/jcchavezs/zipkin-php which is V2 native and strongly inspired in brave. There is also [an example](https://github.com/openzipkin/zipkin-php-example) on how to use it.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333809689/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333833336","html_url":"https://github.com/openzipkin/zipkin/issues/1754#issuecomment-333833336","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1754","id":333833336,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzgzMzMzNg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-03T12:58:14Z","updated_at":"2017-10-03T12:58:14Z","author_association":"MEMBER","body":"Added an example implementation of trace ID with a time component. Unsurprisingly, it is slower than a fully random ID. However, the scale is still sub microsecond (on my laptop), and only affects the root span: https://github.com/openzipkin/brave/pull/509\r\n\r\nNext step is to add a converter which proves the concept.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333833336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333869976","html_url":"https://github.com/openzipkin/zipkin/issues/1332#issuecomment-333869976","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1332","id":333869976,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzg2OTk3Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-03T14:59:46Z","updated_at":"2017-10-03T14:59:46Z","author_association":"MEMBER","body":">\n> As it stands, I'm also not sure \"backpressure\" is entirely the issue we're\n> having. The second instance we had an OOM, for example, was because\n> Elasticsearch ran out of disk space. Something obviously easy to remedy,\n> but in that case I wouldn't expect zipkin-server to lock up and die like it\n> did. Instead, imo, it should try to push what data it gets and drop\n> whatever Elasticsearch says it can't store; assuming Elasticsearch has the\n> ability to say it can't store it. To some extent, I'm curious why the\n> ES_HTTP_READ_TIMEOUT property doesn't resolve this issue. I'm guessing it's\n> because OkHttp3 may not be able to establish the connection to\n> Elasticsearch and therefore isn't getting to a point where it's waiting on\n> a read?\n>\nI think this is as you say not really a backpressure so much as how to keep\nzipkin from crashing when ES is not happy. However the solution might be\nrelated. I would still upgrade even if it yeah won't help from crashing\nwhen ES it dead (maybe only slow it).. pretty sure we updated OkHttp as\nwell lately. I've been thinking about maybe maxRequests=64 could be\nproblematic depending on how big the in-flight requests are. I've also\nwondered if we shouldn't drop sooner, perhaps with a custom http listener\n(undertow or similar) so that we don't buffer any data when the backend is\ndead. Maybe we can retitle https://github.com/openzipkin/zipkin/issues/1741\ntowards ES resilience or open one on that point. Any help you can give\nwould be appreciated.. apologies the work in progress on v2 made that a bit\nof shifting sands.\n\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333869976/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333889132","html_url":"https://github.com/openzipkin/zipkin/issues/1751#issuecomment-333889132","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1751","id":333889132,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzg4OTEzMg==","user":{"login":"pennstatephil","id":2266060,"node_id":"MDQ6VXNlcjIyNjYwNjA=","avatar_url":"https://avatars.githubusercontent.com/u/2266060?v=4","gravatar_id":"","url":"https://api.github.com/users/pennstatephil","html_url":"https://github.com/pennstatephil","followers_url":"https://api.github.com/users/pennstatephil/followers","following_url":"https://api.github.com/users/pennstatephil/following{/other_user}","gists_url":"https://api.github.com/users/pennstatephil/gists{/gist_id}","starred_url":"https://api.github.com/users/pennstatephil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pennstatephil/subscriptions","organizations_url":"https://api.github.com/users/pennstatephil/orgs","repos_url":"https://api.github.com/users/pennstatephil/repos","events_url":"https://api.github.com/users/pennstatephil/events{/privacy}","received_events_url":"https://api.github.com/users/pennstatephil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-03T16:00:54Z","updated_at":"2017-10-03T16:25:18Z","author_association":"NONE","body":"On further inspection, this is an issue with the way Spring Cloud Sleuth picks span names:\r\n\r\nTraceFilter.java line 136:\r\n`String name = HTTP_COMPONENT + \":\" + uri;`\r\n\r\nWhen \"uri\" is really long, we start seeing these issues. I can migrate this issue over to that project... Or, is there an easy way to override the span name?\r\n\r\nedited to add: looks like it's been reported here: https://github.com/spring-cloud/spring-cloud-sleuth/issues/500","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/333889132/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334006222","html_url":"https://github.com/openzipkin/zipkin/pull/1747#issuecomment-334006222","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1747","id":334006222,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDAwNjIyMg==","user":{"login":"naoman","id":6273158,"node_id":"MDQ6VXNlcjYyNzMxNTg=","avatar_url":"https://avatars.githubusercontent.com/u/6273158?v=4","gravatar_id":"","url":"https://api.github.com/users/naoman","html_url":"https://github.com/naoman","followers_url":"https://api.github.com/users/naoman/followers","following_url":"https://api.github.com/users/naoman/following{/other_user}","gists_url":"https://api.github.com/users/naoman/gists{/gist_id}","starred_url":"https://api.github.com/users/naoman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/naoman/subscriptions","organizations_url":"https://api.github.com/users/naoman/orgs","repos_url":"https://api.github.com/users/naoman/repos","events_url":"https://api.github.com/users/naoman/events{/privacy}","received_events_url":"https://api.github.com/users/naoman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-03T23:17:15Z","updated_at":"2017-10-03T23:17:15Z","author_association":"CONTRIBUTOR","body":">... and so far I think archive is it. do you agree?\r\n\r\nYes.\r\n\r\n![screen shot 2017-10-03 at 4 10 25 pm](https://user-images.githubusercontent.com/6273158/31153391-da4b7fa0-a855-11e7-96da-aa8f4a26c624.png)\r\n\r\nError message\r\n![screen shot 2017-10-03 at 4 10 38 pm](https://user-images.githubusercontent.com/6273158/31153389-da4aac38-a855-11e7-9e74-70a307f4c476.png)\r\n\r\nSuccess message, when `zipkin.ui.archive-read-endpoint` is not specified.\r\n![screen shot 2017-10-03 at 4 11 20 pm](https://user-images.githubusercontent.com/6273158/31153390-da4b54ee-a855-11e7-8379-90922637b05c.png)\r\n\r\nSuccess message, when `zipkin.ui.archive-read-endpoint` is specified.\r\n![screen shot 2017-10-03 at 4 12 04 pm](https://user-images.githubusercontent.com/6273158/31153392-da4d8df4-a855-11e7-8cf0-30e4bb4579a0.png)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334006222/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334027838","html_url":"https://github.com/openzipkin/zipkin/pull/1747#issuecomment-334027838","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1747","id":334027838,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDAyNzgzOA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-04T01:44:17Z","updated_at":"2017-10-04T01:44:17Z","author_association":"MEMBER","body":"you'll want to rebase this on master, as the thing that allows proxies to work was merged","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334027838/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334029740","html_url":"https://github.com/openzipkin/zipkin/issues/1751#issuecomment-334029740","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1751","id":334029740,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDAyOTc0MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-04T01:59:11Z","updated_at":"2017-10-04T01:59:11Z","author_association":"MEMBER","body":"This issue was moved to spring-cloud/spring-cloud-sleuth#723","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334029740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334030359","html_url":"https://github.com/openzipkin/zipkin/issues/1751#issuecomment-334030359","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1751","id":334030359,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDAzMDM1OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-04T02:04:15Z","updated_at":"2017-10-04T02:04:15Z","author_association":"MEMBER","body":"sleuth has means to change the naming convention, you can peek at docs or hop on gitter to ask about it https://gitter.im/spring-cloud/spring-cloud-sleuth","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334030359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334037913","html_url":"https://github.com/openzipkin/zipkin/pull/1747#issuecomment-334037913","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1747","id":334037913,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDAzNzkxMw==","user":{"login":"naoman","id":6273158,"node_id":"MDQ6VXNlcjYyNzMxNTg=","avatar_url":"https://avatars.githubusercontent.com/u/6273158?v=4","gravatar_id":"","url":"https://api.github.com/users/naoman","html_url":"https://github.com/naoman","followers_url":"https://api.github.com/users/naoman/followers","following_url":"https://api.github.com/users/naoman/following{/other_user}","gists_url":"https://api.github.com/users/naoman/gists{/gist_id}","starred_url":"https://api.github.com/users/naoman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/naoman/subscriptions","organizations_url":"https://api.github.com/users/naoman/orgs","repos_url":"https://api.github.com/users/naoman/repos","events_url":"https://api.github.com/users/naoman/events{/privacy}","received_events_url":"https://api.github.com/users/naoman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-04T03:04:18Z","updated_at":"2017-10-04T03:04:18Z","author_association":"CONTRIBUTOR","body":"hum.. I messed up rebase","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334037913/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334040984","html_url":"https://github.com/openzipkin/zipkin/pull/1747#issuecomment-334040984","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1747","id":334040984,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDA0MDk4NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-04T03:32:23Z","updated_at":"2017-10-04T03:32:23Z","author_association":"MEMBER","body":"maybe add\n\n<!-- Prevents error in XXXTest\njava.lang.NoClassDefFoundError:\norg/springframework/util/concurrent/SettableListenableFuture\nat zipkin.server.ZipkinHttpCollector.validateAndStoreSpans(ZipkinHttpCollector.java:88)\n-->\n\n\nas an xml comment above the dependency? That way, we can figure out\nlater what's up\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334040984/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334041176","html_url":"https://github.com/openzipkin/zipkin/pull/1747#issuecomment-334041176","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1747","id":334041176,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDA0MTE3Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-04T03:34:08Z","updated_at":"2017-10-04T03:34:08Z","author_association":"MEMBER","body":"I can fix the rebase stuff on the way in, no worries","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334041176/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334045919","html_url":"https://github.com/openzipkin/zipkin/pull/1747#issuecomment-334045919","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1747","id":334045919,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDA0NTkxOQ==","user":{"login":"naoman","id":6273158,"node_id":"MDQ6VXNlcjYyNzMxNTg=","avatar_url":"https://avatars.githubusercontent.com/u/6273158?v=4","gravatar_id":"","url":"https://api.github.com/users/naoman","html_url":"https://github.com/naoman","followers_url":"https://api.github.com/users/naoman/followers","following_url":"https://api.github.com/users/naoman/following{/other_user}","gists_url":"https://api.github.com/users/naoman/gists{/gist_id}","starred_url":"https://api.github.com/users/naoman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/naoman/subscriptions","organizations_url":"https://api.github.com/users/naoman/orgs","repos_url":"https://api.github.com/users/naoman/repos","events_url":"https://api.github.com/users/naoman/events{/privacy}","received_events_url":"https://api.github.com/users/naoman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-04T04:19:15Z","updated_at":"2017-10-04T04:19:15Z","author_association":"CONTRIBUTOR","body":"Added unit test and removed unnecessary dependency. The exception I was seeing earlier must be because of some setup issue.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334045919/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334049745","html_url":"https://github.com/openzipkin/zipkin/issues/1754#issuecomment-334049745","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1754","id":334049745,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDA0OTc0NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-04T04:55:10Z","updated_at":"2017-10-04T04:55:10Z","author_association":"MEMBER","body":"experimental work starting in Brave here https://github.com/openzipkin/brave/pull/510","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334049745/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334056519","html_url":"https://github.com/openzipkin/zipkin/pull/1747#issuecomment-334056519","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1747","id":334056519,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDA1NjUxOQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-04T05:52:28Z","updated_at":"2017-10-04T05:52:28Z","author_association":"MEMBER","body":"looks like the test is failing:\r\n\r\n```\r\n[INFO] JS 2.1.1 (Linux 0.0.0) traceToMustache should show archiveReadEndpoint FAILED\r\n[INFO] \tundefined is not an object (evaluating 'modelview.archiveEndpoint.should')\r\n[INFO] \t/home/travis/build/openzipkin/zipkin/zipkin-ui/test/component_ui/traceToMustache.test.js:110:31 <- webpack:///test/component_ui/traceToMustache.test.js:70:30\r\n[INFO] PhantomJS 2.1.1 (Linux 0.0.0): Executed 82 of 93 (1 FAILED) (0 secs / 0.041 secs)\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334056519/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334232317","html_url":"https://github.com/openzipkin/zipkin/pull/1747#issuecomment-334232317","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1747","id":334232317,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDIzMjMxNw==","user":{"login":"naoman","id":6273158,"node_id":"MDQ6VXNlcjYyNzMxNTg=","avatar_url":"https://avatars.githubusercontent.com/u/6273158?v=4","gravatar_id":"","url":"https://api.github.com/users/naoman","html_url":"https://github.com/naoman","followers_url":"https://api.github.com/users/naoman/followers","following_url":"https://api.github.com/users/naoman/following{/other_user}","gists_url":"https://api.github.com/users/naoman/gists{/gist_id}","starred_url":"https://api.github.com/users/naoman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/naoman/subscriptions","organizations_url":"https://api.github.com/users/naoman/orgs","repos_url":"https://api.github.com/users/naoman/repos","events_url":"https://api.github.com/users/naoman/events{/privacy}","received_events_url":"https://api.github.com/users/naoman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-04T17:36:34Z","updated_at":"2017-10-04T17:36:34Z","author_association":"CONTRIBUTOR","body":"@adriancole can you help with this `ci/circleci` failure? Looks like its a setup issue. \r\n\r\n<img width=\"906\" alt=\"screen shot 2017-10-04 at 10 26 02 am\" src=\"https://user-images.githubusercontent.com/6273158/31190006-ac8bc144-a8ee-11e7-9488-f92deb9f0363.png\">\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334232317/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334342014","html_url":"https://github.com/openzipkin/zipkin/issues/1754#issuecomment-334342014","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1754","id":334342014,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDM0MjAxNA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-05T02:31:21Z","updated_at":"2017-10-05T02:31:21Z","author_association":"MEMBER","body":"Thanks to @jcarres-mdsol for making new trace ID provisioning instructions a bit simpler:\r\n\r\n|---- 32 bits for epoc seconds --- | ----- 96 bits for random number --- |\r\nit can potentially be implemented by:\r\nHigh 64:\r\n|---- 32 bits for epoc seconds --- | ----- 32 bits for random number --- |\r\nLow 64:\r\n| ----- 64 bits for random number --- |\r\n\r\nOptional cheap sanity check the high 32 bits are epoch seconds\r\n58000000 = 1476395008 = 2016-10-13 < prior to X-Ray and zipkin supporting 128-bit trace IDs\r\n60000000 = 1610612736 = 2021-01-14 < of course you can even more future proof","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334342014/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334343984","html_url":"https://github.com/openzipkin/zipkin/pull/1747#issuecomment-334343984","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1747","id":334343984,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDM0Mzk4NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-05T02:47:22Z","updated_at":"2017-10-05T02:47:22Z","author_association":"MEMBER","body":"@naoman circle has been hell lately. just ignore it for now as I can't dedicate time towards it. I do spend probably 10hrs a month on various build issues... just need to get some work done.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334343984/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334344038","html_url":"https://github.com/openzipkin/zipkin/pull/1747#issuecomment-334344038","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1747","id":334344038,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDM0NDAzOA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-05T02:47:50Z","updated_at":"2017-10-05T02:47:50Z","author_association":"MEMBER","body":"@naoman can you confirm that the archive button is absent when there's no url present?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334344038/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334344593","html_url":"https://github.com/openzipkin/zipkin/pull/1250#issuecomment-334344593","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1250","id":334344593,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDM0NDU5Mw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-05T02:52:25Z","updated_at":"2017-10-05T02:52:25Z","author_association":"MEMBER","body":"PS circleci has been extremely flakey, moreso than travis who is doing more work (ex running docker tests). There's a rumor that circle 2.0 might make things less flakey. I'd recommend we continue to not push for more things on circle until at least normal builds pass routinely","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334344593/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334346305","html_url":"https://github.com/openzipkin/zipkin/pull/1747#issuecomment-334346305","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1747","id":334346305,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDM0NjMwNQ==","user":{"login":"jcarres-mdsol","id":1803073,"node_id":"MDQ6VXNlcjE4MDMwNzM=","avatar_url":"https://avatars.githubusercontent.com/u/1803073?v=4","gravatar_id":"","url":"https://api.github.com/users/jcarres-mdsol","html_url":"https://github.com/jcarres-mdsol","followers_url":"https://api.github.com/users/jcarres-mdsol/followers","following_url":"https://api.github.com/users/jcarres-mdsol/following{/other_user}","gists_url":"https://api.github.com/users/jcarres-mdsol/gists{/gist_id}","starred_url":"https://api.github.com/users/jcarres-mdsol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jcarres-mdsol/subscriptions","organizations_url":"https://api.github.com/users/jcarres-mdsol/orgs","repos_url":"https://api.github.com/users/jcarres-mdsol/repos","events_url":"https://api.github.com/users/jcarres-mdsol/events{/privacy}","received_events_url":"https://api.github.com/users/jcarres-mdsol/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-05T03:06:49Z","updated_at":"2017-10-05T03:06:49Z","author_association":"CONTRIBUTOR","body":"Seems a hacky solution, most people will not have this setup. Would the button appear in the UI by default? It may set expectations it would work when in most cases would not","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334346305/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334348188","html_url":"https://github.com/openzipkin/zipkin/pull/1757#issuecomment-334348188","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1757","id":334348188,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDM0ODE4OA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-05T03:21:56Z","updated_at":"2017-10-05T03:21:56Z","author_association":"MEMBER","body":"thanks, mick!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334348188/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334356391","html_url":"https://github.com/openzipkin/zipkin/pull/1747#issuecomment-334356391","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1747","id":334356391,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDM1NjM5MQ==","user":{"login":"naoman","id":6273158,"node_id":"MDQ6VXNlcjYyNzMxNTg=","avatar_url":"https://avatars.githubusercontent.com/u/6273158?v=4","gravatar_id":"","url":"https://api.github.com/users/naoman","html_url":"https://github.com/naoman","followers_url":"https://api.github.com/users/naoman/followers","following_url":"https://api.github.com/users/naoman/following{/other_user}","gists_url":"https://api.github.com/users/naoman/gists{/gist_id}","starred_url":"https://api.github.com/users/naoman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/naoman/subscriptions","organizations_url":"https://api.github.com/users/naoman/orgs","repos_url":"https://api.github.com/users/naoman/repos","events_url":"https://api.github.com/users/naoman/events{/privacy}","received_events_url":"https://api.github.com/users/naoman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-05T04:34:37Z","updated_at":"2017-10-05T04:34:37Z","author_association":"CONTRIBUTOR","body":"@adriancole Yes, `Archive` button shows only when `zipkin.ui.archive-endpoint` is present. Similar to `Logs` button.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334356391/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334384057","html_url":"https://github.com/openzipkin/zipkin/pull/1747#issuecomment-334384057","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1747","id":334384057,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDM4NDA1Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-05T07:39:49Z","updated_at":"2017-10-05T07:39:49Z","author_association":"MEMBER","body":"@jcarres-mdsol so we have had a number of requests for how to achieve permanent storage w/o complicating other things. I've not found a simpler way than this..\r\n\r\nThe notes would be that if you want permanent storage, setup zipkin somewhere (or a zipkin proxy like stackdriver), then point env variables to that. If using a normal zipkin server, the archival one should probably set the environment name to \"archive\" (something you can configure on the UI).\r\n\r\nDoes this clarify the setup? indeed it would be new for a lot of folks, but fairly easy to provision (add a permanent namespace to storage, keep a server running which needn't deal with high volume as it is only archival)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334384057/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334392491","html_url":"https://github.com/openzipkin/zipkin/pull/1747#issuecomment-334392491","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1747","id":334392491,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDM5MjQ5MQ==","user":{"login":"jorgheymans","id":193792,"node_id":"MDQ6VXNlcjE5Mzc5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/193792?v=4","gravatar_id":"","url":"https://api.github.com/users/jorgheymans","html_url":"https://github.com/jorgheymans","followers_url":"https://api.github.com/users/jorgheymans/followers","following_url":"https://api.github.com/users/jorgheymans/following{/other_user}","gists_url":"https://api.github.com/users/jorgheymans/gists{/gist_id}","starred_url":"https://api.github.com/users/jorgheymans/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jorgheymans/subscriptions","organizations_url":"https://api.github.com/users/jorgheymans/orgs","repos_url":"https://api.github.com/users/jorgheymans/repos","events_url":"https://api.github.com/users/jorgheymans/events{/privacy}","received_events_url":"https://api.github.com/users/jorgheymans/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-05T08:15:48Z","updated_at":"2017-10-05T08:15:48Z","author_association":"CONTRIBUTOR","body":"will the UI have an href somewhere then to the archive endpoint ? ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334392491/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334514647","html_url":"https://github.com/openzipkin/zipkin/pull/1747#issuecomment-334514647","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1747","id":334514647,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDUxNDY0Nw==","user":{"login":"naoman","id":6273158,"node_id":"MDQ6VXNlcjYyNzMxNTg=","avatar_url":"https://avatars.githubusercontent.com/u/6273158?v=4","gravatar_id":"","url":"https://api.github.com/users/naoman","html_url":"https://github.com/naoman","followers_url":"https://api.github.com/users/naoman/followers","following_url":"https://api.github.com/users/naoman/following{/other_user}","gists_url":"https://api.github.com/users/naoman/gists{/gist_id}","starred_url":"https://api.github.com/users/naoman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/naoman/subscriptions","organizations_url":"https://api.github.com/users/naoman/orgs","repos_url":"https://api.github.com/users/naoman/repos","events_url":"https://api.github.com/users/naoman/events{/privacy}","received_events_url":"https://api.github.com/users/naoman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-05T16:11:40Z","updated_at":"2017-10-05T16:11:40Z","author_association":"CONTRIBUTOR","body":"@jorgheymans when a trace is archived, the UI will show a link to archived trace in the confirmation dialog. Screenshot attached above.\r\n\r\n>@naoman just curious how many traces do you save to permanent store ? Is it a regularly occuring thing ?\r\n\r\nNot many, maybe just a few traces per day. Because of our high trace volume, regular datastore has TTL of 10 days. This feature will let users save \"interesting\" traces, specially something related to a bug, for longer duration. ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334514647/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334590134","html_url":"https://github.com/openzipkin/zipkin/issues/1332#issuecomment-334590134","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1332","id":334590134,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDU5MDEzNA==","user":{"login":"Logic-32","id":25107222,"node_id":"MDQ6VXNlcjI1MTA3MjIy","avatar_url":"https://avatars.githubusercontent.com/u/25107222?v=4","gravatar_id":"","url":"https://api.github.com/users/Logic-32","html_url":"https://github.com/Logic-32","followers_url":"https://api.github.com/users/Logic-32/followers","following_url":"https://api.github.com/users/Logic-32/following{/other_user}","gists_url":"https://api.github.com/users/Logic-32/gists{/gist_id}","starred_url":"https://api.github.com/users/Logic-32/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Logic-32/subscriptions","organizations_url":"https://api.github.com/users/Logic-32/orgs","repos_url":"https://api.github.com/users/Logic-32/repos","events_url":"https://api.github.com/users/Logic-32/events{/privacy}","received_events_url":"https://api.github.com/users/Logic-32/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-05T20:58:14Z","updated_at":"2017-10-05T20:58:14Z","author_association":"CONTRIBUTOR","body":"I can definitely say we occasionally throw some large requests at this.  We actually had to up the 10k span limit in ThriftCodec to 20k because we were semi-regularly getting 13k spans per message (rouge service we've identified and quieted down a bit).  On average I'd say we're in the 10s per message but with the number of services we have we get hundreds of thousands of spans a second (IIRC).  So, in short, the messages probably aren't that big on average but there are _a lot_ of them.\r\n\r\nI'd definitely be pro dropping early if you know the backend is down though I'm not in a position to try and implement something like that myself.  We can definitely try setting 'maxRequests=something' but, out of curiosity, where would we set that?  Spring-boot, OkHttp3, StorageComponent, environment variable, other...?\r\n\r\nNo worries about moving the ground out from beneath us!  From what I can tell the changes we have will move nicely to Zipkin 2 :)  As for us actually moving to it: it'll be awhile.  But I'll try to get some momentum in that direction and report back if progress is ever made and anything positive happens.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334590134/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334629320","html_url":"https://github.com/openzipkin/zipkin/issues/1332#issuecomment-334629320","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1332","id":334629320,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDYyOTMyMA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-06T00:41:14Z","updated_at":"2017-10-06T00:41:14Z","author_association":"MEMBER","body":"Are you sending this data via a homegrown or existing library? I know census has support for pruning spans as for example in last workshop there was no tool that could handle over 10k.. many drop far before that, for example using statistics. We have not explored this deeply as usually very large traces are an error.\r\n\r\nPs okhttp does have max connections but i dont think that limits backlog. We can verify.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334629320/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334645889","html_url":"https://github.com/openzipkin/zipkin/pull/1758#issuecomment-334645889","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1758","id":334645889,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDY0NTg4OQ==","user":{"login":"llinder","id":99359,"node_id":"MDQ6VXNlcjk5MzU5","avatar_url":"https://avatars.githubusercontent.com/u/99359?v=4","gravatar_id":"","url":"https://api.github.com/users/llinder","html_url":"https://github.com/llinder","followers_url":"https://api.github.com/users/llinder/followers","following_url":"https://api.github.com/users/llinder/following{/other_user}","gists_url":"https://api.github.com/users/llinder/gists{/gist_id}","starred_url":"https://api.github.com/users/llinder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/llinder/subscriptions","organizations_url":"https://api.github.com/users/llinder/orgs","repos_url":"https://api.github.com/users/llinder/repos","events_url":"https://api.github.com/users/llinder/events{/privacy}","received_events_url":"https://api.github.com/users/llinder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-06T02:59:15Z","updated_at":"2017-10-06T02:59:15Z","author_association":"MEMBER","body":"Looks great so far!  Thanks a ton for working on this @michaelsembwever ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334645889/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334682097","html_url":"https://github.com/openzipkin/zipkin/pull/1747#issuecomment-334682097","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1747","id":334682097,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDY4MjA5Nw==","user":{"login":"jorgheymans","id":193792,"node_id":"MDQ6VXNlcjE5Mzc5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/193792?v=4","gravatar_id":"","url":"https://api.github.com/users/jorgheymans","html_url":"https://github.com/jorgheymans","followers_url":"https://api.github.com/users/jorgheymans/followers","following_url":"https://api.github.com/users/jorgheymans/following{/other_user}","gists_url":"https://api.github.com/users/jorgheymans/gists{/gist_id}","starred_url":"https://api.github.com/users/jorgheymans/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jorgheymans/subscriptions","organizations_url":"https://api.github.com/users/jorgheymans/orgs","repos_url":"https://api.github.com/users/jorgheymans/repos","events_url":"https://api.github.com/users/jorgheymans/events{/privacy}","received_events_url":"https://api.github.com/users/jorgheymans/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-06T07:39:01Z","updated_at":"2017-10-06T07:39:01Z","author_association":"CONTRIBUTOR","body":"@naoman what i meant was just a top level link on the ui somewhere that points to the archiving endpoint if it is configured. That way ppl only have to remember (or bookmark) the \"main\" zipkin instance.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334682097/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334795332","html_url":"https://github.com/openzipkin/zipkin/issues/1332#issuecomment-334795332","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1332","id":334795332,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDc5NTMzMg==","user":{"login":"Logic-32","id":25107222,"node_id":"MDQ6VXNlcjI1MTA3MjIy","avatar_url":"https://avatars.githubusercontent.com/u/25107222?v=4","gravatar_id":"","url":"https://api.github.com/users/Logic-32","html_url":"https://github.com/Logic-32","followers_url":"https://api.github.com/users/Logic-32/followers","following_url":"https://api.github.com/users/Logic-32/following{/other_user}","gists_url":"https://api.github.com/users/Logic-32/gists{/gist_id}","starred_url":"https://api.github.com/users/Logic-32/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Logic-32/subscriptions","organizations_url":"https://api.github.com/users/Logic-32/orgs","repos_url":"https://api.github.com/users/Logic-32/repos","events_url":"https://api.github.com/users/Logic-32/events{/privacy}","received_events_url":"https://api.github.com/users/Logic-32/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-06T15:52:49Z","updated_at":"2017-10-06T15:52:49Z","author_association":"CONTRIBUTOR","body":"We are using Brave with a URLConnectionSender to send the data.  I'm surprised that no tool could handle more than 10k spans in your workshop; we handle it with minimal problems on only one zipkin-server, no cluster.  The only problem is that the ES_READ_TIMEOUT is set to 60s and it sometimes takes more than 60s to write the data out.  So, the data does get written but zipkin erroneously reports them as dropped.  But our specific situation that got us into that state was having a 10s messageTimeout and a tight loop that hit the database; both of which have been remedied.\r\n\r\nQuick review of the documentation indicates that the max connections only affects the size of the pool they use; which probably means everything else would be queued and backlogged.\r\n\r\nAgain, not knowing OkHttp that well, I wonder if you can inspect the Dispatcher queue and cancel anything in the queue if you exceed a certain threshold?\r\nRef: https://gist.github.com/RyanRamchandar/64c5863838940ec67f03","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334795332/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334823571","html_url":"https://github.com/openzipkin/zipkin/pull/1747#issuecomment-334823571","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1747","id":334823571,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDgyMzU3MQ==","user":{"login":"naoman","id":6273158,"node_id":"MDQ6VXNlcjYyNzMxNTg=","avatar_url":"https://avatars.githubusercontent.com/u/6273158?v=4","gravatar_id":"","url":"https://api.github.com/users/naoman","html_url":"https://github.com/naoman","followers_url":"https://api.github.com/users/naoman/followers","following_url":"https://api.github.com/users/naoman/following{/other_user}","gists_url":"https://api.github.com/users/naoman/gists{/gist_id}","starred_url":"https://api.github.com/users/naoman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/naoman/subscriptions","organizations_url":"https://api.github.com/users/naoman/orgs","repos_url":"https://api.github.com/users/naoman/repos","events_url":"https://api.github.com/users/naoman/events{/privacy}","received_events_url":"https://api.github.com/users/naoman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-06T17:43:04Z","updated_at":"2017-10-06T17:43:04Z","author_association":"CONTRIBUTOR","body":"@jorgheymans Yes, this can be useful. But at this point I want to keep the code simple and clean, since this feature will not be used by many users. In my personal experience, when archiving a trace, users will save the link to the trace itself, since they are archiving the trace to save or share it.\r\n\r\nI would say we should go ahead with the current code, and revisit based on user feedback.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334823571/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334837560","html_url":"https://github.com/openzipkin/zipkin/issues/1601#issuecomment-334837560","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1601","id":334837560,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDgzNzU2MA==","user":{"login":"Crevil","id":6881694,"node_id":"MDQ6VXNlcjY4ODE2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6881694?v=4","gravatar_id":"","url":"https://api.github.com/users/Crevil","html_url":"https://github.com/Crevil","followers_url":"https://api.github.com/users/Crevil/followers","following_url":"https://api.github.com/users/Crevil/following{/other_user}","gists_url":"https://api.github.com/users/Crevil/gists{/gist_id}","starred_url":"https://api.github.com/users/Crevil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Crevil/subscriptions","organizations_url":"https://api.github.com/users/Crevil/orgs","repos_url":"https://api.github.com/users/Crevil/repos","events_url":"https://api.github.com/users/Crevil/events{/privacy}","received_events_url":"https://api.github.com/users/Crevil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-06T18:40:44Z","updated_at":"2017-10-06T18:40:44Z","author_association":"NONE","body":"As requested, here is a ping @adriancole :)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334837560/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334902237","html_url":"https://github.com/openzipkin/zipkin/pull/1747#issuecomment-334902237","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1747","id":334902237,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDkwMjIzNw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-07T01:39:38Z","updated_at":"2017-10-07T01:39:38Z","author_association":"MEMBER","body":"I'm not sure how much impact there is to code hygiene to present a link to\nthe archive repo. It does feel like it is more a feature if one has the\nability to know where the archive repo is without saving a trace to figure\nit out.\n\nThere's currently code that conditionally shows the environment label when\npresent in configuration. How bad would the code look if a similar approach\nwas used to place a link to the archives where people can see it?\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334902237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334902419","html_url":"https://github.com/openzipkin/zipkin/issues/1332#issuecomment-334902419","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1332","id":334902419,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDkwMjQxOQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-07T01:42:23Z","updated_at":"2017-10-07T01:42:23Z","author_association":"MEMBER","body":">\n> Quick review of the documentation indicates that the max connections only\n> affects the size of the pool they use; which probably means everything else\n> would be queued and backlogged.\n>\n> Again, not knowing OkHttp that well, I wonder if you can inspect the\n> Dispatcher queue and cancel anything in the queue if you exceed a certain\n> threshold?\n> Ref: https://gist.github.com/RyanRamchandar/64c5863838940ec67f03\n>\nappreciate your persistence.. it is working :) will take a look thanks!\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334902419/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334902564","html_url":"https://github.com/openzipkin/zipkin/issues/1601#issuecomment-334902564","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1601","id":334902564,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDkwMjU2NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-07T01:45:17Z","updated_at":"2017-10-07T01:45:17Z","author_association":"MEMBER","body":"https://github.com/openzipkin/zipkin/pull/1759 !","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334902564/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334903412","html_url":"https://github.com/openzipkin/zipkin/pull/1747#issuecomment-334903412","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1747","id":334903412,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDkwMzQxMg==","user":{"login":"naoman","id":6273158,"node_id":"MDQ6VXNlcjYyNzMxNTg=","avatar_url":"https://avatars.githubusercontent.com/u/6273158?v=4","gravatar_id":"","url":"https://api.github.com/users/naoman","html_url":"https://github.com/naoman","followers_url":"https://api.github.com/users/naoman/followers","following_url":"https://api.github.com/users/naoman/following{/other_user}","gists_url":"https://api.github.com/users/naoman/gists{/gist_id}","starred_url":"https://api.github.com/users/naoman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/naoman/subscriptions","organizations_url":"https://api.github.com/users/naoman/orgs","repos_url":"https://api.github.com/users/naoman/repos","events_url":"https://api.github.com/users/naoman/events{/privacy}","received_events_url":"https://api.github.com/users/naoman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-07T02:01:52Z","updated_at":"2017-10-07T02:02:35Z","author_association":"CONTRIBUTOR","body":"Like I mentioned in my last message, this change is ready and fully functional. Adding a link would be an improvement on top of this change that can be made in a separate pull request. Lets merge this change, get the feature out there so that people can start using it, get user feedback, and then improve iteratively. ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334903412/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334904065","html_url":"https://github.com/openzipkin/zipkin/issues/1332#issuecomment-334904065","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1332","id":334904065,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDkwNDA2NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-07T02:14:29Z","updated_at":"2017-10-07T02:14:29Z","author_association":"MEMBER","body":"moved okhttp related discussion to a new issue as this topic is tangentially related https://github.com/openzipkin/zipkin/issues/1760","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334904065/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334904090","html_url":"https://github.com/openzipkin/zipkin/issues/1760#issuecomment-334904090","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1760","id":334904090,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDkwNDA5MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-07T02:15:08Z","updated_at":"2017-10-07T02:16:48Z","author_association":"MEMBER","body":"One way we could do it is to drop the incoming requests when we notice dispatcher.runningCallsCount()  is at a specific threshold, maybe easy as our in-flight limit (default 64)!\r\n\r\nThis trusts that auto-cancelation based on connect/read/write timeouts work (which defaults to 10s). If there's a possibility of stale in-flight requests otherwise, I guess we'd need something to watchdog in-flight requests to kill them if they are over the various timeouts.\r\n\r\ncc the usual okhttp folks\r\n@yschimke @swankjesse @jakewharton ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334904090/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334908769","html_url":"https://github.com/openzipkin/zipkin/pull/1747#issuecomment-334908769","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1747","id":334908769,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDkwODc2OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-07T04:06:17Z","updated_at":"2017-10-07T04:06:17Z","author_association":"MEMBER","body":"Naoman I dont think you understand. This change is for the community and a\nvalid request was made. We dont merge single user stuff, so consider it\nlucky someone else is interested!\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334908769/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334910802","html_url":"https://github.com/openzipkin/zipkin/issues/1760#issuecomment-334910802","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1760","id":334910802,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDkxMDgwMg==","user":{"login":"yschimke","id":231923,"node_id":"MDQ6VXNlcjIzMTkyMw==","avatar_url":"https://avatars.githubusercontent.com/u/231923?v=4","gravatar_id":"","url":"https://api.github.com/users/yschimke","html_url":"https://github.com/yschimke","followers_url":"https://api.github.com/users/yschimke/followers","following_url":"https://api.github.com/users/yschimke/following{/other_user}","gists_url":"https://api.github.com/users/yschimke/gists{/gist_id}","starred_url":"https://api.github.com/users/yschimke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yschimke/subscriptions","organizations_url":"https://api.github.com/users/yschimke/orgs","repos_url":"https://api.github.com/users/yschimke/repos","events_url":"https://api.github.com/users/yschimke/events{/privacy}","received_events_url":"https://api.github.com/users/yschimke/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-07T05:01:18Z","updated_at":"2017-10-07T05:01:18Z","author_association":"NONE","body":"From the Gist but also knowing the EventListener interface, is this something that could be prototyped first as an external library.  Seems like all the hooks are there to come up with something pretty smart.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334910802/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334913230","html_url":"https://github.com/openzipkin/zipkin/pull/1747#issuecomment-334913230","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1747","id":334913230,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDkxMzIzMA==","user":{"login":"naoman","id":6273158,"node_id":"MDQ6VXNlcjYyNzMxNTg=","avatar_url":"https://avatars.githubusercontent.com/u/6273158?v=4","gravatar_id":"","url":"https://api.github.com/users/naoman","html_url":"https://github.com/naoman","followers_url":"https://api.github.com/users/naoman/followers","following_url":"https://api.github.com/users/naoman/following{/other_user}","gists_url":"https://api.github.com/users/naoman/gists{/gist_id}","starred_url":"https://api.github.com/users/naoman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/naoman/subscriptions","organizations_url":"https://api.github.com/users/naoman/orgs","repos_url":"https://api.github.com/users/naoman/repos","events_url":"https://api.github.com/users/naoman/events{/privacy}","received_events_url":"https://api.github.com/users/naoman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-07T06:05:58Z","updated_at":"2017-10-07T06:06:08Z","author_association":"CONTRIBUTOR","body":">We don't merge single user stuff, so consider it lucky someone else is interested!\r\n\r\nNot sure what you mean. Do you think I'm trying to push something thats Pinterest specific, and not needed by other users? \r\n\r\nLet me try to explain one more time. While the request to add an additional url link is valid, its an add-on feature for this change, and does not block it. \r\n\r\nCan you please explain why these two changes can not be made in two separate pull requests?\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334913230/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334914675","html_url":"https://github.com/openzipkin/zipkin/pull/1747#issuecomment-334914675","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1747","id":334914675,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDkxNDY3NQ==","user":{"login":"jorgheymans","id":193792,"node_id":"MDQ6VXNlcjE5Mzc5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/193792?v=4","gravatar_id":"","url":"https://api.github.com/users/jorgheymans","html_url":"https://github.com/jorgheymans","followers_url":"https://api.github.com/users/jorgheymans/followers","following_url":"https://api.github.com/users/jorgheymans/following{/other_user}","gists_url":"https://api.github.com/users/jorgheymans/gists{/gist_id}","starred_url":"https://api.github.com/users/jorgheymans/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jorgheymans/subscriptions","organizations_url":"https://api.github.com/users/jorgheymans/orgs","repos_url":"https://api.github.com/users/jorgheymans/repos","events_url":"https://api.github.com/users/jorgheymans/events{/privacy}","received_events_url":"https://api.github.com/users/jorgheymans/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-07T06:44:08Z","updated_at":"2017-10-07T06:44:08Z","author_association":"CONTRIBUTOR","body":"For sure this can be done in a separate PR, after all it was just a\nsuggestion. We don't really have the need to save traces right now but once\nthe feature is in I'll definitely configure an archive endpoint because it\ndoes pop up every now and then. I'll send a PR myself if I still see the\nneed for it then.\n\nOp za 7 okt. 2017 08:06 schreef Naoman Abbas <notifications@github.com>:\n\n> We don't merge single user stuff, so consider it lucky someone else is\n> interested!\n> Not sure what you mean. Do you think I'm trying to push something thats\n> Pinterest specific, and not needed by other users?\n>\n> Let me try to explain one more time. While the request to add an\n> additional url link is valid, its an add-on feature for this change, and\n> does not block it.\n>\n> Can you please explain why these two changes can not be made in two\n> separate pull requests?\n>\n> \n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/pull/1747#issuecomment-334913230>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAL1AMs4RtHPZeC-7SanUzvZNNXV9H08ks5spxTVgaJpZM4Pmh70>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334914675/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334915226","html_url":"https://github.com/openzipkin/zipkin/issues/1601#issuecomment-334915226","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1601","id":334915226,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDkxNTIyNg==","user":{"login":"Crevil","id":6881694,"node_id":"MDQ6VXNlcjY4ODE2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6881694?v=4","gravatar_id":"","url":"https://api.github.com/users/Crevil","html_url":"https://github.com/Crevil","followers_url":"https://api.github.com/users/Crevil/followers","following_url":"https://api.github.com/users/Crevil/following{/other_user}","gists_url":"https://api.github.com/users/Crevil/gists{/gist_id}","starred_url":"https://api.github.com/users/Crevil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Crevil/subscriptions","organizations_url":"https://api.github.com/users/Crevil/orgs","repos_url":"https://api.github.com/users/Crevil/repos","events_url":"https://api.github.com/users/Crevil/events{/privacy}","received_events_url":"https://api.github.com/users/Crevil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-07T06:58:47Z","updated_at":"2017-10-07T06:58:47Z","author_association":"NONE","body":"That was fast! Good job and thank you for doing this! ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334915226/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334915450","html_url":"https://github.com/openzipkin/zipkin/pull/1747#issuecomment-334915450","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1747","id":334915450,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDkxNTQ1MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-07T07:03:23Z","updated_at":"2017-10-07T07:10:40Z","author_association":"MEMBER","body":">\r\n> Let me try to explain one more time. While the request to add an\r\n> additional url link is valid, its an add-on feature for this change, and\r\n> does not block it.\r\n\r\nThis is a community project. One of the user/core team members felt this\r\nwas hacky. Another user asked for an adjustment to the change. No one so\r\nfar has actually said they want the change actively. We have to be careful\r\nto make sure code is actually useful as often non-core people disappear\r\nafter they land something.\r\n\r\nHistorically, UI code is write once, very few go back and maintain changes\r\nlater. I don't have enough experience with you personally to know if you\r\nwould actually go back later and do a pull request.\r\n\r\nThe time you have taken to intentionally not answer the question has rid me\r\nof effort I can spend elsewhere and also yourself as looking at the\r\nsuggestion wouldn't have been costly. Please be more considerate especially\r\nif you want others to help merge an unpopular change.\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334915450/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334915643","html_url":"https://github.com/openzipkin/zipkin/pull/1747#issuecomment-334915643","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1747","id":334915643,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDkxNTY0Mw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-07T07:08:12Z","updated_at":"2017-10-07T07:08:12Z","author_association":"MEMBER","body":"@openzipkin/core I personally don't want to go around in explanation circles on this. I actually am ok with the change in general, but not motivated to continue this line of inquiry. If someone else is ok driving this, please do. I'm going to unsubscribe for the time being","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334915643/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334919871","html_url":"https://github.com/openzipkin/zipkin/issues/1760#issuecomment-334919871","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1760","id":334919871,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDkxOTg3MQ==","user":{"login":"swankjesse","id":133019,"node_id":"MDQ6VXNlcjEzMzAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/133019?v=4","gravatar_id":"","url":"https://api.github.com/users/swankjesse","html_url":"https://github.com/swankjesse","followers_url":"https://api.github.com/users/swankjesse/followers","following_url":"https://api.github.com/users/swankjesse/following{/other_user}","gists_url":"https://api.github.com/users/swankjesse/gists{/gist_id}","starred_url":"https://api.github.com/users/swankjesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swankjesse/subscriptions","organizations_url":"https://api.github.com/users/swankjesse/orgs","repos_url":"https://api.github.com/users/swankjesse/repos","events_url":"https://api.github.com/users/swankjesse/events{/privacy}","received_events_url":"https://api.github.com/users/swankjesse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-07T08:35:06Z","updated_at":"2017-10-07T08:35:06Z","author_association":"NONE","body":"Another strategy: have your own queue that sits in front of the dispatcher and does its own prioritization and enqueueing.\r\n\r\nGetting signaled when dispatchers size changes may be tricky.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334919871/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334921540","html_url":"https://github.com/openzipkin/zipkin/issues/1760#issuecomment-334921540","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1760","id":334921540,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDkyMTU0MA==","user":{"login":"yschimke","id":231923,"node_id":"MDQ6VXNlcjIzMTkyMw==","avatar_url":"https://avatars.githubusercontent.com/u/231923?v=4","gravatar_id":"","url":"https://api.github.com/users/yschimke","html_url":"https://github.com/yschimke","followers_url":"https://api.github.com/users/yschimke/followers","following_url":"https://api.github.com/users/yschimke/following{/other_user}","gists_url":"https://api.github.com/users/yschimke/gists{/gist_id}","starred_url":"https://api.github.com/users/yschimke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yschimke/subscriptions","organizations_url":"https://api.github.com/users/yschimke/orgs","repos_url":"https://api.github.com/users/yschimke/repos","events_url":"https://api.github.com/users/yschimke/events{/privacy}","received_events_url":"https://api.github.com/users/yschimke/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-07T09:07:24Z","updated_at":"2017-10-07T09:07:34Z","author_association":"NONE","body":"This sort of thing is hard to get right without knowing how the client and server(s) are handling things. Will OkHttpClient ever make the optimal decision?  e.g. is it worth submitting a queued call shortly before timeout, and therefore newer calls should be prioritised over older ones.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334921540/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334922009","html_url":"https://github.com/openzipkin/zipkin/issues/1760#issuecomment-334922009","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1760","id":334922009,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDkyMjAwOQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-07T09:17:25Z","updated_at":"2017-10-07T09:17:25Z","author_association":"MEMBER","body":"There are two main cases in ES anyway, the server fails not nicely (ex out\nof disk) and the server fails nicely (response that says backoff). The\nformal ES client has a backoff strategy for the latter. The former can\nstill happen and did in the issue leading to this one.\n\nRegardless, one simplification we can make here is that we can choose to\ndrop new requests or drop in-flight ones on overload.\n\nIn either case, and we don't need to buffer in expectation of a transient\nfailure. For example, first priority is not dying (OOM), though later more\nadvanced things could be done.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334922009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334962894","html_url":"https://github.com/openzipkin/zipkin/pull/1747#issuecomment-334962894","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1747","id":334962894,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDk2Mjg5NA==","user":{"login":"naoman","id":6273158,"node_id":"MDQ6VXNlcjYyNzMxNTg=","avatar_url":"https://avatars.githubusercontent.com/u/6273158?v=4","gravatar_id":"","url":"https://api.github.com/users/naoman","html_url":"https://github.com/naoman","followers_url":"https://api.github.com/users/naoman/followers","following_url":"https://api.github.com/users/naoman/following{/other_user}","gists_url":"https://api.github.com/users/naoman/gists{/gist_id}","starred_url":"https://api.github.com/users/naoman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/naoman/subscriptions","organizations_url":"https://api.github.com/users/naoman/orgs","repos_url":"https://api.github.com/users/naoman/repos","events_url":"https://api.github.com/users/naoman/events{/privacy}","received_events_url":"https://api.github.com/users/naoman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-07T20:14:52Z","updated_at":"2017-10-07T20:14:52Z","author_association":"CONTRIBUTOR","body":"@jorgheymans I've added a link to archive server on the menu bar. Let me know what you think. Below is the screenshot.\r\n\r\n<img width=\"1319\" alt=\"screen shot 2017-10-07 at 1 03 43 pm\" src=\"https://user-images.githubusercontent.com/6273158/31311426-d91ed056-ab60-11e7-8e5e-0e9790596fff.png\">\r\n\r\n>Seems a hacky solution, most people will not have this setup. \r\n\r\n@jcarres-mdsol can you please elaborate on why you feel this solution is hacky and how it can be improved. \r\n\r\n>Would the button appear in the UI by default? It may set expectations it would work when in most cases would not\r\n\r\n@jcarres-mdsol No it would not. I've added this information in Readme as well. Let me know if you think it needs more explanation there.\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334962894/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334964321","html_url":"https://github.com/openzipkin/zipkin/pull/1747#issuecomment-334964321","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1747","id":334964321,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDk2NDMyMQ==","user":{"login":"jorgheymans","id":193792,"node_id":"MDQ6VXNlcjE5Mzc5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/193792?v=4","gravatar_id":"","url":"https://api.github.com/users/jorgheymans","html_url":"https://github.com/jorgheymans","followers_url":"https://api.github.com/users/jorgheymans/followers","following_url":"https://api.github.com/users/jorgheymans/following{/other_user}","gists_url":"https://api.github.com/users/jorgheymans/gists{/gist_id}","starred_url":"https://api.github.com/users/jorgheymans/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jorgheymans/subscriptions","organizations_url":"https://api.github.com/users/jorgheymans/orgs","repos_url":"https://api.github.com/users/jorgheymans/repos","events_url":"https://api.github.com/users/jorgheymans/events{/privacy}","received_events_url":"https://api.github.com/users/jorgheymans/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-07T20:39:31Z","updated_at":"2017-10-07T20:39:31Z","author_association":"CONTRIBUTOR","body":"Spot on that's exactly where I had imagined the link to appear :-)\n\nOp za 7 okt. 2017 22:15 schreef Naoman Abbas <notifications@github.com>:\n\n> @jorgheymans <https://github.com/jorgheymans> I've added a link to\n> archive server on the menu bar. Let me know what you think. Below is the\n> screenshot.\n>\n> [image: screen shot 2017-10-07 at 1 03 43 pm]\n> <https://user-images.githubusercontent.com/6273158/31311426-d91ed056-ab60-11e7-8e5e-0e9790596fff.png>\n>\n> Seems a hacky solution, most people will not have this setup.\n>\n> @jcarres-mdsol <https://github.com/jcarres-mdsol> can you please\n> elaborate on why you feel this solution is hacky and how it can be improved.\n>\n> Would the button appear in the UI by default? It may set expectations it\n> would work when in most cases would not\n>\n> @jcarres-mdsol <https://github.com/jcarres-mdsol> No it would not. I've\n> added this information in Readme as well. Let me know if you think it needs\n> more explanation there.\n>\n> \n> You are receiving this because you were mentioned.\n>\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/pull/1747#issuecomment-334962894>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAL1AApvJYx6IVFNpFbQ41OR04fsc6Q9ks5sp9vJgaJpZM4Pmh70>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334964321/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334964507","html_url":"https://github.com/openzipkin/zipkin/pull/1747#issuecomment-334964507","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1747","id":334964507,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDk2NDUwNw==","user":{"login":"eirslett","id":1872593,"node_id":"MDQ6VXNlcjE4NzI1OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1872593?v=4","gravatar_id":"","url":"https://api.github.com/users/eirslett","html_url":"https://github.com/eirslett","followers_url":"https://api.github.com/users/eirslett/followers","following_url":"https://api.github.com/users/eirslett/following{/other_user}","gists_url":"https://api.github.com/users/eirslett/gists{/gist_id}","starred_url":"https://api.github.com/users/eirslett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eirslett/subscriptions","organizations_url":"https://api.github.com/users/eirslett/orgs","repos_url":"https://api.github.com/users/eirslett/repos","events_url":"https://api.github.com/users/eirslett/events{/privacy}","received_events_url":"https://api.github.com/users/eirslett/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-07T20:42:38Z","updated_at":"2017-10-07T20:46:02Z","author_association":"CONTRIBUTOR","body":"Zipkin already has a feature to download a trace as a JSON file (and I think also one to upload a JSON file and render it in the UI). Wouldn't that cover the use case? You could just store the JSON file wherever you want, on a hard drive, dropbox etc...\r\n\r\nI do agree with @adriancole's comments in general.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334964507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334964915","html_url":"https://github.com/openzipkin/zipkin/pull/1747#issuecomment-334964915","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1747","id":334964915,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDk2NDkxNQ==","user":{"login":"eirslett","id":1872593,"node_id":"MDQ6VXNlcjE4NzI1OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1872593?v=4","gravatar_id":"","url":"https://api.github.com/users/eirslett","html_url":"https://github.com/eirslett","followers_url":"https://api.github.com/users/eirslett/followers","following_url":"https://api.github.com/users/eirslett/following{/other_user}","gists_url":"https://api.github.com/users/eirslett/gists{/gist_id}","starred_url":"https://api.github.com/users/eirslett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eirslett/subscriptions","organizations_url":"https://api.github.com/users/eirslett/orgs","repos_url":"https://api.github.com/users/eirslett/repos","events_url":"https://api.github.com/users/eirslett/events{/privacy}","received_events_url":"https://api.github.com/users/eirslett/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-07T20:50:35Z","updated_at":"2017-10-07T20:50:35Z","author_association":"CONTRIBUTOR","body":"Another solution is to run a cache proxy like Varnish in front of Zipkin, and make it cache results for 30 days. (Assuming that the amount of Zipkin data developers look at will be very small relative to the total amount of Zipkin data, so it could comfortably fit on a cache instance)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334964915/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334964965","html_url":"https://github.com/openzipkin/zipkin/pull/1747#issuecomment-334964965","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1747","id":334964965,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDk2NDk2NQ==","user":{"login":"naoman","id":6273158,"node_id":"MDQ6VXNlcjYyNzMxNTg=","avatar_url":"https://avatars.githubusercontent.com/u/6273158?v=4","gravatar_id":"","url":"https://api.github.com/users/naoman","html_url":"https://github.com/naoman","followers_url":"https://api.github.com/users/naoman/followers","following_url":"https://api.github.com/users/naoman/following{/other_user}","gists_url":"https://api.github.com/users/naoman/gists{/gist_id}","starred_url":"https://api.github.com/users/naoman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/naoman/subscriptions","organizations_url":"https://api.github.com/users/naoman/orgs","repos_url":"https://api.github.com/users/naoman/repos","events_url":"https://api.github.com/users/naoman/events{/privacy}","received_events_url":"https://api.github.com/users/naoman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-07T20:51:43Z","updated_at":"2017-10-07T20:51:43Z","author_association":"CONTRIBUTOR","body":"@eirslett Yes, thats do able, however it wont be very scaleable and convenient. Consider the use case where we want to save a trace related to a bug. Without this feature, we'll first have to download the trace, attach it to the bug ticket, and upload if back to zipkin server for looking at the trace. This feature provides a convenient way to archive traces with a single click.  ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334964965/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334965166","html_url":"https://github.com/openzipkin/zipkin/pull/1747#issuecomment-334965166","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1747","id":334965166,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDk2NTE2Ng==","user":{"login":"eirslett","id":1872593,"node_id":"MDQ6VXNlcjE4NzI1OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1872593?v=4","gravatar_id":"","url":"https://api.github.com/users/eirslett","html_url":"https://github.com/eirslett","followers_url":"https://api.github.com/users/eirslett/followers","following_url":"https://api.github.com/users/eirslett/following{/other_user}","gists_url":"https://api.github.com/users/eirslett/gists{/gist_id}","starred_url":"https://api.github.com/users/eirslett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eirslett/subscriptions","organizations_url":"https://api.github.com/users/eirslett/orgs","repos_url":"https://api.github.com/users/eirslett/repos","events_url":"https://api.github.com/users/eirslett/events{/privacy}","received_events_url":"https://api.github.com/users/eirslett/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-07T20:55:49Z","updated_at":"2017-10-07T20:55:49Z","author_association":"CONTRIBUTOR","body":"> Without this feature, we'll first have to download the trace, attach it to the bug ticket, and upload if back to zipkin server for looking at the trace. This feature provides a convenient way to archive traces with a single click.\r\n\r\nWith the Varnish solution, I guess you could just copy/paste a link to the trace in the bug report?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334965166/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334965198","html_url":"https://github.com/openzipkin/zipkin/pull/1747#issuecomment-334965198","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1747","id":334965198,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDk2NTE5OA==","user":{"login":"naoman","id":6273158,"node_id":"MDQ6VXNlcjYyNzMxNTg=","avatar_url":"https://avatars.githubusercontent.com/u/6273158?v=4","gravatar_id":"","url":"https://api.github.com/users/naoman","html_url":"https://github.com/naoman","followers_url":"https://api.github.com/users/naoman/followers","following_url":"https://api.github.com/users/naoman/following{/other_user}","gists_url":"https://api.github.com/users/naoman/gists{/gist_id}","starred_url":"https://api.github.com/users/naoman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/naoman/subscriptions","organizations_url":"https://api.github.com/users/naoman/orgs","repos_url":"https://api.github.com/users/naoman/repos","events_url":"https://api.github.com/users/naoman/events{/privacy}","received_events_url":"https://api.github.com/users/naoman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-07T20:56:18Z","updated_at":"2017-10-07T20:56:31Z","author_association":"CONTRIBUTOR","body":"@eirslett varnish proxy based cache will have its own limitations. Below are few:\r\n- what if we want to keep data for longer than cache TTL? \r\n- how do we enable data replication?  \r\n- What if other tools (service dependency graph, trace analyzer scripts, etc) want to pull this data? ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/334965198/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/335043608","html_url":"https://github.com/openzipkin/zipkin/pull/1758#issuecomment-335043608","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1758","id":335043608,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTA0MzYwOA==","user":{"login":"michaelsembwever","id":559444,"node_id":"MDQ6VXNlcjU1OTQ0NA==","avatar_url":"https://avatars.githubusercontent.com/u/559444?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelsembwever","html_url":"https://github.com/michaelsembwever","followers_url":"https://api.github.com/users/michaelsembwever/followers","following_url":"https://api.github.com/users/michaelsembwever/following{/other_user}","gists_url":"https://api.github.com/users/michaelsembwever/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelsembwever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelsembwever/subscriptions","organizations_url":"https://api.github.com/users/michaelsembwever/orgs","repos_url":"https://api.github.com/users/michaelsembwever/repos","events_url":"https://api.github.com/users/michaelsembwever/events{/privacy}","received_events_url":"https://api.github.com/users/michaelsembwever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-08T22:33:04Z","updated_at":"2017-10-08T23:22:58Z","author_association":"MEMBER","body":"Some experimental benchmarking, aiming only to give rough latency spread using a safe throughput rate.\r\n\r\n - macbook pro (macOS 10.13 , 3.5GHz dual-core Intel Core i7 processor, 16GB 2133MHz, SSD)\r\n - CCM (4 nodes, Cassandra-3.11.0)\r\n - `ccm stress` run for each of the three profiles in write mode beforehand\r\n - stress testing ran for 6 hours (overnight), but throttled to very low throughput.\r\n\r\nResults:\r\n\r\n`ccm stress  user profile=trace-stress.yaml ops\\(insert=1,by_trace=1,by_trace_ts_id=1,by_annotation=1\\) no-warmup  duration=6h  -rate threads=4 throttle=50/s`\r\n\r\n```\r\nResults:\r\nOp rate                   :       50 op/s  [by_annotation: 12 op/s, by_trace: 13 op/s, by_trace_ts_id: 13 op/s, insert: 13 op/s]\r\nPartition rate            :       50 pk/s  [by_annotation: 12 pk/s, by_trace: 13 pk/s, by_trace_ts_id: 13 pk/s, insert: 13 pk/s]\r\nRow rate                  :      174 row/s [by_annotation: 137 row/s, by_trace: 13 row/s, by_trace_ts_id: 13 row/s, insert: 13 row/s]\r\nLatency mean              :   10.1 ms [by_annotation: 31.9 ms, by_trace: 1.8 ms, by_trace_ts_id: 1.8 ms, insert: 5.1 ms]\r\nLatency median            :    2.5 ms [by_annotation: 23.7 ms, by_trace: 0.6 ms, by_trace_ts_id: 0.7 ms, insert: 3.1 ms]\r\nLatency 95th percentile   :   43.6 ms [by_annotation: 77.7 ms, by_trace: 6.3 ms, by_trace_ts_id: 6.3 ms, insert: 15.4 ms]\r\nLatency 99th percentile   :   84.7 ms [by_annotation: 125.1 ms, by_trace: 20.6 ms, by_trace_ts_id: 20.5 ms, insert: 37.5 ms]\r\nLatency 99.9th percentile :  159.6 ms [by_annotation: 221.4 ms, by_trace: 65.2 ms, by_trace_ts_id: 65.3 ms, insert: 88.3 ms]\r\n```\r\n\r\n`ccm stress  user profile=trace_by_service_span-stress.yaml ops\\(insert=1,select=1,by_duration=1\\) no-warmup  duration=6h  -rate threads=4 throttle=50/s`\r\n\r\n```\r\nResults:\r\nOp rate                   :       50 op/s  [by_duration: 17 op/s, insert: 17 op/s, select: 17 op/s]\r\nPartition rate            :       33 pk/s  [by_duration: 0 pk/s, insert: 17 pk/s, select: 17 pk/s]\r\nRow rate                  :       33 row/s [by_duration: 0 row/s, insert: 17 row/s, select: 17 row/s]\r\nLatency mean              :    2.6 ms [by_duration: 4.0 ms, insert: 1.8 ms, select: 1.9 ms]\r\nLatency median            :    0.8 ms [by_duration: 1.8 ms, insert: 0.6 ms, select: 0.6 ms]\r\nLatency 95th percentile   :   11.1 ms [by_duration: 15.9 ms, insert: 7.5 ms, select: 8.1 ms]\r\nLatency 99th percentile   :   27.9 ms [by_duration: 35.0 ms, insert: 22.6 ms, select: 22.8 ms]\r\nLatency 99.9th percentile :   73.3 ms [by_duration: 82.4 ms, insert: 64.2 ms, select: 69.9 ms]\r\n```\r\n\r\n`ccm stress  user profile=span_by_service-stress.yaml ops\\(insert=1,select=1,select_spans=1\\) no-warmup  duration=6h  -rate threads=4 throttle=50/s`\r\n\r\n```\r\nResults:\r\nOp rate                   :       50 op/s  [insert: 17 op/s, select: 17 op/s, select_spans: 17 op/s]\r\nPartition rate            :       50 pk/s  [insert: 17 pk/s, select: 17 pk/s, select_spans: 17 pk/s]\r\nRow rate                  :    1,707 row/s [insert: 17 row/s, select: 1,673 row/s, select_spans: 17 row/s]\r\nLatency mean              :    7.5 ms [insert: 1.7 ms, select: 18.9 ms, select_spans: 1.8 ms]\r\nLatency median            :    0.8 ms [insert: 0.5 ms, select: 11.2 ms, select_spans: 0.5 ms]\r\nLatency 95th percentile   :   34.3 ms [insert: 7.4 ms, select: 57.1 ms, select_spans: 8.1 ms]\r\nLatency 99th percentile   :   69.5 ms [insert: 21.5 ms, select: 93.3 ms, select_spans: 22.5 ms]\r\nLatency 99.9th percentile :  136.4 ms [insert: 63.6 ms, select: 176.8 ms, select_spans: 68.5 ms]\r\n```\r\n\r\nAs is to be expected the writes are reasonably on-par for the different tables (bc bound by the one piece of hardware).\r\nAgain as expected reads are fast when selecting traces by their IDs, when finding trace ids by the service+span, and when selecting span names by service name.\r\nThe three SASI indexes here all perform well, roughly 5x times the latency compared to the fast (select by partition key) reads.\r\nOf the three SASI indexes reads, searching \"by_annotation\" in the traces table is the slowest, as expected as this actually uses two SASI indexes, one of which is the only SASI index that uses the `CONTAINS` mode permitting full text searching.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/335043608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/335049651","html_url":"https://github.com/openzipkin/zipkin/pull/1758#issuecomment-335049651","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1758","id":335049651,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTA0OTY1MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-09T00:29:01Z","updated_at":"2017-10-09T00:29:01Z","author_association":"MEMBER","body":"Thanks for the benching. Will take a review sweep today\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/335049651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/335049942","html_url":"https://github.com/openzipkin/zipkin/pull/1758#issuecomment-335049942","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1758","id":335049942,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTA0OTk0Mg==","user":{"login":"michaelsembwever","id":559444,"node_id":"MDQ6VXNlcjU1OTQ0NA==","avatar_url":"https://avatars.githubusercontent.com/u/559444?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelsembwever","html_url":"https://github.com/michaelsembwever","followers_url":"https://api.github.com/users/michaelsembwever/followers","following_url":"https://api.github.com/users/michaelsembwever/following{/other_user}","gists_url":"https://api.github.com/users/michaelsembwever/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelsembwever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelsembwever/subscriptions","organizations_url":"https://api.github.com/users/michaelsembwever/orgs","repos_url":"https://api.github.com/users/michaelsembwever/repos","events_url":"https://api.github.com/users/michaelsembwever/events{/privacy}","received_events_url":"https://api.github.com/users/michaelsembwever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-09T00:34:08Z","updated_at":"2017-10-09T00:37:54Z","author_association":"MEMBER","body":"@adriancole ta.\r\nTwo commits added:\r\n - changing dependency table to store the individual fields to DependencyLink, rather than the whole list of links as a blob,\r\n - refactoring `zipkin.storage.cassandra3` to `zipkin2.storage.cassandra3`","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/335049942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/335050327","html_url":"https://github.com/openzipkin/zipkin/pull/1758#issuecomment-335050327","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1758","id":335050327,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTA1MDMyNw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-09T00:41:11Z","updated_at":"2017-10-09T00:41:11Z","author_association":"MEMBER","body":"   - changing dependency table to store the individual fields to\n   DependencyLink, rather than the whole list of links as a blob,\n   - refactoring zipkin.storage.cassandra3 to zipkin2.storage.cassandra3\n\nAh ok will wait on that\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/335050327/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]