[{"url":"https://api.github.com/repos/apache/brpc/issues/comments/688735335","html_url":"https://github.com/apache/brpc/issues/1231#issuecomment-688735335","issue_url":"https://api.github.com/repos/apache/brpc/issues/1231","id":688735335,"node_id":"MDEyOklzc3VlQ29tbWVudDY4ODczNTMzNQ==","user":{"login":"leshphonc","id":24892968,"node_id":"MDQ6VXNlcjI0ODkyOTY4","avatar_url":"https://avatars.githubusercontent.com/u/24892968?v=4","gravatar_id":"","url":"https://api.github.com/users/leshphonc","html_url":"https://github.com/leshphonc","followers_url":"https://api.github.com/users/leshphonc/followers","following_url":"https://api.github.com/users/leshphonc/following{/other_user}","gists_url":"https://api.github.com/users/leshphonc/gists{/gist_id}","starred_url":"https://api.github.com/users/leshphonc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leshphonc/subscriptions","organizations_url":"https://api.github.com/users/leshphonc/orgs","repos_url":"https://api.github.com/users/leshphonc/repos","events_url":"https://api.github.com/users/leshphonc/events{/privacy}","received_events_url":"https://api.github.com/users/leshphonc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-08T09:12:37Z","updated_at":"2020-09-08T09:12:37Z","author_association":"NONE","body":"是不是和我的服务器实例有关呢，我是突发性实例1cpu 2g的，但是我看我的cpu内存占用也不高啊。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/688735335/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/689269835","html_url":"https://github.com/apache/brpc/issues/1233#issuecomment-689269835","issue_url":"https://api.github.com/repos/apache/brpc/issues/1233","id":689269835,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTI2OTgzNQ==","user":{"login":"kungf","id":24663329,"node_id":"MDQ6VXNlcjI0NjYzMzI5","avatar_url":"https://avatars.githubusercontent.com/u/24663329?v=4","gravatar_id":"","url":"https://api.github.com/users/kungf","html_url":"https://github.com/kungf","followers_url":"https://api.github.com/users/kungf/followers","following_url":"https://api.github.com/users/kungf/following{/other_user}","gists_url":"https://api.github.com/users/kungf/gists{/gist_id}","starred_url":"https://api.github.com/users/kungf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kungf/subscriptions","organizations_url":"https://api.github.com/users/kungf/orgs","repos_url":"https://api.github.com/users/kungf/repos","events_url":"https://api.github.com/users/kungf/events{/privacy}","received_events_url":"https://api.github.com/users/kungf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T03:01:45Z","updated_at":"2020-09-09T03:01:45Z","author_association":"NONE","body":"stream？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/689269835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/689278017","html_url":"https://github.com/apache/brpc/issues/1233#issuecomment-689278017","issue_url":"https://api.github.com/repos/apache/brpc/issues/1233","id":689278017,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTI3ODAxNw==","user":{"login":"weinberggithub","id":17616523,"node_id":"MDQ6VXNlcjE3NjE2NTIz","avatar_url":"https://avatars.githubusercontent.com/u/17616523?v=4","gravatar_id":"","url":"https://api.github.com/users/weinberggithub","html_url":"https://github.com/weinberggithub","followers_url":"https://api.github.com/users/weinberggithub/followers","following_url":"https://api.github.com/users/weinberggithub/following{/other_user}","gists_url":"https://api.github.com/users/weinberggithub/gists{/gist_id}","starred_url":"https://api.github.com/users/weinberggithub/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weinberggithub/subscriptions","organizations_url":"https://api.github.com/users/weinberggithub/orgs","repos_url":"https://api.github.com/users/weinberggithub/repos","events_url":"https://api.github.com/users/weinberggithub/events{/privacy}","received_events_url":"https://api.github.com/users/weinberggithub/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T03:31:37Z","updated_at":"2020-09-09T03:31:37Z","author_association":"NONE","body":"> stream？\r\n\r\n是的，我们的使用场景是server将http方式上传的文件转存(aws s3)，大文件不支持stream占用内存太高。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/689278017/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/689285417","html_url":"https://github.com/apache/brpc/issues/1234#issuecomment-689285417","issue_url":"https://api.github.com/repos/apache/brpc/issues/1234","id":689285417,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTI4NTQxNw==","user":{"login":"kungf","id":24663329,"node_id":"MDQ6VXNlcjI0NjYzMzI5","avatar_url":"https://avatars.githubusercontent.com/u/24663329?v=4","gravatar_id":"","url":"https://api.github.com/users/kungf","html_url":"https://github.com/kungf","followers_url":"https://api.github.com/users/kungf/followers","following_url":"https://api.github.com/users/kungf/following{/other_user}","gists_url":"https://api.github.com/users/kungf/gists{/gist_id}","starred_url":"https://api.github.com/users/kungf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kungf/subscriptions","organizations_url":"https://api.github.com/users/kungf/orgs","repos_url":"https://api.github.com/users/kungf/repos","events_url":"https://api.github.com/users/kungf/events{/privacy}","received_events_url":"https://api.github.com/users/kungf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T03:56:00Z","updated_at":"2020-09-09T03:56:00Z","author_association":"NONE","body":"fixed， two libprotobuf in my os, because local installed protobuf when use grpc in /usr/local/lib, \r\nand another installed by \r\n\r\n`sudo apt-get install -y git g++ make libssl-dev libgflags-dev libprotobuf-dev libprotoc-dev protobuf-compiler libleveldb-dev`\r\n\r\ndelete one of them and fix it.\r\n\r\nyou can check with:\r\nsudo find / -type f -name *protobuf.*","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/689285417/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/689330545","html_url":"https://github.com/apache/brpc/issues/1233#issuecomment-689330545","issue_url":"https://api.github.com/repos/apache/brpc/issues/1233","id":689330545,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTMzMDU0NQ==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T06:12:50Z","updated_at":"2020-09-09T06:12:50Z","author_association":"CONTRIBUTOR","body":"协议要求必须是HTTP的是吗？ ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/689330545/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/689332117","html_url":"https://github.com/apache/brpc/issues/1233#issuecomment-689332117","issue_url":"https://api.github.com/repos/apache/brpc/issues/1233","id":689332117,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTMzMjExNw==","user":{"login":"weinberggithub","id":17616523,"node_id":"MDQ6VXNlcjE3NjE2NTIz","avatar_url":"https://avatars.githubusercontent.com/u/17616523?v=4","gravatar_id":"","url":"https://api.github.com/users/weinberggithub","html_url":"https://github.com/weinberggithub","followers_url":"https://api.github.com/users/weinberggithub/followers","following_url":"https://api.github.com/users/weinberggithub/following{/other_user}","gists_url":"https://api.github.com/users/weinberggithub/gists{/gist_id}","starred_url":"https://api.github.com/users/weinberggithub/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weinberggithub/subscriptions","organizations_url":"https://api.github.com/users/weinberggithub/orgs","repos_url":"https://api.github.com/users/weinberggithub/repos","events_url":"https://api.github.com/users/weinberggithub/events{/privacy}","received_events_url":"https://api.github.com/users/weinberggithub/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T06:17:09Z","updated_at":"2020-09-09T06:17:09Z","author_association":"NONE","body":"> 协议要求必须是HTTP的是吗？\r\n\r\n是的。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/689332117/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/689333695","html_url":"https://github.com/apache/brpc/issues/1233#issuecomment-689333695","issue_url":"https://api.github.com/repos/apache/brpc/issues/1233","id":689333695,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTMzMzY5NQ==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T06:21:35Z","updated_at":"2020-09-09T06:21:35Z","author_association":"CONTRIBUTOR","body":"目前不支持HTTP的持续上传： https://github.com/apache/incubator-brpc/issues/1217","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/689333695/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/689345797","html_url":"https://github.com/apache/brpc/issues/1238#issuecomment-689345797","issue_url":"https://api.github.com/repos/apache/brpc/issues/1238","id":689345797,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTM0NTc5Nw==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T06:49:50Z","updated_at":"2020-09-09T06:49:50Z","author_association":"CONTRIBUTOR","body":"Yes, we can do this. But, what are the benifits for users since StringPiece is only used in brpc framework and users can use std::string_view themselves.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/689345797/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/689370848","html_url":"https://github.com/apache/brpc/issues/1238#issuecomment-689370848","issue_url":"https://api.github.com/repos/apache/brpc/issues/1238","id":689370848,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTM3MDg0OA==","user":{"login":"mapleFU","id":24351052,"node_id":"MDQ6VXNlcjI0MzUxMDUy","avatar_url":"https://avatars.githubusercontent.com/u/24351052?v=4","gravatar_id":"","url":"https://api.github.com/users/mapleFU","html_url":"https://github.com/mapleFU","followers_url":"https://api.github.com/users/mapleFU/followers","following_url":"https://api.github.com/users/mapleFU/following{/other_user}","gists_url":"https://api.github.com/users/mapleFU/gists{/gist_id}","starred_url":"https://api.github.com/users/mapleFU/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mapleFU/subscriptions","organizations_url":"https://api.github.com/users/mapleFU/orgs","repos_url":"https://api.github.com/users/mapleFU/repos","events_url":"https://api.github.com/users/mapleFU/events{/privacy}","received_events_url":"https://api.github.com/users/mapleFU/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T07:40:41Z","updated_at":"2020-09-09T07:40:41Z","author_association":"MEMBER","body":"@gydong Since I'm a butil user, I may need to cast string_view to StringPiece, and maybe I can make it more convient(","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/689370848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/689408886","html_url":"https://github.com/apache/brpc/issues/1238#issuecomment-689408886","issue_url":"https://api.github.com/repos/apache/brpc/issues/1238","id":689408886,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTQwODg4Ng==","user":{"login":"mapleFU","id":24351052,"node_id":"MDQ6VXNlcjI0MzUxMDUy","avatar_url":"https://avatars.githubusercontent.com/u/24351052?v=4","gravatar_id":"","url":"https://api.github.com/users/mapleFU","html_url":"https://github.com/mapleFU","followers_url":"https://api.github.com/users/mapleFU/followers","following_url":"https://api.github.com/users/mapleFU/following{/other_user}","gists_url":"https://api.github.com/users/mapleFU/gists{/gist_id}","starred_url":"https://api.github.com/users/mapleFU/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mapleFU/subscriptions","organizations_url":"https://api.github.com/users/mapleFU/orgs","repos_url":"https://api.github.com/users/mapleFU/repos","events_url":"https://api.github.com/users/mapleFU/events{/privacy}","received_events_url":"https://api.github.com/users/mapleFU/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T08:21:33Z","updated_at":"2020-09-09T08:21:33Z","author_association":"MEMBER","body":"Maybe I can support this, would you mind me support string_view?","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/689408886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/689907098","html_url":"https://github.com/apache/brpc/issues/1238#issuecomment-689907098","issue_url":"https://api.github.com/repos/apache/brpc/issues/1238","id":689907098,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTkwNzA5OA==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-10T01:03:14Z","updated_at":"2020-09-10T01:03:14Z","author_association":"CONTRIBUTOR","body":"u are welcome to do that","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/689907098/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/689915583","html_url":"https://github.com/apache/brpc/issues/1239#issuecomment-689915583","issue_url":"https://api.github.com/repos/apache/brpc/issues/1239","id":689915583,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTkxNTU4Mw==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-10T01:27:33Z","updated_at":"2020-09-10T01:27:33Z","author_association":"CONTRIBUTOR","body":"函数堆栈有吗？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/689915583/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/689936218","html_url":"https://github.com/apache/brpc/issues/1239#issuecomment-689936218","issue_url":"https://api.github.com/repos/apache/brpc/issues/1239","id":689936218,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTkzNjIxOA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-10T02:30:29Z","updated_at":"2020-09-10T02:30:29Z","author_association":"CONTRIBUTOR","body":"这类日志就是说明这些线程不能及时地拿到cpu，一般是所在服务、机器太忙了，但和挂掉没什么联系","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/689936218/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/689943869","html_url":"https://github.com/apache/brpc/issues/1211#issuecomment-689943869","issue_url":"https://api.github.com/repos/apache/brpc/issues/1211","id":689943869,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTk0Mzg2OQ==","user":{"login":"GOGOYAO","id":18675094,"node_id":"MDQ6VXNlcjE4Njc1MDk0","avatar_url":"https://avatars.githubusercontent.com/u/18675094?v=4","gravatar_id":"","url":"https://api.github.com/users/GOGOYAO","html_url":"https://github.com/GOGOYAO","followers_url":"https://api.github.com/users/GOGOYAO/followers","following_url":"https://api.github.com/users/GOGOYAO/following{/other_user}","gists_url":"https://api.github.com/users/GOGOYAO/gists{/gist_id}","starred_url":"https://api.github.com/users/GOGOYAO/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GOGOYAO/subscriptions","organizations_url":"https://api.github.com/users/GOGOYAO/orgs","repos_url":"https://api.github.com/users/GOGOYAO/repos","events_url":"https://api.github.com/users/GOGOYAO/events{/privacy}","received_events_url":"https://api.github.com/users/GOGOYAO/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-10T02:53:54Z","updated_at":"2020-09-10T02:53:54Z","author_association":"CONTRIBUTOR","body":"> 方便的话，留下你的微信号，我拉你到开发者群里\r\n\r\n已经发送到你的gmail","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/689943869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/690035563","html_url":"https://github.com/apache/brpc/issues/1239#issuecomment-690035563","issue_url":"https://api.github.com/repos/apache/brpc/issues/1239","id":690035563,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MDAzNTU2Mw==","user":{"login":"StephenHe1992","id":15134790,"node_id":"MDQ6VXNlcjE1MTM0Nzkw","avatar_url":"https://avatars.githubusercontent.com/u/15134790?v=4","gravatar_id":"","url":"https://api.github.com/users/StephenHe1992","html_url":"https://github.com/StephenHe1992","followers_url":"https://api.github.com/users/StephenHe1992/followers","following_url":"https://api.github.com/users/StephenHe1992/following{/other_user}","gists_url":"https://api.github.com/users/StephenHe1992/gists{/gist_id}","starred_url":"https://api.github.com/users/StephenHe1992/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StephenHe1992/subscriptions","organizations_url":"https://api.github.com/users/StephenHe1992/orgs","repos_url":"https://api.github.com/users/StephenHe1992/repos","events_url":"https://api.github.com/users/StephenHe1992/events{/privacy}","received_events_url":"https://api.github.com/users/StephenHe1992/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-10T07:05:53Z","updated_at":"2020-09-10T07:07:03Z","author_association":"NONE","body":"没有函数堆栈，确切的说服务并没报错，但是会出现大量的如下警告：\r\n```\r\nW0909 19:24:49.717669 20161 src/brpc/policy/http_rpc_protocol.cpp:903] Fail to write into Socket{id=47158740914473 fd=132 addr=171.22.17.185:15596:8000} (0x7f12803dea50): Got EOF\r\nW0909 19:24:49.717665 20154 src/brpc/policy/http_rpc_protocol.cpp:903] Fail to write into Socket{id=44839458574599 fd=109 addr=171.22.18.171:27715:8000} (0x7f12803da650): Got EOF\r\n```\r\n然后服务运行出现不正常，比如下载图片全部失败，模型推理速度变慢等等。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/690035563/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/690223287","html_url":"https://github.com/apache/brpc/issues/1240#issuecomment-690223287","issue_url":"https://api.github.com/repos/apache/brpc/issues/1240","id":690223287,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MDIyMzI4Nw==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-10T12:02:40Z","updated_at":"2020-09-10T12:02:40Z","author_association":"CONTRIBUTOR","body":"看你描述，不会和brpc有关系，main函数开始的时候，brpc框架本身还没有初始化完成，不会形成竞争。\r\n\r\n记录下 std::locale 函数运行了多少us看看？ \r\n是用的brpc自带的cpu profile功能吗，流量开始进入的时候，这时候global函数不都运行完了么？\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/690223287/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/690224081","html_url":"https://github.com/apache/brpc/issues/1211#issuecomment-690224081","issue_url":"https://api.github.com/repos/apache/brpc/issues/1211","id":690224081,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MDIyNDA4MQ==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-10T12:03:39Z","updated_at":"2020-09-10T12:03:39Z","author_association":"CONTRIBUTOR","body":"没收到呢","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/690224081/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/690549133","html_url":"https://github.com/apache/brpc/issues/1240#issuecomment-690549133","issue_url":"https://api.github.com/repos/apache/brpc/issues/1240","id":690549133,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MDU0OTEzMw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-10T17:37:03Z","updated_at":"2020-09-10T17:37:03Z","author_association":"CONTRIBUTOR","body":"@yc1258 上面的图是contention还是cpu？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/690549133/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/690555183","html_url":"https://github.com/apache/brpc/issues/1239#issuecomment-690555183","issue_url":"https://api.github.com/repos/apache/brpc/issues/1239","id":690555183,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MDU1NTE4Mw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-10T17:39:42Z","updated_at":"2020-09-10T17:39:42Z","author_association":"CONTRIBUTOR","body":"> 没有函数堆栈，确切的说服务并没报错，但是会出现大量的如下警告：\r\n> \r\n> ```\r\n> W0909 19:24:49.717669 20161 src/brpc/policy/http_rpc_protocol.cpp:903] Fail to write into Socket{id=47158740914473 fd=132 addr=171.22.17.185:15596:8000} (0x7f12803dea50): Got EOF\r\n> W0909 19:24:49.717665 20154 src/brpc/policy/http_rpc_protocol.cpp:903] Fail to write into Socket{id=44839458574599 fd=109 addr=171.22.18.171:27715:8000} (0x7f12803da650): Got EOF\r\n> ```\r\n> \r\n> 然后服务运行出现不正常，比如下载图片全部失败，模型推理速度变慢等等。\r\n\r\n上面的日志仅仅意味着对端提前关了连接，可能的原因也是机器慢了。看看同机有没有其他服务，有没有可能一些混部的离线服务起来了。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/690555183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/690832416","html_url":"https://github.com/apache/brpc/issues/1228#issuecomment-690832416","issue_url":"https://api.github.com/repos/apache/brpc/issues/1228","id":690832416,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MDgzMjQxNg==","user":{"login":"guodongxiaren","id":5945107,"node_id":"MDQ6VXNlcjU5NDUxMDc=","avatar_url":"https://avatars.githubusercontent.com/u/5945107?v=4","gravatar_id":"","url":"https://api.github.com/users/guodongxiaren","html_url":"https://github.com/guodongxiaren","followers_url":"https://api.github.com/users/guodongxiaren/followers","following_url":"https://api.github.com/users/guodongxiaren/following{/other_user}","gists_url":"https://api.github.com/users/guodongxiaren/gists{/gist_id}","starred_url":"https://api.github.com/users/guodongxiaren/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guodongxiaren/subscriptions","organizations_url":"https://api.github.com/users/guodongxiaren/orgs","repos_url":"https://api.github.com/users/guodongxiaren/repos","events_url":"https://api.github.com/users/guodongxiaren/events{/privacy}","received_events_url":"https://api.github.com/users/guodongxiaren/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-11T02:17:26Z","updated_at":"2020-09-11T02:17:26Z","author_association":"MEMBER","body":"找到问题了。不是brpc引起的。是return的时候。会触发另外一个第三方库的对象析构。这时候core掉的。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/690832416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/690848806","html_url":"https://github.com/apache/brpc/issues/1240#issuecomment-690848806","issue_url":"https://api.github.com/repos/apache/brpc/issues/1240","id":690848806,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MDg0ODgwNg==","user":{"login":"yc1258","id":11720663,"node_id":"MDQ6VXNlcjExNzIwNjYz","avatar_url":"https://avatars.githubusercontent.com/u/11720663?v=4","gravatar_id":"","url":"https://api.github.com/users/yc1258","html_url":"https://github.com/yc1258","followers_url":"https://api.github.com/users/yc1258/followers","following_url":"https://api.github.com/users/yc1258/following{/other_user}","gists_url":"https://api.github.com/users/yc1258/gists{/gist_id}","starred_url":"https://api.github.com/users/yc1258/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yc1258/subscriptions","organizations_url":"https://api.github.com/users/yc1258/orgs","repos_url":"https://api.github.com/users/yc1258/repos","events_url":"https://api.github.com/users/yc1258/events{/privacy}","received_events_url":"https://api.github.com/users/yc1258/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-11T03:17:22Z","updated_at":"2020-09-11T03:17:22Z","author_association":"NONE","body":"> 看你描述，不会和brpc有关系，main函数开始的时候，brpc框架本身还没有初始化完成，不会形成竞争。\r\n> \r\n> 记录下 std::locale 函数运行了多少us看看？\r\n> 是用的brpc自带的cpu profile功能吗，流量开始进入的时候，这时候global函数不都运行完了么？\r\n\r\n是gperftools的cpu工具，brpc自带的有个尴尬的问题，就是用了这个locale global后，brpc的调试网页返回会是invalid http response。。最后那个问题我也很奇怪，只有开头调用了一次，但是从采样图上看确实一直在这个内部竞争","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/690848806/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/690848918","html_url":"https://github.com/apache/brpc/issues/1240#issuecomment-690848918","issue_url":"https://api.github.com/repos/apache/brpc/issues/1240","id":690848918,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MDg0ODkxOA==","user":{"login":"yc1258","id":11720663,"node_id":"MDQ6VXNlcjExNzIwNjYz","avatar_url":"https://avatars.githubusercontent.com/u/11720663?v=4","gravatar_id":"","url":"https://api.github.com/users/yc1258","html_url":"https://github.com/yc1258","followers_url":"https://api.github.com/users/yc1258/followers","following_url":"https://api.github.com/users/yc1258/following{/other_user}","gists_url":"https://api.github.com/users/yc1258/gists{/gist_id}","starred_url":"https://api.github.com/users/yc1258/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yc1258/subscriptions","organizations_url":"https://api.github.com/users/yc1258/orgs","repos_url":"https://api.github.com/users/yc1258/repos","events_url":"https://api.github.com/users/yc1258/events{/privacy}","received_events_url":"https://api.github.com/users/yc1258/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-11T03:17:44Z","updated_at":"2020-09-11T03:17:44Z","author_association":"NONE","body":"> @yc1258 上面的图是contention还是cpu？\r\n\r\n是cpu的热点采样","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/690848918/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/690978596","html_url":"https://github.com/apache/brpc/issues/1240#issuecomment-690978596","issue_url":"https://api.github.com/repos/apache/brpc/issues/1240","id":690978596,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MDk3ODU5Ng==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-11T09:20:49Z","updated_at":"2020-09-11T09:20:49Z","author_association":"CONTRIBUTOR","body":"可能locale设置影响到很多和string相关的函数了？至少从profile看来就是它的问题。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/690978596/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/691013336","html_url":"https://github.com/apache/brpc/issues/1094#issuecomment-691013336","issue_url":"https://api.github.com/repos/apache/brpc/issues/1094","id":691013336,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTAxMzMzNg==","user":{"login":"DuanDechao","id":11455160,"node_id":"MDQ6VXNlcjExNDU1MTYw","avatar_url":"https://avatars.githubusercontent.com/u/11455160?v=4","gravatar_id":"","url":"https://api.github.com/users/DuanDechao","html_url":"https://github.com/DuanDechao","followers_url":"https://api.github.com/users/DuanDechao/followers","following_url":"https://api.github.com/users/DuanDechao/following{/other_user}","gists_url":"https://api.github.com/users/DuanDechao/gists{/gist_id}","starred_url":"https://api.github.com/users/DuanDechao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DuanDechao/subscriptions","organizations_url":"https://api.github.com/users/DuanDechao/orgs","repos_url":"https://api.github.com/users/DuanDechao/repos","events_url":"https://api.github.com/users/DuanDechao/events{/privacy}","received_events_url":"https://api.github.com/users/DuanDechao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-11T10:23:07Z","updated_at":"2020-09-11T10:23:07Z","author_association":"NONE","body":"@jamesge 遇到了同样的问题，虽然error报错是预期内且无影响，但毕竟有干扰，是否考虑remove server的时候加NamingServiceFilter过滤？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/691013336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/691023369","html_url":"https://github.com/apache/brpc/issues/1240#issuecomment-691023369","issue_url":"https://api.github.com/repos/apache/brpc/issues/1240","id":691023369,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTAyMzM2OQ==","user":{"login":"yc1258","id":11720663,"node_id":"MDQ6VXNlcjExNzIwNjYz","avatar_url":"https://avatars.githubusercontent.com/u/11720663?v=4","gravatar_id":"","url":"https://api.github.com/users/yc1258","html_url":"https://github.com/yc1258","followers_url":"https://api.github.com/users/yc1258/followers","following_url":"https://api.github.com/users/yc1258/following{/other_user}","gists_url":"https://api.github.com/users/yc1258/gists{/gist_id}","starred_url":"https://api.github.com/users/yc1258/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yc1258/subscriptions","organizations_url":"https://api.github.com/users/yc1258/orgs","repos_url":"https://api.github.com/users/yc1258/repos","events_url":"https://api.github.com/users/yc1258/events{/privacy}","received_events_url":"https://api.github.com/users/yc1258/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-11T10:48:40Z","updated_at":"2020-09-11T10:48:40Z","author_association":"NONE","body":"> 可能locale设置影响到很多和string相关的函数了？至少从profile看来就是它的问题。\r\n\r\n应该是，业务中有大量宽窄字符转换的接口会调用 wcstombs mbstowcs，有说这两个函数会和locale有交互。不过ub框架下的代码也用了这个，但是没有出现这种情况","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/691023369/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/691764307","html_url":"https://github.com/apache/brpc/issues/1241#issuecomment-691764307","issue_url":"https://api.github.com/repos/apache/brpc/issues/1241","id":691764307,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTc2NDMwNw==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-14T01:37:55Z","updated_at":"2020-09-14T01:37:55Z","author_association":"CONTRIBUTOR","body":"有的，留一下你的微信号，我拉你","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/691764307/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/691766995","html_url":"https://github.com/apache/brpc/issues/1241#issuecomment-691766995","issue_url":"https://api.github.com/repos/apache/brpc/issues/1241","id":691766995,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTc2Njk5NQ==","user":{"login":"yu199195","id":9673503,"node_id":"MDQ6VXNlcjk2NzM1MDM=","avatar_url":"https://avatars.githubusercontent.com/u/9673503?v=4","gravatar_id":"","url":"https://api.github.com/users/yu199195","html_url":"https://github.com/yu199195","followers_url":"https://api.github.com/users/yu199195/followers","following_url":"https://api.github.com/users/yu199195/following{/other_user}","gists_url":"https://api.github.com/users/yu199195/gists{/gist_id}","starred_url":"https://api.github.com/users/yu199195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yu199195/subscriptions","organizations_url":"https://api.github.com/users/yu199195/orgs","repos_url":"https://api.github.com/users/yu199195/repos","events_url":"https://api.github.com/users/yu199195/events{/privacy}","received_events_url":"https://api.github.com/users/yu199195/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-14T01:50:34Z","updated_at":"2020-09-14T01:50:34Z","author_association":"MEMBER","body":"13786298670------------------&nbsp;原始邮件&nbsp;------------------\r\n发件人:&nbsp;&quot;gydong&quot;<notifications@github.com&gt;\r\n发送时间:&nbsp;2020年9月14日(星期一) 上午9:38\r\n收件人:&nbsp;&quot;apache/incubator-brpc&quot;<incubator-brpc@noreply.github.com&gt;;\r\n抄送:&nbsp;&quot;xiaoyu&quot;<549477611@qq.com&gt;;&quot;Author&quot;<author@noreply.github.com&gt;;\r\n主题:&nbsp;Re: [apache/incubator-brpc] 有社区交流群吗 (#1241)","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/691766995/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/691769430","html_url":"https://github.com/apache/brpc/issues/1235#issuecomment-691769430","issue_url":"https://api.github.com/repos/apache/brpc/issues/1235","id":691769430,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTc2OTQzMA==","user":{"login":"cooper-zhzhang","id":16239579,"node_id":"MDQ6VXNlcjE2MjM5NTc5","avatar_url":"https://avatars.githubusercontent.com/u/16239579?v=4","gravatar_id":"","url":"https://api.github.com/users/cooper-zhzhang","html_url":"https://github.com/cooper-zhzhang","followers_url":"https://api.github.com/users/cooper-zhzhang/followers","following_url":"https://api.github.com/users/cooper-zhzhang/following{/other_user}","gists_url":"https://api.github.com/users/cooper-zhzhang/gists{/gist_id}","starred_url":"https://api.github.com/users/cooper-zhzhang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cooper-zhzhang/subscriptions","organizations_url":"https://api.github.com/users/cooper-zhzhang/orgs","repos_url":"https://api.github.com/users/cooper-zhzhang/repos","events_url":"https://api.github.com/users/cooper-zhzhang/events{/privacy}","received_events_url":"https://api.github.com/users/cooper-zhzhang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-14T02:02:30Z","updated_at":"2020-09-14T02:02:30Z","author_association":"NONE","body":"没有c++98版本 也不会支持的 否则要改动的地方太多了","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/691769430/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/691779926","html_url":"https://github.com/apache/brpc/issues/1211#issuecomment-691779926","issue_url":"https://api.github.com/repos/apache/brpc/issues/1211","id":691779926,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTc3OTkyNg==","user":{"login":"GOGOYAO","id":18675094,"node_id":"MDQ6VXNlcjE4Njc1MDk0","avatar_url":"https://avatars.githubusercontent.com/u/18675094?v=4","gravatar_id":"","url":"https://api.github.com/users/GOGOYAO","html_url":"https://github.com/GOGOYAO","followers_url":"https://api.github.com/users/GOGOYAO/followers","following_url":"https://api.github.com/users/GOGOYAO/following{/other_user}","gists_url":"https://api.github.com/users/GOGOYAO/gists{/gist_id}","starred_url":"https://api.github.com/users/GOGOYAO/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GOGOYAO/subscriptions","organizations_url":"https://api.github.com/users/GOGOYAO/orgs","repos_url":"https://api.github.com/users/GOGOYAO/repos","events_url":"https://api.github.com/users/GOGOYAO/events{/privacy}","received_events_url":"https://api.github.com/users/GOGOYAO/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-14T02:47:33Z","updated_at":"2020-09-14T02:47:33Z","author_association":"CONTRIBUTOR","body":"> 没收到呢\r\n\r\nmougaidong@gmail.com 发的这个邮箱。邮件主题是  微信号","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/691779926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/691803954","html_url":"https://github.com/apache/brpc/issues/843#issuecomment-691803954","issue_url":"https://api.github.com/repos/apache/brpc/issues/843","id":691803954,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTgwMzk1NA==","user":{"login":"wasphin","id":1237906,"node_id":"MDQ6VXNlcjEyMzc5MDY=","avatar_url":"https://avatars.githubusercontent.com/u/1237906?v=4","gravatar_id":"","url":"https://api.github.com/users/wasphin","html_url":"https://github.com/wasphin","followers_url":"https://api.github.com/users/wasphin/followers","following_url":"https://api.github.com/users/wasphin/following{/other_user}","gists_url":"https://api.github.com/users/wasphin/gists{/gist_id}","starred_url":"https://api.github.com/users/wasphin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wasphin/subscriptions","organizations_url":"https://api.github.com/users/wasphin/orgs","repos_url":"https://api.github.com/users/wasphin/repos","events_url":"https://api.github.com/users/wasphin/events{/privacy}","received_events_url":"https://api.github.com/users/wasphin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-14T04:31:44Z","updated_at":"2020-09-14T04:31:44Z","author_association":"MEMBER","body":"这个有相关计划吗? ``brpc`` 支持的平台还比较少, 很难采用 ``baidu_std`` 协议.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/691803954/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/691860172","html_url":"https://github.com/apache/brpc/issues/1241#issuecomment-691860172","issue_url":"https://api.github.com/repos/apache/brpc/issues/1241","id":691860172,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTg2MDE3Mg==","user":{"login":"kungf","id":24663329,"node_id":"MDQ6VXNlcjI0NjYzMzI5","avatar_url":"https://avatars.githubusercontent.com/u/24663329?v=4","gravatar_id":"","url":"https://api.github.com/users/kungf","html_url":"https://github.com/kungf","followers_url":"https://api.github.com/users/kungf/followers","following_url":"https://api.github.com/users/kungf/following{/other_user}","gists_url":"https://api.github.com/users/kungf/gists{/gist_id}","starred_url":"https://api.github.com/users/kungf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kungf/subscriptions","organizations_url":"https://api.github.com/users/kungf/orgs","repos_url":"https://api.github.com/users/kungf/repos","events_url":"https://api.github.com/users/kungf/events{/privacy}","received_events_url":"https://api.github.com/users/kungf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-14T07:02:20Z","updated_at":"2020-09-14T07:02:20Z","author_association":"NONE","body":"@gydong 麻烦拉我一下，微信号发您gmail了","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/691860172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/691875115","html_url":"https://github.com/apache/brpc/issues/1242#issuecomment-691875115","issue_url":"https://api.github.com/repos/apache/brpc/issues/1242","id":691875115,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTg3NTExNQ==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-14T07:31:06Z","updated_at":"2020-09-14T07:31:06Z","author_association":"CONTRIBUTOR","body":"protobuf-3.10.0我们已经用过了，没有问题","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/691875115/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/691879160","html_url":"https://github.com/apache/brpc/issues/1242#issuecomment-691879160","issue_url":"https://api.github.com/repos/apache/brpc/issues/1242","id":691879160,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTg3OTE2MA==","user":{"login":"yyhclimacool","id":8384040,"node_id":"MDQ6VXNlcjgzODQwNDA=","avatar_url":"https://avatars.githubusercontent.com/u/8384040?v=4","gravatar_id":"","url":"https://api.github.com/users/yyhclimacool","html_url":"https://github.com/yyhclimacool","followers_url":"https://api.github.com/users/yyhclimacool/followers","following_url":"https://api.github.com/users/yyhclimacool/following{/other_user}","gists_url":"https://api.github.com/users/yyhclimacool/gists{/gist_id}","starred_url":"https://api.github.com/users/yyhclimacool/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yyhclimacool/subscriptions","organizations_url":"https://api.github.com/users/yyhclimacool/orgs","repos_url":"https://api.github.com/users/yyhclimacool/repos","events_url":"https://api.github.com/users/yyhclimacool/events{/privacy}","received_events_url":"https://api.github.com/users/yyhclimacool/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-14T07:39:31Z","updated_at":"2020-09-14T07:39:31Z","author_association":"NONE","body":"> protobuf-3.10.0我们已经用过了，没有问题\r\n\r\n具体怎么构建呢？有没有文档？\r\n官方的demo如`incubator-brpc/example/echo_c++/echo.proto`是`syntax=\"proto2\"`，2.x的protobuf是会生成service基类的，但是3.x的protobuf不会根据pb文件生成service了，我该怎么实现我的rpc的method呢？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/691879160/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/691881852","html_url":"https://github.com/apache/brpc/issues/1241#issuecomment-691881852","issue_url":"https://api.github.com/repos/apache/brpc/issues/1241","id":691881852,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTg4MTg1Mg==","user":{"login":"weinberggithub","id":17616523,"node_id":"MDQ6VXNlcjE3NjE2NTIz","avatar_url":"https://avatars.githubusercontent.com/u/17616523?v=4","gravatar_id":"","url":"https://api.github.com/users/weinberggithub","html_url":"https://github.com/weinberggithub","followers_url":"https://api.github.com/users/weinberggithub/followers","following_url":"https://api.github.com/users/weinberggithub/following{/other_user}","gists_url":"https://api.github.com/users/weinberggithub/gists{/gist_id}","starred_url":"https://api.github.com/users/weinberggithub/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weinberggithub/subscriptions","organizations_url":"https://api.github.com/users/weinberggithub/orgs","repos_url":"https://api.github.com/users/weinberggithub/repos","events_url":"https://api.github.com/users/weinberggithub/events{/privacy}","received_events_url":"https://api.github.com/users/weinberggithub/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-14T07:44:26Z","updated_at":"2020-09-14T07:44:26Z","author_association":"NONE","body":"> 有的，留一下你的微信号，我拉你\r\n\r\n想要进社区交流群，_zihuatanejo_   ，谢谢","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/691881852/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/691882838","html_url":"https://github.com/apache/brpc/issues/1242#issuecomment-691882838","issue_url":"https://api.github.com/repos/apache/brpc/issues/1242","id":691882838,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTg4MjgzOA==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-14T07:46:16Z","updated_at":"2020-09-14T07:46:16Z","author_association":"CONTRIBUTOR","body":"protobuf-3.x 的库，.proto文件中依然保持使用 syntax=\"proto2\" ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/691882838/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/691887171","html_url":"https://github.com/apache/brpc/issues/1242#issuecomment-691887171","issue_url":"https://api.github.com/repos/apache/brpc/issues/1242","id":691887171,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTg4NzE3MQ==","user":{"login":"yyhclimacool","id":8384040,"node_id":"MDQ6VXNlcjgzODQwNDA=","avatar_url":"https://avatars.githubusercontent.com/u/8384040?v=4","gravatar_id":"","url":"https://api.github.com/users/yyhclimacool","html_url":"https://github.com/yyhclimacool","followers_url":"https://api.github.com/users/yyhclimacool/followers","following_url":"https://api.github.com/users/yyhclimacool/following{/other_user}","gists_url":"https://api.github.com/users/yyhclimacool/gists{/gist_id}","starred_url":"https://api.github.com/users/yyhclimacool/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yyhclimacool/subscriptions","organizations_url":"https://api.github.com/users/yyhclimacool/orgs","repos_url":"https://api.github.com/users/yyhclimacool/repos","events_url":"https://api.github.com/users/yyhclimacool/events{/privacy}","received_events_url":"https://api.github.com/users/yyhclimacool/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-14T07:54:57Z","updated_at":"2020-09-14T07:54:57Z","author_association":"NONE","body":"> protobuf-3.x 的库，.proto文件中依然保持使用 syntax=\"proto2\"\r\n\r\n了解了，谢谢。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/691887171/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/691893685","html_url":"https://github.com/apache/brpc/issues/1241#issuecomment-691893685","issue_url":"https://api.github.com/repos/apache/brpc/issues/1241","id":691893685,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTg5MzY4NQ==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-14T08:07:40Z","updated_at":"2020-09-14T08:07:40Z","author_association":"CONTRIBUTOR","body":"已拉","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/691893685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/692707848","html_url":"https://github.com/apache/brpc/issues/677#issuecomment-692707848","issue_url":"https://api.github.com/repos/apache/brpc/issues/677","id":692707848,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjcwNzg0OA==","user":{"login":"songlong","id":5988634,"node_id":"MDQ6VXNlcjU5ODg2MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/5988634?v=4","gravatar_id":"","url":"https://api.github.com/users/songlong","html_url":"https://github.com/songlong","followers_url":"https://api.github.com/users/songlong/followers","following_url":"https://api.github.com/users/songlong/following{/other_user}","gists_url":"https://api.github.com/users/songlong/gists{/gist_id}","starred_url":"https://api.github.com/users/songlong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/songlong/subscriptions","organizations_url":"https://api.github.com/users/songlong/orgs","repos_url":"https://api.github.com/users/songlong/repos","events_url":"https://api.github.com/users/songlong/events{/privacy}","received_events_url":"https://api.github.com/users/songlong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T13:17:29Z","updated_at":"2020-09-15T13:17:29Z","author_association":"NONE","body":"应该是不支持该种写法","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/692707848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/693136308","html_url":"https://github.com/apache/brpc/issues/1243#issuecomment-693136308","issue_url":"https://api.github.com/repos/apache/brpc/issues/1243","id":693136308,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzEzNjMwOA==","user":{"login":"cdjingit","id":31362185,"node_id":"MDQ6VXNlcjMxMzYyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/31362185?v=4","gravatar_id":"","url":"https://api.github.com/users/cdjingit","html_url":"https://github.com/cdjingit","followers_url":"https://api.github.com/users/cdjingit/followers","following_url":"https://api.github.com/users/cdjingit/following{/other_user}","gists_url":"https://api.github.com/users/cdjingit/gists{/gist_id}","starred_url":"https://api.github.com/users/cdjingit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdjingit/subscriptions","organizations_url":"https://api.github.com/users/cdjingit/orgs","repos_url":"https://api.github.com/users/cdjingit/repos","events_url":"https://api.github.com/users/cdjingit/events{/privacy}","received_events_url":"https://api.github.com/users/cdjingit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T02:44:52Z","updated_at":"2020-09-16T02:44:52Z","author_association":"CONTRIBUTOR","body":"超时后，rpc实际没有结束，需要cancel掉才可以，否则会有资源访问问题。原来的语义join后，rpc一定是结束了，后续处理是安全的。\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/693136308/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/693147740","html_url":"https://github.com/apache/brpc/issues/1243#issuecomment-693147740","issue_url":"https://api.github.com/repos/apache/brpc/issues/1243","id":693147740,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzE0Nzc0MA==","user":{"login":"feng-y","id":1547384,"node_id":"MDQ6VXNlcjE1NDczODQ=","avatar_url":"https://avatars.githubusercontent.com/u/1547384?v=4","gravatar_id":"","url":"https://api.github.com/users/feng-y","html_url":"https://github.com/feng-y","followers_url":"https://api.github.com/users/feng-y/followers","following_url":"https://api.github.com/users/feng-y/following{/other_user}","gists_url":"https://api.github.com/users/feng-y/gists{/gist_id}","starred_url":"https://api.github.com/users/feng-y/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/feng-y/subscriptions","organizations_url":"https://api.github.com/users/feng-y/orgs","repos_url":"https://api.github.com/users/feng-y/repos","events_url":"https://api.github.com/users/feng-y/events{/privacy}","received_events_url":"https://api.github.com/users/feng-y/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T03:27:02Z","updated_at":"2020-09-16T03:27:02Z","author_association":"NONE","body":"哪怎么保证是安全的呢？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/693147740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/693155824","html_url":"https://github.com/apache/brpc/issues/1243#issuecomment-693155824","issue_url":"https://api.github.com/repos/apache/brpc/issues/1243","id":693155824,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzE1NTgyNA==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T04:02:29Z","updated_at":"2020-09-16T04:02:29Z","author_association":"CONTRIBUTOR","body":"相关逻辑都在用户代码中，要做到安全比较难把控。你的场景，通过灵活调整SB的超时时间不可以吗？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/693155824/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/693173569","html_url":"https://github.com/apache/brpc/issues/1243#issuecomment-693173569","issue_url":"https://api.github.com/repos/apache/brpc/issues/1243","id":693173569,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzE3MzU2OQ==","user":{"login":"feng-y","id":1547384,"node_id":"MDQ6VXNlcjE1NDczODQ=","avatar_url":"https://avatars.githubusercontent.com/u/1547384?v=4","gravatar_id":"","url":"https://api.github.com/users/feng-y","html_url":"https://github.com/feng-y","followers_url":"https://api.github.com/users/feng-y/followers","following_url":"https://api.github.com/users/feng-y/following{/other_user}","gists_url":"https://api.github.com/users/feng-y/gists{/gist_id}","starred_url":"https://api.github.com/users/feng-y/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/feng-y/subscriptions","organizations_url":"https://api.github.com/users/feng-y/orgs","repos_url":"https://api.github.com/users/feng-y/repos","events_url":"https://api.github.com/users/feng-y/events{/privacy}","received_events_url":"https://api.github.com/users/feng-y/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T05:09:57Z","updated_at":"2020-09-16T05:09:57Z","author_association":"NONE","body":"SB服务的超时依赖于SA的响应，所以SB的超时是不好控制的","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/693173569/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/693175268","html_url":"https://github.com/apache/brpc/issues/1243#issuecomment-693175268","issue_url":"https://api.github.com/repos/apache/brpc/issues/1243","id":693175268,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzE3NTI2OA==","user":{"login":"cdjingit","id":31362185,"node_id":"MDQ6VXNlcjMxMzYyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/31362185?v=4","gravatar_id":"","url":"https://api.github.com/users/cdjingit","html_url":"https://github.com/cdjingit","followers_url":"https://api.github.com/users/cdjingit/followers","following_url":"https://api.github.com/users/cdjingit/following{/other_user}","gists_url":"https://api.github.com/users/cdjingit/gists{/gist_id}","starred_url":"https://api.github.com/users/cdjingit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdjingit/subscriptions","organizations_url":"https://api.github.com/users/cdjingit/orgs","repos_url":"https://api.github.com/users/cdjingit/repos","events_url":"https://api.github.com/users/cdjingit/events{/privacy}","received_events_url":"https://api.github.com/users/cdjingit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T05:15:09Z","updated_at":"2020-09-16T05:15:09Z","author_association":"CONTRIBUTOR","body":"启动一个定时任务cancel掉这个rpc","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/693175268/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/693197866","html_url":"https://github.com/apache/brpc/issues/1243#issuecomment-693197866","issue_url":"https://api.github.com/repos/apache/brpc/issues/1243","id":693197866,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzE5Nzg2Ng==","user":{"login":"feng-y","id":1547384,"node_id":"MDQ6VXNlcjE1NDczODQ=","avatar_url":"https://avatars.githubusercontent.com/u/1547384?v=4","gravatar_id":"","url":"https://api.github.com/users/feng-y","html_url":"https://github.com/feng-y","followers_url":"https://api.github.com/users/feng-y/followers","following_url":"https://api.github.com/users/feng-y/following{/other_user}","gists_url":"https://api.github.com/users/feng-y/gists{/gist_id}","starred_url":"https://api.github.com/users/feng-y/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/feng-y/subscriptions","organizations_url":"https://api.github.com/users/feng-y/orgs","repos_url":"https://api.github.com/users/feng-y/repos","events_url":"https://api.github.com/users/feng-y/events{/privacy}","received_events_url":"https://api.github.com/users/feng-y/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T06:17:05Z","updated_at":"2020-09-16T06:17:05Z","author_association":"NONE","body":"还是关注问题本身吧!  一个带超时的逻辑还需要启动一个定时任务去cancel，我理解一个超时等待的功能也算是一个合理的需求吧\r\n呼唤大神来看看 @jamesge @zyearn ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/693197866/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/693219844","html_url":"https://github.com/apache/brpc/issues/1243#issuecomment-693219844","issue_url":"https://api.github.com/repos/apache/brpc/issues/1243","id":693219844,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzIxOTg0NA==","user":{"login":"feng-y","id":1547384,"node_id":"MDQ6VXNlcjE1NDczODQ=","avatar_url":"https://avatars.githubusercontent.com/u/1547384?v=4","gravatar_id":"","url":"https://api.github.com/users/feng-y","html_url":"https://github.com/feng-y","followers_url":"https://api.github.com/users/feng-y/followers","following_url":"https://api.github.com/users/feng-y/following{/other_user}","gists_url":"https://api.github.com/users/feng-y/gists{/gist_id}","starred_url":"https://api.github.com/users/feng-y/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/feng-y/subscriptions","organizations_url":"https://api.github.com/users/feng-y/orgs","repos_url":"https://api.github.com/users/feng-y/repos","events_url":"https://api.github.com/users/feng-y/events{/privacy}","received_events_url":"https://api.github.com/users/feng-y/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T07:11:55Z","updated_at":"2020-09-16T07:13:56Z","author_association":"NONE","body":"一个不太靠谱的基于future的实现\r\ncallback 里面设置 future\r\n```\r\nvoid HandleEchoResponse(\r\n        brpc::Controller* cntl,\r\n        example::EchoResponse* response,\r\n        std::shared_ptr<std::promise<bool>> waiter) {\r\n    waiter->set_value(true);\r\n}\r\n```\r\n\r\n等待的时候不join， 等future ，如果futre 不成功就 cancel 请求\r\n```\r\n      std::shared_ptr<std::promise<bool>> waiter(std::make_shared<std::promise<bool>>());\r\n\r\n        // Because `done'(last parameter) is NULL, this function waits until\r\n        // the response comes back or error occurs(including timedout).\r\n        google::protobuf::Closure* done = brpc::NewCallback(\r\n            &HandleEchoResponse, &cntl, &response, waiter);\r\n\r\n        auto call_id = cntl.call_id();\r\n        stub.Echo(&cntl, &request, &response, done);\r\n        LOG(INFO) << \"waiting Join:\" << errno << \", \" << EINVAL;\r\n        // brpc::Join(call_id);\r\n        if (waiter->get_future().wait_for(std::chrono::microseconds(1)) != std::future_status::ready) {\r\n          LOG(INFO) << \"timeout\";\r\n          brpc::StartCancel(call_id);\r\n        } else {\r\n        .......\r\n       }\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/693219844/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/693343012","html_url":"https://github.com/apache/brpc/issues/1243#issuecomment-693343012","issue_url":"https://api.github.com/repos/apache/brpc/issues/1243","id":693343012,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzM0MzAxMg==","user":{"login":"cdjingit","id":31362185,"node_id":"MDQ6VXNlcjMxMzYyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/31362185?v=4","gravatar_id":"","url":"https://api.github.com/users/cdjingit","html_url":"https://github.com/cdjingit","followers_url":"https://api.github.com/users/cdjingit/followers","following_url":"https://api.github.com/users/cdjingit/following{/other_user}","gists_url":"https://api.github.com/users/cdjingit/gists{/gist_id}","starred_url":"https://api.github.com/users/cdjingit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdjingit/subscriptions","organizations_url":"https://api.github.com/users/cdjingit/orgs","repos_url":"https://api.github.com/users/cdjingit/repos","events_url":"https://api.github.com/users/cdjingit/events{/privacy}","received_events_url":"https://api.github.com/users/cdjingit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T11:23:54Z","updated_at":"2020-09-16T11:23:54Z","author_association":"CONTRIBUTOR","body":"启动一个bthread sleep超时的时间后 brpc::StartCancel就可以，并不复杂。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/693343012/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/693444506","html_url":"https://github.com/apache/brpc/issues/1243#issuecomment-693444506","issue_url":"https://api.github.com/repos/apache/brpc/issues/1243","id":693444506,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzQ0NDUwNg==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T14:30:01Z","updated_at":"2020-09-16T14:30:01Z","author_association":"MEMBER","body":"> 一个不太靠谱的基于future的实现\r\n> callback 里面设置 future\r\n> \r\n> ```\r\n> void HandleEchoResponse(\r\n>         brpc::Controller* cntl,\r\n>         example::EchoResponse* response,\r\n>         std::shared_ptr<std::promise<bool>> waiter) {\r\n>     waiter->set_value(true);\r\n> }\r\n> ```\r\n> \r\n> 等待的时候不join， 等future ，如果futre 不成功就 cancel 请求\r\n> \r\n> ```\r\n>       std::shared_ptr<std::promise<bool>> waiter(std::make_shared<std::promise<bool>>());\r\n> \r\n>         // Because `done'(last parameter) is NULL, this function waits until\r\n>         // the response comes back or error occurs(including timedout).\r\n>         google::protobuf::Closure* done = brpc::NewCallback(\r\n>             &HandleEchoResponse, &cntl, &response, waiter);\r\n> \r\n>         auto call_id = cntl.call_id();\r\n>         stub.Echo(&cntl, &request, &response, done);\r\n>         LOG(INFO) << \"waiting Join:\" << errno << \", \" << EINVAL;\r\n>         // brpc::Join(call_id);\r\n>         if (waiter->get_future().wait_for(std::chrono::microseconds(1)) != std::future_status::ready) {\r\n>           LOG(INFO) << \"timeout\";\r\n>           brpc::StartCancel(call_id);\r\n>         } else {\r\n>         .......\r\n>        }\r\n> ```\r\n\r\n这里用future来实现不太合适，future.wait会阻塞brpc的worker线程。\r\n\r\nJoin的语义暗含的意思是当Join返回的时候，被Join的对象已经处于一个结束的状态，这里加个timeout会有点破坏语义。\r\n\r\n 这个需求也可以通过bthread::CountdownEvent来实现，在原来future set_value的地方改成signal，在Join的地方改成timed_wait。\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/693444506/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/693761761","html_url":"https://github.com/apache/brpc/issues/1243#issuecomment-693761761","issue_url":"https://api.github.com/repos/apache/brpc/issues/1243","id":693761761,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Mzc2MTc2MQ==","user":{"login":"feng-y","id":1547384,"node_id":"MDQ6VXNlcjE1NDczODQ=","avatar_url":"https://avatars.githubusercontent.com/u/1547384?v=4","gravatar_id":"","url":"https://api.github.com/users/feng-y","html_url":"https://github.com/feng-y","followers_url":"https://api.github.com/users/feng-y/followers","following_url":"https://api.github.com/users/feng-y/following{/other_user}","gists_url":"https://api.github.com/users/feng-y/gists{/gist_id}","starred_url":"https://api.github.com/users/feng-y/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/feng-y/subscriptions","organizations_url":"https://api.github.com/users/feng-y/orgs","repos_url":"https://api.github.com/users/feng-y/repos","events_url":"https://api.github.com/users/feng-y/events{/privacy}","received_events_url":"https://api.github.com/users/feng-y/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-17T01:59:53Z","updated_at":"2020-09-17T02:00:18Z","author_association":"NONE","body":"> 启动一个bthread sleep超时的时间后 brpc::StartCancel就可以，并不复杂。\r\n\r\nwait 和 sleep 不是一个语义，和复杂没有关系，哪里需要sleep 多长时间呢，假设是5ms， 可能这个请求在1ms 后就返回了，需要的是异步通知机制， 我看看用 bthread::CountdownEvent来实现看看","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/693761761/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/693767387","html_url":"https://github.com/apache/brpc/issues/1243#issuecomment-693767387","issue_url":"https://api.github.com/repos/apache/brpc/issues/1243","id":693767387,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Mzc2NzM4Nw==","user":{"login":"feng-y","id":1547384,"node_id":"MDQ6VXNlcjE1NDczODQ=","avatar_url":"https://avatars.githubusercontent.com/u/1547384?v=4","gravatar_id":"","url":"https://api.github.com/users/feng-y","html_url":"https://github.com/feng-y","followers_url":"https://api.github.com/users/feng-y/followers","following_url":"https://api.github.com/users/feng-y/following{/other_user}","gists_url":"https://api.github.com/users/feng-y/gists{/gist_id}","starred_url":"https://api.github.com/users/feng-y/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/feng-y/subscriptions","organizations_url":"https://api.github.com/users/feng-y/orgs","repos_url":"https://api.github.com/users/feng-y/repos","events_url":"https://api.github.com/users/feng-y/events{/privacy}","received_events_url":"https://api.github.com/users/feng-y/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-17T02:19:38Z","updated_at":"2020-09-17T02:19:38Z","author_association":"NONE","body":"> > 一个不太靠谱的基于future的实现\r\n> > callback 里面设置 future\r\n> > ```\r\n> > void HandleEchoResponse(\r\n> >         brpc::Controller* cntl,\r\n> >         example::EchoResponse* response,\r\n> >         std::shared_ptr<std::promise<bool>> waiter) {\r\n> >     waiter->set_value(true);\r\n> > }\r\n> > ```\r\n> > \r\n> > \r\n> > 等待的时候不join， 等future ，如果futre 不成功就 cancel 请求\r\n> > ```\r\n> >       std::shared_ptr<std::promise<bool>> waiter(std::make_shared<std::promise<bool>>());\r\n> > \r\n> >         // Because `done'(last parameter) is NULL, this function waits until\r\n> >         // the response comes back or error occurs(including timedout).\r\n> >         google::protobuf::Closure* done = brpc::NewCallback(\r\n> >             &HandleEchoResponse, &cntl, &response, waiter);\r\n> > \r\n> >         auto call_id = cntl.call_id();\r\n> >         stub.Echo(&cntl, &request, &response, done);\r\n> >         LOG(INFO) << \"waiting Join:\" << errno << \", \" << EINVAL;\r\n> >         // brpc::Join(call_id);\r\n> >         if (waiter->get_future().wait_for(std::chrono::microseconds(1)) != std::future_status::ready) {\r\n> >           LOG(INFO) << \"timeout\";\r\n> >           brpc::StartCancel(call_id);\r\n> >         } else {\r\n> >         .......\r\n> >        }\r\n> > ```\r\n> \r\n> 这里用future来实现不太合适，future.wait会阻塞brpc的worker线程。\r\n> \r\n> Join的语义暗含的意思是当Join返回的时候，被Join的对象已经处于一个结束的状态，这里加个timeout会有点破坏语义。\r\n> \r\n> 这个需求也可以通过bthread::CountdownEvent来实现，在原来future set_value的地方改成signal，在Join的地方改成timed_wait。\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/693767387/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/693768005","html_url":"https://github.com/apache/brpc/issues/1243#issuecomment-693768005","issue_url":"https://api.github.com/repos/apache/brpc/issues/1243","id":693768005,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Mzc2ODAwNQ==","user":{"login":"feng-y","id":1547384,"node_id":"MDQ6VXNlcjE1NDczODQ=","avatar_url":"https://avatars.githubusercontent.com/u/1547384?v=4","gravatar_id":"","url":"https://api.github.com/users/feng-y","html_url":"https://github.com/feng-y","followers_url":"https://api.github.com/users/feng-y/followers","following_url":"https://api.github.com/users/feng-y/following{/other_user}","gists_url":"https://api.github.com/users/feng-y/gists{/gist_id}","starred_url":"https://api.github.com/users/feng-y/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/feng-y/subscriptions","organizations_url":"https://api.github.com/users/feng-y/orgs","repos_url":"https://api.github.com/users/feng-y/repos","events_url":"https://api.github.com/users/feng-y/events{/privacy}","received_events_url":"https://api.github.com/users/feng-y/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-17T02:21:49Z","updated_at":"2020-09-17T02:21:49Z","author_association":"NONE","body":"@zyearn 感谢提供的方案，另外再请教一个问题，cancel 和正常的请求 在 回调里面有办法区分么？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/693768005/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/693776704","html_url":"https://github.com/apache/brpc/issues/1243#issuecomment-693776704","issue_url":"https://api.github.com/repos/apache/brpc/issues/1243","id":693776704,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Mzc3NjcwNA==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-17T02:52:33Z","updated_at":"2020-09-17T02:52:33Z","author_association":"CONTRIBUTOR","body":"我们内部有个类似实现，仅供参考：\r\n\r\n```cpp\r\n// This class is NOT thread safe.\r\nclass BthreadGroup {\r\n public:\r\n  class Task;\r\n\r\n  BthreadGroup();\r\n  ~BthreadGroup();\r\n\r\n  // Always return true if call it before \"Start()\", return false otherwise.\r\n  bool AddOneTask(std::unique_ptr<Task>&& task);\r\n\r\n  void Start(int timeout_us = 0);\r\n\r\n  // The signature of TCallable is \" void (Task*)\".\r\n  // Note: if u start the group with a timeout, then use this function to\r\n  // retrieve your tasks, or there is a race condition.\r\n  template <typename TCallable>\r\n  void ForeachFinishedTask(const TCallable& func);\r\n\r\n private:\r\n  struct SharedPart;\r\n\r\n  void StartBthread();\r\n\r\n  // Ihis just set a \"stop flag\" simply, and the user logic should stop\r\n  // according to Task::ShouldStop().\r\n  void NotifyStop();\r\n\r\n  bool is_started_ = false;\r\n  std::shared_ptr<SharedPart> sp_;\r\n  std::vector<std::unique_ptr<Task>> tasks_;\r\n};\r\n\r\nclass BthreadGroup::Task {\r\n public:\r\n  Task();\r\n  virtual ~Task();\r\n\r\n  virtual void Run() = 0;\r\n\r\n protected:\r\n  // User should stop the task if this function return true. User can also\r\n  // ignore this function, and then this task will stop and delete itself.\r\n  bool ShouldStop() const;\r\n\r\n private:\r\n  friend class BthreadGroup;\r\n\r\n  static void* InternalRun(void* data);\r\n\r\n  std::atomic<bool> is_finished_{false};\r\n  std::atomic<bool> should_stop_{false};\r\n  bthread_t bthread_ = INVALID_BTHREAD;\r\n  std::weak_ptr<BthreadGroup::SharedPart> sp_;\r\n};\r\n\r\ntemplate <typename TCallable>\r\nvoid BthreadGroup::ForeachFinishedTask(const TCallable& func) {\r\n  for (std::unique_ptr<Task>& task : tasks_) {\r\n    if (task && task->is_finished_.exchange(true, std::memory_order_seq_cst)) {\r\n      func(task.get());\r\n    } else {\r\n      task.release();\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n```cpp\r\nnamespace {\r\n\r\nbvar::Adder<int> g_bthread_groups(\"bthread_group_count\");\r\nbvar::Adder<int> g_bthread_group_timeout_count(\"bthread_group_timeout_count\");\r\nbvar::Adder<int> g_bthread_group_tasks(\"bthread_group_task_count\");\r\n\r\n}  // namespace\r\n\r\nstruct BthreadGroup::SharedPart {\r\n  SharedPart() : ce(0) { }\r\n\r\n  bthread::CountdownEvent ce;\r\n};\r\n\r\nBthreadGroup::BthreadGroup() : sp_(std::make_shared<SharedPart>()) {\r\n  g_bthread_groups << 1;\r\n}\r\n\r\nbool BthreadGroup::AddOneTask(std::unique_ptr<Task>&& task) {\r\n  if (is_started_) {\r\n    return false;\r\n  }\r\n\r\n  task->sp_ = sp_;\r\n  tasks_.emplace_back(std::move(task));\r\n  sp_->ce.add_count();\r\n  return true;\r\n}\r\n\r\nvoid BthreadGroup::Start(int timeout_us) {\r\n  StartBthread();\r\n  is_started_ = true;\r\n  if (timeout_us > 0) {\r\n    const timespec end_time = butil::microseconds_from_now(timeout_us);\r\n    const int status = sp_->ce.timed_wait(end_time);\r\n    if (status == ETIMEDOUT) {\r\n      g_bthread_group_timeout_count << 1;\r\n    } else if (status != 0) {\r\n      LOG(ERROR) << \"bthread group is stopped du to: \" << berror(status);\r\n    }\r\n  } else {\r\n    const int status = sp_->ce.wait();\r\n    if (status != 0) {\r\n      LOG(ERROR) << \"bthread group is stopped du to: \" << berror(status);\r\n    }\r\n  }\r\n  NotifyStop();\r\n}\r\n\r\nvoid BthreadGroup::StartBthread() {\r\n  if (tasks_.empty()) {\r\n    return;\r\n  }\r\n\r\n  for (size_t i = 0; i < tasks_.size() - 1; ++i) {\r\n    CHECK_EQ(0, bthread_start_background(\r\n            &tasks_[i]->bthread_, nullptr, Task::InternalRun, tasks_[i].get()))\r\n        << \"Failed to start a bthread, error: \" << berror();\r\n  }\r\n  CHECK_EQ(0, bthread_start_urgent(&tasks_.back()->bthread_,\r\n                                   nullptr,\r\n                                   Task::InternalRun,\r\n                                   tasks_.back().get()))\r\n      << \"Failed to start a bthread, error: \" << berror();\r\n}\r\n\r\nvoid BthreadGroup::NotifyStop() {\r\n  for (const std::unique_ptr<Task>& task : tasks_) {\r\n    task->should_stop_.store(true, std::memory_order_release);\r\n  }\r\n}\r\n\r\nBthreadGroup::~BthreadGroup() {\r\n  // Ensure the task thread aware of the finish state.\r\n  ForeachFinishedTask([](Task* dummy){});\r\n  g_bthread_groups << -1;\r\n}\r\n\r\nBthreadGroup::Task::Task() {\r\n  g_bthread_group_tasks << 1;\r\n}\r\n\r\nBthreadGroup::Task::~Task() {\r\n  g_bthread_group_tasks << -1;\r\n}\r\n\r\nbool BthreadGroup::Task::ShouldStop() const {\r\n  return should_stop_.load(std::memory_order_acquire) ||\r\n      1 == bthread_stopped(bthread_self());\r\n}\r\n\r\nvoid* BthreadGroup::Task::InternalRun(void* data) {\r\n  Task* task = static_cast<Task*>(data);\r\n  task->Run();\r\n  if (task->is_finished_.exchange(true, std::memory_order_seq_cst)) {\r\n    delete task;\r\n  } else if (std::shared_ptr<SharedPart> sp = task->sp_.lock()) {\r\n    sp->ce.signal();\r\n  }\r\n\r\n  return nullptr;\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/693776704/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/693790906","html_url":"https://github.com/apache/brpc/issues/1243#issuecomment-693790906","issue_url":"https://api.github.com/repos/apache/brpc/issues/1243","id":693790906,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Mzc5MDkwNg==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-17T03:47:08Z","updated_at":"2020-09-17T03:47:08Z","author_association":"CONTRIBUTOR","body":"> @zyearn 感谢提供的方案，另外再请教一个问题，cancel 和正常的请求 在 回调里面有办法区分么？\r\n\r\nErrorCode 会是 ECANCELED 的","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/693790906/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/694588125","html_url":"https://github.com/apache/brpc/issues/1245#issuecomment-694588125","issue_url":"https://api.github.com/repos/apache/brpc/issues/1245","id":694588125,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NDU4ODEyNQ==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-18T01:08:50Z","updated_at":"2020-09-18T01:08:50Z","author_association":"CONTRIBUTOR","body":"实际上没有实现读写锁","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/694588125/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/694706034","html_url":"https://github.com/apache/brpc/pull/1247#issuecomment-694706034","issue_url":"https://api.github.com/repos/apache/brpc/issues/1247","id":694706034,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NDcwNjAzNA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-18T07:27:57Z","updated_at":"2020-09-18T07:27:57Z","author_association":"CONTRIBUTOR","body":"Thanks for spoting the inconsistency","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/694706034/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/695866152","html_url":"https://github.com/apache/brpc/issues/1248#issuecomment-695866152","issue_url":"https://api.github.com/repos/apache/brpc/issues/1248","id":695866152,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NTg2NjE1Mg==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-21T01:27:00Z","updated_at":"2020-09-21T01:27:00Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/incubator-brpc/issues/1242","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/695866152/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/695882394","html_url":"https://github.com/apache/brpc/issues/1250#issuecomment-695882394","issue_url":"https://api.github.com/repos/apache/brpc/issues/1250","id":695882394,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NTg4MjM5NA==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-21T03:13:30Z","updated_at":"2020-09-21T03:13:30Z","author_association":"CONTRIBUTOR","body":"说明你的进程大部分计算不是运行在brpc框架内，可能有其他的线程计算比较密集，比如rdkafka和faiss这种库都是有自己的线程池的，他们不占用brpc的worker线程但却是占用CPU","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/695882394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/695883475","html_url":"https://github.com/apache/brpc/issues/1250#issuecomment-695883475","issue_url":"https://api.github.com/repos/apache/brpc/issues/1250","id":695883475,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NTg4MzQ3NQ==","user":{"login":"GOGOYAO","id":18675094,"node_id":"MDQ6VXNlcjE4Njc1MDk0","avatar_url":"https://avatars.githubusercontent.com/u/18675094?v=4","gravatar_id":"","url":"https://api.github.com/users/GOGOYAO","html_url":"https://github.com/GOGOYAO","followers_url":"https://api.github.com/users/GOGOYAO/followers","following_url":"https://api.github.com/users/GOGOYAO/following{/other_user}","gists_url":"https://api.github.com/users/GOGOYAO/gists{/gist_id}","starred_url":"https://api.github.com/users/GOGOYAO/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GOGOYAO/subscriptions","organizations_url":"https://api.github.com/users/GOGOYAO/orgs","repos_url":"https://api.github.com/users/GOGOYAO/repos","events_url":"https://api.github.com/users/GOGOYAO/events{/privacy}","received_events_url":"https://api.github.com/users/GOGOYAO/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-21T03:19:56Z","updated_at":"2020-09-21T03:19:56Z","author_association":"CONTRIBUTOR","body":"明白。感谢","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/695883475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/695936614","html_url":"https://github.com/apache/brpc/issues/1248#issuecomment-695936614","issue_url":"https://api.github.com/repos/apache/brpc/issues/1248","id":695936614,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NTkzNjYxNA==","user":{"login":"rikuki","id":32513311,"node_id":"MDQ6VXNlcjMyNTEzMzEx","avatar_url":"https://avatars.githubusercontent.com/u/32513311?v=4","gravatar_id":"","url":"https://api.github.com/users/rikuki","html_url":"https://github.com/rikuki","followers_url":"https://api.github.com/users/rikuki/followers","following_url":"https://api.github.com/users/rikuki/following{/other_user}","gists_url":"https://api.github.com/users/rikuki/gists{/gist_id}","starred_url":"https://api.github.com/users/rikuki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rikuki/subscriptions","organizations_url":"https://api.github.com/users/rikuki/orgs","repos_url":"https://api.github.com/users/rikuki/repos","events_url":"https://api.github.com/users/rikuki/events{/privacy}","received_events_url":"https://api.github.com/users/rikuki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-21T06:55:51Z","updated_at":"2020-09-21T06:55:51Z","author_association":"NONE","body":"> #1242\r\n\r\nThanks!","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/695936614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/696560506","html_url":"https://github.com/apache/brpc/pull/1252#issuecomment-696560506","issue_url":"https://api.github.com/repos/apache/brpc/issues/1252","id":696560506,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NjU2MDUwNg==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-22T07:40:22Z","updated_at":"2020-09-22T07:40:22Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/incubator-brpc/issues/1251","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/696560506/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/696561662","html_url":"https://github.com/apache/brpc/issues/1249#issuecomment-696561662","issue_url":"https://api.github.com/repos/apache/brpc/issues/1249","id":696561662,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NjU2MTY2Mg==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-22T07:43:11Z","updated_at":"2020-09-22T07:43:11Z","author_association":"CONTRIBUTOR","body":"两个条件不等价， _cur_meta->stack == _main_stack 成立的时候，current_tid() == _main_tid 不一定成立。有些情况下bthread会复用main task 的堆栈，可以读一下ending_sched这个函数的源码理解一下","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/696561662/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/696602862","html_url":"https://github.com/apache/brpc/issues/1245#issuecomment-696602862","issue_url":"https://api.github.com/repos/apache/brpc/issues/1245","id":696602862,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NjYwMjg2Mg==","user":{"login":"datatechboost","id":23272955,"node_id":"MDQ6VXNlcjIzMjcyOTU1","avatar_url":"https://avatars.githubusercontent.com/u/23272955?v=4","gravatar_id":"","url":"https://api.github.com/users/datatechboost","html_url":"https://github.com/datatechboost","followers_url":"https://api.github.com/users/datatechboost/followers","following_url":"https://api.github.com/users/datatechboost/following{/other_user}","gists_url":"https://api.github.com/users/datatechboost/gists{/gist_id}","starred_url":"https://api.github.com/users/datatechboost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/datatechboost/subscriptions","organizations_url":"https://api.github.com/users/datatechboost/orgs","repos_url":"https://api.github.com/users/datatechboost/repos","events_url":"https://api.github.com/users/datatechboost/events{/privacy}","received_events_url":"https://api.github.com/users/datatechboost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-22T09:13:27Z","updated_at":"2020-09-22T09:13:27Z","author_association":"NONE","body":"好吧，先使用互斥锁代替下。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/696602862/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/696743267","html_url":"https://github.com/apache/brpc/issues/1249#issuecomment-696743267","issue_url":"https://api.github.com/repos/apache/brpc/issues/1249","id":696743267,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Njc0MzI2Nw==","user":{"login":"brokensword2018","id":40823449,"node_id":"MDQ6VXNlcjQwODIzNDQ5","avatar_url":"https://avatars.githubusercontent.com/u/40823449?v=4","gravatar_id":"","url":"https://api.github.com/users/brokensword2018","html_url":"https://github.com/brokensword2018","followers_url":"https://api.github.com/users/brokensword2018/followers","following_url":"https://api.github.com/users/brokensword2018/following{/other_user}","gists_url":"https://api.github.com/users/brokensword2018/gists{/gist_id}","starred_url":"https://api.github.com/users/brokensword2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brokensword2018/subscriptions","organizations_url":"https://api.github.com/users/brokensword2018/orgs","repos_url":"https://api.github.com/users/brokensword2018/repos","events_url":"https://api.github.com/users/brokensword2018/events{/privacy}","received_events_url":"https://api.github.com/users/brokensword2018/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-22T14:03:47Z","updated_at":"2020-09-22T14:03:47Z","author_association":"NONE","body":"> 两个条件不等价， _cur_meta->stack == _main_stack 成立的时候，current_tid() == _main_tid 不一定成立。有些情况下bthread会复用main task 的堆栈，可以读一下ending_sched这个函数的源码理解一下\r\n\r\n非常感谢","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/696743267/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/697074640","html_url":"https://github.com/apache/brpc/pull/1252#issuecomment-697074640","issue_url":"https://api.github.com/repos/apache/brpc/issues/1252","id":697074640,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NzA3NDY0MA==","user":{"login":"serverglen","id":38067377,"node_id":"MDQ6VXNlcjM4MDY3Mzc3","avatar_url":"https://avatars.githubusercontent.com/u/38067377?v=4","gravatar_id":"","url":"https://api.github.com/users/serverglen","html_url":"https://github.com/serverglen","followers_url":"https://api.github.com/users/serverglen/followers","following_url":"https://api.github.com/users/serverglen/following{/other_user}","gists_url":"https://api.github.com/users/serverglen/gists{/gist_id}","starred_url":"https://api.github.com/users/serverglen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/serverglen/subscriptions","organizations_url":"https://api.github.com/users/serverglen/orgs","repos_url":"https://api.github.com/users/serverglen/repos","events_url":"https://api.github.com/users/serverglen/events{/privacy}","received_events_url":"https://api.github.com/users/serverglen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-23T01:53:29Z","updated_at":"2020-09-23T01:53:29Z","author_association":"CONTRIBUTOR","body":"持续集成失败了，报错的地方不是我改的代码，我不知道怎么重试下持续集成，所以就先将pull request close了，然后重新open了一下，这样重新触发了持续集成。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/697074640/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/697074887","html_url":"https://github.com/apache/brpc/pull/1252#issuecomment-697074887","issue_url":"https://api.github.com/repos/apache/brpc/issues/1252","id":697074887,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NzA3NDg4Nw==","user":{"login":"serverglen","id":38067377,"node_id":"MDQ6VXNlcjM4MDY3Mzc3","avatar_url":"https://avatars.githubusercontent.com/u/38067377?v=4","gravatar_id":"","url":"https://api.github.com/users/serverglen","html_url":"https://github.com/serverglen","followers_url":"https://api.github.com/users/serverglen/followers","following_url":"https://api.github.com/users/serverglen/following{/other_user}","gists_url":"https://api.github.com/users/serverglen/gists{/gist_id}","starred_url":"https://api.github.com/users/serverglen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/serverglen/subscriptions","organizations_url":"https://api.github.com/users/serverglen/orgs","repos_url":"https://api.github.com/users/serverglen/repos","events_url":"https://api.github.com/users/serverglen/events{/privacy}","received_events_url":"https://api.github.com/users/serverglen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-23T01:54:29Z","updated_at":"2020-09-23T01:54:29Z","author_association":"CONTRIBUTOR","body":"这种重新触发持续集成的方式不太好，如果有其他的触发方式，辛苦告知下哈。多谢！","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/697074887/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/697105651","html_url":"https://github.com/apache/brpc/pull/1252#issuecomment-697105651","issue_url":"https://api.github.com/repos/apache/brpc/issues/1252","id":697105651,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NzEwNTY1MQ==","user":{"login":"serverglen","id":38067377,"node_id":"MDQ6VXNlcjM4MDY3Mzc3","avatar_url":"https://avatars.githubusercontent.com/u/38067377?v=4","gravatar_id":"","url":"https://api.github.com/users/serverglen","html_url":"https://github.com/serverglen","followers_url":"https://api.github.com/users/serverglen/followers","following_url":"https://api.github.com/users/serverglen/following{/other_user}","gists_url":"https://api.github.com/users/serverglen/gists{/gist_id}","starred_url":"https://api.github.com/users/serverglen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/serverglen/subscriptions","organizations_url":"https://api.github.com/users/serverglen/orgs","repos_url":"https://api.github.com/users/serverglen/repos","events_url":"https://api.github.com/users/serverglen/events{/privacy}","received_events_url":"https://api.github.com/users/serverglen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-23T03:08:34Z","updated_at":"2020-09-23T03:08:34Z","author_association":"CONTRIBUTOR","body":"感觉这个持续集成不太稳定，你能帮我重试下吗？我自己重试的话只能先close，再open...","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/697105651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/697111287","html_url":"https://github.com/apache/brpc/pull/1252#issuecomment-697111287","issue_url":"https://api.github.com/repos/apache/brpc/issues/1252","id":697111287,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NzExMTI4Nw==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-23T03:24:37Z","updated_at":"2020-09-23T03:24:37Z","author_association":"CONTRIBUTOR","body":"> 感觉这个持续集成不太稳定，你能帮我重试下吗？我自己重试的话只能先close，再open...\r\n\r\n已重试","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/697111287/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/697113935","html_url":"https://github.com/apache/brpc/issues/1253#issuecomment-697113935","issue_url":"https://api.github.com/repos/apache/brpc/issues/1253","id":697113935,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NzExMzkzNQ==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-23T03:34:31Z","updated_at":"2020-09-23T03:34:31Z","author_association":"MEMBER","body":"编译protobuf的时候需要把zlib选项打开","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/697113935/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/697118016","html_url":"https://github.com/apache/brpc/pull/1252#issuecomment-697118016","issue_url":"https://api.github.com/repos/apache/brpc/issues/1252","id":697118016,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NzExODAxNg==","user":{"login":"serverglen","id":38067377,"node_id":"MDQ6VXNlcjM4MDY3Mzc3","avatar_url":"https://avatars.githubusercontent.com/u/38067377?v=4","gravatar_id":"","url":"https://api.github.com/users/serverglen","html_url":"https://github.com/serverglen","followers_url":"https://api.github.com/users/serverglen/followers","following_url":"https://api.github.com/users/serverglen/following{/other_user}","gists_url":"https://api.github.com/users/serverglen/gists{/gist_id}","starred_url":"https://api.github.com/users/serverglen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/serverglen/subscriptions","organizations_url":"https://api.github.com/users/serverglen/orgs","repos_url":"https://api.github.com/users/serverglen/repos","events_url":"https://api.github.com/users/serverglen/events{/privacy}","received_events_url":"https://api.github.com/users/serverglen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-23T03:51:14Z","updated_at":"2020-09-23T03:51:14Z","author_association":"CONTRIBUTOR","body":"> 已重试\r\n\r\n多谢。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/697118016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/697144469","html_url":"https://github.com/apache/brpc/pull/1252#issuecomment-697144469","issue_url":"https://api.github.com/repos/apache/brpc/issues/1252","id":697144469,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NzE0NDQ2OQ==","user":{"login":"serverglen","id":38067377,"node_id":"MDQ6VXNlcjM4MDY3Mzc3","avatar_url":"https://avatars.githubusercontent.com/u/38067377?v=4","gravatar_id":"","url":"https://api.github.com/users/serverglen","html_url":"https://github.com/serverglen","followers_url":"https://api.github.com/users/serverglen/followers","following_url":"https://api.github.com/users/serverglen/following{/other_user}","gists_url":"https://api.github.com/users/serverglen/gists{/gist_id}","starred_url":"https://api.github.com/users/serverglen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/serverglen/subscriptions","organizations_url":"https://api.github.com/users/serverglen/orgs","repos_url":"https://api.github.com/users/serverglen/repos","events_url":"https://api.github.com/users/serverglen/events{/privacy}","received_events_url":"https://api.github.com/users/serverglen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-23T05:35:58Z","updated_at":"2020-09-23T05:35:58Z","author_association":"CONTRIBUTOR","body":"> > 感觉这个持续集成不太稳定，你能帮我重试下吗？我自己重试的话只能先close，再open...\r\n> \r\n> 已重试\r\n\r\n--2020-09-23 04:05:57--  (try:19)  http://www.us.apache.org/dist/thrift/0.11.0/thrift-0.11.0.tar.gz\r\nConnecting to www.us.apache.org (www.us.apache.org)|40.79.78.1|:80... failed: Connection timed out.\r\nRetrying.\r\n--2020-09-23 04:08:16--  (try:20)  http://www.us.apache.org/dist/thrift/0.11.0/thrift-0.11.0.tar.gz\r\nConnecting to www.us.apache.org (www.us.apache.org)|40.79.78.1|:80... failed: Connection timed out.\r\nGiving up.\r\n\r\nThe command \"wget http://www.us.apache.org/dist/thrift/0.11.0/thrift-0.11.0.tar.gz && tar -xf thrift-0.11.0.tar.gz && cd thrift-0.11.0/ && ./configure --prefix=/usr --with-rs=no --with-ruby=no --with-python=no --with-java=no --with-go=no --with-perl=no --with-php=no --with-csharp=no --with-erlang=no --with-lua=no --with-nodejs=no CXXFLAGS=\"-Wno-unused-variable\" && make -j4 && sudo make install && cd -\" failed and exited with 4 during .\r\n\r\n要不先优化下持续集成...\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/697144469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/697168485","html_url":"https://github.com/apache/brpc/issues/1254#issuecomment-697168485","issue_url":"https://api.github.com/repos/apache/brpc/issues/1254","id":697168485,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NzE2ODQ4NQ==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-23T06:46:33Z","updated_at":"2020-09-23T06:46:33Z","author_association":"CONTRIBUTOR","body":"能具体描述一下你的应用场景吗？或者要解决什么问题","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/697168485/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/697171937","html_url":"https://github.com/apache/brpc/issues/1244#issuecomment-697171937","issue_url":"https://api.github.com/repos/apache/brpc/issues/1244","id":697171937,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NzE3MTkzNw==","user":{"login":"pexeer","id":5493379,"node_id":"MDQ6VXNlcjU0OTMzNzk=","avatar_url":"https://avatars.githubusercontent.com/u/5493379?v=4","gravatar_id":"","url":"https://api.github.com/users/pexeer","html_url":"https://github.com/pexeer","followers_url":"https://api.github.com/users/pexeer/followers","following_url":"https://api.github.com/users/pexeer/following{/other_user}","gists_url":"https://api.github.com/users/pexeer/gists{/gist_id}","starred_url":"https://api.github.com/users/pexeer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pexeer/subscriptions","organizations_url":"https://api.github.com/users/pexeer/orgs","repos_url":"https://api.github.com/users/pexeer/repos","events_url":"https://api.github.com/users/pexeer/events{/privacy}","received_events_url":"https://api.github.com/users/pexeer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-23T06:54:48Z","updated_at":"2020-09-23T06:59:52Z","author_association":"CONTRIBUTOR","body":"1. 编译brpc时，带不带-DBRPC_ENABLE_CPU_PROFILER=ON这个都可以\r\n\r\n2. 编译工程时，必需要带上-DBRPC_ENABLE_CPU_PROFILER=ON并且链接libtcmalloc_and_profiler.so\r\n\r\n因为brpc的profile功能是在.h文件中定义的，只有在你使用brpc的代码部分才会去看BRPC_ENABLE_CPU_PROFILER是否开启，具体代码请看` brpc/details/profiler_linker.h`","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/697171937/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/698091467","html_url":"https://github.com/apache/brpc/issues/843#issuecomment-698091467","issue_url":"https://api.github.com/repos/apache/brpc/issues/843","id":698091467,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODA5MTQ2Nw==","user":{"login":"hohodu","id":4930925,"node_id":"MDQ6VXNlcjQ5MzA5MjU=","avatar_url":"https://avatars.githubusercontent.com/u/4930925?v=4","gravatar_id":"","url":"https://api.github.com/users/hohodu","html_url":"https://github.com/hohodu","followers_url":"https://api.github.com/users/hohodu/followers","following_url":"https://api.github.com/users/hohodu/following{/other_user}","gists_url":"https://api.github.com/users/hohodu/gists{/gist_id}","starred_url":"https://api.github.com/users/hohodu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hohodu/subscriptions","organizations_url":"https://api.github.com/users/hohodu/orgs","repos_url":"https://api.github.com/users/hohodu/repos","events_url":"https://api.github.com/users/hohodu/events{/privacy}","received_events_url":"https://api.github.com/users/hohodu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-24T03:36:55Z","updated_at":"2020-09-24T03:36:55Z","author_association":"NONE","body":"我理解brpc的定位是服务器之间高效的RPC通信，包括它的设计实现等都能体现这些。@crise1990你想要的其实是客户端和服务器之间的通信（公网），注意这里的客户端是真正意义的移动端。\r\n\r\n目前nginx支持的h2，向下游upstream发送的时候，是不是已经修改为http1.1了啊？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/698091467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/698093581","html_url":"https://github.com/apache/brpc/issues/1254#issuecomment-698093581","issue_url":"https://api.github.com/repos/apache/brpc/issues/1254","id":698093581,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODA5MzU4MQ==","user":{"login":"hohodu","id":4930925,"node_id":"MDQ6VXNlcjQ5MzA5MjU=","avatar_url":"https://avatars.githubusercontent.com/u/4930925?v=4","gravatar_id":"","url":"https://api.github.com/users/hohodu","html_url":"https://github.com/hohodu","followers_url":"https://api.github.com/users/hohodu/followers","following_url":"https://api.github.com/users/hohodu/following{/other_user}","gists_url":"https://api.github.com/users/hohodu/gists{/gist_id}","starred_url":"https://api.github.com/users/hohodu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hohodu/subscriptions","organizations_url":"https://api.github.com/users/hohodu/orgs","repos_url":"https://api.github.com/users/hohodu/repos","events_url":"https://api.github.com/users/hohodu/events{/privacy}","received_events_url":"https://api.github.com/users/hohodu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-24T03:45:41Z","updated_at":"2020-09-24T03:45:41Z","author_association":"NONE","body":"wrr_lb  基于权重的负载均衡策略","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/698093581/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/698095386","html_url":"https://github.com/apache/brpc/issues/1233#issuecomment-698095386","issue_url":"https://api.github.com/repos/apache/brpc/issues/1233","id":698095386,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODA5NTM4Ng==","user":{"login":"hohodu","id":4930925,"node_id":"MDQ6VXNlcjQ5MzA5MjU=","avatar_url":"https://avatars.githubusercontent.com/u/4930925?v=4","gravatar_id":"","url":"https://api.github.com/users/hohodu","html_url":"https://github.com/hohodu","followers_url":"https://api.github.com/users/hohodu/followers","following_url":"https://api.github.com/users/hohodu/following{/other_user}","gists_url":"https://api.github.com/users/hohodu/gists{/gist_id}","starred_url":"https://api.github.com/users/hohodu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hohodu/subscriptions","organizations_url":"https://api.github.com/users/hohodu/orgs","repos_url":"https://api.github.com/users/hohodu/repos","events_url":"https://api.github.com/users/hohodu/events{/privacy}","received_events_url":"https://api.github.com/users/hohodu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-24T03:52:50Z","updated_at":"2020-09-24T03:52:50Z","author_association":"NONE","body":"nginx chunk 设置no buffer, upstream选择fastcgi_proxy, http_proxy应该搞不定。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/698095386/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/698194364","html_url":"https://github.com/apache/brpc/issues/1254#issuecomment-698194364","issue_url":"https://api.github.com/repos/apache/brpc/issues/1254","id":698194364,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODE5NDM2NA==","user":{"login":"serverglen","id":38067377,"node_id":"MDQ6VXNlcjM4MDY3Mzc3","avatar_url":"https://avatars.githubusercontent.com/u/38067377?v=4","gravatar_id":"","url":"https://api.github.com/users/serverglen","html_url":"https://github.com/serverglen","followers_url":"https://api.github.com/users/serverglen/followers","following_url":"https://api.github.com/users/serverglen/following{/other_user}","gists_url":"https://api.github.com/users/serverglen/gists{/gist_id}","starred_url":"https://api.github.com/users/serverglen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/serverglen/subscriptions","organizations_url":"https://api.github.com/users/serverglen/orgs","repos_url":"https://api.github.com/users/serverglen/repos","events_url":"https://api.github.com/users/serverglen/events{/privacy}","received_events_url":"https://api.github.com/users/serverglen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-24T08:20:49Z","updated_at":"2020-09-24T08:21:58Z","author_association":"CONTRIBUTOR","body":"> wrr_lb 基于权重的负载均衡策略\r\n\r\n这个我看到了，Weighted Random(wr)其实也是需要的","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/698194364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/698236540","html_url":"https://github.com/apache/brpc/issues/825#issuecomment-698236540","issue_url":"https://api.github.com/repos/apache/brpc/issues/825","id":698236540,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODIzNjU0MA==","user":{"login":"zhuxinlong","id":10861396,"node_id":"MDQ6VXNlcjEwODYxMzk2","avatar_url":"https://avatars.githubusercontent.com/u/10861396?v=4","gravatar_id":"","url":"https://api.github.com/users/zhuxinlong","html_url":"https://github.com/zhuxinlong","followers_url":"https://api.github.com/users/zhuxinlong/followers","following_url":"https://api.github.com/users/zhuxinlong/following{/other_user}","gists_url":"https://api.github.com/users/zhuxinlong/gists{/gist_id}","starred_url":"https://api.github.com/users/zhuxinlong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhuxinlong/subscriptions","organizations_url":"https://api.github.com/users/zhuxinlong/orgs","repos_url":"https://api.github.com/users/zhuxinlong/repos","events_url":"https://api.github.com/users/zhuxinlong/events{/privacy}","received_events_url":"https://api.github.com/users/zhuxinlong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-24T09:41:34Z","updated_at":"2020-09-24T09:41:34Z","author_association":"NONE","body":"期待支持","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/698236540/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/698662171","html_url":"https://github.com/apache/brpc/pull/1252#issuecomment-698662171","issue_url":"https://api.github.com/repos/apache/brpc/issues/1252","id":698662171,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODY2MjE3MQ==","user":{"login":"serverglen","id":38067377,"node_id":"MDQ6VXNlcjM4MDY3Mzc3","avatar_url":"https://avatars.githubusercontent.com/u/38067377?v=4","gravatar_id":"","url":"https://api.github.com/users/serverglen","html_url":"https://github.com/serverglen","followers_url":"https://api.github.com/users/serverglen/followers","following_url":"https://api.github.com/users/serverglen/following{/other_user}","gists_url":"https://api.github.com/users/serverglen/gists{/gist_id}","starred_url":"https://api.github.com/users/serverglen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/serverglen/subscriptions","organizations_url":"https://api.github.com/users/serverglen/orgs","repos_url":"https://api.github.com/users/serverglen/repos","events_url":"https://api.github.com/users/serverglen/events{/privacy}","received_events_url":"https://api.github.com/users/serverglen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-25T00:55:28Z","updated_at":"2020-09-25T00:55:28Z","author_association":"CONTRIBUTOR","body":"> > 感觉这个持续集成不太稳定，你能帮我重试下吗？我自己重试的话只能先close，再open...\r\n> \r\n> 已重试\r\n\r\n辛苦再帮重新触发下持续集成吧","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/698662171/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/698696614","html_url":"https://github.com/apache/brpc/pull/1252#issuecomment-698696614","issue_url":"https://api.github.com/repos/apache/brpc/issues/1252","id":698696614,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODY5NjYxNA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-25T03:14:34Z","updated_at":"2020-09-25T03:14:47Z","author_association":"CONTRIBUTOR","body":"这个基于 https://github.com/apache/incubator-brpc/blob/master/src/butil/process_util.h 中的ReadCommandLine改更好一些，现在这么改也不支持Mac OS。可以在process_util.h中改为两个函数ReadCommandLine和ReadCommandName，返回值也可以都改成std::string方便使用，不用传buf","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/698696614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/698791274","html_url":"https://github.com/apache/brpc/pull/1252#issuecomment-698791274","issue_url":"https://api.github.com/repos/apache/brpc/issues/1252","id":698791274,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODc5MTI3NA==","user":{"login":"serverglen","id":38067377,"node_id":"MDQ6VXNlcjM4MDY3Mzc3","avatar_url":"https://avatars.githubusercontent.com/u/38067377?v=4","gravatar_id":"","url":"https://api.github.com/users/serverglen","html_url":"https://github.com/serverglen","followers_url":"https://api.github.com/users/serverglen/followers","following_url":"https://api.github.com/users/serverglen/following{/other_user}","gists_url":"https://api.github.com/users/serverglen/gists{/gist_id}","starred_url":"https://api.github.com/users/serverglen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/serverglen/subscriptions","organizations_url":"https://api.github.com/users/serverglen/orgs","repos_url":"https://api.github.com/users/serverglen/repos","events_url":"https://api.github.com/users/serverglen/events{/privacy}","received_events_url":"https://api.github.com/users/serverglen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-25T08:13:43Z","updated_at":"2020-09-25T08:13:43Z","author_association":"CONTRIBUTOR","body":"> 这个基于 https://github.com/apache/incubator-brpc/blob/master/src/butil/process_util.h 中的ReadCommandLine改更好一些，现在这么改也不支持Mac OS。可以在process_util.h中改为两个函数ReadCommandLine和ReadCommandName，返回值也可以都改成std::string方便使用，不用传buf\r\n\r\n好的，我这两天重新提下pr","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/698791274/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/698794438","html_url":"https://github.com/apache/brpc/issues/1256#issuecomment-698794438","issue_url":"https://api.github.com/repos/apache/brpc/issues/1256","id":698794438,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODc5NDQzOA==","user":{"login":"TousakaRin","id":8801314,"node_id":"MDQ6VXNlcjg4MDEzMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8801314?v=4","gravatar_id":"","url":"https://api.github.com/users/TousakaRin","html_url":"https://github.com/TousakaRin","followers_url":"https://api.github.com/users/TousakaRin/followers","following_url":"https://api.github.com/users/TousakaRin/following{/other_user}","gists_url":"https://api.github.com/users/TousakaRin/gists{/gist_id}","starred_url":"https://api.github.com/users/TousakaRin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TousakaRin/subscriptions","organizations_url":"https://api.github.com/users/TousakaRin/orgs","repos_url":"https://api.github.com/users/TousakaRin/repos","events_url":"https://api.github.com/users/TousakaRin/events{/privacy}","received_events_url":"https://api.github.com/users/TousakaRin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-25T08:19:53Z","updated_at":"2020-09-25T08:19:53Z","author_association":"CONTRIBUTOR","body":"按照以往的经验，这个问题是调用 `g_latency_recorder << cntl.latency_us();` 时，g_latency_recorder 已经析构造成的。\r\n常见的场景就是服务重启的时候，一些不join的异步rpc，其异步回调里访问了bvar。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/698794438/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/698795767","html_url":"https://github.com/apache/brpc/issues/1256#issuecomment-698795767","issue_url":"https://api.github.com/repos/apache/brpc/issues/1256","id":698795767,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODc5NTc2Nw==","user":{"login":"yqynju","id":3240660,"node_id":"MDQ6VXNlcjMyNDA2NjA=","avatar_url":"https://avatars.githubusercontent.com/u/3240660?v=4","gravatar_id":"","url":"https://api.github.com/users/yqynju","html_url":"https://github.com/yqynju","followers_url":"https://api.github.com/users/yqynju/followers","following_url":"https://api.github.com/users/yqynju/following{/other_user}","gists_url":"https://api.github.com/users/yqynju/gists{/gist_id}","starred_url":"https://api.github.com/users/yqynju/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yqynju/subscriptions","organizations_url":"https://api.github.com/users/yqynju/orgs","repos_url":"https://api.github.com/users/yqynju/repos","events_url":"https://api.github.com/users/yqynju/events{/privacy}","received_events_url":"https://api.github.com/users/yqynju/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-25T08:22:57Z","updated_at":"2020-09-25T08:22:57Z","author_association":"NONE","body":"是异步场景，但是g_latency_recorder是全局的，服务就异常退出了，显示的日志信息就是上面的堆栈。\r\n\r\n你意思是，服务挂掉，然后异步任务会触发这个堆栈，并非是这个堆栈引起服务挂掉，是吗？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/698795767/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/698799026","html_url":"https://github.com/apache/brpc/issues/1256#issuecomment-698799026","issue_url":"https://api.github.com/repos/apache/brpc/issues/1256","id":698799026,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODc5OTAyNg==","user":{"login":"TousakaRin","id":8801314,"node_id":"MDQ6VXNlcjg4MDEzMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8801314?v=4","gravatar_id":"","url":"https://api.github.com/users/TousakaRin","html_url":"https://github.com/TousakaRin","followers_url":"https://api.github.com/users/TousakaRin/followers","following_url":"https://api.github.com/users/TousakaRin/following{/other_user}","gists_url":"https://api.github.com/users/TousakaRin/gists{/gist_id}","starred_url":"https://api.github.com/users/TousakaRin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TousakaRin/subscriptions","organizations_url":"https://api.github.com/users/TousakaRin/orgs","repos_url":"https://api.github.com/users/TousakaRin/repos","events_url":"https://api.github.com/users/TousakaRin/events{/privacy}","received_events_url":"https://api.github.com/users/TousakaRin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-25T08:30:21Z","updated_at":"2020-09-25T08:30:21Z","author_association":"CONTRIBUTOR","body":"大概率是，不过我们出现这个FATAL的时候，都是在主动重启服务时出现。快速的修复办法就是new 出来这个g_latency_recorder，然后不析构。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/698799026/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/699016670","html_url":"https://github.com/apache/brpc/issues/1257#issuecomment-699016670","issue_url":"https://api.github.com/repos/apache/brpc/issues/1257","id":699016670,"node_id":"MDEyOklzc3VlQ29tbWVudDY5OTAxNjY3MA==","user":{"login":"tojoyccnu","id":12874335,"node_id":"MDQ6VXNlcjEyODc0MzM1","avatar_url":"https://avatars.githubusercontent.com/u/12874335?v=4","gravatar_id":"","url":"https://api.github.com/users/tojoyccnu","html_url":"https://github.com/tojoyccnu","followers_url":"https://api.github.com/users/tojoyccnu/followers","following_url":"https://api.github.com/users/tojoyccnu/following{/other_user}","gists_url":"https://api.github.com/users/tojoyccnu/gists{/gist_id}","starred_url":"https://api.github.com/users/tojoyccnu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tojoyccnu/subscriptions","organizations_url":"https://api.github.com/users/tojoyccnu/orgs","repos_url":"https://api.github.com/users/tojoyccnu/repos","events_url":"https://api.github.com/users/tojoyccnu/events{/privacy}","received_events_url":"https://api.github.com/users/tojoyccnu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-25T16:08:50Z","updated_at":"2020-09-25T16:08:50Z","author_association":"NONE","body":"如何在不销毁brpc::channel 前提下，触发底层重新连接","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/699016670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/699491268","html_url":"https://github.com/apache/brpc/issues/1202#issuecomment-699491268","issue_url":"https://api.github.com/repos/apache/brpc/issues/1202","id":699491268,"node_id":"MDEyOklzc3VlQ29tbWVudDY5OTQ5MTI2OA==","user":{"login":"DerrickChina","id":16729965,"node_id":"MDQ6VXNlcjE2NzI5OTY1","avatar_url":"https://avatars.githubusercontent.com/u/16729965?v=4","gravatar_id":"","url":"https://api.github.com/users/DerrickChina","html_url":"https://github.com/DerrickChina","followers_url":"https://api.github.com/users/DerrickChina/followers","following_url":"https://api.github.com/users/DerrickChina/following{/other_user}","gists_url":"https://api.github.com/users/DerrickChina/gists{/gist_id}","starred_url":"https://api.github.com/users/DerrickChina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DerrickChina/subscriptions","organizations_url":"https://api.github.com/users/DerrickChina/orgs","repos_url":"https://api.github.com/users/DerrickChina/repos","events_url":"https://api.github.com/users/DerrickChina/events{/privacy}","received_events_url":"https://api.github.com/users/DerrickChina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-26T12:47:32Z","updated_at":"2020-09-26T12:47:32Z","author_association":"NONE","body":"有没有计划support","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/699491268/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/699569427","html_url":"https://github.com/apache/brpc/issues/1257#issuecomment-699569427","issue_url":"https://api.github.com/repos/apache/brpc/issues/1257","id":699569427,"node_id":"MDEyOklzc3VlQ29tbWVudDY5OTU2OTQyNw==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-27T01:22:29Z","updated_at":"2020-09-27T01:22:29Z","author_association":"CONTRIBUTOR","body":"没有这样的接口函数，不过你可以通过开启enable_circuit_breaker来实现相同的效果。建议的做法还是重新new一个Channel实例","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/699569427/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/699746749","html_url":"https://github.com/apache/brpc/issues/1256#issuecomment-699746749","issue_url":"https://api.github.com/repos/apache/brpc/issues/1256","id":699746749,"node_id":"MDEyOklzc3VlQ29tbWVudDY5OTc0Njc0OQ==","user":{"login":"yqynju","id":3240660,"node_id":"MDQ6VXNlcjMyNDA2NjA=","avatar_url":"https://avatars.githubusercontent.com/u/3240660?v=4","gravatar_id":"","url":"https://api.github.com/users/yqynju","html_url":"https://github.com/yqynju","followers_url":"https://api.github.com/users/yqynju/followers","following_url":"https://api.github.com/users/yqynju/following{/other_user}","gists_url":"https://api.github.com/users/yqynju/gists{/gist_id}","starred_url":"https://api.github.com/users/yqynju/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yqynju/subscriptions","organizations_url":"https://api.github.com/users/yqynju/orgs","repos_url":"https://api.github.com/users/yqynju/repos","events_url":"https://api.github.com/users/yqynju/events{/privacy}","received_events_url":"https://api.github.com/users/yqynju/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-28T03:18:02Z","updated_at":"2020-09-28T03:18:02Z","author_association":"NONE","body":"问题是由于其他原因导致，异步会报这个错误，误导了判断。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/699746749/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/699850198","html_url":"https://github.com/apache/brpc/issues/1259#issuecomment-699850198","issue_url":"https://api.github.com/repos/apache/brpc/issues/1259","id":699850198,"node_id":"MDEyOklzc3VlQ29tbWVudDY5OTg1MDE5OA==","user":{"login":"cstarc","id":11407488,"node_id":"MDQ6VXNlcjExNDA3NDg4","avatar_url":"https://avatars.githubusercontent.com/u/11407488?v=4","gravatar_id":"","url":"https://api.github.com/users/cstarc","html_url":"https://github.com/cstarc","followers_url":"https://api.github.com/users/cstarc/followers","following_url":"https://api.github.com/users/cstarc/following{/other_user}","gists_url":"https://api.github.com/users/cstarc/gists{/gist_id}","starred_url":"https://api.github.com/users/cstarc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cstarc/subscriptions","organizations_url":"https://api.github.com/users/cstarc/orgs","repos_url":"https://api.github.com/users/cstarc/repos","events_url":"https://api.github.com/users/cstarc/events{/privacy}","received_events_url":"https://api.github.com/users/cstarc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-28T08:06:06Z","updated_at":"2020-09-28T08:06:06Z","author_association":"CONTRIBUTOR","body":"是否可以通过判断内部的_produced == _remote_consumed，若相等即表名server端处理结束？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/699850198/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/700414190","html_url":"https://github.com/apache/brpc/issues/1120#issuecomment-700414190","issue_url":"https://api.github.com/repos/apache/brpc/issues/1120","id":700414190,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMDQxNDE5MA==","user":{"login":"NageNalock","id":33447197,"node_id":"MDQ6VXNlcjMzNDQ3MTk3","avatar_url":"https://avatars.githubusercontent.com/u/33447197?v=4","gravatar_id":"","url":"https://api.github.com/users/NageNalock","html_url":"https://github.com/NageNalock","followers_url":"https://api.github.com/users/NageNalock/followers","following_url":"https://api.github.com/users/NageNalock/following{/other_user}","gists_url":"https://api.github.com/users/NageNalock/gists{/gist_id}","starred_url":"https://api.github.com/users/NageNalock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NageNalock/subscriptions","organizations_url":"https://api.github.com/users/NageNalock/orgs","repos_url":"https://api.github.com/users/NageNalock/repos","events_url":"https://api.github.com/users/NageNalock/events{/privacy}","received_events_url":"https://api.github.com/users/NageNalock/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-29T04:10:42Z","updated_at":"2020-09-29T04:10:42Z","author_association":"NONE","body":"我这里还有其他问题.\r\n\r\n当设置 event_dispatcher_num 等于 num_threads 时, 在代码中使用 channel 去请求后台 http_server, 会发不出去请求\r\n\r\nbrpc 接口代码\r\n```c++\r\n    void Echo(google::protobuf::RpcController* cntl_base,\r\n              const HttpRequest*,\r\n              HttpResponse*,\r\n              google::protobuf::Closure* done) {\r\n        // This object helps you to call done->Run() in RAII style. If you need\r\n        // to process the request asynchronously, pass done_guard.release().\r\n        brpc::ClosureGuard done_guard(done);\r\n        \r\n        brpc::Controller* cntl =\r\n            static_cast<brpc::Controller*>(cntl_base);\r\n\r\n        butil::IOBufBuilder os;\r\n        // Fill response.\r\n        cntl->http_response().set_content_type(\"text/plain\");\r\n\r\n        brpc::Controller c_cntl;\r\n        c_cntl.http_request().uri() = url;\r\n        c_cntl.http_request().set_method(brpc::HTTP_METHOD_POST);\r\n\r\n        c_cntl.request_attachment().append(cntl->request_attachment());\r\n        channel.CallMethod(NULL, &c_cntl, NULL, NULL, NULL);\r\n        if (c_cntl.Failed()) {\r\n            std::cerr << c_cntl.ErrorText() << std::endl;\r\n            os << c_cntl.ErrorText() << '\\n';\r\n            cntl->SetFailed(c_cntl.ErrorText());\r\n        } else {\r\n            // os << \"queries:\";\r\n            for (brpc::URI::QueryIterator it = cntl->http_request().uri().QueryBegin();\r\n                    it != cntl->http_request().uri().QueryEnd(); ++it) {\r\n                os << ' ' << it->first << '=' << it->second;\r\n            }\r\n            os << c_cntl.response_attachment() << '\\n';\r\n        }\r\n\r\n        os.move_to(cntl->response_attachment());\r\n    }\r\n```\r\n\r\nbrpc启动命令(第一个参数是后台 server 接口)\r\n```shell\r\n./router_server xxx.xxx.xxx.xx:20002/echo  -num_threads=24 -event_dispatcher_num=12\r\n```\r\n使用 curl 测试. 请求被阻塞住了, 经过抓包, brpc 没有发出 http 请求\r\n![image](https://user-images.githubusercontent.com/33447197/94511602-60383b00-024c-11eb-8195-1ecb8806a227.png)\r\n\r\n当设置 num_threads 数量大于 event_dispatcher_num 时, 无该现象, 可正常收发请求\r\n```shell\r\n./router_server xxx.xxx.xxx.xx:20002/echo  -num_threads=24 -event_dispatcher_num=12\r\n```","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/700414190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/700574013","html_url":"https://github.com/apache/brpc/issues/1131#issuecomment-700574013","issue_url":"https://api.github.com/repos/apache/brpc/issues/1131","id":700574013,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMDU3NDAxMw==","user":{"login":"luluyouyue","id":25447973,"node_id":"MDQ6VXNlcjI1NDQ3OTcz","avatar_url":"https://avatars.githubusercontent.com/u/25447973?v=4","gravatar_id":"","url":"https://api.github.com/users/luluyouyue","html_url":"https://github.com/luluyouyue","followers_url":"https://api.github.com/users/luluyouyue/followers","following_url":"https://api.github.com/users/luluyouyue/following{/other_user}","gists_url":"https://api.github.com/users/luluyouyue/gists{/gist_id}","starred_url":"https://api.github.com/users/luluyouyue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/luluyouyue/subscriptions","organizations_url":"https://api.github.com/users/luluyouyue/orgs","repos_url":"https://api.github.com/users/luluyouyue/repos","events_url":"https://api.github.com/users/luluyouyue/events{/privacy}","received_events_url":"https://api.github.com/users/luluyouyue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-29T09:10:55Z","updated_at":"2020-09-29T09:10:55Z","author_association":"NONE","body":"请问这个问题已经修复了吗","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/700574013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/700582780","html_url":"https://github.com/apache/brpc/issues/1131#issuecomment-700582780","issue_url":"https://api.github.com/repos/apache/brpc/issues/1131","id":700582780,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMDU4Mjc4MA==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-29T09:26:26Z","updated_at":"2020-09-29T09:26:26Z","author_association":"CONTRIBUTOR","body":"已经修复了，见：https://github.com/apache/incubator-brpc/pull/1156","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/700582780/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/700583596","html_url":"https://github.com/apache/brpc/issues/1259#issuecomment-700583596","issue_url":"https://api.github.com/repos/apache/brpc/issues/1259","id":700583596,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMDU4MzU5Ng==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-29T09:27:54Z","updated_at":"2020-09-29T09:27:54Z","author_association":"CONTRIBUTOR","body":"如果要在客户端判断服务端是否真正处理完成，则一定要服务端的主动反馈机制，客户端不可能单方面判断服务端是否处理完成","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/700583596/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/700584967","html_url":"https://github.com/apache/brpc/issues/1120#issuecomment-700584967","issue_url":"https://api.github.com/repos/apache/brpc/issues/1120","id":700584967,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMDU4NDk2Nw==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-29T09:30:34Z","updated_at":"2020-09-29T09:30:34Z","author_association":"CONTRIBUTOR","body":"你这个场景在实际生产环境下存在吗？还是纯粹为了研究，event_dispatcher_num 一般保持默认，即便要增加也远比worker个数少","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/700584967/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/700588774","html_url":"https://github.com/apache/brpc/issues/1120#issuecomment-700588774","issue_url":"https://api.github.com/repos/apache/brpc/issues/1120","id":700588774,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMDU4ODc3NA==","user":{"login":"NageNalock","id":33447197,"node_id":"MDQ6VXNlcjMzNDQ3MTk3","avatar_url":"https://avatars.githubusercontent.com/u/33447197?v=4","gravatar_id":"","url":"https://api.github.com/users/NageNalock","html_url":"https://github.com/NageNalock","followers_url":"https://api.github.com/users/NageNalock/followers","following_url":"https://api.github.com/users/NageNalock/following{/other_user}","gists_url":"https://api.github.com/users/NageNalock/gists{/gist_id}","starred_url":"https://api.github.com/users/NageNalock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NageNalock/subscriptions","organizations_url":"https://api.github.com/users/NageNalock/orgs","repos_url":"https://api.github.com/users/NageNalock/repos","events_url":"https://api.github.com/users/NageNalock/events{/privacy}","received_events_url":"https://api.github.com/users/NageNalock/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-29T09:37:38Z","updated_at":"2020-09-29T09:37:38Z","author_association":"NONE","body":"> 你这个场景在实际生产环境下存在吗？还是纯粹为了研究，event_dispatcher_num 一般保持默认，即便要增加也远比worker个数少\r\n\r\n在进行项目技术调研, 场景里可能会有大量的短连接, 所以想把 event_dispatcher_num 调大. 但是我发现似乎Brpc所有的链接都是由一个线程来完成的? 短连接场景的 CPU 负载很不均匀, 负载最高的 CPU 函数栈里可以看到是在抢 fd 的锁\r\n![image](https://user-images.githubusercontent.com/33447197/94541557-4dd4f600-027a-11eb-9642-edac8d163ec3.png)\r\n\r\n![image](https://user-images.githubusercontent.com/33447197/94541521-43b2f780-027a-11eb-9a2b-a1ad80862103.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/700588774/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/700592344","html_url":"https://github.com/apache/brpc/issues/1120#issuecomment-700592344","issue_url":"https://api.github.com/repos/apache/brpc/issues/1120","id":700592344,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMDU5MjM0NA==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-29T09:44:14Z","updated_at":"2020-09-29T09:44:14Z","author_association":"CONTRIBUTOR","body":"上图对应的配置是什么样的？几个worker，几个event_dispatcher_num ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/700592344/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/700593233","html_url":"https://github.com/apache/brpc/issues/1120#issuecomment-700593233","issue_url":"https://api.github.com/repos/apache/brpc/issues/1120","id":700593233,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMDU5MzIzMw==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-29T09:46:00Z","updated_at":"2020-09-29T09:46:00Z","author_association":"CONTRIBUTOR","body":"微信号可以发我邮箱中，我加你到开发者群中","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/700593233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/700593756","html_url":"https://github.com/apache/brpc/issues/1120#issuecomment-700593756","issue_url":"https://api.github.com/repos/apache/brpc/issues/1120","id":700593756,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMDU5Mzc1Ng==","user":{"login":"NageNalock","id":33447197,"node_id":"MDQ6VXNlcjMzNDQ3MTk3","avatar_url":"https://avatars.githubusercontent.com/u/33447197?v=4","gravatar_id":"","url":"https://api.github.com/users/NageNalock","html_url":"https://github.com/NageNalock","followers_url":"https://api.github.com/users/NageNalock/followers","following_url":"https://api.github.com/users/NageNalock/following{/other_user}","gists_url":"https://api.github.com/users/NageNalock/gists{/gist_id}","starred_url":"https://api.github.com/users/NageNalock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NageNalock/subscriptions","organizations_url":"https://api.github.com/users/NageNalock/orgs","repos_url":"https://api.github.com/users/NageNalock/repos","events_url":"https://api.github.com/users/NageNalock/events{/privacy}","received_events_url":"https://api.github.com/users/NageNalock/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-29T09:47:02Z","updated_at":"2020-09-29T09:47:02Z","author_association":"NONE","body":"> 上图对应的配置是什么样的？几个worker，几个event_dispatcher_num\r\n\r\n24核机器, 24个线程, event_dispatcher_num=24\r\n\r\n使用 wrk 压测的 http 协议","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/700593756/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/700597699","html_url":"https://github.com/apache/brpc/issues/1120#issuecomment-700597699","issue_url":"https://api.github.com/repos/apache/brpc/issues/1120","id":700597699,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMDU5NzY5OQ==","user":{"login":"NageNalock","id":33447197,"node_id":"MDQ6VXNlcjMzNDQ3MTk3","avatar_url":"https://avatars.githubusercontent.com/u/33447197?v=4","gravatar_id":"","url":"https://api.github.com/users/NageNalock","html_url":"https://github.com/NageNalock","followers_url":"https://api.github.com/users/NageNalock/followers","following_url":"https://api.github.com/users/NageNalock/following{/other_user}","gists_url":"https://api.github.com/users/NageNalock/gists{/gist_id}","starred_url":"https://api.github.com/users/NageNalock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NageNalock/subscriptions","organizations_url":"https://api.github.com/users/NageNalock/orgs","repos_url":"https://api.github.com/users/NageNalock/repos","events_url":"https://api.github.com/users/NageNalock/events{/privacy}","received_events_url":"https://api.github.com/users/NageNalock/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-29T09:54:44Z","updated_at":"2020-09-29T09:54:44Z","author_association":"NONE","body":"> 微信号可以发我邮箱中，我加你到开发者群中\r\n\r\n已发邮件, 感谢","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/700597699/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/701196484","html_url":"https://github.com/apache/brpc/issues/207#issuecomment-701196484","issue_url":"https://api.github.com/repos/apache/brpc/issues/207","id":701196484,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMTE5NjQ4NA==","user":{"login":"guowei-bian","id":71699414,"node_id":"MDQ6VXNlcjcxNjk5NDE0","avatar_url":"https://avatars.githubusercontent.com/u/71699414?v=4","gravatar_id":"","url":"https://api.github.com/users/guowei-bian","html_url":"https://github.com/guowei-bian","followers_url":"https://api.github.com/users/guowei-bian/followers","following_url":"https://api.github.com/users/guowei-bian/following{/other_user}","gists_url":"https://api.github.com/users/guowei-bian/gists{/gist_id}","starred_url":"https://api.github.com/users/guowei-bian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guowei-bian/subscriptions","organizations_url":"https://api.github.com/users/guowei-bian/orgs","repos_url":"https://api.github.com/users/guowei-bian/repos","events_url":"https://api.github.com/users/guowei-bian/events{/privacy}","received_events_url":"https://api.github.com/users/guowei-bian/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-30T06:52:41Z","updated_at":"2020-09-30T06:52:41Z","author_association":"NONE","body":"请问现在支持ipv6吗？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/701196484/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/701243464","html_url":"https://github.com/apache/brpc/issues/1110#issuecomment-701243464","issue_url":"https://api.github.com/repos/apache/brpc/issues/1110","id":701243464,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMTI0MzQ2NA==","user":{"login":"luluyouyue","id":25447973,"node_id":"MDQ6VXNlcjI1NDQ3OTcz","avatar_url":"https://avatars.githubusercontent.com/u/25447973?v=4","gravatar_id":"","url":"https://api.github.com/users/luluyouyue","html_url":"https://github.com/luluyouyue","followers_url":"https://api.github.com/users/luluyouyue/followers","following_url":"https://api.github.com/users/luluyouyue/following{/other_user}","gists_url":"https://api.github.com/users/luluyouyue/gists{/gist_id}","starred_url":"https://api.github.com/users/luluyouyue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/luluyouyue/subscriptions","organizations_url":"https://api.github.com/users/luluyouyue/orgs","repos_url":"https://api.github.com/users/luluyouyue/repos","events_url":"https://api.github.com/users/luluyouyue/events{/privacy}","received_events_url":"https://api.github.com/users/luluyouyue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-30T08:26:32Z","updated_at":"2020-09-30T08:26:32Z","author_association":"NONE","body":"老大，这个问题解决了吗","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/701243464/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/701274031","html_url":"https://github.com/apache/brpc/issues/1110#issuecomment-701274031","issue_url":"https://api.github.com/repos/apache/brpc/issues/1110","id":701274031,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMTI3NDAzMQ==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-30T09:25:13Z","updated_at":"2020-09-30T09:25:13Z","author_association":"MEMBER","body":"还没有，有兴趣的话可以给我们提pr。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/701274031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]