[{"url":"https://api.github.com/repos/apache/solr/issues/comments/1107057740","html_url":"https://github.com/apache/solr/pull/815#issuecomment-1107057740","issue_url":"https://api.github.com/repos/apache/solr/issues/815","id":1107057740,"node_id":"IC_kwDOFFj3yM5B_FxM","user":{"login":"magibney","id":6225104,"node_id":"MDQ6VXNlcjYyMjUxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/6225104?v=4","gravatar_id":"","url":"https://api.github.com/users/magibney","html_url":"https://github.com/magibney","followers_url":"https://api.github.com/users/magibney/followers","following_url":"https://api.github.com/users/magibney/following{/other_user}","gists_url":"https://api.github.com/users/magibney/gists{/gist_id}","starred_url":"https://api.github.com/users/magibney/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/magibney/subscriptions","organizations_url":"https://api.github.com/users/magibney/orgs","repos_url":"https://api.github.com/users/magibney/repos","events_url":"https://api.github.com/users/magibney/events{/privacy}","received_events_url":"https://api.github.com/users/magibney/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-23T00:09:51Z","updated_at":"2022-04-23T00:09:51Z","author_association":"CONTRIBUTOR","body":"Yeah agreed. I can't pretend to really understand what's going on here just yet (hence opening #818 with the title \"review [...]\" as opposed to \"revert [...]\"). I think it definitely warrants further investigation though, so figured it'd be worth it to start collecting possible examples and looking more closely.\r\n\r\nI'm not sure how/why I was \"lucky\" enough that this issue seemed to be somewhat reproducible for me, but I'm not entirely surprised that you weren't able to reproduce it. It consistently threw errors, but associated with a varying number of tests in the TestReplicationHandler suite, fwiw ...\r\n\r\nI'll note also that your recent [\"+0\" vote on 9.0 RC3](https://lists.apache.org/thread/pwxd4mpn1zr8263l86w41t8fghcnfs6l) mentioned \"TestReplicationHandler -- didn't reproduce.  The logs refer to\r\n'java.lang.AssertionError: Directory not closed'\", which is exactly how this manifested for me when I was able to get it to reproduce.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1107057740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1108593081","html_url":"https://github.com/apache/solr/pull/819#issuecomment-1108593081","issue_url":"https://api.github.com/repos/apache/solr/issues/819","id":1108593081,"node_id":"IC_kwDOFFj3yM5CE8m5","user":{"login":"magibney","id":6225104,"node_id":"MDQ6VXNlcjYyMjUxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/6225104?v=4","gravatar_id":"","url":"https://api.github.com/users/magibney","html_url":"https://github.com/magibney","followers_url":"https://api.github.com/users/magibney/followers","following_url":"https://api.github.com/users/magibney/following{/other_user}","gists_url":"https://api.github.com/users/magibney/gists{/gist_id}","starred_url":"https://api.github.com/users/magibney/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/magibney/subscriptions","organizations_url":"https://api.github.com/users/magibney/orgs","repos_url":"https://api.github.com/users/magibney/repos","events_url":"https://api.github.com/users/magibney/events{/privacy}","received_events_url":"https://api.github.com/users/magibney/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-25T13:42:41Z","updated_at":"2022-04-29T04:34:14Z","author_association":"CONTRIBUTOR","body":"Another alternative would be to just move `DEV_NULL_SLOT_ACC` to `FacetProcessor` or `FacetFieldProcessor` -- associating it with where it's _used_ vs. what it _is_. \r\n\r\nI thought about it. But, this is a general constant and could be used elsewhere as well","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1108593081/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1108943407","html_url":"https://github.com/apache/solr/pull/821#issuecomment-1108943407","issue_url":"https://api.github.com/repos/apache/solr/issues/821","id":1108943407,"node_id":"IC_kwDOFFj3yM5CGSIv","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-25T19:15:53Z","updated_at":"2022-04-25T19:15:53Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1108943407/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1109034632","html_url":"https://github.com/apache/solr/pull/717#issuecomment-1109034632","issue_url":"https://api.github.com/repos/apache/solr/issues/717","id":1109034632,"node_id":"IC_kwDOFFj3yM5CGoaI","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-25T20:59:25Z","updated_at":"2022-04-25T20:59:25Z","author_association":"CONTRIBUTOR","body":"Finally got back to this and it looks ready to go. Thanks @ErickErickson for a lot of cleanup! I fixed up the conflicts and some other minor changes.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1109034632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1109831144","html_url":"https://github.com/apache/solr/pull/717#issuecomment-1109831144","issue_url":"https://api.github.com/repos/apache/solr/issues/717","id":1109831144,"node_id":"IC_kwDOFFj3yM5CJq3o","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-26T13:56:41Z","updated_at":"2022-04-26T13:56:41Z","author_association":"CONTRIBUTOR","body":"I'll get this into main and branch_9x shortly. @janhoy let me know if branch_9_0 is a problem or not.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1109831144/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1109916772","html_url":"https://github.com/apache/solr/pull/717#issuecomment-1109916772","issue_url":"https://api.github.com/repos/apache/solr/issues/717","id":1109916772,"node_id":"IC_kwDOFFj3yM5CJ_xk","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-26T15:09:09Z","updated_at":"2022-04-26T15:09:09Z","author_association":"CONTRIBUTOR","body":"Currently trying to build RC4, so please target for 9_x for now.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1109916772/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1112654117","html_url":"https://github.com/apache/solr/pull/818#issuecomment-1112654117","issue_url":"https://api.github.com/repos/apache/solr/issues/818","id":1112654117,"node_id":"IC_kwDOFFj3yM5CUcEl","user":{"login":"magibney","id":6225104,"node_id":"MDQ6VXNlcjYyMjUxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/6225104?v=4","gravatar_id":"","url":"https://api.github.com/users/magibney","html_url":"https://github.com/magibney","followers_url":"https://api.github.com/users/magibney/followers","following_url":"https://api.github.com/users/magibney/following{/other_user}","gists_url":"https://api.github.com/users/magibney/gists{/gist_id}","starred_url":"https://api.github.com/users/magibney/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/magibney/subscriptions","organizations_url":"https://api.github.com/users/magibney/orgs","repos_url":"https://api.github.com/users/magibney/repos","events_url":"https://api.github.com/users/magibney/events{/privacy}","received_events_url":"https://api.github.com/users/magibney/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-28T21:05:59Z","updated_at":"2022-04-28T21:05:59Z","author_association":"CONTRIBUTOR","body":"From @dsmiley's [comment on PR 815](https://github.com/apache/solr/pull/815#issuecomment-1106880696):\r\n\r\n>I suspect the searcher and/or request being open after the core close will keep the core increment one higher and thus not actually closed until the searcher/request is.\r\n\r\nI dug into this a bit more and it's quite tricky.\r\n\r\nThe problem manifests when the `core.close()` call happens before `searcher.decref()` ... but only if the `core.close()` call in question is the _last_ call to `close()` for the given core. Until `core.refCount` becomes `0`, `core.close()` is basically just bookkeeping; but the _last_ `core.close()` proceeds to `doClose()`, which calls `directoryFactory.close()` -- the `CachingDirectoryFactory` implementation of which blocks waiting for its cached `Directory` instances to be released. The `SolrIndexSearcher` whose closing was reordered to follow `core.close()` actually holds a reference to the cached `Directory` instance, not the `SolrCore` itself, so the thread indeed leaks/resource is not closed.\r\n\r\nLooking more closely at why this issue addressed by #815 was hard to reproduce: the bulk of the replication in `TestReplicationHandler` takes place via explicit `fetchindex` command -- almost always with the special test param `wait=true`, causing the associated replication fetch to take place (from start to finish) within the context/lifetime of the enclosing `SolrQueryRequest`, which itself caries a reference to the `SolrCore`, ensuring that the replication code will _not_ be the last call to `core.close()`. So `core.close()` amounts to just a decrement of a refcount -- it doesn't block, and the `searcher.decref()` happens ok, even though out-of-order.\r\n\r\nThe problem happens when _polling_ replication (\"indexFetcher\" thread) happens to hit around the time of core close -- all the other core references have been decremented, and the affected code is left holding the only remaining reference to the core _and_ (via the `SolrIndexSearcher`) to the `Directory` instance. Polling replication is vulnerable (whereas explicit `fetchindex` command is not) because polling is a scheduled task that doesn't take place within the context of a `SolrQueryRequest` holding references to the `SolrCore`. Indeed, I verified that the problem addressed by #815 could be equally (though hackily) addressed by wrapping the polling `doFetch()` in a try-with-resources block artificially incrementing the refCount for the SolrCore!\r\n\r\nI'm not sure whether there might be other cases that would trigger this, especially with other areas of the code; but I think the prudent thing to do for now would be to take the instances identified in this PR and restore the original close order -- i.e. `SolrIndexSearcher.decref()` (or `SolrQueryRequest.close()`, which in turn may call `SolrIndexSearcher.decref()`) _before_ calling `close()` on the associated `SolrCore`.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1112654117/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1113996336","html_url":"https://github.com/apache/solr/pull/594#issuecomment-1113996336","issue_url":"https://api.github.com/repos/apache/solr/issues/594","id":1113996336,"node_id":"IC_kwDOFFj3yM5CZjww","user":{"login":"betulince","id":44343912,"node_id":"MDQ6VXNlcjQ0MzQzOTEy","avatar_url":"https://avatars.githubusercontent.com/u/44343912?v=4","gravatar_id":"","url":"https://api.github.com/users/betulince","html_url":"https://github.com/betulince","followers_url":"https://api.github.com/users/betulince/followers","following_url":"https://api.github.com/users/betulince/following{/other_user}","gists_url":"https://api.github.com/users/betulince/gists{/gist_id}","starred_url":"https://api.github.com/users/betulince/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/betulince/subscriptions","organizations_url":"https://api.github.com/users/betulince/orgs","repos_url":"https://api.github.com/users/betulince/repos","events_url":"https://api.github.com/users/betulince/events{/privacy}","received_events_url":"https://api.github.com/users/betulince/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-30T14:17:07Z","updated_at":"2022-04-30T14:17:07Z","author_association":"CONTRIBUTOR","body":"> I don't have comments on the functionality of this. I think there is one existing review comment not addressed.\r\n> \r\n> #745 and this PR both try to pull in a UI framework for selection. @epugh did you get to see which one is better to go with?\r\n> \r\n> I also saw @epugh left a video comment in https://issues.apache.org/jira/browse/SOLR-15853?focusedCommentId=17491578&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-17491578 - I didn't watch it but it seems like @epugh would be a good one to take another look.\r\n\r\nI just deleted the comment. @epugh maybe you can give another look at the code!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1113996336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1116107148","html_url":"https://github.com/apache/solr/pull/831#issuecomment-1116107148","issue_url":"https://api.github.com/repos/apache/solr/issues/831","id":1116107148,"node_id":"IC_kwDOFFj3yM5ChnGM","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T13:36:42Z","updated_at":"2022-05-03T13:36:42Z","author_association":"CONTRIBUTOR","body":"@smoldenhauer-ish can you take a look at this?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1116107148/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1116441989","html_url":"https://github.com/apache/solr/pull/833#issuecomment-1116441989","issue_url":"https://api.github.com/repos/apache/solr/issues/833","id":1116441989,"node_id":"IC_kwDOFFj3yM5Ci42F","user":{"login":"madrob","id":1592330,"node_id":"MDQ6VXNlcjE1OTIzMzA=","avatar_url":"https://avatars.githubusercontent.com/u/1592330?v=4","gravatar_id":"","url":"https://api.github.com/users/madrob","html_url":"https://github.com/madrob","followers_url":"https://api.github.com/users/madrob/followers","following_url":"https://api.github.com/users/madrob/following{/other_user}","gists_url":"https://api.github.com/users/madrob/gists{/gist_id}","starred_url":"https://api.github.com/users/madrob/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/madrob/subscriptions","organizations_url":"https://api.github.com/users/madrob/orgs","repos_url":"https://api.github.com/users/madrob/repos","events_url":"https://api.github.com/users/madrob/events{/privacy}","received_events_url":"https://api.github.com/users/madrob/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T18:45:05Z","updated_at":"2022-05-03T18:45:05Z","author_association":"CONTRIBUTOR","body":"Dupe of #805?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1116441989/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1116444705","html_url":"https://github.com/apache/solr/pull/833#issuecomment-1116444705","issue_url":"https://api.github.com/repos/apache/solr/issues/833","id":1116444705,"node_id":"IC_kwDOFFj3yM5Ci5gh","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T18:48:09Z","updated_at":"2022-05-03T18:48:09Z","author_association":"CONTRIBUTOR","body":"Ugh yup thanks @madrob ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1116444705/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1116459276","html_url":"https://github.com/apache/solr/pull/805#issuecomment-1116459276","issue_url":"https://api.github.com/repos/apache/solr/issues/805","id":1116459276,"node_id":"IC_kwDOFFj3yM5Ci9EM","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T19:04:33Z","updated_at":"2022-05-03T19:04:33Z","author_association":"CONTRIBUTOR","body":"@madrob any reason not to merge this? It looks like at least the fireEventListeners change will fix a lot of noise for testing.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1116459276/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1116480070","html_url":"https://github.com/apache/solr/pull/805#issuecomment-1116480070","issue_url":"https://api.github.com/repos/apache/solr/issues/805","id":1116480070,"node_id":"IC_kwDOFFj3yM5CjCJG","user":{"login":"madrob","id":1592330,"node_id":"MDQ6VXNlcjE1OTIzMzA=","avatar_url":"https://avatars.githubusercontent.com/u/1592330?v=4","gravatar_id":"","url":"https://api.github.com/users/madrob","html_url":"https://github.com/madrob","followers_url":"https://api.github.com/users/madrob/followers","following_url":"https://api.github.com/users/madrob/following{/other_user}","gists_url":"https://api.github.com/users/madrob/gists{/gist_id}","starred_url":"https://api.github.com/users/madrob/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/madrob/subscriptions","organizations_url":"https://api.github.com/users/madrob/orgs","repos_url":"https://api.github.com/users/madrob/repos","events_url":"https://api.github.com/users/madrob/events{/privacy}","received_events_url":"https://api.github.com/users/madrob/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T19:27:50Z","updated_at":"2022-05-03T19:27:50Z","author_association":"CONTRIBUTOR","body":"I was waiting for the 9.0 stuff to shake out, but it probably should be back ported there as well anyway.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1116480070/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1116484201","html_url":"https://github.com/apache/solr/pull/805#issuecomment-1116484201","issue_url":"https://api.github.com/repos/apache/solr/issues/805","id":1116484201,"node_id":"IC_kwDOFFj3yM5CjDJp","user":{"login":"madrob","id":1592330,"node_id":"MDQ6VXNlcjE1OTIzMzA=","avatar_url":"https://avatars.githubusercontent.com/u/1592330?v=4","gravatar_id":"","url":"https://api.github.com/users/madrob","html_url":"https://github.com/madrob","followers_url":"https://api.github.com/users/madrob/followers","following_url":"https://api.github.com/users/madrob/following{/other_user}","gists_url":"https://api.github.com/users/madrob/gists{/gist_id}","starred_url":"https://api.github.com/users/madrob/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/madrob/subscriptions","organizations_url":"https://api.github.com/users/madrob/orgs","repos_url":"https://api.github.com/users/madrob/repos","events_url":"https://api.github.com/users/madrob/events{/privacy}","received_events_url":"https://api.github.com/users/madrob/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T19:32:19Z","updated_at":"2022-05-03T19:32:19Z","author_association":"CONTRIBUTOR","body":"Rebased.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1116484201/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1116975365","html_url":"https://github.com/apache/solr/pull/831#issuecomment-1116975365","issue_url":"https://api.github.com/repos/apache/solr/issues/831","id":1116975365,"node_id":"IC_kwDOFFj3yM5Ck7EF","user":{"login":"smoldenhauer-ish","id":54577793,"node_id":"MDQ6VXNlcjU0NTc3Nzkz","avatar_url":"https://avatars.githubusercontent.com/u/54577793?v=4","gravatar_id":"","url":"https://api.github.com/users/smoldenhauer-ish","html_url":"https://github.com/smoldenhauer-ish","followers_url":"https://api.github.com/users/smoldenhauer-ish/followers","following_url":"https://api.github.com/users/smoldenhauer-ish/following{/other_user}","gists_url":"https://api.github.com/users/smoldenhauer-ish/gists{/gist_id}","starred_url":"https://api.github.com/users/smoldenhauer-ish/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smoldenhauer-ish/subscriptions","organizations_url":"https://api.github.com/users/smoldenhauer-ish/orgs","repos_url":"https://api.github.com/users/smoldenhauer-ish/repos","events_url":"https://api.github.com/users/smoldenhauer-ish/events{/privacy}","received_events_url":"https://api.github.com/users/smoldenhauer-ish/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T06:37:20Z","updated_at":"2022-05-04T06:37:20Z","author_association":"CONTRIBUTOR","body":"Hi, @risdenk I had only a short look. Tests are much better now. \r\nI am not sure about the makePath vs setData Looks to me as there is a AlreadyExistsException is thrown and catched each time the touchConfDir is called. So i think that it does not \"touch\" the dir for whatever reason that \"touch\" is or was needed.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1116975365/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1117331726","html_url":"https://github.com/apache/solr/pull/831#issuecomment-1117331726","issue_url":"https://api.github.com/repos/apache/solr/issues/831","id":1117331726,"node_id":"IC_kwDOFFj3yM5CmSEO","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T13:43:54Z","updated_at":"2022-05-04T13:43:54Z","author_association":"CONTRIBUTOR","body":"I found this comment while digging into things yesterday:\r\n\r\nhttps://github.com/apache/solr/blob/main/solr/core/src/java/org/apache/solr/core/SolrCore.java#L3334\r\n\r\n```\r\n/**\r\n   * This registers one listener for the entire conf directory. In zookeeper there is no event fired\r\n   * when children are modified. So , we expect everyone to 'touch' the /conf directory by setting\r\n   * some data so that events are triggered.\r\n   */\r\n   private void registerConfListener() {\r\n```\r\n   \r\nMy interpretation is that data needs to exist in that znode and that is all that touch is doing. Its not updating the version or anything. Just creating the paths and setting some data if it needs to.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1117331726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1117386259","html_url":"https://github.com/apache/solr/pull/831#issuecomment-1117386259","issue_url":"https://api.github.com/repos/apache/solr/issues/831","id":1117386259,"node_id":"IC_kwDOFFj3yM5CmfYT","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T14:30:32Z","updated_at":"2022-05-04T14:30:32Z","author_association":"CONTRIBUTOR","body":"@epugh / @smoldenhauer-ish can you take a look again? I made it so there is an update of the data itself atomically. I don't think there is harm in actually doing this and makes it more like the `touch` command in general.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1117386259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1117981849","html_url":"https://github.com/apache/solr/pull/828#issuecomment-1117981849","issue_url":"https://api.github.com/repos/apache/solr/issues/828","id":1117981849,"node_id":"IC_kwDOFFj3yM5CowyZ","user":{"login":"magibney","id":6225104,"node_id":"MDQ6VXNlcjYyMjUxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/6225104?v=4","gravatar_id":"","url":"https://api.github.com/users/magibney","html_url":"https://github.com/magibney","followers_url":"https://api.github.com/users/magibney/followers","following_url":"https://api.github.com/users/magibney/following{/other_user}","gists_url":"https://api.github.com/users/magibney/gists{/gist_id}","starred_url":"https://api.github.com/users/magibney/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/magibney/subscriptions","organizations_url":"https://api.github.com/users/magibney/orgs","repos_url":"https://api.github.com/users/magibney/repos","events_url":"https://api.github.com/users/magibney/events{/privacy}","received_events_url":"https://api.github.com/users/magibney/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T22:10:22Z","updated_at":"2022-05-04T22:10:22Z","author_association":"CONTRIBUTOR","body":"Cleaned this up quite a bit.\r\n\r\nThe essence of what's happening here is pretty straightforward:\r\n1. ValueSources need to supply their own SortField, but in Solr they need to supply a SortField that is aware of missing values, etc., so we wrap Lucene ValueSource impls to delegate getSortField() to the Solr FieldType.\r\n2. We leverage `FieldCacheSource` (which I finally now think I understand its purpose) to determine when/how to do specialized marshalling/unmarshalling of sort values.\r\n\r\nThat's it!\r\n\r\nI plan (pending feedback/approval) to add some javadocs to Lucene `FieldCacheSource` clarifying its uses, and change Lucene `JoinDocFreqValueSource` so that it no longer extends `FieldCacheSource` (I think it never should have). Assuming that goes as I anticipate, we'll be able to remove the special-case for `JoinDocFreqValueSource` in `SortSpecParsing`. If it doesn't go as I anticipate, will re-evaluate and decide how to proceed.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1117981849/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1118004145","html_url":"https://github.com/apache/solr/pull/835#issuecomment-1118004145","issue_url":"https://api.github.com/repos/apache/solr/issues/835","id":1118004145,"node_id":"IC_kwDOFFj3yM5Co2Ox","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T22:49:17Z","updated_at":"2022-05-04T22:49:17Z","author_association":"CONTRIBUTOR","body":"The rest of the Terms page ONLY has xml...    And since the xml output and the json output are really jsut the same, I don't think having both formats helps the readability.   I *could* see a case for just using JSON everywhere????","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1118004145/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1118255948","html_url":"https://github.com/apache/solr/pull/831#issuecomment-1118255948","issue_url":"https://api.github.com/repos/apache/solr/issues/831","id":1118255948,"node_id":"IC_kwDOFFj3yM5CpztM","user":{"login":"smoldenhauer-ish","id":54577793,"node_id":"MDQ6VXNlcjU0NTc3Nzkz","avatar_url":"https://avatars.githubusercontent.com/u/54577793?v=4","gravatar_id":"","url":"https://api.github.com/users/smoldenhauer-ish","html_url":"https://github.com/smoldenhauer-ish","followers_url":"https://api.github.com/users/smoldenhauer-ish/followers","following_url":"https://api.github.com/users/smoldenhauer-ish/following{/other_user}","gists_url":"https://api.github.com/users/smoldenhauer-ish/gists{/gist_id}","starred_url":"https://api.github.com/users/smoldenhauer-ish/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smoldenhauer-ish/subscriptions","organizations_url":"https://api.github.com/users/smoldenhauer-ish/orgs","repos_url":"https://api.github.com/users/smoldenhauer-ish/repos","events_url":"https://api.github.com/users/smoldenhauer-ish/events{/privacy}","received_events_url":"https://api.github.com/users/smoldenhauer-ish/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T07:35:20Z","updated_at":"2022-05-05T07:35:20Z","author_association":"CONTRIBUTOR","body":"I am still confused about the makePath I think the touchConfDir was only called/callable with an already existing configset node.\r\nI would like to avoid the throw - catch as I think it is bad in performance & style.\r\nI kindly suggest to use \"{}\".getBytes(StandardCharsets.UTF_8) as data instead of the 0 byte - because json is expected as data at the node later on.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1118255948/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1118389806","html_url":"https://github.com/apache/solr/pull/827#issuecomment-1118389806","issue_url":"https://api.github.com/repos/apache/solr/issues/827","id":1118389806,"node_id":"IC_kwDOFFj3yM5CqUYu","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T10:15:50Z","updated_at":"2022-05-05T10:15:50Z","author_association":"CONTRIBUTOR","body":"Closing in favour of other PRs with actual fix","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1118389806/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1118391027","html_url":"https://github.com/apache/solr/pull/707#issuecomment-1118391027","issue_url":"https://api.github.com/repos/apache/solr/issues/707","id":1118391027,"node_id":"IC_kwDOFFj3yM5CqUrz","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T10:17:20Z","updated_at":"2022-05-05T10:17:20Z","author_association":"CONTRIBUTOR","body":"Closing, as it was incompatible with consistent-versions","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1118391027/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1118392473","html_url":"https://github.com/apache/solr/pull/670#issuecomment-1118392473","issue_url":"https://api.github.com/repos/apache/solr/issues/670","id":1118392473,"node_id":"IC_kwDOFFj3yM5CqVCZ","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T10:19:23Z","updated_at":"2022-05-05T10:19:23Z","author_association":"CONTRIBUTOR","body":"Leaving this for a more general cleanup later, closing.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1118392473/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1118532307","html_url":"https://github.com/apache/solr/pull/831#issuecomment-1118532307","issue_url":"https://api.github.com/repos/apache/solr/issues/831","id":1118532307,"node_id":"IC_kwDOFFj3yM5Cq3LT","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T13:12:30Z","updated_at":"2022-05-05T13:12:30Z","author_association":"CONTRIBUTOR","body":"@smoldenhauer-ish fair enough. I updated the test to explicitly test for that ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1118532307/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1118535359","html_url":"https://github.com/apache/solr/pull/837#issuecomment-1118535359","issue_url":"https://api.github.com/repos/apache/solr/issues/837","id":1118535359,"node_id":"IC_kwDOFFj3yM5Cq36_","user":{"login":"magibney","id":6225104,"node_id":"MDQ6VXNlcjYyMjUxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/6225104?v=4","gravatar_id":"","url":"https://api.github.com/users/magibney","html_url":"https://github.com/magibney","followers_url":"https://api.github.com/users/magibney/followers","following_url":"https://api.github.com/users/magibney/following{/other_user}","gists_url":"https://api.github.com/users/magibney/gists{/gist_id}","starred_url":"https://api.github.com/users/magibney/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/magibney/subscriptions","organizations_url":"https://api.github.com/users/magibney/orgs","repos_url":"https://api.github.com/users/magibney/repos","events_url":"https://api.github.com/users/magibney/events{/privacy}","received_events_url":"https://api.github.com/users/magibney/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T13:15:08Z","updated_at":"2022-05-05T13:15:08Z","author_association":"CONTRIBUTOR","body":"Nice! I think there are other instances of this pattern that could probably be cleaned up in the same way. I checked a handful of these against the builds@solr mailing list search link you posted in the Jira and they seem to manifest similar errors:\r\n```\r\n> find solr -name '*.java' | xargs grep -l 'ZkClientClusterStateProvider\\.from('\r\nsolr/solrj/src/test/org/apache/solr/client/solrj/impl/CloudSolrClientMultiConstructorTest.java\r\nsolr/solrj/src/test/org/apache/solr/client/solrj/impl/CloudSolrClientBuilderTest.java\r\nsolr/solrj/src/test/org/apache/solr/client/solrj/impl/CloudHttp2SolrClientTest.java\r\nsolr/solrj/src/test/org/apache/solr/client/solrj/impl/CloudHttp2SolrClientBuilderTest.java\r\nsolr/solrj/src/test/org/apache/solr/client/solrj/impl/CloudSolrClientTest.java\r\nsolr/solrj/src/test/org/apache/solr/client/solrj/impl/CloudHttp2SolrClientMultiConstructorTest.java\r\n```","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1118535359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1118536280","html_url":"https://github.com/apache/solr/pull/837#issuecomment-1118536280","issue_url":"https://api.github.com/repos/apache/solr/issues/837","id":1118536280,"node_id":"IC_kwDOFFj3yM5Cq4JY","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T13:15:54Z","updated_at":"2022-05-05T13:15:54Z","author_association":"CONTRIBUTOR","body":"@magibney yup agreed - was looking at CloudHttp2SolrClientMultiConstructorTest next actually since I figured it was a similar problem.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1118536280/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1118551365","html_url":"https://github.com/apache/solr/pull/525#issuecomment-1118551365","issue_url":"https://api.github.com/repos/apache/solr/issues/525","id":1118551365,"node_id":"IC_kwDOFFj3yM5Cq71F","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T13:28:08Z","updated_at":"2022-05-05T13:28:08Z","author_association":"CONTRIBUTOR","body":"I brought this up to date with main. Will target 9.1 unless there are objections.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1118551365/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1118552500","html_url":"https://github.com/apache/solr/pull/837#issuecomment-1118552500","issue_url":"https://api.github.com/repos/apache/solr/issues/837","id":1118552500,"node_id":"IC_kwDOFFj3yM5Cq8G0","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T13:29:05Z","updated_at":"2022-05-05T13:29:05Z","author_association":"CONTRIBUTOR","body":"@magibney thanks updated the PR and jira to address all of the same pattern.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1118552500/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1118600466","html_url":"https://github.com/apache/solr/pull/831#issuecomment-1118600466","issue_url":"https://api.github.com/repos/apache/solr/issues/831","id":1118600466,"node_id":"IC_kwDOFFj3yM5CrH0S","user":{"login":"smoldenhauer-ish","id":54577793,"node_id":"MDQ6VXNlcjU0NTc3Nzkz","avatar_url":"https://avatars.githubusercontent.com/u/54577793?v=4","gravatar_id":"","url":"https://api.github.com/users/smoldenhauer-ish","html_url":"https://github.com/smoldenhauer-ish","followers_url":"https://api.github.com/users/smoldenhauer-ish/followers","following_url":"https://api.github.com/users/smoldenhauer-ish/following{/other_user}","gists_url":"https://api.github.com/users/smoldenhauer-ish/gists{/gist_id}","starred_url":"https://api.github.com/users/smoldenhauer-ish/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smoldenhauer-ish/subscriptions","organizations_url":"https://api.github.com/users/smoldenhauer-ish/orgs","repos_url":"https://api.github.com/users/smoldenhauer-ish/repos","events_url":"https://api.github.com/users/smoldenhauer-ish/events{/privacy}","received_events_url":"https://api.github.com/users/smoldenhauer-ish/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T14:08:00Z","updated_at":"2022-05-05T14:08:00Z","author_association":"CONTRIBUTOR","body":"Yes, looks fine for me, too","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1118600466/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1118956806","html_url":"https://github.com/apache/solr/pull/838#issuecomment-1118956806","issue_url":"https://api.github.com/repos/apache/solr/issues/838","id":1118956806,"node_id":"IC_kwDOFFj3yM5Cse0G","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T19:12:40Z","updated_at":"2022-05-05T19:12:40Z","author_association":"CONTRIBUTOR","body":"Thanks for looking into this. My bad to swallow that interruptedEx","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1118956806/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1118987748","html_url":"https://github.com/apache/solr/pull/818#issuecomment-1118987748","issue_url":"https://api.github.com/repos/apache/solr/issues/818","id":1118987748,"node_id":"IC_kwDOFFj3yM5CsmXk","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T19:52:26Z","updated_at":"2022-05-05T19:52:26Z","author_association":"CONTRIBUTOR","body":"So my overall comment at looking at the underlying cause of the \"out of order\" is that it would be more clear to move the closes that order matters closer to where they should be closed (nested try w/ resources or otherwise) instead of trying to do multiple close in a finally.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1118987748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1119448938","html_url":"https://github.com/apache/solr/pull/835#issuecomment-1119448938","issue_url":"https://api.github.com/repos/apache/solr/issues/835","id":1119448938,"node_id":"IC_kwDOFFj3yM5CuW9q","user":{"login":"atarora","id":5163715,"node_id":"MDQ6VXNlcjUxNjM3MTU=","avatar_url":"https://avatars.githubusercontent.com/u/5163715?v=4","gravatar_id":"","url":"https://api.github.com/users/atarora","html_url":"https://github.com/atarora","followers_url":"https://api.github.com/users/atarora/followers","following_url":"https://api.github.com/users/atarora/following{/other_user}","gists_url":"https://api.github.com/users/atarora/gists{/gist_id}","starred_url":"https://api.github.com/users/atarora/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atarora/subscriptions","organizations_url":"https://api.github.com/users/atarora/orgs","repos_url":"https://api.github.com/users/atarora/repos","events_url":"https://api.github.com/users/atarora/events{/privacy}","received_events_url":"https://api.github.com/users/atarora/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-06T09:55:40Z","updated_at":"2022-05-06T09:55:40Z","author_association":"CONTRIBUTOR","body":"> The rest of the Terms page ONLY has xml... And since the xml output and the json output are really jsut the same, I don't think having both formats helps the readability. I _could_ see a case for just using JSON everywhere????\r\n\r\nI removed the JSON, but the reason I added them both as I picked the example template from terms.ttf which has examples for both XML and JSON.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1119448938/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1119596486","html_url":"https://github.com/apache/solr/pull/814#issuecomment-1119596486","issue_url":"https://api.github.com/repos/apache/solr/issues/814","id":1119596486,"node_id":"IC_kwDOFFj3yM5Cu6_G","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-06T13:05:29Z","updated_at":"2022-05-06T13:05:29Z","author_association":"CONTRIBUTOR","body":"As described in the jira and here, the description and fix seems reasonable to me. I just don't know the code well enough in this part to say if this should go in.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1119596486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1119726466","html_url":"https://github.com/apache/solr/pull/840#issuecomment-1119726466","issue_url":"https://api.github.com/repos/apache/solr/issues/840","id":1119726466,"node_id":"IC_kwDOFFj3yM5CvauC","user":{"login":"madrob","id":1592330,"node_id":"MDQ6VXNlcjE1OTIzMzA=","avatar_url":"https://avatars.githubusercontent.com/u/1592330?v=4","gravatar_id":"","url":"https://api.github.com/users/madrob","html_url":"https://github.com/madrob","followers_url":"https://api.github.com/users/madrob/followers","following_url":"https://api.github.com/users/madrob/following{/other_user}","gists_url":"https://api.github.com/users/madrob/gists{/gist_id}","starred_url":"https://api.github.com/users/madrob/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/madrob/subscriptions","organizations_url":"https://api.github.com/users/madrob/orgs","repos_url":"https://api.github.com/users/madrob/repos","events_url":"https://api.github.com/users/madrob/events{/privacy}","received_events_url":"https://api.github.com/users/madrob/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-06T15:12:27Z","updated_at":"2022-05-06T15:12:27Z","author_association":"CONTRIBUTOR","body":"Relevant ideas from Mark's pass at this last year - https://github.com/markrmiller/solr/blob/reference_impl/solr/solrj/src/java/org/apache/solr/common/util/ExecutorUtil.java#L71-L97\r\n\r\nI think there's actually a bug in _his_ code regarding interrupt, but I do like throwing an exception if we fail to shut down. This is the sort of thing that should probably fail loudly instead of going away quietly?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1119726466/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1119730026","html_url":"https://github.com/apache/solr/pull/840#issuecomment-1119730026","issue_url":"https://api.github.com/repos/apache/solr/issues/840","id":1119730026,"node_id":"IC_kwDOFFj3yM5Cvblq","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-06T15:16:30Z","updated_at":"2022-05-06T15:16:30Z","author_association":"CONTRIBUTOR","body":"@madrob agreed would be nice to throw an exception potentially. Thanks for the reference as well looks plausible and shortens the shutdown time if things behave.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1119730026/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1119732351","html_url":"https://github.com/apache/solr/pull/839#issuecomment-1119732351","issue_url":"https://api.github.com/repos/apache/solr/issues/839","id":1119732351,"node_id":"IC_kwDOFFj3yM5CvcJ_","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-06T15:19:03Z","updated_at":"2022-05-06T15:19:03Z","author_association":"CONTRIBUTOR","body":"> Does this need to wait for https://github.com/apache/solr/pull/840 or do you want to commit now?\r\n\r\nthis doesn't need to wait. I think I may have also found another subtle bug in the http2 solr client that could be related to these thread leaks. I'm running tests and it will be a separate PR.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1119732351/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1119873442","html_url":"https://github.com/apache/solr/pull/841#issuecomment-1119873442","issue_url":"https://api.github.com/repos/apache/solr/issues/841","id":1119873442,"node_id":"IC_kwDOFFj3yM5Cv-mi","user":{"login":"magibney","id":6225104,"node_id":"MDQ6VXNlcjYyMjUxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/6225104?v=4","gravatar_id":"","url":"https://api.github.com/users/magibney","html_url":"https://github.com/magibney","followers_url":"https://api.github.com/users/magibney/followers","following_url":"https://api.github.com/users/magibney/following{/other_user}","gists_url":"https://api.github.com/users/magibney/gists{/gist_id}","starred_url":"https://api.github.com/users/magibney/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/magibney/subscriptions","organizations_url":"https://api.github.com/users/magibney/orgs","repos_url":"https://api.github.com/users/magibney/repos","events_url":"https://api.github.com/users/magibney/events{/privacy}","received_events_url":"https://api.github.com/users/magibney/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-06T18:20:49Z","updated_at":"2022-05-06T18:20:49Z","author_association":"CONTRIBUTOR","body":"LGTM. I was looking at SOLR-16046 as well and opened #842, which I think should complement this PR nicely.\r\n\r\nOne thing I found myself wondering, wrt the `killer` thread as it exists on `main` at the moment (and as it has existed since its inception): why is it a separate thread at all?\r\n\r\n```java\r\nThread t = new Thread(() -> doStuff());\r\nt.start();\r\nt.join();\r\n```\r\n... why not just do?:\r\n```java\r\ndoStuff();\r\n```\r\nIt should execute in the same order, unless there's something \"magical\" about this being done from a different thread?\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1119873442/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1119886878","html_url":"https://github.com/apache/solr/pull/841#issuecomment-1119886878","issue_url":"https://api.github.com/repos/apache/solr/issues/841","id":1119886878,"node_id":"IC_kwDOFFj3yM5CwB4e","user":{"login":"madrob","id":1592330,"node_id":"MDQ6VXNlcjE1OTIzMzA=","avatar_url":"https://avatars.githubusercontent.com/u/1592330?v=4","gravatar_id":"","url":"https://api.github.com/users/madrob","html_url":"https://github.com/madrob","followers_url":"https://api.github.com/users/madrob/followers","following_url":"https://api.github.com/users/madrob/following{/other_user}","gists_url":"https://api.github.com/users/madrob/gists{/gist_id}","starred_url":"https://api.github.com/users/madrob/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/madrob/subscriptions","organizations_url":"https://api.github.com/users/madrob/orgs","repos_url":"https://api.github.com/users/madrob/repos","events_url":"https://api.github.com/users/madrob/events{/privacy}","received_events_url":"https://api.github.com/users/madrob/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-06T18:32:58Z","updated_at":"2022-05-06T18:32:58Z","author_association":"CONTRIBUTOR","body":"I'm glad you were looking at this. I had started some work on it locally on top of Houston's prior work (#690), that I just pushed up to https://github.com/madrob/solr/commits/zk-expiry-test so that we can compare notes. My tests were still failing though, IIRC with some new and exciting thread leaks and also some of the original ones that I couldn't reliably reproduce but would happen occasionally. So what you have is probably better. I'll pull your code down and try to run tests on it a few [hundred] times.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1119886878/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1120497850","html_url":"https://github.com/apache/solr/pull/845#issuecomment-1120497850","issue_url":"https://api.github.com/repos/apache/solr/issues/845","id":1120497850,"node_id":"IC_kwDOFFj3yM5CyXC6","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-08T22:28:14Z","updated_at":"2022-05-08T22:28:14Z","author_association":"CONTRIBUTOR","body":"Docs: https://gitlab.com/antora/antora-lunr-extension","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1120497850/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1120805121","html_url":"https://github.com/apache/solr/pull/844#issuecomment-1120805121","issue_url":"https://api.github.com/repos/apache/solr/issues/844","id":1120805121,"node_id":"IC_kwDOFFj3yM5CziEB","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-09T08:31:58Z","updated_at":"2022-05-09T08:31:58Z","author_association":"CONTRIBUTOR","body":"> So in reference to [apache/solr-site#77](https://github.com/apache/solr-site/pull/77), we might be able to keep this line now? (Since all versions will be in the drop-down)\r\n\r\nI have thought the same thing. Sounds logical to end up with the start page of the latest guide when visiting `/guide`... Then we can remove that index page in solr-site.\r\n\r\nHowever, if we anticipate other guides (such as solr-operator and perhaps solr-exporter?) to be added later, I wonder if `/guide/solr/` would be a better \"landing page\" for the Ref Guide. Now, when you click the heading in top left corner of the guide, you are redirected to `/guide`, but if we also have `/guide/operator/` then it makes more sense to let that text link to `/guide/solr/`.\r\n\r\nAlso, I discovered that the ref-guide places the JS, CSS etc in `/guide/_/` which will totally break down if we add other antora sites alongside it?? Or will the \"operator guide\" be a module of the same Solr Ref guide, pulled from a different git repo?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1120805121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1121119336","html_url":"https://github.com/apache/solr/pull/844#issuecomment-1121119336","issue_url":"https://api.github.com/repos/apache/solr/issues/844","id":1121119336,"node_id":"IC_kwDOFFj3yM5C0uxo","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-09T13:41:47Z","updated_at":"2022-05-09T13:41:47Z","author_association":"CONTRIBUTOR","body":"> However, if we anticipate other guides (such as solr-operator and perhaps solr-exporter?) to be added later, I wonder if `/guide/solr/` would be a better \"landing page\" for the Ref Guide. Now, when you click the heading in top left corner of the guide, you are redirected to `/guide`, but if we also have `/guide/operator/` then it makes more sense to let that text link to `/guide/solr/`.\r\n\r\nYeah, we should definitely update the buttons to go to `/guide/solr` (and `/guide/operator` when that exists). I don't think it's a huge issue to make the \"landing page\" default to the solr guide when users go to solr.apache.org/guide. We can make the intro-page better and give information and link to the Solr Operator guide as well, so that users can easily find it if that's what they are looking for.\r\n\r\n> Also, I discovered that the ref-guide places the JS, CSS etc in `/guide/_/` which will totally break down if we add other antora sites alongside it?? Or will the \"operator guide\" be a module of the same Solr Ref guide, pulled from a different git repo?\r\n\r\nYep, it will be a module of the same Solr Ref guide, pulled in from the solr-operator repo. Not sure exactly how the workflow will go, but it will be done as intended in antora.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1121119336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1121184783","html_url":"https://github.com/apache/solr/pull/488#issuecomment-1121184783","issue_url":"https://api.github.com/repos/apache/solr/issues/488","id":1121184783,"node_id":"IC_kwDOFFj3yM5C0-wP","user":{"login":"arobinski","id":10772621,"node_id":"MDQ6VXNlcjEwNzcyNjIx","avatar_url":"https://avatars.githubusercontent.com/u/10772621?v=4","gravatar_id":"","url":"https://api.github.com/users/arobinski","html_url":"https://github.com/arobinski","followers_url":"https://api.github.com/users/arobinski/followers","following_url":"https://api.github.com/users/arobinski/following{/other_user}","gists_url":"https://api.github.com/users/arobinski/gists{/gist_id}","starred_url":"https://api.github.com/users/arobinski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arobinski/subscriptions","organizations_url":"https://api.github.com/users/arobinski/orgs","repos_url":"https://api.github.com/users/arobinski/repos","events_url":"https://api.github.com/users/arobinski/events{/privacy}","received_events_url":"https://api.github.com/users/arobinski/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-09T14:33:42Z","updated_at":"2022-05-09T14:33:42Z","author_association":"NONE","body":"I'm closing the pull request. I don't know how to properly develop the fix and I didn't receive enough guidance.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1121184783/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1121351598","html_url":"https://github.com/apache/solr/pull/488#issuecomment-1121351598","issue_url":"https://api.github.com/repos/apache/solr/issues/488","id":1121351598,"node_id":"IC_kwDOFFj3yM5C1neu","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-09T17:02:50Z","updated_at":"2022-05-09T17:02:50Z","author_association":"CONTRIBUTOR","body":"Self assigning and reopening for another iteration.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1121351598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1121641300","html_url":"https://github.com/apache/solr/pull/846#issuecomment-1121641300","issue_url":"https://api.github.com/repos/apache/solr/issues/846","id":1121641300,"node_id":"IC_kwDOFFj3yM5C2uNU","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-09T22:22:04Z","updated_at":"2022-05-09T22:22:30Z","author_association":"CONTRIBUTOR","body":"I can't really give a review on this PR as I don't know Antorra.\r\n\r\nIf you want by comment: I don't think this will change Google's ranking, there are pros and cons:\r\n- haveing a stable \"latest\" version link is good because longer living pages may appear on top of serach results, so people will use them. But there may also be teh problem of older links disappearing von Google, because they are no longer referenced: When they are live they are redirceted to \"latest\". Once they are no longer alive they are invisible, unless we link them explicit.\r\n- always redirecting to \"latest\" seems bad to me, as it makes it impossible to add permlinks. Or is there the possibility to get some \"permlink\" button on each page? So somebody citing a specific page can make a persistent link?\r\n\r\nSo I am mixed feelings. As coming from \"science\" where persistent URLs for each verison are important, I tend to think that redirecting to \"latest\" is not best idea. From a business person opinion of course linking to latest is fine.\r\n\r\nIf both works: No redirect and both pages are visible next to each other with separate URLs, I would be happy. But the page should have a \"canonic url\" meta header to inform Google about the duplicates and which version is the one to \"bookmark\" (the versioned one).","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1121641300/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1121642960","html_url":"https://github.com/apache/solr/pull/846#issuecomment-1121642960","issue_url":"https://api.github.com/repos/apache/solr/issues/846","id":1121642960,"node_id":"IC_kwDOFFj3yM5C2unQ","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-09T22:24:57Z","updated_at":"2022-05-09T22:24:57Z","author_association":"CONTRIBUTOR","body":"See: https://developers.google.com/search/docs/advanced/crawling/consolidate-duplicate-urls?hl=en#define-canonical","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1121642960/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1121794524","html_url":"https://github.com/apache/solr/pull/847#issuecomment-1121794524","issue_url":"https://api.github.com/repos/apache/solr/issues/847","id":1121794524,"node_id":"IC_kwDOFFj3yM5C3Tnc","user":{"login":"atris","id":1724131,"node_id":"MDQ6VXNlcjE3MjQxMzE=","avatar_url":"https://avatars.githubusercontent.com/u/1724131?v=4","gravatar_id":"","url":"https://api.github.com/users/atris","html_url":"https://github.com/atris","followers_url":"https://api.github.com/users/atris/followers","following_url":"https://api.github.com/users/atris/following{/other_user}","gists_url":"https://api.github.com/users/atris/gists{/gist_id}","starred_url":"https://api.github.com/users/atris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atris/subscriptions","organizations_url":"https://api.github.com/users/atris/orgs","repos_url":"https://api.github.com/users/atris/repos","events_url":"https://api.github.com/users/atris/events{/privacy}","received_events_url":"https://api.github.com/users/atris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-10T02:11:49Z","updated_at":"2022-05-10T02:11:49Z","author_association":"CONTRIBUTOR","body":"Thanks for taking a shot at this!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1121794524/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1122102781","html_url":"https://github.com/apache/solr/pull/846#issuecomment-1122102781","issue_url":"https://api.github.com/repos/apache/solr/issues/846","id":1122102781,"node_id":"IC_kwDOFFj3yM5C4e39","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-10T08:41:03Z","updated_at":"2022-05-10T08:41:03Z","author_association":"CONTRIBUTOR","body":"Ideally I'd also want that both '9_0' and 'latest' will work, but I cannot see that as a choice at https://docs.antora.org/antora/latest/playbook/urls-latest-version-segment-strategy/#key?\r\n\r\nAntora supports canonical URL header: https://docs.antora.org/antora/latest/playbook/site-url/#canonical-url which is good news, so if we redirect to \"latest\", but canonical remains \"9_0\" then we could be good?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1122102781/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1122407472","html_url":"https://github.com/apache/solr/pull/842#issuecomment-1122407472","issue_url":"https://api.github.com/repos/apache/solr/issues/842","id":1122407472,"node_id":"IC_kwDOFFj3yM5C5pQw","user":{"login":"magibney","id":6225104,"node_id":"MDQ6VXNlcjYyMjUxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/6225104?v=4","gravatar_id":"","url":"https://api.github.com/users/magibney","html_url":"https://github.com/magibney","followers_url":"https://api.github.com/users/magibney/followers","following_url":"https://api.github.com/users/magibney/following{/other_user}","gists_url":"https://api.github.com/users/magibney/gists{/gist_id}","starred_url":"https://api.github.com/users/magibney/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/magibney/subscriptions","organizations_url":"https://api.github.com/users/magibney/orgs","repos_url":"https://api.github.com/users/magibney/repos","events_url":"https://api.github.com/users/magibney/events{/privacy}","received_events_url":"https://api.github.com/users/magibney/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-10T13:37:16Z","updated_at":"2022-05-10T13:37:16Z","author_association":"CONTRIBUTOR","body":"Thanks @risdenk! Both the \"SolrZooKeeper\" and the always-synchronous close() are codependent, iiuc. My hesitance to go full \"blocking close()\" across the board comes down to the fact that introducing a blocking method introduces new possibilities for actual _deadlock_. Paired with my [increasing sense that this may be chasing an issue of very little practical significance](https://issues.apache.org/jira/browse/SOLR-15660?focusedCommentId=17533066#comment-17533066), I'm not sure it's worth the risk to make any change at all here unless we're reasonably certain that the possibility for deadlock is adequately covered by existing tests, and/or we anticipate more substantial benefits than just \"avoiding test failures for short-lived thread leaks\" -- ThreadLeakLinger would avoid test failures, and may well be entirely appropriate in this case.\r\n\r\nI guess the way I'm thinking about this now: this is a \"real\" issue, but not necessarily a significant one, and the fix carries its own risks (arguably more significant -- deadlock -- than the risks of the existing issue). I'd like to get some consensus over whether there are any benefits (e.g., avoiding Zk reconnect storms/thrashing?) to a synchronous approach to close().\r\n\r\nIf there's consensus that making ZooKeeper.close() synchronous across the board is likely the correct way to go, I'm fine with that (probably following the SolrZooKeeper approach you suggested). We could let it bake for a while before porting to a release branch.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1122407472/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1122620226","html_url":"https://github.com/apache/solr/pull/840#issuecomment-1122620226","issue_url":"https://api.github.com/repos/apache/solr/issues/840","id":1122620226,"node_id":"IC_kwDOFFj3yM5C6dNC","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-10T16:29:53Z","updated_at":"2022-05-10T16:29:53Z","author_association":"CONTRIBUTOR","body":"So fun fact - https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html has the same example of this:\r\n\r\n```\r\nvoid shutdownAndAwaitTermination(ExecutorService pool) {\r\n   pool.shutdown(); // Disable new tasks from being submitted\r\n   try {\r\n     // Wait a while for existing tasks to terminate\r\n     if (!pool.awaitTermination(60, TimeUnit.SECONDS)) {\r\n       pool.shutdownNow(); // Cancel currently executing tasks\r\n       // Wait a while for tasks to respond to being cancelled\r\n       if (!pool.awaitTermination(60, TimeUnit.SECONDS))\r\n           System.err.println(\"Pool did not terminate\");\r\n     }\r\n   } catch (InterruptedException ex) {\r\n     // (Re-)Cancel if current thread also interrupted\r\n     pool.shutdownNow();\r\n     // Preserve interrupt status\r\n     Thread.currentThread().interrupt();\r\n   }\r\n }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1122620226/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1122812988","html_url":"https://github.com/apache/solr/pull/849#issuecomment-1122812988","issue_url":"https://api.github.com/repos/apache/solr/issues/849","id":1122812988,"node_id":"IC_kwDOFFj3yM5C7MQ8","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-10T20:08:31Z","updated_at":"2022-05-10T20:08:31Z","author_association":"CONTRIBUTOR","body":"thanks for doing this!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1122812988/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1123079934","html_url":"https://github.com/apache/solr/pull/814#issuecomment-1123079934","issue_url":"https://api.github.com/repos/apache/solr/issues/814","id":1123079934,"node_id":"IC_kwDOFFj3yM5C8Nb-","user":{"login":"magibney","id":6225104,"node_id":"MDQ6VXNlcjYyMjUxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/6225104?v=4","gravatar_id":"","url":"https://api.github.com/users/magibney","html_url":"https://github.com/magibney","followers_url":"https://api.github.com/users/magibney/followers","following_url":"https://api.github.com/users/magibney/following{/other_user}","gists_url":"https://api.github.com/users/magibney/gists{/gist_id}","starred_url":"https://api.github.com/users/magibney/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/magibney/subscriptions","organizations_url":"https://api.github.com/users/magibney/orgs","repos_url":"https://api.github.com/users/magibney/repos","events_url":"https://api.github.com/users/magibney/events{/privacy}","received_events_url":"https://api.github.com/users/magibney/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-11T01:26:12Z","updated_at":"2022-05-11T01:26:12Z","author_association":"CONTRIBUTOR","body":"Pending feedback/objections, I plan to merge this in the coming week.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1123079934/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1123190341","html_url":"https://github.com/apache/solr/pull/772#issuecomment-1123190341","issue_url":"https://api.github.com/repos/apache/solr/issues/772","id":1123190341,"node_id":"IC_kwDOFFj3yM5C8oZF","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-11T05:05:47Z","updated_at":"2022-05-11T05:05:47Z","author_association":"CONTRIBUTOR","body":"I'm not sure allowing 4 is in the spirit of the test's purpose.  Instead, I think the assertion should be re-attempted after some time.  I tried this locally:\r\n```java\r\n  private void assertEventually(int upToTime, TimeUnit unit, Runnable task) {\r\n    final long startNanos = System.nanoTime();\r\n    for (int attempt = 1; true; attempt++) {\r\n      try {\r\n        task.run();\r\n      } catch (AssertionError | RuntimeException e) {\r\n        final long elapsedNanos = System.nanoTime() - startNanos;\r\n        final long remainingNanos = unit.toNanos(upToTime) - elapsedNanos;\r\n        if (remainingNanos <= 0) {\r\n          throw e;\r\n        }\r\n        try {\r\n          // sleep with exponential back-off.  Don't exceed remaining time. Not shorter than 5 ms.\r\n          final long sleepNanos = Math.min(Math.max(5000, elapsedNanos), remainingNanos);\r\n          Thread.sleep(TimeUnit.NANOSECONDS.toMillis(sleepNanos));\r\n        } catch (InterruptedException ie) {\r\n          throw e; // throw original exception, not the interrupted one\r\n        }\r\n        System.err.println(\"Retry attempt \" + attempt);\r\n        continue; // try again\r\n      }\r\n      return; // success!\r\n    }\r\n  }\r\n```\r\n\r\nAnd debugged it a bit to ensure it does what it's supposed to do.  I think this will work for this scenario and we could even add this utility method somewhere if we want it elsewhere.  The name is debatable; could be retryUntil.  I found `org.apache.solr.common.util.RetryUtil` which is pretty similar.  Come to think of it, maybe we should just call that existing code -- `retryUntil` ?\r\n\r\n(I debated to create a whole new PR or push commits reverting your change, or to just comment here so I just put here as a comment for now)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1123190341/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1123319707","html_url":"https://github.com/apache/solr/pull/846#issuecomment-1123319707","issue_url":"https://api.github.com/repos/apache/solr/issues/846","id":1123319707,"node_id":"IC_kwDOFFj3yM5C9H-b","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-11T08:03:23Z","updated_at":"2022-05-11T08:09:51Z","author_association":"CONTRIBUTOR","body":"> Antora supports canonical URL header: https://docs.antora.org/antora/latest/playbook/site-url/#canonical-url which is good news, so if we redirect to \"latest\", but canonical remains \"9_0\" then we could be good?\r\n\r\nMaybe do it the other way round: If the canonical URL is always \"latest\"  (as described in the documentation), then Google would forget all old versions and only show links to latest. Thats actually a good thing and would solve our problems. \r\n\r\nWe should maybe think of patching all old pages with a canonical link, too. Or much better instead of patching, we could add a HTTP \"Link:\" header (see Google Docs above) to the `.htaccess` where we maybe link all 8.x pages to latest 8.11 refguide on the HTTP level. Same for 7.x and 6.x. This would at least remove all variants from google except the latets version of each major release.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1123319707/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1123772369","html_url":"https://github.com/apache/solr/pull/851#issuecomment-1123772369","issue_url":"https://api.github.com/repos/apache/solr/issues/851","id":1123772369,"node_id":"IC_kwDOFFj3yM5C-2fR","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-11T13:35:52Z","updated_at":"2022-05-11T13:35:52Z","author_association":"CONTRIBUTOR","body":"Thanks @anshumg . I committed a bunch of adjustments, and will now merge and backport so it is ready for release.\r\nPlease open further PRs for followup edits.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1123772369/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1123940021","html_url":"https://github.com/apache/solr/pull/854#issuecomment-1123940021","issue_url":"https://api.github.com/repos/apache/solr/issues/854","id":1123940021,"node_id":"IC_kwDOFFj3yM5C_fa1","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-11T15:36:27Z","updated_at":"2022-05-11T15:36:27Z","author_association":"CONTRIBUTOR","body":"Hmm, since I ran this manually this time, I copied the text from Terminal. But the wizard actually *abbreviates* paths when outputting to Terminal or to Asciidoc. The command that the wizard would actually run could very well use fully expanded path, not sure. So the main issue here may be that the command printed in Terminal and Asciidoc will not actually work if you copy/paste it. To fix that, we'd need a fix in the upload-maven.sh script itself...","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1123940021/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1123943089","html_url":"https://github.com/apache/solr/pull/846#issuecomment-1123943089","issue_url":"https://api.github.com/repos/apache/solr/issues/846","id":1123943089,"node_id":"IC_kwDOFFj3yM5C_gKx","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-11T15:39:32Z","updated_at":"2022-05-11T15:39:32Z","author_association":"CONTRIBUTOR","body":"> Maybe do it the other way round: If the canonical URL is always \"latest\" (as described in the documentation), then Google would forget all old versions and only show links to latest. Thats actually a good thing and would solve our problems.\r\n\r\n+1, we want `latest` to be in the google results.\r\n\r\nI have tested this, and the current logic will set the canonical link to `latest`, not `9_0`. The version selection tool also links to the correct name of the page in each version, [if the page has been renamed](https://docs.antora.org/antora/latest/page/page-aliases/#page-aliases-attribute). So this is exactly the logic that we want.\r\n\r\n> * always redirecting to \"latest\" seems bad to me, as it makes it impossible to add permlinks. Or is there the possibility to get some \"permlink\" button on each page? So somebody citing a specific page can make a persistent link?\r\n\r\nWe should certainly add this and it shouldn't be hard to do. I am often annoyed with the AWS docs, trying to link to the specific latest version.\r\n\r\n> We should maybe think of patching all old pages with a canonical link, too. Or much better instead of patching, we could add a HTTP \"Link:\" header (see Google Docs above) to the `.htaccess` where we maybe link all 8.x pages to latest 8.11 refguide on the HTTP level. Same for 7.x and 6.x. This would at least remove all variants from google except the latets version of each major release.\r\n\r\nWe definitely need to do something about the Solr 6-8 releases. Generally only the pages that don't exist in `latest` (after redirects) should be indexed in Google. I think that will be hard to do in general, though we can go back and do it. In my opinion, we can probably do a blanket `robots` file that says don't index the old ref-guide pages. It will make some information not searchable, but there should be very few pages that have been removed before 9.0\r\n\r\nSomewhat sane suggestion: We make a `robots.txt` that disallows scrapping all 6-8 ref guides. Then we create exceptions for the pages that have been removed in a certain version. So if a page (like autoscaling) was removed in 9.0, we create an exception that allows scraping `old-guide/8_11/autoscaling.html`, if a page was removed in 8.5, we allow `old-guide/8_4/page.html`. There shouldn't be too many of these pages, so we can go through and add the exceptions manually.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1123943089/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1123949073","html_url":"https://github.com/apache/solr/pull/846#issuecomment-1123949073","issue_url":"https://api.github.com/repos/apache/solr/issues/846","id":1123949073,"node_id":"IC_kwDOFFj3yM5C_hoR","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-11T15:45:17Z","updated_at":"2022-05-11T15:45:17Z","author_association":"CONTRIBUTOR","body":"I have a list of pages that once existed but no longer does in 9.0:\r\nhttps://github.com/apache/solr/pull/596/files#diff-ebf3a521b24b4139995e9e70b7aeffc202df3152e84f4dd46d17d6649f343834R97","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1123949073/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1124003233","html_url":"https://github.com/apache/solr/pull/846#issuecomment-1124003233","issue_url":"https://api.github.com/repos/apache/solr/issues/846","id":1124003233,"node_id":"IC_kwDOFFj3yM5C_u2h","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-11T16:39:14Z","updated_at":"2022-05-11T16:39:43Z","author_association":"CONTRIBUTOR","body":"A robots.txt to hide the old releases looks like a good idea. We can just link all URL prefixes and we're done. Exlicitely allowing some older pages could also be done.\r\n\r\nInstead of an old-style robots.txt we may also use a `<locationMatch ^/guide/(6|7|8)_>` to the htaccess with `addHeader \"X-Robots-Tag: noindex,nofollow,noarchive\"` (noindex should be enough, we can still allow Google to follow links or archive).","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1124003233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1124140943","html_url":"https://github.com/apache/solr/pull/846#issuecomment-1124140943","issue_url":"https://api.github.com/repos/apache/solr/issues/846","id":1124140943,"node_id":"IC_kwDOFFj3yM5DAQeP","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-11T18:17:48Z","updated_at":"2022-05-11T18:17:48Z","author_association":"CONTRIBUTOR","body":"> Instead of an old-style robots.txt we may also use a `<locationMatch ^/guide/(6|7|8)_>` to the htaccess with `addHeader \"X-Robots-Tag: noindex,nofollow,noarchive\"` (noindex should be enough, we can still allow Google to follow links or archive).\r\n\r\nYes I was actually about to start implementing this. I think it's the way to go.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1124140943/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1124170974","html_url":"https://github.com/apache/solr/pull/846#issuecomment-1124170974","issue_url":"https://api.github.com/repos/apache/solr/issues/846","id":1124170974,"node_id":"IC_kwDOFFj3yM5DAXze","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-11T18:46:08Z","updated_at":"2022-05-11T18:46:08Z","author_association":"CONTRIBUTOR","body":"Ok I have this: https://github.com/apache/solr/pull/596/commits/78ecec9d1b03b9f4cd2b958cf326899733d5a7b8\r\n\r\nIt'll be an absolute pain to test, and I'm sure it doesn't work out-of-the box. But it's not required for the 9.0 release, so we can tinker with it.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1124170974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1124192880","html_url":"https://github.com/apache/solr/pull/846#issuecomment-1124192880","issue_url":"https://api.github.com/repos/apache/solr/issues/846","id":1124192880,"node_id":"IC_kwDOFFj3yM5DAdJw","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-11T19:12:06Z","updated_at":"2022-05-11T19:12:53Z","author_association":"CONTRIBUTOR","body":"Ich think you should be able to do some tests with `curl -I testurl` on the staging site and check for (non-)existence of header.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1124192880/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1124196500","html_url":"https://github.com/apache/solr/pull/846#issuecomment-1124196500","issue_url":"https://api.github.com/repos/apache/solr/issues/846","id":1124196500,"node_id":"IC_kwDOFFj3yM5DAeCU","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-11T19:16:29Z","updated_at":"2022-05-11T19:16:29Z","author_association":"CONTRIBUTOR","body":"> Ich think you should be able to do some tests with `curl -I testurl` on the staging site and check for (non-)existence of header.\r\n\r\nI was able to test `.htaccess` locally during my PR effort with docker like this:\r\n```bash\r\ndocker run --rm --name httpd -p 8000:80 -v /Users/janhoy/git/solr-site/output:/usr/local/apache2/htdocs/ -v $(pwd)/my-httpd.conf:/usr/local/apache2/conf/httpd.conf httpd\r\n```","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1124196500/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1124747407","html_url":"https://github.com/apache/solr/pull/596#issuecomment-1124747407","issue_url":"https://api.github.com/repos/apache/solr/issues/596","id":1124747407,"node_id":"IC_kwDOFFj3yM5DCkiP","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-12T09:31:14Z","updated_at":"2022-05-12T09:31:14Z","author_association":"CONTRIBUTOR","body":"Brought this up to date with latest bugfix. Should we perhaps merge it, so it can be used as basis for a future similar endeavor?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1124747407/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1124810344","html_url":"https://github.com/apache/solr/pull/749#issuecomment-1124810344","issue_url":"https://api.github.com/repos/apache/solr/issues/749","id":1124810344,"node_id":"IC_kwDOFFj3yM5DCz5o","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-12T10:10:50Z","updated_at":"2022-05-12T10:10:50Z","author_association":"CONTRIBUTOR","body":"@dsmiley I'm happy to defer this, not to conflict with @haythemkh 's work. Will revisit after merge of 584 if anything is left to do.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1124810344/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1125007411","html_url":"https://github.com/apache/solr/pull/846#issuecomment-1125007411","issue_url":"https://api.github.com/repos/apache/solr/issues/846","id":1125007411,"node_id":"IC_kwDOFFj3yM5DDkAz","user":{"login":"magibney","id":6225104,"node_id":"MDQ6VXNlcjYyMjUxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/6225104?v=4","gravatar_id":"","url":"https://api.github.com/users/magibney","html_url":"https://github.com/magibney","followers_url":"https://api.github.com/users/magibney/followers","following_url":"https://api.github.com/users/magibney/following{/other_user}","gists_url":"https://api.github.com/users/magibney/gists{/gist_id}","starred_url":"https://api.github.com/users/magibney/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/magibney/subscriptions","organizations_url":"https://api.github.com/users/magibney/orgs","repos_url":"https://api.github.com/users/magibney/repos","events_url":"https://api.github.com/users/magibney/events{/privacy}","received_events_url":"https://api.github.com/users/magibney/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-12T13:38:05Z","updated_at":"2022-05-12T13:38:05Z","author_association":"CONTRIBUTOR","body":"I realize this PR is merged (and thanks!), but I have a couple of questions that follow logically on the conversation here, so:\r\n1. Noticing that we don't have (and haven't historically had, I think) an old-style `robots.txt`, I wonder: is old-style `robots.txt` completely obviated? i.e., should we not bother having one?\r\n2. Sitemap.xml is being generated I think, and is [present in nightlies](https://nightlies.apache.org/solr/draft-guides/solr-reference-guide-nightly/sitemap.xml). But it doesn't appear to be accessible on the main site. I think it was previously present. Is there still a purpose served by sitemap.xml? Currently the nightlies version looks like it points to all (antora) versions -- I'm not sure whether we'd want to pare down the referenced pages to make sitemap.xml a proper complement to \"canonical, no-index/no-follow/no-archive\" approach taken by this PR?\r\n3. If sitemap.xml is still relevant and we want to make it accessible, I think the sitemap spec calls for sitemap.xml to be referenced from an old-style robots.txt ... I'm not aware of other/newer approaches to referencing sitemap.xml.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1125007411/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1125488745","html_url":"https://github.com/apache/solr/pull/859#issuecomment-1125488745","issue_url":"https://api.github.com/repos/apache/solr/issues/859","id":1125488745,"node_id":"IC_kwDOFFj3yM5DFZhp","user":{"login":"madrob","id":1592330,"node_id":"MDQ6VXNlcjE1OTIzMzA=","avatar_url":"https://avatars.githubusercontent.com/u/1592330?v=4","gravatar_id":"","url":"https://api.github.com/users/madrob","html_url":"https://github.com/madrob","followers_url":"https://api.github.com/users/madrob/followers","following_url":"https://api.github.com/users/madrob/following{/other_user}","gists_url":"https://api.github.com/users/madrob/gists{/gist_id}","starred_url":"https://api.github.com/users/madrob/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/madrob/subscriptions","organizations_url":"https://api.github.com/users/madrob/orgs","repos_url":"https://api.github.com/users/madrob/repos","events_url":"https://api.github.com/users/madrob/events{/privacy}","received_events_url":"https://api.github.com/users/madrob/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-12T22:52:50Z","updated_at":"2022-05-12T22:52:50Z","author_association":"CONTRIBUTOR","body":"Are there two version selectors now? ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1125488745/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1125490044","html_url":"https://github.com/apache/solr/pull/859#issuecomment-1125490044","issue_url":"https://api.github.com/repos/apache/solr/issues/859","id":1125490044,"node_id":"IC_kwDOFFj3yM5DFZ18","user":{"login":"madrob","id":1592330,"node_id":"MDQ6VXNlcjE1OTIzMzA=","avatar_url":"https://avatars.githubusercontent.com/u/1592330?v=4","gravatar_id":"","url":"https://api.github.com/users/madrob","html_url":"https://github.com/madrob","followers_url":"https://api.github.com/users/madrob/followers","following_url":"https://api.github.com/users/madrob/following{/other_user}","gists_url":"https://api.github.com/users/madrob/gists{/gist_id}","starred_url":"https://api.github.com/users/madrob/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/madrob/subscriptions","organizations_url":"https://api.github.com/users/madrob/orgs","repos_url":"https://api.github.com/users/madrob/repos","events_url":"https://api.github.com/users/madrob/events{/privacy}","received_events_url":"https://api.github.com/users/madrob/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-12T22:55:36Z","updated_at":"2022-05-12T22:55:36Z","author_association":"CONTRIBUTOR","body":"Where do the new files come from? Copied from the same Antora default templates?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1125490044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1125491836","html_url":"https://github.com/apache/solr/pull/859#issuecomment-1125491836","issue_url":"https://api.github.com/repos/apache/solr/issues/859","id":1125491836,"node_id":"IC_kwDOFFj3yM5DFaR8","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-12T22:59:28Z","updated_at":"2022-05-17T15:16:03Z","author_association":"CONTRIBUTOR","body":"> Are there two version selectors now?\r\n\r\nthere always have been. I just made each more prominent.\r\n\r\nNote: There are only 2 whenever there are multiple versions for a file. Therefore when we release 9.1, most pages will have the second selector. This will not include the ref guide versions before 9, because it's links created by Antora to map through the history of a page, even if that page's name has changed.\r\n\r\nThe selector on the left is just selecting the version of the ref guide to look at, it will always redirect you to the home page for that version, not keeping the page that you are currently looking at.\r\n\r\nThis is the current functionality of both selectors, I haven't changed that at all. Just positioning and colors.\r\n\r\n\r\n> Where do the new files come from? Copied from the same Antora default templates?\r\n\r\nyes, (almost) all files in ui-src are copied from the antora template and modified. I have made sure that all changes, additions and removals are noted, so that we can upgrade these files in the future.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1125491836/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1126493386","html_url":"https://github.com/apache/solr/pull/857#issuecomment-1126493386","issue_url":"https://api.github.com/repos/apache/solr/issues/857","id":1126493386,"node_id":"IC_kwDOFFj3yM5DJOzK","user":{"login":"laminelam","id":104593675,"node_id":"U_kgDOBjv5Cw","avatar_url":"https://avatars.githubusercontent.com/u/104593675?v=4","gravatar_id":"","url":"https://api.github.com/users/laminelam","html_url":"https://github.com/laminelam","followers_url":"https://api.github.com/users/laminelam/followers","following_url":"https://api.github.com/users/laminelam/following{/other_user}","gists_url":"https://api.github.com/users/laminelam/gists{/gist_id}","starred_url":"https://api.github.com/users/laminelam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/laminelam/subscriptions","organizations_url":"https://api.github.com/users/laminelam/orgs","repos_url":"https://api.github.com/users/laminelam/repos","events_url":"https://api.github.com/users/laminelam/events{/privacy}","received_events_url":"https://api.github.com/users/laminelam/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-13T20:51:24Z","updated_at":"2022-05-23T16:05:01Z","author_association":"CONTRIBUTOR","body":"Thank you @madrob  for your time reviewing this.\r\nI have pushed a new commit and left some answers to your comments.\r\nWill add the ref guide as soon as this is accepted.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1126493386/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1126549605","html_url":"https://github.com/apache/solr/pull/859#issuecomment-1126549605","issue_url":"https://api.github.com/repos/apache/solr/issues/859","id":1126549605,"node_id":"IC_kwDOFFj3yM5DJchl","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-13T22:20:11Z","updated_at":"2022-05-13T22:20:11Z","author_association":"CONTRIBUTOR","body":"You can build this yourself and test it out with:\r\n```\r\ngradle buildOfficialSite -Prefguide.official.includePrereleaseVersions=true -Prefguide.buildLocalUI=true\r\n```\r\n\r\nNew look of link:\r\n\r\n<img width=\"1168\" alt=\"Screen Shot 2022-05-13 at 6 16 36 PM\" src=\"https://user-images.githubusercontent.com/3376422/168396162-80201f02-4c1b-421b-a633-df553fc0a284.png\">\r\n\r\nHover:\r\n\r\n<img width=\"1170\" alt=\"Screen Shot 2022-05-13 at 6 17 57 PM\" src=\"https://user-images.githubusercontent.com/3376422/168396245-a37b0e4a-014d-4fe2-8d47-c638371060d6.png\">\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1126549605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1127165823","html_url":"https://github.com/apache/solr/pull/772#issuecomment-1127165823","issue_url":"https://api.github.com/repos/apache/solr/issues/772","id":1127165823,"node_id":"IC_kwDOFFj3yM5DLy9_","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-16T03:07:04Z","updated_at":"2022-05-16T03:07:04Z","author_association":"CONTRIBUTOR","body":"we don't even need a CHANGES.txt; it's a test fix.  I suggest we merge this and see what happens over the next week or two; ok?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1127165823/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1127575994","html_url":"https://github.com/apache/solr/pull/862#issuecomment-1127575994","issue_url":"https://api.github.com/repos/apache/solr/issues/862","id":1127575994,"node_id":"IC_kwDOFFj3yM5DNXG6","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-16T11:54:15Z","updated_at":"2022-05-16T11:54:15Z","author_association":"CONTRIBUTOR","body":"LGTM!  I thought I made v2 examples for every API a while back, great catch!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1127575994/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1127582470","html_url":"https://github.com/apache/solr/pull/816#issuecomment-1127582470","issue_url":"https://api.github.com/repos/apache/solr/issues/816","id":1127582470,"node_id":"IC_kwDOFFj3yM5DNYsG","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-16T12:02:09Z","updated_at":"2022-05-16T12:02:09Z","author_association":"CONTRIBUTOR","body":"Instead of adding more complexity, could we just configure the `unified` highlighter here and get rid of the others?  \r\n\r\nI like the ida of identifying unused configurations, but maybe that is something that needs to be done globablly (and I don't have any idea how you would do that!).   I see a LOT of solrconfigs.xml that all need to go on a diet and have tons of unused stuff ;-).\r\n\r\nI wish we shipped a nice stripped down solrconfig/schema that would encourage people to add to it, versus the filled with assumptions that is `_default` or the kitchen sink that is `techproducts`.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1127582470/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1127651597","html_url":"https://github.com/apache/solr/pull/816#issuecomment-1127651597","issue_url":"https://api.github.com/repos/apache/solr/issues/816","id":1127651597,"node_id":"IC_kwDOFFj3yM5DNpkN","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-16T13:08:35Z","updated_at":"2022-05-16T13:08:35Z","author_association":"CONTRIBUTOR","body":"Unless I'm missing something (maybe I looked too quickly at this PR), the change seems invalid to me.  If someone registers highlighters, they can be chosen at runtime via `hl.method`.\r\n\r\nBTW total +1 to what Eric said.  That's another issue though; and JIRA worthy.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1127651597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1128315761","html_url":"https://github.com/apache/solr/pull/864#issuecomment-1128315761","issue_url":"https://api.github.com/repos/apache/solr/issues/864","id":1128315761,"node_id":"IC_kwDOFFj3yM5DQLtx","user":{"login":"gus-asf","id":46900717,"node_id":"MDQ6VXNlcjQ2OTAwNzE3","avatar_url":"https://avatars.githubusercontent.com/u/46900717?v=4","gravatar_id":"","url":"https://api.github.com/users/gus-asf","html_url":"https://github.com/gus-asf","followers_url":"https://api.github.com/users/gus-asf/followers","following_url":"https://api.github.com/users/gus-asf/following{/other_user}","gists_url":"https://api.github.com/users/gus-asf/gists{/gist_id}","starred_url":"https://api.github.com/users/gus-asf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gus-asf/subscriptions","organizations_url":"https://api.github.com/users/gus-asf/orgs","repos_url":"https://api.github.com/users/gus-asf/repos","events_url":"https://api.github.com/users/gus-asf/events{/privacy}","received_events_url":"https://api.github.com/users/gus-asf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-17T01:49:54Z","updated_at":"2022-05-17T01:49:54Z","author_association":"CONTRIBUTOR","body":"How did we wind up choosing 100 char wrap? 80 or 120 are more normal...  80 is ancient standard for old green/amber screens, 120 happens to be Intellij default I think. Also, not sure how this wound up failing since I ran spotless check but evidently something moved at the last moment.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1128315761/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1129104224","html_url":"https://github.com/apache/solr/pull/848#issuecomment-1129104224","issue_url":"https://api.github.com/repos/apache/solr/issues/848","id":1129104224,"node_id":"IC_kwDOFFj3yM5DTMNg","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-17T16:58:09Z","updated_at":"2022-05-17T16:58:09Z","author_association":"CONTRIBUTOR","body":"@madrob / @magibney  / @CaoManhDat any thoughts on this?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1129104224/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1129389009","html_url":"https://github.com/apache/solr/pull/804#issuecomment-1129389009","issue_url":"https://api.github.com/repos/apache/solr/issues/804","id":1129389009,"node_id":"IC_kwDOFFj3yM5DURvR","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-17T22:37:08Z","updated_at":"2022-05-17T22:37:08Z","author_association":"CONTRIBUTOR","body":"I like that this removes a usage of `NodeStateProvider`, which we're now even closer to removing.  It was introduced in the autoscaling times, and as-such is used in 8x a bunch.  In 9x it's used in like a couple places, including this one.  The other is SplitShardCmd which I might modify to use something else to obtain replica sizes.  It's not clear NodeStateProvider has a purpose otherwise.  If we agree it shouldn't have a long life, let's also mark it Deprecated in this PR?  I like to think we can and should use Deprecated a ton more.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1129389009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1129829767","html_url":"https://github.com/apache/solr/pull/854#issuecomment-1129829767","issue_url":"https://api.github.com/repos/apache/solr/issues/854","id":1129829767,"node_id":"IC_kwDOFFj3yM5DV9WH","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-18T10:15:52Z","updated_at":"2022-05-18T10:15:52Z","author_association":"CONTRIBUTOR","body":"Closing this, as the wizard likely already runs the command with full dir. It is only the terminal printout that displays the short variant, and there is a workaround to manually expand, should  you need to run this command manually.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1129829767/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1130205605","html_url":"https://github.com/apache/solr/pull/866#issuecomment-1130205605","issue_url":"https://api.github.com/repos/apache/solr/issues/866","id":1130205605,"node_id":"IC_kwDOFFj3yM5DXZGl","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-18T16:02:02Z","updated_at":"2022-05-18T16:02:02Z","author_association":"CONTRIBUTOR","body":"Tested it a lot myself, so I think it should be good. 🙂 ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1130205605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1131026516","html_url":"https://github.com/apache/solr/pull/804#issuecomment-1131026516","issue_url":"https://api.github.com/repos/apache/solr/issues/804","id":1131026516,"node_id":"IC_kwDOFFj3yM5DahhU","user":{"login":"noblepaul","id":54862,"node_id":"MDQ6VXNlcjU0ODYy","avatar_url":"https://avatars.githubusercontent.com/u/54862?v=4","gravatar_id":"","url":"https://api.github.com/users/noblepaul","html_url":"https://github.com/noblepaul","followers_url":"https://api.github.com/users/noblepaul/followers","following_url":"https://api.github.com/users/noblepaul/following{/other_user}","gists_url":"https://api.github.com/users/noblepaul/gists{/gist_id}","starred_url":"https://api.github.com/users/noblepaul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/noblepaul/subscriptions","organizations_url":"https://api.github.com/users/noblepaul/orgs","repos_url":"https://api.github.com/users/noblepaul/repos","events_url":"https://api.github.com/users/noblepaul/events{/privacy}","received_events_url":"https://api.github.com/users/noblepaul/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-19T02:24:32Z","updated_at":"2022-05-19T02:24:32Z","author_association":"CONTRIBUTOR","body":"@dsmiley \r\n\r\nYes, `NodeStateProvider` is a vestige of the autoscaling times and must be removed.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1131026516/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1131028900","html_url":"https://github.com/apache/solr/pull/804#issuecomment-1131028900","issue_url":"https://api.github.com/repos/apache/solr/issues/804","id":1131028900,"node_id":"IC_kwDOFFj3yM5DaiGk","user":{"login":"noblepaul","id":54862,"node_id":"MDQ6VXNlcjU0ODYy","avatar_url":"https://avatars.githubusercontent.com/u/54862?v=4","gravatar_id":"","url":"https://api.github.com/users/noblepaul","html_url":"https://github.com/noblepaul","followers_url":"https://api.github.com/users/noblepaul/followers","following_url":"https://api.github.com/users/noblepaul/following{/other_user}","gists_url":"https://api.github.com/users/noblepaul/gists{/gist_id}","starred_url":"https://api.github.com/users/noblepaul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/noblepaul/subscriptions","organizations_url":"https://api.github.com/users/noblepaul/orgs","repos_url":"https://api.github.com/users/noblepaul/repos","events_url":"https://api.github.com/users/noblepaul/events{/privacy}","received_events_url":"https://api.github.com/users/noblepaul/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-19T02:26:11Z","updated_at":"2022-05-19T02:26:11Z","author_association":"CONTRIBUTOR","body":">Why are we creating a new class and deleting NodeSysPropsCacher\r\n\r\nI could do that.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1131028900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1131986359","html_url":"https://github.com/apache/solr/pull/870#issuecomment-1131986359","issue_url":"https://api.github.com/repos/apache/solr/issues/870","id":1131986359,"node_id":"IC_kwDOFFj3yM5DeL23","user":{"login":"madrob","id":1592330,"node_id":"MDQ6VXNlcjE1OTIzMzA=","avatar_url":"https://avatars.githubusercontent.com/u/1592330?v=4","gravatar_id":"","url":"https://api.github.com/users/madrob","html_url":"https://github.com/madrob","followers_url":"https://api.github.com/users/madrob/followers","following_url":"https://api.github.com/users/madrob/following{/other_user}","gists_url":"https://api.github.com/users/madrob/gists{/gist_id}","starred_url":"https://api.github.com/users/madrob/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/madrob/subscriptions","organizations_url":"https://api.github.com/users/madrob/orgs","repos_url":"https://api.github.com/users/madrob/repos","events_url":"https://api.github.com/users/madrob/events{/privacy}","received_events_url":"https://api.github.com/users/madrob/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-19T17:25:26Z","updated_at":"2022-05-19T17:25:26Z","author_association":"CONTRIBUTOR","body":"Thanks for iterating on this, the escaping logic looks much cleaner now","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1131986359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1136058701","html_url":"https://github.com/apache/solr/pull/876#issuecomment-1136058701","issue_url":"https://api.github.com/repos/apache/solr/issues/876","id":1136058701,"node_id":"IC_kwDOFFj3yM5DtuFN","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-24T15:13:36Z","updated_at":"2022-05-24T15:13:36Z","author_association":"CONTRIBUTOR","body":"I'm glad it helps fix the problem.\r\n* Is \"clean\" actually necessary?  In general I think this is a habit we all bring from our Ant/Maven knowledge that Gradle should ideally make obsolete.\r\n* Is \"assemble\" doing too much that Lift doesn't need?  It will create tar.gz etc. and I suspect Lift just needs to look at class files; not even JARs?\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1136058701/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1136143176","html_url":"https://github.com/apache/solr/pull/876#issuecomment-1136143176","issue_url":"https://api.github.com/repos/apache/solr/issues/876","id":1136143176,"node_id":"IC_kwDOFFj3yM5DuCtI","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-24T16:29:36Z","updated_at":"2022-05-24T16:29:36Z","author_association":"CONTRIBUTOR","body":"I agree that assemble is likely too heavy here. We already run `gradle check` which will do the site checking, and most checks on the `assemble` stuff. But I don't know what lift uses.\r\n\r\n\r\n\r\n> * Is \"clean\" actually necessary?  In general I think this is a habit we all bring from our Ant/Maven knowledge that Gradle should ideally make obsolete.\r\n\r\nIf lift is looking at artifacts (tgzs) then clean might be necessary, because old artifact versions in the packaging release folder will not be deleted when `gradle assemble` is run. (This is only true when you are building a new solr version than what exists in the packaging releases folder, so we probably won't hit this often since this is just run on `main`)","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1136143176/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1136155275","html_url":"https://github.com/apache/solr/pull/876#issuecomment-1136155275","issue_url":"https://api.github.com/repos/apache/solr/issues/876","id":1136155275,"node_id":"IC_kwDOFFj3yM5DuFqL","user":{"login":"chriswininger","id":1688763,"node_id":"MDQ6VXNlcjE2ODg3NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1688763?v=4","gravatar_id":"","url":"https://api.github.com/users/chriswininger","html_url":"https://github.com/chriswininger","followers_url":"https://api.github.com/users/chriswininger/followers","following_url":"https://api.github.com/users/chriswininger/following{/other_user}","gists_url":"https://api.github.com/users/chriswininger/gists{/gist_id}","starred_url":"https://api.github.com/users/chriswininger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chriswininger/subscriptions","organizations_url":"https://api.github.com/users/chriswininger/orgs","repos_url":"https://api.github.com/users/chriswininger/repos","events_url":"https://api.github.com/users/chriswininger/events{/privacy}","received_events_url":"https://api.github.com/users/chriswininger/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-24T16:41:22Z","updated_at":"2022-05-24T16:41:22Z","author_association":"CONTRIBUTOR","body":"> I'm glad it helps fix the problem.\r\n> \r\n>     * Is \"clean\" actually necessary?  In general I think this is a habit we all bring from our Ant/Maven knowledge that Gradle should ideally make obsolete.\r\n> \r\n>     * Is \"assemble\" doing too much that Lift doesn't need?  It will create tar.gz etc. and I suspect Lift just needs to look at class files; not even JARs?\r\n\r\nYes, clean seems unneeded this will always run in a fresh environment anyways. I can remove it.\r\n\r\nThe assemble is needed because FindSecBugs looks at jars.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1136155275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1136163275","html_url":"https://github.com/apache/solr/pull/876#issuecomment-1136163275","issue_url":"https://api.github.com/repos/apache/solr/issues/876","id":1136163275,"node_id":"IC_kwDOFFj3yM5DuHnL","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-24T16:46:36Z","updated_at":"2022-05-24T16:46:36Z","author_association":"CONTRIBUTOR","body":"Maybe we use `installDist` instead of `assemble` then? It will create the solr release binary and untar it. I'm not sure we need anything else that \"assemble\" entails. And it's easier than keeping a list of things that we don't want.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1136163275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1136271897","html_url":"https://github.com/apache/solr/pull/876#issuecomment-1136271897","issue_url":"https://api.github.com/repos/apache/solr/issues/876","id":1136271897,"node_id":"IC_kwDOFFj3yM5DuiIZ","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-24T18:02:47Z","updated_at":"2022-05-24T18:02:47Z","author_association":"CONTRIBUTOR","body":"If the `jar` files are all that is needed by Lift then just do `gradlew jar`.  It won't run tests or do Antora stuff.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1136271897/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1137130767","html_url":"https://github.com/apache/solr/pull/877#issuecomment-1137130767","issue_url":"https://api.github.com/repos/apache/solr/issues/877","id":1137130767,"node_id":"IC_kwDOFFj3yM5Dxz0P","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-25T11:35:10Z","updated_at":"2022-05-25T11:35:10Z","author_association":"CONTRIBUTOR","body":"Not sure I understand why precommit fails here\r\n> [21:05:39.470] FATAL (antora): problem encountered while reading ui.supplemental_files: ENOENT: no such file or directory, access '/home/runner/work/solr/solr/.gradle/node/solr-ref-guide/node_modules/@antora/lunr-extension/supplemental_ui'\r\n\r\nWonder if that is some stale builder cache issue, seems unrelated.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1137130767/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1137212989","html_url":"https://github.com/apache/solr/pull/876#issuecomment-1137212989","issue_url":"https://api.github.com/repos/apache/solr/issues/876","id":1137212989,"node_id":"IC_kwDOFFj3yM5DyH49","user":{"login":"chriswininger","id":1688763,"node_id":"MDQ6VXNlcjE2ODg3NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1688763?v=4","gravatar_id":"","url":"https://api.github.com/users/chriswininger","html_url":"https://github.com/chriswininger","followers_url":"https://api.github.com/users/chriswininger/followers","following_url":"https://api.github.com/users/chriswininger/following{/other_user}","gists_url":"https://api.github.com/users/chriswininger/gists{/gist_id}","starred_url":"https://api.github.com/users/chriswininger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chriswininger/subscriptions","organizations_url":"https://api.github.com/users/chriswininger/orgs","repos_url":"https://api.github.com/users/chriswininger/repos","events_url":"https://api.github.com/users/chriswininger/events{/privacy}","received_events_url":"https://api.github.com/users/chriswininger/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-25T13:04:49Z","updated_at":"2022-05-25T13:04:49Z","author_association":"CONTRIBUTOR","body":"> If the `jar` files are all that is needed by Lift then just do `gradlew jar`. It won't run tests or do Antora stuff.\r\n\r\nLet me consult with some folks on our team. I mostly work with maven. If the jar command works and is available across gradle projects then there is an opportunity to fix this entirely on our end and avoid similar problems with other users.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1137212989/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1137451503","html_url":"https://github.com/apache/solr/pull/876#issuecomment-1137451503","issue_url":"https://api.github.com/repos/apache/solr/issues/876","id":1137451503,"node_id":"IC_kwDOFFj3yM5DzCHv","user":{"login":"chriswininger","id":1688763,"node_id":"MDQ6VXNlcjE2ODg3NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1688763?v=4","gravatar_id":"","url":"https://api.github.com/users/chriswininger","html_url":"https://github.com/chriswininger","followers_url":"https://api.github.com/users/chriswininger/followers","following_url":"https://api.github.com/users/chriswininger/following{/other_user}","gists_url":"https://api.github.com/users/chriswininger/gists{/gist_id}","starred_url":"https://api.github.com/users/chriswininger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chriswininger/subscriptions","organizations_url":"https://api.github.com/users/chriswininger/orgs","repos_url":"https://api.github.com/users/chriswininger/repos","events_url":"https://api.github.com/users/chriswininger/events{/privacy}","received_events_url":"https://api.github.com/users/chriswininger/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-25T15:38:52Z","updated_at":"2022-05-25T15:38:52Z","author_association":"CONTRIBUTOR","body":"> If the `jar` files are all that is needed by Lift then just do `gradlew jar`. It won't run tests or do Antora stuff.\r\n\r\nI had a discussion with the team. It sounds like we are not quite ready to switch to jar as the default across all gradle projects. There were some historic reasons for favoring assemble; though we may revisit that decision :-)\r\n\r\nIn the case of solr it definitely makes sense, so, I've updated this pr to just use `./gradlew jar`","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1137451503/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1137560551","html_url":"https://github.com/apache/solr/pull/876#issuecomment-1137560551","issue_url":"https://api.github.com/repos/apache/solr/issues/876","id":1137560551,"node_id":"IC_kwDOFFj3yM5Dzcvn","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-25T17:01:19Z","updated_at":"2022-05-25T17:01:19Z","author_association":"CONTRIBUTOR","body":"This looks good to me, as long as lift doesn't want the dependency jars downloaded as well.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1137560551/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1137631785","html_url":"https://github.com/apache/solr/pull/877#issuecomment-1137631785","issue_url":"https://api.github.com/repos/apache/solr/issues/877","id":1137631785,"node_id":"IC_kwDOFFj3yM5DzuIp","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-25T17:45:58Z","updated_at":"2022-05-25T17:45:58Z","author_association":"CONTRIBUTOR","body":"> Not sure I understand why precommit fails here\r\n> \r\n> > [21:05:39.470] FATAL (antora): problem encountered while reading ui.supplemental_files: ENOENT: no such file or directory, access '/home/runner/work/solr/solr/.gradle/node/solr-ref-guide/node_modules/@antora/lunr-extension/supplemental_ui'\r\n> \r\n> Wonder if that is some stale builder cache issue, seems unrelated.\r\n\r\nIt looks like the upstream antora-lunr-extension changed it's download path in the node modules? Will make a fix soon","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1137631785/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1137637319","html_url":"https://github.com/apache/solr/pull/877#issuecomment-1137637319","issue_url":"https://api.github.com/repos/apache/solr/issues/877","id":1137637319,"node_id":"IC_kwDOFFj3yM5DzvfH","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-25T17:49:56Z","updated_at":"2022-05-25T17:49:56Z","author_association":"CONTRIBUTOR","body":"Ahh ok it's here. Just making our lives easier 🙂 \r\n\r\nhttps://gitlab.com/antora/antora-lunr-extension/-/issues/15","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1137637319/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1137769179","html_url":"https://github.com/apache/solr/pull/876#issuecomment-1137769179","issue_url":"https://api.github.com/repos/apache/solr/issues/876","id":1137769179,"node_id":"IC_kwDOFFj3yM5D0Prb","user":{"login":"chriswininger","id":1688763,"node_id":"MDQ6VXNlcjE2ODg3NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1688763?v=4","gravatar_id":"","url":"https://api.github.com/users/chriswininger","html_url":"https://github.com/chriswininger","followers_url":"https://api.github.com/users/chriswininger/followers","following_url":"https://api.github.com/users/chriswininger/following{/other_user}","gists_url":"https://api.github.com/users/chriswininger/gists{/gist_id}","starred_url":"https://api.github.com/users/chriswininger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chriswininger/subscriptions","organizations_url":"https://api.github.com/users/chriswininger/orgs","repos_url":"https://api.github.com/users/chriswininger/repos","events_url":"https://api.github.com/users/chriswininger/events{/privacy}","received_events_url":"https://api.github.com/users/chriswininger/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-25T19:30:51Z","updated_at":"2022-05-25T19:30:51Z","author_association":"CONTRIBUTOR","body":"> This looks good to me, as long as lift doesn't want the dependency jars downloaded as well.\r\n\r\nnope, not with current tools in any event.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1137769179/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1138747019","html_url":"https://github.com/apache/solr/pull/875#issuecomment-1138747019","issue_url":"https://api.github.com/repos/apache/solr/issues/875","id":1138747019,"node_id":"IC_kwDOFFj3yM5D3-aL","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-26T16:16:25Z","updated_at":"2022-05-26T16:16:25Z","author_association":"CONTRIBUTOR","body":"@andywebb1975 do you mind if I push up a unit test???","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1138747019/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1138755196","html_url":"https://github.com/apache/solr/pull/877#issuecomment-1138755196","issue_url":"https://api.github.com/repos/apache/solr/issues/877","id":1138755196,"node_id":"IC_kwDOFFj3yM5D4AZ8","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-26T16:25:52Z","updated_at":"2022-05-26T16:25:52Z","author_association":"CONTRIBUTOR","body":"@janhoy I pushed the merging to main to get precommit fixes from Houston. ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1138755196/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1138777597","html_url":"https://github.com/apache/solr/pull/875#issuecomment-1138777597","issue_url":"https://api.github.com/repos/apache/solr/issues/875","id":1138777597,"node_id":"IC_kwDOFFj3yM5D4F39","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-26T16:49:24Z","updated_at":"2022-05-26T16:49:24Z","author_association":"CONTRIBUTOR","body":"@andywebb1975 I attempted to add a unit test...  Theoretically, if we roll back your change, then the unit test SHOULD fail....","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1138777597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1139085723","html_url":"https://github.com/apache/solr/pull/872#issuecomment-1139085723","issue_url":"https://api.github.com/repos/apache/solr/issues/872","id":1139085723,"node_id":"IC_kwDOFFj3yM5D5RGb","user":{"login":"eliaporciani","id":44434709,"node_id":"MDQ6VXNlcjQ0NDM0NzA5","avatar_url":"https://avatars.githubusercontent.com/u/44434709?v=4","gravatar_id":"","url":"https://api.github.com/users/eliaporciani","html_url":"https://github.com/eliaporciani","followers_url":"https://api.github.com/users/eliaporciani/followers","following_url":"https://api.github.com/users/eliaporciani/following{/other_user}","gists_url":"https://api.github.com/users/eliaporciani/gists{/gist_id}","starred_url":"https://api.github.com/users/eliaporciani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eliaporciani/subscriptions","organizations_url":"https://api.github.com/users/eliaporciani/orgs","repos_url":"https://api.github.com/users/eliaporciani/repos","events_url":"https://api.github.com/users/eliaporciani/events{/privacy}","received_events_url":"https://api.github.com/users/eliaporciani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-26T21:40:03Z","updated_at":"2022-05-26T21:40:03Z","author_association":"CONTRIBUTOR","body":"The tests look consistently green. Should we proceed with merging?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1139085723/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1139112476","html_url":"https://github.com/apache/solr/pull/872#issuecomment-1139112476","issue_url":"https://api.github.com/repos/apache/solr/issues/872","id":1139112476,"node_id":"IC_kwDOFFj3yM5D5Xoc","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-26T22:27:14Z","updated_at":"2022-05-26T22:27:14Z","author_association":"CONTRIBUTOR","body":"9.2.0 came out the day before. Maybe update to that already?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1139112476/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1139115525","html_url":"https://github.com/apache/solr/pull/872#issuecomment-1139115525","issue_url":"https://api.github.com/repos/apache/solr/issues/872","id":1139115525,"node_id":"IC_kwDOFFj3yM5D5YYF","user":{"login":"alessandrobenedetti","id":513195,"node_id":"MDQ6VXNlcjUxMzE5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/513195?v=4","gravatar_id":"","url":"https://api.github.com/users/alessandrobenedetti","html_url":"https://github.com/alessandrobenedetti","followers_url":"https://api.github.com/users/alessandrobenedetti/followers","following_url":"https://api.github.com/users/alessandrobenedetti/following{/other_user}","gists_url":"https://api.github.com/users/alessandrobenedetti/gists{/gist_id}","starred_url":"https://api.github.com/users/alessandrobenedetti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alessandrobenedetti/subscriptions","organizations_url":"https://api.github.com/users/alessandrobenedetti/orgs","repos_url":"https://api.github.com/users/alessandrobenedetti/repos","events_url":"https://api.github.com/users/alessandrobenedetti/events{/privacy}","received_events_url":"https://api.github.com/users/alessandrobenedetti/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-26T22:33:02Z","updated_at":"2022-05-26T22:33:02Z","author_association":"CONTRIBUTOR","body":"> 9.2.0 came out the day before. Maybe update to that already?\r\n\r\nWe discussed this today with @eliaporciani, our opinion is to:\r\n1) merge this, monitor Jenkins and make sure everything is all right\r\n2) open immediately another PR with the migration to Lucene 9.2\r\n\r\nIn this way, we can pinpoint issues separately and the transition may be easier.\r\nDoes it make sense?\r\nWe have the bandwidth to merge this one and open a new one in the week starting on the 6 of June.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1139115525/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]