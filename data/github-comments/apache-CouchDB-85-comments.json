[{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/595864932","html_url":"https://github.com/apache/couchdb/issues/2640#issuecomment-595864932","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2640","id":595864932,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NTg2NDkzMg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-06T17:03:44Z","updated_at":"2020-03-06T17:03:44Z","author_association":"MEMBER","body":"@YadavRatnesh \r\nHi there,\r\n\r\nThis is not a CouchDB bug. GitHub is for actual CouchDB bugs only.\r\n\r\nIf you are looking for general support with using CouchDB, please try one of these other options:\r\n\r\n* The user mailing list. Signup instructions are [here](http://couchdb.apache.org/#mailing-lists)\r\n* The Slack/IRC chat room. Joining instructions are [here](http://couchdb.apache.org/#chat)\r\n\r\nIf, after discussing with people on-list, you are able to pinpoint an issue in our code or documentation, feel free to return to this issue.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/595864932/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/596190700","html_url":"https://github.com/apache/couchdb/issues/2634#issuecomment-596190700","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2634","id":596190700,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NjE5MDcwMA==","user":{"login":"palash25","id":21367710,"node_id":"MDQ6VXNlcjIxMzY3NzEw","avatar_url":"https://avatars.githubusercontent.com/u/21367710?v=4","gravatar_id":"","url":"https://api.github.com/users/palash25","html_url":"https://github.com/palash25","followers_url":"https://api.github.com/users/palash25/followers","following_url":"https://api.github.com/users/palash25/following{/other_user}","gists_url":"https://api.github.com/users/palash25/gists{/gist_id}","starred_url":"https://api.github.com/users/palash25/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/palash25/subscriptions","organizations_url":"https://api.github.com/users/palash25/orgs","repos_url":"https://api.github.com/users/palash25/repos","events_url":"https://api.github.com/users/palash25/events{/privacy}","received_events_url":"https://api.github.com/users/palash25/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-08T10:39:12Z","updated_at":"2020-03-08T10:39:12Z","author_association":"NONE","body":"Hi @janl I am learning Erlang and wanted to take a shot at this. Just to be sure we need to use the `load_purge_infos/2` function to get the purge info right?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/596190700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/596286734","html_url":"https://github.com/apache/couchdb/issues/2634#issuecomment-596286734","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2634","id":596286734,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NjI4NjczNA==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-09T01:41:48Z","updated_at":"2020-03-09T01:41:48Z","author_association":"CONTRIBUTOR","body":"thanks @palash25 You can get purge info from this and underlying API `couch_db:fold_purge_infos`, and just pay attention to return aggregation of purge infos from all shard db because request was distributed here https://github.com/apache/couchdb/blob/master/src/fabric/src/fabric_doc_purge.erl#L40","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/596286734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/596311997","html_url":"https://github.com/apache/couchdb/issues/2643#issuecomment-596311997","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2643","id":596311997,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NjMxMTk5Nw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-09T03:14:00Z","updated_at":"2020-03-09T03:14:00Z","author_association":"MEMBER","body":"Hi @danielbarbarito thanks for the report.\r\n\r\nThis looks like a bug in `default.ini`, because the setting has been put into the `[purge] ` section when it should be in the `[couchdb]` section. Your PR is changing things the wrong way; this was never meant to be in `purge`.\r\n\r\nCan you please try adding the following text to your `local.ini` file, then restarting CouchDB and test if you can edit the `_users` DB permissions?\r\n\r\n```ini\r\n[couchdb]\r\nusers_db_security_editable = true\r\n```\r\n\r\nIf that works, would you submit a new PR that moves the setting line into the `[couchdb]` section of the `default.ini` section?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/596311997/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/596312502","html_url":"https://github.com/apache/couchdb/issues/2642#issuecomment-596312502","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2642","id":596312502,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NjMxMjUwMg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-09T03:16:42Z","updated_at":"2020-03-09T03:16:42Z","author_association":"MEMBER","body":"Hi there,\r\n\r\nI can't reproduce this. Exact steps:\r\n\r\n1. Start CouchDB (I'm using the `dev/run -n 1` script.)\r\n2. Login to Fauxton using `https://localhost:port/_utils`\r\n3. Log out using Fauxton.\r\n4. Enter the URL `https://127.0.0.1:port`. At this point I see the top level `GET /` output.\r\n5. Enter the URL `https://127.0.0.1:port/_all_dbs`, At this point I receive `{\"error\":\"unauthorized\",\"reason\":\"You are not a server admin.\"}`.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/596312502/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/596314225","html_url":"https://github.com/apache/couchdb/issues/2643#issuecomment-596314225","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2643","id":596314225,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NjMxNDIyNQ==","user":{"login":"danbarbarito","id":5640055,"node_id":"MDQ6VXNlcjU2NDAwNTU=","avatar_url":"https://avatars.githubusercontent.com/u/5640055?v=4","gravatar_id":"","url":"https://api.github.com/users/danbarbarito","html_url":"https://github.com/danbarbarito","followers_url":"https://api.github.com/users/danbarbarito/followers","following_url":"https://api.github.com/users/danbarbarito/following{/other_user}","gists_url":"https://api.github.com/users/danbarbarito/gists{/gist_id}","starred_url":"https://api.github.com/users/danbarbarito/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danbarbarito/subscriptions","organizations_url":"https://api.github.com/users/danbarbarito/orgs","repos_url":"https://api.github.com/users/danbarbarito/repos","events_url":"https://api.github.com/users/danbarbarito/events{/privacy}","received_events_url":"https://api.github.com/users/danbarbarito/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-09T03:26:00Z","updated_at":"2020-03-09T03:26:00Z","author_association":"CONTRIBUTOR","body":"@wohali That worked! Just submitted a new PR.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/596314225/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/596316418","html_url":"https://github.com/apache/couchdb/issues/2642#issuecomment-596316418","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2642","id":596316418,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NjMxNjQxOA==","user":{"login":"nkev","id":5410916,"node_id":"MDQ6VXNlcjU0MTA5MTY=","avatar_url":"https://avatars.githubusercontent.com/u/5410916?v=4","gravatar_id":"","url":"https://api.github.com/users/nkev","html_url":"https://github.com/nkev","followers_url":"https://api.github.com/users/nkev/followers","following_url":"https://api.github.com/users/nkev/following{/other_user}","gists_url":"https://api.github.com/users/nkev/gists{/gist_id}","starred_url":"https://api.github.com/users/nkev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nkev/subscriptions","organizations_url":"https://api.github.com/users/nkev/orgs","repos_url":"https://api.github.com/users/nkev/repos","events_url":"https://api.github.com/users/nkev/events{/privacy}","received_events_url":"https://api.github.com/users/nkev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-09T03:37:03Z","updated_at":"2020-03-09T03:38:11Z","author_association":"NONE","body":"I just tried logging out and it said I was logged out (see 1 below) but the `Logout` link at the bottom left did not change to `Login` and I could still access everything (see 2 below) without even changing to 127.0.0.1:\r\n\r\n![image](https://user-images.githubusercontent.com/5410916/76180661-ab3c2380-6212-11ea-8e7c-0b47c2c8e1fc.png)\r\n\r\nThe only thing I have different from a vanilla install is I have an additional admin user called `nuri` that has the same password as the `admin` user, which was created during installation.\r\n\r\nI uninstalled CouchDB (deleted `app` file in applications) and reinstalled with no luck. Please let me know if you need me to send you any kind of log file (tell me where it is too please).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/596316418/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/596318012","html_url":"https://github.com/apache/couchdb/issues/2642#issuecomment-596318012","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2642","id":596318012,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NjMxODAxMg==","user":{"login":"nkev","id":5410916,"node_id":"MDQ6VXNlcjU0MTA5MTY=","avatar_url":"https://avatars.githubusercontent.com/u/5410916?v=4","gravatar_id":"","url":"https://api.github.com/users/nkev","html_url":"https://github.com/nkev","followers_url":"https://api.github.com/users/nkev/followers","following_url":"https://api.github.com/users/nkev/following{/other_user}","gists_url":"https://api.github.com/users/nkev/gists{/gist_id}","starred_url":"https://api.github.com/users/nkev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nkev/subscriptions","organizations_url":"https://api.github.com/users/nkev/orgs","repos_url":"https://api.github.com/users/nkev/repos","events_url":"https://api.github.com/users/nkev/events{/privacy}","received_events_url":"https://api.github.com/users/nkev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-09T03:45:24Z","updated_at":"2020-03-09T03:46:37Z","author_association":"NONE","body":"I think that second user with same password as admin was the issue. I deleted that user and it works as expected now. Still could be a security issue though.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/596318012/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/596322215","html_url":"https://github.com/apache/couchdb/issues/2634#issuecomment-596322215","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2634","id":596322215,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NjMyMjIxNQ==","user":{"login":"palash25","id":21367710,"node_id":"MDQ6VXNlcjIxMzY3NzEw","avatar_url":"https://avatars.githubusercontent.com/u/21367710?v=4","gravatar_id":"","url":"https://api.github.com/users/palash25","html_url":"https://github.com/palash25","followers_url":"https://api.github.com/users/palash25/followers","following_url":"https://api.github.com/users/palash25/following{/other_user}","gists_url":"https://api.github.com/users/palash25/gists{/gist_id}","starred_url":"https://api.github.com/users/palash25/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/palash25/subscriptions","organizations_url":"https://api.github.com/users/palash25/orgs","repos_url":"https://api.github.com/users/palash25/repos","events_url":"https://api.github.com/users/palash25/events{/privacy}","received_events_url":"https://api.github.com/users/palash25/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-09T04:09:02Z","updated_at":"2020-03-09T04:09:02Z","author_association":"NONE","body":"thanks for the help @jiangphcn will take a look at it in a few days.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/596322215/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":2,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/597069422","html_url":"https://github.com/apache/couchdb/pull/2648#issuecomment-597069422","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2648","id":597069422,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NzA2OTQyMg==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-10T12:53:18Z","updated_at":"2020-03-10T12:53:18Z","author_association":"MEMBER","body":"finally, we need some tests and docs, but focus on the comments above first.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/597069422/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/597104260","html_url":"https://github.com/apache/couchdb/pull/2648#issuecomment-597104260","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2648","id":597104260,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NzEwNDI2MA==","user":{"login":"atrauzzi","id":115199,"node_id":"MDQ6VXNlcjExNTE5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/115199?v=4","gravatar_id":"","url":"https://api.github.com/users/atrauzzi","html_url":"https://github.com/atrauzzi","followers_url":"https://api.github.com/users/atrauzzi/followers","following_url":"https://api.github.com/users/atrauzzi/following{/other_user}","gists_url":"https://api.github.com/users/atrauzzi/gists{/gist_id}","starred_url":"https://api.github.com/users/atrauzzi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atrauzzi/subscriptions","organizations_url":"https://api.github.com/users/atrauzzi/orgs","repos_url":"https://api.github.com/users/atrauzzi/repos","events_url":"https://api.github.com/users/atrauzzi/events{/privacy}","received_events_url":"https://api.github.com/users/atrauzzi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-10T14:05:57Z","updated_at":"2020-03-10T15:11:29Z","author_association":"CONTRIBUTOR","body":"Hey @wohali - thanks for the review! Lots of obvious cleanup in there, I wasn't sure whether to leave it as part of the review process, but yes, definitely will get on the specific code changes later today ðŸ™‚\r\n\r\nI'll speak to the concern over JWTs for the rest of this comment as I think it's important conceptually to address separately. I apologize if this is too long, or if some of my explanations dip into _the basics_, it's necessary to keep oriented while giving these articles a considered look.\r\n\r\n---\r\n\r\n### On JWT\r\n\r\n> Finally, I've had a long-standing knee-jerk reaction against JWT because of these two articles. Can you comment on this?\r\n\r\nI'm going to give them their due, but overall, I'm not sure why these posts exist. I found them poorly reasoned and by their title alone, not applicable.\r\nIf we ignore the title and take it as generalized advice on JWT (a-la _knee-jerk reaction_), I could foresee untangling it taking up a lot of space in this thread.\r\n\r\n> Does your proposed approach address any of the (rather serious) accusations raised by Sven?\r\n\r\nHonestly, I don't think the posts generate any actionables. If I could say one thing, it's that the purpose of this PR is not to introduce JWTs for sessions, only for identity. That might be the _tldr;_... ðŸ˜†\r\n\r\nI'll start out picking on a few notable points, but if there's anything specific that you feel applies, let me know.\r\n\r\n<details>\r\n  <summary>click to read...</summary>\r\n  \r\n  #### General\r\n\r\nI don't see a legitimate complaint proven in the posts, the author is making it clear that they are only interested in single node monoliths and that they don't understand that JWTs are not intended to store server-side state! ðŸ˜…\r\nNearly all the points in the posts are presenting a preference as advice on the basis of _what's good for the goose_.\r\n\r\nTo discuss the topic implying that JWTs are equivalent to sessions is a false premise. And even despite the _\"A note upfront\"_ section, the posts fail to demonstrate an understanding of JWTs. This is indicated by the list preceded by _\"I'll define a few terms first\"_ which exposes the authors mistaken assumption that JWTs are used for session data.\r\n\r\nAnother example of suspicious rationale: _\"While signed cookies are more secure than unsigned cookies, this is in no way unique to JWT, and good session implementations use signed cookies as well.\"_\r\n\r\n...Not exactly a well-reasoned indictment of the security or utility of JWTs.\r\n\r\nLet's clarify:\r\n\r\n - JWTs are a(n) (optionally expirable, self-signable & encryptable) bearer token capable of storing small bits of information, typically identifiers\r\n - Cookies are a set of conventions to round-trip state, but are most often used to transport a bearer token that corresponds to yet more state server-side\r\n- At the transport level, cookies and JWTs are both susceptible to the same security risks. TLS is the common ground that most popular bearer-based systems use\r\n- Fun fact: Some people even use JWTs as the content of their identity cookie!\r\n\r\nWhile cookies encode data, that data doesn't necessarily have to represent identity. Indeed many sites you visit will create a cookie without you even having taken an action!  In fairness, it is _very_ easy to conflate the concepts involved given the combination of abstractions that many web frameworks offer. \r\n\r\nI think we're seeing a bit of this in the posts, with the point being that before criticizing JWTs, the author should have spent some time getting an idea of their intended use.\r\n\r\nIt wouldn't be too out-of-hand to stop at this point and dismiss these posts as fear mongering, but I will be fair and give it it a little more analysis.\r\n\r\n#### Easier to (horizontally) scale\r\n\r\nThis is not a primary motivator for adopting JWT. The benefit offered by JWT is a single common and stateless format to provide and validate claims in a heterogenous system.\r\n\r\nThis argument really doesn't fit with an analysis of why one shouldn't use JWTs.\r\n\r\n#### CSRF\r\n\r\nYes, JWTs in authorization headers do prevent CSRF.\r\n\r\nIt's an oddly seldom known trick that you can cleverly mitigate against CSRF by explicitly requiring a header as part of a request. This header can be as simple as `content-type: application/json`, and `authorization: Bearer *` has the same effect: `<form>`s can't set headers! ðŸ†\r\n\r\nJWTs in headers - as I propose them here - are _more_ secure than cookies. Though I'd also like to remind that this is not the primary reason why I'm looking to introduce them.\r\n\r\n#### Expiration, Easier to Use, More Flexible\r\n\r\n>This is nonsense, and not a useful feature. Expiration can be implemented server-side just as well, and many implementations do.\r\n\r\nThis is the kind of assertion that really brings these posts down. Focusing on expiration as a flaw takes the architectural experience or preferences of the author and pushes them as absolutes.\r\n\r\nThe whole point of JWT is that the token will not be visiting a single, centralized monolith. It will be shopped around to various cooperating services. Also worth noting that people often configure their cookies to live for far too long, vs say... Implementing a remember-me token, which is basically an ad-hoc refresh token built on top of cookies. Something already standardized by [OpenID Connect](https://openid.net/connect/).\r\n\r\nThe fact that JWTs can be set to self-destruct means that rotations can be forced with zero overhead to servers that will be receiving the token.  Case in point, my PR doesn't require any logic to direct the client on how to obtain new tokens.\r\nWhen taken as part of a complete [OpenID Connect implementation](https://github.com/openiddict/openiddict-core), you can get some very cool SDKs like [this JavaScript one ](https://github.com/IdentityModel/oidc-client-js) which will auto-rotate your tokens for you ðŸŒŸ and more ðŸŒŸ!\r\n\r\n#### Single Use\r\n\r\nThis is a strange rule imposed by the author which I reject.  I could use this same argument to say that a bearer token in a cookie should be single use as well. \r\n\r\nThis point is easily disregarded as trying to kitchen-sink against JWTs.\r\n\r\n---\r\n\r\nThe flowchart offered in the follow-up post I feel doesn't really require much attention. Some of the statements within are cynical and are too far into prior misunderstandings to really warrant concern.\r\n\r\nReally, it just comes down to the fact that cookies and JWTs can be used for overlapping and sometimes different purposes in equally as nuanced situations. I use cookies for browser based authentication in the same application that also uses JWTs to validate API requests.  There's nothing unusual about this, it's how many applications perform their oauth2 authentication and consent flows.\r\n\r\nFinally, these posts came out in June 2016, coming up to their 4 year anniversary. If the security concerns they detail were in any way legitimate, I'm very confident the greater communities we all participate in would have discarded JWT by now. Instead, I think we can see quite the opposite and that client & server libraries as well as many large scale services have come to embrace JWT.\r\n\r\nAgain, I'd love to explore any specific concern, so do let me know if there's one in particular I didn't happen to choose to drag out here. ðŸ™‚\r\n</details>","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/597104260/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/597117809","html_url":"https://github.com/apache/couchdb/pull/2648#issuecomment-597117809","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2648","id":597117809,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NzExNzgwOQ==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-10T14:31:26Z","updated_at":"2020-03-10T14:31:26Z","author_association":"MEMBER","body":"Most of the objection to JWT in those articles appears to be that the tokens can't be expired ahead of their built-in exp field, a criticism that can equally be levelled at our session cookies.\r\n\r\nOn that point, this PR does not directly validate any of the time fields (iat, nbf and exp). If the jwt library is doing that, we should say so, as this validation is mandatory.\r\n\r\nThe other objection I could determine is cryptographic, in that the tokens themselves dictate which encryption scheme to use to validate them, and there's at least one known weakness where a substitution can be an issue.\r\n\r\nWe should get ahead of this and have server side controls over what we'll accept. I can think of a few settings off the top of my head but this should be thorough before merging;\r\n\r\n* a config setting listing which of the JWT schemes will be allowed.\r\n* a config setting listing which asymmetric signing keys are permitted.\r\n* configurable leniency on the various timestamp fields, defaulting to 0 (no leniency).\r\n\r\nFinally, if we're doing this for CouchDB I would prefer to use the JWT library I developed for Cloudant rather than this one. I will, of course, pursue the licensing steps, etc.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/597117809/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/597125533","html_url":"https://github.com/apache/couchdb/pull/2648#issuecomment-597125533","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2648","id":597125533,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NzEyNTUzMw==","user":{"login":"atrauzzi","id":115199,"node_id":"MDQ6VXNlcjExNTE5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/115199?v=4","gravatar_id":"","url":"https://api.github.com/users/atrauzzi","html_url":"https://github.com/atrauzzi","followers_url":"https://api.github.com/users/atrauzzi/followers","following_url":"https://api.github.com/users/atrauzzi/following{/other_user}","gists_url":"https://api.github.com/users/atrauzzi/gists{/gist_id}","starred_url":"https://api.github.com/users/atrauzzi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atrauzzi/subscriptions","organizations_url":"https://api.github.com/users/atrauzzi/orgs","repos_url":"https://api.github.com/users/atrauzzi/repos","events_url":"https://api.github.com/users/atrauzzi/events{/privacy}","received_events_url":"https://api.github.com/users/atrauzzi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-10T14:45:42Z","updated_at":"2020-03-10T14:52:27Z","author_association":"CONTRIBUTOR","body":"For signature verification, HS256 signed, unencrypted seems to be the norm in the implementations and testers/tools I've seen.\r\n\r\nIf we can get the JWT implementation you made, that should help with the transitive dependencies (base64 and jsx). I'm assuming it would also help with the `nbf` and `iat` claims as well.\r\n\r\nedit: The `jwt` library here does validate `exp`, for what it's worth, but again, I suspect your implementation will be a better fit if/when it's available.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/597125533/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/597127994","html_url":"https://github.com/apache/couchdb/pull/2648#issuecomment-597127994","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2648","id":597127994,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NzEyNzk5NA==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-10T14:50:06Z","updated_at":"2020-03-10T14:50:06Z","author_association":"MEMBER","body":"yes, my library insists on valid tokens (current time must be between iat and exp) before it returns the payload, etc. I realise you can't see it to confirm that right now.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/597127994/reactions","total_count":1,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/597180420","html_url":"https://github.com/apache/couchdb/pull/2648#issuecomment-597180420","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2648","id":597180420,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NzE4MDQyMA==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-10T16:25:19Z","updated_at":"2020-03-10T16:25:19Z","author_association":"MEMBER","body":"Hi, IBM Cloudant has released its JWT library under the ASLv2 at https://github.com/cloudant/jwtf, please update to use this. This obsoletes the extra libraries this PR currently references.\r\n\r\nThe jwtf library will be contributed to CouchDB as part of this effort.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/597180420/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/597189439","html_url":"https://github.com/apache/couchdb/pull/2648#issuecomment-597189439","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2648","id":597189439,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NzE4OTQzOQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-10T16:42:37Z","updated_at":"2020-03-10T16:42:37Z","author_association":"MEMBER","body":"Hi there - thanks for the essay. I'm not a security expert and won't pretend to be one. I'm comfortable knowing that the issues have been reviewed. I wasn't planning on vetoing JWT support, in any case.\r\n\r\nCarry on.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/597189439/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/597301311","html_url":"https://github.com/apache/couchdb/pull/2648#issuecomment-597301311","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2648","id":597301311,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NzMwMTMxMQ==","user":{"login":"atrauzzi","id":115199,"node_id":"MDQ6VXNlcjExNTE5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/115199?v=4","gravatar_id":"","url":"https://api.github.com/users/atrauzzi","html_url":"https://github.com/atrauzzi","followers_url":"https://api.github.com/users/atrauzzi/followers","following_url":"https://api.github.com/users/atrauzzi/following{/other_user}","gists_url":"https://api.github.com/users/atrauzzi/gists{/gist_id}","starred_url":"https://api.github.com/users/atrauzzi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atrauzzi/subscriptions","organizations_url":"https://api.github.com/users/atrauzzi/orgs","repos_url":"https://api.github.com/users/atrauzzi/repos","events_url":"https://api.github.com/users/atrauzzi/events{/privacy}","received_events_url":"https://api.github.com/users/atrauzzi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-10T20:35:14Z","updated_at":"2020-03-10T20:35:14Z","author_association":"CONTRIBUTOR","body":"Updated the code and cleaned up the configuration. This now uses `jwtf`, which I'm guessing someone will have to pull in as an apache repo.\r\n\r\nI haven't added tests yet as I'm not sure if it makes sense to until there's a consensus on the final shape of things.\r\n\r\nOn that: Am I right in understanding that the tests for auth handlers are all done in JS?\r\n\r\nðŸ™‚ I'll wait for the next round of suggestions!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/597301311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/597302288","html_url":"https://github.com/apache/couchdb/pull/2648#issuecomment-597302288","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2648","id":597302288,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NzMwMjI4OA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-10T20:37:32Z","updated_at":"2020-03-10T20:37:32Z","author_association":"MEMBER","body":"Yes, our integration tests are over in JS, not in eunit largely.\r\n\r\nWe're migrating all of our tests out of JS into Elixir. You should use Elixir to write any new integration tests.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/597302288/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/597309803","html_url":"https://github.com/apache/couchdb/pull/2648#issuecomment-597309803","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2648","id":597309803,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NzMwOTgwMw==","user":{"login":"atrauzzi","id":115199,"node_id":"MDQ6VXNlcjExNTE5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/115199?v=4","gravatar_id":"","url":"https://api.github.com/users/atrauzzi","html_url":"https://github.com/atrauzzi","followers_url":"https://api.github.com/users/atrauzzi/followers","following_url":"https://api.github.com/users/atrauzzi/following{/other_user}","gists_url":"https://api.github.com/users/atrauzzi/gists{/gist_id}","starred_url":"https://api.github.com/users/atrauzzi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atrauzzi/subscriptions","organizations_url":"https://api.github.com/users/atrauzzi/orgs","repos_url":"https://api.github.com/users/atrauzzi/repos","events_url":"https://api.github.com/users/atrauzzi/events{/privacy}","received_events_url":"https://api.github.com/users/atrauzzi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-10T20:55:03Z","updated_at":"2020-03-10T20:55:03Z","author_association":"CONTRIBUTOR","body":"Alright, I'll get on the additional configs.\r\n\r\nThe wizard might be more of a challenge for me, same goes for authoring any new handler tests in elixir. (I was hoping to build off of the JS ones as examples)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/597309803/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/597312679","html_url":"https://github.com/apache/couchdb/pull/2648#issuecomment-597312679","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2648","id":597312679,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NzMxMjY3OQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-10T21:01:45Z","updated_at":"2020-03-10T21:01:45Z","author_association":"MEMBER","body":"Elixir's pretty easy. You might be able to get some help from @dottorblaster who's been on an Elixir kick as of late.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/597312679/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/597338929","html_url":"https://github.com/apache/couchdb/pull/2648#issuecomment-597338929","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2648","id":597338929,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NzMzODkyOQ==","user":{"login":"jjrodrig","id":1001724,"node_id":"MDQ6VXNlcjEwMDE3MjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1001724?v=4","gravatar_id":"","url":"https://api.github.com/users/jjrodrig","html_url":"https://github.com/jjrodrig","followers_url":"https://api.github.com/users/jjrodrig/followers","following_url":"https://api.github.com/users/jjrodrig/following{/other_user}","gists_url":"https://api.github.com/users/jjrodrig/gists{/gist_id}","starred_url":"https://api.github.com/users/jjrodrig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jjrodrig/subscriptions","organizations_url":"https://api.github.com/users/jjrodrig/orgs","repos_url":"https://api.github.com/users/jjrodrig/repos","events_url":"https://api.github.com/users/jjrodrig/events{/privacy}","received_events_url":"https://api.github.com/users/jjrodrig/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-10T22:01:23Z","updated_at":"2020-03-10T22:01:23Z","author_association":"CONTRIBUTOR","body":"Hi @atrauzzi \r\n\r\nI'm currently working on the js to elixir porting.  I can try to help you with the elixir part. \r\n\r\nThis contribution looks great. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/597338929/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/597367015","html_url":"https://github.com/apache/couchdb/pull/2648#issuecomment-597367015","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2648","id":597367015,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NzM2NzAxNQ==","user":{"login":"atrauzzi","id":115199,"node_id":"MDQ6VXNlcjExNTE5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/115199?v=4","gravatar_id":"","url":"https://api.github.com/users/atrauzzi","html_url":"https://github.com/atrauzzi","followers_url":"https://api.github.com/users/atrauzzi/followers","following_url":"https://api.github.com/users/atrauzzi/following{/other_user}","gists_url":"https://api.github.com/users/atrauzzi/gists{/gist_id}","starred_url":"https://api.github.com/users/atrauzzi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atrauzzi/subscriptions","organizations_url":"https://api.github.com/users/atrauzzi/orgs","repos_url":"https://api.github.com/users/atrauzzi/repos","events_url":"https://api.github.com/users/atrauzzi/events{/privacy}","received_events_url":"https://api.github.com/users/atrauzzi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-10T23:21:00Z","updated_at":"2020-03-10T23:21:00Z","author_association":"CONTRIBUTOR","body":"@jjrodrig - Thanks, that would be lovely! Let me know how you'd like to proceed.\r\n\r\nI'm hanging out on the CouchDB slack most of the time lately if you prefer something slightly more synchronous.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/597367015/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/597505396","html_url":"https://github.com/apache/couchdb/pull/2648#issuecomment-597505396","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2648","id":597505396,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NzUwNTM5Ng==","user":{"login":"dottorblaster","id":20770,"node_id":"MDQ6VXNlcjIwNzcw","avatar_url":"https://avatars.githubusercontent.com/u/20770?v=4","gravatar_id":"","url":"https://api.github.com/users/dottorblaster","html_url":"https://github.com/dottorblaster","followers_url":"https://api.github.com/users/dottorblaster/followers","following_url":"https://api.github.com/users/dottorblaster/following{/other_user}","gists_url":"https://api.github.com/users/dottorblaster/gists{/gist_id}","starred_url":"https://api.github.com/users/dottorblaster/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dottorblaster/subscriptions","organizations_url":"https://api.github.com/users/dottorblaster/orgs","repos_url":"https://api.github.com/users/dottorblaster/repos","events_url":"https://api.github.com/users/dottorblaster/events{/privacy}","received_events_url":"https://api.github.com/users/dottorblaster/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-11T08:30:10Z","updated_at":"2020-03-11T08:30:10Z","author_association":"MEMBER","body":"@atrauzzi don't worry about Elixir, we'll guide you if you need! ðŸŽ‰ love this, I'll try to help :-)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/597505396/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/597548915","html_url":"https://github.com/apache/couchdb/pull/2648#issuecomment-597548915","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2648","id":597548915,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NzU0ODkxNQ==","user":{"login":"atrauzzi","id":115199,"node_id":"MDQ6VXNlcjExNTE5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/115199?v=4","gravatar_id":"","url":"https://api.github.com/users/atrauzzi","html_url":"https://github.com/atrauzzi","followers_url":"https://api.github.com/users/atrauzzi/followers","following_url":"https://api.github.com/users/atrauzzi/following{/other_user}","gists_url":"https://api.github.com/users/atrauzzi/gists{/gist_id}","starred_url":"https://api.github.com/users/atrauzzi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atrauzzi/subscriptions","organizations_url":"https://api.github.com/users/atrauzzi/orgs","repos_url":"https://api.github.com/users/atrauzzi/repos","events_url":"https://api.github.com/users/atrauzzi/events{/privacy}","received_events_url":"https://api.github.com/users/atrauzzi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-11T10:13:59Z","updated_at":"2020-03-11T10:13:59Z","author_association":"CONTRIBUTOR","body":"@dottorblaster Great!\r\n\r\nI think that just leaves the \"wizard\". Is that worth having someone more familiar help out with?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/597548915/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/597577807","html_url":"https://github.com/apache/couchdb/pull/2585#issuecomment-597577807","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2585","id":597577807,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NzU3NzgwNw==","user":{"login":"garrensmith","id":179458,"node_id":"MDQ6VXNlcjE3OTQ1OA==","avatar_url":"https://avatars.githubusercontent.com/u/179458?v=4","gravatar_id":"","url":"https://api.github.com/users/garrensmith","html_url":"https://github.com/garrensmith","followers_url":"https://api.github.com/users/garrensmith/followers","following_url":"https://api.github.com/users/garrensmith/following{/other_user}","gists_url":"https://api.github.com/users/garrensmith/gists{/gist_id}","starred_url":"https://api.github.com/users/garrensmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garrensmith/subscriptions","organizations_url":"https://api.github.com/users/garrensmith/orgs","repos_url":"https://api.github.com/users/garrensmith/repos","events_url":"https://api.github.com/users/garrensmith/events{/privacy}","received_events_url":"https://api.github.com/users/garrensmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-11T11:22:02Z","updated_at":"2020-03-11T11:22:02Z","author_association":"MEMBER","body":"Quick update on this. I've cleaned up the commits and all python and eunit tests are passing. Also all pouchdb-find tests are passing.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/597577807/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/597665350","html_url":"https://github.com/apache/couchdb/issues/2441#issuecomment-597665350","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2441","id":597665350,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NzY2NTM1MA==","user":{"login":"pseudooriginal","id":50755619,"node_id":"MDQ6VXNlcjUwNzU1NjE5","avatar_url":"https://avatars.githubusercontent.com/u/50755619?v=4","gravatar_id":"","url":"https://api.github.com/users/pseudooriginal","html_url":"https://github.com/pseudooriginal","followers_url":"https://api.github.com/users/pseudooriginal/followers","following_url":"https://api.github.com/users/pseudooriginal/following{/other_user}","gists_url":"https://api.github.com/users/pseudooriginal/gists{/gist_id}","starred_url":"https://api.github.com/users/pseudooriginal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pseudooriginal/subscriptions","organizations_url":"https://api.github.com/users/pseudooriginal/orgs","repos_url":"https://api.github.com/users/pseudooriginal/repos","events_url":"https://api.github.com/users/pseudooriginal/events{/privacy}","received_events_url":"https://api.github.com/users/pseudooriginal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-11T14:26:05Z","updated_at":"2020-03-11T14:26:05Z","author_association":"NONE","body":"Same problem here on a single node installation. The memory usage is increasing and the server crashes. CouchDB 2.3.1. Does v3.0.0 resolve this issue?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/597665350/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/597684601","html_url":"https://github.com/apache/couchdb/pull/2585#issuecomment-597684601","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2585","id":597684601,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NzY4NDYwMQ==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-11T15:00:20Z","updated_at":"2020-03-11T15:00:20Z","author_association":"MEMBER","body":"Can you update `make check-fdb` to include the commadn to run the mango python tests?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/597684601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/597722282","html_url":"https://github.com/apache/couchdb/issues/2441#issuecomment-597722282","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2441","id":597722282,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NzcyMjI4Mg==","user":{"login":"noahbailey","id":43625401,"node_id":"MDQ6VXNlcjQzNjI1NDAx","avatar_url":"https://avatars.githubusercontent.com/u/43625401?v=4","gravatar_id":"","url":"https://api.github.com/users/noahbailey","html_url":"https://github.com/noahbailey","followers_url":"https://api.github.com/users/noahbailey/followers","following_url":"https://api.github.com/users/noahbailey/following{/other_user}","gists_url":"https://api.github.com/users/noahbailey/gists{/gist_id}","starred_url":"https://api.github.com/users/noahbailey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/noahbailey/subscriptions","organizations_url":"https://api.github.com/users/noahbailey/orgs","repos_url":"https://api.github.com/users/noahbailey/repos","events_url":"https://api.github.com/users/noahbailey/events{/privacy}","received_events_url":"https://api.github.com/users/noahbailey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-11T16:07:23Z","updated_at":"2020-03-11T16:07:23Z","author_association":"NONE","body":"@pseudooriginal My team hasn't migrated to v3.x yet, so it could be some time before we get good data on that. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/597722282/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/597818908","html_url":"https://github.com/apache/couchdb/pull/2648#issuecomment-597818908","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2648","id":597818908,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NzgxODkwOA==","user":{"login":"atrauzzi","id":115199,"node_id":"MDQ6VXNlcjExNTE5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/115199?v=4","gravatar_id":"","url":"https://api.github.com/users/atrauzzi","html_url":"https://github.com/atrauzzi","followers_url":"https://api.github.com/users/atrauzzi/followers","following_url":"https://api.github.com/users/atrauzzi/following{/other_user}","gists_url":"https://api.github.com/users/atrauzzi/gists{/gist_id}","starred_url":"https://api.github.com/users/atrauzzi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atrauzzi/subscriptions","organizations_url":"https://api.github.com/users/atrauzzi/orgs","repos_url":"https://api.github.com/users/atrauzzi/repos","events_url":"https://api.github.com/users/atrauzzi/events{/privacy}","received_events_url":"https://api.github.com/users/atrauzzi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-11T19:15:33Z","updated_at":"2020-03-11T19:15:33Z","author_association":"CONTRIBUTOR","body":"@rnewson - Applied your suggestions (both to existing and the new code I introduced). ðŸ™‚\r\n\r\n- I reworked the configuration into its own section, definitely much nicer.\r\n- Most of the JWT stuff now only happens when the JWT handler has enough of a reason to run.\r\n- I also added new config values for which algorithms to support and timestamp leniency.\r\n\r\nWould it be okay to ask for your help in finding homes for those values & related changes that may be necessary for `jwtf` as well as the asymmetric key support? I'm not familiar with it or what kind of situations it would be used for.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/597818908/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/597996382","html_url":"https://github.com/apache/couchdb/issues/2647#issuecomment-597996382","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2647","id":597996382,"node_id":"MDEyOklzc3VlQ29tbWVudDU5Nzk5NjM4Mg==","user":{"login":"ericlowry","id":8302885,"node_id":"MDQ6VXNlcjgzMDI4ODU=","avatar_url":"https://avatars.githubusercontent.com/u/8302885?v=4","gravatar_id":"","url":"https://api.github.com/users/ericlowry","html_url":"https://github.com/ericlowry","followers_url":"https://api.github.com/users/ericlowry/followers","following_url":"https://api.github.com/users/ericlowry/following{/other_user}","gists_url":"https://api.github.com/users/ericlowry/gists{/gist_id}","starred_url":"https://api.github.com/users/ericlowry/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ericlowry/subscriptions","organizations_url":"https://api.github.com/users/ericlowry/orgs","repos_url":"https://api.github.com/users/ericlowry/repos","events_url":"https://api.github.com/users/ericlowry/events{/privacy}","received_events_url":"https://api.github.com/users/ericlowry/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-12T04:09:13Z","updated_at":"2020-03-12T04:09:13Z","author_association":"NONE","body":"This may be related to my issue  https://github.com/apache/couchdb/issues/2655\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/597996382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598057020","html_url":"https://github.com/apache/couchdb/issues/2635#issuecomment-598057020","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2635","id":598057020,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODA1NzAyMA==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-12T08:05:25Z","updated_at":"2020-03-12T08:05:25Z","author_association":"MEMBER","body":"We don't expose the NGram analyzers in Clouseau today but we'd consider merging a pull request if you want to add it.\r\n\r\nWe don't support setting of that parameter either, and I don't think we'd accept a patch to allow it given it has such bad performance implications.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598057020/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598064052","html_url":"https://github.com/apache/couchdb/issues/2656#issuecomment-598064052","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2656","id":598064052,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODA2NDA1Mg==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-12T08:26:01Z","updated_at":"2020-03-12T08:26:01Z","author_association":"MEMBER","body":"I tried to reproduce this without success (i.e, it worked);\r\n\r\n```\r\nâžœ  ~ curl foo:bar@localhost:15984/db1 -XPUT\r\n{\"ok\":true}\r\n\r\nâžœ  ~ curl foo:bar@localhost:15984/db1/doc1 -XPUT -d '{ \"type\": \"TAGS\", \"origin_id\": \"2\", \"locale\": \"sv_SE\", \"values_translation\": { \"name\": \"GlasstÃ¥rta\", \"explanation\": \"\", \"links\": [], \"alternativeTitle\": [] } }'\r\n{\"ok\":true,\"id\":\"doc1\",\"rev\":\"1-ac04d6c912096181503c60944f35d5a2\"}\r\n\r\nâžœ  ~ curl foo:bar@localhost:15984/db1/doc1\r\n{\"_id\":\"doc1\",\"_rev\":\"1-ac04d6c912096181503c60944f35d5a2\",\"type\":\"TAGS\",\"origin_id\":\"2\",\"locale\":\"sv_SE\",\"values_translation\":{\"name\":\"GlasstÃ¥rta\",\"explanation\":\"\",\"links\":[],\"alternativeTitle\":[]}}\r\n\r\nâžœ  ~ curl 'foo:bar@localhost:15984/db1/_all_docs?include_docs=true'\r\n{\"total_rows\":1,\"offset\":0,\"rows\":[\r\n{\"id\":\"doc1\",\"key\":\"doc1\",\"value\":{\"rev\":\"1-ac04d6c912096181503c60944f35d5a2\"},\"doc\":{\"_id\":\"doc1\",\"_rev\":\"1-ac04d6c912096181503c60944f35d5a2\",\"type\":\"TAGS\",\"origin_id\":\"2\",\"locale\":\"sv_SE\",\"values_translation\":{\"name\":\"GlasstÃ¥rta\",\"explanation\":\"\",\"links\":[],\"alternativeTitle\":[]}}}\r\n]}\r\n\r\nâžœ  ~ curl 'foo:bar@localhost:15984/db1/_design/foo' -XPUT -d '{\"views\":{\"bar\":{\"map\":\"function(doc){emit([doc.type, doc.origin_id]);}\"}}}'\r\n{\"ok\":true,\"id\":\"_design/foo\",\"rev\":\"1-eb26a625dc5f7da1c4b50b29db08a1b9\"}\r\n\r\nâžœ  ~ curl 'foo:bar@localhost:15984/db1/_design/foo/_view/bar?key=[\"TAGS\",\"2\"]' -g\r\n{\"total_rows\":1,\"offset\":0,\"rows\":[\r\n{\"id\":\"doc1\",\"key\":[\"TAGS\",\"2\"],\"value\":null}\r\n]}\r\n\r\nâžœ  ~ curl 'foo:bar@localhost:15984/db1/_design/foo/_view/bar?key=[\"TAGS\",\"2\"]&include_docs=true' -g\r\n{\"total_rows\":1,\"offset\":0,\"rows\":[\r\n{\"id\":\"doc1\",\"key\":[\"TAGS\",\"2\"],\"value\":null,\"doc\":{\"_id\":\"doc1\",\"_rev\":\"1-ac04d6c912096181503c60944f35d5a2\",\"type\":\"TAGS\",\"origin_id\":\"2\",\"locale\":\"sv_SE\",\"values_translation\":{\"name\":\"GlasstÃ¥rta\",\"explanation\":\"\",\"links\":[],\"alternativeTitle\":[]}}}\r\n]}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598064052/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598072462","html_url":"https://github.com/apache/couchdb/issues/2647#issuecomment-598072462","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2647","id":598072462,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODA3MjQ2Mg==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-12T08:49:02Z","updated_at":"2020-03-12T08:49:02Z","author_association":"MEMBER","body":"same cause as https://github.com/apache/couchdb/issues/2655, yup. A PR is up for it.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598072462/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598072759","html_url":"https://github.com/apache/couchdb/issues/2643#issuecomment-598072759","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2643","id":598072759,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODA3Mjc1OQ==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-12T08:49:45Z","updated_at":"2020-03-12T08:49:45Z","author_association":"MEMBER","body":"PR is merged.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598072759/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598073450","html_url":"https://github.com/apache/couchdb/issues/2599#issuecomment-598073450","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2599","id":598073450,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODA3MzQ1MA==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-12T08:51:28Z","updated_at":"2020-03-12T08:51:28Z","author_association":"MEMBER","body":"The notion of \"server_admin\" only exists in Cloudant because it is a multi-tenant variant of CouchDB. As such, the error messages are appropriate for both products and the variance is reasonable.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598073450/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598091043","html_url":"https://github.com/apache/couchdb/issues/2656#issuecomment-598091043","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2656","id":598091043,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODA5MTA0Mw==","user":{"login":"mapmalith","id":13406939,"node_id":"MDQ6VXNlcjEzNDA2OTM5","avatar_url":"https://avatars.githubusercontent.com/u/13406939?v=4","gravatar_id":"","url":"https://api.github.com/users/mapmalith","html_url":"https://github.com/mapmalith","followers_url":"https://api.github.com/users/mapmalith/followers","following_url":"https://api.github.com/users/mapmalith/following{/other_user}","gists_url":"https://api.github.com/users/mapmalith/gists{/gist_id}","starred_url":"https://api.github.com/users/mapmalith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mapmalith/subscriptions","organizations_url":"https://api.github.com/users/mapmalith/orgs","repos_url":"https://api.github.com/users/mapmalith/repos","events_url":"https://api.github.com/users/mapmalith/events{/privacy}","received_events_url":"https://api.github.com/users/mapmalith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-12T09:33:11Z","updated_at":"2020-03-12T09:34:15Z","author_association":"NONE","body":"Thanks for your response. It worked on the 2.3.1 version and I recently updated the CouchDB version to 3.0.0 and then this issue occurred. Did you try on Couch 3.0.0 or any other different version?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598091043/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598098805","html_url":"https://github.com/apache/couchdb/issues/2656#issuecomment-598098805","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2656","id":598098805,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODA5ODgwNQ==","user":{"login":"willholley","id":97787,"node_id":"MDQ6VXNlcjk3Nzg3","avatar_url":"https://avatars.githubusercontent.com/u/97787?v=4","gravatar_id":"","url":"https://api.github.com/users/willholley","html_url":"https://github.com/willholley","followers_url":"https://api.github.com/users/willholley/followers","following_url":"https://api.github.com/users/willholley/following{/other_user}","gists_url":"https://api.github.com/users/willholley/gists{/gist_id}","starred_url":"https://api.github.com/users/willholley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willholley/subscriptions","organizations_url":"https://api.github.com/users/willholley/orgs","repos_url":"https://api.github.com/users/willholley/repos","events_url":"https://api.github.com/users/willholley/events{/privacy}","received_events_url":"https://api.github.com/users/willholley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-12T09:51:59Z","updated_at":"2020-03-12T09:51:59Z","author_association":"MEMBER","body":"@mapmalith I also cannot reproduce using the 3.0.0 docker image. Are you able to provide reproduction steps using `curl`?\r\n\r\n```\r\nâ¯ docker run -p 15984:5984 --name couchdb -e COUCHDB_USER=foo -e COUCHDB_PASSWORD=bar -d apache/couchdb:3.0.0\r\n1879c71d0eafdbb6d0836277d689de5d53061f75c3e8b7c35278f6cd3af1fd74\r\n\r\nâ¯ curl foo:bar@localhost:15984/db1 -XPUT\r\n{\"ok\":true}\r\n\r\nâ¯ curl foo:bar@localhost:15984/db1/doc1 -XPUT -d '{ \"type\": \"TAGS\", \"origin_id\": \"2\", \"locale\": \"sv_SE\", \"values_translation\": { \"name\": \"GlasstÃ¥rta\", \"explanation\": \"\", \"links\": [], \"alternativeTitle\": [] } }'\r\n{\"ok\":true,\"id\":\"doc1\",\"rev\":\"1-ac04d6c912096181503c60944f35d5a2\"}\r\n\r\nâ¯ curl foo:bar@localhost:15984/db1/doc1\r\n{\"_id\":\"doc1\",\"_rev\":\"1-ac04d6c912096181503c60944f35d5a2\",\"type\":\"TAGS\",\"origin_id\":\"2\",\"locale\":\"sv_SE\",\"values_translation\":{\"name\":\"GlasstÃ¥rta\",\"explanation\":\"\",\"links\":[],\"alternativeTitle\":[]}}\r\n\r\nâ¯ curl 'foo:bar@localhost:15984/db1/_all_docs?include_docs=true'\r\n{\"total_rows\":1,\"offset\":0,\"rows\":[\r\n{\"id\":\"doc1\",\"key\":\"doc1\",\"value\":{\"rev\":\"1-ac04d6c912096181503c60944f35d5a2\"},\"doc\":{\"_id\":\"doc1\",\"_rev\":\"1-ac04d6c912096181503c60944f35d5a2\",\"type\":\"TAGS\",\"origin_id\":\"2\",\"locale\":\"sv_SE\",\"values_translation\":{\"name\":\"GlasstÃ¥rta\",\"explanation\":\"\",\"links\":[],\"alternativeTitle\":[]}}}\r\n]}\r\n\r\nâ¯ curl 'foo:bar@localhost:15984/db1/_design/foo' -XPUT -d '{\"views\":{\"bar\":{\"map\":\"function(doc){emit([doc.type, doc.origin_id]);}\"}}}'\r\n{\"ok\":true,\"id\":\"_design/foo\",\"rev\":\"1-c3ad517780c931044cbb1c8e88bf46b6\"}\r\n\r\nâ¯ curl 'foo:bar@localhost:15984/db1/_design/foo/_view/bar?key=[\"TAGS\",\"2\"]' -g\r\n{\"total_rows\":1,\"offset\":0,\"rows\":[\r\n{\"id\":\"doc1\",\"key\":[\"TAGS\",\"2\"],\"value\":null}\r\n]}\r\n\r\nâ¯ curl 'foo:bar@localhost:15984/db1/_design/foo/_view/bar?key=[\"TAGS\",\"2\"]&include_docs=true' -g\r\n{\"total_rows\":1,\"offset\":0,\"rows\":[\r\n{\"id\":\"doc1\",\"key\":[\"TAGS\",\"2\"],\"value\":null,\"doc\":{\"_id\":\"doc1\",\"_rev\":\"1-ac04d6c912096181503c60944f35d5a2\",\"type\":\"TAGS\",\"origin_id\":\"2\",\"locale\":\"sv_SE\",\"values_translation\":{\"name\":\"GlasstÃ¥rta\",\"explanation\":\"\",\"links\":[],\"alternativeTitle\":[]}}}\r\n]}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598098805/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598136230","html_url":"https://github.com/apache/couchdb/issues/2656#issuecomment-598136230","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2656","id":598136230,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODEzNjIzMA==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-12T11:26:00Z","updated_at":"2020-03-12T11:26:00Z","author_association":"MEMBER","body":"can you introspect what character encoding your setup used? my terminal uses utf-8 which is exactly what couchdb requires.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598136230/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598142491","html_url":"https://github.com/apache/couchdb/issues/2656#issuecomment-598142491","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2656","id":598142491,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODE0MjQ5MQ==","user":{"login":"mapmalith","id":13406939,"node_id":"MDQ6VXNlcjEzNDA2OTM5","avatar_url":"https://avatars.githubusercontent.com/u/13406939?v=4","gravatar_id":"","url":"https://api.github.com/users/mapmalith","html_url":"https://github.com/mapmalith","followers_url":"https://api.github.com/users/mapmalith/followers","following_url":"https://api.github.com/users/mapmalith/following{/other_user}","gists_url":"https://api.github.com/users/mapmalith/gists{/gist_id}","starred_url":"https://api.github.com/users/mapmalith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mapmalith/subscriptions","organizations_url":"https://api.github.com/users/mapmalith/orgs","repos_url":"https://api.github.com/users/mapmalith/repos","events_url":"https://api.github.com/users/mapmalith/events{/privacy}","received_events_url":"https://api.github.com/users/mapmalith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-12T11:43:30Z","updated_at":"2020-03-12T11:46:54Z","author_association":"NONE","body":"EDIT: Sorry mistakenly I have closed this so I have reopened again.\r\n\r\n@willholley My `curl` request \r\n\r\n`http://user:pass@localhost:5987/db/_design/contrans/_view/type_id?key=[\"TAGS\",\"2\"]&include_docs=true`\r\n\r\nand the response:\r\n\r\n`{\r\n    \"error\": \"invalid_json\",\r\n    \"reason\": \"{599,invalid_string}\",\r\n    \"ref\": 3722911048\r\n}`\r\n\r\n@rnewson it is UTF-8 and I have tried the same with use of `POSTMAN` and still the same\r\n\r\n**NOTE:** Please try to remove the Docker volume first and then recreate the issue. TIA","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598142491/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598157980","html_url":"https://github.com/apache/couchdb/pull/2648#issuecomment-598157980","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2648","id":598157980,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODE1Nzk4MA==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-12T12:26:04Z","updated_at":"2020-03-12T12:26:04Z","author_association":"MEMBER","body":"fyi, we'll import jwtf and its history directly into the project: https://github.com/apache/couchdb/pull/2658","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598157980/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598158199","html_url":"https://github.com/apache/couchdb/issues/2656#issuecomment-598158199","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2656","id":598158199,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODE1ODE5OQ==","user":{"login":"willholley","id":97787,"node_id":"MDQ6VXNlcjk3Nzg3","avatar_url":"https://avatars.githubusercontent.com/u/97787?v=4","gravatar_id":"","url":"https://api.github.com/users/willholley","html_url":"https://github.com/willholley","followers_url":"https://api.github.com/users/willholley/followers","following_url":"https://api.github.com/users/willholley/following{/other_user}","gists_url":"https://api.github.com/users/willholley/gists{/gist_id}","starred_url":"https://api.github.com/users/willholley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willholley/subscriptions","organizations_url":"https://api.github.com/users/willholley/orgs","repos_url":"https://api.github.com/users/willholley/repos","events_url":"https://api.github.com/users/willholley/events{/privacy}","received_events_url":"https://api.github.com/users/willholley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-12T12:26:40Z","updated_at":"2020-03-12T12:26:40Z","author_association":"MEMBER","body":"@mapmalith:\r\n```\r\nâ¯ docker system prune --all\r\nWARNING! This will remove:\r\n  - all stopped containers\r\n  - all networks not used by at least one container\r\n  - all images without at least one container associated to them\r\n  - all build cache\r\n\r\nAre you sure you want to continue? [y/N] y\r\nTotal reclaimed space: 0B\r\n\r\nâ¯ docker ps -a\r\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\r\n\r\nâ¯ docker run -p 15984:5984 --name couchdb -e COUCHDB_USER=foo -e COUCHDB_PASSWORD=bar -d apache/couchdb:3.0.0\r\nUnable to find image 'apache/couchdb:3.0.0' locally\r\n3.0.0: Pulling from apache/couchdb\r\nbc51dd8edc1b: Pull complete\r\ne0721285bf8f: Pull complete\r\nee5697af831d: Pull complete\r\n67c9b4d1304d: Pull complete\r\nc89263c9a78d: Pull complete\r\nc9b69236695d: Pull complete\r\n4305dca323a8: Pull complete\r\ndbededea05b4: Pull complete\r\nfca0a8bd1d32: Pull complete\r\n16f51bce7f90: Pull complete\r\ndf657153d78f: Pull complete\r\nDigest: sha256:3a194f9c1c68ce919cb5c77162bcbfc41457952f63465b010b81ade1bdf69ab5\r\nStatus: Downloaded newer image for apache/couchdb:3.0.0\r\n23de4a8ba927227fffea5006b1b5add88046a7fdf3d40bdb365e217bcafc35a8\r\n\r\nâ¯  curl foo:bar@localhost:15984/db1 -XPUT\r\n{\"ok\":true}\r\n\r\nâ¯ curl foo:bar@localhost:15984/db1/doc1 -XPUT -d '{ \"type\": \"TAGS\", \"origin_id\": \"2\", \"locale\": \"sv_SE\", \"values_translation\": { \"name\": \"GlasstÃ¥rta\", \"explanation\": \"\", \"links\": [], \"alternativeTitle\": [] } }'\r\n{\"ok\":true,\"id\":\"doc1\",\"rev\":\"1-ac04d6c912096181503c60944f35d5a2\"}\r\n\r\nâ¯ curl foo:bar@localhost:15984/db1/doc1\r\n{\"_id\":\"doc1\",\"_rev\":\"1-ac04d6c912096181503c60944f35d5a2\",\"type\":\"TAGS\",\"origin_id\":\"2\",\"locale\":\"sv_SE\",\"values_translation\":{\"name\":\"GlasstÃ¥rta\",\"explanation\":\"\",\"links\":[],\"alternativeTitle\":[]}}\r\n\r\nâ¯ curl 'foo:bar@localhost:15984/db1/_all_docs?include_docs=true'\r\n{\"total_rows\":1,\"offset\":0,\"rows\":[\r\n{\"id\":\"doc1\",\"key\":\"doc1\",\"value\":{\"rev\":\"1-ac04d6c912096181503c60944f35d5a2\"},\"doc\":{\"_id\":\"doc1\",\"_rev\":\"1-ac04d6c912096181503c60944f35d5a2\",\"type\":\"TAGS\",\"origin_id\":\"2\",\"locale\":\"sv_SE\",\"values_translation\":{\"name\":\"GlasstÃ¥rta\",\"explanation\":\"\",\"links\":[],\"alternativeTitle\":[]}}}\r\n]}\r\n\r\nâ¯ curl 'foo:bar@localhost:15984/db1/_design/foo' -XPUT -d '{\"views\":{\"bar\":{\"map\":\"function(doc){emit([doc.type, doc.origin_id]);}\"}}}'\r\n{\"ok\":true,\"id\":\"_design/foo\",\"rev\":\"1-c3ad517780c931044cbb1c8e88bf46b6\"}\r\n\r\nâ¯ curl 'foo:bar@localhost:15984/db1/_design/foo/_view/bar?key=[\"TAGS\",\"2\"]' -g\r\n{\"total_rows\":1,\"offset\":0,\"rows\":[\r\n{\"id\":\"doc1\",\"key\":[\"TAGS\",\"2\"],\"value\":null}\r\n]}\r\n\r\nâ¯ curl 'foo:bar@localhost:15984/db1/_design/foo/_view/bar?key=[\"TAGS\",\"2\"]&include_docs=true' -g\r\n{\"total_rows\":1,\"offset\":0,\"rows\":[\r\n{\"id\":\"doc1\",\"key\":[\"TAGS\",\"2\"],\"value\":null,\"doc\":{\"_id\":\"doc1\",\"_rev\":\"1-ac04d6c912096181503c60944f35d5a2\",\"type\":\"TAGS\",\"origin_id\":\"2\",\"locale\":\"sv_SE\",\"values_translation\":{\"name\":\"GlasstÃ¥rta\",\"explanation\":\"\",\"links\":[],\"alternativeTitle\":[]}}}\r\n]}\r\n```\r\n\r\nAs mentioned previously, it's difficult to take this further unless you can provide explicit steps to reproduce, starting with an empty container. Is there anything in the container logs that points to where the error is generated?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598158199/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598168597","html_url":"https://github.com/apache/couchdb/issues/2656#issuecomment-598168597","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2656","id":598168597,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODE2ODU5Nw==","user":{"login":"mapmalith","id":13406939,"node_id":"MDQ6VXNlcjEzNDA2OTM5","avatar_url":"https://avatars.githubusercontent.com/u/13406939?v=4","gravatar_id":"","url":"https://api.github.com/users/mapmalith","html_url":"https://github.com/mapmalith","followers_url":"https://api.github.com/users/mapmalith/followers","following_url":"https://api.github.com/users/mapmalith/following{/other_user}","gists_url":"https://api.github.com/users/mapmalith/gists{/gist_id}","starred_url":"https://api.github.com/users/mapmalith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mapmalith/subscriptions","organizations_url":"https://api.github.com/users/mapmalith/orgs","repos_url":"https://api.github.com/users/mapmalith/repos","events_url":"https://api.github.com/users/mapmalith/events{/privacy}","received_events_url":"https://api.github.com/users/mapmalith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-12T12:52:46Z","updated_at":"2020-03-12T12:56:19Z","author_association":"NONE","body":"@willholley Thanks for your response and below the CouchDb log on the container.\r\n\r\n`[error] 2020-03-12T12:49:53.604557Z nonode@nohost <0.24151.0> e1803df291 req_err(3722911048) invalid_json : {599,invalid_string}\r\n    [<<\"couch_mrview_util:get_view_index_state/5 L138\">>,<<\"couch_mrview_util:get_view/4 L82\">>,<<\"couch_mrview:query_view/6 L262\">>,<<\"rexi_server:init_p/3 L138\">>]\r\n[notice] 2020-03-12T12:49:53.610369Z nonode@nohost <0.24151.0> e1803df291 localhost:5987 172.18.0.1 contrans_user GET /translations/_design/contrans/_view/type_id/?key%5C=%5C[%22TAGS%22,%225108be900473ae3330f451999fa029a9%22%5C]%5C&include_docs%5C=true 500 ok 353`\r\n\r\nIn addition to that there is another error when the CouchDB is idle (If you need further information on logs only).\r\n`[error] 2020-03-12T12:55:05.705836Z nonode@nohost emulator -------- Error in process <0.26774.0> with exit value:`","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598168597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598212487","html_url":"https://github.com/apache/couchdb/issues/2635#issuecomment-598212487","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2635","id":598212487,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODIxMjQ4Nw==","user":{"login":"natcohen","id":7813574,"node_id":"MDQ6VXNlcjc4MTM1NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7813574?v=4","gravatar_id":"","url":"https://api.github.com/users/natcohen","html_url":"https://github.com/natcohen","followers_url":"https://api.github.com/users/natcohen/followers","following_url":"https://api.github.com/users/natcohen/following{/other_user}","gists_url":"https://api.github.com/users/natcohen/gists{/gist_id}","starred_url":"https://api.github.com/users/natcohen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/natcohen/subscriptions","organizations_url":"https://api.github.com/users/natcohen/orgs","repos_url":"https://api.github.com/users/natcohen/repos","events_url":"https://api.github.com/users/natcohen/events{/privacy}","received_events_url":"https://api.github.com/users/natcohen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-12T14:19:22Z","updated_at":"2020-03-12T14:19:22Z","author_association":"NONE","body":"@rnewson I'd love to contribute and add the n-gram analyzer. Unfortunately I don't know Erlang and working on Clouseau is a bit overwhelming since the project seams quite complex with very little documentation... I m also not an expert in Java so that doesn't help either!\r\n\r\nRegarding the leading wildcard parameter, it was just an example! I don't plan to use it but wanted to know if there was a way to use all the parameters Lucene offers.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598212487/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598255575","html_url":"https://github.com/apache/couchdb/issues/2647#issuecomment-598255575","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2647","id":598255575,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODI1NTU3NQ==","user":{"login":"ericlowry","id":8302885,"node_id":"MDQ6VXNlcjgzMDI4ODU=","avatar_url":"https://avatars.githubusercontent.com/u/8302885?v=4","gravatar_id":"","url":"https://api.github.com/users/ericlowry","html_url":"https://github.com/ericlowry","followers_url":"https://api.github.com/users/ericlowry/followers","following_url":"https://api.github.com/users/ericlowry/following{/other_user}","gists_url":"https://api.github.com/users/ericlowry/gists{/gist_id}","starred_url":"https://api.github.com/users/ericlowry/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ericlowry/subscriptions","organizations_url":"https://api.github.com/users/ericlowry/orgs","repos_url":"https://api.github.com/users/ericlowry/repos","events_url":"https://api.github.com/users/ericlowry/events{/privacy}","received_events_url":"https://api.github.com/users/ericlowry/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-12T15:36:03Z","updated_at":"2020-03-12T15:36:03Z","author_association":"NONE","body":"Thanks!  BTW - I love this feature, solves a bunch of challenges I had with couch db's \"native\" auth services","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598255575/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598256035","html_url":"https://github.com/apache/couchdb/issues/2655#issuecomment-598256035","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2655","id":598256035,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODI1NjAzNQ==","user":{"login":"ericlowry","id":8302885,"node_id":"MDQ6VXNlcjgzMDI4ODU=","avatar_url":"https://avatars.githubusercontent.com/u/8302885?v=4","gravatar_id":"","url":"https://api.github.com/users/ericlowry","html_url":"https://github.com/ericlowry","followers_url":"https://api.github.com/users/ericlowry/followers","following_url":"https://api.github.com/users/ericlowry/following{/other_user}","gists_url":"https://api.github.com/users/ericlowry/gists{/gist_id}","starred_url":"https://api.github.com/users/ericlowry/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ericlowry/subscriptions","organizations_url":"https://api.github.com/users/ericlowry/orgs","repos_url":"https://api.github.com/users/ericlowry/repos","events_url":"https://api.github.com/users/ericlowry/events{/privacy}","received_events_url":"https://api.github.com/users/ericlowry/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-12T15:36:57Z","updated_at":"2020-03-12T15:36:57Z","author_association":"NONE","body":"Thanks! great stuff!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598256035/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598316811","html_url":"https://github.com/apache/couchdb/issues/2656#issuecomment-598316811","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2656","id":598316811,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODMxNjgxMQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-12T17:31:27Z","updated_at":"2020-03-12T17:31:27Z","author_association":"MEMBER","body":"@mapmalith Are you sure you're quoting your strings correctly in the shell? Take a close look at how @willholley did it.\r\n\r\nPlease paste 100% of your steps necessary to reproduce to this ticket, directly out of your shell, including quoting. My bet is that the shell is interpreting something wrong.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598316811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598317124","html_url":"https://github.com/apache/couchdb/issues/2599#issuecomment-598317124","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2599","id":598317124,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODMxNzEyNA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-12T17:32:03Z","updated_at":"2020-03-12T17:32:03Z","author_association":"MEMBER","body":"@rnewson is it time to close this, or?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598317124/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598628592","html_url":"https://github.com/apache/couchdb/pull/2648#issuecomment-598628592","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2648","id":598628592,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODYyODU5Mg==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T09:25:01Z","updated_at":"2020-03-13T09:25:01Z","author_association":"MEMBER","body":"morning, I think we're almost there on the code change, just a few small comments today.\r\n\r\nWe need some tests (a positive and negative auth) and docs. I will take on the doc side of things if you like, as I want to expand on the varieties of JWT auth allowed.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598628592/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598926607","html_url":"https://github.com/apache/couchdb/issues/2344#issuecomment-598926607","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2344","id":598926607,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODkyNjYwNw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T21:50:14Z","updated_at":"2020-03-13T21:50:14Z","author_association":"MEMBER","body":"As Will Holley says,\r\n\r\n> CouchDB doesn't support NFS explicitly - it assumes a POSIX-compatible filesystem - so you risk file corruption and/or unhandled errors like this. It doesn't look like a docker-specific problem so perhaps ask on the couchdb-users mailing list if anybody else has seen similar errors?\r\n\r\nClosing.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598926607/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598927386","html_url":"https://github.com/apache/couchdb/issues/2307#issuecomment-598927386","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2307","id":598927386,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODkyNzM4Ng==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T21:51:32Z","updated_at":"2020-03-13T21:51:32Z","author_association":"MEMBER","body":"Closing due to no response for 3 months.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598927386/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598931592","html_url":"https://github.com/apache/couchdb/issues/1884#issuecomment-598931592","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1884","id":598931592,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODkzMTU5Mg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T21:55:40Z","updated_at":"2020-03-13T21:55:40Z","author_association":"MEMBER","body":"We seem to be very happy with SM60, and in a good place to update to newer versions of SM.\r\n\r\nClosing until we need a non-SM replacement.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598931592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598932105","html_url":"https://github.com/apache/couchdb/issues/1575#issuecomment-598932105","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1575","id":598932105,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODkzMjEwNQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T21:56:08Z","updated_at":"2020-03-13T21:56:08Z","author_association":"MEMBER","body":"Closing as no action for >1 year.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598932105/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598936612","html_url":"https://github.com/apache/couchdb/issues/1964#issuecomment-598936612","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1964","id":598936612,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODkzNjYxMg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T22:00:26Z","updated_at":"2020-03-13T22:00:26Z","author_association":"MEMBER","body":"@AlexanderKaraberov If you'd like to submit a PR for this for 3.x, please do so - be sure to target the `3.x` branch, not `master`, as obviously this change wouldn't make sense for CouchDB 4.x.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598936612/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598938961","html_url":"https://github.com/apache/couchdb/pull/1997#issuecomment-598938961","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1997","id":598938961,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODkzODk2MQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T22:02:45Z","updated_at":"2020-03-13T22:02:45Z","author_association":"MEMBER","body":"Hi @jjrodrig , any desire to get this updated and merged into the `3.x` and `3.0.x` branches as well?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598938961/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598947559","html_url":"https://github.com/apache/couchdb/issues/1995#issuecomment-598947559","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1995","id":598947559,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODk0NzU1OQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T22:11:05Z","updated_at":"2020-03-13T22:11:05Z","author_association":"MEMBER","body":"I'm going to close this issue as a documentation workaround issue.\r\n\r\n@tabeth Yes, if you'd like to document this as a workaround with a PR against the couchdb-documentation repo, that'd be great. We'd welcome your contribution!\r\n\r\n@BananaAcid Not easily, no, but if you want to dig in, the code's under the chttpd_auth_cache somewhere.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598947559/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598948437","html_url":"https://github.com/apache/couchdb/issues/2010#issuecomment-598948437","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2010","id":598948437,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODk0ODQzNw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T22:11:58Z","updated_at":"2020-03-13T22:11:58Z","author_association":"MEMBER","body":"Hi there,\r\n\r\nThis is not a CouchDB bug. GitHub is for actual CouchDB bugs only.\r\n\r\nIf you are looking for general support with using CouchDB, please try one of these other options:\r\n\r\n* The user mailing list. Signup instructions are [here](http://couchdb.apache.org/#mailing-lists)\r\n* The Slack/IRC chat room. Joining instructions are [here](http://couchdb.apache.org/#chat)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598948437/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598953820","html_url":"https://github.com/apache/couchdb/issues/2015#issuecomment-598953820","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2015","id":598953820,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODk1MzgyMA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T22:20:08Z","updated_at":"2020-03-13T22:20:08Z","author_association":"MEMBER","body":"@rnewson @davisp @janl In light of 4.0 development, we should decide one way or the other on this.\r\n\r\nIn short: are we going to allow user-defined `_rev` values in 4.0? Or no?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598953820/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598953999","html_url":"https://github.com/apache/couchdb/issues/2022#issuecomment-598953999","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2022","id":598953999,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODk1Mzk5OQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T22:20:44Z","updated_at":"2020-03-13T22:20:44Z","author_association":"MEMBER","body":"No test case, please reopen at https://github.com/apache/couchdb-fauxton/","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598953999/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598955240","html_url":"https://github.com/apache/couchdb/issues/2079#issuecomment-598955240","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2079","id":598955240,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODk1NTI0MA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T22:24:22Z","updated_at":"2020-03-13T22:24:22Z","author_association":"MEMBER","body":"There were a lot of memory leaks cleaned up in 2.3.1 and 3.0.0. Please try reproducing this with the very latest Docker image. If you can, please reopen the issue.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598955240/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598955720","html_url":"https://github.com/apache/couchdb/issues/2082#issuecomment-598955720","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2082","id":598955720,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODk1NTcyMA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T22:25:41Z","updated_at":"2020-03-13T22:25:41Z","author_association":"MEMBER","body":"Hi @alanbk266 , \r\n\r\nWe believe this issue is resolved in CouchDB 3.0.0, based on the new auto-compaction backend. Can you please test? If not, we'll reopen this issue.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598955720/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598956011","html_url":"https://github.com/apache/couchdb/issues/2097#issuecomment-598956011","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2097","id":598956011,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODk1NjAxMQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T22:26:42Z","updated_at":"2020-03-13T22:26:42Z","author_association":"MEMBER","body":"This is indeed a corrupt shard file. You need to restore from backup.\r\n\r\nPlease be aware that CouchDB does not support storing the .couch shard files on a NAS/SAN, especially over NFS. This can result in exactly the sort of corruption you're seeing.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598956011/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598956704","html_url":"https://github.com/apache/couchdb/issues/2116#issuecomment-598956704","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2116","id":598956704,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODk1NjcwNA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T22:29:04Z","updated_at":"2020-03-13T22:29:04Z","author_association":"MEMBER","body":"Haven't seen this one in a few months, but let's keep it open for now.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598956704/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598956928","html_url":"https://github.com/apache/couchdb/issues/2120#issuecomment-598956928","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2120","id":598956928,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODk1NjkyOA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T22:29:45Z","updated_at":"2020-03-13T22:29:45Z","author_association":"MEMBER","body":"Hi @natarajaya,\r\n\r\nAs you said, this is not a CouchDB bug. GitHub is for actual CouchDB bugs only. Unfortunately this means your question got ignored.\r\n\r\nIf you are looking for general support with using CouchDB, please try one of these other options:\r\n\r\n* The user mailing list. Signup instructions are [here](http://couchdb.apache.org/#mailing-lists)\r\n* The Slack/IRC chat room. Joining instructions are [here](http://couchdb.apache.org/#chat)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598956928/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598957450","html_url":"https://github.com/apache/couchdb/issues/2124#issuecomment-598957450","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2124","id":598957450,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODk1NzQ1MA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T22:31:40Z","updated_at":"2020-03-13T22:31:40Z","author_association":"MEMBER","body":"Hi @oliverdain ,\r\n\r\nThat'll be because the `_all_docs` index *is* what we check to see if no matching index was found. :smile: \r\n\r\nIt sounds like you'd need a special case for this Mango query where we suppress the warning when *only* the `_id` field is being used.\r\n\r\nOut of curiosity, why use the Mango API here instead of just using the `/{db}/_all_docs` endpoint?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598957450/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598960989","html_url":"https://github.com/apache/couchdb/issues/2139#issuecomment-598960989","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2139","id":598960989,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODk2MDk4OQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T22:44:08Z","updated_at":"2020-03-13T22:44:08Z","author_association":"MEMBER","body":"@manufont Yup, that's expected in the target, since the document \"tombstone\" won't appear in the target.\r\n\r\nAs for your primary case, reducing _revs_limit creates replication issues. If a common ancestor of an update cannot be found, then a new branch is created - in other words, a conflict is created.\r\n\r\nWe don't recommend changing _revs_limit at all, so we're going to have to close this as outside of our recommended usage guidelines. Sorry about that.\r\n\r\nSee #1994 for a similar situation.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598960989/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598961966","html_url":"https://github.com/apache/couchdb/issues/2187#issuecomment-598961966","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2187","id":598961966,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODk2MTk2Ng==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T22:47:11Z","updated_at":"2020-03-13T22:47:11Z","author_association":"MEMBER","body":"No response for ~6 months; closing.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598961966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598962554","html_url":"https://github.com/apache/couchdb/issues/2210#issuecomment-598962554","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2210","id":598962554,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODk2MjU1NA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T22:49:00Z","updated_at":"2020-03-13T22:49:00Z","author_association":"MEMBER","body":"@lostnet If you'd like this issue to get more attention, please put up a PR. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598962554/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598963861","html_url":"https://github.com/apache/couchdb/issues/2232#issuecomment-598963861","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2232","id":598963861,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODk2Mzg2MQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T22:53:35Z","updated_at":"2020-03-13T22:53:35Z","author_association":"MEMBER","body":"@AlexanderKaraberov Any chance of a PR on this against 3.0.0?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598963861/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598964215","html_url":"https://github.com/apache/couchdb/issues/2239#issuecomment-598964215","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2239","id":598964215,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODk2NDIxNQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T22:54:57Z","updated_at":"2020-03-13T22:54:57Z","author_association":"MEMBER","body":"This has been resolved in CouchDB 3.0.0. We do not expect another 2.x release at this point. Thanks for this report!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598964215/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598964874","html_url":"https://github.com/apache/couchdb/issues/2256#issuecomment-598964874","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2256","id":598964874,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODk2NDg3NA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T22:57:44Z","updated_at":"2020-03-13T22:57:44Z","author_association":"MEMBER","body":"We believe your problem has been fixed, as the compaction daemon was completely replaced in CouchDB 3.0.0. Please test with 3.0.0, and if this problem recurs, please re-tag this issue.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598964874/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598965448","html_url":"https://github.com/apache/couchdb/issues/2269#issuecomment-598965448","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2269","id":598965448,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODk2NTQ0OA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T23:00:03Z","updated_at":"2020-03-13T23:00:03Z","author_association":"MEMBER","body":"Hi @technipfmc-houston ,\r\n\r\nYou need to increase your stack size setting; this was a change between 1.x and 2.x for security reasons. Please see https://docs.couchdb.org/en/stable/whatsnew/2.3.html#upgrade-notes for details.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598965448/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598967371","html_url":"https://github.com/apache/couchdb/issues/2369#issuecomment-598967371","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2369","id":598967371,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODk2NzM3MQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T23:08:39Z","updated_at":"2020-03-13T23:08:39Z","author_association":"MEMBER","body":"For now I'm going to close this as not a bug - sounds like an interaction with CouchDB behind CloudFlare.\r\n\r\nIf you're able to get any more detailed info on what CloudFlare does to mangle the cookie, that'd be most appreciated. We can always reopen this if something obvious presents itself.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598967371/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598967542","html_url":"https://github.com/apache/couchdb/issues/2372#issuecomment-598967542","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2372","id":598967542,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODk2NzU0Mg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T23:09:19Z","updated_at":"2020-03-13T23:09:19Z","author_association":"MEMBER","body":"@jiangphcn Any chance of working on this one? I don't want to let this get forgotten.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598967542/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598967954","html_url":"https://github.com/apache/couchdb/issues/2430#issuecomment-598967954","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2430","id":598967954,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODk2Nzk1NA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T23:11:11Z","updated_at":"2020-03-13T23:11:11Z","author_association":"MEMBER","body":"This doesn't sound like a CouchDB issue, but an intra-node networking issue - something that's known to cause issues with CouchDB clustering in 2.x and 3.x. We'd recommend you re-try your setup with the 3.0.0 image as well, if you can.\r\n\r\nGoing to close for now, but if an issue that's specific to CouchDB can be isolated, we're always happy to reopen.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598967954/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598968173","html_url":"https://github.com/apache/couchdb/issues/2485#issuecomment-598968173","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2485","id":598968173,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODk2ODE3Mw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T23:12:04Z","updated_at":"2020-03-13T23:12:04Z","author_association":"MEMBER","body":"Sounds like this has been resolved.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598968173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598969352","html_url":"https://github.com/apache/couchdb/issues/2570#issuecomment-598969352","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2570","id":598969352,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODk2OTM1Mg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T23:17:28Z","updated_at":"2020-03-13T23:17:28Z","author_association":"MEMBER","body":"Looks like a reprise of https://issues.apache.org/jira/browse/COUCHDB-2027 .","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598969352/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598969657","html_url":"https://github.com/apache/couchdb/issues/2570#issuecomment-598969657","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2570","id":598969657,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODk2OTY1Nw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T23:18:58Z","updated_at":"2020-03-13T23:18:58Z","author_association":"MEMBER","body":"Is this a useful workaround for you?\r\n\r\n> My problem was solved by:\r\n> \r\n> 1. adding headers= accept, authorization, content-type, origin into [cors] section of local.ini // the docs were not clear to me about this\r\n> 2. Adding an Authorization header in my AJAX request :\r\n\r\n```javascript\r\n$.ajax({\r\ntype: \"GET\",\r\ncontentType: \"application/json\",\r\ndataType: \"json\",\r\nurl: myUrl\r\nbeforeSend: setHeader,\r\nerror: function (error)\r\n{ console.log(error); }\r\n\r\n,\r\nsuccess: function (remoteAppInfo)\r\n{ ... }\r\n\r\n});\r\n\r\nfunction setHeader(xhr)\r\n{ console.log(\"setHeader\"); xhr.setRequestHeader('Authorization',\"Basic \" + btoa(\"estanteuser:Dnbatfydnkwadm6f\")); } \r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598969657/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598969775","html_url":"https://github.com/apache/couchdb/issues/2570#issuecomment-598969775","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2570","id":598969775,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODk2OTc3NQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T23:19:36Z","updated_at":"2020-03-13T23:19:36Z","author_association":"MEMBER","body":"Also see https://github.com/pouchdb/add-cors-to-couchdb","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598969775/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598970053","html_url":"https://github.com/apache/couchdb/issues/2604#issuecomment-598970053","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2604","id":598970053,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODk3MDA1Mw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T23:21:08Z","updated_at":"2020-03-13T23:21:08Z","author_association":"MEMBER","body":"Looks resolved, closing.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598970053/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598972003","html_url":"https://github.com/apache/couchdb/issues/1080#issuecomment-598972003","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1080","id":598972003,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODk3MjAwMw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T23:30:26Z","updated_at":"2020-03-13T23:30:26Z","author_association":"MEMBER","body":"All replication requires HTTP now, even to local databases. In this case, we'd say that the proxy is misconfigured.\r\n\r\nClosing as won't fix.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598972003/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598972297","html_url":"https://github.com/apache/couchdb/issues/1108#issuecomment-598972297","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1108","id":598972297,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODk3MjI5Nw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T23:31:59Z","updated_at":"2020-03-13T23:31:59Z","author_association":"MEMBER","body":"for the record...that's exactly what happened here. #1337 didn't get merged, and if this stayed closed, we'd have lost the enhancement request entirely. (Which may still happen, given this is nearly 18 months old with no action.)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598972297/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598972358","html_url":"https://github.com/apache/couchdb/issues/1155#issuecomment-598972358","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1155","id":598972358,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODk3MjM1OA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T23:32:21Z","updated_at":"2020-03-13T23:32:21Z","author_association":"MEMBER","body":"Fixed in 3.0.0.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598972358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598975215","html_url":"https://github.com/apache/couchdb/issues/2124#issuecomment-598975215","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2124","id":598975215,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODk3NTIxNQ==","user":{"login":"oliverdain","id":5205224,"node_id":"MDQ6VXNlcjUyMDUyMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/5205224?v=4","gravatar_id":"","url":"https://api.github.com/users/oliverdain","html_url":"https://github.com/oliverdain","followers_url":"https://api.github.com/users/oliverdain/followers","following_url":"https://api.github.com/users/oliverdain/following{/other_user}","gists_url":"https://api.github.com/users/oliverdain/gists{/gist_id}","starred_url":"https://api.github.com/users/oliverdain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oliverdain/subscriptions","organizations_url":"https://api.github.com/users/oliverdain/orgs","repos_url":"https://api.github.com/users/oliverdain/repos","events_url":"https://api.github.com/users/oliverdain/events{/privacy}","received_events_url":"https://api.github.com/users/oliverdain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T23:47:56Z","updated_at":"2020-03-13T23:49:28Z","author_association":"NONE","body":"Hi @wohali . Thanks for the explanation. I've simplified the real query here to make the bug report simpler but the real query used `_id` *and* some other fields to further limit the results I get. Note that with Mango this is legal and if I do that with an index other than `_all_docs` I do not get a warning. For example, a query like this is, I think, quite reasonable:\r\n\r\n```\r\n{\r\n   \"selector\": {\r\n      \"$and\": [\r\n         {\r\n            \"_id\": {\r\n               \"$gt\": \"bar\"\r\n            }\r\n         },\r\n         {\r\n            \"_id\": {\r\n               \"$lt\": \"foo\"\r\n            }\r\n         },\r\n        {\r\n          \"other_field\": \"some value\"\r\n        }\r\n      ]\r\n   }\r\n}\r\n```\r\n\r\nAssuming there aren't too many docs with `_id` between `bar` and `foo` this is a very useful way to use Mango and the performance is quite good.\r\n\r\nI think the desired behavior isn't \"suppress the warning when **only** the _id field is being used\" but rather something like \"suppress the warning when the _id field has significantly reduced the set of documents that must be examined\" or whatever the equivalent rule is for a normal Mango index.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598975215/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598977953","html_url":"https://github.com/apache/couchdb/issues/2124#issuecomment-598977953","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2124","id":598977953,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODk3Nzk1Mw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-14T00:03:52Z","updated_at":"2020-03-14T00:03:52Z","author_association":"MEMBER","body":"Hey @oliverdain , thanks for writing back.\r\n\r\nTechnically, what you're saying still requires a main index if you don't have a direct index that includes both `_id` and `other_field`. What I think would be the best compromise here is that the user can safely ignore the warning - but IMO the warning should still be generated. Adding more logic in that part of the code could slow down all requests, something we'd really prefer not to do.\r\n\r\nTo me, this feels like a documentation callout - if you'd like to open a PR in https://github.com/apache/couchdb-documentation and explain that the warning can be safely ignored in this scenario, I'd be happy to merge that.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598977953/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598985821","html_url":"https://github.com/apache/couchdb/issues/2372#issuecomment-598985821","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2372","id":598985821,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODk4NTgyMQ==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-14T00:44:07Z","updated_at":"2020-03-14T00:44:07Z","author_association":"CONTRIBUTOR","body":"thanks @wohali for checking out. I will follow up in coming days.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/598985821/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599126465","html_url":"https://github.com/apache/couchdb/pull/1997#issuecomment-599126465","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1997","id":599126465,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTEyNjQ2NQ==","user":{"login":"jjrodrig","id":1001724,"node_id":"MDQ6VXNlcjEwMDE3MjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1001724?v=4","gravatar_id":"","url":"https://api.github.com/users/jjrodrig","html_url":"https://github.com/jjrodrig","followers_url":"https://api.github.com/users/jjrodrig/followers","following_url":"https://api.github.com/users/jjrodrig/following{/other_user}","gists_url":"https://api.github.com/users/jjrodrig/gists{/gist_id}","starred_url":"https://api.github.com/users/jjrodrig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jjrodrig/subscriptions","organizations_url":"https://api.github.com/users/jjrodrig/orgs","repos_url":"https://api.github.com/users/jjrodrig/repos","events_url":"https://api.github.com/users/jjrodrig/events{/privacy}","received_events_url":"https://api.github.com/users/jjrodrig/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-14T19:42:50Z","updated_at":"2020-03-14T19:42:50Z","author_association":"CONTRIBUTOR","body":"Sure @wohali \r\n\r\nAs soon this PR is accepted, I'll open PRs to merge into the 3.x and 3.0.x branches","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599126465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599238414","html_url":"https://github.com/apache/couchdb/pull/2663#issuecomment-599238414","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2663","id":599238414,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTIzODQxNA==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-15T17:14:59Z","updated_at":"2020-03-16T01:19:28Z","author_association":"CONTRIBUTOR","body":"Added a minor fixup. @davisp suggested to enhance pmap to make it properly re-throw exceptions so it behaves closer to `lists:map/2`. I had forgotten to update the original PR with that.\r\n\r\nAlso I moved it to `fabric2_util` so it can be more generally useful.\r\n\r\nAs a benefit I could remove the extra \"validate pmap results\" steps from the tests.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599238414/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599243247","html_url":"https://github.com/apache/couchdb/issues/2665#issuecomment-599243247","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2665","id":599243247,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTI0MzI0Nw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-15T17:56:58Z","updated_at":"2020-03-15T17:56:58Z","author_association":"MEMBER","body":"@TimLand That error means you do not have the correct SpiderMonkey libraries installed. We don't support CouchDB 1.x anymore, and we never supported it on ARM, but you need one of: 1.7.0, 1.8.0, 1.8.5 with a strong preference for 1.8.5.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599243247/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599361556","html_url":"https://github.com/apache/couchdb/issues/1540#issuecomment-599361556","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1540","id":599361556,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTM2MTU1Ng==","user":{"login":"anuragvohraec","id":53807480,"node_id":"MDQ6VXNlcjUzODA3NDgw","avatar_url":"https://avatars.githubusercontent.com/u/53807480?v=4","gravatar_id":"","url":"https://api.github.com/users/anuragvohraec","html_url":"https://github.com/anuragvohraec","followers_url":"https://api.github.com/users/anuragvohraec/followers","following_url":"https://api.github.com/users/anuragvohraec/following{/other_user}","gists_url":"https://api.github.com/users/anuragvohraec/gists{/gist_id}","starred_url":"https://api.github.com/users/anuragvohraec/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuragvohraec/subscriptions","organizations_url":"https://api.github.com/users/anuragvohraec/orgs","repos_url":"https://api.github.com/users/anuragvohraec/repos","events_url":"https://api.github.com/users/anuragvohraec/events{/privacy}","received_events_url":"https://api.github.com/users/anuragvohraec/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-16T06:08:08Z","updated_at":"2020-03-16T06:08:08Z","author_association":"NONE","body":"> @cluxter Right now, large attachments (>16MB of attachments per JSON document) aren't a first order design scenario for CouchDB internal storage or so-called \"internal replication\" between nodes in a cluster. That needs to be resolved before thinking about any sort of \"external\" replication enhancements that specifically address large files.\r\n> \r\n> The people who get to make that decision are the people who actually develop CouchDB. If you're an Erlang developer and think you have the chops to tackle this, we'd love to see your patches.\r\n\r\nIs there any progress on this?\r\nOr any road map in these direction?\r\n\r\nCannot agree more, for these requirements.\r\nIn today's world, streaming must be the first hand support function of any database.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599361556/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599466637","html_url":"https://github.com/apache/couchdb/issues/2221#issuecomment-599466637","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2221","id":599466637,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTQ2NjYzNw==","user":{"login":"komorebi-san","id":8327827,"node_id":"MDQ6VXNlcjgzMjc4Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/8327827?v=4","gravatar_id":"","url":"https://api.github.com/users/komorebi-san","html_url":"https://github.com/komorebi-san","followers_url":"https://api.github.com/users/komorebi-san/followers","following_url":"https://api.github.com/users/komorebi-san/following{/other_user}","gists_url":"https://api.github.com/users/komorebi-san/gists{/gist_id}","starred_url":"https://api.github.com/users/komorebi-san/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/komorebi-san/subscriptions","organizations_url":"https://api.github.com/users/komorebi-san/orgs","repos_url":"https://api.github.com/users/komorebi-san/repos","events_url":"https://api.github.com/users/komorebi-san/events{/privacy}","received_events_url":"https://api.github.com/users/komorebi-san/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-16T10:44:40Z","updated_at":"2020-03-16T10:44:40Z","author_association":"NONE","body":"@ImATechnophile \r\n\r\nSorry to ask, but where do you add the line: \r\n\r\nresponse.setHeader(\"Set-Cookie\", \"HttpOnly;Secure;SameSite=Strict\"); \r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599466637/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599471375","html_url":"https://github.com/apache/couchdb/issues/2221#issuecomment-599471375","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2221","id":599471375,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTQ3MTM3NQ==","user":{"login":"willholley","id":97787,"node_id":"MDQ6VXNlcjk3Nzg3","avatar_url":"https://avatars.githubusercontent.com/u/97787?v=4","gravatar_id":"","url":"https://api.github.com/users/willholley","html_url":"https://github.com/willholley","followers_url":"https://api.github.com/users/willholley/followers","following_url":"https://api.github.com/users/willholley/following{/other_user}","gists_url":"https://api.github.com/users/willholley/gists{/gist_id}","starred_url":"https://api.github.com/users/willholley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willholley/subscriptions","organizations_url":"https://api.github.com/users/willholley/orgs","repos_url":"https://api.github.com/users/willholley/repos","events_url":"https://api.github.com/users/willholley/events{/privacy}","received_events_url":"https://api.github.com/users/willholley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-16T10:55:13Z","updated_at":"2020-03-16T10:55:13Z","author_association":"MEMBER","body":"@komorebi-san in CouchDB 3 you can set the `SameSite` value in your cluster configuration (usually the `local.ini` file) as per https://docs.couchdb.org/en/latest/config/auth.html#couch_httpd_auth/same_site.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599471375/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599481133","html_url":"https://github.com/apache/couchdb/issues/2221#issuecomment-599481133","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2221","id":599481133,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTQ4MTEzMw==","user":{"login":"komorebi-san","id":8327827,"node_id":"MDQ6VXNlcjgzMjc4Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/8327827?v=4","gravatar_id":"","url":"https://api.github.com/users/komorebi-san","html_url":"https://github.com/komorebi-san","followers_url":"https://api.github.com/users/komorebi-san/followers","following_url":"https://api.github.com/users/komorebi-san/following{/other_user}","gists_url":"https://api.github.com/users/komorebi-san/gists{/gist_id}","starred_url":"https://api.github.com/users/komorebi-san/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/komorebi-san/subscriptions","organizations_url":"https://api.github.com/users/komorebi-san/orgs","repos_url":"https://api.github.com/users/komorebi-san/repos","events_url":"https://api.github.com/users/komorebi-san/events{/privacy}","received_events_url":"https://api.github.com/users/komorebi-san/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-16T11:18:20Z","updated_at":"2020-03-16T11:23:07Z","author_association":"NONE","body":"@willholley \r\n\r\nI have upgraded from 2.3.1 to 3.0.0. and added as per:\r\n\r\nhttps://docs.couchdb.org/en/latest/config/auth.html#couch_httpd_auth/same_site\r\n\r\nHowever, I am still blocked by Google Chrome.\r\n\r\n\r\n![image](https://user-images.githubusercontent.com/8327827/76751839-a18a6100-67ba-11ea-8385-d966e0fcead7.png)\r\n\r\n\r\nA cookie associated with a cross-site resource at https://xx.xx.com/ was set without the `SameSite` attribute. It has been blocked, as Chrome now only delivers cookies with cross-site requests if they are set with `SameSite=None` and `Secure`. You can review cookies in developer tools under Application>Storage>Cookies and see more details at https://www.chromestatus.com/feature/5088147346030592 and https://www.chromestatus.com/feature/5633521622188032.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599481133/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599483737","html_url":"https://github.com/apache/couchdb/issues/2221#issuecomment-599483737","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2221","id":599483737,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTQ4MzczNw==","user":{"login":"willholley","id":97787,"node_id":"MDQ6VXNlcjk3Nzg3","avatar_url":"https://avatars.githubusercontent.com/u/97787?v=4","gravatar_id":"","url":"https://api.github.com/users/willholley","html_url":"https://github.com/willholley","followers_url":"https://api.github.com/users/willholley/followers","following_url":"https://api.github.com/users/willholley/following{/other_user}","gists_url":"https://api.github.com/users/willholley/gists{/gist_id}","starred_url":"https://api.github.com/users/willholley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willholley/subscriptions","organizations_url":"https://api.github.com/users/willholley/orgs","repos_url":"https://api.github.com/users/willholley/repos","events_url":"https://api.github.com/users/willholley/events{/privacy}","received_events_url":"https://api.github.com/users/willholley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-16T11:24:18Z","updated_at":"2020-03-16T11:24:18Z","author_association":"MEMBER","body":"what are you trying to do? The only situation I know of when you would be blocked is when using CORS, in which case you need to remove SameSite protections using `SameSite=None` and use HTTPS.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599483737/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599487904","html_url":"https://github.com/apache/couchdb/issues/2221#issuecomment-599487904","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2221","id":599487904,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTQ4NzkwNA==","user":{"login":"komorebi-san","id":8327827,"node_id":"MDQ6VXNlcjgzMjc4Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/8327827?v=4","gravatar_id":"","url":"https://api.github.com/users/komorebi-san","html_url":"https://github.com/komorebi-san","followers_url":"https://api.github.com/users/komorebi-san/followers","following_url":"https://api.github.com/users/komorebi-san/following{/other_user}","gists_url":"https://api.github.com/users/komorebi-san/gists{/gist_id}","starred_url":"https://api.github.com/users/komorebi-san/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/komorebi-san/subscriptions","organizations_url":"https://api.github.com/users/komorebi-san/orgs","repos_url":"https://api.github.com/users/komorebi-san/repos","events_url":"https://api.github.com/users/komorebi-san/events{/privacy}","received_events_url":"https://api.github.com/users/komorebi-san/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-16T11:34:59Z","updated_at":"2020-03-16T11:34:59Z","author_association":"NONE","body":"@willholley \r\n\r\nMy apologies, I set \"same_site\" in [chttp] instead of [couch_httpd_auth]. Thanks! \r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599487904/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599573769","html_url":"https://github.com/apache/couchdb/pull/2667#issuecomment-599573769","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2667","id":599573769,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTU3Mzc2OQ==","user":{"login":"dottorblaster","id":20770,"node_id":"MDQ6VXNlcjIwNzcw","avatar_url":"https://avatars.githubusercontent.com/u/20770?v=4","gravatar_id":"","url":"https://api.github.com/users/dottorblaster","html_url":"https://github.com/dottorblaster","followers_url":"https://api.github.com/users/dottorblaster/followers","following_url":"https://api.github.com/users/dottorblaster/following{/other_user}","gists_url":"https://api.github.com/users/dottorblaster/gists{/gist_id}","starred_url":"https://api.github.com/users/dottorblaster/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dottorblaster/subscriptions","organizations_url":"https://api.github.com/users/dottorblaster/orgs","repos_url":"https://api.github.com/users/dottorblaster/repos","events_url":"https://api.github.com/users/dottorblaster/events{/privacy}","received_events_url":"https://api.github.com/users/dottorblaster/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-16T14:40:53Z","updated_at":"2020-03-16T14:40:53Z","author_association":"MEMBER","body":"ðŸš¨ CI is red, are you still working on this?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599573769/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599574556","html_url":"https://github.com/apache/couchdb/pull/2667#issuecomment-599574556","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2667","id":599574556,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTU3NDU1Ng==","user":{"login":"garrensmith","id":179458,"node_id":"MDQ6VXNlcjE3OTQ1OA==","avatar_url":"https://avatars.githubusercontent.com/u/179458?v=4","gravatar_id":"","url":"https://api.github.com/users/garrensmith","html_url":"https://github.com/garrensmith","followers_url":"https://api.github.com/users/garrensmith/followers","following_url":"https://api.github.com/users/garrensmith/following{/other_user}","gists_url":"https://api.github.com/users/garrensmith/gists{/gist_id}","starred_url":"https://api.github.com/users/garrensmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garrensmith/subscriptions","organizations_url":"https://api.github.com/users/garrensmith/orgs","repos_url":"https://api.github.com/users/garrensmith/repos","events_url":"https://api.github.com/users/garrensmith/events{/privacy}","received_events_url":"https://api.github.com/users/garrensmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-16T14:42:16Z","updated_at":"2020-03-16T14:42:16Z","author_association":"MEMBER","body":"@dottorblaster its against the fdb branch and CI can't run those yet. So it will fail","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599574556/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599588718","html_url":"https://github.com/apache/couchdb/pull/2667#issuecomment-599588718","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2667","id":599588718,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTU4ODcxOA==","user":{"login":"dottorblaster","id":20770,"node_id":"MDQ6VXNlcjIwNzcw","avatar_url":"https://avatars.githubusercontent.com/u/20770?v=4","gravatar_id":"","url":"https://api.github.com/users/dottorblaster","html_url":"https://github.com/dottorblaster","followers_url":"https://api.github.com/users/dottorblaster/followers","following_url":"https://api.github.com/users/dottorblaster/following{/other_user}","gists_url":"https://api.github.com/users/dottorblaster/gists{/gist_id}","starred_url":"https://api.github.com/users/dottorblaster/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dottorblaster/subscriptions","organizations_url":"https://api.github.com/users/dottorblaster/orgs","repos_url":"https://api.github.com/users/dottorblaster/repos","events_url":"https://api.github.com/users/dottorblaster/events{/privacy}","received_events_url":"https://api.github.com/users/dottorblaster/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-16T15:08:17Z","updated_at":"2020-03-16T15:08:17Z","author_association":"MEMBER","body":"Oh ok so no prob, thanks for letting me know :)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599588718/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599598983","html_url":"https://github.com/apache/couchdb/pull/2662#issuecomment-599598983","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2662","id":599598983,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTU5ODk4Mw==","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-16T15:27:15Z","updated_at":"2020-03-16T15:27:15Z","author_association":"CONTRIBUTOR","body":"> // Creates new rate limiter. Internally couch_rate would look at the config to get the rate_limiter module for couch_views as well as know it needs to use the ets one for it.\r\n`RateLimiterState = couch_rate:new(couch_views);`\r\n\r\nAre you proposing to make `couch_rate` to be aware of `config` application? I.e. you would pass the name of the config section `to couch_rate:new`. Something like:\r\n```\r\n-module(couch_rate).\r\n\r\nnew(ConfigSection) ->\r\n     ModuleStr = config:get(ConfigSection, \"rate_limiter\", \"couch_rate_limiter\"),\r\n     Options = case config:get(ConfigSection, \"rate_limiter_opts\", undefined) of\r\n        undefined -> DefaultConfig;\r\n        OptionsStr -> couch_rate_config:from_str(OptionsStr)\r\n     end,\r\n```\r\nHow we would define default options for the case when rate_limiter_opts key is not configured? Would we disable rate_limiter?\r\n\r\n> When I look at the couch_views_indexer file it feels to me like the couch_views_indexer is having to understand too much of how the rate_limiter works.\r\n\r\nAre you worried about configuration aspect or API aspect here? Because we would have to use `new/success/failure/budget/in` (and either delay or wait) APIs anyway for the proposed algorithm to work. We could rename some of the function but they are needed. The `new` and `budget` wouldn't be sufficient.\r\n\r\n> The other thing is how would we turn the rate_limiter off? If someone is happy for all views to go full speed even if it affects other views how would we do that?\r\n\r\nYou would set `budget` to `100` (this is a replacement parameter for `couch_views.change_limit` which currently defaults to `100`) and `target` to `5000` which is a FDB transaction timeout (or 6000 to be safe).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599598983/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599606722","html_url":"https://github.com/apache/couchdb/pull/2660#issuecomment-599606722","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2660","id":599606722,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTYwNjcyMg==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-16T15:41:25Z","updated_at":"2020-03-16T15:41:25Z","author_association":"MEMBER","body":"this should not have merged with so many lines of whitespace only change","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599606722/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599606912","html_url":"https://github.com/apache/couchdb/pull/2660#issuecomment-599606912","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2660","id":599606912,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTYwNjkxMg==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-16T15:41:46Z","updated_at":"2020-03-16T15:41:46Z","author_association":"MEMBER","body":"and with a merge from master too ðŸ¤¦â€â™‚ ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599606912/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]