[{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/397521954","html_url":"https://github.com/apache/couchdb/issues/1343#issuecomment-397521954","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1343","id":397521954,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NzUyMTk1NA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-15T06:00:18Z","updated_at":"2018-06-15T06:00:18Z","author_association":"MEMBER","body":"Please see https://github.com/apache/couchdb/issues/1314","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/397521954/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/397522123","html_url":"https://github.com/apache/couchdb/issues/1385#issuecomment-397522123","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1385","id":397522123,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NzUyMjEyMw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-15T06:01:32Z","updated_at":"2018-06-15T06:01:32Z","author_association":"MEMBER","body":"Yes, it's on the long-term strategy...but it's not going to happen soon.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/397522123/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/397525411","html_url":"https://github.com/apache/couchdb/issues/1388#issuecomment-397525411","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1388","id":397525411,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NzUyNTQxMQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-15T06:21:56Z","updated_at":"2018-06-15T06:21:56Z","author_association":"MEMBER","body":"Hi @worldspawn \r\n\r\nHave you tried running `master`? A lot of fixes to index matching have been checked in since 2.1.1.\r\n\r\nWe'd welcome a pull request with an improvement on the documentation here: https://github.com/apache/couchdb-documentation","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/397525411/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/397525770","html_url":"https://github.com/apache/couchdb/pull/1387#issuecomment-397525770","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1387","id":397525770,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NzUyNTc3MA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-15T06:24:22Z","updated_at":"2018-06-15T06:24:22Z","author_association":"MEMBER","body":"Sure, that's fine. I guess if someone really wants it, they can add it via the env var.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/397525770/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/397525955","html_url":"https://github.com/apache/couchdb/issues/1388#issuecomment-397525955","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1388","id":397525955,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NzUyNTk1NQ==","user":{"login":"worldspawn","id":819581,"node_id":"MDQ6VXNlcjgxOTU4MQ==","avatar_url":"https://avatars.githubusercontent.com/u/819581?v=4","gravatar_id":"","url":"https://api.github.com/users/worldspawn","html_url":"https://github.com/worldspawn","followers_url":"https://api.github.com/users/worldspawn/followers","following_url":"https://api.github.com/users/worldspawn/following{/other_user}","gists_url":"https://api.github.com/users/worldspawn/gists{/gist_id}","starred_url":"https://api.github.com/users/worldspawn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/worldspawn/subscriptions","organizations_url":"https://api.github.com/users/worldspawn/orgs","repos_url":"https://api.github.com/users/worldspawn/repos","events_url":"https://api.github.com/users/worldspawn/events{/privacy}","received_events_url":"https://api.github.com/users/worldspawn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-15T06:25:36Z","updated_at":"2018-06-15T06:28:05Z","author_association":"NONE","body":"Hi @wohali are you able to confirm that is it supported and/or what the correct notation is? The examples I have found are from 3rd parties (like stack overflow).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/397525955/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/397682478","html_url":"https://github.com/apache/couchdb/pull/1390#issuecomment-397682478","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1390","id":397682478,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NzY4MjQ3OA==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-15T16:58:35Z","updated_at":"2018-06-15T16:58:35Z","author_association":"MEMBER","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/397682478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/397696315","html_url":"https://github.com/apache/couchdb/issues/1389#issuecomment-397696315","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1389","id":397696315,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NzY5NjMxNQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-15T17:52:18Z","updated_at":"2018-06-15T17:52:18Z","author_association":"MEMBER","body":"Hi @touy, I'm having trouble understanding you.\r\n\r\nCan you share the exact values of `doc.gpstime` that are not being emitted in your view correctly?\r\n\r\nI suspect you may be running into timezone issues - is the time zone on all of your machines UTC? (This is highly recommended for servers.)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/397696315/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/397700861","html_url":"https://github.com/apache/couchdb/issues/1388#issuecomment-397700861","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1388","id":397700861,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NzcwMDg2MQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-15T18:09:13Z","updated_at":"2018-06-15T18:09:13Z","author_association":"MEMBER","body":"You specifically mean indexing a subfield of an object in an array, correct? Not just the elements of the array itself?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/397700861/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/397711207","html_url":"https://github.com/apache/couchdb/pull/958#issuecomment-397711207","issue_url":"https://api.github.com/repos/apache/couchdb/issues/958","id":397711207,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NzcxMTIwNw==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-15T18:50:04Z","updated_at":"2018-06-15T18:50:04Z","author_association":"MEMBER","body":"Blargh, I thought it didn't do that merge master with the easy button. Oh well, restarting CI I guess.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/397711207/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/397764274","html_url":"https://github.com/apache/couchdb/issues/1384#issuecomment-397764274","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1384","id":397764274,"node_id":"MDEyOklzc3VlQ29tbWVudDM5Nzc2NDI3NA==","user":{"login":"Peim8","id":8719360,"node_id":"MDQ6VXNlcjg3MTkzNjA=","avatar_url":"https://avatars.githubusercontent.com/u/8719360?v=4","gravatar_id":"","url":"https://api.github.com/users/Peim8","html_url":"https://github.com/Peim8","followers_url":"https://api.github.com/users/Peim8/followers","following_url":"https://api.github.com/users/Peim8/following{/other_user}","gists_url":"https://api.github.com/users/Peim8/gists{/gist_id}","starred_url":"https://api.github.com/users/Peim8/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Peim8/subscriptions","organizations_url":"https://api.github.com/users/Peim8/orgs","repos_url":"https://api.github.com/users/Peim8/repos","events_url":"https://api.github.com/users/Peim8/events{/privacy}","received_events_url":"https://api.github.com/users/Peim8/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-15T23:12:26Z","updated_at":"2018-06-15T23:12:26Z","author_association":"NONE","body":"I would like to work on this problem!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/397764274/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/397777339","html_url":"https://github.com/apache/couchdb/issues/1388#issuecomment-397777339","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1388","id":397777339,"node_id":"MDEyOklzc3VlQ29tbWVudDM5Nzc3NzMzOQ==","user":{"login":"worldspawn","id":819581,"node_id":"MDQ6VXNlcjgxOTU4MQ==","avatar_url":"https://avatars.githubusercontent.com/u/819581?v=4","gravatar_id":"","url":"https://api.github.com/users/worldspawn","html_url":"https://github.com/worldspawn","followers_url":"https://api.github.com/users/worldspawn/followers","following_url":"https://api.github.com/users/worldspawn/following{/other_user}","gists_url":"https://api.github.com/users/worldspawn/gists{/gist_id}","starred_url":"https://api.github.com/users/worldspawn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/worldspawn/subscriptions","organizations_url":"https://api.github.com/users/worldspawn/orgs","repos_url":"https://api.github.com/users/worldspawn/repos","events_url":"https://api.github.com/users/worldspawn/events{/privacy}","received_events_url":"https://api.github.com/users/worldspawn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-16T01:33:13Z","updated_at":"2018-06-16T01:33:13Z","author_association":"NONE","body":"Yes, indexing a field on an element (at an unknown index) of an array.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/397777339/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/397810574","html_url":"https://github.com/apache/couchdb/issues/1314#issuecomment-397810574","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1314","id":397810574,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NzgxMDU3NA==","user":{"login":"simonmichael","id":10144,"node_id":"MDQ6VXNlcjEwMTQ0","avatar_url":"https://avatars.githubusercontent.com/u/10144?v=4","gravatar_id":"","url":"https://api.github.com/users/simonmichael","html_url":"https://github.com/simonmichael","followers_url":"https://api.github.com/users/simonmichael/followers","following_url":"https://api.github.com/users/simonmichael/following{/other_user}","gists_url":"https://api.github.com/users/simonmichael/gists{/gist_id}","starred_url":"https://api.github.com/users/simonmichael/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simonmichael/subscriptions","organizations_url":"https://api.github.com/users/simonmichael/orgs","repos_url":"https://api.github.com/users/simonmichael/repos","events_url":"https://api.github.com/users/simonmichael/events{/privacy}","received_events_url":"https://api.github.com/users/simonmichael/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-16T12:53:16Z","updated_at":"2018-06-16T12:53:16Z","author_association":"NONE","body":"Because I'm dying here, could I ask you for another ETA @wohali  ? Does soon mean hours, days or weeks ?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/397810574/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/397810912","html_url":"https://github.com/apache/couchdb/issues/1314#issuecomment-397810912","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1314","id":397810912,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NzgxMDkxMg==","user":{"login":"simonmichael","id":10144,"node_id":"MDQ6VXNlcjEwMTQ0","avatar_url":"https://avatars.githubusercontent.com/u/10144?v=4","gravatar_id":"","url":"https://api.github.com/users/simonmichael","html_url":"https://github.com/simonmichael","followers_url":"https://api.github.com/users/simonmichael/followers","following_url":"https://api.github.com/users/simonmichael/following{/other_user}","gists_url":"https://api.github.com/users/simonmichael/gists{/gist_id}","starred_url":"https://api.github.com/users/simonmichael/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simonmichael/subscriptions","organizations_url":"https://api.github.com/users/simonmichael/orgs","repos_url":"https://api.github.com/users/simonmichael/repos","events_url":"https://api.github.com/users/simonmichael/events{/privacy}","received_events_url":"https://api.github.com/users/simonmichael/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-16T12:59:48Z","updated_at":"2018-06-16T12:59:48Z","author_association":"NONE","body":"Almost a stopgap fix for me: I can see the successfully built artifacts for bionic at https://builds.apache.org/blue/organizations/jenkins/CouchDB/detail/master/271/artifacts.. but for amd64. Perhaps I should give the centos rpm a try.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/397810912/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/397811074","html_url":"https://github.com/apache/couchdb/issues/1314#issuecomment-397811074","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1314","id":397811074,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NzgxMTA3NA==","user":{"login":"simonmichael","id":10144,"node_id":"MDQ6VXNlcjEwMTQ0","avatar_url":"https://avatars.githubusercontent.com/u/10144?v=4","gravatar_id":"","url":"https://api.github.com/users/simonmichael","html_url":"https://github.com/simonmichael","followers_url":"https://api.github.com/users/simonmichael/followers","following_url":"https://api.github.com/users/simonmichael/following{/other_user}","gists_url":"https://api.github.com/users/simonmichael/gists{/gist_id}","starred_url":"https://api.github.com/users/simonmichael/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simonmichael/subscriptions","organizations_url":"https://api.github.com/users/simonmichael/orgs","repos_url":"https://api.github.com/users/simonmichael/repos","events_url":"https://api.github.com/users/simonmichael/events{/privacy}","received_events_url":"https://api.github.com/users/simonmichael/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-16T13:03:13Z","updated_at":"2018-06-16T13:03:13Z","author_association":"NONE","body":"No.. alien says \"couchdb-2.2.0.000766c-1.el7.x86_64.rpm is for architecture amd64 ; the package cannot be built on this system\".","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/397811074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/397815173","html_url":"https://github.com/apache/couchdb/issues/1389#issuecomment-397815173","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1389","id":397815173,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NzgxNTE3Mw==","user":{"login":"touy","id":122671,"node_id":"MDQ6VXNlcjEyMjY3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/122671?v=4","gravatar_id":"","url":"https://api.github.com/users/touy","html_url":"https://github.com/touy","followers_url":"https://api.github.com/users/touy/followers","following_url":"https://api.github.com/users/touy/following{/other_user}","gists_url":"https://api.github.com/users/touy/gists{/gist_id}","starred_url":"https://api.github.com/users/touy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/touy/subscriptions","organizations_url":"https://api.github.com/users/touy/orgs","repos_url":"https://api.github.com/users/touy/repos","events_url":"https://api.github.com/users/touy/events{/privacy}","received_events_url":"https://api.github.com/users/touy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-16T14:17:29Z","updated_at":"2018-06-16T14:17:29Z","author_association":"NONE","body":"yes, doc.gpstime is : 2018-06-16T01:00:54+07:00\r\nfrom raw data before I insert to the database \r\n deviceinfo.gpstime = moment.utc(util.format(\"20%s-%s-%s %s:%s:%s\", _year, _month, _date, _hour, _minute, _second), 'YYYY-MM-DD HH:mm:ss');\r\ndeviceinfo.gpstime = this.convertTZ(deviceinfo.gpstime);\r\n \r\n# my timezone conversion as below:\r\nconvertTZ(fromTZ) {\r\n        process.env.TZ = 'Asia/Vientiane'; \r\n        return moment.tz(fromTZ, \"Asia/Vientiane\").toDate();\r\n}\r\nvalue not from view : \"gpstime\": \"2018-05-17T12:40:37+07:00\",\r\n\r\nit's true that I sometime have a problem when I want to convert to timzone, sometime correct sometime is not correct ( reverse value)\r\nmy laptop is +7 , \r\nmy server +00:00 UTC \r\nso it's about timezone ?  I thought I convert all value to +7 timezone which it could avoid the issue, any recommend lease ? ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/397815173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/397850306","html_url":"https://github.com/apache/couchdb/issues/1314#issuecomment-397850306","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1314","id":397850306,"node_id":"MDEyOklzc3VlQ29tbWVudDM5Nzg1MDMwNg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-17T02:30:27Z","updated_at":"2018-06-17T02:30:27Z","author_association":"MEMBER","body":"@simonmichael those packages are not for general use, and are definitely not recommended for production installation.\r\n\r\nETA is probably within a week or so - sorry for the continued delays.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/397850306/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/397853725","html_url":"https://github.com/apache/couchdb/issues/1389#issuecomment-397853725","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1389","id":397853725,"node_id":"MDEyOklzc3VlQ29tbWVudDM5Nzg1MzcyNQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-17T04:23:48Z","updated_at":"2018-06-17T04:28:45Z","author_association":"MEMBER","body":"2018-06-16T01:00:54+07:00 would be 2018-06-15 in UTC. Your view code will convert everything to UTC:\r\n\r\n```\r\nvar d = new Date(\"2018-06-16T01:00:54+07:00\");\r\nprint(d.getFullYear() + \" \" + (d.getMonth()+1) + \" \" + d.getDate())\r\n\"2018 6 15\"\r\n```\r\n\r\nIs this what you expect?\r\n\r\nFull docs on the Date class [are here](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/397853725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/397853888","html_url":"https://github.com/apache/couchdb/issues/1389#issuecomment-397853888","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1389","id":397853888,"node_id":"MDEyOklzc3VlQ29tbWVudDM5Nzg1Mzg4OA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-17T04:29:57Z","updated_at":"2018-06-17T04:29:57Z","author_association":"MEMBER","body":"Happy to keep discussing this, but this is not a CouchDB bug.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/397853888/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/397881122","html_url":"https://github.com/apache/couchdb/issues/1389#issuecomment-397881122","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1389","id":397881122,"node_id":"MDEyOklzc3VlQ29tbWVudDM5Nzg4MTEyMg==","user":{"login":"touy","id":122671,"node_id":"MDQ6VXNlcjEyMjY3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/122671?v=4","gravatar_id":"","url":"https://api.github.com/users/touy","html_url":"https://github.com/touy","followers_url":"https://api.github.com/users/touy/followers","following_url":"https://api.github.com/users/touy/following{/other_user}","gists_url":"https://api.github.com/users/touy/gists{/gist_id}","starred_url":"https://api.github.com/users/touy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/touy/subscriptions","organizations_url":"https://api.github.com/users/touy/orgs","repos_url":"https://api.github.com/users/touy/repos","events_url":"https://api.github.com/users/touy/events{/privacy}","received_events_url":"https://api.github.com/users/touy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-17T14:03:05Z","updated_at":"2018-06-17T14:03:05Z","author_association":"NONE","body":"no, I expected \"2018 06 16\", per my time data , with new Date() which it convert to UTC and I need to convert back to my time zone right , which method is the best here ? \r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/397881122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/397886498","html_url":"https://github.com/apache/couchdb/issues/1389#issuecomment-397886498","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1389","id":397886498,"node_id":"MDEyOklzc3VlQ29tbWVudDM5Nzg4NjQ5OA==","user":{"login":"touy","id":122671,"node_id":"MDQ6VXNlcjEyMjY3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/122671?v=4","gravatar_id":"","url":"https://api.github.com/users/touy","html_url":"https://github.com/touy","followers_url":"https://api.github.com/users/touy/followers","following_url":"https://api.github.com/users/touy/following{/other_user}","gists_url":"https://api.github.com/users/touy/gists{/gist_id}","starred_url":"https://api.github.com/users/touy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/touy/subscriptions","organizations_url":"https://api.github.com/users/touy/orgs","repos_url":"https://api.github.com/users/touy/repos","events_url":"https://api.github.com/users/touy/events{/privacy}","received_events_url":"https://api.github.com/users/touy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-17T15:29:37Z","updated_at":"2018-06-17T15:29:37Z","author_association":"NONE","body":"so I need to put \r\ndoc.gpstime=doc.gpstime.replace('+07:00',''); \r\nwhich it works accordingly , think you ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/397886498/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/397893867","html_url":"https://github.com/apache/couchdb/issues/1384#issuecomment-397893867","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1384","id":397893867,"node_id":"MDEyOklzc3VlQ29tbWVudDM5Nzg5Mzg2Nw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-17T17:31:18Z","updated_at":"2018-06-17T17:32:34Z","author_association":"MEMBER","body":"Hi @PBeier ! Thanks for volunteering to help.\r\n\r\nThe `function_clause` error line above has the full stack trace:\r\n\r\n```\r\n[error] 2018-06-13T16:50:50.479454Z node1@127.0.0.1 <0.3642.0> 3108587a16 rpc couch_db:set_security/2 function_clause [{couch_db,validate_names_and_roles,[[<<\"role_a\">>]],[{file,\"src/couch_db.erl\"},{line,594}]},{couch_db,validate_security_object,1,[{file,\"src/couch_db.erl\"},{line,590}]},{couch_db,set_security,2,[{file,\"src/couch_db.erl\"},{line,574}]},{fabric_rpc,with_db,3,[{file,\"src/fabric_rpc.erl\"},{line,289}]},{rexi_server,init_p,3,[{file,\"src/rexi_server.erl\"},{line,139}]}]                                                                              [error] 2018-06-13T16:50:50.479648Z node1@127.0.0.1 <0.3576.0> 3108587a16 Failed to set security object on {'node1@127.0.0.1',<<\"shards/40000000-5fffffff/abc.1528908305\">>} :: {error,function_clause}                                         [error] 2018-06-13T16:50:50.480220Z node1@127.0.0.1 <0.3647.0> 3108587a16 rpc couch_db:set_security/2 function_clause [{couch_db,validate_names_and_roles,[[<<\"role_a\">>]],[{file,\"src/couch_db.erl\"},{line,594}]},{couch_db,validate_security_object,1,[{file,\"src/couch_db.erl\"},{line,590}]},{couch_db,set_security,2,[{file,\"src/couch_db.erl\"},{line,574}]},{fabric_rpc,with_db,3,[{file,\"src/fabric_rpc.erl\"},{line,289}]},{rexi_server,init_p,3,[{file,\"src/rexi_server.erl\"},{line,139}]}]                                                                              [error] 2018-06-13T16:50:50.480371Z node1@127.0.0.1 <0.3646.0> 3108587a16 rpc couch_db:set_security/2 function_clause [\r\n{couch_db,validate_names_and_roles,[[<<\"role_a\">>]],[{file,\"src/couch_db.erl\"},{line,594}]},\r\n{couch_db,validate_security_object,1,[{file,\"src/couch_db.erl\"},{line,590}]},\r\n{couch_db,set_security,2,[{file,\"src/couch_db.erl\"},{line,574}]},\r\n{fabric_rpc,with_db,3,[{file,\"src/fabric_rpc.erl\"},{line,289}]},\r\n{rexi_server,init_p,3,[{file,\"src/rexi_server.erl\"},{line,139}]}]   \r\n```\r\n\r\n\r\nYou'll need to add an additional guard in `couch_db:validate_security_object/1` or `couch_db:set_security/2` to deal with the fact that it's found an item inside of `members` or `admins` that isn't either `\"names\"` or `\"roles\"`.\r\n\r\nWhile you're at it, you should check that it correctly handles security objects that have top-level items that aren't `admins` or `members`.\r\n\r\nSee [the documentation](http://docs.couchdb.org/en/latest/api/database/security.html) for what a security object should look like.\r\n\r\nThen, I would add additional test cases to ensure that what you've done passes. [This file](https://github.com/apache/couchdb/blob/master/src/couch/src/test_engine_get_set_props.erl) is one possible place to start, but you could also put a test case in at the [chttpd layer](https://github.com/apache/couchdb/blob/master/src/chttpd/test/chttpd_security_tests.erl), which is higher level.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/397893867/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398034837","html_url":"https://github.com/apache/couchdb/pull/1382#issuecomment-398034837","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1382","id":398034837,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODAzNDgzNw==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-18T12:17:55Z","updated_at":"2018-06-18T12:17:55Z","author_association":"MEMBER","body":"This is rather embarrassing, but I still can't find time to look into it.\r\n\r\n@iilyak, @nickva - if one of you have free cycles, can you revew this, please? ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398034837/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398057070","html_url":"https://github.com/apache/couchdb/issues/1314#issuecomment-398057070","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1314","id":398057070,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODA1NzA3MA==","user":{"login":"simonmichael","id":10144,"node_id":"MDQ6VXNlcjEwMTQ0","avatar_url":"https://avatars.githubusercontent.com/u/10144?v=4","gravatar_id":"","url":"https://api.github.com/users/simonmichael","html_url":"https://github.com/simonmichael","followers_url":"https://api.github.com/users/simonmichael/followers","following_url":"https://api.github.com/users/simonmichael/following{/other_user}","gists_url":"https://api.github.com/users/simonmichael/gists{/gist_id}","starred_url":"https://api.github.com/users/simonmichael/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simonmichael/subscriptions","organizations_url":"https://api.github.com/users/simonmichael/orgs","repos_url":"https://api.github.com/users/simonmichael/repos","events_url":"https://api.github.com/users/simonmichael/events{/privacy}","received_events_url":"https://api.github.com/users/simonmichael/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-18T13:39:14Z","updated_at":"2018-06-18T13:39:14Z","author_association":"NONE","body":"Thanks.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398057070/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398102494","html_url":"https://github.com/apache/couchdb/issues/1391#issuecomment-398102494","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1391","id":398102494,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODEwMjQ5NA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-18T15:52:08Z","updated_at":"2018-06-18T15:52:08Z","author_association":"MEMBER","body":"That log is an error from apport, not couchdb, and won't help us much. You can fix the DBUS_SESSION_BUS_ADDRESS with https://stackoverflow.com/questions/41242460/how-to-export-dbus-session-bus-address before you launch X.\r\n\r\nYou can post the crash dump here or in a gist, but I'm not sure it will have anything useful.\r\n\r\nCan you try running couchdb in a terminal, or screen/tmux session rather than as a daemon, then see what errors it turns up in that session?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398102494/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398104106","html_url":"https://github.com/apache/couchdb/issues/1391#issuecomment-398104106","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1391","id":398104106,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODEwNDEwNg==","user":{"login":"gnujeremie","id":245343,"node_id":"MDQ6VXNlcjI0NTM0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/245343?v=4","gravatar_id":"","url":"https://api.github.com/users/gnujeremie","html_url":"https://github.com/gnujeremie","followers_url":"https://api.github.com/users/gnujeremie/followers","following_url":"https://api.github.com/users/gnujeremie/following{/other_user}","gists_url":"https://api.github.com/users/gnujeremie/gists{/gist_id}","starred_url":"https://api.github.com/users/gnujeremie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gnujeremie/subscriptions","organizations_url":"https://api.github.com/users/gnujeremie/orgs","repos_url":"https://api.github.com/users/gnujeremie/repos","events_url":"https://api.github.com/users/gnujeremie/events{/privacy}","received_events_url":"https://api.github.com/users/gnujeremie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-18T15:56:41Z","updated_at":"2018-06-18T15:56:41Z","author_association":"NONE","body":"There is no X server running on the machine running couchdb.\r\nI'll start it again in a tmux session, and see what happens.\r\n\r\nThe crash dump is 330Mo~, I'll post it somewhere and add the link here after.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398104106/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398142770","html_url":"https://github.com/apache/couchdb/pull/1392#issuecomment-398142770","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1392","id":398142770,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODE0Mjc3MA==","user":{"login":"chewbranca","id":5326,"node_id":"MDQ6VXNlcjUzMjY=","avatar_url":"https://avatars.githubusercontent.com/u/5326?v=4","gravatar_id":"","url":"https://api.github.com/users/chewbranca","html_url":"https://github.com/chewbranca","followers_url":"https://api.github.com/users/chewbranca/followers","following_url":"https://api.github.com/users/chewbranca/following{/other_user}","gists_url":"https://api.github.com/users/chewbranca/gists{/gist_id}","starred_url":"https://api.github.com/users/chewbranca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chewbranca/subscriptions","organizations_url":"https://api.github.com/users/chewbranca/orgs","repos_url":"https://api.github.com/users/chewbranca/repos","events_url":"https://api.github.com/users/chewbranca/events{/privacy}","received_events_url":"https://api.github.com/users/chewbranca/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-18T18:01:42Z","updated_at":"2018-06-18T18:01:42Z","author_association":"CONTRIBUTOR","body":"+1 although it would be nice to see ddoc_cache in here as well.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398142770/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398175873","html_url":"https://github.com/apache/couchdb/issues/1391#issuecomment-398175873","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1391","id":398175873,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODE3NTg3Mw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-18T19:57:11Z","updated_at":"2018-06-18T19:57:41Z","author_association":"MEMBER","body":"The log is not useful. As it contains a coredump that may contain passwords or sensitive data, I've removed the link.\r\n\r\nWe need to see the stdout/stderr output to diagnose further.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398175873/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398183190","html_url":"https://github.com/apache/couchdb/pull/1392#issuecomment-398183190","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1392","id":398183190,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODE4MzE5MA==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-18T20:22:49Z","updated_at":"2018-06-18T20:22:49Z","author_association":"MEMBER","body":"@chewbranca Added to ddoc_cache_lru.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398183190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398218060","html_url":"https://github.com/apache/couchdb/pull/1382#issuecomment-398218060","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1382","id":398218060,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODIxODA2MA==","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-18T22:41:25Z","updated_at":"2018-06-19T13:24:47Z","author_association":"CONTRIBUTOR","body":"This PR needs tests. I do believe that following would be sufficient. I am going to test it tonight:\r\n```\r\ndiff --git a/src/couch/test/couch_changes_tests.erl b/src/couch/test/couch_changes_tests.erl\r\nindex 673f2faad..f529eb312 100644\r\n--- a/src/couch/test/couch_changes_tests.erl\r\n+++ b/src/couch/test/couch_changes_tests.erl\r\n@@ -47,9 +47,11 @@ setup() ->\r\n         save_doc(Db1, {[{<<\"_id\">>, <<\"doc7\">>}]}),\r\n         save_doc(Db1, {[{<<\"_id\">>, <<\"doc8\">>}]})\r\n     ]],\r\n+    config:set(\"native_query_servers\", \"erlang\", \"{couch_native_process, start_link, []}\", _Persist=false),\r\n     {DbName, list_to_tuple(Revs2)}.\r\n\r\n teardown({DbName, _}) ->\r\n+    config:delete(\"native_query_servers\", \"erlang\", _Persist=false),\r\n     delete_db(DbName),\r\n     ok.\r\n@@ -153,7 +153,9 @@ filter_by_view() ->\r\n             fun setup/0, fun teardown/1,\r\n             [\r\n                 fun should_filter_by_view/1,\r\n-                fun should_filter_by_fast_view/1\r\n+                fun should_filter_by_fast_view/1,\r\n+                fun should_filter_by_erlang_view/1\r\n+\r\n             ]\r\n         }\r\n     }.\r\n@@ -665,6 +667,39 @@ should_filter_by_user_ctx({DbName, _}) ->\r\n             ?assertEqual(UpSeq, LastSeq)\r\n         end).\r\n\r\n+should_filter_by_erlang_view({DbName, _}) ->\r\n+    ?_test(\r\n+        begin\r\n+            DDocId = <<\"_design/app\">>,\r\n+            DDoc = couch_doc:from_json_obj({[\r\n+                {<<\"_id\">>, DDocId},\r\n+                {<<\"language\">>, <<\"erlang\">>},\r\n+                {<<\"views\">>, {[\r\n+                    {<<\"valid\">>, {[\r\n+                        {<<\"map\">>, <<\"fun({Doc}) ->\"\r\n+                            \" case lists:keyfind(<<\\\"_id\\\">>, 1, Doc) of\"\r\n+                                \" {<<\\\"_id\\\">>, <<\\\"doc3\\\">>} ->  Emit(<<\\\"doc3\\\">>, null); \"\r\n+                                \" false -> ok\"\r\n+                            \" end \"\r\n+                        \"end.\">>}\r\n+                    ]}}\r\n+                ]}}\r\n+            ]}),\r\n+            ChArgs = #changes_args{filter = \"_view\"},\r\n+            Req = {json_req, {[{\r\n+                <<\"query\">>, {[\r\n+                    {<<\"view\">>, <<\"app/valid\">>}\r\n+                ]}\r\n+            }]}},\r\n+            ok = update_ddoc(DbName, DDoc),\r\n+            {Rows, LastSeq, UpSeq} = run_changes_query(DbName, ChArgs, Req),\r\n+            ?assertEqual(1, length(Rows)),\r\n+            [#row{seq = Seq, id = Id}] = Rows,\r\n+            ?assertEqual(<<\"doc3\">>, Id),\r\n+            ?assertEqual(6, Seq),\r\n+            ?assertEqual(UpSeq, LastSeq)\r\n+        end).\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398218060/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398222329","html_url":"https://github.com/apache/couchdb/issues/1388#issuecomment-398222329","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1388","id":398222329,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODIyMjMyOQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-18T23:04:13Z","updated_at":"2018-06-18T23:11:10Z","author_association":"MEMBER","body":"Confirmed that this syntax requires the clouseau/jenkins full text addon or \"full text support\" in Cloudant (which is the same thing) - what you're describing `field.[].field` is Lucene syntax, not mango syntax.\r\n\r\nAs such it is *not* supported in core CouchDB at this time.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398222329/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398294475","html_url":"https://github.com/apache/couchdb/pull/1376#issuecomment-398294475","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1376","id":398294475,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODI5NDQ3NQ==","user":{"login":"tonysun83","id":6991573,"node_id":"MDQ6VXNlcjY5OTE1NzM=","avatar_url":"https://avatars.githubusercontent.com/u/6991573?v=4","gravatar_id":"","url":"https://api.github.com/users/tonysun83","html_url":"https://github.com/tonysun83","followers_url":"https://api.github.com/users/tonysun83/followers","following_url":"https://api.github.com/users/tonysun83/following{/other_user}","gists_url":"https://api.github.com/users/tonysun83/gists{/gist_id}","starred_url":"https://api.github.com/users/tonysun83/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tonysun83/subscriptions","organizations_url":"https://api.github.com/users/tonysun83/orgs","repos_url":"https://api.github.com/users/tonysun83/repos","events_url":"https://api.github.com/users/tonysun83/events{/privacy}","received_events_url":"https://api.github.com/users/tonysun83/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-19T06:56:21Z","updated_at":"2018-06-19T06:56:21Z","author_association":"CONTRIBUTOR","body":"I ran the text index tests and they all pass. So with text indexes, we have to sort with a data type. This means we won't conflict with text and json index sorts when fields are explicitly specified. However, one scenario that I tried out is if we have a index all text index and we do a sort such as:\r\n\r\n```\r\n{\r\n  \"selector\": {\"a\":0, \"b\": {\"$gt\": 10}},\r\n  \"sort\": [\"b\"]\r\n}\r\n```\r\nIn the old code, the index all index would be chosen.\r\n\r\nIn the new code, it's possible we choose a json index instead. I tried this out with one json index and one index all index. The json index gets chosen since it's given higher priority. Are we okay with this?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398294475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398367355","html_url":"https://github.com/apache/couchdb/pull/1376#issuecomment-398367355","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1376","id":398367355,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODM2NzM1NQ==","user":{"login":"garrensmith","id":179458,"node_id":"MDQ6VXNlcjE3OTQ1OA==","avatar_url":"https://avatars.githubusercontent.com/u/179458?v=4","gravatar_id":"","url":"https://api.github.com/users/garrensmith","html_url":"https://github.com/garrensmith","followers_url":"https://api.github.com/users/garrensmith/followers","following_url":"https://api.github.com/users/garrensmith/following{/other_user}","gists_url":"https://api.github.com/users/garrensmith/gists{/gist_id}","starred_url":"https://api.github.com/users/garrensmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garrensmith/subscriptions","organizations_url":"https://api.github.com/users/garrensmith/orgs","repos_url":"https://api.github.com/users/garrensmith/repos","events_url":"https://api.github.com/users/garrensmith/events{/privacy}","received_events_url":"https://api.github.com/users/garrensmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-19T11:32:25Z","updated_at":"2018-06-19T11:32:25Z","author_association":"MEMBER","body":"@tonysun83 I think ideally we always prefer a json index over text or all docs. So that scenario makes sense.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398367355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398398601","html_url":"https://github.com/apache/couchdb/pull/1382#issuecomment-398398601","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1382","id":398398601,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODM5ODYwMQ==","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-19T13:27:54Z","updated_at":"2018-06-19T13:27:54Z","author_association":"CONTRIBUTOR","body":"@AlexanderKaraberov: I did test the change with the test above. It fails without your change and passes with it. Could you either add the test to your PR or write another one if you think of better ways to test it?\r\n\r\nThank you for your contribution.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398398601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398420782","html_url":"https://github.com/apache/couchdb/issues/1293#issuecomment-398420782","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1293","id":398420782,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODQyMDc4Mg==","user":{"login":"wasperen","id":2659329,"node_id":"MDQ6VXNlcjI2NTkzMjk=","avatar_url":"https://avatars.githubusercontent.com/u/2659329?v=4","gravatar_id":"","url":"https://api.github.com/users/wasperen","html_url":"https://github.com/wasperen","followers_url":"https://api.github.com/users/wasperen/followers","following_url":"https://api.github.com/users/wasperen/following{/other_user}","gists_url":"https://api.github.com/users/wasperen/gists{/gist_id}","starred_url":"https://api.github.com/users/wasperen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wasperen/subscriptions","organizations_url":"https://api.github.com/users/wasperen/orgs","repos_url":"https://api.github.com/users/wasperen/repos","events_url":"https://api.github.com/users/wasperen/events{/privacy}","received_events_url":"https://api.github.com/users/wasperen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-19T14:32:47Z","updated_at":"2018-06-19T15:47:41Z","author_association":"NONE","body":"New install; cannot get it off the ground... I found an old copy of js-1.8.5-19 and installed that. Is it worth waiting a little to get the latest couchdb rpm?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398420782/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398421639","html_url":"https://github.com/apache/couchdb/pull/1382#issuecomment-398421639","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1382","id":398421639,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODQyMTYzOQ==","user":{"login":"AlexanderKaraberov","id":3254818,"node_id":"MDQ6VXNlcjMyNTQ4MTg=","avatar_url":"https://avatars.githubusercontent.com/u/3254818?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexanderKaraberov","html_url":"https://github.com/AlexanderKaraberov","followers_url":"https://api.github.com/users/AlexanderKaraberov/followers","following_url":"https://api.github.com/users/AlexanderKaraberov/following{/other_user}","gists_url":"https://api.github.com/users/AlexanderKaraberov/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexanderKaraberov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexanderKaraberov/subscriptions","organizations_url":"https://api.github.com/users/AlexanderKaraberov/orgs","repos_url":"https://api.github.com/users/AlexanderKaraberov/repos","events_url":"https://api.github.com/users/AlexanderKaraberov/events{/privacy}","received_events_url":"https://api.github.com/users/AlexanderKaraberov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-19T14:35:05Z","updated_at":"2018-06-19T14:35:05Z","author_association":"CONTRIBUTOR","body":"@iilyak \r\nYes sure. Sorry, I forgot to write proper tests before actually submitting my PR. I will run your test suite, verify whether it covers all the use cases and will include it in the PR. Hopefully today or tomorrow. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398421639/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398463058","html_url":"https://github.com/apache/couchdb/pull/1376#issuecomment-398463058","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1376","id":398463058,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODQ2MzA1OA==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-19T16:32:58Z","updated_at":"2018-06-19T16:32:58Z","author_association":"MEMBER","body":"Don't forget to squerge before merging!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398463058/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398518460","html_url":"https://github.com/apache/couchdb/issues/777#issuecomment-398518460","issue_url":"https://api.github.com/repos/apache/couchdb/issues/777","id":398518460,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODUxODQ2MA==","user":{"login":"ahayes","id":1750076,"node_id":"MDQ6VXNlcjE3NTAwNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1750076?v=4","gravatar_id":"","url":"https://api.github.com/users/ahayes","html_url":"https://github.com/ahayes","followers_url":"https://api.github.com/users/ahayes/followers","following_url":"https://api.github.com/users/ahayes/following{/other_user}","gists_url":"https://api.github.com/users/ahayes/gists{/gist_id}","starred_url":"https://api.github.com/users/ahayes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ahayes/subscriptions","organizations_url":"https://api.github.com/users/ahayes/orgs","repos_url":"https://api.github.com/users/ahayes/repos","events_url":"https://api.github.com/users/ahayes/events{/privacy}","received_events_url":"https://api.github.com/users/ahayes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-19T19:33:22Z","updated_at":"2018-06-19T19:33:22Z","author_association":"NONE","body":"This gave me quite a bit of grief today. Note that this behaviour does not match the documentation at http://docs.couchdb.org/en/2.1.1/config/auth.html#server-administrators\r\n\r\nA side-effect is that attempting to reset the admin password using the local.ini file doesn't seem to take hold. I now assume this is because it doesn't consider the local.ini version to be relevant when there is a local.d/10-admins.ini file present with the same user listed in it. Only new users have their info copied over.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398518460/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398519283","html_url":"https://github.com/apache/couchdb/pull/1393#issuecomment-398519283","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1393","id":398519283,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODUxOTI4Mw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-19T19:36:13Z","updated_at":"2018-06-19T19:36:13Z","author_association":"MEMBER","body":"I can't review the code here, but I insist you add something to the documentation about this new flag, even if it's just in `rel/overlay/etc/default.ini`.\r\n\r\nSpeaking of which, I don't see any changes in this PR to that file :disappointed:  **ALL** new `config:get` entries should be paired with a change to `default.ini`.\r\n\r\nWhen we change the default value and remove the config option, we will need a big screaming warning in the upgrade docs that says rolling upgrades from older CouchDBs that have the value set to `false` will fail. (It might be worth describing exactly how those upgrades will fail, too.)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398519283/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398519563","html_url":"https://github.com/apache/couchdb/issues/777#issuecomment-398519563","issue_url":"https://api.github.com/repos/apache/couchdb/issues/777","id":398519563,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODUxOTU2Mw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-19T19:37:16Z","updated_at":"2018-06-19T19:37:16Z","author_association":"MEMBER","body":"Thanks for the info @ahayes . We'd welcome your improvements to the documentation over at https://github.com/apache/couchdb-documentation . Pull requests are welcome! :)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398519563/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398530024","html_url":"https://github.com/apache/couchdb/pull/1393#issuecomment-398530024","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1393","id":398530024,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODUzMDAyNA==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-19T20:13:43Z","updated_at":"2018-06-19T20:13:43Z","author_association":"CONTRIBUTOR","body":"@wohali sorry, this is still a WIP, forgot to mark it as such","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398530024/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398531939","html_url":"https://github.com/apache/couchdb/issues/777#issuecomment-398531939","issue_url":"https://api.github.com/repos/apache/couchdb/issues/777","id":398531939,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODUzMTkzOQ==","user":{"login":"ahayes","id":1750076,"node_id":"MDQ6VXNlcjE3NTAwNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1750076?v=4","gravatar_id":"","url":"https://api.github.com/users/ahayes","html_url":"https://github.com/ahayes","followers_url":"https://api.github.com/users/ahayes/followers","following_url":"https://api.github.com/users/ahayes/following{/other_user}","gists_url":"https://api.github.com/users/ahayes/gists{/gist_id}","starred_url":"https://api.github.com/users/ahayes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ahayes/subscriptions","organizations_url":"https://api.github.com/users/ahayes/orgs","repos_url":"https://api.github.com/users/ahayes/repos","events_url":"https://api.github.com/users/ahayes/events{/privacy}","received_events_url":"https://api.github.com/users/ahayes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-19T20:20:12Z","updated_at":"2018-06-19T20:21:43Z","author_association":"NONE","body":"Thanks @wohali. I can give it a shot. Can you confirm that this new behaviour is standard on all couchdb platforms? I could then modify the docs to simply point at the 10-admins.ini file rather than local.ini sections talking about [admins]. Also, do you know which version introduced this change?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398531939/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398546380","html_url":"https://github.com/apache/couchdb/issues/777#issuecomment-398546380","issue_url":"https://api.github.com/repos/apache/couchdb/issues/777","id":398546380,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODU0NjM4MA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-19T21:08:04Z","updated_at":"2018-06-19T21:08:04Z","author_association":"MEMBER","body":"10-admins.ini is specific to how the Debian package installer works, so no, that's not global. The described behaviour [here](http://docs.couchdb.org/en/2.1.1/config/intro.html#configuration-files) is new as of 2.0.0, which is when many breaking changes were introduced.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398546380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398548531","html_url":"https://github.com/apache/couchdb/pull/1394#issuecomment-398548531","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1394","id":398548531,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODU0ODUzMQ==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-19T21:15:23Z","updated_at":"2018-06-19T21:15:23Z","author_association":"CONTRIBUTOR","body":"To test:\r\n\r\n1) Run tests. Make sure attachment uploads work.\r\n\r\n2) Switch https://github.com/apache/couchdb/blob/master/src/fabric/src/fabric.erl#L280 to fabric_doc_atts instead of fabric_doc_attachments. Test attachments again.\r\n\r\n3) Start a dev cluster with 3 nodes. Switch to fabric_doc_atts module on one or two nodes only. Got Test attachment uploading works by trying to upload to all the nodes.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398548531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398554309","html_url":"https://github.com/apache/couchdb/pull/1394#issuecomment-398554309","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1394","id":398554309,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODU1NDMwOQ==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-19T21:36:41Z","updated_at":"2018-06-19T21:36:41Z","author_association":"CONTRIBUTOR","body":"Another note: `fabric_doc_atts` is mostly a copy of `fabric_doc_attachments`. The reason it is a separate module as opposed adding a few clauses and a new function to `fabric_doc_attachments` is because funs would break when there is a mix of the old fabric_doc_attachments (without the change) and the new version with extra clauses. We are trying to prevent such breakage  and the only way to do it was to keep the `fabric_doc_attachments` module intact.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398554309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398586079","html_url":"https://github.com/apache/couchdb/pull/1394#issuecomment-398586079","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1394","id":398586079,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODU4NjA3OQ==","user":{"login":"jaydoane","id":51209,"node_id":"MDQ6VXNlcjUxMjA5","avatar_url":"https://avatars.githubusercontent.com/u/51209?v=4","gravatar_id":"","url":"https://api.github.com/users/jaydoane","html_url":"https://github.com/jaydoane","followers_url":"https://api.github.com/users/jaydoane/followers","following_url":"https://api.github.com/users/jaydoane/following{/other_user}","gists_url":"https://api.github.com/users/jaydoane/gists{/gist_id}","starred_url":"https://api.github.com/users/jaydoane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaydoane/subscriptions","organizations_url":"https://api.github.com/users/jaydoane/orgs","repos_url":"https://api.github.com/users/jaydoane/repos","events_url":"https://api.github.com/users/jaydoane/events{/privacy}","received_events_url":"https://api.github.com/users/jaydoane/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-20T00:25:36Z","updated_at":"2018-06-20T00:25:36Z","author_association":"CONTRIBUTOR","body":"I ran through all the steps listed under \"To test\": tests passed in all cases. For the last step, `node1` used `fabric_doc_atts` while the other two nodes used `fabric_doc_attachments`, and I was again able to successfully upload an attachment. LGTM","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398586079/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398624368","html_url":"https://github.com/apache/couchdb/issues/1395#issuecomment-398624368","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1395","id":398624368,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODYyNDM2OA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-20T04:58:00Z","updated_at":"2018-06-20T04:58:00Z","author_association":"MEMBER","body":"No, this is valid.\r\n\r\n`[\"2018-06-19T09:16:47,527\",\"stage\"] > [\"2018-06-19T09:16:47,527\", \"ods\"]` (try it in a JavaScript console!) and since you specified `descending=true`, the key is emitted.\r\n\r\nYou can avoid emitting that key by changing your view code, or specifying a startkey of something like `[\"2018-06-19T09:16:47,527\",\"aaa\"]`.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398624368/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398789689","html_url":"https://github.com/apache/couchdb/pull/1376#issuecomment-398789689","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1376","id":398789689,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODc4OTY4OQ==","user":{"login":"tonysun83","id":6991573,"node_id":"MDQ6VXNlcjY5OTE1NzM=","avatar_url":"https://avatars.githubusercontent.com/u/6991573?v=4","gravatar_id":"","url":"https://api.github.com/users/tonysun83","html_url":"https://github.com/tonysun83","followers_url":"https://api.github.com/users/tonysun83/followers","following_url":"https://api.github.com/users/tonysun83/following{/other_user}","gists_url":"https://api.github.com/users/tonysun83/gists{/gist_id}","starred_url":"https://api.github.com/users/tonysun83/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tonysun83/subscriptions","organizations_url":"https://api.github.com/users/tonysun83/orgs","repos_url":"https://api.github.com/users/tonysun83/repos","events_url":"https://api.github.com/users/tonysun83/events{/privacy}","received_events_url":"https://api.github.com/users/tonysun83/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-20T15:19:00Z","updated_at":"2018-06-20T15:19:00Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398789689/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398791869","html_url":"https://github.com/apache/couchdb/issues/1395#issuecomment-398791869","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1395","id":398791869,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODc5MTg2OQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-20T15:25:17Z","updated_at":"2018-06-20T15:25:17Z","author_association":"MEMBER","body":"@altairlee if you want to do the query you asked, the doc.dbName will have to be first in the key.\r\n\r\nYou can alternately look at using Mango to do this.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398791869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398802312","html_url":"https://github.com/apache/couchdb/pull/1382#issuecomment-398802312","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1382","id":398802312,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODgwMjMxMg==","user":{"login":"AlexanderKaraberov","id":3254818,"node_id":"MDQ6VXNlcjMyNTQ4MTg=","avatar_url":"https://avatars.githubusercontent.com/u/3254818?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexanderKaraberov","html_url":"https://github.com/AlexanderKaraberov","followers_url":"https://api.github.com/users/AlexanderKaraberov/followers","following_url":"https://api.github.com/users/AlexanderKaraberov/following{/other_user}","gists_url":"https://api.github.com/users/AlexanderKaraberov/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexanderKaraberov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexanderKaraberov/subscriptions","organizations_url":"https://api.github.com/users/AlexanderKaraberov/orgs","repos_url":"https://api.github.com/users/AlexanderKaraberov/repos","events_url":"https://api.github.com/users/AlexanderKaraberov/events{/privacy}","received_events_url":"https://api.github.com/users/AlexanderKaraberov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-20T15:56:36Z","updated_at":"2018-06-20T15:56:36Z","author_association":"CONTRIBUTOR","body":"Hi @iilyak , I've checked the test you had added and it's completely fine. Thanks!\r\n`should_filter_by_erlang_view` is exactly what's needed and I've included this test in the PR.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398802312/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398872785","html_url":"https://github.com/apache/couchdb/issues/1384#issuecomment-398872785","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1384","id":398872785,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODg3Mjc4NQ==","user":{"login":"Peim8","id":8719360,"node_id":"MDQ6VXNlcjg3MTkzNjA=","avatar_url":"https://avatars.githubusercontent.com/u/8719360?v=4","gravatar_id":"","url":"https://api.github.com/users/Peim8","html_url":"https://github.com/Peim8","followers_url":"https://api.github.com/users/Peim8/followers","following_url":"https://api.github.com/users/Peim8/following{/other_user}","gists_url":"https://api.github.com/users/Peim8/gists{/gist_id}","starred_url":"https://api.github.com/users/Peim8/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Peim8/subscriptions","organizations_url":"https://api.github.com/users/Peim8/orgs","repos_url":"https://api.github.com/users/Peim8/repos","events_url":"https://api.github.com/users/Peim8/events{/privacy}","received_events_url":"https://api.github.com/users/Peim8/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-20T19:44:20Z","updated_at":"2018-06-20T19:44:20Z","author_association":"NONE","body":"Sorry, I can't find Visual Studio 2013 x64 Community Edition; only the x86 version ...","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398872785/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398901776","html_url":"https://github.com/apache/couchdb/issues/1396#issuecomment-398901776","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1396","id":398901776,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODkwMTc3Ng==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-20T21:23:28Z","updated_at":"2018-06-20T21:23:28Z","author_association":"CONTRIBUTOR","body":"PR to update snappy to build with Erlang 21 https://github.com/apache/couchdb-snappy/pull/7\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398901776/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398902259","html_url":"https://github.com/apache/couchdb/issues/1396#issuecomment-398902259","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1396","id":398902259,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODkwMjI1OQ==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-20T21:25:05Z","updated_at":"2018-06-20T21:25:05Z","author_association":"CONTRIBUTOR","body":"Some failing unit tests\r\n\r\n```\r\nmake eunit apps=couch_log\r\n==> couch_log (compile)\r\n==> rel (compile)\r\n==> asf (compile)\r\n==> asf (setup_eunit)\r\n==> couch_log (eunit)\r\n======================== EUnit ========================\r\nmodule 'couch_log_util_test'\r\n  couch_log_util_test: get_message_id_test...ok\r\n  couch_log_util_test: level_to_atom_test...ok\r\n  couch_log_util_test: string_p_test...ok\r\n  [done in 0.009 s]\r\nmodule 'couch_log_monitor'\r\nmodule 'couch_log_writer_stderr_test'\r\n  *** context setup failed ***\r\n**in function gen:do_for_proc/2 (gen.erl, line 228)\r\nin call from gen_event:rpc/2 (gen_event.erl, line 239)\r\nin call from couch_log_test_util:remove_error_loggers/0 (test/couch_log_test_util.erl, line 128)\r\nin call from couch_log_test_util:start/0 (test/couch_log_test_util.erl, line 21)\r\n**exit:noproc\r\n\r\n\r\nmodule 'couch_log_sup'\r\nmodule 'couch_log_writer_file'\r\nmodule 'couch_log_writer_test'\r\n  *** context setup failed ***\r\n**in function gen:do_for_proc/2 (gen.erl, line 228)\r\nin call from gen_event:rpc/2 (gen_event.erl, line 239)\r\nin call from couch_log_test_util:remove_error_loggers/0 (test/couch_log_test_util.erl, line 128)\r\nin call from couch_log_test_util:start/0 (test/couch_log_test_util.erl, line 21)\r\n**exit:noproc\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398902259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398993234","html_url":"https://github.com/apache/couchdb/issues/1395#issuecomment-398993234","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1395","id":398993234,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODk5MzIzNA==","user":{"login":"lizhen921","id":18165265,"node_id":"MDQ6VXNlcjE4MTY1MjY1","avatar_url":"https://avatars.githubusercontent.com/u/18165265?v=4","gravatar_id":"","url":"https://api.github.com/users/lizhen921","html_url":"https://github.com/lizhen921","followers_url":"https://api.github.com/users/lizhen921/followers","following_url":"https://api.github.com/users/lizhen921/following{/other_user}","gists_url":"https://api.github.com/users/lizhen921/gists{/gist_id}","starred_url":"https://api.github.com/users/lizhen921/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lizhen921/subscriptions","organizations_url":"https://api.github.com/users/lizhen921/orgs","repos_url":"https://api.github.com/users/lizhen921/repos","events_url":"https://api.github.com/users/lizhen921/events{/privacy}","received_events_url":"https://api.github.com/users/lizhen921/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-21T06:41:02Z","updated_at":"2018-06-21T06:41:02Z","author_association":"NONE","body":"@wohali \r\nThanks for the reply. I have used Mango to do this.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/398993234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399140418","html_url":"https://github.com/apache/couchdb/pull/1397#issuecomment-399140418","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1397","id":399140418,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTE0MDQxOA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-21T15:16:44Z","updated_at":"2018-06-21T15:16:44Z","author_association":"MEMBER","body":"I know this is a WIP, but is there any intent to expose these at `GET /{db}`?\r\n\r\nOut of curiosity, what new attributes are coming?\r\n\r\nDo these attributes replicate when replicating a shard directly, or is it like the `_security` object where that does not occur?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399140418/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399157970","html_url":"https://github.com/apache/couchdb/issues/1396#issuecomment-399157970","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1396","id":399157970,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTE1Nzk3MA==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-21T16:07:55Z","updated_at":"2018-06-21T16:07:55Z","author_association":"MEMBER","body":"I'll take a look at the couch_log test failures today.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399157970/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399161272","html_url":"https://github.com/apache/couchdb/pull/1397#issuecomment-399161272","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1397","id":399161272,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTE2MTI3Mg==","user":{"login":"garrensmith","id":179458,"node_id":"MDQ6VXNlcjE3OTQ1OA==","avatar_url":"https://avatars.githubusercontent.com/u/179458?v=4","gravatar_id":"","url":"https://api.github.com/users/garrensmith","html_url":"https://github.com/garrensmith","followers_url":"https://api.github.com/users/garrensmith/followers","following_url":"https://api.github.com/users/garrensmith/following{/other_user}","gists_url":"https://api.github.com/users/garrensmith/gists{/gist_id}","starred_url":"https://api.github.com/users/garrensmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garrensmith/subscriptions","organizations_url":"https://api.github.com/users/garrensmith/orgs","repos_url":"https://api.github.com/users/garrensmith/repos","events_url":"https://api.github.com/users/garrensmith/events{/privacy}","received_events_url":"https://api.github.com/users/garrensmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-21T16:18:28Z","updated_at":"2018-06-21T16:18:28Z","author_association":"MEMBER","body":"This is purely internal. Just the ability to set flags for a db. Similar to the rev_limits or security object. But we wont expose to the user.\n\n________________________________\nFrom: Joan Touzet <notifications@github.com>\nSent: Thursday, June 21, 2018 5:16:50 PM\nTo: apache/couchdb\nCc: garren smith; Author\nSubject: Re: [apache/couchdb] [wip] Create property storage in db engine (#1397)\n\n\nI know this is a WIP, but is there any intent to expose these at GET /{db}?\n\nOut of curiosity, what new attributes are coming?\n\nDo these attributes replicate when replicating a shard directly, or is it like the _security object where that does not occur?\n\n\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub<https://github.com/apache/couchdb/pull/1397#issuecomment-399140418>, or mute the thread<https://github.com/notifications/unsubscribe-auth/AAK9AgXPf5DCn5X_BFCDOS9O0SiDGptmks5t-7jigaJpZM4UyMYF>.\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399161272/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399164858","html_url":"https://github.com/apache/couchdb/issues/1396#issuecomment-399164858","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1396","id":399164858,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTE2NDg1OA==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-21T16:29:44Z","updated_at":"2018-06-21T16:29:44Z","author_association":"MEMBER","body":"Well this might have something to do with it:\r\n\r\n```\r\nOTP-13295    Application(s): erts, kernel, sasl, stdlib\r\n\r\n               A new logging API is added to Erlang/OTP, see the\r\n               logger(3) manual page, and section Logging in the\r\n               Kernel User's Guide.\r\n\r\n               Calls to error_logger are automatically redirected to\r\n               the new API, and legacy error logger event handlers can\r\n               still be used. It is, however, recommended to use the\r\n               Logger API directly when writing new code.\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399164858/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399193461","html_url":"https://github.com/apache/couchdb/issues/1396#issuecomment-399193461","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1396","id":399193461,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTE5MzQ2MQ==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-21T18:05:30Z","updated_at":"2018-06-21T18:05:30Z","author_association":"MEMBER","body":"Working through eunit failures. We'll need to merge this branch to mochiweb as well:\r\n\r\nhttps://github.com/apache/couchdb-mochiweb/compare/master...cloudant:fix-parameterized-module-errors","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399193461/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399195319","html_url":"https://github.com/apache/couchdb/issues/1396#issuecomment-399195319","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1396","id":399195319,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTE5NTMxOQ==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-21T18:11:51Z","updated_at":"2018-06-21T18:11:51Z","author_association":"MEMBER","body":"My unit test work is on this branch:\r\n\r\nhttps://github.com/apache/couchdb/compare/fix-erlang-21-eunit-failures\r\n\r\nNow getting errors from the test suite in couch and I have a hunch its related to the new fully async link/monitor/send primitives which aught to make fixing these super duper fun.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399195319/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399195731","html_url":"https://github.com/apache/couchdb/issues/1396#issuecomment-399195731","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1396","id":399195731,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTE5NTczMQ==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-21T18:13:12Z","updated_at":"2018-06-21T18:13:12Z","author_association":"MEMBER","body":"Also that's a dirty diff cause I wasn't careful about removing auto-whitespace trimmed hunks. Will clean it up later.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399195731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399199355","html_url":"https://github.com/apache/couchdb/issues/1396#issuecomment-399199355","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1396","id":399199355,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTE5OTM1NQ==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-21T18:26:02Z","updated_at":"2018-06-21T18:26:02Z","author_association":"MEMBER","body":"Also the async bullet point is this change:\r\n\r\n```\r\nOTP-14589    Application(s): erts\r\n\r\n               Implementation of true asynchronous signaling between\r\n               processes in order to improve scalability. Signals\r\n               affected include exit, monitor, demonitor, monitor\r\n               triggered, link, unlink, and group leader.\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399199355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399205044","html_url":"https://github.com/apache/couchdb/issues/1396#issuecomment-399205044","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1396","id":399205044,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTIwNTA0NA==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-21T18:45:59Z","updated_at":"2018-06-21T18:45:59Z","author_association":"MEMBER","body":"Also this change:\r\n\r\n```\r\nOTP-14901    Application(s): erts\r\n\r\n               Optimized the common case of monitor followed by send\r\n               to the same local process. The monitor signal is now\r\n               delayed in order to be piggybacked with the sent\r\n               message and thereby only get one lock operation on the\r\n               message queue of the receiver. A delayed monitor signal\r\n               is flushed if no send has been done at the latest when\r\n               the process is scheduled out.\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399205044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399303628","html_url":"https://github.com/apache/couchdb/issues/1399#issuecomment-399303628","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1399","id":399303628,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTMwMzYyOA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-22T02:42:54Z","updated_at":"2018-06-22T02:42:54Z","author_association":"MEMBER","body":"@nickva has anything changed on this front since 2.1.0?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399303628/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399307488","html_url":"https://github.com/apache/couchdb/issues/1399#issuecomment-399307488","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1399","id":399307488,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTMwNzQ4OA==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-22T03:10:49Z","updated_at":"2018-06-22T03:10:49Z","author_association":"CONTRIBUTOR","body":"Can try to adjust these two `[replicator]` settings:\r\n\r\n`retries_per_request = 5` : increase this to say 15, this way on a temporary failure requests will be retried without crashing the job\r\n\r\n`max_history = 20` : decrease this to 7. This limits the length of history of crashed events for each job and determines how long the backoff will be. The longer the history, the longer the consecutive failure count, the larger the delay.  The base delay is 30 seconds, then there are pairs of start, stop or crash events. So with 7 the max delay would be `30*2^(7/2)` which is about 4 minutes.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399307488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399420456","html_url":"https://github.com/apache/couchdb/issues/1400#issuecomment-399420456","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1400","id":399420456,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTQyMDQ1Ng==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-22T12:06:44Z","updated_at":"2018-06-22T12:06:44Z","author_association":"MEMBER","body":"I'm afraid there's not enough detail in the log here. Are there any tracebacks in the logfile? When you get a 500 back, what does the JSON say?\r\n\r\nCan you describe how you're performing the cluster setup?\r\n\r\nAre the nodes able to communicate with each other over all ports, or is there any firewall?\r\n\r\nGenerally we recommend a 3-node cluster as the smallest cluster size, not 2-node, but a 2-node cluster should work.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399420456/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399424728","html_url":"https://github.com/apache/couchdb/pull/1370#issuecomment-399424728","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1370","id":399424728,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTQyNDcyOA==","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-22T12:23:27Z","updated_at":"2018-06-22T12:23:27Z","author_association":"CONTRIBUTOR","body":"Very nice work.  for a thorough test suite. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399424728/reactions","total_count":1,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399443903","html_url":"https://github.com/apache/couchdb/issues/1402#issuecomment-399443903","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1402","id":399443903,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTQ0MzkwMw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-22T13:33:46Z","updated_at":"2018-06-22T13:33:46Z","author_association":"MEMBER","body":"We no longer support the Launchpad PPA or 1.x packages.\r\n\r\nFor CouchDB 2.x, we provide our own repository. Installation instructions are here:\r\n\r\nhttp://docs.couchdb.org/en/2.1.1/install/unix.html#installation-using-the-apache-couchdb-convenience-binary-packages","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399443903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399494330","html_url":"https://github.com/apache/couchdb/pull/1403#issuecomment-399494330","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1403","id":399494330,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTQ5NDMzMA==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-22T16:06:33Z","updated_at":"2018-06-22T16:06:33Z","author_association":"CONTRIBUTOR","body":"@eiri thank you!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399494330/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399519824","html_url":"https://github.com/apache/couchdb/pull/1370#issuecomment-399519824","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1370","id":399519824,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTUxOTgyNA==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-22T17:31:30Z","updated_at":"2018-06-22T17:31:30Z","author_association":"CONTRIBUTOR","body":"I just added commit https://github.com/apache/couchdb/pull/1370/commits/a5c1d1330c8051a9912871049ead60869745c4db to address issue of exposing `verify_module` and `verify_function` for unexpected execution. Currently `couch_epi:any/5` is used to listen whether there is client reporting a valid index. \r\n\r\nIn addition, it looks that there is problem with `couch_db:get_design_docs/1` and I stripped the suffix (the part after dot) before calling `fabric:design_docs/1`.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399519824/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399549238","html_url":"https://github.com/apache/couchdb/pull/1404#issuecomment-399549238","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1404","id":399549238,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTU0OTIzOA==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-22T19:04:48Z","updated_at":"2018-06-22T19:04:58Z","author_association":"MEMBER","body":"See #1405 for the continuation of this work.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399549238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399609374","html_url":"https://github.com/apache/couchdb/pull/1406#issuecomment-399609374","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1406","id":399609374,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTYwOTM3NA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-22T23:30:11Z","updated_at":"2018-06-22T23:30:11Z","author_association":"MEMBER","body":"After `apt-get install elixir`, I end up with:\r\n\r\n```\r\n$ ./run\r\nCould not find Hex, which is needed to build dependency :httpotion\r\nShall I install Hex? (if running non-interactively, use: \"mix local.hex --force\") [Yn]\r\n```\r\n\r\nI added this command to the top of ./run and got:\r\n\r\n```\r\n** (Mix) You're trying to run :foo on Elixir v1.3.3 but it has declared in its mix.exs file it supports only Elixir ~> 1.5\r\n```\r\n\r\nmeaning that the Debian version of elixir isn't compatible with the newer packaged versions of Erlang from erlang-solutions.\r\n\r\nI'll have to come back to this, I'm out of time for Couch until Monday.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399609374/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399670890","html_url":"https://github.com/apache/couchdb/issues/1054#issuecomment-399670890","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1054","id":399670890,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTY3MDg5MA==","user":{"login":"johs","id":48370,"node_id":"MDQ6VXNlcjQ4Mzcw","avatar_url":"https://avatars.githubusercontent.com/u/48370?v=4","gravatar_id":"","url":"https://api.github.com/users/johs","html_url":"https://github.com/johs","followers_url":"https://api.github.com/users/johs/followers","following_url":"https://api.github.com/users/johs/following{/other_user}","gists_url":"https://api.github.com/users/johs/gists{/gist_id}","starred_url":"https://api.github.com/users/johs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johs/subscriptions","organizations_url":"https://api.github.com/users/johs/orgs","repos_url":"https://api.github.com/users/johs/repos","events_url":"https://api.github.com/users/johs/events{/privacy}","received_events_url":"https://api.github.com/users/johs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-23T11:52:01Z","updated_at":"2018-06-23T11:52:01Z","author_association":"NONE","body":"Thanks for this endyjasmi, I stuggled a lot to configure http_global_handlers without any luck. Using  port 5986 as a workaround helps.\r\nHope this bug can be fixed!\r\n ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399670890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399671156","html_url":"https://github.com/apache/couchdb/issues/1312#issuecomment-399671156","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1312","id":399671156,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTY3MTE1Ng==","user":{"login":"johs","id":48370,"node_id":"MDQ6VXNlcjQ4Mzcw","avatar_url":"https://avatars.githubusercontent.com/u/48370?v=4","gravatar_id":"","url":"https://api.github.com/users/johs","html_url":"https://github.com/johs","followers_url":"https://api.github.com/users/johs/followers","following_url":"https://api.github.com/users/johs/following{/other_user}","gists_url":"https://api.github.com/users/johs/gists{/gist_id}","starred_url":"https://api.github.com/users/johs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johs/subscriptions","organizations_url":"https://api.github.com/users/johs/orgs","repos_url":"https://api.github.com/users/johs/repos","events_url":"https://api.github.com/users/johs/events{/privacy}","received_events_url":"https://api.github.com/users/johs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-23T11:55:29Z","updated_at":"2018-06-23T11:55:29Z","author_association":"NONE","body":"See https://github.com/apache/couchdb/issues/1054\r\nSame issue?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399671156/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399695131","html_url":"https://github.com/apache/couchdb/issues/1314#issuecomment-399695131","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1314","id":399695131,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTY5NTEzMQ==","user":{"login":"nestedsoftware","id":2969361,"node_id":"MDQ6VXNlcjI5NjkzNjE=","avatar_url":"https://avatars.githubusercontent.com/u/2969361?v=4","gravatar_id":"","url":"https://api.github.com/users/nestedsoftware","html_url":"https://github.com/nestedsoftware","followers_url":"https://api.github.com/users/nestedsoftware/followers","following_url":"https://api.github.com/users/nestedsoftware/following{/other_user}","gists_url":"https://api.github.com/users/nestedsoftware/gists{/gist_id}","starred_url":"https://api.github.com/users/nestedsoftware/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nestedsoftware/subscriptions","organizations_url":"https://api.github.com/users/nestedsoftware/orgs","repos_url":"https://api.github.com/users/nestedsoftware/repos","events_url":"https://api.github.com/users/nestedsoftware/events{/privacy}","received_events_url":"https://api.github.com/users/nestedsoftware/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-23T17:23:37Z","updated_at":"2018-06-23T17:23:37Z","author_association":"NONE","body":"Hi, any update on this?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399695131/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399695301","html_url":"https://github.com/apache/couchdb/issues/1054#issuecomment-399695301","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1054","id":399695301,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTY5NTMwMQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-23T17:26:21Z","updated_at":"2018-06-23T17:35:04Z","author_association":"MEMBER","body":"@johs  FYI there's no guarantee that port 5986 actually has all of the 2.x functionality, you know. In fact in 2.2.0 you won't be able to access Fauxton on that port.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399695301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399695360","html_url":"https://github.com/apache/couchdb/issues/1312#issuecomment-399695360","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1312","id":399695360,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTY5NTM2MA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-23T17:27:16Z","updated_at":"2018-06-23T17:27:16Z","author_association":"MEMBER","body":"@johs No, most of the time this passes, see Travis and Jenkins. It's a specific BSD bug.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399695360/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399695531","html_url":"https://github.com/apache/couchdb/issues/1314#issuecomment-399695531","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1314","id":399695531,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTY5NTUzMQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-23T17:29:56Z","updated_at":"2018-06-23T17:29:56Z","author_association":"MEMBER","body":"Sorry, there is an administrative holdup - it is out of my hands.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399695531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399695612","html_url":"https://github.com/apache/couchdb/issues/1409#issuecomment-399695612","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1409","id":399695612,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTY5NTYxMg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-23T17:31:18Z","updated_at":"2018-06-23T17:31:18Z","author_association":"MEMBER","body":"Attachments are a known weak point of CouchDB. What happens if you attempt to PUT an 8MB JSON doc (not an attachment, just an 8MB document)?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399695612/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399697599","html_url":"https://github.com/apache/couchdb/issues/1409#issuecomment-399697599","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1409","id":399697599,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTY5NzU5OQ==","user":{"login":"stevedrew","id":5779089,"node_id":"MDQ6VXNlcjU3NzkwODk=","avatar_url":"https://avatars.githubusercontent.com/u/5779089?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedrew","html_url":"https://github.com/stevedrew","followers_url":"https://api.github.com/users/stevedrew/followers","following_url":"https://api.github.com/users/stevedrew/following{/other_user}","gists_url":"https://api.github.com/users/stevedrew/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedrew/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedrew/subscriptions","organizations_url":"https://api.github.com/users/stevedrew/orgs","repos_url":"https://api.github.com/users/stevedrew/repos","events_url":"https://api.github.com/users/stevedrew/events{/privacy}","received_events_url":"https://api.github.com/users/stevedrew/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-23T18:03:07Z","updated_at":"2018-06-23T18:03:07Z","author_association":"NONE","body":"I base64 encoded the file as a text file then did the PUT with application/text and it was worse **1 minute 29 seconds.**\r\n\r\nSo this is a 10MB text file that now takes 1 min 29 seconds to PUT.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399697599/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399698812","html_url":"https://github.com/apache/couchdb/issues/1314#issuecomment-399698812","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1314","id":399698812,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTY5ODgxMg==","user":{"login":"pbgc","id":180825,"node_id":"MDQ6VXNlcjE4MDgyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/180825?v=4","gravatar_id":"","url":"https://api.github.com/users/pbgc","html_url":"https://github.com/pbgc","followers_url":"https://api.github.com/users/pbgc/followers","following_url":"https://api.github.com/users/pbgc/following{/other_user}","gists_url":"https://api.github.com/users/pbgc/gists{/gist_id}","starred_url":"https://api.github.com/users/pbgc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pbgc/subscriptions","organizations_url":"https://api.github.com/users/pbgc/orgs","repos_url":"https://api.github.com/users/pbgc/repos","events_url":"https://api.github.com/users/pbgc/events{/privacy}","received_events_url":"https://api.github.com/users/pbgc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-23T18:22:59Z","updated_at":"2018-06-23T19:17:47Z","author_association":"NONE","body":"@wohali, sorry for asking again, but there is another ETA ?? I'm an user of the @simonmichael site that went down because of this ... and I was hoping this would be solved in the last ETA (one week) and I need to take decisions.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399698812/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399702824","html_url":"https://github.com/apache/couchdb/issues/1314#issuecomment-399702824","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1314","id":399702824,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTcwMjgyNA==","user":{"login":"nestedsoftware","id":2969361,"node_id":"MDQ6VXNlcjI5NjkzNjE=","avatar_url":"https://avatars.githubusercontent.com/u/2969361?v=4","gravatar_id":"","url":"https://api.github.com/users/nestedsoftware","html_url":"https://github.com/nestedsoftware","followers_url":"https://api.github.com/users/nestedsoftware/followers","following_url":"https://api.github.com/users/nestedsoftware/following{/other_user}","gists_url":"https://api.github.com/users/nestedsoftware/gists{/gist_id}","starred_url":"https://api.github.com/users/nestedsoftware/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nestedsoftware/subscriptions","organizations_url":"https://api.github.com/users/nestedsoftware/orgs","repos_url":"https://api.github.com/users/nestedsoftware/repos","events_url":"https://api.github.com/users/nestedsoftware/events{/privacy}","received_events_url":"https://api.github.com/users/nestedsoftware/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-23T19:30:42Z","updated_at":"2018-06-23T19:30:42Z","author_association":"NONE","body":"Hi @pbgc @simonmichael - in the meantime, one option is to install couchdb 2.0 using the bitnami installer: https://bitnami.com/stack/couchdb/installer . After downloading the `.run` file, chmod +x it and then you can run that script to install it on your system.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399702824/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399703472","html_url":"https://github.com/apache/couchdb/issues/1409#issuecomment-399703472","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1409","id":399703472,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTcwMzQ3Mg==","user":{"login":"stevedrew","id":5779089,"node_id":"MDQ6VXNlcjU3NzkwODk=","avatar_url":"https://avatars.githubusercontent.com/u/5779089?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedrew","html_url":"https://github.com/stevedrew","followers_url":"https://api.github.com/users/stevedrew/followers","following_url":"https://api.github.com/users/stevedrew/following{/other_user}","gists_url":"https://api.github.com/users/stevedrew/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedrew/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedrew/subscriptions","organizations_url":"https://api.github.com/users/stevedrew/orgs","repos_url":"https://api.github.com/users/stevedrew/repos","events_url":"https://api.github.com/users/stevedrew/events{/privacy}","received_events_url":"https://api.github.com/users/stevedrew/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-23T19:43:29Z","updated_at":"2018-06-23T19:43:29Z","author_association":"NONE","body":"And I don't believe this issue is todo with attachments as the same PUT that takes 1 min 29 secs takes less than 1 second if it is done from a client on the same local network as the couchdb server. \r\n\r\nMust be some network packet size/timing issue in the network layer of couchdb.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399703472/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399709290","html_url":"https://github.com/apache/couchdb/issues/1314#issuecomment-399709290","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1314","id":399709290,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTcwOTI5MA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-23T20:38:31Z","updated_at":"2018-06-23T20:38:31Z","author_association":"MEMBER","body":"@pbgc @simonmichael Let me see if I can push new 2.1.1 packages this weekend. I'll back up the current packages in case there is an issue.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399709290/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399751120","html_url":"https://github.com/apache/couchdb/issues/1054#issuecomment-399751120","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1054","id":399751120,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTc1MTEyMA==","user":{"login":"johs","id":48370,"node_id":"MDQ6VXNlcjQ4Mzcw","avatar_url":"https://avatars.githubusercontent.com/u/48370?v=4","gravatar_id":"","url":"https://api.github.com/users/johs","html_url":"https://github.com/johs","followers_url":"https://api.github.com/users/johs/followers","following_url":"https://api.github.com/users/johs/following{/other_user}","gists_url":"https://api.github.com/users/johs/gists{/gist_id}","starred_url":"https://api.github.com/users/johs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johs/subscriptions","organizations_url":"https://api.github.com/users/johs/orgs","repos_url":"https://api.github.com/users/johs/repos","events_url":"https://api.github.com/users/johs/events{/privacy}","received_events_url":"https://api.github.com/users/johs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-24T11:58:17Z","updated_at":"2018-06-24T11:58:17Z","author_association":"NONE","body":"@wohali  thanks, Joan. I updated https://github.com/apache/couchdb/issues/1407 This bug is a dealbreaker for us for upgrading to 2.1.1. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399751120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399779034","html_url":"https://github.com/apache/couchdb/issues/1314#issuecomment-399779034","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1314","id":399779034,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTc3OTAzNA==","user":{"login":"amustapha","id":14205064,"node_id":"MDQ6VXNlcjE0MjA1MDY0","avatar_url":"https://avatars.githubusercontent.com/u/14205064?v=4","gravatar_id":"","url":"https://api.github.com/users/amustapha","html_url":"https://github.com/amustapha","followers_url":"https://api.github.com/users/amustapha/followers","following_url":"https://api.github.com/users/amustapha/following{/other_user}","gists_url":"https://api.github.com/users/amustapha/gists{/gist_id}","starred_url":"https://api.github.com/users/amustapha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amustapha/subscriptions","organizations_url":"https://api.github.com/users/amustapha/orgs","repos_url":"https://api.github.com/users/amustapha/repos","events_url":"https://api.github.com/users/amustapha/events{/privacy}","received_events_url":"https://api.github.com/users/amustapha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-24T18:57:01Z","updated_at":"2018-06-24T18:57:01Z","author_association":"NONE","body":"We're waiting on you.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399779034/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399782998","html_url":"https://github.com/apache/couchdb/issues/1314#issuecomment-399782998","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1314","id":399782998,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTc4Mjk5OA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-24T19:55:17Z","updated_at":"2018-06-24T19:55:17Z","author_association":"MEMBER","body":"And I'm blocked by others on the CouchDB team.\r\n\r\nPlease be patient. I'm very sorry for the delay.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399782998/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399783183","html_url":"https://github.com/apache/couchdb/issues/1409#issuecomment-399783183","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1409","id":399783183,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTc4MzE4Mw==","user":{"login":"stevedrew","id":5779089,"node_id":"MDQ6VXNlcjU3NzkwODk=","avatar_url":"https://avatars.githubusercontent.com/u/5779089?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedrew","html_url":"https://github.com/stevedrew","followers_url":"https://api.github.com/users/stevedrew/followers","following_url":"https://api.github.com/users/stevedrew/following{/other_user}","gists_url":"https://api.github.com/users/stevedrew/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedrew/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedrew/subscriptions","organizations_url":"https://api.github.com/users/stevedrew/orgs","repos_url":"https://api.github.com/users/stevedrew/repos","events_url":"https://api.github.com/users/stevedrew/events{/privacy}","received_events_url":"https://api.github.com/users/stevedrew/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-24T19:58:14Z","updated_at":"2018-06-24T19:58:14Z","author_association":"NONE","body":"OK good news found solution to performance issue. Turns out the recbuf setting is the cause.\r\n \r\nI had to comment out the recbuf param in mochiweb/mochiweb_socket_server.erl and then the time to put a 10 MB text file went from 1 min 29 seconds to < 1 second !! \r\n\r\n**Could this be the cause of all the complaints about how slow couchdb is for attachments?**\r\n\r\nI believe not setting recbuf on linux then allows the operating system to handle it more efficiently. (When set it seems to be causing some tcp window size performance issues that lead to the huge delay for larger PUTs.)\r\n\r\nI also found this PR https://github.com/mochi/mochiweb/issues/153  to fix mochiweb to allow an \"undefined\" setting for recbuf, but couchdb 2.1.1 is not using this version, I tried using this version with couchdb but couchdb did not seem to allow undefined as a param to recbuf in the ini file.\r\n\r\nSo it would seem like we need couchdb to support setting recbuf to undefined, maybe even having that a the default? \r\n\r\nThanks,\r\nSteve.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399783183/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399789274","html_url":"https://github.com/apache/couchdb/issues/1314#issuecomment-399789274","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1314","id":399789274,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTc4OTI3NA==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-24T21:34:35Z","updated_at":"2018-06-24T21:34:35Z","author_association":"MEMBER","body":"@m-bryo please understand that we are all volunteers, you cannot make demands on our time. If you want to make Ubuntu packages, there's nothing stopping you doing it yourself. If you want to use whatever the couchdb team does instead, you will have to wait, patiently, for them to arrive.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399789274/reactions","total_count":5,"+1":5,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399815780","html_url":"https://github.com/apache/couchdb/issues/1409#issuecomment-399815780","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1409","id":399815780,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTgxNTc4MA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-25T02:48:38Z","updated_at":"2018-06-25T02:48:47Z","author_association":"MEMBER","body":"/cc @rnewson @davisp @kocolosk not sure when we changed this originally...is the recbuf tweak still required on modern Linuxes?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399815780/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399866225","html_url":"https://github.com/apache/couchdb/issues/1314#issuecomment-399866225","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1314","id":399866225,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTg2NjIyNQ==","user":{"login":"simonmichael","id":10144,"node_id":"MDQ6VXNlcjEwMTQ0","avatar_url":"https://avatars.githubusercontent.com/u/10144?v=4","gravatar_id":"","url":"https://api.github.com/users/simonmichael","html_url":"https://github.com/simonmichael","followers_url":"https://api.github.com/users/simonmichael/followers","following_url":"https://api.github.com/users/simonmichael/following{/other_user}","gists_url":"https://api.github.com/users/simonmichael/gists{/gist_id}","starred_url":"https://api.github.com/users/simonmichael/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simonmichael/subscriptions","organizations_url":"https://api.github.com/users/simonmichael/orgs","repos_url":"https://api.github.com/users/simonmichael/repos","events_url":"https://api.github.com/users/simonmichael/events{/privacy}","received_events_url":"https://api.github.com/users/simonmichael/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-25T08:00:49Z","updated_at":"2018-06-25T08:06:25Z","author_association":"NONE","body":"@pbgc, \"[darcs hub] ... went down because of this\" isn't correct.  It was bad news to find that couchdb wasn't packaged in the latest ubuntu LTS, and it has contributed to my slowness in getting the site back up, but it didn't cause the outage and it isn't a blocker now. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399866225/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399903620","html_url":"https://github.com/apache/couchdb/issues/1314#issuecomment-399903620","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1314","id":399903620,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTkwMzYyMA==","user":{"login":"pbgc","id":180825,"node_id":"MDQ6VXNlcjE4MDgyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/180825?v=4","gravatar_id":"","url":"https://api.github.com/users/pbgc","html_url":"https://github.com/pbgc","followers_url":"https://api.github.com/users/pbgc/followers","following_url":"https://api.github.com/users/pbgc/following{/other_user}","gists_url":"https://api.github.com/users/pbgc/gists{/gist_id}","starred_url":"https://api.github.com/users/pbgc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pbgc/subscriptions","organizations_url":"https://api.github.com/users/pbgc/orgs","repos_url":"https://api.github.com/users/pbgc/repos","events_url":"https://api.github.com/users/pbgc/events{/privacy}","received_events_url":"https://api.github.com/users/pbgc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-25T10:19:05Z","updated_at":"2018-06-25T10:19:05Z","author_association":"NONE","body":"@simonmichael When I said \"because of this\" never wanted to imply that it was apache/couchdb fault! Maybe it sounded like that but because I'm not a native speaker and could not express myself better. I have the greatest respect for open source projects work and it's volunteers! ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399903620/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399937812","html_url":"https://github.com/apache/couchdb/issues/1338#issuecomment-399937812","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1338","id":399937812,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTkzNzgxMg==","user":{"login":"mikerhodes","id":453210,"node_id":"MDQ6VXNlcjQ1MzIxMA==","avatar_url":"https://avatars.githubusercontent.com/u/453210?v=4","gravatar_id":"","url":"https://api.github.com/users/mikerhodes","html_url":"https://github.com/mikerhodes","followers_url":"https://api.github.com/users/mikerhodes/followers","following_url":"https://api.github.com/users/mikerhodes/following{/other_user}","gists_url":"https://api.github.com/users/mikerhodes/gists{/gist_id}","starred_url":"https://api.github.com/users/mikerhodes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikerhodes/subscriptions","organizations_url":"https://api.github.com/users/mikerhodes/orgs","repos_url":"https://api.github.com/users/mikerhodes/repos","events_url":"https://api.github.com/users/mikerhodes/events{/privacy}","received_events_url":"https://api.github.com/users/mikerhodes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-25T12:40:43Z","updated_at":"2018-06-25T12:40:43Z","author_association":"CONTRIBUTOR","body":"Thoughts on config, I'd likely go for something that put the node's \"role\" as a single config concept in some manner, either:\r\n\r\n```\r\n[node]\r\nroles = coordinator,replicator,storage\r\n```\r\n\r\nor:\r\n\r\n```\r\n[node-roles]\r\ncoordinator = true ; listens on HTTPS, issues fabric requests\r\nreplicator = false ; will not mediate any replication jobs\r\nstorage = false ; will not store any user data\r\n```\r\n\r\nWhat would happen to existing clusters if we expand the role set? I can see the true/false approach handles this quite simply by defaulting true.\r\n\r\nFor @iilyak:\r\n\r\n> over time move authentication and authorization modules to api node so unauthorized requests do not reach storage layer at all\r\n\r\nI am definitely for this approach. I think consolidating access checks makes it easier to be confident in the security properties of the system and makes unit testing many combinations simpler.\r\n\r\nFor @nickva:\r\n\r\n> That would be great to have, and it would open the door to auto-resharding (but that's for a different discussion).\r\n\r\nI think it opens the door to automatic _rebalancing_ of shards rather than _resharding_ (isn't that about increasing or decreasing the number of shards for a given database?).\r\n\r\nA key thing for me about this is allowing a shard replica itself to be able to flag its (including primary data and indexes) \"readiness state\".\r\n\r\n> It is also interesting to think about what happens during membership changes.\r\n\r\nI think dealing with this scenario is likely very important, even if it's along the lines of a refusal to change one's role within a cluster. The semantics otherwise end up quite subtle (e.g., `storage` -> `api` is hard to detect because the replication factor of a shard decreases but you still likely have copies in service).\r\n\r\n> `_replicator` db shards placement is customized such that _replicator docs end up only on replicator nodes.\r\n\r\nI would likely put them into the storage nodes, as they'd be what you'd be backing up in this scenario.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399937812/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399950896","html_url":"https://github.com/apache/couchdb/pull/1370#issuecomment-399950896","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1370","id":399950896,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTk1MDg5Ng==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-25T13:26:15Z","updated_at":"2018-06-25T13:26:15Z","author_association":"CONTRIBUTOR","body":"I used commit 63428ae  to address most of the left comments from @iilyak and pass DbName to `is_valid_purge_client/2` according to @davisp 's suggestion. Also, I added some response for opened comments. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399950896/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399975605","html_url":"https://github.com/apache/couchdb/issues/1338#issuecomment-399975605","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1338","id":399975605,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTk3NTYwNQ==","user":{"login":"kocolosk","id":16679,"node_id":"MDQ6VXNlcjE2Njc5","avatar_url":"https://avatars.githubusercontent.com/u/16679?v=4","gravatar_id":"","url":"https://api.github.com/users/kocolosk","html_url":"https://github.com/kocolosk","followers_url":"https://api.github.com/users/kocolosk/followers","following_url":"https://api.github.com/users/kocolosk/following{/other_user}","gists_url":"https://api.github.com/users/kocolosk/gists{/gist_id}","starred_url":"https://api.github.com/users/kocolosk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kocolosk/subscriptions","organizations_url":"https://api.github.com/users/kocolosk/orgs","repos_url":"https://api.github.com/users/kocolosk/repos","events_url":"https://api.github.com/users/kocolosk/events{/privacy}","received_events_url":"https://api.github.com/users/kocolosk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-25T14:39:55Z","updated_at":"2018-06-25T14:39:55Z","author_association":"MEMBER","body":"I think defaulting to `true` on each role is important, and harder to represent using a comma-delimited list of roles that the node assumes; using a dedicated section like `[node-roles]` instead of `[node]` is OK by me. No strong preference there.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399975605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399984442","html_url":"https://github.com/apache/couchdb/issues/1409#issuecomment-399984442","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1409","id":399984442,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTk4NDQ0Mg==","user":{"login":"kocolosk","id":16679,"node_id":"MDQ6VXNlcjE2Njc5","avatar_url":"https://avatars.githubusercontent.com/u/16679?v=4","gravatar_id":"","url":"https://api.github.com/users/kocolosk","html_url":"https://github.com/kocolosk","followers_url":"https://api.github.com/users/kocolosk/followers","following_url":"https://api.github.com/users/kocolosk/following{/other_user}","gists_url":"https://api.github.com/users/kocolosk/gists{/gist_id}","starred_url":"https://api.github.com/users/kocolosk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kocolosk/subscriptions","organizations_url":"https://api.github.com/users/kocolosk/orgs","repos_url":"https://api.github.com/users/kocolosk/repos","events_url":"https://api.github.com/users/kocolosk/events{/privacy}","received_events_url":"https://api.github.com/users/kocolosk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-25T15:04:45Z","updated_at":"2018-06-25T15:04:45Z","author_association":"MEMBER","body":"I _think_ this one dates back to https://issues.apache.org/jira/browse/COUCHDB-1986. I wasn't too involved with that investigation but when I read through the comments it seems that we didn't have a great reason for customizing the buffer size beyond the fact that it improved things in those specific scenarios where tests were timing out. Note that under the hood mochi was using a fixed `recbuf` as well; we were just bumping up that fixed value.\r\n\r\nCouchDB master has upgraded the mochiweb dependency to `v2.17.0` which includes the option to set the buffer to `undefined` and let the OS manage it. Probably a good idea to start testing with the buffer set to `undefined` now so we can evaluate whether we want to switch to that as a default. I'm with @stevedrew that we probably do want to go that route.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399984442/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399992722","html_url":"https://github.com/apache/couchdb/issues/1410#issuecomment-399992722","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1410","id":399992722,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTk5MjcyMg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-25T15:27:52Z","updated_at":"2018-06-25T15:27:52Z","author_association":"MEMBER","body":"Hi @johs ,\r\n\r\nhttps://github.com/apache/couchdb/blob/f1545b979de47e6e4484b85e6e6b40b396cfd934/share/doc/src/whatsnew/1.7.rst doesn't show that this feature was introduced in 1.7.0. \r\n\r\nThe source shows the same thing: https://github.com/apache/couchdb/blob/f1545b979de47e6e4484b85e6e6b40b396cfd934/src/couchdb/couch_httpd_rewrite.erl#L134-L140\r\n\r\nIs this a 1.x enhancement request?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399992722/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399994363","html_url":"https://github.com/apache/couchdb/issues/1338#issuecomment-399994363","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1338","id":399994363,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTk5NDM2Mw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-25T15:32:19Z","updated_at":"2018-06-25T15:32:19Z","author_association":"MEMBER","body":"@kocolosk Yes, that does help, thank you!\r\n\r\nWhile we're bike-shedding it, `[roles]` seems good to me, with a full list of `type = {true|false}` clauses. it's obvious that the scope of a .ini file right now is a single node. (Changing it to be a cluster-wide ini file is out of scope for this issue.)\r\n\r\nAnother thing that comes up often are nodes that are ephemeral (in-memory-only) replicas for performance. Many CouchDB users at scale are using Redis alongside (with nutty client libraries that know how to speak Redis and CouchDB) treated as write-thru caches. I'd love to see room for a native CouchDB implementation within your proposal. @chewbranca 's already prototyped this. Given we're talking about node roles, how would you separate the `storage` role between persistent and ephemeral storage? Would it be `storage = {ephemeral|persistent}` or similar?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/399994363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400011984","html_url":"https://github.com/apache/couchdb/issues/1410#issuecomment-400011984","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1410","id":400011984,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDAxMTk4NA==","user":{"login":"johs","id":48370,"node_id":"MDQ6VXNlcjQ4Mzcw","avatar_url":"https://avatars.githubusercontent.com/u/48370?v=4","gravatar_id":"","url":"https://api.github.com/users/johs","html_url":"https://github.com/johs","followers_url":"https://api.github.com/users/johs/followers","following_url":"https://api.github.com/users/johs/following{/other_user}","gists_url":"https://api.github.com/users/johs/gists{/gist_id}","starred_url":"https://api.github.com/users/johs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johs/subscriptions","organizations_url":"https://api.github.com/users/johs/orgs","repos_url":"https://api.github.com/users/johs/repos","events_url":"https://api.github.com/users/johs/events{/privacy}","received_events_url":"https://api.github.com/users/johs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-25T16:24:03Z","updated_at":"2018-06-25T16:24:03Z","author_association":"NONE","body":"Hi, @wohali this was strange; @kxepal prepared with the help of @ermouth and I remember it as the big feature of 1.7.0 (as noted in the documentation). \r\nJ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400011984/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400012158","html_url":"https://github.com/apache/couchdb/issues/1409#issuecomment-400012158","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1409","id":400012158,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDAxMjE1OA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-25T16:24:35Z","updated_at":"2018-06-25T16:24:35Z","author_association":"MEMBER","body":"@kocolosk thank you for the sleuthing and memory here! I'll get a PR up to change the default in master to `undefined`. That should resolve this issue.\r\n\r\n@stevedrew for reference, I help people run CouchDB on AWS all the time, and we've not seen this one crop up before - presumably because people are on low-latency links to AWS from their clients/app servers, whereas https://github.com/mochi/mochiweb/issues/153 points the finger at high-latency links. So, thank you for the report!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400012158/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400016107","html_url":"https://github.com/apache/couchdb/issues/1410#issuecomment-400016107","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1410","id":400016107,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDAxNjEwNw==","user":{"login":"ermouth","id":1540047,"node_id":"MDQ6VXNlcjE1NDAwNDc=","avatar_url":"https://avatars.githubusercontent.com/u/1540047?v=4","gravatar_id":"","url":"https://api.github.com/users/ermouth","html_url":"https://github.com/ermouth","followers_url":"https://api.github.com/users/ermouth/followers","following_url":"https://api.github.com/users/ermouth/following{/other_user}","gists_url":"https://api.github.com/users/ermouth/gists{/gist_id}","starred_url":"https://api.github.com/users/ermouth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ermouth/subscriptions","organizations_url":"https://api.github.com/users/ermouth/orgs","repos_url":"https://api.github.com/users/ermouth/repos","events_url":"https://api.github.com/users/ermouth/events{/privacy}","received_events_url":"https://api.github.com/users/ermouth/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-25T16:37:20Z","updated_at":"2018-06-25T16:37:20Z","author_association":"CONTRIBUTOR","body":"@johs, Ive asked @kxepal about the topic already. The comment was like there wasnt enough time for it since 1.7.x were both rolled out under CVE threat circumstances.\r\n\r\nAlso as far as I can remember there were no publicly available JS rewrite implementation for 1.6, so there is no for 1.7. The version we both use was my private initiative, since it received at least cold reception over PMC. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400016107/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]