[{"url":"https://api.github.com/repos/apache/druid/issues/comments/302514726","html_url":"https://github.com/apache/druid/pull/4116#issuecomment-302514726","issue_url":"https://api.github.com/repos/apache/druid/issues/4116","id":302514726,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjUxNDcyNg==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-18T19:18:04Z","updated_at":"2017-05-18T19:18:04Z","author_association":"CONTRIBUTOR","body":"@dclim sorry was underwater.. i have update the code checkout the last commit. Working on testing.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/302514726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/302527642","html_url":"https://github.com/apache/druid/issues/4278#issuecomment-302527642","issue_url":"https://api.github.com/repos/apache/druid/issues/4278","id":302527642,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjUyNzY0Mg==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-18T20:11:11Z","updated_at":"2017-05-18T20:11:11Z","author_association":"MEMBER","body":"@cesure thanks for testing. The fix should be available in Druid 0.10.1.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/302527642/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/302529959","html_url":"https://github.com/apache/druid/issues/4294#issuecomment-302529959","issue_url":"https://api.github.com/repos/apache/druid/issues/4294","id":302529959,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjUyOTk1OQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-18T20:20:36Z","updated_at":"2017-05-18T20:20:36Z","author_association":"CONTRIBUTOR","body":"Thanks. I'm already working on this. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/302529959/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/302537311","html_url":"https://github.com/apache/druid/pull/4288#issuecomment-302537311","issue_url":"https://api.github.com/repos/apache/druid/issues/4288","id":302537311,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjUzNzMxMQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-18T20:50:21Z","updated_at":"2017-05-18T20:50:21Z","author_association":"CONTRIBUTOR","body":"@leventov i see, the confusion came from `queryPlus.threadSafe()` which, i thought, meant give me a thread safe version of QueryPlus instance and I thought it was equivalent of `Collections.synchronizedXXX(xxx)` which return a thread-safe wrapper of same thing without any change to its underlying state.\r\n\r\nanyways, can't we require QueryMetrics instances to be thread-safe ? then \"async\" query runners do not need to do anything special.\r\nor, if the worry is that there might be too much lock contention in the thread-safe instance then we might also try storing queryMetrics inside ThreadLocal reference in QueryPlus so that different threads never get same instance.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/302537311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/302539684","html_url":"https://github.com/apache/druid/pull/4288#issuecomment-302539684","issue_url":"https://api.github.com/repos/apache/druid/issues/4288","id":302539684,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjUzOTY4NA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-18T20:59:11Z","updated_at":"2017-05-18T20:59:11Z","author_association":"MEMBER","body":"@himanshug \r\n\r\n> anyways, can't we require QueryMetrics instances to be thread-safe ? then \"async\" query runners do not need to do anything special.\r\nor, if the worry is that there might be too much lock contention in the thread-safe instance then we might also try storing queryMetrics inside ThreadLocal reference in QueryPlus so that different threads never get same instance.\r\n\r\nAs I explained in my previous message, making `QueryMetrics` thread-safe is inherently wrong thing to do. Instead of failing with ConcurrentModificationException, multiple threads will override metrics of each other. Nobody would understand what is going on and if the metrics are trustworthy or not.\r\n\r\n[Instead I suggest a structured, explicit approach.](https://github.com/druid-io/druid/pull/4288#issuecomment-302242540)\r\n\r\n`ThreadLocal` is something per-thread, `QueryMetrics` is something per-query, but may span multiple threads, so I don't see how it could ever be a solution.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/302539684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/302560883","html_url":"https://github.com/apache/druid/pull/4207#issuecomment-302560883","issue_url":"https://api.github.com/repos/apache/druid/issues/4207","id":302560883,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjU2MDg4Mw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-18T22:39:30Z","updated_at":"2017-05-18T22:39:30Z","author_association":"CONTRIBUTOR","body":"Closing this as I'm now thinking about doing it a different way.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/302560883/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/302566119","html_url":"https://github.com/apache/druid/issues/4199#issuecomment-302566119","issue_url":"https://api.github.com/repos/apache/druid/issues/4199","id":302566119,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjU2NjExOQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-18T23:12:44Z","updated_at":"2017-05-18T23:12:44Z","author_association":"CONTRIBUTOR","body":"@kaijianding, do you know of a dataset/workload that could reproduce this on a single machine setup?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/302566119/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/302566193","html_url":"https://github.com/apache/druid/issues/4296#issuecomment-302566193","issue_url":"https://api.github.com/repos/apache/druid/issues/4296","id":302566193,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjU2NjE5Mw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-18T23:13:15Z","updated_at":"2017-05-18T23:13:15Z","author_association":"CONTRIBUTOR","body":"Also similar: #4199 and #3560 (which you mentioned).\r\n\r\n@jerchung, do you know of a dataset/workload that could reproduce this on a single machine setup?\r\n\r\nThe bit about the processing threads may end up being helpful, thanks for noting that.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/302566193/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/302591807","html_url":"https://github.com/apache/druid/pull/4295#issuecomment-302591807","issue_url":"https://api.github.com/repos/apache/druid/issues/4295","id":302591807,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjU5MTgwNw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-19T02:26:01Z","updated_at":"2017-05-19T02:26:01Z","author_association":"CONTRIBUTOR","body":"@jon-wei thanks. I missed this server type. The code looks good overall. Would you address @leventov's comment? ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/302591807/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/302601272","html_url":"https://github.com/apache/druid/pull/4295#issuecomment-302601272","issue_url":"https://api.github.com/repos/apache/druid/issues/4295","id":302601272,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjYwMTI3Mg==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-19T03:45:37Z","updated_at":"2017-05-19T03:47:16Z","author_association":"CONTRIBUTOR","body":"Thanks for the review!\r\n\r\n@leventov \r\nRe: the enum conversion, good catch on the back conversions, though I'm not sure what the best approach is here, I could override toString() for the peon type such that it returns \"indexer-executor\" or do the single-word change.\r\n\r\nI initially considered renaming the nodeType to one word or switching the hyphen to an underscore, but I'm not familiar with the Druid-Zookeeper interactions, and wasn't clear on whether the rename would break something related to node/path handling there.\r\n\r\nI'm also wary of changing it for external compatibility reasons, I see at least one external piece of code that appears to assume that nodeType name, not sure if there are users out there that rely on the \"indexer-executor\" string:\r\nhttps://github.com/druid-io/druid-console/blob/master/src/client/factories/hUtils.coffee#L25\r\n\r\n---------\r\n\r\nIf someone has a clear view on the impact of changing the nodeType string, feedback would be much appreciated.\r\n\r\n---------\r\n\r\nRe: the switch in `DruidCluster`, throwing an error in the switch for the peon type is fine since the peons are not intended to be segment replication targets.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/302601272/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/302605134","html_url":"https://github.com/apache/druid/pull/4297#issuecomment-302605134","issue_url":"https://api.github.com/repos/apache/druid/issues/4297","id":302605134,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjYwNTEzNA==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-19T04:24:07Z","updated_at":"2017-05-19T04:24:07Z","author_association":"CONTRIBUTOR","body":"👍 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/302605134/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/302613796","html_url":"https://github.com/apache/druid/pull/4295#issuecomment-302613796","issue_url":"https://api.github.com/repos/apache/druid/issues/4295","id":302613796,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjYxMzc5Ng==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-19T05:41:21Z","updated_at":"2017-05-19T05:41:21Z","author_association":"CONTRIBUTOR","body":"> Re: the switch in DruidCluster, throwing an error in the switch for the peon type is fine since the peons are not intended to be segment replication targets.\r\n\r\nThrowing an exception looks fine, but it would be better to improve the error message. Currently it simply complains about ```unknown server type```, but I think it should be ```unsupported server type```.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/302613796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/302679948","html_url":"https://github.com/apache/druid/issues/4299#issuecomment-302679948","issue_url":"https://api.github.com/repos/apache/druid/issues/4299","id":302679948,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjY3OTk0OA==","user":{"login":"jkogut","id":5220929,"node_id":"MDQ6VXNlcjUyMjA5Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5220929?v=4","gravatar_id":"","url":"https://api.github.com/users/jkogut","html_url":"https://github.com/jkogut","followers_url":"https://api.github.com/users/jkogut/followers","following_url":"https://api.github.com/users/jkogut/following{/other_user}","gists_url":"https://api.github.com/users/jkogut/gists{/gist_id}","starred_url":"https://api.github.com/users/jkogut/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkogut/subscriptions","organizations_url":"https://api.github.com/users/jkogut/orgs","repos_url":"https://api.github.com/users/jkogut/repos","events_url":"https://api.github.com/users/jkogut/events{/privacy}","received_events_url":"https://api.github.com/users/jkogut/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-19T11:35:41Z","updated_at":"2017-05-19T11:35:41Z","author_association":"NONE","body":"[SOLVED]\r\nhttps://groups.google.com/forum/#!topic/druid-user/reQTG2KDPCY","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/302679948/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/302748777","html_url":"https://github.com/apache/druid/issues/4301#issuecomment-302748777","issue_url":"https://api.github.com/repos/apache/druid/issues/4301","id":302748777,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjc0ODc3Nw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-19T16:24:30Z","updated_at":"2017-05-19T16:24:30Z","author_association":"CONTRIBUTOR","body":"Related discussion thread: https://groups.google.com/forum/#!msg/druid-user/QqYmUYPduH4/x8ji3RRjBQAJ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/302748777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/302755996","html_url":"https://github.com/apache/druid/issues/4301#issuecomment-302755996","issue_url":"https://api.github.com/repos/apache/druid/issues/4301","id":302755996,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjc1NTk5Ng==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-19T16:55:26Z","updated_at":"2017-05-19T16:55:26Z","author_association":"CONTRIBUTOR","body":"I bet it's related to different behavior for actual nulls in actual columns, vs. columns that don't exist.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/302755996/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/302772488","html_url":"https://github.com/apache/druid/pull/4298#issuecomment-302772488","issue_url":"https://api.github.com/repos/apache/druid/issues/4298","id":302772488,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjc3MjQ4OA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-19T18:07:00Z","updated_at":"2017-05-19T18:07:00Z","author_association":"MEMBER","body":"To combat Travis failure, you could try to add `<fork>true</fork>` to error-prone Maven config","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/302772488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/302777794","html_url":"https://github.com/apache/druid/pull/3530#issuecomment-302777794","issue_url":"https://api.github.com/repos/apache/druid/issues/3530","id":302777794,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjc3Nzc5NA==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-19T18:29:40Z","updated_at":"2017-05-19T18:29:40Z","author_association":"CONTRIBUTOR","body":"@praveev can we finish this?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/302777794/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/302778997","html_url":"https://github.com/apache/druid/pull/3530#issuecomment-302778997","issue_url":"https://api.github.com/repos/apache/druid/issues/3530","id":302778997,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjc3ODk5Nw==","user":{"login":"praveev","id":297278,"node_id":"MDQ6VXNlcjI5NzI3OA==","avatar_url":"https://avatars.githubusercontent.com/u/297278?v=4","gravatar_id":"","url":"https://api.github.com/users/praveev","html_url":"https://github.com/praveev","followers_url":"https://api.github.com/users/praveev/followers","following_url":"https://api.github.com/users/praveev/following{/other_user}","gists_url":"https://api.github.com/users/praveev/gists{/gist_id}","starred_url":"https://api.github.com/users/praveev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/praveev/subscriptions","organizations_url":"https://api.github.com/users/praveev/orgs","repos_url":"https://api.github.com/users/praveev/repos","events_url":"https://api.github.com/users/praveev/events{/privacy}","received_events_url":"https://api.github.com/users/praveev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-19T18:34:48Z","updated_at":"2017-05-19T18:34:48Z","author_association":"CONTRIBUTOR","body":"waiting on @gianm to review the updates","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/302778997/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/302780789","html_url":"https://github.com/apache/druid/issues/4034#issuecomment-302780789","issue_url":"https://api.github.com/repos/apache/druid/issues/4034","id":302780789,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjc4MDc4OQ==","user":{"login":"incaseoftrouble","id":13201506,"node_id":"MDQ6VXNlcjEzMjAxNTA2","avatar_url":"https://avatars.githubusercontent.com/u/13201506?v=4","gravatar_id":"","url":"https://api.github.com/users/incaseoftrouble","html_url":"https://github.com/incaseoftrouble","followers_url":"https://api.github.com/users/incaseoftrouble/followers","following_url":"https://api.github.com/users/incaseoftrouble/following{/other_user}","gists_url":"https://api.github.com/users/incaseoftrouble/gists{/gist_id}","starred_url":"https://api.github.com/users/incaseoftrouble/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/incaseoftrouble/subscriptions","organizations_url":"https://api.github.com/users/incaseoftrouble/orgs","repos_url":"https://api.github.com/users/incaseoftrouble/repos","events_url":"https://api.github.com/users/incaseoftrouble/events{/privacy}","received_events_url":"https://api.github.com/users/incaseoftrouble/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-19T18:42:45Z","updated_at":"2017-05-22T17:59:51Z","author_association":"NONE","body":"Just a heads-up since this might be relevant for you: I am currently working on solving the referenced fastutil issue. I summarized the Java 8 migration in https://github.com/vigna/fastutil/issues/64 and added some preliminary work in https://github.com/incaseoftrouble/fastutil/tree/java-8 . Feel free to comment / contribute in any way!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/302780789/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/302784279","html_url":"https://github.com/apache/druid/issues/4296#issuecomment-302784279","issue_url":"https://api.github.com/repos/apache/druid/issues/4296","id":302784279,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjc4NDI3OQ==","user":{"login":"jerchung","id":1167633,"node_id":"MDQ6VXNlcjExNjc2MzM=","avatar_url":"https://avatars.githubusercontent.com/u/1167633?v=4","gravatar_id":"","url":"https://api.github.com/users/jerchung","html_url":"https://github.com/jerchung","followers_url":"https://api.github.com/users/jerchung/followers","following_url":"https://api.github.com/users/jerchung/following{/other_user}","gists_url":"https://api.github.com/users/jerchung/gists{/gist_id}","starred_url":"https://api.github.com/users/jerchung/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerchung/subscriptions","organizations_url":"https://api.github.com/users/jerchung/orgs","repos_url":"https://api.github.com/users/jerchung/repos","events_url":"https://api.github.com/users/jerchung/events{/privacy}","received_events_url":"https://api.github.com/users/jerchung/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-19T18:57:54Z","updated_at":"2017-05-19T19:03:31Z","author_association":"CONTRIBUTOR","body":"Ok so I think I've found the root-ish cause. \r\n\r\nIn investigating I realized that the tranquility code that pushes the HLL metrics to Druid is using the `CardinalityAggregatorFactory`, but then we query using `HyperUniquesAggregatorFactory`.  It looks like this has worked in the past (we're currently running the Druid cluster on 0.9.0) because both `CardinalityAggregatorFactory` and `HyperUniquesAggregatorFactory` wrap HyperLogLogCollector I guess.\r\n\r\nUnfortunately, it looks like the workaround for the HyperLogLogCollector thread-safety issue only made it into the `HyperUniquesAggregator` [here](https://github.com/druid-io/druid/pull/3578/files#diff-39e4c4f8fb4ad819cc1eb06c9838f6d5R61)  , but the `get()` call for `CardinalityAggregator` still remains [unchanged](https://github.com/druid-io/druid/blob/master/processing/src/main/java/io/druid/query/aggregation/cardinality/CardinalityAggregator.java#L112)\r\n\r\nIn my case I can just change to using the `HyperUniquesAggregatorFactory` at ingest and I expect the problem will resolve itself","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/302784279/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/302789703","html_url":"https://github.com/apache/druid/pull/4288#issuecomment-302789703","issue_url":"https://api.github.com/repos/apache/druid/issues/4288","id":302789703,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjc4OTcwMw==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-19T19:21:53Z","updated_at":"2017-05-19T19:21:53Z","author_association":"CONTRIBUTOR","body":"ok, had a conversation with @leventov and concluded that following things be done.\r\n- rename QueryPlus.threadSafe(..) to QueryPlus.withoutThreadUnsafeState()\r\n- update QueryPlus.withQueryMetrics(..) doc to clarify that caller is also required to call emit() on returned instance or metrics might be lost\r\n- if possible/simple then enforce that async query runners always call QueryPlus.withoutThreadUnsafeState()","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/302789703/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/302800864","html_url":"https://github.com/apache/druid/pull/3895#issuecomment-302800864","issue_url":"https://api.github.com/repos/apache/druid/issues/3895","id":302800864,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjgwMDg2NA==","user":{"login":"Jdban","id":490005,"node_id":"MDQ6VXNlcjQ5MDAwNQ==","avatar_url":"https://avatars.githubusercontent.com/u/490005?v=4","gravatar_id":"","url":"https://api.github.com/users/Jdban","html_url":"https://github.com/Jdban","followers_url":"https://api.github.com/users/Jdban/followers","following_url":"https://api.github.com/users/Jdban/following{/other_user}","gists_url":"https://api.github.com/users/Jdban/gists{/gist_id}","starred_url":"https://api.github.com/users/Jdban/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jdban/subscriptions","organizations_url":"https://api.github.com/users/Jdban/orgs","repos_url":"https://api.github.com/users/Jdban/repos","events_url":"https://api.github.com/users/Jdban/events{/privacy}","received_events_url":"https://api.github.com/users/Jdban/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-19T20:15:29Z","updated_at":"2017-05-19T20:15:29Z","author_association":"CONTRIBUTOR","body":"Did @schmee ever fill out the CLA? \r\n\r\nIf not, I already filled out the CLA, should I just make a PR for this issue that can be merged? I ran into this issue too, and I'd like to stop others from hitting the issue as well.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/302800864/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/302804521","html_url":"https://github.com/apache/druid/pull/3895#issuecomment-302804521","issue_url":"https://api.github.com/repos/apache/druid/issues/3895","id":302804521,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjgwNDUyMQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-19T20:32:59Z","updated_at":"2017-05-19T20:32:59Z","author_association":"CONTRIBUTOR","body":"@Jdban yes please do that.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/302804521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/302812738","html_url":"https://github.com/apache/druid/pull/4302#issuecomment-302812738","issue_url":"https://api.github.com/repos/apache/druid/issues/4302","id":302812738,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjgxMjczOA==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-19T21:14:07Z","updated_at":"2017-05-19T21:14:07Z","author_association":"CONTRIBUTOR","body":"Just a general comment overall to discuss, but I'm starting to dislike having so many 'optional' features and increasingly adding more configuration. It is just becoming difficult to maintain and understand what is important to turn on when. I think Druid should strive to have less configuration, not more.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/302812738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/302813094","html_url":"https://github.com/apache/druid/pull/4302#issuecomment-302813094","issue_url":"https://api.github.com/repos/apache/druid/issues/4302","id":302813094,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjgxMzA5NA==","user":{"login":"niketh","id":626548,"node_id":"MDQ6VXNlcjYyNjU0OA==","avatar_url":"https://avatars.githubusercontent.com/u/626548?v=4","gravatar_id":"","url":"https://api.github.com/users/niketh","html_url":"https://github.com/niketh","followers_url":"https://api.github.com/users/niketh/followers","following_url":"https://api.github.com/users/niketh/following{/other_user}","gists_url":"https://api.github.com/users/niketh/gists{/gist_id}","starred_url":"https://api.github.com/users/niketh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niketh/subscriptions","organizations_url":"https://api.github.com/users/niketh/orgs","repos_url":"https://api.github.com/users/niketh/repos","events_url":"https://api.github.com/users/niketh/events{/privacy}","received_events_url":"https://api.github.com/users/niketh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-19T21:16:05Z","updated_at":"2017-05-19T21:16:05Z","author_association":"CONTRIBUTOR","body":"@fjy I agree. But in this specific case, S3DataSegmentPuller always downloads to a temp directory before it can uncompress. This behaviour might not be required for everyone","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/302813094/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/302830582","html_url":"https://github.com/apache/druid/pull/4295#issuecomment-302830582","issue_url":"https://api.github.com/repos/apache/druid/issues/4295","id":302830582,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjgzMDU4Mg==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-19T23:09:51Z","updated_at":"2017-05-19T23:11:06Z","author_association":"CONTRIBUTOR","body":"@leventov  @jihoonson \r\n\r\nUpdated the patch:\r\n\r\n- Added a case to the switch statement for INDEXER_EXECUTOR that throws an exception with \"Unsupported server type\"\r\n\r\n- Overrode toString() method for ServerType to lowercase and convert underscores to hyphens, ended up deciding to keep the old format for backwards compatibility\r\n\r\n- Adds a fix to ServersResource so that ServerType.toString() is used for the \"type\" field in server info output instead of the enum object itself, this previously broke the coordinator console's server view\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/302830582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/302835253","html_url":"https://github.com/apache/druid/issues/4296#issuecomment-302835253","issue_url":"https://api.github.com/repos/apache/druid/issues/4296","id":302835253,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjgzNTI1Mw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-19T23:54:21Z","updated_at":"2017-05-19T23:54:21Z","author_association":"CONTRIBUTOR","body":"Ah, I didn't realize you were using \"cardinality\" at ingestion time. Honestly I didn't even know this was possible, I always used \"hyperUnique\"! I raised #4304 to include that fix in CardinalityAggregator too.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/302835253/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/302835669","html_url":"https://github.com/apache/druid/issues/4199#issuecomment-302835669","issue_url":"https://api.github.com/repos/apache/druid/issues/4199","id":302835669,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjgzNTY2OQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-19T23:58:44Z","updated_at":"2017-05-19T23:58:44Z","author_association":"CONTRIBUTOR","body":"@kaijianding could you please check if the patch in #4304 helps? I'm not sure if it will, but it would protect against some un-synchronized uses of the HyperLogLogCollector returned by the cardinality aggregator.\r\n\r\nBtw, I spoke to @drcrallen and he suggested one possible non-thread-safe use is background caching. Do you have that enabled?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/302835669/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/302848579","html_url":"https://github.com/apache/druid/issues/4199#issuecomment-302848579","issue_url":"https://api.github.com/repos/apache/druid/issues/4199","id":302848579,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjg0ODU3OQ==","user":{"login":"kaijianding","id":8663725,"node_id":"MDQ6VXNlcjg2NjM3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/8663725?v=4","gravatar_id":"","url":"https://api.github.com/users/kaijianding","html_url":"https://github.com/kaijianding","followers_url":"https://api.github.com/users/kaijianding/followers","following_url":"https://api.github.com/users/kaijianding/following{/other_user}","gists_url":"https://api.github.com/users/kaijianding/gists{/gist_id}","starred_url":"https://api.github.com/users/kaijianding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaijianding/subscriptions","organizations_url":"https://api.github.com/users/kaijianding/orgs","repos_url":"https://api.github.com/users/kaijianding/repos","events_url":"https://api.github.com/users/kaijianding/events{/privacy}","received_events_url":"https://api.github.com/users/kaijianding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-20T03:52:59Z","updated_at":"2017-05-20T03:52:59Z","author_association":"CONTRIBUTOR","body":"Will try #4304 . I'm using background caching, @gianm It seems this issue is gone if I set populateCache and useCache to both false in query context","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/302848579/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/302850891","html_url":"https://github.com/apache/druid/pull/4298#issuecomment-302850891","issue_url":"https://api.github.com/repos/apache/druid/issues/4298","id":302850891,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjg1MDg5MQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-20T04:56:02Z","updated_at":"2017-05-20T04:56:02Z","author_association":"CONTRIBUTOR","body":"@leventov thanks. I'm trying to fix it.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/302850891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/302850926","html_url":"https://github.com/apache/druid/issues/4199#issuecomment-302850926","issue_url":"https://api.github.com/repos/apache/druid/issues/4199","id":302850926,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjg1MDkyNg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-20T04:56:50Z","updated_at":"2017-05-20T04:56:50Z","author_association":"CONTRIBUTOR","body":"@kaijianding, if you're using background caching, you need #3943 too. That's in 0.10.0.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/302850926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/302851315","html_url":"https://github.com/apache/druid/issues/4199#issuecomment-302851315","issue_url":"https://api.github.com/repos/apache/druid/issues/4199","id":302851315,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjg1MTMxNQ==","user":{"login":"kaijianding","id":8663725,"node_id":"MDQ6VXNlcjg2NjM3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/8663725?v=4","gravatar_id":"","url":"https://api.github.com/users/kaijianding","html_url":"https://github.com/kaijianding","followers_url":"https://api.github.com/users/kaijianding/followers","following_url":"https://api.github.com/users/kaijianding/following{/other_user}","gists_url":"https://api.github.com/users/kaijianding/gists{/gist_id}","starred_url":"https://api.github.com/users/kaijianding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaijianding/subscriptions","organizations_url":"https://api.github.com/users/kaijianding/orgs","repos_url":"https://api.github.com/users/kaijianding/repos","events_url":"https://api.github.com/users/kaijianding/events{/privacy}","received_events_url":"https://api.github.com/users/kaijianding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-20T05:08:29Z","updated_at":"2017-05-20T05:08:29Z","author_association":"CONTRIBUTOR","body":"@gianm I know...... I raised PR #3943","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/302851315/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/302851366","html_url":"https://github.com/apache/druid/issues/4199#issuecomment-302851366","issue_url":"https://api.github.com/repos/apache/druid/issues/4199","id":302851366,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjg1MTM2Ng==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-20T05:09:52Z","updated_at":"2017-05-20T05:09:52Z","author_association":"CONTRIBUTOR","body":"Oh wait. That was your PR, so you probably know it already :)\r\n\r\nFwiw, there might be other bugs lurking in background caching -- the config isn't in the docs since we had seen some stability problems when enabling it. If you keep using it and find more that might be related, let us know…","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/302851366/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/302851372","html_url":"https://github.com/apache/druid/issues/4199#issuecomment-302851372","issue_url":"https://api.github.com/repos/apache/druid/issues/4199","id":302851372,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjg1MTM3Mg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-20T05:10:05Z","updated_at":"2017-05-20T05:10:05Z","author_association":"CONTRIBUTOR","body":"Yeah, I just saw that, sorry :)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/302851372/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/302851443","html_url":"https://github.com/apache/druid/issues/4199#issuecomment-302851443","issue_url":"https://api.github.com/repos/apache/druid/issues/4199","id":302851443,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjg1MTQ0Mw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-20T05:11:34Z","updated_at":"2017-05-20T05:11:53Z","author_association":"CONTRIBUTOR","body":"I think #4304 will probably help; it works around problems caused when reading a HyperLogLogCollector object from multiple threads at once. Background caching would do that, when it's being read into the cache at the same time as the main query thread is also reading it.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/302851443/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/302852044","html_url":"https://github.com/apache/druid/issues/4199#issuecomment-302852044","issue_url":"https://api.github.com/repos/apache/druid/issues/4199","id":302852044,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjg1MjA0NA==","user":{"login":"kaijianding","id":8663725,"node_id":"MDQ6VXNlcjg2NjM3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/8663725?v=4","gravatar_id":"","url":"https://api.github.com/users/kaijianding","html_url":"https://github.com/kaijianding","followers_url":"https://api.github.com/users/kaijianding/followers","following_url":"https://api.github.com/users/kaijianding/following{/other_user}","gists_url":"https://api.github.com/users/kaijianding/gists{/gist_id}","starred_url":"https://api.github.com/users/kaijianding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaijianding/subscriptions","organizations_url":"https://api.github.com/users/kaijianding/orgs","repos_url":"https://api.github.com/users/kaijianding/repos","events_url":"https://api.github.com/users/kaijianding/events{/privacy}","received_events_url":"https://api.github.com/users/kaijianding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-20T05:27:07Z","updated_at":"2017-05-20T05:27:07Z","author_association":"CONTRIBUTOR","body":"I'm rolling upgrade the cluster now with #4304, will update you after several days run. I believe #4304 will help.\r\nI'm using background caching with numBackgroundThreads=2, everything seems fine except for this issue. I think we can put this configuration in document, it's reliable, from my perspective.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/302852044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/302852735","html_url":"https://github.com/apache/druid/issues/4199#issuecomment-302852735","issue_url":"https://api.github.com/repos/apache/druid/issues/4199","id":302852735,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjg1MjczNQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-20T05:43:56Z","updated_at":"2017-05-20T05:43:56Z","author_association":"CONTRIBUTOR","body":"Thanks @kaijianding. I want to check with @drcrallen first to see if he could describe the problems he noticed with background caching.\r\n\r\n@drcrallen -- do you recall what you had seen with background caching? Do you think #3943 would have been enough to fix it, or were you seeing other kinds of problems?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/302852735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/302853459","html_url":"https://github.com/apache/druid/issues/4199#issuecomment-302853459","issue_url":"https://api.github.com/repos/apache/druid/issues/4199","id":302853459,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjg1MzQ1OQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-20T06:03:39Z","updated_at":"2017-05-20T06:03:39Z","author_association":"CONTRIBUTOR","body":"https://github.com/druid-io/druid/pull/3943#issuecomment-280534185 is about the limit of what I remember without more thorough testing. Basically I couldn't get a good way to prove query resources were or were not released by the time the cache future ran.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/302853459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/302869545","html_url":"https://github.com/apache/druid/issues/4247#issuecomment-302869545","issue_url":"https://api.github.com/repos/apache/druid/issues/4247","id":302869545,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjg2OTU0NQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-20T12:15:59Z","updated_at":"2017-05-20T12:15:59Z","author_association":"CONTRIBUTOR","body":"@gianm, thanks. I'm working on this.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/302869545/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/302869640","html_url":"https://github.com/apache/druid/pull/4298#issuecomment-302869640","issue_url":"https://api.github.com/repos/apache/druid/issues/4298","id":302869640,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjg2OTY0MA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-20T12:17:57Z","updated_at":"2017-05-20T12:17:57Z","author_association":"CONTRIBUTOR","body":"@leventov, I raised #4306 for fixing the travis failure. I think I should wait for that PR to be merged first.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/302869640/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/302870068","html_url":"https://github.com/apache/druid/pull/4306#issuecomment-302870068","issue_url":"https://api.github.com/repos/apache/druid/issues/4306","id":302870068,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjg3MDA2OA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-20T12:26:30Z","updated_at":"2017-05-20T12:26:30Z","author_association":"CONTRIBUTOR","body":"Here is the [link](https://travis-ci.org/jihoonson/druid/builds/234296277) to the successful build which tests when this patch is applied to #4298.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/302870068/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/302906020","html_url":"https://github.com/apache/druid/pull/4306#issuecomment-302906020","issue_url":"https://api.github.com/repos/apache/druid/issues/4306","id":302906020,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjkwNjAyMA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-20T23:54:03Z","updated_at":"2017-05-20T23:54:03Z","author_association":"CONTRIBUTOR","body":"Thank you for quick review! ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/302906020/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/302908381","html_url":"https://github.com/apache/druid/pull/4298#issuecomment-302908381","issue_url":"https://api.github.com/repos/apache/druid/issues/4298","id":302908381,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjkwODM4MQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-21T01:06:44Z","updated_at":"2017-05-21T01:06:44Z","author_association":"CONTRIBUTOR","body":"@leventov fixed travis. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/302908381/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303157134","html_url":"https://github.com/apache/druid/pull/4295#issuecomment-303157134","issue_url":"https://api.github.com/repos/apache/druid/issues/4295","id":303157134,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzE1NzEzNA==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-22T16:50:53Z","updated_at":"2017-05-22T16:50:53Z","author_association":"MEMBER","body":"This looks good to me. @jon-wei are you planning to add anything more in this for @leventov's comment ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303157134/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303170850","html_url":"https://github.com/apache/druid/pull/4304#issuecomment-303170850","issue_url":"https://api.github.com/repos/apache/druid/issues/4304","id":303170850,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzE3MDg1MA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-22T17:44:23Z","updated_at":"2017-05-22T17:44:23Z","author_association":"MEMBER","body":"Related #3956","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303170850/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303208451","html_url":"https://github.com/apache/druid/pull/4295#issuecomment-303208451","issue_url":"https://api.github.com/repos/apache/druid/issues/4295","id":303208451,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzIwODQ1MQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-22T20:17:08Z","updated_at":"2017-05-22T20:17:08Z","author_association":"CONTRIBUTOR","body":"@pjain1 Thanks, I'm going to push another update that fixes some unit test failures and the String->ServerType changes I mentioned","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303208451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303218741","html_url":"https://github.com/apache/druid/pull/4295#issuecomment-303218741","issue_url":"https://api.github.com/repos/apache/druid/issues/4295","id":303218741,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzIxODc0MQ==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-22T21:00:24Z","updated_at":"2017-05-22T21:00:24Z","author_association":"MEMBER","body":"@jon-wei thanks looking forward to it, lets get this fixed soon.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303218741/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303226175","html_url":"https://github.com/apache/druid/pull/4295#issuecomment-303226175","issue_url":"https://api.github.com/repos/apache/druid/issues/4295","id":303226175,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzIyNjE3NQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-22T21:33:53Z","updated_at":"2017-05-22T21:34:06Z","author_association":"CONTRIBUTOR","body":"Added `@JsonCreator` and `@JsonValue` to fromString()/toString() in ServerType, changed DruidServer and DruidServerMetadata to accept a ServerType parameter instead of a type string","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303226175/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303265035","html_url":"https://github.com/apache/druid/issues/4199#issuecomment-303265035","issue_url":"https://api.github.com/repos/apache/druid/issues/4199","id":303265035,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzI2NTAzNQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-23T01:33:30Z","updated_at":"2017-05-23T01:33:30Z","author_association":"CONTRIBUTOR","body":"Closed by #4304. @kaijianding, please let us know if you see the issue reoccur.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303265035/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303270556","html_url":"https://github.com/apache/druid/issues/4300#issuecomment-303270556","issue_url":"https://api.github.com/repos/apache/druid/issues/4300","id":303270556,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzI3MDU1Ng==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-23T02:13:07Z","updated_at":"2017-05-23T02:13:07Z","author_association":"CONTRIBUTOR","body":"Hey @yaochitc, currently no config parameters are exposed. You could edit the code, but watch out for incompatibilities in the serialized form as a result. If you're interested in contributing something here, HyperLogLogCollector and HLLCV1 are good places to start.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303270556/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303271168","html_url":"https://github.com/apache/druid/issues/4308#issuecomment-303271168","issue_url":"https://api.github.com/repos/apache/druid/issues/4308","id":303271168,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzI3MTE2OA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-23T02:17:37Z","updated_at":"2017-05-23T02:30:18Z","author_association":"CONTRIBUTOR","body":"This exception is from a check introduced earlier today in #4288, but has been \"sleeping\" since #3954 when the code that violates this check was introduced.\r\n\r\n@leventov could you take a look?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303271168/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303275321","html_url":"https://github.com/apache/druid/pull/4309#issuecomment-303275321","issue_url":"https://api.github.com/repos/apache/druid/issues/4309","id":303275321,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzI3NTMyMQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-23T02:48:31Z","updated_at":"2017-05-23T02:48:31Z","author_association":"CONTRIBUTOR","body":"Did you test this? I don't think it will work, since the callbacks will be called by netty in various threads in the http-client worker pool.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303275321/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303279606","html_url":"https://github.com/apache/druid/pull/4309#issuecomment-303279606","issue_url":"https://api.github.com/repos/apache/druid/issues/4309","id":303279606,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzI3OTYwNg==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-23T03:20:57Z","updated_at":"2017-05-23T03:20:57Z","author_association":"MEMBER","body":"@gianm no, I didn't test, submitted PR for CI testing. I don't see how callbacks will be called from multiple threads. Netty 3 Javadoc [suggests](http://netty.io/3.10/api/org/jboss/netty/channel/ChannelPipeline.html) that there is a Thread associated with a Channel, from where operations are performed. In http-client, we create a pipeline to serve just one request, hence just one Channel.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303279606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303281603","html_url":"https://github.com/apache/druid/pull/4305#issuecomment-303281603","issue_url":"https://api.github.com/repos/apache/druid/issues/4305","id":303281603,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzI4MTYwMw==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-23T03:36:25Z","updated_at":"2017-05-23T03:36:25Z","author_association":"CONTRIBUTOR","body":"@gianm Addressed your comments","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303281603/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303282130","html_url":"https://github.com/apache/druid/pull/4305#issuecomment-303282130","issue_url":"https://api.github.com/repos/apache/druid/issues/4305","id":303282130,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzI4MjEzMA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-23T03:40:30Z","updated_at":"2017-05-23T03:40:30Z","author_association":"CONTRIBUTOR","body":"@jon-wei, compilation issue:\r\n\r\n```\r\n/home/travis/build/druid-io/druid/sql/src/main/java/io/druid/sql/calcite/schema/DruidSchema.java:317: error: cannot find symbol\r\n                                                            QueryMaker.makeResponseContextForQuery(segmentMetadataQuery)\r\n                                                                      ^\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303282130/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303284237","html_url":"https://github.com/apache/druid/pull/4309#issuecomment-303284237","issue_url":"https://api.github.com/repos/apache/druid/issues/4309","id":303284237,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzI4NDIzNw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-23T03:59:15Z","updated_at":"2017-05-23T03:59:15Z","author_association":"CONTRIBUTOR","body":"If that's right, the approach in the patch looks good. http://netty.io/wiki/thread-model.html suggests as well that inbound events happen on \"the thread that performs I/O for the channel\" which sure sounds like there is only one. If the patch holds up to testing, then, ok.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303284237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303284994","html_url":"https://github.com/apache/druid/pull/4309#issuecomment-303284994","issue_url":"https://api.github.com/repos/apache/druid/issues/4309","id":303284994,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzI4NDk5NA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-23T04:06:25Z","updated_at":"2017-05-23T04:06:25Z","author_association":"MEMBER","body":"@gianm this wiki page doesn't apply to Netty 3.x (see the bottom of the page). However AFAIR there were some efforts on moving http-client to Netty 4.x, @esevastyanov could you comment on this?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303284994/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303285625","html_url":"https://github.com/apache/druid/pull/4309#issuecomment-303285625","issue_url":"https://api.github.com/repos/apache/druid/issues/4309","id":303285625,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzI4NTYyNQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-23T04:12:40Z","updated_at":"2017-05-23T04:12:40Z","author_association":"CONTRIBUTOR","body":"It looks like that page is describing goals and problems with 3.x. In my reading, this statement was meant to apply to 3.x:\r\n\r\n> UGLY: The upstream events triggered as a side effect of a downstream event is triggered by the caller thread,\r\n\r\nAFAIK upstream (inbound) events are the ones we are handling in our handler, could it be that a \"side effect of a downstream event\" could involve our handler's callbacks getting called by an unexpected thread when some outgoing data fails to send, or when the connection is reset, or something?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303285625/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303288045","html_url":"https://github.com/apache/druid/issues/4311#issuecomment-303288045","issue_url":"https://api.github.com/repos/apache/druid/issues/4311","id":303288045,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzI4ODA0NQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-23T04:35:15Z","updated_at":"2017-05-23T04:35:15Z","author_association":"CONTRIBUTOR","body":"The overlord doesn't touch the data stream at all. It sets up ingestion tasks on the middlemanagers and then those tasks process the data stream directly from the source.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303288045/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303289319","html_url":"https://github.com/apache/druid/issues/4311#issuecomment-303289319","issue_url":"https://api.github.com/repos/apache/druid/issues/4311","id":303289319,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzI4OTMxOQ==","user":{"login":"mjaow","id":8275883,"node_id":"MDQ6VXNlcjgyNzU4ODM=","avatar_url":"https://avatars.githubusercontent.com/u/8275883?v=4","gravatar_id":"","url":"https://api.github.com/users/mjaow","html_url":"https://github.com/mjaow","followers_url":"https://api.github.com/users/mjaow/followers","following_url":"https://api.github.com/users/mjaow/following{/other_user}","gists_url":"https://api.github.com/users/mjaow/gists{/gist_id}","starred_url":"https://api.github.com/users/mjaow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjaow/subscriptions","organizations_url":"https://api.github.com/users/mjaow/orgs","repos_url":"https://api.github.com/users/mjaow/repos","events_url":"https://api.github.com/users/mjaow/events{/privacy}","received_events_url":"https://api.github.com/users/mjaow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-23T04:46:50Z","updated_at":"2017-05-23T04:46:50Z","author_association":"NONE","body":"@gianm where is the source?now in my system kafka+tranquility play the realtime role. middlemanager process data from tranquility?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303289319/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303290832","html_url":"https://github.com/apache/druid/pull/4305#issuecomment-303290832","issue_url":"https://api.github.com/repos/apache/druid/issues/4305","id":303290832,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzI5MDgzMg==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-23T05:00:34Z","updated_at":"2017-05-23T05:00:34Z","author_association":"CONTRIBUTOR","body":"@gianm my bad, fixed","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303290832/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303291402","html_url":"https://github.com/apache/druid/pull/4305#issuecomment-303291402","issue_url":"https://api.github.com/repos/apache/druid/issues/4305","id":303291402,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzI5MTQwMg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-23T05:05:49Z","updated_at":"2017-05-23T05:05:49Z","author_association":"CONTRIBUTOR","body":"@jon-wei thanks; it looks like there's a different error now, from checkstyle.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303291402/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303297552","html_url":"https://github.com/apache/druid/pull/4313#issuecomment-303297552","issue_url":"https://api.github.com/repos/apache/druid/issues/4313","id":303297552,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzI5NzU1Mg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-23T05:53:56Z","updated_at":"2017-05-23T05:53:56Z","author_association":"CONTRIBUTOR","body":"Curator should not be upgraded. 2.12.0 has a bug that affects Druid, see #4103 and https://github.com/druid-io/druid/issues/3837#issuecomment-301910533.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303297552/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303299903","html_url":"https://github.com/apache/druid/pull/4298#issuecomment-303299903","issue_url":"https://api.github.com/repos/apache/druid/issues/4298","id":303299903,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzI5OTkwMw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-23T06:11:02Z","updated_at":"2017-05-23T06:11:02Z","author_association":"MEMBER","body":"Going to merge on May 24 unless somebody else wants to review this PR.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303299903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303300326","html_url":"https://github.com/apache/druid/pull/4298#issuecomment-303300326","issue_url":"https://api.github.com/repos/apache/druid/issues/4298","id":303300326,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzMwMDMyNg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-23T06:13:54Z","updated_at":"2017-05-23T06:13:54Z","author_association":"CONTRIBUTOR","body":"@leventov, there is a problem that SegmentManager is not shared between different classes because it's not LazySingleton. \r\nI hope to fix this problem in this pr too if you don't mind.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303300326/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303300525","html_url":"https://github.com/apache/druid/pull/4298#issuecomment-303300525","issue_url":"https://api.github.com/repos/apache/druid/issues/4298","id":303300525,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzMwMDUyNQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-23T06:15:08Z","updated_at":"2017-05-23T06:15:08Z","author_association":"MEMBER","body":"@jihoonson ok.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303300525/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303300663","html_url":"https://github.com/apache/druid/pull/4313#issuecomment-303300663","issue_url":"https://api.github.com/repos/apache/druid/issues/4313","id":303300663,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzMwMDY2Mw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-23T06:15:57Z","updated_at":"2017-05-23T06:15:57Z","author_association":"CONTRIBUTOR","body":"Thanks for leaving a comment about Curator, I should have done that in #4103. For the other changes, let's run integration tests and test with hadoop as well (it is notoriously finicky about which versions of things get used). If those look good then I'm +1.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303300663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303300776","html_url":"https://github.com/apache/druid/pull/4313#issuecomment-303300776","issue_url":"https://api.github.com/repos/apache/druid/issues/4313","id":303300776,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzMwMDc3Ng==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-23T06:16:50Z","updated_at":"2017-05-23T06:16:50Z","author_association":"CONTRIBUTOR","body":"If you don't have an easy way to test with hadoop, maybe someone else could help, perhaps @nishantmonu51 or @b-slim. We also have a hadoop-gauntlet test suite we use from time to time we could dig up if needed.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303300776/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303320663","html_url":"https://github.com/apache/druid/pull/4298#issuecomment-303320663","issue_url":"https://api.github.com/repos/apache/druid/issues/4298","id":303320663,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzMyMDY2Mw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-23T08:02:40Z","updated_at":"2017-05-23T08:03:07Z","author_association":"CONTRIBUTOR","body":"If this is meant to have the fix mentioned from https://github.com/druid-io/druid/pull/4298#issuecomment-303300326, it needs to be in 0.10.1 -- marking.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303320663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303320891","html_url":"https://github.com/apache/druid/pull/4198#issuecomment-303320891","issue_url":"https://api.github.com/repos/apache/druid/issues/4198","id":303320891,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzMyMDg5MQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-23T08:03:45Z","updated_at":"2017-05-23T08:03:45Z","author_association":"CONTRIBUTOR","body":"Closed in favor of #4254 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303320891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303321125","html_url":"https://github.com/apache/druid/pull/4217#issuecomment-303321125","issue_url":"https://api.github.com/repos/apache/druid/issues/4217","id":303321125,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzMyMTEyNQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-23T08:04:45Z","updated_at":"2017-05-23T08:04:45Z","author_association":"CONTRIBUTOR","body":"Thanks, @licl2014.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303321125/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303344326","html_url":"https://github.com/apache/druid/pull/4292#issuecomment-303344326","issue_url":"https://api.github.com/repos/apache/druid/issues/4292","id":303344326,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzM0NDMyNg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-23T09:32:31Z","updated_at":"2017-05-23T09:32:31Z","author_association":"CONTRIBUTOR","body":"@jihoonson, the api generally looks good to me, looks like the general idea is to open up some of the previously internal functionality. Let's see what @pjain1 thinks too.\r\n\r\nAre we going to need a method in FiniteAppenderatorDriver to return a list of the active sequenceNames? Currently, the KafkaIndexTask \"knows\" what it is because it's provided by the supervisor as baseSequenceName and it just adds a partition number. But if it's cycling through lots of them then it might need some more help.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303344326/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303344402","html_url":"https://github.com/apache/druid/pull/4178#issuecomment-303344402","issue_url":"https://api.github.com/repos/apache/druid/issues/4178","id":303344402,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzM0NDQwMg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-23T09:32:50Z","updated_at":"2017-05-23T09:32:50Z","author_association":"CONTRIBUTOR","body":"@pjain1 what do you think of #4292?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303344402/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303468651","html_url":"https://github.com/apache/druid/pull/4307#issuecomment-303468651","issue_url":"https://api.github.com/repos/apache/druid/issues/4307","id":303468651,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzQ2ODY1MQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-23T17:08:25Z","updated_at":"2017-05-23T17:08:25Z","author_association":"CONTRIBUTOR","body":"👍 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303468651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303470452","html_url":"https://github.com/apache/druid/pull/4175#issuecomment-303470452","issue_url":"https://api.github.com/repos/apache/druid/issues/4175","id":303470452,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzQ3MDQ1Mg==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-23T17:15:04Z","updated_at":"2017-05-23T17:15:04Z","author_association":"MEMBER","body":"Will fix this as part of #4178 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303470452/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303491452","html_url":"https://github.com/apache/druid/issues/4067#issuecomment-303491452","issue_url":"https://api.github.com/repos/apache/druid/issues/4067","id":303491452,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzQ5MTQ1Mg==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-23T18:32:16Z","updated_at":"2017-05-23T18:32:16Z","author_association":"CONTRIBUTOR","body":"so there are 3 things and my thoughts are below ...\r\n(1) what should be default cache when user does not specify anything in the properties? Ans: caffeine cache, and everyone agrees on this\r\n(2) when user says `local` in the properties, what implementation should be used? Ans: caffeine cache impl given that it is a drop-in much better replacement of MapCache.\r\n(3) should we or should we not keep caffeine impl in an extension? Ans: We should keep it in the extension where it also serves as good reference. Have concept of \"enforced extensions in loadList\" in Druid and always include caffeine extension in the loadList in addtion to user's supplied loadList . I think this model also gives us flexibility to have more things that can be done in extension but still available to user without any extra configuration.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303491452/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303491950","html_url":"https://github.com/apache/druid/issues/4276#issuecomment-303491950","issue_url":"https://api.github.com/repos/apache/druid/issues/4276","id":303491950,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzQ5MTk1MA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-23T18:33:59Z","updated_at":"2017-05-23T18:33:59Z","author_association":"CONTRIBUTOR","body":"@praveev can you take a look at this one ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303491950/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303499676","html_url":"https://github.com/apache/druid/issues/4067#issuecomment-303499676","issue_url":"https://api.github.com/repos/apache/druid/issues/4067","id":303499676,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzQ5OTY3Ng==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-23T19:02:25Z","updated_at":"2017-05-23T19:02:25Z","author_association":"CONTRIBUTOR","body":"For (1) do you mean \"if the user uses the default configs from the distribution\"? Since right now, if a user really specifies no cache properties (deleting the ones that come by default in the distribution) then they will get no caching at all. Or did you just mean we should update the default configs to switch from local to caffeine? (PS I also think we should switch the cache from running broker-side, to running historical-side, since it scales better)\r\n\r\nFor (2) I think it's good to have `local` really mean caffeine, and delete the existing local impl; that will really help people that have `local` cache set and don't read release notes to realize they should switch.\r\n\r\nFor (3) \"enforced extensions\" seems weird, but I could propose an even weirder (but also maybe cooler?) thing: some code in core Druid that knows that if `druid.cache.type=local` is set, then it has to load the caffeine extension, and it would just add it to your loadList dynamically. It may look like a hack at first but it is kind of neat: it means that if someone uses memcached (or disables caching entirely) then the caffeine extension won't need to be loaded.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303499676/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303514834","html_url":"https://github.com/apache/druid/issues/4067#issuecomment-303514834","issue_url":"https://api.github.com/repos/apache/druid/issues/4067","id":303514834,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzUxNDgzNA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-23T20:00:32Z","updated_at":"2017-05-23T20:00:32Z","author_association":"CONTRIBUTOR","body":"For (1) i meant if they enable caching but don't set cache type , then caffeine cache should be used.\r\n\r\nFor (3) I was imagining \"enforced extensions\" a more general thing than used in this context and use same thing whenever we wanted to do things in extensions but still make them available to user without explicitly specifying in loadList. Is there any problem to have caffeine cache extension always being loaded ? it would be same even if we moved it to druid-core .\r\nDynamic loading is more magical and less general. That said, given that this is all internal to Druid code and is not visible to user, I don't have too strong an opinion here since it can be changed anytime we want with no impact to user.\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303514834/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303517983","html_url":"https://github.com/apache/druid/pull/4321#issuecomment-303517983","issue_url":"https://api.github.com/repos/apache/druid/issues/4321","id":303517983,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzUxNzk4Mw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-23T20:12:12Z","updated_at":"2017-05-23T20:12:12Z","author_association":"MEMBER","body":"@QijingLi thanks for contribution. Please add detailed comments in code (instead of the removed line) and in the PR description, why this change is needed, how do the operation problems look that this change solves.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303517983/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303575886","html_url":"https://github.com/apache/druid/issues/4276#issuecomment-303575886","issue_url":"https://api.github.com/repos/apache/druid/issues/4276","id":303575886,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzU3NTg4Ng==","user":{"login":"praveev","id":297278,"node_id":"MDQ6VXNlcjI5NzI3OA==","avatar_url":"https://avatars.githubusercontent.com/u/297278?v=4","gravatar_id":"","url":"https://api.github.com/users/praveev","html_url":"https://github.com/praveev","followers_url":"https://api.github.com/users/praveev/followers","following_url":"https://api.github.com/users/praveev/following{/other_user}","gists_url":"https://api.github.com/users/praveev/gists{/gist_id}","starred_url":"https://api.github.com/users/praveev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/praveev/subscriptions","organizations_url":"https://api.github.com/users/praveev/orgs","repos_url":"https://api.github.com/users/praveev/repos","events_url":"https://api.github.com/users/praveev/events{/privacy}","received_events_url":"https://api.github.com/users/praveev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-24T00:09:23Z","updated_at":"2017-05-24T00:09:23Z","author_association":"CONTRIBUTOR","body":"ya. able to reproduce this issue for \"Asia/Shanghai\" ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303575886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303579203","html_url":"https://github.com/apache/druid/pull/4320#issuecomment-303579203","issue_url":"https://api.github.com/repos/apache/druid/issues/4320","id":303579203,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzU3OTIwMw==","user":{"login":"xanec","id":3969464,"node_id":"MDQ6VXNlcjM5Njk0NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/3969464?v=4","gravatar_id":"","url":"https://api.github.com/users/xanec","html_url":"https://github.com/xanec","followers_url":"https://api.github.com/users/xanec/followers","following_url":"https://api.github.com/users/xanec/following{/other_user}","gists_url":"https://api.github.com/users/xanec/gists{/gist_id}","starred_url":"https://api.github.com/users/xanec/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xanec/subscriptions","organizations_url":"https://api.github.com/users/xanec/orgs","repos_url":"https://api.github.com/users/xanec/repos","events_url":"https://api.github.com/users/xanec/events{/privacy}","received_events_url":"https://api.github.com/users/xanec/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-24T00:23:10Z","updated_at":"2017-05-24T00:23:10Z","author_association":"CONTRIBUTOR","body":"👍 Thanks.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303579203/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303581441","html_url":"https://github.com/apache/druid/pull/4292#issuecomment-303581441","issue_url":"https://api.github.com/repos/apache/druid/issues/4292","id":303581441,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzU4MTQ0MQ==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-24T00:39:47Z","updated_at":"2017-05-24T00:39:47Z","author_association":"MEMBER","body":"Sorry I missed this one, will have a look today or tomorrow. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303581441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303607358","html_url":"https://github.com/apache/druid/pull/4175#issuecomment-303607358","issue_url":"https://api.github.com/repos/apache/druid/issues/4175","id":303607358,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzYwNzM1OA==","user":{"login":"firstway","id":5739654,"node_id":"MDQ6VXNlcjU3Mzk2NTQ=","avatar_url":"https://avatars.githubusercontent.com/u/5739654?v=4","gravatar_id":"","url":"https://api.github.com/users/firstway","html_url":"https://github.com/firstway","followers_url":"https://api.github.com/users/firstway/followers","following_url":"https://api.github.com/users/firstway/following{/other_user}","gists_url":"https://api.github.com/users/firstway/gists{/gist_id}","starred_url":"https://api.github.com/users/firstway/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/firstway/subscriptions","organizations_url":"https://api.github.com/users/firstway/orgs","repos_url":"https://api.github.com/users/firstway/repos","events_url":"https://api.github.com/users/firstway/events{/privacy}","received_events_url":"https://api.github.com/users/firstway/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-24T03:24:20Z","updated_at":"2017-05-24T03:24:20Z","author_association":"NONE","body":"@pjain1 thanks","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303607358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303741064","html_url":"https://github.com/apache/druid/issues/4322#issuecomment-303741064","issue_url":"https://api.github.com/repos/apache/druid/issues/4322","id":303741064,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzc0MTA2NA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-24T14:28:51Z","updated_at":"2017-05-24T14:28:51Z","author_association":"CONTRIBUTOR","body":"I think you need to escape the `+` as `%2B`. It's getting treated as a space.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303741064/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303821603","html_url":"https://github.com/apache/druid/pull/4318#issuecomment-303821603","issue_url":"https://api.github.com/repos/apache/druid/issues/4318","id":303821603,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzgyMTYwMw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-24T19:06:46Z","updated_at":"2017-05-24T19:06:46Z","author_association":"MEMBER","body":"@taochaoqiang could you also please fill out our CLA here so we can accept your contribution?\r\n\r\nhttp://druid.io/community/cla.html","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303821603/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303822859","html_url":"https://github.com/apache/druid/pull/4284#issuecomment-303822859","issue_url":"https://api.github.com/repos/apache/druid/issues/4284","id":303822859,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzgyMjg1OQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-24T19:11:50Z","updated_at":"2017-05-24T19:11:50Z","author_association":"CONTRIBUTOR","body":"so if I understand this correctly, the key change here is the change from using different creation methods for bitmap results to using a unified `BitmapResultFactory` interface in order to facilitate better metrics collection of the bitmap operations. I think that makes some good sense overall, but I'm a bit unclear on what the future intentions of `BitmapResultFactory` are. Should there be specialty methods for every type of bitmap operation someone might want to do? How do you want to handle future additions to that factory?  Is there a way someone can have a custom `BitmapResultFactory` and not have it break in arbitrary future versions?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303822859/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303832793","html_url":"https://github.com/apache/druid/pull/4313#issuecomment-303832793","issue_url":"https://api.github.com/repos/apache/druid/issues/4313","id":303832793,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzgzMjc5Mw==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-24T19:51:55Z","updated_at":"2017-05-24T19:51:55Z","author_association":"CONTRIBUTOR","body":"yeah sure will check this out hopefully this week.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303832793/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303835089","html_url":"https://github.com/apache/druid/pull/3940#issuecomment-303835089","issue_url":"https://api.github.com/repos/apache/druid/issues/3940","id":303835089,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzgzNTA4OQ==","user":{"login":"iainlbc","id":320369,"node_id":"MDQ6VXNlcjMyMDM2OQ==","avatar_url":"https://avatars.githubusercontent.com/u/320369?v=4","gravatar_id":"","url":"https://api.github.com/users/iainlbc","html_url":"https://github.com/iainlbc","followers_url":"https://api.github.com/users/iainlbc/followers","following_url":"https://api.github.com/users/iainlbc/following{/other_user}","gists_url":"https://api.github.com/users/iainlbc/gists{/gist_id}","starred_url":"https://api.github.com/users/iainlbc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iainlbc/subscriptions","organizations_url":"https://api.github.com/users/iainlbc/orgs","repos_url":"https://api.github.com/users/iainlbc/repos","events_url":"https://api.github.com/users/iainlbc/events{/privacy}","received_events_url":"https://api.github.com/users/iainlbc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-24T20:00:43Z","updated_at":"2017-05-24T20:00:43Z","author_association":"NONE","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303835089/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303835542","html_url":"https://github.com/apache/druid/pull/4284#issuecomment-303835542","issue_url":"https://api.github.com/repos/apache/druid/issues/4284","id":303835542,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzgzNTU0Mg==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-24T20:02:41Z","updated_at":"2017-05-24T20:02:41Z","author_association":"MEMBER","body":"@drcrallen \r\n\r\n> Should there be specialty methods for every type of bitmap operation someone might want to do?\r\n\r\nYes.\r\n\r\n> How do you want to handle future additions to that factory?\r\n\r\nJust add methods, let custom `BitmapResultFactory` impls break. `BitmapResultFactory` is a part of the `QueryMetrics` subsystem, which is designed to break often. It is described in `QueryMetrics` Javadoc comment, and rationale is described here: https://github.com/druid-io/druid/pull/3954#issue-209035609. Also added a note in `BitmapResultFactory` Javadoc.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303835542/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303836680","html_url":"https://github.com/apache/druid/pull/4313#issuecomment-303836680","issue_url":"https://api.github.com/repos/apache/druid/issues/4313","id":303836680,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzgzNjY4MA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-24T20:07:10Z","updated_at":"2017-05-24T20:07:10Z","author_association":"MEMBER","body":"@b-slim thank you!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303836680/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303839226","html_url":"https://github.com/apache/druid/issues/3886#issuecomment-303839226","issue_url":"https://api.github.com/repos/apache/druid/issues/3886","id":303839226,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzgzOTIyNg==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-24T20:17:19Z","updated_at":"2017-05-24T20:17:19Z","author_association":"MEMBER","body":"Closing in favor of #4289","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303839226/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303839727","html_url":"https://github.com/apache/druid/issues/4289#issuecomment-303839727","issue_url":"https://api.github.com/repos/apache/druid/issues/4289","id":303839727,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzgzOTcyNw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-24T20:19:13Z","updated_at":"2017-05-24T20:19:13Z","author_association":"MEMBER","body":"Labelling `Incompatible` and `Release Notes` because present users may have `jets3t.properties` file to change some s3 configurations, that will stop working silently when code is changed to use official SDK.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303839727/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303839928","html_url":"https://github.com/apache/druid/issues/4289#issuecomment-303839928","issue_url":"https://api.github.com/repos/apache/druid/issues/4289","id":303839928,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzgzOTkyOA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-24T20:20:02Z","updated_at":"2017-05-24T20:20:02Z","author_association":"CONTRIBUTOR","body":"@leventov is the solution for this one going to have to have a config that creates a https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/index.html?com/amazonaws/ClientConfiguration.html  , or do you know of a way to have a `jets3t.properties` kind of file on the classpath?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303839928/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303840417","html_url":"https://github.com/apache/druid/issues/4289#issuecomment-303840417","issue_url":"https://api.github.com/repos/apache/druid/issues/4289","id":303840417,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzg0MDQxNw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-24T20:21:54Z","updated_at":"2017-05-24T20:21:54Z","author_association":"MEMBER","body":"@drcrallen I don't know, but creating a config via \"Druid native\" properties sounds like a good solution, for unification.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303840417/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303854015","html_url":"https://github.com/apache/druid/pull/3873#issuecomment-303854015","issue_url":"https://api.github.com/repos/apache/druid/issues/3873","id":303854015,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzg1NDAxNQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-24T21:16:05Z","updated_at":"2017-05-24T21:16:05Z","author_association":"CONTRIBUTOR","body":"@jon-wei  looks good overall besides some comments. it makes sense overall , but hard to identify bugs. hoping that you have tested it on some cluster with few different nested/non-nested groupBy queries.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303854015/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303854459","html_url":"https://github.com/apache/druid/pull/4321#issuecomment-303854459","issue_url":"https://api.github.com/repos/apache/druid/issues/4321","id":303854459,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzg1NDQ1OQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-24T21:17:54Z","updated_at":"2017-05-24T21:17:54Z","author_association":"MEMBER","body":"@QijingLi did you encounter actual operational issue (task is not removed) due to this, or you made this change because found this place in code and it looked like a bug to you?\r\n\r\nI doesn't seem like a bug, because @gianm explicitly put `break;` so he had something in mind when he [did that](https://github.com/druid-io/druid/pull/323/files#diff-f6b29e7013bbf596e97b4651e0d1a517R378), but the code indeed seems strange to me. IMO it needs some refactoring or at least clarification with comments, but I'm not sure @QijingLi's change does that in the current form.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303854459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303859202","html_url":"https://github.com/apache/druid/pull/4270#issuecomment-303859202","issue_url":"https://api.github.com/repos/apache/druid/issues/4270","id":303859202,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzg1OTIwMg==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-24T21:38:21Z","updated_at":"2017-05-24T21:39:05Z","author_association":"MEMBER","body":"@gianm @himanshug @jon-wei @nishantmonu51 Updated PR description as per the new design, please review. Fixed the code and added few unit tests as per the new design and is reviewable if you don't care about exhaustive unit tests. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303859202/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303859349","html_url":"https://github.com/apache/druid/pull/4321#issuecomment-303859349","issue_url":"https://api.github.com/repos/apache/druid/issues/4321","id":303859349,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzg1OTM0OQ==","user":{"login":"QijingLi","id":25467323,"node_id":"MDQ6VXNlcjI1NDY3MzIz","avatar_url":"https://avatars.githubusercontent.com/u/25467323?v=4","gravatar_id":"","url":"https://api.github.com/users/QijingLi","html_url":"https://github.com/QijingLi","followers_url":"https://api.github.com/users/QijingLi/followers","following_url":"https://api.github.com/users/QijingLi/following{/other_user}","gists_url":"https://api.github.com/users/QijingLi/gists{/gist_id}","starred_url":"https://api.github.com/users/QijingLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/QijingLi/subscriptions","organizations_url":"https://api.github.com/users/QijingLi/orgs","repos_url":"https://api.github.com/users/QijingLi/repos","events_url":"https://api.github.com/users/QijingLi/events{/privacy}","received_events_url":"https://api.github.com/users/QijingLi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-24T21:38:59Z","updated_at":"2017-05-24T21:38:59Z","author_association":"NONE","body":"@leventov I did NOT encounter this issue. I made this change because the code doesn't look right to me, so I call the change would prevent the POTENTIAL bug. If it is not bug, it's good, and I'll close the PR.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303859349/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/303862614","html_url":"https://github.com/apache/druid/pull/4321#issuecomment-303862614","issue_url":"https://api.github.com/repos/apache/druid/issues/4321","id":303862614,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzg2MjYxNA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-24T21:54:14Z","updated_at":"2017-05-24T21:54:14Z","author_association":"MEMBER","body":"@QijingLi the code doesn't look right for me as well, but I'm not sure that just removing `break;` makes the code right. I would wait for comments from the author of this code, @gianm ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/303862614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]