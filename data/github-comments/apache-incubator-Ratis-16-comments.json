[{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1076036219","html_url":"https://github.com/apache/ratis/pull/626#issuecomment-1076036219","issue_url":"https://api.github.com/repos/apache/ratis/issues/626","id":1076036219,"node_id":"IC_kwDOBMxbGc5AIwJ7","user":{"login":"lokeshj1703","id":9255455,"node_id":"MDQ6VXNlcjkyNTU0NTU=","avatar_url":"https://avatars.githubusercontent.com/u/9255455?v=4","gravatar_id":"","url":"https://api.github.com/users/lokeshj1703","html_url":"https://github.com/lokeshj1703","followers_url":"https://api.github.com/users/lokeshj1703/followers","following_url":"https://api.github.com/users/lokeshj1703/following{/other_user}","gists_url":"https://api.github.com/users/lokeshj1703/gists{/gist_id}","starred_url":"https://api.github.com/users/lokeshj1703/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lokeshj1703/subscriptions","organizations_url":"https://api.github.com/users/lokeshj1703/orgs","repos_url":"https://api.github.com/users/lokeshj1703/repos","events_url":"https://api.github.com/users/lokeshj1703/events{/privacy}","received_events_url":"https://api.github.com/users/lokeshj1703/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-23T07:51:15Z","updated_at":"2022-03-23T07:51:15Z","author_association":"CONTRIBUTOR","body":"@szetszwo Thanks for the contribution! @captainzmc Thanks for the review! I have committed the PR to master branch.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1076036219/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1076133091","html_url":"https://github.com/apache/ratis/pull/626#issuecomment-1076133091","issue_url":"https://api.github.com/repos/apache/ratis/issues/626","id":1076133091,"node_id":"IC_kwDOBMxbGc5AJHzj","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-23T09:18:15Z","updated_at":"2022-03-23T09:18:15Z","author_association":"CONTRIBUTOR","body":"@captainzmc ,  @lokeshj1703, thanks both for reviewing this!","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1076133091/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1076986194","html_url":"https://github.com/apache/ratis/pull/627#issuecomment-1076986194","issue_url":"https://api.github.com/repos/apache/ratis/issues/627","id":1076986194,"node_id":"IC_kwDOBMxbGc5AMYFS","user":{"login":"codings-dan","id":26144703,"node_id":"MDQ6VXNlcjI2MTQ0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/26144703?v=4","gravatar_id":"","url":"https://api.github.com/users/codings-dan","html_url":"https://github.com/codings-dan","followers_url":"https://api.github.com/users/codings-dan/followers","following_url":"https://api.github.com/users/codings-dan/following{/other_user}","gists_url":"https://api.github.com/users/codings-dan/gists{/gist_id}","starred_url":"https://api.github.com/users/codings-dan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codings-dan/subscriptions","organizations_url":"https://api.github.com/users/codings-dan/orgs","repos_url":"https://api.github.com/users/codings-dan/repos","events_url":"https://api.github.com/users/codings-dan/events{/privacy}","received_events_url":"https://api.github.com/users/codings-dan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-24T01:48:56Z","updated_at":"2022-03-24T01:48:56Z","author_association":"CONTRIBUTOR","body":"@szetszwo Can you help review this patch, thanks!","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1076986194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1077442892","html_url":"https://github.com/apache/ratis/pull/627#issuecomment-1077442892","issue_url":"https://api.github.com/repos/apache/ratis/issues/627","id":1077442892,"node_id":"IC_kwDOBMxbGc5AOHlM","user":{"login":"codings-dan","id":26144703,"node_id":"MDQ6VXNlcjI2MTQ0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/26144703?v=4","gravatar_id":"","url":"https://api.github.com/users/codings-dan","html_url":"https://github.com/codings-dan","followers_url":"https://api.github.com/users/codings-dan/followers","following_url":"https://api.github.com/users/codings-dan/following{/other_user}","gists_url":"https://api.github.com/users/codings-dan/gists{/gist_id}","starred_url":"https://api.github.com/users/codings-dan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codings-dan/subscriptions","organizations_url":"https://api.github.com/users/codings-dan/orgs","repos_url":"https://api.github.com/users/codings-dan/repos","events_url":"https://api.github.com/users/codings-dan/events{/privacy}","received_events_url":"https://api.github.com/users/codings-dan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-24T09:55:28Z","updated_at":"2022-03-24T09:55:28Z","author_association":"CONTRIBUTOR","body":"@szetszwo Thanks for reviewing the code, I change the code according to the comment you left, PTAL again, thank you! BTW, in my opinion, apart from adding a admin command to change the listener to follower using the `setConfiguration` API , the development work related to the listener has been completed. If I missed any part of the task, Can you help point it out? I can follow your suggestion to continue the follow-up development work.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1077442892/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1077578507","html_url":"https://github.com/apache/ratis/pull/627#issuecomment-1077578507","issue_url":"https://api.github.com/repos/apache/ratis/issues/627","id":1077578507,"node_id":"IC_kwDOBMxbGc5AOosL","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-24T12:32:12Z","updated_at":"2022-03-24T12:32:12Z","author_association":"CONTRIBUTOR","body":"@codings-dan , thanks a lot for working on the Listener!  We should add some tests to make sure the following.\r\n- A Listener won't start leader election.\r\n- A Listener will reject requestVote. (this seems currently missing.)\r\n- A Listener can receive log entires and snapshots.\r\n- The leader won't count Listeners for majority.\r\n- setConfiguration can add Listeners, remove Listeners and, change a voting member to Listener and vice versa.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1077578507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1077610791","html_url":"https://github.com/apache/ratis/pull/627#issuecomment-1077610791","issue_url":"https://api.github.com/repos/apache/ratis/issues/627","id":1077610791,"node_id":"IC_kwDOBMxbGc5AOwkn","user":{"login":"codings-dan","id":26144703,"node_id":"MDQ6VXNlcjI2MTQ0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/26144703?v=4","gravatar_id":"","url":"https://api.github.com/users/codings-dan","html_url":"https://github.com/codings-dan","followers_url":"https://api.github.com/users/codings-dan/followers","following_url":"https://api.github.com/users/codings-dan/following{/other_user}","gists_url":"https://api.github.com/users/codings-dan/gists{/gist_id}","starred_url":"https://api.github.com/users/codings-dan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codings-dan/subscriptions","organizations_url":"https://api.github.com/users/codings-dan/orgs","repos_url":"https://api.github.com/users/codings-dan/repos","events_url":"https://api.github.com/users/codings-dan/events{/privacy}","received_events_url":"https://api.github.com/users/codings-dan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-24T13:10:10Z","updated_at":"2022-03-24T13:10:10Z","author_association":"CONTRIBUTOR","body":"> @codings-dan , thanks a lot for working on the Listener! We should add some tests to make sure the following.\r\n> \r\n> * A Listener won't start leader election.\r\n> * A Listener will reject requestVote. (this seems currently missing.)\r\n> * A Listener can receive log entires and snapshots.\r\n> * The leader won't count Listeners for majority.\r\n> * setConfiguration can add Listeners, remove Listeners and, change a voting member to Listener and vice versa.\r\n\r\nwill do, thanks for the guidance!","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1077610791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1078746694","html_url":"https://github.com/apache/ratis/pull/569#issuecomment-1078746694","issue_url":"https://api.github.com/repos/apache/ratis/issues/569","id":1078746694,"node_id":"IC_kwDOBMxbGc5ATF5G","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-25T07:48:16Z","updated_at":"2022-03-25T07:48:16Z","author_association":"CONTRIBUTOR","body":"@lokeshj1703 , thanks a lot for reviewing this!","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1078746694/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1079133643","html_url":"https://github.com/apache/ratis/pull/628#issuecomment-1079133643","issue_url":"https://api.github.com/repos/apache/ratis/issues/628","id":1079133643,"node_id":"IC_kwDOBMxbGc5AUkXL","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-25T15:20:27Z","updated_at":"2022-03-25T15:20:27Z","author_association":"CONTRIBUTOR","body":"@adoroszlai , thanks a lot for reviewing and verifying this!","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1079133643/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1080449904","html_url":"https://github.com/apache/ratis/pull/573#issuecomment-1080449904","issue_url":"https://api.github.com/repos/apache/ratis/issues/573","id":1080449904,"node_id":"IC_kwDOBMxbGc5AZltw","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-28T10:02:15Z","updated_at":"2022-03-28T10:02:15Z","author_association":"CONTRIBUTOR","body":"@Xushaohong , sorry that there are some conflicts.  Could you update it?","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1080449904/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1081461512","html_url":"https://github.com/apache/ratis/pull/630#issuecomment-1081461512","issue_url":"https://api.github.com/repos/apache/ratis/issues/630","id":1081461512,"node_id":"IC_kwDOBMxbGc5AdcsI","user":{"login":"lokeshj1703","id":9255455,"node_id":"MDQ6VXNlcjkyNTU0NTU=","avatar_url":"https://avatars.githubusercontent.com/u/9255455?v=4","gravatar_id":"","url":"https://api.github.com/users/lokeshj1703","html_url":"https://github.com/lokeshj1703","followers_url":"https://api.github.com/users/lokeshj1703/followers","following_url":"https://api.github.com/users/lokeshj1703/following{/other_user}","gists_url":"https://api.github.com/users/lokeshj1703/gists{/gist_id}","starred_url":"https://api.github.com/users/lokeshj1703/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lokeshj1703/subscriptions","organizations_url":"https://api.github.com/users/lokeshj1703/orgs","repos_url":"https://api.github.com/users/lokeshj1703/repos","events_url":"https://api.github.com/users/lokeshj1703/events{/privacy}","received_events_url":"https://api.github.com/users/lokeshj1703/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-29T06:39:50Z","updated_at":"2022-03-29T06:39:50Z","author_association":"CONTRIBUTOR","body":"@aryangupta1998 Thanks for the contribution! I have committed the PR to master branch.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1081461512/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1081674824","html_url":"https://github.com/apache/ratis/pull/573#issuecomment-1081674824","issue_url":"https://api.github.com/repos/apache/ratis/issues/573","id":1081674824,"node_id":"IC_kwDOBMxbGc5AeQxI","user":{"login":"Xushaohong","id":10106574,"node_id":"MDQ6VXNlcjEwMTA2NTc0","avatar_url":"https://avatars.githubusercontent.com/u/10106574?v=4","gravatar_id":"","url":"https://api.github.com/users/Xushaohong","html_url":"https://github.com/Xushaohong","followers_url":"https://api.github.com/users/Xushaohong/followers","following_url":"https://api.github.com/users/Xushaohong/following{/other_user}","gists_url":"https://api.github.com/users/Xushaohong/gists{/gist_id}","starred_url":"https://api.github.com/users/Xushaohong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Xushaohong/subscriptions","organizations_url":"https://api.github.com/users/Xushaohong/orgs","repos_url":"https://api.github.com/users/Xushaohong/repos","events_url":"https://api.github.com/users/Xushaohong/events{/privacy}","received_events_url":"https://api.github.com/users/Xushaohong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-29T10:01:34Z","updated_at":"2022-03-29T10:01:34Z","author_association":"CONTRIBUTOR","body":"> @Xushaohong , sorry that there are some conflicts. Could you update it?\r\n\r\nSure, I have updated the PR. \r\nPTAL.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1081674824/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1090224052","html_url":"https://github.com/apache/ratis/pull/629#issuecomment-1090224052","issue_url":"https://api.github.com/repos/apache/ratis/issues/629","id":1090224052,"node_id":"IC_kwDOBMxbGc5A-3-0","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-06T12:42:24Z","updated_at":"2022-04-06T12:42:24Z","author_association":"CONTRIBUTOR","body":"@adoroszlai , thanks a lot for reviewing this!\r\n\r\n> Can't believe so much code is unused. :)\r\n\r\nRaftProperties was initially copied from Hadoop Configuration.  That's why.  :)","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1090224052/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1099822944","html_url":"https://github.com/apache/ratis/pull/632#issuecomment-1099822944","issue_url":"https://api.github.com/repos/apache/ratis/issues/632","id":1099822944,"node_id":"IC_kwDOBMxbGc5Bjfdg","user":{"login":"SpriCoder","id":46039728,"node_id":"MDQ6VXNlcjQ2MDM5NzI4","avatar_url":"https://avatars.githubusercontent.com/u/46039728?v=4","gravatar_id":"","url":"https://api.github.com/users/SpriCoder","html_url":"https://github.com/SpriCoder","followers_url":"https://api.github.com/users/SpriCoder/followers","following_url":"https://api.github.com/users/SpriCoder/following{/other_user}","gists_url":"https://api.github.com/users/SpriCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/SpriCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SpriCoder/subscriptions","organizations_url":"https://api.github.com/users/SpriCoder/orgs","repos_url":"https://api.github.com/users/SpriCoder/repos","events_url":"https://api.github.com/users/SpriCoder/events{/privacy}","received_events_url":"https://api.github.com/users/SpriCoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-15T03:43:54Z","updated_at":"2022-04-15T03:43:54Z","author_association":"CONTRIBUTOR","body":"@szetszwo PTAL!","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1099822944/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1099931442","html_url":"https://github.com/apache/ratis/pull/632#issuecomment-1099931442","issue_url":"https://api.github.com/repos/apache/ratis/issues/632","id":1099931442,"node_id":"IC_kwDOBMxbGc5Bj58y","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-15T07:36:14Z","updated_at":"2022-04-15T07:36:14Z","author_association":"CONTRIBUTOR","body":"@SpriCoder , TestRaftLogMetrics failed in a few re-runs. Could you take a look?  See https://github.com/apache/ratis/runs/6035048607?check_suite_focus=true#step:5:511","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1099931442/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1099936537","html_url":"https://github.com/apache/ratis/pull/632#issuecomment-1099936537","issue_url":"https://api.github.com/repos/apache/ratis/issues/632","id":1099936537,"node_id":"IC_kwDOBMxbGc5Bj7MZ","user":{"login":"SpriCoder","id":46039728,"node_id":"MDQ6VXNlcjQ2MDM5NzI4","avatar_url":"https://avatars.githubusercontent.com/u/46039728?v=4","gravatar_id":"","url":"https://api.github.com/users/SpriCoder","html_url":"https://github.com/SpriCoder","followers_url":"https://api.github.com/users/SpriCoder/followers","following_url":"https://api.github.com/users/SpriCoder/following{/other_user}","gists_url":"https://api.github.com/users/SpriCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/SpriCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SpriCoder/subscriptions","organizations_url":"https://api.github.com/users/SpriCoder/orgs","repos_url":"https://api.github.com/users/SpriCoder/repos","events_url":"https://api.github.com/users/SpriCoder/events{/privacy}","received_events_url":"https://api.github.com/users/SpriCoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-15T07:46:35Z","updated_at":"2022-04-15T07:46:35Z","author_association":"CONTRIBUTOR","body":"@szetszwo I have already find the reason, that is the implementation of DefaultObjectNameFactory in dropwizard are different between 3.2.5 and 4.2.7. So, I will implement RatisObjectNameFactory.class to compatible with pre-version of ratis.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1099936537/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1099951403","html_url":"https://github.com/apache/ratis/pull/632#issuecomment-1099951403","issue_url":"https://api.github.com/repos/apache/ratis/issues/632","id":1099951403,"node_id":"IC_kwDOBMxbGc5Bj-0r","user":{"login":"SpriCoder","id":46039728,"node_id":"MDQ6VXNlcjQ2MDM5NzI4","avatar_url":"https://avatars.githubusercontent.com/u/46039728?v=4","gravatar_id":"","url":"https://api.github.com/users/SpriCoder","html_url":"https://github.com/SpriCoder","followers_url":"https://api.github.com/users/SpriCoder/followers","following_url":"https://api.github.com/users/SpriCoder/following{/other_user}","gists_url":"https://api.github.com/users/SpriCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/SpriCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SpriCoder/subscriptions","organizations_url":"https://api.github.com/users/SpriCoder/orgs","repos_url":"https://api.github.com/users/SpriCoder/repos","events_url":"https://api.github.com/users/SpriCoder/events{/privacy}","received_events_url":"https://api.github.com/users/SpriCoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-15T08:12:55Z","updated_at":"2022-04-15T08:12:55Z","author_association":"CONTRIBUTOR","body":"@szetszwo Thanks for your time! I have already fix naming problem.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1099951403/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1100112244","html_url":"https://github.com/apache/ratis/pull/633#issuecomment-1100112244","issue_url":"https://api.github.com/repos/apache/ratis/issues/633","id":1100112244,"node_id":"IC_kwDOBMxbGc5BkmF0","user":{"login":"codings-dan","id":26144703,"node_id":"MDQ6VXNlcjI2MTQ0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/26144703?v=4","gravatar_id":"","url":"https://api.github.com/users/codings-dan","html_url":"https://github.com/codings-dan","followers_url":"https://api.github.com/users/codings-dan/followers","following_url":"https://api.github.com/users/codings-dan/following{/other_user}","gists_url":"https://api.github.com/users/codings-dan/gists{/gist_id}","starred_url":"https://api.github.com/users/codings-dan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codings-dan/subscriptions","organizations_url":"https://api.github.com/users/codings-dan/orgs","repos_url":"https://api.github.com/users/codings-dan/repos","events_url":"https://api.github.com/users/codings-dan/events{/privacy}","received_events_url":"https://api.github.com/users/codings-dan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-15T13:30:58Z","updated_at":"2022-04-15T13:30:58Z","author_association":"CONTRIBUTOR","body":"@szetszwo Can you help review this patch, thanks!","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1100112244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1101137517","html_url":"https://github.com/apache/ratis/pull/632#issuecomment-1101137517","issue_url":"https://api.github.com/repos/apache/ratis/issues/632","id":1101137517,"node_id":"IC_kwDOBMxbGc5BogZt","user":{"login":"SpriCoder","id":46039728,"node_id":"MDQ6VXNlcjQ2MDM5NzI4","avatar_url":"https://avatars.githubusercontent.com/u/46039728?v=4","gravatar_id":"","url":"https://api.github.com/users/SpriCoder","html_url":"https://github.com/SpriCoder","followers_url":"https://api.github.com/users/SpriCoder/followers","following_url":"https://api.github.com/users/SpriCoder/following{/other_user}","gists_url":"https://api.github.com/users/SpriCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/SpriCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SpriCoder/subscriptions","organizations_url":"https://api.github.com/users/SpriCoder/orgs","repos_url":"https://api.github.com/users/SpriCoder/repos","events_url":"https://api.github.com/users/SpriCoder/events{/privacy}","received_events_url":"https://api.github.com/users/SpriCoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-18T06:24:49Z","updated_at":"2022-04-18T06:24:49Z","author_association":"CONTRIBUTOR","body":"@szetszwo I have already checked CI, it seems like there are some test out of time, can you take a look?","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1101137517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1101337202","html_url":"https://github.com/apache/ratis/pull/632#issuecomment-1101337202","issue_url":"https://api.github.com/repos/apache/ratis/issues/632","id":1101337202,"node_id":"IC_kwDOBMxbGc5BpRJy","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-18T11:43:38Z","updated_at":"2022-04-18T11:43:38Z","author_association":"CONTRIBUTOR","body":"@SpriCoder , thanks for update.  Just have started re-running the failed jobs.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1101337202/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1102968682","html_url":"https://github.com/apache/ratis/pull/634#issuecomment-1102968682","issue_url":"https://api.github.com/repos/apache/ratis/issues/634","id":1102968682,"node_id":"IC_kwDOBMxbGc5Bvfdq","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-19T18:41:04Z","updated_at":"2022-04-19T18:41:04Z","author_association":"CONTRIBUTOR","body":"This also fix a few warnings shown in IntelliJ.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1102968682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1103700930","html_url":"https://github.com/apache/ratis/pull/632#issuecomment-1103700930","issue_url":"https://api.github.com/repos/apache/ratis/issues/632","id":1103700930,"node_id":"IC_kwDOBMxbGc5BySPC","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-20T09:31:59Z","updated_at":"2022-04-20T09:31:59Z","author_association":"CONTRIBUTOR","body":"@SpriCoder , TestLeaderElectionMetrics.testOnLeaderElectionCompletion failed again.  Could you take a look?","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1103700930/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1103706988","html_url":"https://github.com/apache/ratis/pull/632#issuecomment-1103706988","issue_url":"https://api.github.com/repos/apache/ratis/issues/632","id":1103706988,"node_id":"IC_kwDOBMxbGc5ByTts","user":{"login":"SpriCoder","id":46039728,"node_id":"MDQ6VXNlcjQ2MDM5NzI4","avatar_url":"https://avatars.githubusercontent.com/u/46039728?v=4","gravatar_id":"","url":"https://api.github.com/users/SpriCoder","html_url":"https://github.com/SpriCoder","followers_url":"https://api.github.com/users/SpriCoder/followers","following_url":"https://api.github.com/users/SpriCoder/following{/other_user}","gists_url":"https://api.github.com/users/SpriCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/SpriCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SpriCoder/subscriptions","organizations_url":"https://api.github.com/users/SpriCoder/orgs","repos_url":"https://api.github.com/users/SpriCoder/repos","events_url":"https://api.github.com/users/SpriCoder/events{/privacy}","received_events_url":"https://api.github.com/users/SpriCoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-20T09:36:26Z","updated_at":"2022-04-20T09:36:26Z","author_association":"CONTRIBUTOR","body":"@szetszwo I run this test locally and have passed in ten times, so can you help me to rerun this test?","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1103706988/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1103862336","html_url":"https://github.com/apache/ratis/pull/632#issuecomment-1103862336","issue_url":"https://api.github.com/repos/apache/ratis/issues/632","id":1103862336,"node_id":"IC_kwDOBMxbGc5By5pA","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-20T12:14:46Z","updated_at":"2022-04-20T12:14:46Z","author_association":"CONTRIBUTOR","body":"@SpriCoder , sure, let's try again.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1103862336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1103880602","html_url":"https://github.com/apache/ratis/pull/632#issuecomment-1103880602","issue_url":"https://api.github.com/repos/apache/ratis/issues/632","id":1103880602,"node_id":"IC_kwDOBMxbGc5By-Ga","user":{"login":"SpriCoder","id":46039728,"node_id":"MDQ6VXNlcjQ2MDM5NzI4","avatar_url":"https://avatars.githubusercontent.com/u/46039728?v=4","gravatar_id":"","url":"https://api.github.com/users/SpriCoder","html_url":"https://github.com/SpriCoder","followers_url":"https://api.github.com/users/SpriCoder/followers","following_url":"https://api.github.com/users/SpriCoder/following{/other_user}","gists_url":"https://api.github.com/users/SpriCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/SpriCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SpriCoder/subscriptions","organizations_url":"https://api.github.com/users/SpriCoder/orgs","repos_url":"https://api.github.com/users/SpriCoder/repos","events_url":"https://api.github.com/users/SpriCoder/events{/privacy}","received_events_url":"https://api.github.com/users/SpriCoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-20T12:34:46Z","updated_at":"2022-04-20T12:34:46Z","author_association":"CONTRIBUTOR","body":"@szetszwo , it's sad that the unit test is failed again. I need your help. What I am confused is that whether the LAST_LEADER_ELECTION_ELAPSED_TIME gauge can be zero?\r\n<img width=\"1138\" alt=\"image\" src=\"https://user-images.githubusercontent.com/46039728/164231366-80ecc005-1b95-46ca-93bc-46679c15bc2a.png\">\r\n","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1103880602/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1105324755","html_url":"https://github.com/apache/ratis/pull/632#issuecomment-1105324755","issue_url":"https://api.github.com/repos/apache/ratis/issues/632","id":1105324755,"node_id":"IC_kwDOBMxbGc5B4erT","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-21T14:49:55Z","updated_at":"2022-04-21T14:49:55Z","author_association":"CONTRIBUTOR","body":"@SpriCoder , not sure. Let's print out the map and the value as below?\r\n```\r\ndiff --git a/ratis-server/src/test/java/org/apache/ratis/server/metrics/TestLeaderElectionMetrics.java b/ratis-server/src/test/java/org/apache/ratis/server/metrics/TestLeaderElectionMetrics.java\r\nindex 62707845..af000f3a 100644\r\n--- a/ratis-server/src/test/java/org/apache/ratis/server/metrics/TestLeaderElectionMetrics.java\r\n+++ b/ratis-server/src/test/java/org/apache/ratis/server/metrics/TestLeaderElectionMetrics.java\r\n@@ -23,6 +23,8 @@ import static org.apache.ratis.server.metrics.LeaderElectionMetrics.LEADER_ELECT\r\n import static org.junit.Assert.assertEquals;\r\n import static org.junit.Assert.assertTrue;\r\n \r\n+import com.codahale.metrics.Gauge;\r\n+import org.apache.ratis.BaseTest;\r\n import org.apache.ratis.metrics.RatisMetricRegistry;\r\n import org.apache.ratis.protocol.RaftGroupId;\r\n import org.apache.ratis.protocol.RaftGroupMemberId;\r\n@@ -30,10 +32,12 @@ import org.apache.ratis.protocol.RaftPeerId;\r\n import org.junit.BeforeClass;\r\n import org.junit.Test;\r\n \r\n+import java.util.SortedMap;\r\n+\r\n /**\r\n  * Test for LeaderElectionMetrics.\r\n  */\r\n-public class TestLeaderElectionMetrics {\r\n+public class TestLeaderElectionMetrics extends BaseTest {\r\n \r\n   private static LeaderElectionMetrics leaderElectionMetrics;\r\n   private static RatisMetricRegistry ratisMetricRegistry;\r\n@@ -50,9 +54,11 @@ public class TestLeaderElectionMetrics {\r\n   @Test\r\n   public void testOnLeaderElectionCompletion() throws Exception {\r\n     leaderElectionMetrics.onNewLeaderElectionCompletion();\r\n-    Long leaderElectionLatency = (Long) ratisMetricRegistry.getGauges((s, metric) ->\r\n-        s.contains(LAST_LEADER_ELECTION_ELAPSED_TIME)).values().iterator().next().getValue();\r\n-    assertTrue(leaderElectionLatency > 0L);\r\n+    final SortedMap<String, Gauge> gauges = ratisMetricRegistry.getGauges(\r\n+        (s, metric) -> s.contains(LAST_LEADER_ELECTION_ELAPSED_TIME));\r\n+    LOG.info(\"{} gauges: {}\", LAST_LEADER_ELECTION_ELAPSED_TIME, gauges);\r\n+    final Long leaderElectionLatency = (Long)gauges.values().iterator().next().getValue();\r\n+    assertTrue(\"leaderElectionLatency = \" + leaderElectionLatency, leaderElectionLatency > 0L);\r\n   }\r\n \r\n   @Test\r\n```","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1105324755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1105909912","html_url":"https://github.com/apache/ratis/pull/632#issuecomment-1105909912","issue_url":"https://api.github.com/repos/apache/ratis/issues/632","id":1105909912,"node_id":"IC_kwDOBMxbGc5B6tiY","user":{"login":"SpriCoder","id":46039728,"node_id":"MDQ6VXNlcjQ2MDM5NzI4","avatar_url":"https://avatars.githubusercontent.com/u/46039728?v=4","gravatar_id":"","url":"https://api.github.com/users/SpriCoder","html_url":"https://github.com/SpriCoder","followers_url":"https://api.github.com/users/SpriCoder/followers","following_url":"https://api.github.com/users/SpriCoder/following{/other_user}","gists_url":"https://api.github.com/users/SpriCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/SpriCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SpriCoder/subscriptions","organizations_url":"https://api.github.com/users/SpriCoder/orgs","repos_url":"https://api.github.com/users/SpriCoder/repos","events_url":"https://api.github.com/users/SpriCoder/events{/privacy}","received_events_url":"https://api.github.com/users/SpriCoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-22T01:19:23Z","updated_at":"2022-04-22T01:19:23Z","author_association":"CONTRIBUTOR","body":"@szetszwo Thanks for your suggestion, I have already modified. ","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1105909912/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1106438275","html_url":"https://github.com/apache/ratis/pull/633#issuecomment-1106438275","issue_url":"https://api.github.com/repos/apache/ratis/issues/633","id":1106438275,"node_id":"IC_kwDOBMxbGc5B8uiD","user":{"login":"codings-dan","id":26144703,"node_id":"MDQ6VXNlcjI2MTQ0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/26144703?v=4","gravatar_id":"","url":"https://api.github.com/users/codings-dan","html_url":"https://github.com/codings-dan","followers_url":"https://api.github.com/users/codings-dan/followers","following_url":"https://api.github.com/users/codings-dan/following{/other_user}","gists_url":"https://api.github.com/users/codings-dan/gists{/gist_id}","starred_url":"https://api.github.com/users/codings-dan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codings-dan/subscriptions","organizations_url":"https://api.github.com/users/codings-dan/orgs","repos_url":"https://api.github.com/users/codings-dan/repos","events_url":"https://api.github.com/users/codings-dan/events{/privacy}","received_events_url":"https://api.github.com/users/codings-dan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-22T11:52:11Z","updated_at":"2022-04-22T11:52:11Z","author_association":"CONTRIBUTOR","body":"> One way is to pass a PrintStream to RatisShell for creating a Context\r\n\r\nSince `loadCommands` was a static method, the change according to the patch you left will generate nullPointerException. I changed some code according to your suggestion, PTAL again, thank you!","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1106438275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1106645986","html_url":"https://github.com/apache/ratis/pull/632#issuecomment-1106645986","issue_url":"https://api.github.com/repos/apache/ratis/issues/632","id":1106645986,"node_id":"IC_kwDOBMxbGc5B9hPi","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-22T15:52:28Z","updated_at":"2022-04-22T15:52:28Z","author_association":"CONTRIBUTOR","body":"@SpriCoder , all the tests have passed now.  Let's document the incompatibility of this change.  I have posted some questions in https://issues.apache.org/jira/browse/RATIS-1391 , please take a look.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1106645986/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1107465194","html_url":"https://github.com/apache/ratis/pull/632#issuecomment-1107465194","issue_url":"https://api.github.com/repos/apache/ratis/issues/632","id":1107465194,"node_id":"IC_kwDOBMxbGc5CApPq","user":{"login":"SpriCoder","id":46039728,"node_id":"MDQ6VXNlcjQ2MDM5NzI4","avatar_url":"https://avatars.githubusercontent.com/u/46039728?v=4","gravatar_id":"","url":"https://api.github.com/users/SpriCoder","html_url":"https://github.com/SpriCoder","followers_url":"https://api.github.com/users/SpriCoder/followers","following_url":"https://api.github.com/users/SpriCoder/following{/other_user}","gists_url":"https://api.github.com/users/SpriCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/SpriCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SpriCoder/subscriptions","organizations_url":"https://api.github.com/users/SpriCoder/orgs","repos_url":"https://api.github.com/users/SpriCoder/repos","events_url":"https://api.github.com/users/SpriCoder/events{/privacy}","received_events_url":"https://api.github.com/users/SpriCoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-23T12:39:41Z","updated_at":"2022-04-23T12:39:41Z","author_association":"CONTRIBUTOR","body":"@szetszwo Great! So is there anything to do before merge?","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1107465194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1108324663","html_url":"https://github.com/apache/ratis/pull/636#issuecomment-1108324663","issue_url":"https://api.github.com/repos/apache/ratis/issues/636","id":1108324663,"node_id":"IC_kwDOBMxbGc5CD7E3","user":{"login":"codings-dan","id":26144703,"node_id":"MDQ6VXNlcjI2MTQ0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/26144703?v=4","gravatar_id":"","url":"https://api.github.com/users/codings-dan","html_url":"https://github.com/codings-dan","followers_url":"https://api.github.com/users/codings-dan/followers","following_url":"https://api.github.com/users/codings-dan/following{/other_user}","gists_url":"https://api.github.com/users/codings-dan/gists{/gist_id}","starred_url":"https://api.github.com/users/codings-dan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codings-dan/subscriptions","organizations_url":"https://api.github.com/users/codings-dan/orgs","repos_url":"https://api.github.com/users/codings-dan/repos","events_url":"https://api.github.com/users/codings-dan/events{/privacy}","received_events_url":"https://api.github.com/users/codings-dan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-25T09:32:47Z","updated_at":"2022-04-25T09:32:59Z","author_association":"CONTRIBUTOR","body":"@szetszwo Can you help review this patch, thanks!","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1108324663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1108623245","html_url":"https://github.com/apache/ratis/pull/635#issuecomment-1108623245","issue_url":"https://api.github.com/repos/apache/ratis/issues/635","id":1108623245,"node_id":"IC_kwDOBMxbGc5CFD-N","user":{"login":"guohao-rosicky","id":5122636,"node_id":"MDQ6VXNlcjUxMjI2MzY=","avatar_url":"https://avatars.githubusercontent.com/u/5122636?v=4","gravatar_id":"","url":"https://api.github.com/users/guohao-rosicky","html_url":"https://github.com/guohao-rosicky","followers_url":"https://api.github.com/users/guohao-rosicky/followers","following_url":"https://api.github.com/users/guohao-rosicky/following{/other_user}","gists_url":"https://api.github.com/users/guohao-rosicky/gists{/gist_id}","starred_url":"https://api.github.com/users/guohao-rosicky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guohao-rosicky/subscriptions","organizations_url":"https://api.github.com/users/guohao-rosicky/orgs","repos_url":"https://api.github.com/users/guohao-rosicky/repos","events_url":"https://api.github.com/users/guohao-rosicky/events{/privacy}","received_events_url":"https://api.github.com/users/guohao-rosicky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-25T14:06:03Z","updated_at":"2022-04-25T14:06:03Z","author_association":"CONTRIBUTOR","body":"@szetszwo Thank you for doing this work. It's very helpful for stream performance. I'll test it.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1108623245/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1109471477","html_url":"https://github.com/apache/ratis/pull/634#issuecomment-1109471477","issue_url":"https://api.github.com/repos/apache/ratis/issues/634","id":1109471477,"node_id":"IC_kwDOBMxbGc5CITD1","user":{"login":"lokeshj1703","id":9255455,"node_id":"MDQ6VXNlcjkyNTU0NTU=","avatar_url":"https://avatars.githubusercontent.com/u/9255455?v=4","gravatar_id":"","url":"https://api.github.com/users/lokeshj1703","html_url":"https://github.com/lokeshj1703","followers_url":"https://api.github.com/users/lokeshj1703/followers","following_url":"https://api.github.com/users/lokeshj1703/following{/other_user}","gists_url":"https://api.github.com/users/lokeshj1703/gists{/gist_id}","starred_url":"https://api.github.com/users/lokeshj1703/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lokeshj1703/subscriptions","organizations_url":"https://api.github.com/users/lokeshj1703/orgs","repos_url":"https://api.github.com/users/lokeshj1703/repos","events_url":"https://api.github.com/users/lokeshj1703/events{/privacy}","received_events_url":"https://api.github.com/users/lokeshj1703/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-26T07:57:06Z","updated_at":"2022-04-26T07:57:06Z","author_association":"CONTRIBUTOR","body":"@szetszwo Thanks for the contribution! I have committed the PR to master branch.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1109471477/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1109578018","html_url":"https://github.com/apache/ratis/pull/634#issuecomment-1109578018","issue_url":"https://api.github.com/repos/apache/ratis/issues/634","id":1109578018,"node_id":"IC_kwDOBMxbGc5CItEi","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-26T09:38:13Z","updated_at":"2022-04-26T09:38:13Z","author_association":"CONTRIBUTOR","body":"@lokeshj1703 , thanks a lot for reviewing and merging this!","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1109578018/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1109633652","html_url":"https://github.com/apache/ratis/pull/635#issuecomment-1109633652","issue_url":"https://api.github.com/repos/apache/ratis/issues/635","id":1109633652,"node_id":"IC_kwDOBMxbGc5CI6p0","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-26T10:36:04Z","updated_at":"2022-04-26T10:36:04Z","author_association":"CONTRIBUTOR","body":"@guohao-rosicky , thanks a lot!","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1109633652/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1112030815","html_url":"https://github.com/apache/ratis/pull/631#issuecomment-1112030815","issue_url":"https://api.github.com/repos/apache/ratis/issues/631","id":1112030815,"node_id":"IC_kwDOBMxbGc5CSD5f","user":{"login":"lokeshj1703","id":9255455,"node_id":"MDQ6VXNlcjkyNTU0NTU=","avatar_url":"https://avatars.githubusercontent.com/u/9255455?v=4","gravatar_id":"","url":"https://api.github.com/users/lokeshj1703","html_url":"https://github.com/lokeshj1703","followers_url":"https://api.github.com/users/lokeshj1703/followers","following_url":"https://api.github.com/users/lokeshj1703/following{/other_user}","gists_url":"https://api.github.com/users/lokeshj1703/gists{/gist_id}","starred_url":"https://api.github.com/users/lokeshj1703/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lokeshj1703/subscriptions","organizations_url":"https://api.github.com/users/lokeshj1703/orgs","repos_url":"https://api.github.com/users/lokeshj1703/repos","events_url":"https://api.github.com/users/lokeshj1703/events{/privacy}","received_events_url":"https://api.github.com/users/lokeshj1703/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-28T10:16:02Z","updated_at":"2022-04-28T10:16:02Z","author_association":"CONTRIBUTOR","body":"@szetszwo Thanks for the contribution! I have committed the PR to master branch.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1112030815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1112037216","html_url":"https://github.com/apache/ratis/pull/631#issuecomment-1112037216","issue_url":"https://api.github.com/repos/apache/ratis/issues/631","id":1112037216,"node_id":"IC_kwDOBMxbGc5CSFdg","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-28T10:22:21Z","updated_at":"2022-04-28T10:22:21Z","author_association":"CONTRIBUTOR","body":"@lokeshj1703 , thanks a lot for reviewing and merging this!","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1112037216/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1112157461","html_url":"https://github.com/apache/ratis/pull/637#issuecomment-1112157461","issue_url":"https://api.github.com/repos/apache/ratis/issues/637","id":1112157461,"node_id":"IC_kwDOBMxbGc5CSi0V","user":{"login":"codings-dan","id":26144703,"node_id":"MDQ6VXNlcjI2MTQ0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/26144703?v=4","gravatar_id":"","url":"https://api.github.com/users/codings-dan","html_url":"https://github.com/codings-dan","followers_url":"https://api.github.com/users/codings-dan/followers","following_url":"https://api.github.com/users/codings-dan/following{/other_user}","gists_url":"https://api.github.com/users/codings-dan/gists{/gist_id}","starred_url":"https://api.github.com/users/codings-dan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codings-dan/subscriptions","organizations_url":"https://api.github.com/users/codings-dan/orgs","repos_url":"https://api.github.com/users/codings-dan/repos","events_url":"https://api.github.com/users/codings-dan/events{/privacy}","received_events_url":"https://api.github.com/users/codings-dan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-28T12:43:28Z","updated_at":"2022-04-28T12:43:28Z","author_association":"CONTRIBUTOR","body":"@szetszwo Can you help review this patch, thanks!","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1112157461/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1115718709","html_url":"https://github.com/apache/ratis/pull/637#issuecomment-1115718709","issue_url":"https://api.github.com/repos/apache/ratis/issues/637","id":1115718709,"node_id":"IC_kwDOBMxbGc5CgIQ1","user":{"login":"codings-dan","id":26144703,"node_id":"MDQ6VXNlcjI2MTQ0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/26144703?v=4","gravatar_id":"","url":"https://api.github.com/users/codings-dan","html_url":"https://github.com/codings-dan","followers_url":"https://api.github.com/users/codings-dan/followers","following_url":"https://api.github.com/users/codings-dan/following{/other_user}","gists_url":"https://api.github.com/users/codings-dan/gists{/gist_id}","starred_url":"https://api.github.com/users/codings-dan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codings-dan/subscriptions","organizations_url":"https://api.github.com/users/codings-dan/orgs","repos_url":"https://api.github.com/users/codings-dan/repos","events_url":"https://api.github.com/users/codings-dan/events{/privacy}","received_events_url":"https://api.github.com/users/codings-dan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T03:55:42Z","updated_at":"2022-05-03T03:55:42Z","author_association":"CONTRIBUTOR","body":"@szetszwo Thanks for helping review the patch, PTAL agian, thank you!","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1115718709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1115719496","html_url":"https://github.com/apache/ratis/pull/638#issuecomment-1115719496","issue_url":"https://api.github.com/repos/apache/ratis/issues/638","id":1115719496,"node_id":"IC_kwDOBMxbGc5CgIdI","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T03:58:39Z","updated_at":"2022-05-03T03:58:39Z","author_association":"CONTRIBUTOR","body":"@inomp3042 , is there a JIRA for the pull request?  If not, could you create one?  I am about to merge this but the JIRA number is missing.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1115719496/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1115742593","html_url":"https://github.com/apache/ratis/pull/638#issuecomment-1115742593","issue_url":"https://api.github.com/repos/apache/ratis/issues/638","id":1115742593,"node_id":"IC_kwDOBMxbGc5CgOGB","user":{"login":"inomp3042","id":35528841,"node_id":"MDQ6VXNlcjM1NTI4ODQx","avatar_url":"https://avatars.githubusercontent.com/u/35528841?v=4","gravatar_id":"","url":"https://api.github.com/users/inomp3042","html_url":"https://github.com/inomp3042","followers_url":"https://api.github.com/users/inomp3042/followers","following_url":"https://api.github.com/users/inomp3042/following{/other_user}","gists_url":"https://api.github.com/users/inomp3042/gists{/gist_id}","starred_url":"https://api.github.com/users/inomp3042/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/inomp3042/subscriptions","organizations_url":"https://api.github.com/users/inomp3042/orgs","repos_url":"https://api.github.com/users/inomp3042/repos","events_url":"https://api.github.com/users/inomp3042/events{/privacy}","received_events_url":"https://api.github.com/users/inomp3042/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T05:04:33Z","updated_at":"2022-05-03T05:04:33Z","author_association":"CONTRIBUTOR","body":"No, let me create a new one for this PR.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1115742593/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1115792869","html_url":"https://github.com/apache/ratis/pull/638#issuecomment-1115792869","issue_url":"https://api.github.com/repos/apache/ratis/issues/638","id":1115792869,"node_id":"IC_kwDOBMxbGc5CgaXl","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T06:57:56Z","updated_at":"2022-05-03T06:57:56Z","author_association":"CONTRIBUTOR","body":"@inomp3042 , great.  Thanks!","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1115792869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1117144397","html_url":"https://github.com/apache/ratis/pull/632#issuecomment-1117144397","issue_url":"https://api.github.com/repos/apache/ratis/issues/632","id":1117144397,"node_id":"IC_kwDOBMxbGc5ClkVN","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T10:13:30Z","updated_at":"2022-05-04T10:13:30Z","author_association":"CONTRIBUTOR","body":"@SpriCoder , unfortunately, there is no response to our questions from the mailing list.  We are currently preparing the the 2.3.0 release.  Let's merge this once the 2.3.0 has been released.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1117144397/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1118092808","html_url":"https://github.com/apache/ratis/pull/637#issuecomment-1118092808","issue_url":"https://api.github.com/repos/apache/ratis/issues/637","id":1118092808,"node_id":"IC_kwDOBMxbGc5CpL4I","user":{"login":"codings-dan","id":26144703,"node_id":"MDQ6VXNlcjI2MTQ0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/26144703?v=4","gravatar_id":"","url":"https://api.github.com/users/codings-dan","html_url":"https://github.com/codings-dan","followers_url":"https://api.github.com/users/codings-dan/followers","following_url":"https://api.github.com/users/codings-dan/following{/other_user}","gists_url":"https://api.github.com/users/codings-dan/gists{/gist_id}","starred_url":"https://api.github.com/users/codings-dan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codings-dan/subscriptions","organizations_url":"https://api.github.com/users/codings-dan/orgs","repos_url":"https://api.github.com/users/codings-dan/repos","events_url":"https://api.github.com/users/codings-dan/events{/privacy}","received_events_url":"https://api.github.com/users/codings-dan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T01:55:51Z","updated_at":"2022-05-05T01:55:51Z","author_association":"CONTRIBUTOR","body":"@szetszwo PTAL, thank you!","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1118092808/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1118790043","html_url":"https://github.com/apache/ratis/pull/639#issuecomment-1118790043","issue_url":"https://api.github.com/repos/apache/ratis/issues/639","id":1118790043,"node_id":"IC_kwDOBMxbGc5Cr2Gb","user":{"login":"adoroszlai","id":6454655,"node_id":"MDQ6VXNlcjY0NTQ2NTU=","avatar_url":"https://avatars.githubusercontent.com/u/6454655?v=4","gravatar_id":"","url":"https://api.github.com/users/adoroszlai","html_url":"https://github.com/adoroszlai","followers_url":"https://api.github.com/users/adoroszlai/followers","following_url":"https://api.github.com/users/adoroszlai/following{/other_user}","gists_url":"https://api.github.com/users/adoroszlai/gists{/gist_id}","starred_url":"https://api.github.com/users/adoroszlai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adoroszlai/subscriptions","organizations_url":"https://api.github.com/users/adoroszlai/orgs","repos_url":"https://api.github.com/users/adoroszlai/repos","events_url":"https://api.github.com/users/adoroszlai/events{/privacy}","received_events_url":"https://api.github.com/users/adoroszlai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T16:37:19Z","updated_at":"2022-05-05T16:37:19Z","author_association":"CONTRIBUTOR","body":"Thanks @szetszwo for the review.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1118790043/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1119241783","html_url":"https://github.com/apache/ratis/pull/637#issuecomment-1119241783","issue_url":"https://api.github.com/repos/apache/ratis/issues/637","id":1119241783,"node_id":"IC_kwDOBMxbGc5CtkY3","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-06T04:06:39Z","updated_at":"2022-05-06T04:06:39Z","author_association":"CONTRIBUTOR","body":"Since this is a pure doc change, I will merge this without waiting the tests.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1119241783/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1120132208","html_url":"https://github.com/apache/ratis/pull/640#issuecomment-1120132208","issue_url":"https://api.github.com/repos/apache/ratis/issues/640","id":1120132208,"node_id":"IC_kwDOBMxbGc5Cw9xw","user":{"login":"OneSizeFitsQuorum","id":32640567,"node_id":"MDQ6VXNlcjMyNjQwNTY3","avatar_url":"https://avatars.githubusercontent.com/u/32640567?v=4","gravatar_id":"","url":"https://api.github.com/users/OneSizeFitsQuorum","html_url":"https://github.com/OneSizeFitsQuorum","followers_url":"https://api.github.com/users/OneSizeFitsQuorum/followers","following_url":"https://api.github.com/users/OneSizeFitsQuorum/following{/other_user}","gists_url":"https://api.github.com/users/OneSizeFitsQuorum/gists{/gist_id}","starred_url":"https://api.github.com/users/OneSizeFitsQuorum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OneSizeFitsQuorum/subscriptions","organizations_url":"https://api.github.com/users/OneSizeFitsQuorum/orgs","repos_url":"https://api.github.com/users/OneSizeFitsQuorum/repos","events_url":"https://api.github.com/users/OneSizeFitsQuorum/events{/privacy}","received_events_url":"https://api.github.com/users/OneSizeFitsQuorum/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-07T04:35:20Z","updated_at":"2022-05-07T04:35:20Z","author_association":"CONTRIBUTOR","body":"@szetszwo PTAL","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1120132208/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1120276414","html_url":"https://github.com/apache/ratis/pull/641#issuecomment-1120276414","issue_url":"https://api.github.com/repos/apache/ratis/issues/641","id":1120276414,"node_id":"IC_kwDOBMxbGc5Cxg--","user":{"login":"adoroszlai","id":6454655,"node_id":"MDQ6VXNlcjY0NTQ2NTU=","avatar_url":"https://avatars.githubusercontent.com/u/6454655?v=4","gravatar_id":"","url":"https://api.github.com/users/adoroszlai","html_url":"https://github.com/adoroszlai","followers_url":"https://api.github.com/users/adoroszlai/followers","following_url":"https://api.github.com/users/adoroszlai/following{/other_user}","gists_url":"https://api.github.com/users/adoroszlai/gists{/gist_id}","starred_url":"https://api.github.com/users/adoroszlai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adoroszlai/subscriptions","organizations_url":"https://api.github.com/users/adoroszlai/orgs","repos_url":"https://api.github.com/users/adoroszlai/repos","events_url":"https://api.github.com/users/adoroszlai/events{/privacy}","received_events_url":"https://api.github.com/users/adoroszlai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-07T19:51:20Z","updated_at":"2022-05-07T19:51:20Z","author_association":"CONTRIBUTOR","body":"Thanks @szetszwo for reviewing and committing it.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1120276414/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1120376189","html_url":"https://github.com/apache/ratis/pull/642#issuecomment-1120376189","issue_url":"https://api.github.com/repos/apache/ratis/issues/642","id":1120376189,"node_id":"IC_kwDOBMxbGc5Cx5V9","user":{"login":"adoroszlai","id":6454655,"node_id":"MDQ6VXNlcjY0NTQ2NTU=","avatar_url":"https://avatars.githubusercontent.com/u/6454655?v=4","gravatar_id":"","url":"https://api.github.com/users/adoroszlai","html_url":"https://github.com/adoroszlai","followers_url":"https://api.github.com/users/adoroszlai/followers","following_url":"https://api.github.com/users/adoroszlai/following{/other_user}","gists_url":"https://api.github.com/users/adoroszlai/gists{/gist_id}","starred_url":"https://api.github.com/users/adoroszlai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adoroszlai/subscriptions","organizations_url":"https://api.github.com/users/adoroszlai/orgs","repos_url":"https://api.github.com/users/adoroszlai/repos","events_url":"https://api.github.com/users/adoroszlai/events{/privacy}","received_events_url":"https://api.github.com/users/adoroszlai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-08T08:43:37Z","updated_at":"2022-05-08T08:43:37Z","author_association":"CONTRIBUTOR","body":"Thanks @szetszwo for the review.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1120376189/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1120420276","html_url":"https://github.com/apache/ratis/pull/642#issuecomment-1120420276","issue_url":"https://api.github.com/repos/apache/ratis/issues/642","id":1120420276,"node_id":"IC_kwDOBMxbGc5CyEG0","user":{"login":"codings-dan","id":26144703,"node_id":"MDQ6VXNlcjI2MTQ0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/26144703?v=4","gravatar_id":"","url":"https://api.github.com/users/codings-dan","html_url":"https://github.com/codings-dan","followers_url":"https://api.github.com/users/codings-dan/followers","following_url":"https://api.github.com/users/codings-dan/following{/other_user}","gists_url":"https://api.github.com/users/codings-dan/gists{/gist_id}","starred_url":"https://api.github.com/users/codings-dan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codings-dan/subscriptions","organizations_url":"https://api.github.com/users/codings-dan/orgs","repos_url":"https://api.github.com/users/codings-dan/repos","events_url":"https://api.github.com/users/codings-dan/events{/privacy}","received_events_url":"https://api.github.com/users/codings-dan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-08T13:34:20Z","updated_at":"2022-05-08T13:34:20Z","author_association":"CONTRIBUTOR","body":"Thanks  @adoroszlai  for adding the ratis-shell source assembly!","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1120420276/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1121261509","html_url":"https://github.com/apache/ratis/pull/643#issuecomment-1121261509","issue_url":"https://api.github.com/repos/apache/ratis/issues/643","id":1121261509,"node_id":"IC_kwDOBMxbGc5C1RfF","user":{"login":"adoroszlai","id":6454655,"node_id":"MDQ6VXNlcjY0NTQ2NTU=","avatar_url":"https://avatars.githubusercontent.com/u/6454655?v=4","gravatar_id":"","url":"https://api.github.com/users/adoroszlai","html_url":"https://github.com/adoroszlai","followers_url":"https://api.github.com/users/adoroszlai/followers","following_url":"https://api.github.com/users/adoroszlai/following{/other_user}","gists_url":"https://api.github.com/users/adoroszlai/gists{/gist_id}","starred_url":"https://api.github.com/users/adoroszlai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adoroszlai/subscriptions","organizations_url":"https://api.github.com/users/adoroszlai/orgs","repos_url":"https://api.github.com/users/adoroszlai/repos","events_url":"https://api.github.com/users/adoroszlai/events{/privacy}","received_events_url":"https://api.github.com/users/adoroszlai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-09T15:36:59Z","updated_at":"2022-05-09T15:36:59Z","author_association":"CONTRIBUTOR","body":"> Note that this patch fixes the problem, but I'm completely not sure if this is the right way to fix it.\r\n\r\n@Xushaohong @szetszwo please take a look","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1121261509/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1121875913","html_url":"https://github.com/apache/ratis/pull/643#issuecomment-1121875913","issue_url":"https://api.github.com/repos/apache/ratis/issues/643","id":1121875913,"node_id":"IC_kwDOBMxbGc5C3nfJ","user":{"login":"Xushaohong","id":10106574,"node_id":"MDQ6VXNlcjEwMTA2NTc0","avatar_url":"https://avatars.githubusercontent.com/u/10106574?v=4","gravatar_id":"","url":"https://api.github.com/users/Xushaohong","html_url":"https://github.com/Xushaohong","followers_url":"https://api.github.com/users/Xushaohong/followers","following_url":"https://api.github.com/users/Xushaohong/following{/other_user}","gists_url":"https://api.github.com/users/Xushaohong/gists{/gist_id}","starred_url":"https://api.github.com/users/Xushaohong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Xushaohong/subscriptions","organizations_url":"https://api.github.com/users/Xushaohong/orgs","repos_url":"https://api.github.com/users/Xushaohong/repos","events_url":"https://api.github.com/users/Xushaohong/events{/privacy}","received_events_url":"https://api.github.com/users/Xushaohong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-10T03:57:47Z","updated_at":"2022-05-10T04:25:42Z","author_association":"CONTRIBUTOR","body":"As SCM uses bootstrap to set up HA, it goes through this branch.\r\n```\r\nif (isFollowerBootstrapping && !follower.hasAttemptedToInstallSnapshot()) {\r\n      // If the follower is bootstrapping and has not yet installed any snapshot from leader, then the follower should\r\n      // be notified to install a snapshot. Every follower should try to install at least one snapshot during\r\n      // bootstrapping, if available.\r\n      LOG.debug(\"{}: follower is bootstrapping, notify to install snapshot to {}.\", this, firstAvailable);\r\n      return firstAvailable;\r\n    }\r\n```\r\nThe leader is newly started and has not truncated the raft log yet. The `firstAvailable` will be 0 here. \r\nSetting the installedSnapshotTermIndex to a normally impossible value -1 here is reasonable.  \r\nBut intuitively installing a snapshot to 0 is strange, maybe we could have an extra certain case check like the previous logic of Chen's code. The leader will inform the next index for the case it has no snapshots. \r\n```\r\nif (isFollowerBootstrapping && !follower.hasAttemptedToInstallSnapshot()) {\r\n\r\n      if (firstAvailable.getIndex() == 0) {\r\n        TermIndex latestTermIndex = TermIndex.valueOf(getServer().getInfo().getCurrentTerm(), leaderNextIndex);\r\n        LOG.info(\"{}: follower is bootstrapping, notify to install snapshot to {}.\", this, latestTermIndex);\r\n        return latestTermIndex;\r\n      }\r\n\r\n      LOG.debug(\"{}: follower is bootstrapping, notify to install snapshot to {}.\", this, firstAvailable);\r\n      return firstAvailable;\r\n    }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1121875913/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1121940958","html_url":"https://github.com/apache/ratis/pull/644#issuecomment-1121940958","issue_url":"https://api.github.com/repos/apache/ratis/issues/644","id":1121940958,"node_id":"IC_kwDOBMxbGc5C33Xe","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-10T05:15:27Z","updated_at":"2022-05-10T05:15:27Z","author_association":"CONTRIBUTOR","body":"@adoroszlai , I understand that it needs extra works to fix problem like RATIS-1576.  Sorry.  Does it worth to build a release for every commit since it will take some time?  Is it possible to run such check only when there are changes in pom.xml files?","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1121940958/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1122004205","html_url":"https://github.com/apache/ratis/pull/643#issuecomment-1122004205","issue_url":"https://api.github.com/repos/apache/ratis/issues/643","id":1122004205,"node_id":"IC_kwDOBMxbGc5C4Gzt","user":{"login":"adoroszlai","id":6454655,"node_id":"MDQ6VXNlcjY0NTQ2NTU=","avatar_url":"https://avatars.githubusercontent.com/u/6454655?v=4","gravatar_id":"","url":"https://api.github.com/users/adoroszlai","html_url":"https://github.com/adoroszlai","followers_url":"https://api.github.com/users/adoroszlai/followers","following_url":"https://api.github.com/users/adoroszlai/following{/other_user}","gists_url":"https://api.github.com/users/adoroszlai/gists{/gist_id}","starred_url":"https://api.github.com/users/adoroszlai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adoroszlai/subscriptions","organizations_url":"https://api.github.com/users/adoroszlai/orgs","repos_url":"https://api.github.com/users/adoroszlai/repos","events_url":"https://api.github.com/users/adoroszlai/events{/privacy}","received_events_url":"https://api.github.com/users/adoroszlai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-10T06:59:59Z","updated_at":"2022-05-10T06:59:59Z","author_association":"CONTRIBUTOR","body":"Thanks @Xushaohong for taking a look.\r\n\r\n> The leader is newly started and has not truncated the raft log yet. The firstAvailable will be 0 here.\r\n\r\nShould it wait until truncation before sending the notifyInstallSnapshot message?\r\n\r\n> installing a snapshot to 0 is strange\r\n\r\nDoes the snapshot with index 0 contain any information?  What about later terms (e.g. `t:5, i:0`)?\r\n\r\nIf it's an empty snapshot, should we short-circuit such snapshot by returning e.g. `ALREADY_INSTALLED`?","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1122004205/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1122035694","html_url":"https://github.com/apache/ratis/pull/643#issuecomment-1122035694","issue_url":"https://api.github.com/repos/apache/ratis/issues/643","id":1122035694,"node_id":"IC_kwDOBMxbGc5C4Ofu","user":{"login":"Xushaohong","id":10106574,"node_id":"MDQ6VXNlcjEwMTA2NTc0","avatar_url":"https://avatars.githubusercontent.com/u/10106574?v=4","gravatar_id":"","url":"https://api.github.com/users/Xushaohong","html_url":"https://github.com/Xushaohong","followers_url":"https://api.github.com/users/Xushaohong/followers","following_url":"https://api.github.com/users/Xushaohong/following{/other_user}","gists_url":"https://api.github.com/users/Xushaohong/gists{/gist_id}","starred_url":"https://api.github.com/users/Xushaohong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Xushaohong/subscriptions","organizations_url":"https://api.github.com/users/Xushaohong/orgs","repos_url":"https://api.github.com/users/Xushaohong/repos","events_url":"https://api.github.com/users/Xushaohong/events{/privacy}","received_events_url":"https://api.github.com/users/Xushaohong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-10T07:35:59Z","updated_at":"2022-05-10T07:35:59Z","author_association":"CONTRIBUTOR","body":"> Thanks @Xushaohong for taking a look.\r\n> \r\n> > The leader is newly started and has not truncated the raft log yet. The firstAvailable will be 0 here.\r\n> \r\n> Should it wait until truncation before sending the notifyInstallSnapshot message?\r\n\r\nI think it no necessary. The original purpose of https://issues.apache.org/jira/browse/RATIS-1390 seems to trigger an immediate snapshot install for a bootstrapped peer. The written prerequisite is ```The leader sends the snapshot only when some or all of the ratis logs have been purged.```  \r\nThe truth is currently it will trigger a snapshot no matter whether the ratis log has been purged.  In my understanding, it's not bad and also makes sense since such a case only happens at the init stage of the cluster.\r\n\r\n\r\n> > installing a snapshot to 0 is strange\r\n> Does the snapshot with index 0 contain any information? What about later terms (e.g. `t:5, i:0`)?\r\n> If it's an empty snapshot, should we short-circuit such snapshot by returning e.g. `ALREADY_INSTALLED`?\r\n\r\nNope.\r\nThe first available index received from the ratis side for OM/SCM/Container is not used, only shown in logs as for information and we obtain the DB checkpoint from the leader for the latest one, whose index could be already updated. \r\nFor the ozone side, there won't be any empty snapshots. Even before any data is written in the cluster, a snapshot/checkpoint of RDB is non-empty.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1122035694/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1122044025","html_url":"https://github.com/apache/ratis/pull/644#issuecomment-1122044025","issue_url":"https://api.github.com/repos/apache/ratis/issues/644","id":1122044025,"node_id":"IC_kwDOBMxbGc5C4Qh5","user":{"login":"adoroszlai","id":6454655,"node_id":"MDQ6VXNlcjY0NTQ2NTU=","avatar_url":"https://avatars.githubusercontent.com/u/6454655?v=4","gravatar_id":"","url":"https://api.github.com/users/adoroszlai","html_url":"https://github.com/adoroszlai","followers_url":"https://api.github.com/users/adoroszlai/followers","following_url":"https://api.github.com/users/adoroszlai/following{/other_user}","gists_url":"https://api.github.com/users/adoroszlai/gists{/gist_id}","starred_url":"https://api.github.com/users/adoroszlai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adoroszlai/subscriptions","organizations_url":"https://api.github.com/users/adoroszlai/orgs","repos_url":"https://api.github.com/users/adoroszlai/repos","events_url":"https://api.github.com/users/adoroszlai/events{/privacy}","received_events_url":"https://api.github.com/users/adoroszlai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-10T07:45:33Z","updated_at":"2022-05-10T07:48:42Z","author_association":"CONTRIBUTOR","body":"@szetszwo Ozone CI has selective checks to save time.  We can implement similar feature for Ratis CI.  However, Ratis is a much smaller project, so the possible time savings are also less.  In this specific case the extra _build_ check adds only 1 minute.  Since _unit_ checks are the slowest (8-10 minutes), and (_build_, _compile_) sequence runs in parallel with _unit_, the wall clock time for a complete CI workflow does not increase with this change:\r\n\r\nbefore: https://github.com/apache/ratis/actions/runs/2289650001\r\nafter: https://github.com/apache/ratis/actions/runs/2296786825\r\n\r\nOne thing we can optimize here is to remove the Java version used in _build_ from the _compile_ check (e.g. _build_ uses Java 8, _compile_ can be limited to Java 11).","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1122044025/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1122051042","html_url":"https://github.com/apache/ratis/pull/644#issuecomment-1122051042","issue_url":"https://api.github.com/repos/apache/ratis/issues/644","id":1122051042,"node_id":"IC_kwDOBMxbGc5C4SPi","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-10T07:53:15Z","updated_at":"2022-05-10T07:53:15Z","author_association":"CONTRIBUTOR","body":"> ...  the wall clock time for a complete CI workflow does not increase with this change ...\r\n\r\nThat's great!  Let's do it then.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1122051042/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1122066331","html_url":"https://github.com/apache/ratis/pull/643#issuecomment-1122066331","issue_url":"https://api.github.com/repos/apache/ratis/issues/643","id":1122066331,"node_id":"IC_kwDOBMxbGc5C4V-b","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-10T08:07:56Z","updated_at":"2022-05-10T08:07:56Z","author_association":"CONTRIBUTOR","body":"If firstAvailable is 0, let's return null?\r\n```\r\n+++ b/ratis-grpc/src/main/java/org/apache/ratis/grpc/server/GrpcLogAppender.java\r\n@@ -588,7 +588,7 @@ public class GrpcLogAppender extends LogAppenderBase {\r\n       // be notified to install a snapshot. Every follower should try to install at least one snapshot during\r\n       // bootstrapping, if available.\r\n       LOG.debug(\"{}: follower is bootstrapping, notify to install snapshot to {}.\", this, firstAvailable);\r\n-      return firstAvailable;\r\n+      return firstAvailable.getIndex() > RaftLog.LEAST_VALID_LOG_INDEX? firstAvailable: null;\r\n     }\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1122066331/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1122191519","html_url":"https://github.com/apache/ratis/pull/643#issuecomment-1122191519","issue_url":"https://api.github.com/repos/apache/ratis/issues/643","id":1122191519,"node_id":"IC_kwDOBMxbGc5C40if","user":{"login":"adoroszlai","id":6454655,"node_id":"MDQ6VXNlcjY0NTQ2NTU=","avatar_url":"https://avatars.githubusercontent.com/u/6454655?v=4","gravatar_id":"","url":"https://api.github.com/users/adoroszlai","html_url":"https://github.com/adoroszlai","followers_url":"https://api.github.com/users/adoroszlai/followers","following_url":"https://api.github.com/users/adoroszlai/following{/other_user}","gists_url":"https://api.github.com/users/adoroszlai/gists{/gist_id}","starred_url":"https://api.github.com/users/adoroszlai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adoroszlai/subscriptions","organizations_url":"https://api.github.com/users/adoroszlai/orgs","repos_url":"https://api.github.com/users/adoroszlai/repos","events_url":"https://api.github.com/users/adoroszlai/events{/privacy}","received_events_url":"https://api.github.com/users/adoroszlai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-10T10:09:00Z","updated_at":"2022-05-10T10:09:00Z","author_association":"CONTRIBUTOR","body":"> If firstAvailable is 0, let's return null?\r\n\r\nThis in itself fixes the `IllegalStateException`, but follower SCM startup gets stuck.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1122191519/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1122522080","html_url":"https://github.com/apache/ratis/pull/643#issuecomment-1122522080","issue_url":"https://api.github.com/repos/apache/ratis/issues/643","id":1122522080,"node_id":"IC_kwDOBMxbGc5C6FPg","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-10T15:08:52Z","updated_at":"2022-05-10T15:08:52Z","author_association":"CONTRIBUTOR","body":"@adoroszlai , thanks a lot for working on this!\r\n\r\n@Xushaohong , thanks for reviewing this change!","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1122522080/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1122524766","html_url":"https://github.com/apache/ratis/pull/643#issuecomment-1122524766","issue_url":"https://api.github.com/repos/apache/ratis/issues/643","id":1122524766,"node_id":"IC_kwDOBMxbGc5C6F5e","user":{"login":"adoroszlai","id":6454655,"node_id":"MDQ6VXNlcjY0NTQ2NTU=","avatar_url":"https://avatars.githubusercontent.com/u/6454655?v=4","gravatar_id":"","url":"https://api.github.com/users/adoroszlai","html_url":"https://github.com/adoroszlai","followers_url":"https://api.github.com/users/adoroszlai/followers","following_url":"https://api.github.com/users/adoroszlai/following{/other_user}","gists_url":"https://api.github.com/users/adoroszlai/gists{/gist_id}","starred_url":"https://api.github.com/users/adoroszlai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adoroszlai/subscriptions","organizations_url":"https://api.github.com/users/adoroszlai/orgs","repos_url":"https://api.github.com/users/adoroszlai/repos","events_url":"https://api.github.com/users/adoroszlai/events{/privacy}","received_events_url":"https://api.github.com/users/adoroszlai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-10T15:10:50Z","updated_at":"2022-05-10T15:10:50Z","author_association":"CONTRIBUTOR","body":"Thanks @Xushaohong and @szetszwo for the guidance.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1122524766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1125866868","html_url":"https://github.com/apache/ratis/pull/645#issuecomment-1125866868","issue_url":"https://api.github.com/repos/apache/ratis/issues/645","id":1125866868,"node_id":"IC_kwDOBMxbGc5DG110","user":{"login":"codings-dan","id":26144703,"node_id":"MDQ6VXNlcjI2MTQ0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/26144703?v=4","gravatar_id":"","url":"https://api.github.com/users/codings-dan","html_url":"https://github.com/codings-dan","followers_url":"https://api.github.com/users/codings-dan/followers","following_url":"https://api.github.com/users/codings-dan/following{/other_user}","gists_url":"https://api.github.com/users/codings-dan/gists{/gist_id}","starred_url":"https://api.github.com/users/codings-dan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codings-dan/subscriptions","organizations_url":"https://api.github.com/users/codings-dan/orgs","repos_url":"https://api.github.com/users/codings-dan/repos","events_url":"https://api.github.com/users/codings-dan/events{/privacy}","received_events_url":"https://api.github.com/users/codings-dan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-13T09:55:09Z","updated_at":"2022-05-13T09:55:09Z","author_association":"CONTRIBUTOR","body":"Thanks @szetszwo  for reviewing the code!","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1125866868/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1125899796","html_url":"https://github.com/apache/ratis/pull/644#issuecomment-1125899796","issue_url":"https://api.github.com/repos/apache/ratis/issues/644","id":1125899796,"node_id":"IC_kwDOBMxbGc5DG94U","user":{"login":"adoroszlai","id":6454655,"node_id":"MDQ6VXNlcjY0NTQ2NTU=","avatar_url":"https://avatars.githubusercontent.com/u/6454655?v=4","gravatar_id":"","url":"https://api.github.com/users/adoroszlai","html_url":"https://github.com/adoroszlai","followers_url":"https://api.github.com/users/adoroszlai/followers","following_url":"https://api.github.com/users/adoroszlai/following{/other_user}","gists_url":"https://api.github.com/users/adoroszlai/gists{/gist_id}","starred_url":"https://api.github.com/users/adoroszlai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adoroszlai/subscriptions","organizations_url":"https://api.github.com/users/adoroszlai/orgs","repos_url":"https://api.github.com/users/adoroszlai/repos","events_url":"https://api.github.com/users/adoroszlai/events{/privacy}","received_events_url":"https://api.github.com/users/adoroszlai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-13T10:34:05Z","updated_at":"2022-05-13T10:34:05Z","author_association":"CONTRIBUTOR","body":"Thanks @szetszwo for reviewing and committing it.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1125899796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1127144636","html_url":"https://github.com/apache/ratis/pull/646#issuecomment-1127144636","issue_url":"https://api.github.com/repos/apache/ratis/issues/646","id":1127144636,"node_id":"IC_kwDOBMxbGc5DLty8","user":{"login":"codings-dan","id":26144703,"node_id":"MDQ6VXNlcjI2MTQ0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/26144703?v=4","gravatar_id":"","url":"https://api.github.com/users/codings-dan","html_url":"https://github.com/codings-dan","followers_url":"https://api.github.com/users/codings-dan/followers","following_url":"https://api.github.com/users/codings-dan/following{/other_user}","gists_url":"https://api.github.com/users/codings-dan/gists{/gist_id}","starred_url":"https://api.github.com/users/codings-dan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codings-dan/subscriptions","organizations_url":"https://api.github.com/users/codings-dan/orgs","repos_url":"https://api.github.com/users/codings-dan/repos","events_url":"https://api.github.com/users/codings-dan/events{/privacy}","received_events_url":"https://api.github.com/users/codings-dan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-16T02:16:54Z","updated_at":"2022-05-16T02:16:54Z","author_association":"CONTRIBUTOR","body":"@szetszwo Can you help review this patch, thanks!","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1127144636/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1127528357","html_url":"https://github.com/apache/ratis/pull/647#issuecomment-1127528357","issue_url":"https://api.github.com/repos/apache/ratis/issues/647","id":1127528357,"node_id":"IC_kwDOBMxbGc5DNLel","user":{"login":"Xushaohong","id":10106574,"node_id":"MDQ6VXNlcjEwMTA2NTc0","avatar_url":"https://avatars.githubusercontent.com/u/10106574?v=4","gravatar_id":"","url":"https://api.github.com/users/Xushaohong","html_url":"https://github.com/Xushaohong","followers_url":"https://api.github.com/users/Xushaohong/followers","following_url":"https://api.github.com/users/Xushaohong/following{/other_user}","gists_url":"https://api.github.com/users/Xushaohong/gists{/gist_id}","starred_url":"https://api.github.com/users/Xushaohong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Xushaohong/subscriptions","organizations_url":"https://api.github.com/users/Xushaohong/orgs","repos_url":"https://api.github.com/users/Xushaohong/repos","events_url":"https://api.github.com/users/Xushaohong/events{/privacy}","received_events_url":"https://api.github.com/users/Xushaohong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-16T11:02:41Z","updated_at":"2022-05-16T11:02:41Z","author_association":"CONTRIBUTOR","body":"@hanishakoneru @szetszwo PTAL :)  ","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1127528357/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1128870059","html_url":"https://github.com/apache/ratis/pull/646#issuecomment-1128870059","issue_url":"https://api.github.com/repos/apache/ratis/issues/646","id":1128870059,"node_id":"IC_kwDOBMxbGc5DSTCr","user":{"login":"codings-dan","id":26144703,"node_id":"MDQ6VXNlcjI2MTQ0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/26144703?v=4","gravatar_id":"","url":"https://api.github.com/users/codings-dan","html_url":"https://github.com/codings-dan","followers_url":"https://api.github.com/users/codings-dan/followers","following_url":"https://api.github.com/users/codings-dan/following{/other_user}","gists_url":"https://api.github.com/users/codings-dan/gists{/gist_id}","starred_url":"https://api.github.com/users/codings-dan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codings-dan/subscriptions","organizations_url":"https://api.github.com/users/codings-dan/orgs","repos_url":"https://api.github.com/users/codings-dan/repos","events_url":"https://api.github.com/users/codings-dan/events{/privacy}","received_events_url":"https://api.github.com/users/codings-dan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-17T13:27:23Z","updated_at":"2022-05-17T13:27:38Z","author_association":"CONTRIBUTOR","body":"> We should point the user to download the src tarball and describe how to build from it.\r\n\r\nSure, we could make user download the src tarball and executethe following command to build and get the ratis-shell\r\n `mvn -DskipTests -Prelease -Papache-release clean package assembly:single`\r\n\r\n> How about the bin tarball? How could we make ratis-shell work from the bin tarball without building it from the source?\r\n\r\nGood idea! User can get the ratis-shell from bin tarball without building it. Am I not authorized to change the contents of the bin tarball right now? Is there anything that I can do to support user getting ratis-shell directly from the bin tarball?","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1128870059/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1129514047","html_url":"https://github.com/apache/ratis/pull/646#issuecomment-1129514047","issue_url":"https://api.github.com/repos/apache/ratis/issues/646","id":1129514047,"node_id":"IC_kwDOBMxbGc5DUwQ_","user":{"login":"codings-dan","id":26144703,"node_id":"MDQ6VXNlcjI2MTQ0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/26144703?v=4","gravatar_id":"","url":"https://api.github.com/users/codings-dan","html_url":"https://github.com/codings-dan","followers_url":"https://api.github.com/users/codings-dan/followers","following_url":"https://api.github.com/users/codings-dan/following{/other_user}","gists_url":"https://api.github.com/users/codings-dan/gists{/gist_id}","starred_url":"https://api.github.com/users/codings-dan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codings-dan/subscriptions","organizations_url":"https://api.github.com/users/codings-dan/orgs","repos_url":"https://api.github.com/users/codings-dan/repos","events_url":"https://api.github.com/users/codings-dan/events{/privacy}","received_events_url":"https://api.github.com/users/codings-dan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-18T02:55:57Z","updated_at":"2022-05-18T02:55:57Z","author_association":"CONTRIBUTOR","body":"@szetszwo Thanks for helping change the document, PTAL again, thanks!","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1129514047/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1130025520","html_url":"https://github.com/apache/ratis/pull/646#issuecomment-1130025520","issue_url":"https://api.github.com/repos/apache/ratis/issues/646","id":1130025520,"node_id":"IC_kwDOBMxbGc5DWtIw","user":{"login":"codings-dan","id":26144703,"node_id":"MDQ6VXNlcjI2MTQ0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/26144703?v=4","gravatar_id":"","url":"https://api.github.com/users/codings-dan","html_url":"https://github.com/codings-dan","followers_url":"https://api.github.com/users/codings-dan/followers","following_url":"https://api.github.com/users/codings-dan/following{/other_user}","gists_url":"https://api.github.com/users/codings-dan/gists{/gist_id}","starred_url":"https://api.github.com/users/codings-dan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codings-dan/subscriptions","organizations_url":"https://api.github.com/users/codings-dan/orgs","repos_url":"https://api.github.com/users/codings-dan/repos","events_url":"https://api.github.com/users/codings-dan/events{/privacy}","received_events_url":"https://api.github.com/users/codings-dan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-18T13:34:24Z","updated_at":"2022-05-18T13:34:24Z","author_association":"CONTRIBUTOR","body":"Thanks  @szetszwo for reviewing the code!","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1130025520/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1131622403","html_url":"https://github.com/apache/ratis/pull/649#issuecomment-1131622403","issue_url":"https://api.github.com/repos/apache/ratis/issues/649","id":1131622403,"node_id":"IC_kwDOBMxbGc5DczAD","user":{"login":"adoroszlai","id":6454655,"node_id":"MDQ6VXNlcjY0NTQ2NTU=","avatar_url":"https://avatars.githubusercontent.com/u/6454655?v=4","gravatar_id":"","url":"https://api.github.com/users/adoroszlai","html_url":"https://github.com/adoroszlai","followers_url":"https://api.github.com/users/adoroszlai/followers","following_url":"https://api.github.com/users/adoroszlai/following{/other_user}","gists_url":"https://api.github.com/users/adoroszlai/gists{/gist_id}","starred_url":"https://api.github.com/users/adoroszlai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adoroszlai/subscriptions","organizations_url":"https://api.github.com/users/adoroszlai/orgs","repos_url":"https://api.github.com/users/adoroszlai/repos","events_url":"https://api.github.com/users/adoroszlai/events{/privacy}","received_events_url":"https://api.github.com/users/adoroszlai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-19T12:26:32Z","updated_at":"2022-05-19T12:26:32Z","author_association":"CONTRIBUTOR","body":"Thanks @szetszwo for the patch.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1131622403/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1132508294","html_url":"https://github.com/apache/ratis/pull/650#issuecomment-1132508294","issue_url":"https://api.github.com/repos/apache/ratis/issues/650","id":1132508294,"node_id":"IC_kwDOBMxbGc5DgLSG","user":{"login":"adoroszlai","id":6454655,"node_id":"MDQ6VXNlcjY0NTQ2NTU=","avatar_url":"https://avatars.githubusercontent.com/u/6454655?v=4","gravatar_id":"","url":"https://api.github.com/users/adoroszlai","html_url":"https://github.com/adoroszlai","followers_url":"https://api.github.com/users/adoroszlai/followers","following_url":"https://api.github.com/users/adoroszlai/following{/other_user}","gists_url":"https://api.github.com/users/adoroszlai/gists{/gist_id}","starred_url":"https://api.github.com/users/adoroszlai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adoroszlai/subscriptions","organizations_url":"https://api.github.com/users/adoroszlai/orgs","repos_url":"https://api.github.com/users/adoroszlai/repos","events_url":"https://api.github.com/users/adoroszlai/events{/privacy}","received_events_url":"https://api.github.com/users/adoroszlai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T06:06:23Z","updated_at":"2022-05-20T06:06:23Z","author_association":"CONTRIBUTOR","body":"Thanks @szetszwo for both patches.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1132508294/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1132755900","html_url":"https://github.com/apache/ratis/pull/648#issuecomment-1132755900","issue_url":"https://api.github.com/repos/apache/ratis/issues/648","id":1132755900,"node_id":"IC_kwDOBMxbGc5DhHu8","user":{"login":"lokeshj1703","id":9255455,"node_id":"MDQ6VXNlcjkyNTU0NTU=","avatar_url":"https://avatars.githubusercontent.com/u/9255455?v=4","gravatar_id":"","url":"https://api.github.com/users/lokeshj1703","html_url":"https://github.com/lokeshj1703","followers_url":"https://api.github.com/users/lokeshj1703/followers","following_url":"https://api.github.com/users/lokeshj1703/following{/other_user}","gists_url":"https://api.github.com/users/lokeshj1703/gists{/gist_id}","starred_url":"https://api.github.com/users/lokeshj1703/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lokeshj1703/subscriptions","organizations_url":"https://api.github.com/users/lokeshj1703/orgs","repos_url":"https://api.github.com/users/lokeshj1703/repos","events_url":"https://api.github.com/users/lokeshj1703/events{/privacy}","received_events_url":"https://api.github.com/users/lokeshj1703/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T10:45:12Z","updated_at":"2022-05-20T10:45:12Z","author_association":"CONTRIBUTOR","body":"@szetszwo Thanks for the contribution! I have committed the PR to master branch.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1132755900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1132906385","html_url":"https://github.com/apache/ratis/pull/648#issuecomment-1132906385","issue_url":"https://api.github.com/repos/apache/ratis/issues/648","id":1132906385,"node_id":"IC_kwDOBMxbGc5DhseR","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T13:32:21Z","updated_at":"2022-05-20T13:32:21Z","author_association":"CONTRIBUTOR","body":"@lokeshj1703 , thanks a lot for reviewing and merging this!","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1132906385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1133045992","html_url":"https://github.com/apache/ratis/pull/635#issuecomment-1133045992","issue_url":"https://api.github.com/repos/apache/ratis/issues/635","id":1133045992,"node_id":"IC_kwDOBMxbGc5DiOjo","user":{"login":"guohao-rosicky","id":5122636,"node_id":"MDQ6VXNlcjUxMjI2MzY=","avatar_url":"https://avatars.githubusercontent.com/u/5122636?v=4","gravatar_id":"","url":"https://api.github.com/users/guohao-rosicky","html_url":"https://github.com/guohao-rosicky","followers_url":"https://api.github.com/users/guohao-rosicky/followers","following_url":"https://api.github.com/users/guohao-rosicky/following{/other_user}","gists_url":"https://api.github.com/users/guohao-rosicky/gists{/gist_id}","starred_url":"https://api.github.com/users/guohao-rosicky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guohao-rosicky/subscriptions","organizations_url":"https://api.github.com/users/guohao-rosicky/orgs","repos_url":"https://api.github.com/users/guohao-rosicky/repos","events_url":"https://api.github.com/users/guohao-rosicky/events{/privacy}","received_events_url":"https://api.github.com/users/guohao-rosicky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-20T15:36:42Z","updated_at":"2022-05-20T15:39:22Z","author_association":"CONTRIBUTOR","body":"Hi, I have a new idea. What do you think [szetszwo](https://github.com/szetszwo)\r\n\r\n\r\n1. Call `sendForward()` asynchronously on stream init\r\n2. On stream Close, get the result of `sendForward()`\r\n\r\nIn this way, sendForward() requests can be processed simultaneously during stream transmission, reducing latency and ensuring consistency","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1133045992/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1134115141","html_url":"https://github.com/apache/ratis/pull/635#issuecomment-1134115141","issue_url":"https://api.github.com/repos/apache/ratis/issues/635","id":1134115141,"node_id":"IC_kwDOBMxbGc5DmTlF","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-23T02:54:05Z","updated_at":"2022-05-23T02:54:05Z","author_association":"CONTRIBUTOR","body":"> Call sendForward() asynchronously on stream init\r\n\r\nThe sendForward() call has to wait for the stream to complete.  Otherwise, sendForward() could succeed while the stream could fail.\r\n\r\nIn Ozone, sendForward() needs the block infos which are unavailable in the beginning.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1134115141/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1137487310","html_url":"https://github.com/apache/ratis/pull/647#issuecomment-1137487310","issue_url":"https://api.github.com/repos/apache/ratis/issues/647","id":1137487310,"node_id":"IC_kwDOBMxbGc5DzK3O","user":{"login":"kaijchen","id":5821159,"node_id":"MDQ6VXNlcjU4MjExNTk=","avatar_url":"https://avatars.githubusercontent.com/u/5821159?v=4","gravatar_id":"","url":"https://api.github.com/users/kaijchen","html_url":"https://github.com/kaijchen","followers_url":"https://api.github.com/users/kaijchen/followers","following_url":"https://api.github.com/users/kaijchen/following{/other_user}","gists_url":"https://api.github.com/users/kaijchen/gists{/gist_id}","starred_url":"https://api.github.com/users/kaijchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaijchen/subscriptions","organizations_url":"https://api.github.com/users/kaijchen/orgs","repos_url":"https://api.github.com/users/kaijchen/repos","events_url":"https://api.github.com/users/kaijchen/events{/privacy}","received_events_url":"https://api.github.com/users/kaijchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-25T16:12:18Z","updated_at":"2022-05-25T16:13:03Z","author_association":"CONTRIBUTOR","body":"Hi @Xushaohong, thanks for the proposal. I have a question about it.\r\n\r\nFrom ozone's view, if some file in the old checkpoint needs to be purged, doesn't it mean that file is useless?\r\n\r\nFor example, suppose the old checkpoint is `[1, 2, 3]`, and the new checkpoint is `[1, 3, 4]`.\r\nEven if the lagging DN successfully pulls file `2` from master and finished the `NotifyInstallSnapshot`.\r\nNext iteration of incremental snapshot will pull `4` and delete `2`.\r\nSo why do we need to keep `2` on master until `NotifyInstallSnapshot` is done?\r\n\r\nPlease correct me if I'm wrong.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1137487310/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1138117795","html_url":"https://github.com/apache/ratis/pull/647#issuecomment-1138117795","issue_url":"https://api.github.com/repos/apache/ratis/issues/647","id":1138117795,"node_id":"IC_kwDOBMxbGc5D1kyj","user":{"login":"Xushaohong","id":10106574,"node_id":"MDQ6VXNlcjEwMTA2NTc0","avatar_url":"https://avatars.githubusercontent.com/u/10106574?v=4","gravatar_id":"","url":"https://api.github.com/users/Xushaohong","html_url":"https://github.com/Xushaohong","followers_url":"https://api.github.com/users/Xushaohong/followers","following_url":"https://api.github.com/users/Xushaohong/following{/other_user}","gists_url":"https://api.github.com/users/Xushaohong/gists{/gist_id}","starred_url":"https://api.github.com/users/Xushaohong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Xushaohong/subscriptions","organizations_url":"https://api.github.com/users/Xushaohong/orgs","repos_url":"https://api.github.com/users/Xushaohong/repos","events_url":"https://api.github.com/users/Xushaohong/events{/privacy}","received_events_url":"https://api.github.com/users/Xushaohong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-26T03:39:53Z","updated_at":"2022-05-26T03:42:48Z","author_association":"CONTRIBUTOR","body":"> Hi @Xushaohong, thanks for the proposal. I have a question about it.\r\n> \r\n> From ozone's view, if some file in the old checkpoint needs to be purged, doesn't it mean that file is useless?\r\n> \r\n> For example, suppose the old checkpoint is `[1, 2, 3]`, and the new checkpoint is `[1, 3, 4]`. Even if the lagging DN successfully pulls file `2` from master and finished the `NotifyInstallSnapshot`. Next iteration of incremental snapshot will pull `4` and delete `2`. So why do we need to keep `2` on master until `NotifyInstallSnapshot` is done?\r\n> \r\n> Please correct me if I'm wrong.\r\n\r\n@kaijchen Thx for the question.\r\nThe Master should keep the checkpoint until the follower truly catches up. Each checkpoint is a complete snapshot of RDB. We don't care about the stale SST files as you mentioned the file ```2``. We keep the checkpoint as a unit to compare, which simplifies the logic.\r\nMaster will compare the latest checkpoint and newly-created checkpoint, and send the incremental part. For the stale SSTs, the follower RDB has a mechanism to deal with them, that is using MANIFEST to detect the stale SSTs and GC them.\r\nBasically, the master only needs to have two checkpoints each time for the notify request, we could choose to delete old checkpoints or not, but only deletes all checkpoints after the ratis server tells us the snapshot is finished.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1138117795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1139340127","html_url":"https://github.com/apache/ratis/pull/647#issuecomment-1139340127","issue_url":"https://api.github.com/repos/apache/ratis/issues/647","id":1139340127,"node_id":"IC_kwDOBMxbGc5D6PNf","user":{"login":"kaijchen","id":5821159,"node_id":"MDQ6VXNlcjU4MjExNTk=","avatar_url":"https://avatars.githubusercontent.com/u/5821159?v=4","gravatar_id":"","url":"https://api.github.com/users/kaijchen","html_url":"https://github.com/kaijchen","followers_url":"https://api.github.com/users/kaijchen/followers","following_url":"https://api.github.com/users/kaijchen/following{/other_user}","gists_url":"https://api.github.com/users/kaijchen/gists{/gist_id}","starred_url":"https://api.github.com/users/kaijchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaijchen/subscriptions","organizations_url":"https://api.github.com/users/kaijchen/orgs","repos_url":"https://api.github.com/users/kaijchen/repos","events_url":"https://api.github.com/users/kaijchen/events{/privacy}","received_events_url":"https://api.github.com/users/kaijchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-27T06:58:10Z","updated_at":"2022-05-27T06:58:10Z","author_association":"CONTRIBUTOR","body":"Thanks for explaining @Xushaohong. Regardless of how Ozone will use it,\r\nI think it's still useful to inform the leader when `InstallSnapshot` is finished.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1139340127/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1143651020","html_url":"https://github.com/apache/ratis/pull/652#issuecomment-1143651020","issue_url":"https://api.github.com/repos/apache/ratis/issues/652","id":1143651020,"node_id":"IC_kwDOBMxbGc5EKrrM","user":{"login":"codings-dan","id":26144703,"node_id":"MDQ6VXNlcjI2MTQ0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/26144703?v=4","gravatar_id":"","url":"https://api.github.com/users/codings-dan","html_url":"https://github.com/codings-dan","followers_url":"https://api.github.com/users/codings-dan/followers","following_url":"https://api.github.com/users/codings-dan/following{/other_user}","gists_url":"https://api.github.com/users/codings-dan/gists{/gist_id}","starred_url":"https://api.github.com/users/codings-dan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codings-dan/subscriptions","organizations_url":"https://api.github.com/users/codings-dan/orgs","repos_url":"https://api.github.com/users/codings-dan/repos","events_url":"https://api.github.com/users/codings-dan/events{/privacy}","received_events_url":"https://api.github.com/users/codings-dan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-01T14:00:36Z","updated_at":"2022-06-01T14:00:36Z","author_association":"CONTRIBUTOR","body":"@szetszwo Can you help review this pull request, thanks!","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1143651020/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1144352259","html_url":"https://github.com/apache/ratis/pull/652#issuecomment-1144352259","issue_url":"https://api.github.com/repos/apache/ratis/issues/652","id":1144352259,"node_id":"IC_kwDOBMxbGc5ENW4D","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-02T02:29:37Z","updated_at":"2022-06-02T02:29:37Z","author_association":"CONTRIBUTOR","body":"@codings-dan , sorry that it broke Alluxio.  RaftStorageImpl is not a public API so that we do not have to maintain compatibility.  We may consider adding a RaftStorage.Builder as a public API.\r\n\r\nBTW, this is backward compatibility -- a new version of the software works for the existing applications.  Forward compatibility means the current design of the software can work on future applications.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1144352259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1144352260","html_url":"https://github.com/apache/ratis/pull/652#issuecomment-1144352260","issue_url":"https://api.github.com/repos/apache/ratis/issues/652","id":1144352260,"node_id":"IC_kwDOBMxbGc5ENW4E","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-02T02:29:37Z","updated_at":"2022-06-02T02:29:37Z","author_association":"CONTRIBUTOR","body":"@codings-dan , sorry that it broke Alluxio.  RaftStorageImpl is not a public API so that we do not have to maintain compatibility.  We may consider adding a RaftStorage.Builder as a public API.\r\n\r\nBTW, this is backward compatibility -- a new version of the software works for the existing applications.  Forward compatibility means the current design of the software can work on future applications.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1144352260/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1144795429","html_url":"https://github.com/apache/ratis/pull/652#issuecomment-1144795429","issue_url":"https://api.github.com/repos/apache/ratis/issues/652","id":1144795429,"node_id":"IC_kwDOBMxbGc5EPDEl","user":{"login":"codings-dan","id":26144703,"node_id":"MDQ6VXNlcjI2MTQ0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/26144703?v=4","gravatar_id":"","url":"https://api.github.com/users/codings-dan","html_url":"https://github.com/codings-dan","followers_url":"https://api.github.com/users/codings-dan/followers","following_url":"https://api.github.com/users/codings-dan/following{/other_user}","gists_url":"https://api.github.com/users/codings-dan/gists{/gist_id}","starred_url":"https://api.github.com/users/codings-dan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codings-dan/subscriptions","organizations_url":"https://api.github.com/users/codings-dan/orgs","repos_url":"https://api.github.com/users/codings-dan/repos","events_url":"https://api.github.com/users/codings-dan/events{/privacy}","received_events_url":"https://api.github.com/users/codings-dan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-02T12:16:49Z","updated_at":"2022-06-02T12:16:49Z","author_association":"CONTRIBUTOR","body":"> We may consider adding a RaftStorage.Builder as a public API.\r\n\r\nGood idea, I will add a RaftStorage.Builder.\r\n\r\n> a new version of the software works for the existing applications. Forward compatibility means the current design of the software can work on future applications\r\n\r\nThanks for telling me about these, I now understand the difference!\r\n","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1144795429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1146760457","html_url":"https://github.com/apache/ratis/pull/654#issuecomment-1146760457","issue_url":"https://api.github.com/repos/apache/ratis/issues/654","id":1146760457,"node_id":"IC_kwDOBMxbGc5EWi0J","user":{"login":"scipio-aemilianus","id":106901596,"node_id":"U_kgDOBl8wXA","avatar_url":"https://avatars.githubusercontent.com/u/106901596?v=4","gravatar_id":"","url":"https://api.github.com/users/scipio-aemilianus","html_url":"https://github.com/scipio-aemilianus","followers_url":"https://api.github.com/users/scipio-aemilianus/followers","following_url":"https://api.github.com/users/scipio-aemilianus/following{/other_user}","gists_url":"https://api.github.com/users/scipio-aemilianus/gists{/gist_id}","starred_url":"https://api.github.com/users/scipio-aemilianus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/scipio-aemilianus/subscriptions","organizations_url":"https://api.github.com/users/scipio-aemilianus/orgs","repos_url":"https://api.github.com/users/scipio-aemilianus/repos","events_url":"https://api.github.com/users/scipio-aemilianus/events{/privacy}","received_events_url":"https://api.github.com/users/scipio-aemilianus/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-05T08:02:46Z","updated_at":"2022-06-05T08:02:46Z","author_association":"NONE","body":"@szetszwo Please help review this PR, thanks!","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1146760457/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1146838724","html_url":"https://github.com/apache/ratis/pull/654#issuecomment-1146838724","issue_url":"https://api.github.com/repos/apache/ratis/issues/654","id":1146838724,"node_id":"IC_kwDOBMxbGc5EW17E","user":{"login":"scipio-aemilianus","id":106901596,"node_id":"U_kgDOBl8wXA","avatar_url":"https://avatars.githubusercontent.com/u/106901596?v=4","gravatar_id":"","url":"https://api.github.com/users/scipio-aemilianus","html_url":"https://github.com/scipio-aemilianus","followers_url":"https://api.github.com/users/scipio-aemilianus/followers","following_url":"https://api.github.com/users/scipio-aemilianus/following{/other_user}","gists_url":"https://api.github.com/users/scipio-aemilianus/gists{/gist_id}","starred_url":"https://api.github.com/users/scipio-aemilianus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/scipio-aemilianus/subscriptions","organizations_url":"https://api.github.com/users/scipio-aemilianus/orgs","repos_url":"https://api.github.com/users/scipio-aemilianus/repos","events_url":"https://api.github.com/users/scipio-aemilianus/events{/privacy}","received_events_url":"https://api.github.com/users/scipio-aemilianus/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-05T15:58:41Z","updated_at":"2022-06-05T15:58:41Z","author_association":"NONE","body":"Please move to https://github.com/apache/ratis/pull/655\r\nPreviously my main account is mistakenly flagged, so I registered a new account to create the PR. Now the flag is removed for my main account, so I move the commits to my main account.\r\nWilliam Song","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1146838724/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1148246722","html_url":"https://github.com/apache/ratis/pull/652#issuecomment-1148246722","issue_url":"https://api.github.com/repos/apache/ratis/issues/652","id":1148246722,"node_id":"IC_kwDOBMxbGc5EcNrC","user":{"login":"codings-dan","id":26144703,"node_id":"MDQ6VXNlcjI2MTQ0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/26144703?v=4","gravatar_id":"","url":"https://api.github.com/users/codings-dan","html_url":"https://github.com/codings-dan","followers_url":"https://api.github.com/users/codings-dan/followers","following_url":"https://api.github.com/users/codings-dan/following{/other_user}","gists_url":"https://api.github.com/users/codings-dan/gists{/gist_id}","starred_url":"https://api.github.com/users/codings-dan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codings-dan/subscriptions","organizations_url":"https://api.github.com/users/codings-dan/orgs","repos_url":"https://api.github.com/users/codings-dan/repos","events_url":"https://api.github.com/users/codings-dan/events{/privacy}","received_events_url":"https://api.github.com/users/codings-dan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T06:26:02Z","updated_at":"2022-06-07T06:26:02Z","author_association":"CONTRIBUTOR","body":"@szetszwo I have added a RaftStorage.Builder, PTAL again, thx!","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1148246722/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1148302984","html_url":"https://github.com/apache/ratis/pull/655#issuecomment-1148302984","issue_url":"https://api.github.com/repos/apache/ratis/issues/655","id":1148302984,"node_id":"IC_kwDOBMxbGc5EcbaI","user":{"login":"SzyWilliam","id":48054931,"node_id":"MDQ6VXNlcjQ4MDU0OTMx","avatar_url":"https://avatars.githubusercontent.com/u/48054931?v=4","gravatar_id":"","url":"https://api.github.com/users/SzyWilliam","html_url":"https://github.com/SzyWilliam","followers_url":"https://api.github.com/users/SzyWilliam/followers","following_url":"https://api.github.com/users/SzyWilliam/following{/other_user}","gists_url":"https://api.github.com/users/SzyWilliam/gists{/gist_id}","starred_url":"https://api.github.com/users/SzyWilliam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SzyWilliam/subscriptions","organizations_url":"https://api.github.com/users/SzyWilliam/orgs","repos_url":"https://api.github.com/users/SzyWilliam/repos","events_url":"https://api.github.com/users/SzyWilliam/events{/privacy}","received_events_url":"https://api.github.com/users/SzyWilliam/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T07:32:30Z","updated_at":"2022-06-07T07:32:30Z","author_association":"MEMBER","body":"@szetszwo  I added unit test which covers the scenario of Leader InstallSnapshot to Followers with snapshot containing multiple files in nested folder.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1148302984/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1148618670","html_url":"https://github.com/apache/ratis/pull/656#issuecomment-1148618670","issue_url":"https://api.github.com/repos/apache/ratis/issues/656","id":1148618670,"node_id":"IC_kwDOBMxbGc5Edoeu","user":{"login":"codings-dan","id":26144703,"node_id":"MDQ6VXNlcjI2MTQ0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/26144703?v=4","gravatar_id":"","url":"https://api.github.com/users/codings-dan","html_url":"https://github.com/codings-dan","followers_url":"https://api.github.com/users/codings-dan/followers","following_url":"https://api.github.com/users/codings-dan/following{/other_user}","gists_url":"https://api.github.com/users/codings-dan/gists{/gist_id}","starred_url":"https://api.github.com/users/codings-dan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codings-dan/subscriptions","organizations_url":"https://api.github.com/users/codings-dan/orgs","repos_url":"https://api.github.com/users/codings-dan/repos","events_url":"https://api.github.com/users/codings-dan/events{/privacy}","received_events_url":"https://api.github.com/users/codings-dan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-07T12:44:54Z","updated_at":"2022-06-07T12:44:54Z","author_association":"CONTRIBUTOR","body":"@szetszwo Can you help review this pull request, thank you!","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1148618670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1149397010","html_url":"https://github.com/apache/ratis/pull/655#issuecomment-1149397010","issue_url":"https://api.github.com/repos/apache/ratis/issues/655","id":1149397010,"node_id":"IC_kwDOBMxbGc5EgmgS","user":{"login":"SzyWilliam","id":48054931,"node_id":"MDQ6VXNlcjQ4MDU0OTMx","avatar_url":"https://avatars.githubusercontent.com/u/48054931?v=4","gravatar_id":"","url":"https://api.github.com/users/SzyWilliam","html_url":"https://github.com/SzyWilliam","followers_url":"https://api.github.com/users/SzyWilliam/followers","following_url":"https://api.github.com/users/SzyWilliam/following{/other_user}","gists_url":"https://api.github.com/users/SzyWilliam/gists{/gist_id}","starred_url":"https://api.github.com/users/SzyWilliam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SzyWilliam/subscriptions","organizations_url":"https://api.github.com/users/SzyWilliam/orgs","repos_url":"https://api.github.com/users/SzyWilliam/repos","events_url":"https://api.github.com/users/SzyWilliam/events{/privacy}","received_events_url":"https://api.github.com/users/SzyWilliam/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-08T02:53:06Z","updated_at":"2022-06-08T02:55:19Z","author_association":"MEMBER","body":"@szetszwo  Add License header. Also, I did the test and I think the `stream` change is compatible. That's how I did the test:\r\nI compiled the Arithmetic example in `ratis-examples` both with&w/o `stream`. Then I started Arithmetic Server w/o `stream` as leader, applied trxs, took a snaphot and purged logs. After that I started Arithmetic Server with `stream` and joined it to the group. I discovered that the leader successfully installed the snapshot to the new follower, which means old server w/o `stream` can install single-chunk snapshot to new server with `stream`.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1149397010/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1149453283","html_url":"https://github.com/apache/ratis/pull/655#issuecomment-1149453283","issue_url":"https://api.github.com/repos/apache/ratis/issues/655","id":1149453283,"node_id":"IC_kwDOBMxbGc5Eg0Pj","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-08T04:40:34Z","updated_at":"2022-06-08T04:40:34Z","author_association":"CONTRIBUTOR","body":"@SzyWilliam , thanks a lot for testing the compatibility!","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1149453283/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1151096508","html_url":"https://github.com/apache/ratis/pull/656#issuecomment-1151096508","issue_url":"https://api.github.com/repos/apache/ratis/issues/656","id":1151096508,"node_id":"IC_kwDOBMxbGc5EnFa8","user":{"login":"codings-dan","id":26144703,"node_id":"MDQ6VXNlcjI2MTQ0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/26144703?v=4","gravatar_id":"","url":"https://api.github.com/users/codings-dan","html_url":"https://github.com/codings-dan","followers_url":"https://api.github.com/users/codings-dan/followers","following_url":"https://api.github.com/users/codings-dan/following{/other_user}","gists_url":"https://api.github.com/users/codings-dan/gists{/gist_id}","starred_url":"https://api.github.com/users/codings-dan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codings-dan/subscriptions","organizations_url":"https://api.github.com/users/codings-dan/orgs","repos_url":"https://api.github.com/users/codings-dan/repos","events_url":"https://api.github.com/users/codings-dan/events{/privacy}","received_events_url":"https://api.github.com/users/codings-dan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-09T13:06:47Z","updated_at":"2022-06-09T13:06:47Z","author_association":"CONTRIBUTOR","body":"@szetszwo PTAL again, thx!","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1151096508/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1151834102","html_url":"https://github.com/apache/ratis/pull/656#issuecomment-1151834102","issue_url":"https://api.github.com/repos/apache/ratis/issues/656","id":1151834102,"node_id":"IC_kwDOBMxbGc5Ep5f2","user":{"login":"codings-dan","id":26144703,"node_id":"MDQ6VXNlcjI2MTQ0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/26144703?v=4","gravatar_id":"","url":"https://api.github.com/users/codings-dan","html_url":"https://github.com/codings-dan","followers_url":"https://api.github.com/users/codings-dan/followers","following_url":"https://api.github.com/users/codings-dan/following{/other_user}","gists_url":"https://api.github.com/users/codings-dan/gists{/gist_id}","starred_url":"https://api.github.com/users/codings-dan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codings-dan/subscriptions","organizations_url":"https://api.github.com/users/codings-dan/orgs","repos_url":"https://api.github.com/users/codings-dan/repos","events_url":"https://api.github.com/users/codings-dan/events{/privacy}","received_events_url":"https://api.github.com/users/codings-dan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-10T02:03:32Z","updated_at":"2022-06-10T02:03:32Z","author_association":"CONTRIBUTOR","body":"> Also, let's add a table right before \"Setting up the ratis-shell\".\r\n\r\nAdding a table is great, now it's all clear.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1151834102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1151881192","html_url":"https://github.com/apache/ratis/pull/656#issuecomment-1151881192","issue_url":"https://api.github.com/repos/apache/ratis/issues/656","id":1151881192,"node_id":"IC_kwDOBMxbGc5EqE_o","user":{"login":"codings-dan","id":26144703,"node_id":"MDQ6VXNlcjI2MTQ0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/26144703?v=4","gravatar_id":"","url":"https://api.github.com/users/codings-dan","html_url":"https://github.com/codings-dan","followers_url":"https://api.github.com/users/codings-dan/followers","following_url":"https://api.github.com/users/codings-dan/following{/other_user}","gists_url":"https://api.github.com/users/codings-dan/gists{/gist_id}","starred_url":"https://api.github.com/users/codings-dan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codings-dan/subscriptions","organizations_url":"https://api.github.com/users/codings-dan/orgs","repos_url":"https://api.github.com/users/codings-dan/repos","events_url":"https://api.github.com/users/codings-dan/events{/privacy}","received_events_url":"https://api.github.com/users/codings-dan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-10T03:12:40Z","updated_at":"2022-06-10T03:12:40Z","author_association":"CONTRIBUTOR","body":"Thanks @szetszwo help review the pull request!","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1151881192/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1152193304","html_url":"https://github.com/apache/ratis/pull/657#issuecomment-1152193304","issue_url":"https://api.github.com/repos/apache/ratis/issues/657","id":1152193304,"node_id":"IC_kwDOBMxbGc5ErRMY","user":{"login":"lokeshj1703","id":9255455,"node_id":"MDQ6VXNlcjkyNTU0NTU=","avatar_url":"https://avatars.githubusercontent.com/u/9255455?v=4","gravatar_id":"","url":"https://api.github.com/users/lokeshj1703","html_url":"https://github.com/lokeshj1703","followers_url":"https://api.github.com/users/lokeshj1703/followers","following_url":"https://api.github.com/users/lokeshj1703/following{/other_user}","gists_url":"https://api.github.com/users/lokeshj1703/gists{/gist_id}","starred_url":"https://api.github.com/users/lokeshj1703/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lokeshj1703/subscriptions","organizations_url":"https://api.github.com/users/lokeshj1703/orgs","repos_url":"https://api.github.com/users/lokeshj1703/repos","events_url":"https://api.github.com/users/lokeshj1703/events{/privacy}","received_events_url":"https://api.github.com/users/lokeshj1703/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-10T10:01:28Z","updated_at":"2022-06-10T10:01:28Z","author_association":"CONTRIBUTOR","body":"@szetszwo Thanks for the contribution! I have committed the PR to master branch.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1152193304/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1152758198","html_url":"https://github.com/apache/ratis/pull/657#issuecomment-1152758198","issue_url":"https://api.github.com/repos/apache/ratis/issues/657","id":1152758198,"node_id":"IC_kwDOBMxbGc5EtbG2","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-10T21:44:13Z","updated_at":"2022-06-10T21:44:13Z","author_association":"CONTRIBUTOR","body":"@lokeshj1703 , thanks a lot for reviewing and merging this!","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1152758198/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1153909602","html_url":"https://github.com/apache/ratis/pull/652#issuecomment-1153909602","issue_url":"https://api.github.com/repos/apache/ratis/issues/652","id":1153909602,"node_id":"IC_kwDOBMxbGc5Ex0Ni","user":{"login":"codings-dan","id":26144703,"node_id":"MDQ6VXNlcjI2MTQ0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/26144703?v=4","gravatar_id":"","url":"https://api.github.com/users/codings-dan","html_url":"https://github.com/codings-dan","followers_url":"https://api.github.com/users/codings-dan/followers","following_url":"https://api.github.com/users/codings-dan/following{/other_user}","gists_url":"https://api.github.com/users/codings-dan/gists{/gist_id}","starred_url":"https://api.github.com/users/codings-dan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codings-dan/subscriptions","organizations_url":"https://api.github.com/users/codings-dan/orgs","repos_url":"https://api.github.com/users/codings-dan/repos","events_url":"https://api.github.com/users/codings-dan/events{/privacy}","received_events_url":"https://api.github.com/users/codings-dan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-13T13:22:56Z","updated_at":"2022-06-13T13:22:56Z","author_association":"CONTRIBUTOR","body":"@szetszwo PTAL again, thank you!","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1153909602/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1155394043","html_url":"https://github.com/apache/ratis/pull/652#issuecomment-1155394043","issue_url":"https://api.github.com/repos/apache/ratis/issues/652","id":1155394043,"node_id":"IC_kwDOBMxbGc5E3en7","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-14T15:58:06Z","updated_at":"2022-06-14T15:58:06Z","author_association":"CONTRIBUTOR","body":"@codings-dan , The test failure seems related.  Could you take a look?\r\n\r\nBTW, let's remove the public RaftStorageImpl constructor below since it is no longer used.\r\n```\r\n  public RaftStorageImpl(File dir, CorruptionPolicy logCorruptionPolicy,\r\n      long storageFeeSpaceMin) throws IOException {\r\n```\r\n\r\nAlso, let's use SizeInBytes for storageFreeSpaceMin? Or, we may have two setStorageFreeSpaceMin methods.\r\n```\r\n    public Builder setStorageFreeSpaceMin(SizeInBytes storageFreeSpaceMin) {\r\n      this.storageFreeSpaceMin = storageFreeSpaceMin.getSize();\r\n      return this;\r\n    }\r\n\r\n    public Builder setStorageFreeSpaceMin(long storageFreeSpaceMin) {\r\n      this.storageFreeSpaceMin = storageFreeSpaceMin;\r\n      return this;\r\n    }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1155394043/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1157632606","html_url":"https://github.com/apache/ratis/pull/652#issuecomment-1157632606","issue_url":"https://api.github.com/repos/apache/ratis/issues/652","id":1157632606,"node_id":"IC_kwDOBMxbGc5FABJe","user":{"login":"codings-dan","id":26144703,"node_id":"MDQ6VXNlcjI2MTQ0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/26144703?v=4","gravatar_id":"","url":"https://api.github.com/users/codings-dan","html_url":"https://github.com/codings-dan","followers_url":"https://api.github.com/users/codings-dan/followers","following_url":"https://api.github.com/users/codings-dan/following{/other_user}","gists_url":"https://api.github.com/users/codings-dan/gists{/gist_id}","starred_url":"https://api.github.com/users/codings-dan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codings-dan/subscriptions","organizations_url":"https://api.github.com/users/codings-dan/orgs","repos_url":"https://api.github.com/users/codings-dan/repos","events_url":"https://api.github.com/users/codings-dan/events{/privacy}","received_events_url":"https://api.github.com/users/codings-dan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-16T13:00:25Z","updated_at":"2022-06-16T13:00:25Z","author_association":"CONTRIBUTOR","body":"> The test failure seems related. Could you take a look\r\n\r\nThis is caused by improper handling of exceptions in reflectionI have fixed it. \r\n\r\n> let's remove the public RaftStorageImpl constructor below since it is no longer used.\r\n\r\nI have remove the extra code.\r\n\r\n> let's use SizeInBytes for storageFreeSpaceMin\r\n\r\nDone.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1157632606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1157633024","html_url":"https://github.com/apache/ratis/pull/652#issuecomment-1157633024","issue_url":"https://api.github.com/repos/apache/ratis/issues/652","id":1157633024,"node_id":"IC_kwDOBMxbGc5FABQA","user":{"login":"codings-dan","id":26144703,"node_id":"MDQ6VXNlcjI2MTQ0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/26144703?v=4","gravatar_id":"","url":"https://api.github.com/users/codings-dan","html_url":"https://github.com/codings-dan","followers_url":"https://api.github.com/users/codings-dan/followers","following_url":"https://api.github.com/users/codings-dan/following{/other_user}","gists_url":"https://api.github.com/users/codings-dan/gists{/gist_id}","starred_url":"https://api.github.com/users/codings-dan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codings-dan/subscriptions","organizations_url":"https://api.github.com/users/codings-dan/orgs","repos_url":"https://api.github.com/users/codings-dan/repos","events_url":"https://api.github.com/users/codings-dan/events{/privacy}","received_events_url":"https://api.github.com/users/codings-dan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-16T13:00:50Z","updated_at":"2022-06-16T13:00:50Z","author_association":"CONTRIBUTOR","body":"@szetszwo Thanks for help review the code, PTAL, thx!","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1157633024/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1157759300","html_url":"https://github.com/apache/ratis/pull/652#issuecomment-1157759300","issue_url":"https://api.github.com/repos/apache/ratis/issues/652","id":1157759300,"node_id":"IC_kwDOBMxbGc5FAgFE","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-16T14:58:25Z","updated_at":"2022-06-16T14:58:25Z","author_association":"CONTRIBUTOR","body":"@codings-dan , thanks for the update.  TestRaftStorage failed.  Please take a look.\r\nhttps://github.com/apache/ratis/runs/6920545804?check_suite_focus=true#step:5:562","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1157759300/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1158443045","html_url":"https://github.com/apache/ratis/pull/652#issuecomment-1158443045","issue_url":"https://api.github.com/repos/apache/ratis/issues/652","id":1158443045,"node_id":"IC_kwDOBMxbGc5FDHAl","user":{"login":"codings-dan","id":26144703,"node_id":"MDQ6VXNlcjI2MTQ0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/26144703?v=4","gravatar_id":"","url":"https://api.github.com/users/codings-dan","html_url":"https://github.com/codings-dan","followers_url":"https://api.github.com/users/codings-dan/followers","following_url":"https://api.github.com/users/codings-dan/following{/other_user}","gists_url":"https://api.github.com/users/codings-dan/gists{/gist_id}","starred_url":"https://api.github.com/users/codings-dan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codings-dan/subscriptions","organizations_url":"https://api.github.com/users/codings-dan/orgs","repos_url":"https://api.github.com/users/codings-dan/repos","events_url":"https://api.github.com/users/codings-dan/events{/privacy}","received_events_url":"https://api.github.com/users/codings-dan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-17T03:10:32Z","updated_at":"2022-06-17T03:10:42Z","author_association":"CONTRIBUTOR","body":"> TestRaftStorage failed.\r\n\r\nSimilar to the previous ut error, it was caused by improper handling of exceptions in reflection, I have fixed it","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1158443045/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1158489622","html_url":"https://github.com/apache/ratis/pull/652#issuecomment-1158489622","issue_url":"https://api.github.com/repos/apache/ratis/issues/652","id":1158489622,"node_id":"IC_kwDOBMxbGc5FDSYW","user":{"login":"codings-dan","id":26144703,"node_id":"MDQ6VXNlcjI2MTQ0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/26144703?v=4","gravatar_id":"","url":"https://api.github.com/users/codings-dan","html_url":"https://github.com/codings-dan","followers_url":"https://api.github.com/users/codings-dan/followers","following_url":"https://api.github.com/users/codings-dan/following{/other_user}","gists_url":"https://api.github.com/users/codings-dan/gists{/gist_id}","starred_url":"https://api.github.com/users/codings-dan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codings-dan/subscriptions","organizations_url":"https://api.github.com/users/codings-dan/orgs","repos_url":"https://api.github.com/users/codings-dan/repos","events_url":"https://api.github.com/users/codings-dan/events{/privacy}","received_events_url":"https://api.github.com/users/codings-dan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-17T04:55:04Z","updated_at":"2022-06-17T04:55:04Z","author_association":"CONTRIBUTOR","body":"The ci test error seems have noting to do with this code change.\r\n\r\nhttps://github.com/apache/ratis/runs/6930404226?check_suite_focus=true#step:5:611","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1158489622/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1158491436","html_url":"https://github.com/apache/ratis/pull/652#issuecomment-1158491436","issue_url":"https://api.github.com/repos/apache/ratis/issues/652","id":1158491436,"node_id":"IC_kwDOBMxbGc5FDS0s","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-17T04:59:11Z","updated_at":"2022-06-17T04:59:11Z","author_association":"CONTRIBUTOR","body":"Sure, let's restart the failed jobs.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/1158491436/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]