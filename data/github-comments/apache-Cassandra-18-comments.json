[{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1415254250","html_url":"https://github.com/apache/cassandra/pull/1891#issuecomment-1415254250","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1891","id":1415254250,"node_id":"IC_kwDOAAMmWM5UWxDq","user":{"login":"bereng","id":6973517,"node_id":"MDQ6VXNlcjY5NzM1MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6973517?v=4","gravatar_id":"","url":"https://api.github.com/users/bereng","html_url":"https://github.com/bereng","followers_url":"https://api.github.com/users/bereng/followers","following_url":"https://api.github.com/users/bereng/following{/other_user}","gists_url":"https://api.github.com/users/bereng/gists{/gist_id}","starred_url":"https://api.github.com/users/bereng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bereng/subscriptions","organizations_url":"https://api.github.com/users/bereng/orgs","repos_url":"https://api.github.com/users/bereng/repos","events_url":"https://api.github.com/users/bereng/events{/privacy}","received_events_url":"https://api.github.com/users/bereng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-03T07:46:46Z","updated_at":"2023-02-03T07:46:46Z","author_association":"CONTRIBUTOR","body":"CI [j8](https://app.circleci.com/pipelines/github/bereng/cassandra/854/workflows/d7e989af-0685-4c4c-ae43-951d94e61fe3)","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1415254250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1416802888","html_url":"https://github.com/apache/cassandra/pull/2062#issuecomment-1416802888","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2062","id":1416802888,"node_id":"IC_kwDOAAMmWM5UcrJI","user":{"login":"neshkeev","id":4223091,"node_id":"MDQ6VXNlcjQyMjMwOTE=","avatar_url":"https://avatars.githubusercontent.com/u/4223091?v=4","gravatar_id":"","url":"https://api.github.com/users/neshkeev","html_url":"https://github.com/neshkeev","followers_url":"https://api.github.com/users/neshkeev/followers","following_url":"https://api.github.com/users/neshkeev/following{/other_user}","gists_url":"https://api.github.com/users/neshkeev/gists{/gist_id}","starred_url":"https://api.github.com/users/neshkeev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neshkeev/subscriptions","organizations_url":"https://api.github.com/users/neshkeev/orgs","repos_url":"https://api.github.com/users/neshkeev/repos","events_url":"https://api.github.com/users/neshkeev/events{/privacy}","received_events_url":"https://api.github.com/users/neshkeev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-04T17:11:03Z","updated_at":"2023-02-04T17:11:03Z","author_association":"CONTRIBUTOR","body":"@smiklosovic , please let me know why the PR got closed. I don't understand why it happened and how one can be helpful to the project.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1416802888/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1416832561","html_url":"https://github.com/apache/cassandra/pull/2062#issuecomment-1416832561","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2062","id":1416832561,"node_id":"IC_kwDOAAMmWM5UcyYx","user":{"login":"smiklosovic","id":588603,"node_id":"MDQ6VXNlcjU4ODYwMw==","avatar_url":"https://avatars.githubusercontent.com/u/588603?v=4","gravatar_id":"","url":"https://api.github.com/users/smiklosovic","html_url":"https://github.com/smiklosovic","followers_url":"https://api.github.com/users/smiklosovic/followers","following_url":"https://api.github.com/users/smiklosovic/following{/other_user}","gists_url":"https://api.github.com/users/smiklosovic/gists{/gist_id}","starred_url":"https://api.github.com/users/smiklosovic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smiklosovic/subscriptions","organizations_url":"https://api.github.com/users/smiklosovic/orgs","repos_url":"https://api.github.com/users/smiklosovic/repos","events_url":"https://api.github.com/users/smiklosovic/events{/privacy}","received_events_url":"https://api.github.com/users/smiklosovic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-04T19:31:41Z","updated_at":"2023-02-04T19:31:41Z","author_association":"CONTRIBUTOR","body":"Hi @neshkeev , it was closed because we have committed the work into https://github.com/apache/cassandra/commit/f27790c96912ac9a83f052d8e6d0bfcdfe60ca0e\r\n\r\nOnce the work has been done, we tend to close the accompanying PR as it just cease to have the reason of its existence.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1416832561/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1420432630","html_url":"https://github.com/apache/cassandra/pull/1891#issuecomment-1420432630","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1891","id":1420432630,"node_id":"IC_kwDOAAMmWM5UqhT2","user":{"login":"bereng","id":6973517,"node_id":"MDQ6VXNlcjY5NzM1MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6973517?v=4","gravatar_id":"","url":"https://api.github.com/users/bereng","html_url":"https://github.com/bereng","followers_url":"https://api.github.com/users/bereng/followers","following_url":"https://api.github.com/users/bereng/following{/other_user}","gists_url":"https://api.github.com/users/bereng/gists{/gist_id}","starred_url":"https://api.github.com/users/bereng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bereng/subscriptions","organizations_url":"https://api.github.com/users/bereng/orgs","repos_url":"https://api.github.com/users/bereng/repos","events_url":"https://api.github.com/users/bereng/events{/privacy}","received_events_url":"https://api.github.com/users/bereng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T09:10:05Z","updated_at":"2023-02-07T09:10:05Z","author_association":"CONTRIBUTOR","body":"Added a commit that spares some bytes on serializations + changed scrubbed overflow data to cap to 2038 which makes more sense. Both are small changes:\r\n\r\nCI [here](https://app.circleci.com/pipelines/github/bereng/cassandra/860/workflows/3ac593f0-e2ff-4dc1-be8b-3e05e1c573a4) is green despite the red. Circle is having a bad day and the reds are just circle indications some nodes failed and tests got triggered again. Upon checking final results clicking on them we can see the tests passed.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1420432630/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1423750201","html_url":"https://github.com/apache/cassandra/pull/2110#issuecomment-1423750201","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2110","id":1423750201,"node_id":"IC_kwDOAAMmWM5U3LQ5","user":{"login":"bereng","id":6973517,"node_id":"MDQ6VXNlcjY5NzM1MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6973517?v=4","gravatar_id":"","url":"https://api.github.com/users/bereng","html_url":"https://github.com/bereng","followers_url":"https://api.github.com/users/bereng/followers","following_url":"https://api.github.com/users/bereng/following{/other_user}","gists_url":"https://api.github.com/users/bereng/gists{/gist_id}","starred_url":"https://api.github.com/users/bereng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bereng/subscriptions","organizations_url":"https://api.github.com/users/bereng/orgs","repos_url":"https://api.github.com/users/bereng/repos","events_url":"https://api.github.com/users/bereng/events{/privacy}","received_events_url":"https://api.github.com/users/bereng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T07:27:35Z","updated_at":"2023-02-09T07:27:35Z","author_association":"CONTRIBUTOR","body":"Nice one on splitting long tests","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1423750201/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1427440651","html_url":"https://github.com/apache/cassandra/pull/2110#issuecomment-1427440651","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2110","id":1427440651,"node_id":"IC_kwDOAAMmWM5VFQQL","user":{"login":"bereng","id":6973517,"node_id":"MDQ6VXNlcjY5NzM1MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6973517?v=4","gravatar_id":"","url":"https://api.github.com/users/bereng","html_url":"https://github.com/bereng","followers_url":"https://api.github.com/users/bereng/followers","following_url":"https://api.github.com/users/bereng/following{/other_user}","gists_url":"https://api.github.com/users/bereng/gists{/gist_id}","starred_url":"https://api.github.com/users/bereng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bereng/subscriptions","organizations_url":"https://api.github.com/users/bereng/orgs","repos_url":"https://api.github.com/users/bereng/repos","events_url":"https://api.github.com/users/bereng/events{/privacy}","received_events_url":"https://api.github.com/users/bereng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-13T06:58:45Z","updated_at":"2023-02-13T06:58:45Z","author_association":"CONTRIBUTOR","body":"LGTM +1","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1427440651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1432750802","html_url":"https://github.com/apache/cassandra/pull/2162#issuecomment-1432750802","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2162","id":1432750802,"node_id":"IC_kwDOAAMmWM5VZgrS","user":{"login":"smiklosovic","id":588603,"node_id":"MDQ6VXNlcjU4ODYwMw==","avatar_url":"https://avatars.githubusercontent.com/u/588603?v=4","gravatar_id":"","url":"https://api.github.com/users/smiklosovic","html_url":"https://github.com/smiklosovic","followers_url":"https://api.github.com/users/smiklosovic/followers","following_url":"https://api.github.com/users/smiklosovic/following{/other_user}","gists_url":"https://api.github.com/users/smiklosovic/gists{/gist_id}","starred_url":"https://api.github.com/users/smiklosovic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smiklosovic/subscriptions","organizations_url":"https://api.github.com/users/smiklosovic/orgs","repos_url":"https://api.github.com/users/smiklosovic/repos","events_url":"https://api.github.com/users/smiklosovic/events{/privacy}","received_events_url":"https://api.github.com/users/smiklosovic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-16T09:07:36Z","updated_at":"2023-02-16T09:07:36Z","author_association":"CONTRIBUTOR","body":"Hi @alexsyeo , could you please put all your PRs into one PR only?\r\n\r\nThank you","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1432750802/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1433940517","html_url":"https://github.com/apache/cassandra/pull/2162#issuecomment-1433940517","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2162","id":1433940517,"node_id":"IC_kwDOAAMmWM5VeDIl","user":{"login":"alexsyeo","id":20199552,"node_id":"MDQ6VXNlcjIwMTk5NTUy","avatar_url":"https://avatars.githubusercontent.com/u/20199552?v=4","gravatar_id":"","url":"https://api.github.com/users/alexsyeo","html_url":"https://github.com/alexsyeo","followers_url":"https://api.github.com/users/alexsyeo/followers","following_url":"https://api.github.com/users/alexsyeo/following{/other_user}","gists_url":"https://api.github.com/users/alexsyeo/gists{/gist_id}","starred_url":"https://api.github.com/users/alexsyeo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexsyeo/subscriptions","organizations_url":"https://api.github.com/users/alexsyeo/orgs","repos_url":"https://api.github.com/users/alexsyeo/repos","events_url":"https://api.github.com/users/alexsyeo/events{/privacy}","received_events_url":"https://api.github.com/users/alexsyeo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-17T00:52:35Z","updated_at":"2023-02-17T00:52:35Z","author_association":"NONE","body":"Will do","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1433940517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1433958891","html_url":"https://github.com/apache/cassandra/pull/2160#issuecomment-1433958891","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2160","id":1433958891,"node_id":"IC_kwDOAAMmWM5VeHnr","user":{"login":"alexsyeo","id":20199552,"node_id":"MDQ6VXNlcjIwMTk5NTUy","avatar_url":"https://avatars.githubusercontent.com/u/20199552?v=4","gravatar_id":"","url":"https://api.github.com/users/alexsyeo","html_url":"https://github.com/alexsyeo","followers_url":"https://api.github.com/users/alexsyeo/followers","following_url":"https://api.github.com/users/alexsyeo/following{/other_user}","gists_url":"https://api.github.com/users/alexsyeo/gists{/gist_id}","starred_url":"https://api.github.com/users/alexsyeo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexsyeo/subscriptions","organizations_url":"https://api.github.com/users/alexsyeo/orgs","repos_url":"https://api.github.com/users/alexsyeo/repos","events_url":"https://api.github.com/users/alexsyeo/events{/privacy}","received_events_url":"https://api.github.com/users/alexsyeo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-17T01:17:02Z","updated_at":"2023-02-17T01:17:02Z","author_association":"NONE","body":"Consolidated changes from these:\r\n\r\nhttps://github.com/apache/cassandra/pull/2161\r\nhttps://github.com/apache/cassandra/pull/2162","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1433958891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1439122639","html_url":"https://github.com/apache/cassandra/pull/2144#issuecomment-1439122639","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2144","id":1439122639,"node_id":"IC_kwDOAAMmWM5Vx0TP","user":{"login":"dcapwell","id":1852601,"node_id":"MDQ6VXNlcjE4NTI2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/1852601?v=4","gravatar_id":"","url":"https://api.github.com/users/dcapwell","html_url":"https://github.com/dcapwell","followers_url":"https://api.github.com/users/dcapwell/followers","following_url":"https://api.github.com/users/dcapwell/following{/other_user}","gists_url":"https://api.github.com/users/dcapwell/gists{/gist_id}","starred_url":"https://api.github.com/users/dcapwell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcapwell/subscriptions","organizations_url":"https://api.github.com/users/dcapwell/orgs","repos_url":"https://api.github.com/users/dcapwell/repos","events_url":"https://api.github.com/users/dcapwell/events{/privacy}","received_events_url":"https://api.github.com/users/dcapwell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-21T21:35:52Z","updated_at":"2023-02-21T21:35:52Z","author_association":"CONTRIBUTOR","body":"Ran stress and here are exceptions that I saw\r\n\r\n```\r\njava.lang.NullPointerException: null\r\n        at accord.local.Commands$NotifyWaitingOn.accept(Commands.java:718)\r\n        at accord.local.Commands$NotifyWaitingOn.accept(Commands.java:651)\r\n        at org.apache.cassandra.service.accord.async.AsyncOperation$ForConsumer.apply(AsyncOperation.java:322)\r\n        at org.apache.cassandra.service.accord.async.AsyncOperation$ForConsumer.apply(AsyncOperation.java:309)\r\n        at org.apache.cassandra.service.accord.async.AsyncOperation.runInternal(AsyncOperation.java:207)\r\n        at org.apache.cassandra.service.accord.async.AsyncOperation.run(AsyncOperation.java:247)\r\n        at org.apache.cassandra.service.accord.async.AsyncOperation.callback(AsyncOperation.java:158)\r\n        at accord.utils.async.AsyncCallbacks.lambda$null$0(AsyncCallbacks.java:31)\r\n        at org.apache.cassandra.concurrent.ExecutionFailure$1.run(ExecutionFailure.java:133)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\n```\r\n\r\n```\r\njava.lang.NullPointerException: null\r\n        at accord.primitives.Range$EndInclusive.compareTo(Range.java:47)\r\n        at accord.primitives.AbstractKeys.lambda$findNextIntersection$1(AbstractKeys.java:130)\r\n        at accord.utils.SortedArrays.exponentialSearch(SortedArrays.java:604)\r\n        at accord.utils.SortedArrays.findNextIntersection(SortedArrays.java:801)\r\n        at accord.utils.SortedArrays.findNextIntersectionWithMultipleMatches(SortedArrays.java:744)\r\n        at accord.primitives.AbstractKeys.findNextIntersection(AbstractKeys.java:130)\r\n        at accord.topology.Topology.subsetFor(Topology.java:257)\r\n        at accord.topology.Topology.forSelection(Topology.java:203)\r\n        at accord.topology.Topology.forSelection(Topology.java:198)\r\n        at accord.topology.TopologyManager.preciseEpochs(TopologyManager.java:359)\r\n        at accord.coordinate.CheckShards.topologyFor(CheckShards.java:57)\r\n        at accord.coordinate.CheckShards.<init>(CheckShards.java:49)\r\n        at accord.coordinate.MaybeRecover.<init>(MaybeRecover.java:50)\r\n        at accord.coordinate.MaybeRecover.maybeRecover(MaybeRecover.java:60)\r\n        at accord.local.Node.maybeRecover(Node.java:486)\r\n        at accord.impl.SimpleProgressLog$Instance$State$CoordinateState.lambda$run$6(SimpleProgressLog.java:243)\r\n        at accord.local.Node.withEpoch(Node.java:199)\r\n        at accord.impl.SimpleProgressLog$Instance$State$CoordinateState.run(SimpleProgressLog.java:241)\r\n        at accord.impl.SimpleProgressLog$Instance.lambda$run$3(SimpleProgressLog.java:829)\r\n        at org.apache.cassandra.service.accord.async.AsyncOperation$ForConsumer.apply(AsyncOperation.java:322)\r\n        at org.apache.cassandra.service.accord.async.AsyncOperation$ForConsumer.apply(AsyncOperation.java:309)\r\n        at org.apache.cassandra.service.accord.async.AsyncOperation.runInternal(AsyncOperation.java:207)\r\n        at org.apache.cassandra.service.accord.async.AsyncOperation.run(AsyncOperation.java:247)\r\n        at org.apache.cassandra.concurrent.FutureTask$1.call(FutureTask.java:96)\r\n        at org.apache.cassandra.concurrent.FutureTask.call(FutureTask.java:61)\r\n        at org.apache.cassandra.concurrent.FutureTask.run(FutureTask.java:71)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\n```\r\n\r\n```\r\njava.lang.IllegalStateException: null\r\n        at accord.utils.Invariants.illegalState(Invariants.java:44)\r\n        at accord.utils.Invariants.illegalState(Invariants.java:49)\r\n        at accord.utils.Invariants.checkState(Invariants.java:91)\r\n        at accord.impl.SimpleProgressLog$Instance.invalidated(SimpleProgressLog.java:745)\r\n        at accord.local.Commands.commitInvalidate(Commands.java:354)\r\n        at accord.messages.Commit$Invalidate.lambda$process$0(Commit.java:285)\r\n        at accord.local.CommandStores$1.apply(CommandStores.java:333)\r\n        at accord.local.CommandStores$1.apply(CommandStores.java:329)\r\n        at org.apache.cassandra.service.accord.async.AsyncOperation$ForFunction.apply(AsyncOperation.java:300)\r\n        at org.apache.cassandra.service.accord.async.AsyncOperation$ForFunction.apply(AsyncOperation.java:287)\r\n        at org.apache.cassandra.service.accord.async.AsyncOperation.runInternal(AsyncOperation.java:207)\r\n        at org.apache.cassandra.service.accord.async.AsyncOperation.run(AsyncOperation.java:247)\r\n        at org.apache.cassandra.concurrent.FutureTask$1.call(FutureTask.java:96)\r\n        at org.apache.cassandra.concurrent.FutureTask.call(FutureTask.java:61)\r\n        at org.apache.cassandra.concurrent.FutureTask.run(FutureTask.java:71)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\n```\r\n\r\n```\r\njava.lang.IllegalStateException: null\r\n        at accord.utils.Invariants.illegalState(Invariants.java:44)\r\n        at accord.utils.Invariants.illegalState(Invariants.java:49)\r\n        at accord.utils.Invariants.checkState(Invariants.java:91)\r\n        at accord.impl.SimpleProgressLog$Instance.invalidated(SimpleProgressLog.java:745)\r\n        at accord.local.Commands.commitInvalidate(Commands.java:354)\r\n        at accord.coordinate.Invalidate.lambda$commitInvalidate$2(Invalidate.java:271)\r\n        at accord.local.CommandStores$1.apply(CommandStores.java:333)\r\n        at accord.local.CommandStores$1.apply(CommandStores.java:329)\r\n        at org.apache.cassandra.service.accord.async.AsyncOperation$ForFunction.apply(AsyncOperation.java:300)\r\n        at org.apache.cassandra.service.accord.async.AsyncOperation$ForFunction.apply(AsyncOperation.java:287)\r\n        at org.apache.cassandra.service.accord.async.AsyncOperation.runInternal(AsyncOperation.java:207)\r\n        at org.apache.cassandra.service.accord.async.AsyncOperation.run(AsyncOperation.java:247)\r\n        at org.apache.cassandra.concurrent.FutureTask$1.call(FutureTask.java:96)\r\n        at org.apache.cassandra.concurrent.FutureTask.call(FutureTask.java:61)\r\n        at org.apache.cassandra.concurrent.FutureTask.run(FutureTask.java:71)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\n```\r\n\r\n```\r\njava.lang.IllegalArgumentException: Unsupported listener type: accord.messages.Defer\r\n        at org.apache.cassandra.service.accord.serializers.ListenerSerializers$Kind.of(ListenerSerializers.java:47)\r\n        at org.apache.cassandra.service.accord.serializers.ListenerSerializers$Kind.access$000(ListenerSerializers.java:35)\r\n        at org.apache.cassandra.service.accord.serializers.ListenerSerializers$3.serializedSize(ListenerSerializers.java:134)\r\n        at org.apache.cassandra.service.accord.serializers.ListenerSerializers$3.serializedSize(ListenerSerializers.java:95)\r\n        at org.apache.cassandra.io.LocalVersionedSerializer.serializedSize(LocalVersionedSerializer.java:91)\r\n        at org.apache.cassandra.service.accord.AccordKeyspace.serialize(AccordKeyspace.java:317)\r\n        at org.apache.cassandra.service.accord.AccordKeyspace.lambda$getCommandMutation$5(AccordKeyspace.java:510)\r\n        at org.apache.cassandra.service.accord.AccordKeyspace.addSetChanges(AccordKeyspace.java:440)\r\n        at org.apache.cassandra.service.accord.AccordKeyspace.getCommandMutation(AccordKeyspace.java:510)\r\n        at org.apache.cassandra.service.accord.async.AsyncWriter.lambda$assembleWrites$1(AsyncWriter.java:88)\r\n        at java.base/java.util.HashMap.forEach(HashMap.java:1337)\r\n        at org.apache.cassandra.service.accord.async.AsyncWriter.assembleWrites(AsyncWriter.java:85)\r\n        at org.apache.cassandra.service.accord.async.AsyncWriter.maybeDispatchWrites(AsyncWriter.java:116)\r\n        at org.apache.cassandra.service.accord.async.AsyncWriter.save(AsyncWriter.java:155)\r\n        at org.apache.cassandra.service.accord.async.AsyncOperation.runInternal(AsyncOperation.java:213)\r\n        at org.apache.cassandra.service.accord.async.AsyncOperation.run(AsyncOperation.java:247)\r\n        at org.apache.cassandra.service.accord.async.AsyncOperation.callback(AsyncOperation.java:158)\r\n        at accord.utils.async.AsyncCallbacks.lambda$null$0(AsyncCallbacks.java:31)\r\n        at org.apache.cassandra.concurrent.ExecutionFailure$1.run(ExecutionFailure.java:133)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\n```\r\n\r\n\r\n```\r\njava.lang.NullPointerException: null\r\n        at org.apache.cassandra.service.accord.serializers.CommandSerializers$TimestampSerializer.serialize(CommandSerializers.java:81)\r\n        at org.apache.cassandra.service.accord.serializers.CommandsForKeySerializer$AccordCFKLoader.saveForCFK(CommandsForKeySerializer.java:139)\r\n        at org.apache.cassandra.service.accord.serializers.CommandsForKeySerializer$AccordCFKLoader.saveForCFK(CommandsForKeySerializer.java:79)\r\n        at accord.impl.CommandsForKey$CommandTimeseries$Update.add(CommandsForKey.java:214)\r\n        at accord.impl.SafeCommandsForKey.listenerUpdate(SafeCommandsForKey.java:116)\r\n        at accord.impl.CommandsForKey$Listener.onChange(CommandsForKey.java:271)\r\n        at accord.local.SafeCommandStore.lambda$notifyListeners$1(SafeCommandStore.java:115)\r\n        at org.apache.cassandra.service.accord.async.AsyncOperation$ForConsumer.apply(AsyncOperation.java:322)\r\n        at org.apache.cassandra.service.accord.async.AsyncOperation$ForConsumer.apply(AsyncOperation.java:309)\r\n        at org.apache.cassandra.service.accord.async.AsyncOperation.runInternal(AsyncOperation.java:207)\r\n        at org.apache.cassandra.service.accord.async.AsyncOperation.run(AsyncOperation.java:247)\r\n        at org.apache.cassandra.service.accord.async.AsyncOperation.callback(AsyncOperation.java:158)\r\n        at accord.utils.async.AsyncCallbacks.lambda$null$0(AsyncCallbacks.java:31)\r\n        at org.apache.cassandra.concurrent.ExecutionFailure$1.run(ExecutionFailure.java:133)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1439122639/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1440575485","html_url":"https://github.com/apache/cassandra/pull/2143#issuecomment-1440575485","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2143","id":1440575485,"node_id":"IC_kwDOAAMmWM5V3W_9","user":{"login":"dchenbecker","id":24858,"node_id":"MDQ6VXNlcjI0ODU4","avatar_url":"https://avatars.githubusercontent.com/u/24858?v=4","gravatar_id":"","url":"https://api.github.com/users/dchenbecker","html_url":"https://github.com/dchenbecker","followers_url":"https://api.github.com/users/dchenbecker/followers","following_url":"https://api.github.com/users/dchenbecker/following{/other_user}","gists_url":"https://api.github.com/users/dchenbecker/gists{/gist_id}","starred_url":"https://api.github.com/users/dchenbecker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dchenbecker/subscriptions","organizations_url":"https://api.github.com/users/dchenbecker/orgs","repos_url":"https://api.github.com/users/dchenbecker/repos","events_url":"https://api.github.com/users/dchenbecker/events{/privacy}","received_events_url":"https://api.github.com/users/dchenbecker/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-22T18:29:55Z","updated_at":"2023-02-22T18:29:55Z","author_association":"CONTRIBUTOR","body":"This was merged separately, so I'm closing this PR","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1440575485/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1445011660","html_url":"https://github.com/apache/cassandra/pull/1950#issuecomment-1445011660","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1950","id":1445011660,"node_id":"IC_kwDOAAMmWM5WISDM","user":{"login":"michaelsembwever","id":559444,"node_id":"MDQ6VXNlcjU1OTQ0NA==","avatar_url":"https://avatars.githubusercontent.com/u/559444?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelsembwever","html_url":"https://github.com/michaelsembwever","followers_url":"https://api.github.com/users/michaelsembwever/followers","following_url":"https://api.github.com/users/michaelsembwever/following{/other_user}","gists_url":"https://api.github.com/users/michaelsembwever/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelsembwever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelsembwever/subscriptions","organizations_url":"https://api.github.com/users/michaelsembwever/orgs","repos_url":"https://api.github.com/users/michaelsembwever/repos","events_url":"https://api.github.com/users/michaelsembwever/events{/privacy}","received_events_url":"https://api.github.com/users/michaelsembwever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-25T06:37:27Z","updated_at":"2023-02-25T06:37:27Z","author_association":"MEMBER","body":"\r\nSome questions…\r\n\r\n1. isn't this a wrapper to either conf/cassandra-env.sh or bin/cassandra.in.sh ? the name cassandra-conf.sh is confusing…\r\n\r\n2. scripts should be silent when successful, by default\r\n\r\n3. you can't presume the file is in the same directory, or where anything is being executed from, \r\n\r\nwrt (1), couldn't we instead pull a cassandra-env.conf out of cassandra-env.sh so to split the logic and the user-editable variables into separate files …? ","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1445011660/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1445186486","html_url":"https://github.com/apache/cassandra/pull/1950#issuecomment-1445186486","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1950","id":1445186486,"node_id":"IC_kwDOAAMmWM5WI8u2","user":{"login":"smiklosovic","id":588603,"node_id":"MDQ6VXNlcjU4ODYwMw==","avatar_url":"https://avatars.githubusercontent.com/u/588603?v=4","gravatar_id":"","url":"https://api.github.com/users/smiklosovic","html_url":"https://github.com/smiklosovic","followers_url":"https://api.github.com/users/smiklosovic/followers","following_url":"https://api.github.com/users/smiklosovic/following{/other_user}","gists_url":"https://api.github.com/users/smiklosovic/gists{/gist_id}","starred_url":"https://api.github.com/users/smiklosovic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smiklosovic/subscriptions","organizations_url":"https://api.github.com/users/smiklosovic/orgs","repos_url":"https://api.github.com/users/smiklosovic/repos","events_url":"https://api.github.com/users/smiklosovic/events{/privacy}","received_events_url":"https://api.github.com/users/smiklosovic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-25T19:20:29Z","updated_at":"2023-02-25T19:20:29Z","author_association":"CONTRIBUTOR","body":"I fully agree with the third point, @michaelsembwever . That is what I was trying to communicate as well. I think that Claude reached the same conclusion about 1) and I dont have any objections with 2), definitely it should be silent when executed just fine to follow basic *nix principles. \r\n\r\nNot sure about your last question. Maybe Claude can try to model that, just for the sake of seeing how that would look like. ","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1445186486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1445962680","html_url":"https://github.com/apache/cassandra/pull/1950#issuecomment-1445962680","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1950","id":1445962680,"node_id":"IC_kwDOAAMmWM5WL6O4","user":{"login":"Claudenw","id":2439838,"node_id":"MDQ6VXNlcjI0Mzk4Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2439838?v=4","gravatar_id":"","url":"https://api.github.com/users/Claudenw","html_url":"https://github.com/Claudenw","followers_url":"https://api.github.com/users/Claudenw/followers","following_url":"https://api.github.com/users/Claudenw/following{/other_user}","gists_url":"https://api.github.com/users/Claudenw/gists{/gist_id}","starred_url":"https://api.github.com/users/Claudenw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Claudenw/subscriptions","organizations_url":"https://api.github.com/users/Claudenw/orgs","repos_url":"https://api.github.com/users/Claudenw/repos","events_url":"https://api.github.com/users/Claudenw/events{/privacy}","received_events_url":"https://api.github.com/users/Claudenw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-27T09:12:53Z","updated_at":"2023-02-27T09:12:53Z","author_association":"CONTRIBUTOR","body":"@michaelsembwever \r\n\r\n1. I agree the name is confusing, does anyone have a better name?  The goal of this change is to simply remove the boilerplate from the other scripts while providing debugging capabilities to more easily detect the issue that caused CASSANDRA-17773.  I did not make any change to operation of the scripts.  Pulling a `cassandra-env.conf` out of `cassandra-env.sh` may be a reasonable thing to do but is outside the scope of this change.\r\n2. Script is silent by default.  I think you are referring to the `-x` argument.  That was included in error and was a debugging switch.\r\n3. This script has to run before before we can assume any environment variables are set as it sets many of them through the logic that pulls in the cassandra.in.sh script.  I make 2 assumptions for Cassandra provided scripts.  \r\n    * The scripts in `'bin/` are not to be edited by end users\r\n    * The scripts provided by Cassandra are all deployed in `bin/`.  Thus the `cassandra-conf.sh` will be in the same directory as `nodetool`.  However, I realise that there was an error in the way the file was included.  The code in nodetool now uses `realpath` and `dirname` to figure out where `cassandra-conf.sh` is.  This means that symbolic links to `nodetool` will work correctly.  (other cassandra provided scripts in `bin/` will be configured the same way)\r\n\r\nFor user created scripts I assume they know where `bin/` is and will modify their scripts to source `cassandra-conf.sh` from there.\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1445962680/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1446119787","html_url":"https://github.com/apache/cassandra/pull/1950#issuecomment-1446119787","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1950","id":1446119787,"node_id":"IC_kwDOAAMmWM5WMglr","user":{"login":"smiklosovic","id":588603,"node_id":"MDQ6VXNlcjU4ODYwMw==","avatar_url":"https://avatars.githubusercontent.com/u/588603?v=4","gravatar_id":"","url":"https://api.github.com/users/smiklosovic","html_url":"https://github.com/smiklosovic","followers_url":"https://api.github.com/users/smiklosovic/followers","following_url":"https://api.github.com/users/smiklosovic/following{/other_user}","gists_url":"https://api.github.com/users/smiklosovic/gists{/gist_id}","starred_url":"https://api.github.com/users/smiklosovic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smiklosovic/subscriptions","organizations_url":"https://api.github.com/users/smiklosovic/orgs","repos_url":"https://api.github.com/users/smiklosovic/repos","events_url":"https://api.github.com/users/smiklosovic/events{/privacy}","received_events_url":"https://api.github.com/users/smiklosovic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-27T11:01:35Z","updated_at":"2023-02-27T11:01:35Z","author_association":"CONTRIBUTOR","body":"I yet again want to reiterate the fact that environment property `CASSANDRA_HOME` might be set in user's environment and it is in fact set way before any script is executed so the third point is not entirely true. ","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1446119787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1446230130","html_url":"https://github.com/apache/cassandra/pull/1950#issuecomment-1446230130","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1950","id":1446230130,"node_id":"IC_kwDOAAMmWM5WM7hy","user":{"login":"Claudenw","id":2439838,"node_id":"MDQ6VXNlcjI0Mzk4Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2439838?v=4","gravatar_id":"","url":"https://api.github.com/users/Claudenw","html_url":"https://github.com/Claudenw","followers_url":"https://api.github.com/users/Claudenw/followers","following_url":"https://api.github.com/users/Claudenw/following{/other_user}","gists_url":"https://api.github.com/users/Claudenw/gists{/gist_id}","starred_url":"https://api.github.com/users/Claudenw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Claudenw/subscriptions","organizations_url":"https://api.github.com/users/Claudenw/orgs","repos_url":"https://api.github.com/users/Claudenw/repos","events_url":"https://api.github.com/users/Claudenw/events{/privacy}","received_events_url":"https://api.github.com/users/Claudenw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-27T12:18:22Z","updated_at":"2023-02-27T12:22:57Z","author_association":"CONTRIBUTOR","body":"If CASSANDRA_HOME were set in every case then there would be no need for `cassandra.in.sh`  to set it, and yet it does.  \r\n`cassandra-conf.sh` can not depend upon CASSANDRA_HOME being set.\r\n\r\nIn fact looking at an unedited `sstableutil` code you can see that CASSANDRA_HOME is not used and may be set by `cassandra.in.sh` \r\n\r\nhttps://github.com/apache/cassandra/blob/98a055e51c8eb6b788d3d0fe94f3d2576ab14d39/bin/sstableutil#L19-L33","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1446230130/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1449645742","html_url":"https://github.com/apache/cassandra/pull/1891#issuecomment-1449645742","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1891","id":1449645742,"node_id":"IC_kwDOAAMmWM5WZ9au","user":{"login":"bereng","id":6973517,"node_id":"MDQ6VXNlcjY5NzM1MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6973517?v=4","gravatar_id":"","url":"https://api.github.com/users/bereng","html_url":"https://github.com/bereng","followers_url":"https://api.github.com/users/bereng/followers","following_url":"https://api.github.com/users/bereng/following{/other_user}","gists_url":"https://api.github.com/users/bereng/gists{/gist_id}","starred_url":"https://api.github.com/users/bereng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bereng/subscriptions","organizations_url":"https://api.github.com/users/bereng/orgs","repos_url":"https://api.github.com/users/bereng/repos","events_url":"https://api.github.com/users/bereng/events{/privacy}","received_events_url":"https://api.github.com/users/bereng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-01T09:11:50Z","updated_at":"2023-03-01T09:11:50Z","author_association":"CONTRIBUTOR","body":"As usual if I resolved some conversation prematurely let me know and I'll reopen.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1449645742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1449653444","html_url":"https://github.com/apache/cassandra/pull/1891#issuecomment-1449653444","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1891","id":1449653444,"node_id":"IC_kwDOAAMmWM5WZ_TE","user":{"login":"belliottsmith","id":5220766,"node_id":"MDQ6VXNlcjUyMjA3NjY=","avatar_url":"https://avatars.githubusercontent.com/u/5220766?v=4","gravatar_id":"","url":"https://api.github.com/users/belliottsmith","html_url":"https://github.com/belliottsmith","followers_url":"https://api.github.com/users/belliottsmith/followers","following_url":"https://api.github.com/users/belliottsmith/following{/other_user}","gists_url":"https://api.github.com/users/belliottsmith/gists{/gist_id}","starred_url":"https://api.github.com/users/belliottsmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/belliottsmith/subscriptions","organizations_url":"https://api.github.com/users/belliottsmith/orgs","repos_url":"https://api.github.com/users/belliottsmith/repos","events_url":"https://api.github.com/users/belliottsmith/events{/privacy}","received_events_url":"https://api.github.com/users/belliottsmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-01T09:15:19Z","updated_at":"2023-03-01T09:15:19Z","author_association":"CONTRIBUTOR","body":"It’s usually preferable to let the reviewer resolve their own feedback if possible, to avoid that dance ","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1449653444/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1449683574","html_url":"https://github.com/apache/cassandra/pull/1891#issuecomment-1449683574","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1891","id":1449683574,"node_id":"IC_kwDOAAMmWM5WaGp2","user":{"login":"bereng","id":6973517,"node_id":"MDQ6VXNlcjY5NzM1MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6973517?v=4","gravatar_id":"","url":"https://api.github.com/users/bereng","html_url":"https://github.com/bereng","followers_url":"https://api.github.com/users/bereng/followers","following_url":"https://api.github.com/users/bereng/following{/other_user}","gists_url":"https://api.github.com/users/bereng/gists{/gist_id}","starred_url":"https://api.github.com/users/bereng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bereng/subscriptions","organizations_url":"https://api.github.com/users/bereng/orgs","repos_url":"https://api.github.com/users/bereng/repos","events_url":"https://api.github.com/users/bereng/events{/privacy}","received_events_url":"https://api.github.com/users/bereng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-01T09:28:51Z","updated_at":"2023-03-01T09:28:51Z","author_association":"CONTRIBUTOR","body":"Do you have an option to resolve comments here? I don't have that option in the tickets I review so I would assume you wouldn't here either.\r\n\r\nIn any case I prefer to keep things tidy and I'll be happy to reopen always.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1449683574/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1449689989","html_url":"https://github.com/apache/cassandra/pull/1891#issuecomment-1449689989","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1891","id":1449689989,"node_id":"IC_kwDOAAMmWM5WaIOF","user":{"login":"belliottsmith","id":5220766,"node_id":"MDQ6VXNlcjUyMjA3NjY=","avatar_url":"https://avatars.githubusercontent.com/u/5220766?v=4","gravatar_id":"","url":"https://api.github.com/users/belliottsmith","html_url":"https://github.com/belliottsmith","followers_url":"https://api.github.com/users/belliottsmith/followers","following_url":"https://api.github.com/users/belliottsmith/following{/other_user}","gists_url":"https://api.github.com/users/belliottsmith/gists{/gist_id}","starred_url":"https://api.github.com/users/belliottsmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/belliottsmith/subscriptions","organizations_url":"https://api.github.com/users/belliottsmith/orgs","repos_url":"https://api.github.com/users/belliottsmith/repos","events_url":"https://api.github.com/users/belliottsmith/events{/privacy}","received_events_url":"https://api.github.com/users/belliottsmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-01T09:31:57Z","updated_at":"2023-03-01T09:31:57Z","author_association":"CONTRIBUTOR","body":"Yes, I have an option to resolve (and unresolve) comments here. If commenters are unable to resolve their own comments that’s a permission issue we should resolve with ASF Infra.\r\n\r\nWe don’t have well defined etiquettes here, but the author should not just assume it’s fine because they want to - I know several reviewers whose process would be disrupted by this, and creating additional burden for reviewers is not cool. You should at least ask reviewers if they are ok with this before doing it.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1449689989/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1449746183","html_url":"https://github.com/apache/cassandra/pull/1891#issuecomment-1449746183","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1891","id":1449746183,"node_id":"IC_kwDOAAMmWM5WaV8H","user":{"login":"bereng","id":6973517,"node_id":"MDQ6VXNlcjY5NzM1MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6973517?v=4","gravatar_id":"","url":"https://api.github.com/users/bereng","html_url":"https://github.com/bereng","followers_url":"https://api.github.com/users/bereng/followers","following_url":"https://api.github.com/users/bereng/following{/other_user}","gists_url":"https://api.github.com/users/bereng/gists{/gist_id}","starred_url":"https://api.github.com/users/bereng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bereng/subscriptions","organizations_url":"https://api.github.com/users/bereng/orgs","repos_url":"https://api.github.com/users/bereng/repos","events_url":"https://api.github.com/users/bereng/events{/privacy}","received_events_url":"https://api.github.com/users/bereng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-01T09:57:57Z","updated_at":"2023-03-01T09:57:57Z","author_association":"CONTRIBUTOR","body":"It's also extra burden and distracting to have a neverending lists of unresolved comments, at least for me. 99% of the comments I resolved haven't come back so it's a good hit rate so far. There's no silver bullet I'm afraid. I did ping Andres to let me know if it was a problem but I didn't ask you. I'll wait for you to resolve then, let me know if I you want me to unresolve anything.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1449746183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1449755141","html_url":"https://github.com/apache/cassandra/pull/1891#issuecomment-1449755141","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1891","id":1449755141,"node_id":"IC_kwDOAAMmWM5WaYIF","user":{"login":"belliottsmith","id":5220766,"node_id":"MDQ6VXNlcjUyMjA3NjY=","avatar_url":"https://avatars.githubusercontent.com/u/5220766?v=4","gravatar_id":"","url":"https://api.github.com/users/belliottsmith","html_url":"https://github.com/belliottsmith","followers_url":"https://api.github.com/users/belliottsmith/followers","following_url":"https://api.github.com/users/belliottsmith/following{/other_user}","gists_url":"https://api.github.com/users/belliottsmith/gists{/gist_id}","starred_url":"https://api.github.com/users/belliottsmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/belliottsmith/subscriptions","organizations_url":"https://api.github.com/users/belliottsmith/orgs","repos_url":"https://api.github.com/users/belliottsmith/repos","events_url":"https://api.github.com/users/belliottsmith/events{/privacy}","received_events_url":"https://api.github.com/users/belliottsmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-01T10:01:21Z","updated_at":"2023-03-01T10:01:21Z","author_association":"CONTRIBUTOR","body":"A good policy is that reviewers’ time is more valuable than your own - and expecting them to expand every resolved comment to check it was correctly closed, particularly when there are multiple rounds of feedback, is burdensome. \r\n\r\nI haven’t provided much feedback here, so I’m not bothered, I’m just alerting you to the fact you should consider this going forwards. I would care if I were performing a proper review and I know others would too.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1449755141/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1449778160","html_url":"https://github.com/apache/cassandra/pull/1891#issuecomment-1449778160","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1891","id":1449778160,"node_id":"IC_kwDOAAMmWM5Wadvw","user":{"login":"bereng","id":6973517,"node_id":"MDQ6VXNlcjY5NzM1MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6973517?v=4","gravatar_id":"","url":"https://api.github.com/users/bereng","html_url":"https://github.com/bereng","followers_url":"https://api.github.com/users/bereng/followers","following_url":"https://api.github.com/users/bereng/following{/other_user}","gists_url":"https://api.github.com/users/bereng/gists{/gist_id}","starred_url":"https://api.github.com/users/bereng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bereng/subscriptions","organizations_url":"https://api.github.com/users/bereng/orgs","repos_url":"https://api.github.com/users/bereng/repos","events_url":"https://api.github.com/users/bereng/events{/privacy}","received_events_url":"https://api.github.com/users/bereng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-01T10:11:28Z","updated_at":"2023-03-01T10:11:28Z","author_association":"CONTRIBUTOR","body":"Oh icwym now. When I am reviewing I use the trail of emails I get that have links direct to particular comments so that's not a problem for me. But if you're a reviewer coming straight to a PR you just see a sea of resolved comments...","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1449778160/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1449870295","html_url":"https://github.com/apache/cassandra/pull/1891#issuecomment-1449870295","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1891","id":1449870295,"node_id":"IC_kwDOAAMmWM5Wa0PX","user":{"login":"bereng","id":6973517,"node_id":"MDQ6VXNlcjY5NzM1MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6973517?v=4","gravatar_id":"","url":"https://api.github.com/users/bereng","html_url":"https://github.com/bereng","followers_url":"https://api.github.com/users/bereng/followers","following_url":"https://api.github.com/users/bereng/following{/other_user}","gists_url":"https://api.github.com/users/bereng/gists{/gist_id}","starred_url":"https://api.github.com/users/bereng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bereng/subscriptions","organizations_url":"https://api.github.com/users/bereng/orgs","repos_url":"https://api.github.com/users/bereng/repos","events_url":"https://api.github.com/users/bereng/events{/privacy}","received_events_url":"https://api.github.com/users/bereng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-01T10:54:32Z","updated_at":"2023-03-01T10:54:32Z","author_association":"CONTRIBUTOR","body":"Just a quick note that I did some perf QA on our internal tool and the latest changes don't show any perf degradation which is nice.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1449870295/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1450050986","html_url":"https://github.com/apache/cassandra/pull/1891#issuecomment-1450050986","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1891","id":1450050986,"node_id":"IC_kwDOAAMmWM5WbgWq","user":{"login":"adelapena","id":5229055,"node_id":"MDQ6VXNlcjUyMjkwNTU=","avatar_url":"https://avatars.githubusercontent.com/u/5229055?v=4","gravatar_id":"","url":"https://api.github.com/users/adelapena","html_url":"https://github.com/adelapena","followers_url":"https://api.github.com/users/adelapena/followers","following_url":"https://api.github.com/users/adelapena/following{/other_user}","gists_url":"https://api.github.com/users/adelapena/gists{/gist_id}","starred_url":"https://api.github.com/users/adelapena/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adelapena/subscriptions","organizations_url":"https://api.github.com/users/adelapena/orgs","repos_url":"https://api.github.com/users/adelapena/repos","events_url":"https://api.github.com/users/adelapena/events{/privacy}","received_events_url":"https://api.github.com/users/adelapena/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-01T12:16:19Z","updated_at":"2023-03-01T12:16:19Z","author_association":"CONTRIBUTOR","body":"I also prefer to keep the conversations open until the reviewer has acknowledged the changes, or at least remained silent for a time. This makes it easy to follow the discussions on the PR and verify if/how the suggestions have been addressed. I also prefer to follow discussions on the PR page over email notification threads because it groups discussions by topic and code context, instead of just chronologically. I also find difficult to distinguish between open and resolved conversations on email notification threads.\r\n\r\nI also think that keeping the conversations open makes them more visible for additional reviewers.\r\n\r\nThe exception to this are trivial suggestions that are addressed exactly as suggested, such adding an `@Override` annotation, fixing typos, and that kind of nits. IMO those conversations are unlikely to be discussed by the reviewer and thus they can be immediately resolved.\r\n\r\nSo I guess the rule of thumb would be keeping the conversation open if you think the reviewers might want to review the changes or they might have an objection to them. wdyt?","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1450050986/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1450122131","html_url":"https://github.com/apache/cassandra/pull/1891#issuecomment-1450122131","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1891","id":1450122131,"node_id":"IC_kwDOAAMmWM5WbxuT","user":{"login":"bereng","id":6973517,"node_id":"MDQ6VXNlcjY5NzM1MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6973517?v=4","gravatar_id":"","url":"https://api.github.com/users/bereng","html_url":"https://github.com/bereng","followers_url":"https://api.github.com/users/bereng/followers","following_url":"https://api.github.com/users/bereng/following{/other_user}","gists_url":"https://api.github.com/users/bereng/gists{/gist_id}","starred_url":"https://api.github.com/users/bereng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bereng/subscriptions","organizations_url":"https://api.github.com/users/bereng/orgs","repos_url":"https://api.github.com/users/bereng/repos","events_url":"https://api.github.com/users/bereng/events{/privacy}","received_events_url":"https://api.github.com/users/bereng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-01T13:03:51Z","updated_at":"2023-03-01T13:03:51Z","author_association":"CONTRIBUTOR","body":"Sure we can do that but lets close the obvious immediate ones at least.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1450122131/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1451610408","html_url":"https://github.com/apache/cassandra/pull/1891#issuecomment-1451610408","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1891","id":1451610408,"node_id":"IC_kwDOAAMmWM5WhdEo","user":{"login":"belliottsmith","id":5220766,"node_id":"MDQ6VXNlcjUyMjA3NjY=","avatar_url":"https://avatars.githubusercontent.com/u/5220766?v=4","gravatar_id":"","url":"https://api.github.com/users/belliottsmith","html_url":"https://github.com/belliottsmith","followers_url":"https://api.github.com/users/belliottsmith/followers","following_url":"https://api.github.com/users/belliottsmith/following{/other_user}","gists_url":"https://api.github.com/users/belliottsmith/gists{/gist_id}","starred_url":"https://api.github.com/users/belliottsmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/belliottsmith/subscriptions","organizations_url":"https://api.github.com/users/belliottsmith/orgs","repos_url":"https://api.github.com/users/belliottsmith/repos","events_url":"https://api.github.com/users/belliottsmith/events{/privacy}","received_events_url":"https://api.github.com/users/belliottsmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-02T10:04:54Z","updated_at":"2023-03-02T10:04:54Z","author_association":"CONTRIBUTOR","body":"> The exception to this are trivial suggestions that are addressed exactly as suggested, such adding an @Override annotation, fixing typos, and that kind of nits. IMO those conversations are unlikely to be discussed by the reviewer and thus they can be immediately resolved.\r\n\r\nI know that some reviewers prefer to handle closing even these, as it is very easy for an author to make mistakes when closing them. I have been on both ends of this - having failed to handle something I thought I had handled and had closed, and having had resolved something that wasn't. So it can be helpful to have a blanket policy of leaving it to the reviewer, and trying to have close rounds of review. But, I agree this isn't _so_ important.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1451610408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1452861040","html_url":"https://github.com/apache/cassandra/pull/2144#issuecomment-1452861040","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2144","id":1452861040,"node_id":"IC_kwDOAAMmWM5WmOZw","user":{"login":"dcapwell","id":1852601,"node_id":"MDQ6VXNlcjE4NTI2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/1852601?v=4","gravatar_id":"","url":"https://api.github.com/users/dcapwell","html_url":"https://github.com/dcapwell","followers_url":"https://api.github.com/users/dcapwell/followers","following_url":"https://api.github.com/users/dcapwell/following{/other_user}","gists_url":"https://api.github.com/users/dcapwell/gists{/gist_id}","starred_url":"https://api.github.com/users/dcapwell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcapwell/subscriptions","organizations_url":"https://api.github.com/users/dcapwell/orgs","repos_url":"https://api.github.com/users/dcapwell/repos","events_url":"https://api.github.com/users/dcapwell/events{/privacy}","received_events_url":"https://api.github.com/users/dcapwell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-03T02:26:17Z","updated_at":"2023-03-03T02:26:17Z","author_association":"CONTRIBUTOR","body":"Errors seen while trying to run with load\r\n\r\n```\r\nERROR [CommandStore[19]:1] 2023-03-02 18:21:17,400 JVMStabilityInspector.java:68 - Exception in thread Thread[CommandStore[19]:1,5,CommandStore[19]]\r\njava.lang.ClassCastException: class accord.local.Command$NotWitnessed cannot be cast to class accord.local.Command$Committed (accord.local.Command$NotWitnessed and accord.local.Command$Committed are in unnamed module of loader 'app')\r\n        at accord.local.Command.asCommitted(Command.java:448)\r\n        at accord.local.Commands.updatePredecessorAndMaybeExecute(Commands.java:589)\r\n        at accord.local.Commands$NotifyWaitingOn.accept(Commands.java:675)\r\n        at accord.local.Commands$NotifyWaitingOn.accept(Commands.java:642)\r\n        at org.apache.cassandra.service.accord.async.AsyncOperation$ForConsumer.apply(AsyncOperation.java:345)\r\n        at org.apache.cassandra.service.accord.async.AsyncOperation$ForConsumer.apply(AsyncOperation.java:332)\r\n        at org.apache.cassandra.service.accord.async.AsyncOperation.runInternal(AsyncOperation.java:229)\r\n        at org.apache.cassandra.service.accord.async.AsyncOperation.run(AsyncOperation.java:270)\r\n        at org.apache.cassandra.service.accord.async.AsyncOperation.callback(AsyncOperation.java:158)\r\n```\r\n\r\n```\r\nERROR [CommandStore[23]:1] 2023-03-02 18:21:17,778 AsyncOperation.java:274 - Operation AsyncOperation{RUNNING}-0x177ef150 failed\r\njava.lang.IllegalStateException: null\r\n        at accord.utils.Invariants.illegalState(Invariants.java:44)\r\n        at accord.utils.Invariants.illegalState(Invariants.java:49)\r\n        at accord.utils.Invariants.checkState(Invariants.java:91)\r\n        at accord.impl.SimpleProgressLog$Instance.invalidated(SimpleProgressLog.java:756)\r\n        at accord.local.Commands.commitInvalidate(Commands.java:355)\r\n        at accord.coordinate.Invalidate.lambda$commitInvalidate$2(Invalidate.java:271)\r\n        at accord.local.CommandStores$1.apply(CommandStores.java:326)\r\n        at accord.local.CommandStores$1.apply(CommandStores.java:322)\r\n        at org.apache.cassandra.service.accord.async.AsyncOperation$ForFunction.apply(AsyncOperation.java:323)\r\n        at org.apache.cassandra.service.accord.async.AsyncOperation$ForFunction.apply(AsyncOperation.java:310)\r\n        at org.apache.cassandra.service.accord.async.AsyncOperation.runInternal(AsyncOperation.java:229)\r\n        at org.apache.cassandra.service.accord.async.AsyncOperation.run(AsyncOperation.java:270)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1452861040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1452863319","html_url":"https://github.com/apache/cassandra/pull/2144#issuecomment-1452863319","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2144","id":1452863319,"node_id":"IC_kwDOAAMmWM5WmO9X","user":{"login":"dcapwell","id":1852601,"node_id":"MDQ6VXNlcjE4NTI2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/1852601?v=4","gravatar_id":"","url":"https://api.github.com/users/dcapwell","html_url":"https://github.com/dcapwell","followers_url":"https://api.github.com/users/dcapwell/followers","following_url":"https://api.github.com/users/dcapwell/following{/other_user}","gists_url":"https://api.github.com/users/dcapwell/gists{/gist_id}","starred_url":"https://api.github.com/users/dcapwell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcapwell/subscriptions","organizations_url":"https://api.github.com/users/dcapwell/orgs","repos_url":"https://api.github.com/users/dcapwell/repos","events_url":"https://api.github.com/users/dcapwell/events{/privacy}","received_events_url":"https://api.github.com/users/dcapwell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-03T02:29:15Z","updated_at":"2023-03-03T02:29:15Z","author_association":"CONTRIBUTOR","body":"```\r\nERROR [CommandStore[18]:1] 2023-03-02 18:27:35,801 AsyncOperation.java:274 - Operation AsyncOperation{RUNNING}-0x679ceee failed\r\njava.lang.NullPointerException: null\r\n        at accord.local.Commands$NotifyWaitingOn.accept(Commands.java:709)\r\n        at accord.local.Commands$NotifyWaitingOn.accept(Commands.java:642)\r\n        at org.apache.cassandra.service.accord.async.AsyncOperation$ForConsumer.apply(AsyncOperation.java:345)\r\n        at org.apache.cassandra.service.accord.async.AsyncOperation$ForConsumer.apply(AsyncOperation.java:332)\r\n        at org.apache.cassandra.service.accord.async.AsyncOperation.runInternal(AsyncOperation.java:229)\r\n        at org.apache.cassandra.service.accord.async.AsyncOperation.run(AsyncOperation.java:270)\r\n        at org.apache.cassandra.service.accord.async.AsyncOperation.callback(AsyncOperation.java:158)\r\n```\r\n\r\nthis next one is a known one\r\n\r\n```\r\nERROR [CommandStore[8]:1] 2023-03-02 18:28:24,339 AsyncOperation.java:274 - Operation AsyncOperation{SAVING}-0x488a7cea failed\r\njava.lang.IllegalArgumentException: Unhandled listener type: class accord.messages.Defer\r\n        at org.apache.cassandra.service.accord.AccordObjectSizes.listener(AccordObjectSizes.java:257)\r\n        at org.apache.cassandra.service.accord.AccordObjectSizes.command(AccordObjectSizes.java:310)\r\n        at org.apache.cassandra.service.accord.AccordStateCache$Node.estimatedSizeOnHeap(AccordStateCache.java:100)\r\n        at org.apache.cassandra.service.accord.AccordStateCache$Node.estimatedSizeOnHeapDelta(AccordStateCache.java:108)\r\n        at org.apache.cassandra.service.accord.AccordStateCache.updateSize(AccordStateCache.java:239)\r\n        at org.apache.cassandra.service.accord.AccordStateCache.access$1000(AccordStateCache.java:48)\r\n        at org.apache.cassandra.service.accord.AccordStateCache$Instance.release(AccordStateCache.java:473)\r\n        at java.base/java.util.HashMap$Values.forEach(HashMap.java:977)\r\n        at org.apache.cassandra.service.accord.async.AsyncOperation$Context.releaseResources(AsyncOperation.java:62)\r\n        at org.apache.cassandra.service.accord.async.AsyncOperation.runInternal(AsyncOperation.java:241)\r\n        at org.apache.cassandra.service.accord.async.AsyncOperation.run(AsyncOperation.java:270)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1452863319/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1452868143","html_url":"https://github.com/apache/cassandra/pull/2144#issuecomment-1452868143","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2144","id":1452868143,"node_id":"IC_kwDOAAMmWM5WmQIv","user":{"login":"dcapwell","id":1852601,"node_id":"MDQ6VXNlcjE4NTI2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/1852601?v=4","gravatar_id":"","url":"https://api.github.com/users/dcapwell","html_url":"https://github.com/dcapwell","followers_url":"https://api.github.com/users/dcapwell/followers","following_url":"https://api.github.com/users/dcapwell/following{/other_user}","gists_url":"https://api.github.com/users/dcapwell/gists{/gist_id}","starred_url":"https://api.github.com/users/dcapwell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcapwell/subscriptions","organizations_url":"https://api.github.com/users/dcapwell/orgs","repos_url":"https://api.github.com/users/dcapwell/repos","events_url":"https://api.github.com/users/dcapwell/events{/privacy}","received_events_url":"https://api.github.com/users/dcapwell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-03T02:32:55Z","updated_at":"2023-03-03T02:32:55Z","author_association":"CONTRIBUTOR","body":"updated SPL to show details when it fails, this is what I got\r\n\r\n```\r\nERROR [CommandStore[31]:1] 2023-03-02 18:32:14,474 JVMStabilityInspector.java:68 - Exception in thread Thread[CommandStore[31]:1,5,CommandStore[31]]\r\njava.lang.IllegalStateException: Shard = Unsure, state = {Done,Done}\r\n        at accord.utils.Invariants.illegalState(Invariants.java:44)\r\n        at accord.utils.Invariants.checkState(Invariants.java:133)\r\n        at accord.impl.SimpleProgressLog$Instance.invalidated(SimpleProgressLog.java:756)\r\n```\r\n\r\nfor code\r\n\r\n```\r\nInvariants.checkState(shard == Home || state == null || state.coordinateState == null, \"Shard = %s, state = %s\", shard, state);\r\n```","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1452868143/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1455699340","html_url":"https://github.com/apache/cassandra/pull/2110#issuecomment-1455699340","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2110","id":1455699340,"node_id":"IC_kwDOAAMmWM5WxDWM","user":{"login":"bereng","id":6973517,"node_id":"MDQ6VXNlcjY5NzM1MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6973517?v=4","gravatar_id":"","url":"https://api.github.com/users/bereng","html_url":"https://github.com/bereng","followers_url":"https://api.github.com/users/bereng/followers","following_url":"https://api.github.com/users/bereng/following{/other_user}","gists_url":"https://api.github.com/users/bereng/gists{/gist_id}","starred_url":"https://api.github.com/users/bereng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bereng/subscriptions","organizations_url":"https://api.github.com/users/bereng/orgs","repos_url":"https://api.github.com/users/bereng/repos","events_url":"https://api.github.com/users/bereng/events{/privacy}","received_events_url":"https://api.github.com/users/bereng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-06T08:30:52Z","updated_at":"2023-03-06T08:30:52Z","author_association":"CONTRIBUTOR","body":"Latest changes LGTM +1","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1455699340/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1456711228","html_url":"https://github.com/apache/cassandra/pull/2190#issuecomment-1456711228","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2190","id":1456711228,"node_id":"IC_kwDOAAMmWM5W06Y8","user":{"login":"jacek-lewandowski","id":6516951,"node_id":"MDQ6VXNlcjY1MTY5NTE=","avatar_url":"https://avatars.githubusercontent.com/u/6516951?v=4","gravatar_id":"","url":"https://api.github.com/users/jacek-lewandowski","html_url":"https://github.com/jacek-lewandowski","followers_url":"https://api.github.com/users/jacek-lewandowski/followers","following_url":"https://api.github.com/users/jacek-lewandowski/following{/other_user}","gists_url":"https://api.github.com/users/jacek-lewandowski/gists{/gist_id}","starred_url":"https://api.github.com/users/jacek-lewandowski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jacek-lewandowski/subscriptions","organizations_url":"https://api.github.com/users/jacek-lewandowski/orgs","repos_url":"https://api.github.com/users/jacek-lewandowski/repos","events_url":"https://api.github.com/users/jacek-lewandowski/events{/privacy}","received_events_url":"https://api.github.com/users/jacek-lewandowski/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-06T18:21:52Z","updated_at":"2023-03-06T18:21:52Z","author_association":"CONTRIBUTOR","body":"hey, yes, I have this PR https://github.com/apache/cassandra/pull/2195","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1456711228/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1457172219","html_url":"https://github.com/apache/cassandra/pull/2190#issuecomment-1457172219","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2190","id":1457172219,"node_id":"IC_kwDOAAMmWM5W2q77","user":{"login":"dcapwell","id":1852601,"node_id":"MDQ6VXNlcjE4NTI2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/1852601?v=4","gravatar_id":"","url":"https://api.github.com/users/dcapwell","html_url":"https://github.com/dcapwell","followers_url":"https://api.github.com/users/dcapwell/followers","following_url":"https://api.github.com/users/dcapwell/following{/other_user}","gists_url":"https://api.github.com/users/dcapwell/gists{/gist_id}","starred_url":"https://api.github.com/users/dcapwell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcapwell/subscriptions","organizations_url":"https://api.github.com/users/dcapwell/orgs","repos_url":"https://api.github.com/users/dcapwell/repos","events_url":"https://api.github.com/users/dcapwell/events{/privacy}","received_events_url":"https://api.github.com/users/dcapwell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-06T22:54:54Z","updated_at":"2023-03-06T22:54:54Z","author_association":"CONTRIBUTOR","body":"@jacek-lewandowski , @maedhroz took a look at the linked PR and `ComplexQualifiedStatement` just holds a `String`, so complex in that patch means \"I take a string\" but complex in this patch means \"I am a bag of Statements\"","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1457172219/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1457605558","html_url":"https://github.com/apache/cassandra/pull/2190#issuecomment-1457605558","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2190","id":1457605558,"node_id":"IC_kwDOAAMmWM5W4Uu2","user":{"login":"jacek-lewandowski","id":6516951,"node_id":"MDQ6VXNlcjY1MTY5NTE=","avatar_url":"https://avatars.githubusercontent.com/u/6516951?v=4","gravatar_id":"","url":"https://api.github.com/users/jacek-lewandowski","html_url":"https://github.com/jacek-lewandowski","followers_url":"https://api.github.com/users/jacek-lewandowski/followers","following_url":"https://api.github.com/users/jacek-lewandowski/following{/other_user}","gists_url":"https://api.github.com/users/jacek-lewandowski/gists{/gist_id}","starred_url":"https://api.github.com/users/jacek-lewandowski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jacek-lewandowski/subscriptions","organizations_url":"https://api.github.com/users/jacek-lewandowski/orgs","repos_url":"https://api.github.com/users/jacek-lewandowski/repos","events_url":"https://api.github.com/users/jacek-lewandowski/events{/privacy}","received_events_url":"https://api.github.com/users/jacek-lewandowski/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-07T06:15:48Z","updated_at":"2023-03-07T06:15:48Z","author_association":"CONTRIBUTOR","body":"Yes @dcapwell, because I only needed that. Though it is related to the same types of statements. I think I'll wait for your PR before proceeding with my one, and add what I need to your complex statement.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1457605558/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1458332041","html_url":"https://github.com/apache/cassandra/pull/2199#issuecomment-1458332041","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2199","id":1458332041,"node_id":"IC_kwDOAAMmWM5W7GGJ","user":{"login":"michaelsembwever","id":559444,"node_id":"MDQ6VXNlcjU1OTQ0NA==","avatar_url":"https://avatars.githubusercontent.com/u/559444?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelsembwever","html_url":"https://github.com/michaelsembwever","followers_url":"https://api.github.com/users/michaelsembwever/followers","following_url":"https://api.github.com/users/michaelsembwever/following{/other_user}","gists_url":"https://api.github.com/users/michaelsembwever/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelsembwever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelsembwever/subscriptions","organizations_url":"https://api.github.com/users/michaelsembwever/orgs","repos_url":"https://api.github.com/users/michaelsembwever/repos","events_url":"https://api.github.com/users/michaelsembwever/events{/privacy}","received_events_url":"https://api.github.com/users/michaelsembwever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-07T15:05:48Z","updated_at":"2023-03-07T15:05:48Z","author_association":"MEMBER","body":"please remove the unrelated code formatting first","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1458332041/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1458598176","html_url":"https://github.com/apache/cassandra/pull/2186#issuecomment-1458598176","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2186","id":1458598176,"node_id":"IC_kwDOAAMmWM5W8HEg","user":{"login":"jonmeredith","id":64318,"node_id":"MDQ6VXNlcjY0MzE4","avatar_url":"https://avatars.githubusercontent.com/u/64318?v=4","gravatar_id":"","url":"https://api.github.com/users/jonmeredith","html_url":"https://github.com/jonmeredith","followers_url":"https://api.github.com/users/jonmeredith/followers","following_url":"https://api.github.com/users/jonmeredith/following{/other_user}","gists_url":"https://api.github.com/users/jonmeredith/gists{/gist_id}","starred_url":"https://api.github.com/users/jonmeredith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonmeredith/subscriptions","organizations_url":"https://api.github.com/users/jonmeredith/orgs","repos_url":"https://api.github.com/users/jonmeredith/repos","events_url":"https://api.github.com/users/jonmeredith/events{/privacy}","received_events_url":"https://api.github.com/users/jonmeredith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-07T17:58:43Z","updated_at":"2023-03-07T17:58:43Z","author_association":"CONTRIBUTOR","body":"Merged.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1458598176/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1458598262","html_url":"https://github.com/apache/cassandra/pull/2187#issuecomment-1458598262","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2187","id":1458598262,"node_id":"IC_kwDOAAMmWM5W8HF2","user":{"login":"jonmeredith","id":64318,"node_id":"MDQ6VXNlcjY0MzE4","avatar_url":"https://avatars.githubusercontent.com/u/64318?v=4","gravatar_id":"","url":"https://api.github.com/users/jonmeredith","html_url":"https://github.com/jonmeredith","followers_url":"https://api.github.com/users/jonmeredith/followers","following_url":"https://api.github.com/users/jonmeredith/following{/other_user}","gists_url":"https://api.github.com/users/jonmeredith/gists{/gist_id}","starred_url":"https://api.github.com/users/jonmeredith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonmeredith/subscriptions","organizations_url":"https://api.github.com/users/jonmeredith/orgs","repos_url":"https://api.github.com/users/jonmeredith/repos","events_url":"https://api.github.com/users/jonmeredith/events{/privacy}","received_events_url":"https://api.github.com/users/jonmeredith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-07T17:58:47Z","updated_at":"2023-03-07T17:58:47Z","author_association":"CONTRIBUTOR","body":"Merged.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1458598262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1458598345","html_url":"https://github.com/apache/cassandra/pull/2188#issuecomment-1458598345","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2188","id":1458598345,"node_id":"IC_kwDOAAMmWM5W8HHJ","user":{"login":"jonmeredith","id":64318,"node_id":"MDQ6VXNlcjY0MzE4","avatar_url":"https://avatars.githubusercontent.com/u/64318?v=4","gravatar_id":"","url":"https://api.github.com/users/jonmeredith","html_url":"https://github.com/jonmeredith","followers_url":"https://api.github.com/users/jonmeredith/followers","following_url":"https://api.github.com/users/jonmeredith/following{/other_user}","gists_url":"https://api.github.com/users/jonmeredith/gists{/gist_id}","starred_url":"https://api.github.com/users/jonmeredith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonmeredith/subscriptions","organizations_url":"https://api.github.com/users/jonmeredith/orgs","repos_url":"https://api.github.com/users/jonmeredith/repos","events_url":"https://api.github.com/users/jonmeredith/events{/privacy}","received_events_url":"https://api.github.com/users/jonmeredith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-07T17:58:51Z","updated_at":"2023-03-07T17:58:51Z","author_association":"CONTRIBUTOR","body":"Merged.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1458598345/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1458688142","html_url":"https://github.com/apache/cassandra/pull/2190#issuecomment-1458688142","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2190","id":1458688142,"node_id":"IC_kwDOAAMmWM5W8dCO","user":{"login":"dcapwell","id":1852601,"node_id":"MDQ6VXNlcjE4NTI2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/1852601?v=4","gravatar_id":"","url":"https://api.github.com/users/dcapwell","html_url":"https://github.com/dcapwell","followers_url":"https://api.github.com/users/dcapwell/followers","following_url":"https://api.github.com/users/dcapwell/following{/other_user}","gists_url":"https://api.github.com/users/dcapwell/gists{/gist_id}","starred_url":"https://api.github.com/users/dcapwell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcapwell/subscriptions","organizations_url":"https://api.github.com/users/dcapwell/orgs","repos_url":"https://api.github.com/users/dcapwell/repos","events_url":"https://api.github.com/users/dcapwell/events{/privacy}","received_events_url":"https://api.github.com/users/dcapwell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-07T19:12:19Z","updated_at":"2023-03-07T19:12:19Z","author_association":"CONTRIBUTOR","body":"@jacek-lewandowski @ifesdjeen  let me know what you think about the update; believe I addressed all feedback.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1458688142/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1460208856","html_url":"https://github.com/apache/cassandra/pull/2199#issuecomment-1460208856","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2199","id":1460208856,"node_id":"IC_kwDOAAMmWM5XCQTY","user":{"login":"Claudenw","id":2439838,"node_id":"MDQ6VXNlcjI0Mzk4Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2439838?v=4","gravatar_id":"","url":"https://api.github.com/users/Claudenw","html_url":"https://github.com/Claudenw","followers_url":"https://api.github.com/users/Claudenw/followers","following_url":"https://api.github.com/users/Claudenw/following{/other_user}","gists_url":"https://api.github.com/users/Claudenw/gists{/gist_id}","starred_url":"https://api.github.com/users/Claudenw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Claudenw/subscriptions","organizations_url":"https://api.github.com/users/Claudenw/orgs","repos_url":"https://api.github.com/users/Claudenw/repos","events_url":"https://api.github.com/users/Claudenw/events{/privacy}","received_events_url":"https://api.github.com/users/Claudenw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-08T14:07:20Z","updated_at":"2023-03-08T14:07:20Z","author_association":"CONTRIBUTOR","body":"@michaelsembwever requested changed made","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1460208856/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1460522914","html_url":"https://github.com/apache/cassandra/pull/2144#issuecomment-1460522914","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2144","id":1460522914,"node_id":"IC_kwDOAAMmWM5XDc-i","user":{"login":"dcapwell","id":1852601,"node_id":"MDQ6VXNlcjE4NTI2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/1852601?v=4","gravatar_id":"","url":"https://api.github.com/users/dcapwell","html_url":"https://github.com/dcapwell","followers_url":"https://api.github.com/users/dcapwell/followers","following_url":"https://api.github.com/users/dcapwell/following{/other_user}","gists_url":"https://api.github.com/users/dcapwell/gists{/gist_id}","starred_url":"https://api.github.com/users/dcapwell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcapwell/subscriptions","organizations_url":"https://api.github.com/users/dcapwell/orgs","repos_url":"https://api.github.com/users/dcapwell/repos","events_url":"https://api.github.com/users/dcapwell/events{/privacy}","received_events_url":"https://api.github.com/users/dcapwell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-08T17:13:38Z","updated_at":"2023-03-08T17:13:38Z","author_association":"CONTRIBUTOR","body":"I am mostly cool with all the changes since last approval.  I still have 2 concerns but think it is ok to merge while we try to figure out what happened; while running perf tests I hit 2 issues: many transactions depended on a PreAccepted one that never made progress, and 2 transactions depended on NotWitnessed transactions (150 and 260) but this was a single node test only\r\n\r\nI know burn tests have been running and no repo there yet, and once this patch rebases to pick up CASSANDRA-18299 I can rerun benchmarks to see if I can repo again...","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1460522914/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1461322802","html_url":"https://github.com/apache/cassandra/pull/2117#issuecomment-1461322802","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2117","id":1461322802,"node_id":"IC_kwDOAAMmWM5XGgQy","user":{"login":"Maxwell-Guo","id":4403275,"node_id":"MDQ6VXNlcjQ0MDMyNzU=","avatar_url":"https://avatars.githubusercontent.com/u/4403275?v=4","gravatar_id":"","url":"https://api.github.com/users/Maxwell-Guo","html_url":"https://github.com/Maxwell-Guo","followers_url":"https://api.github.com/users/Maxwell-Guo/followers","following_url":"https://api.github.com/users/Maxwell-Guo/following{/other_user}","gists_url":"https://api.github.com/users/Maxwell-Guo/gists{/gist_id}","starred_url":"https://api.github.com/users/Maxwell-Guo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Maxwell-Guo/subscriptions","organizations_url":"https://api.github.com/users/Maxwell-Guo/orgs","repos_url":"https://api.github.com/users/Maxwell-Guo/repos","events_url":"https://api.github.com/users/Maxwell-Guo/events{/privacy}","received_events_url":"https://api.github.com/users/Maxwell-Guo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-09T05:44:13Z","updated_at":"2023-03-09T05:44:13Z","author_association":"CONTRIBUTOR","body":"I am so sorry that this pr is discard due to an operation error, And I have create a new one . https://github.com/apache/cassandra/pull/2205","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1461322802/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1463337109","html_url":"https://github.com/apache/cassandra/pull/2125#issuecomment-1463337109","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2125","id":1463337109,"node_id":"IC_kwDOAAMmWM5XOMCV","user":{"login":"bereng","id":6973517,"node_id":"MDQ6VXNlcjY5NzM1MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6973517?v=4","gravatar_id":"","url":"https://api.github.com/users/bereng","html_url":"https://github.com/bereng","followers_url":"https://api.github.com/users/bereng/followers","following_url":"https://api.github.com/users/bereng/following{/other_user}","gists_url":"https://api.github.com/users/bereng/gists{/gist_id}","starred_url":"https://api.github.com/users/bereng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bereng/subscriptions","organizations_url":"https://api.github.com/users/bereng/orgs","repos_url":"https://api.github.com/users/bereng/repos","events_url":"https://api.github.com/users/bereng/events{/privacy}","received_events_url":"https://api.github.com/users/bereng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-10T06:29:19Z","updated_at":"2023-03-10T06:29:19Z","author_association":"CONTRIBUTOR","body":"+1 with a lingering question. Why the removal of the spin asserts?","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1463337109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1463455924","html_url":"https://github.com/apache/cassandra/pull/2125#issuecomment-1463455924","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2125","id":1463455924,"node_id":"IC_kwDOAAMmWM5XOpC0","user":{"login":"blerer","id":6393833,"node_id":"MDQ6VXNlcjYzOTM4MzM=","avatar_url":"https://avatars.githubusercontent.com/u/6393833?v=4","gravatar_id":"","url":"https://api.github.com/users/blerer","html_url":"https://github.com/blerer","followers_url":"https://api.github.com/users/blerer/followers","following_url":"https://api.github.com/users/blerer/following{/other_user}","gists_url":"https://api.github.com/users/blerer/gists{/gist_id}","starred_url":"https://api.github.com/users/blerer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blerer/subscriptions","organizations_url":"https://api.github.com/users/blerer/orgs","repos_url":"https://api.github.com/users/blerer/repos","events_url":"https://api.github.com/users/blerer/events{/privacy}","received_events_url":"https://api.github.com/users/blerer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-10T08:37:22Z","updated_at":"2023-03-10T08:37:22Z","author_association":"CONTRIBUTOR","body":"The only reason why spin asserts were required was that the Auth framework use caching for permissions and roles. If you disable those caches by using `DatabaseDescriptor.setPermissionsValidity(0);` and  `DatabaseDescriptor.setRolesValidity(0);` then changes to permissions and roles are instantaneous.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1463455924/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1463471408","html_url":"https://github.com/apache/cassandra/pull/2125#issuecomment-1463471408","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2125","id":1463471408,"node_id":"IC_kwDOAAMmWM5XOs0w","user":{"login":"bereng","id":6973517,"node_id":"MDQ6VXNlcjY5NzM1MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6973517?v=4","gravatar_id":"","url":"https://api.github.com/users/bereng","html_url":"https://github.com/bereng","followers_url":"https://api.github.com/users/bereng/followers","following_url":"https://api.github.com/users/bereng/following{/other_user}","gists_url":"https://api.github.com/users/bereng/gists{/gist_id}","starred_url":"https://api.github.com/users/bereng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bereng/subscriptions","organizations_url":"https://api.github.com/users/bereng/orgs","repos_url":"https://api.github.com/users/bereng/repos","events_url":"https://api.github.com/users/bereng/events{/privacy}","received_events_url":"https://api.github.com/users/bereng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-10T08:51:16Z","updated_at":"2023-03-10T08:51:16Z","author_association":"CONTRIBUTOR","body":"Thx","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1463471408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1463472455","html_url":"https://github.com/apache/cassandra/pull/2195#issuecomment-1463472455","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2195","id":1463472455,"node_id":"IC_kwDOAAMmWM5XOtFH","user":{"login":"jacek-lewandowski","id":6516951,"node_id":"MDQ6VXNlcjY1MTY5NTE=","avatar_url":"https://avatars.githubusercontent.com/u/6516951?v=4","gravatar_id":"","url":"https://api.github.com/users/jacek-lewandowski","html_url":"https://github.com/jacek-lewandowski","followers_url":"https://api.github.com/users/jacek-lewandowski/followers","following_url":"https://api.github.com/users/jacek-lewandowski/following{/other_user}","gists_url":"https://api.github.com/users/jacek-lewandowski/gists{/gist_id}","starred_url":"https://api.github.com/users/jacek-lewandowski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jacek-lewandowski/subscriptions","organizations_url":"https://api.github.com/users/jacek-lewandowski/orgs","repos_url":"https://api.github.com/users/jacek-lewandowski/repos","events_url":"https://api.github.com/users/jacek-lewandowski/events{/privacy}","received_events_url":"https://api.github.com/users/jacek-lewandowski/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-10T08:51:53Z","updated_at":"2023-03-10T08:51:53Z","author_association":"CONTRIBUTOR","body":"thanks @dcapwell, I've applied some fixes basing on your feedback","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1463472455/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1469677045","html_url":"https://github.com/apache/cassandra/pull/2015#issuecomment-1469677045","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2015","id":1469677045,"node_id":"IC_kwDOAAMmWM5XmX31","user":{"login":"jacek-lewandowski","id":6516951,"node_id":"MDQ6VXNlcjY1MTY5NTE=","avatar_url":"https://avatars.githubusercontent.com/u/6516951?v=4","gravatar_id":"","url":"https://api.github.com/users/jacek-lewandowski","html_url":"https://github.com/jacek-lewandowski","followers_url":"https://api.github.com/users/jacek-lewandowski/followers","following_url":"https://api.github.com/users/jacek-lewandowski/following{/other_user}","gists_url":"https://api.github.com/users/jacek-lewandowski/gists{/gist_id}","starred_url":"https://api.github.com/users/jacek-lewandowski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jacek-lewandowski/subscriptions","organizations_url":"https://api.github.com/users/jacek-lewandowski/orgs","repos_url":"https://api.github.com/users/jacek-lewandowski/repos","events_url":"https://api.github.com/users/jacek-lewandowski/events{/privacy}","received_events_url":"https://api.github.com/users/jacek-lewandowski/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-15T09:43:53Z","updated_at":"2023-03-15T09:43:53Z","author_association":"CONTRIBUTOR","body":"I think you need to update `NEWS.txt` as well. There is some information about deprecating DTCS, so I suppose there should be also some information about its removal. ","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1469677045/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1469728528","html_url":"https://github.com/apache/cassandra/pull/2199#issuecomment-1469728528","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2199","id":1469728528,"node_id":"IC_kwDOAAMmWM5XmkcQ","user":{"login":"Claudenw","id":2439838,"node_id":"MDQ6VXNlcjI0Mzk4Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2439838?v=4","gravatar_id":"","url":"https://api.github.com/users/Claudenw","html_url":"https://github.com/Claudenw","followers_url":"https://api.github.com/users/Claudenw/followers","following_url":"https://api.github.com/users/Claudenw/following{/other_user}","gists_url":"https://api.github.com/users/Claudenw/gists{/gist_id}","starred_url":"https://api.github.com/users/Claudenw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Claudenw/subscriptions","organizations_url":"https://api.github.com/users/Claudenw/orgs","repos_url":"https://api.github.com/users/Claudenw/repos","events_url":"https://api.github.com/users/Claudenw/events{/privacy}","received_events_url":"https://api.github.com/users/Claudenw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-15T10:16:00Z","updated_at":"2023-03-15T10:16:00Z","author_association":"CONTRIBUTOR","body":"@michaelsembwever do you have any further comments on this pull request?","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1469728528/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1469738569","html_url":"https://github.com/apache/cassandra/pull/1891#issuecomment-1469738569","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1891","id":1469738569,"node_id":"IC_kwDOAAMmWM5Xmm5J","user":{"login":"adelapena","id":5229055,"node_id":"MDQ6VXNlcjUyMjkwNTU=","avatar_url":"https://avatars.githubusercontent.com/u/5229055?v=4","gravatar_id":"","url":"https://api.github.com/users/adelapena","html_url":"https://github.com/adelapena","followers_url":"https://api.github.com/users/adelapena/followers","following_url":"https://api.github.com/users/adelapena/following{/other_user}","gists_url":"https://api.github.com/users/adelapena/gists{/gist_id}","starred_url":"https://api.github.com/users/adelapena/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adelapena/subscriptions","organizations_url":"https://api.github.com/users/adelapena/orgs","repos_url":"https://api.github.com/users/adelapena/repos","events_url":"https://api.github.com/users/adelapena/events{/privacy}","received_events_url":"https://api.github.com/users/adelapena/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-15T10:22:07Z","updated_at":"2023-03-15T10:22:07Z","author_association":"CONTRIBUTOR","body":"The changes look good to me, I think I don't have anything else to add. \r\n\r\nMaybe it's a good time to squash+rebase and see how CI looks like. There are some references to 4.2 that should be updated to 5.0 after the rebase.\r\n\r\nI don't know what's the plan for attending @belliottsmith ask of preventing the major version dump. Are we going to do it here or in a separate ticket?","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1469738569/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1469754301","html_url":"https://github.com/apache/cassandra/pull/1891#issuecomment-1469754301","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1891","id":1469754301,"node_id":"IC_kwDOAAMmWM5Xmqu9","user":{"login":"bereng","id":6973517,"node_id":"MDQ6VXNlcjY5NzM1MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6973517?v=4","gravatar_id":"","url":"https://api.github.com/users/bereng","html_url":"https://github.com/bereng","followers_url":"https://api.github.com/users/bereng/followers","following_url":"https://api.github.com/users/bereng/following{/other_user}","gists_url":"https://api.github.com/users/bereng/gists{/gist_id}","starred_url":"https://api.github.com/users/bereng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bereng/subscriptions","organizations_url":"https://api.github.com/users/bereng/orgs","repos_url":"https://api.github.com/users/bereng/repos","events_url":"https://api.github.com/users/bereng/events{/privacy}","received_events_url":"https://api.github.com/users/bereng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-15T10:33:33Z","updated_at":"2023-03-15T10:33:33Z","author_association":"CONTRIBUTOR","body":"Yep I need to squash, rebase, re-test perf and then I'll ping Benedict for details. I'd prefer to merge and do the downgradability on a separate ticket mainly for my sanity lol, rebase cost and so others might surface any problems the sooner the better.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1469754301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1469770067","html_url":"https://github.com/apache/cassandra/pull/2194#issuecomment-1469770067","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2194","id":1469770067,"node_id":"IC_kwDOAAMmWM5XmulT","user":{"login":"Claudenw","id":2439838,"node_id":"MDQ6VXNlcjI0Mzk4Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2439838?v=4","gravatar_id":"","url":"https://api.github.com/users/Claudenw","html_url":"https://github.com/Claudenw","followers_url":"https://api.github.com/users/Claudenw/followers","following_url":"https://api.github.com/users/Claudenw/following{/other_user}","gists_url":"https://api.github.com/users/Claudenw/gists{/gist_id}","starred_url":"https://api.github.com/users/Claudenw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Claudenw/subscriptions","organizations_url":"https://api.github.com/users/Claudenw/orgs","repos_url":"https://api.github.com/users/Claudenw/repos","events_url":"https://api.github.com/users/Claudenw/events{/privacy}","received_events_url":"https://api.github.com/users/Claudenw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-15T10:43:49Z","updated_at":"2023-03-15T10:43:49Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1469770067/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1471148929","html_url":"https://github.com/apache/cassandra/pull/2221#issuecomment-1471148929","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2221","id":1471148929,"node_id":"IC_kwDOAAMmWM5Xr_OB","user":{"login":"polandll","id":3915061,"node_id":"MDQ6VXNlcjM5MTUwNjE=","avatar_url":"https://avatars.githubusercontent.com/u/3915061?v=4","gravatar_id":"","url":"https://api.github.com/users/polandll","html_url":"https://github.com/polandll","followers_url":"https://api.github.com/users/polandll/followers","following_url":"https://api.github.com/users/polandll/following{/other_user}","gists_url":"https://api.github.com/users/polandll/gists{/gist_id}","starred_url":"https://api.github.com/users/polandll/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/polandll/subscriptions","organizations_url":"https://api.github.com/users/polandll/orgs","repos_url":"https://api.github.com/users/polandll/repos","events_url":"https://api.github.com/users/polandll/events{/privacy}","received_events_url":"https://api.github.com/users/polandll/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-16T01:40:09Z","updated_at":"2023-03-16T01:40:09Z","author_association":"CONTRIBUTOR","body":"![formula-fix-cass-build](https://user-images.githubusercontent.com/3915061/225487620-b1c04515-7ccb-4560-85c0-c89c21fa9714.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1471148929/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1471891384","html_url":"https://github.com/apache/cassandra/pull/2156#issuecomment-1471891384","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2156","id":1471891384,"node_id":"IC_kwDOAAMmWM5Xu0e4","user":{"login":"adelapena","id":5229055,"node_id":"MDQ6VXNlcjUyMjkwNTU=","avatar_url":"https://avatars.githubusercontent.com/u/5229055?v=4","gravatar_id":"","url":"https://api.github.com/users/adelapena","html_url":"https://github.com/adelapena","followers_url":"https://api.github.com/users/adelapena/followers","following_url":"https://api.github.com/users/adelapena/following{/other_user}","gists_url":"https://api.github.com/users/adelapena/gists{/gist_id}","starred_url":"https://api.github.com/users/adelapena/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adelapena/subscriptions","organizations_url":"https://api.github.com/users/adelapena/orgs","repos_url":"https://api.github.com/users/adelapena/repos","events_url":"https://api.github.com/users/adelapena/events{/privacy}","received_events_url":"https://api.github.com/users/adelapena/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-16T12:45:36Z","updated_at":"2023-03-16T12:45:36Z","author_association":"CONTRIBUTOR","body":"> Could you add a test that use an UDF from another keyspace?\r\n\r\nThat's already tested [here](https://github.com/apache/cassandra/blob/c41e567fbfddff8660e07109a0c6c7ada547465b/test/unit/org/apache/cassandra/cql3/functions/masking/ColumnMaskWithUDFTest.java#L210-L221).","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1471891384/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1476395278","html_url":"https://github.com/apache/cassandra/pull/2226#issuecomment-1476395278","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2226","id":1476395278,"node_id":"IC_kwDOAAMmWM5YAAEO","user":{"login":"michaelsembwever","id":559444,"node_id":"MDQ6VXNlcjU1OTQ0NA==","avatar_url":"https://avatars.githubusercontent.com/u/559444?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelsembwever","html_url":"https://github.com/michaelsembwever","followers_url":"https://api.github.com/users/michaelsembwever/followers","following_url":"https://api.github.com/users/michaelsembwever/following{/other_user}","gists_url":"https://api.github.com/users/michaelsembwever/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelsembwever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelsembwever/subscriptions","organizations_url":"https://api.github.com/users/michaelsembwever/orgs","repos_url":"https://api.github.com/users/michaelsembwever/repos","events_url":"https://api.github.com/users/michaelsembwever/events{/privacy}","received_events_url":"https://api.github.com/users/michaelsembwever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-20T15:02:06Z","updated_at":"2023-03-20T15:02:06Z","author_association":"MEMBER","body":"pushed update: https://github.com/michaelsembwever/cassandra/commit/60732e4a4f1561371d60b1ce26285531e1fecbb1","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1476395278/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1477452973","html_url":"https://github.com/apache/cassandra/pull/2226#issuecomment-1477452973","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2226","id":1477452973,"node_id":"IC_kwDOAAMmWM5YECSt","user":{"login":"michaelsembwever","id":559444,"node_id":"MDQ6VXNlcjU1OTQ0NA==","avatar_url":"https://avatars.githubusercontent.com/u/559444?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelsembwever","html_url":"https://github.com/michaelsembwever","followers_url":"https://api.github.com/users/michaelsembwever/followers","following_url":"https://api.github.com/users/michaelsembwever/following{/other_user}","gists_url":"https://api.github.com/users/michaelsembwever/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelsembwever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelsembwever/subscriptions","organizations_url":"https://api.github.com/users/michaelsembwever/orgs","repos_url":"https://api.github.com/users/michaelsembwever/repos","events_url":"https://api.github.com/users/michaelsembwever/events{/privacy}","received_events_url":"https://api.github.com/users/michaelsembwever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-21T08:42:45Z","updated_at":"2023-03-21T08:42:45Z","author_association":"MEMBER","body":"> another CI round. +1 on clean CI \r\n\r\nwhat's changed that's need another CI run? ","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1477452973/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1479151926","html_url":"https://github.com/apache/cassandra/pull/1891#issuecomment-1479151926","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1891","id":1479151926,"node_id":"IC_kwDOAAMmWM5YKhE2","user":{"login":"bereng","id":6973517,"node_id":"MDQ6VXNlcjY5NzM1MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6973517?v=4","gravatar_id":"","url":"https://api.github.com/users/bereng","html_url":"https://github.com/bereng","followers_url":"https://api.github.com/users/bereng/followers","following_url":"https://api.github.com/users/bereng/following{/other_user}","gists_url":"https://api.github.com/users/bereng/gists{/gist_id}","starred_url":"https://api.github.com/users/bereng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bereng/subscriptions","organizations_url":"https://api.github.com/users/bereng/orgs","repos_url":"https://api.github.com/users/bereng/repos","events_url":"https://api.github.com/users/bereng/events{/privacy}","received_events_url":"https://api.github.com/users/bereng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-22T09:04:14Z","updated_at":"2023-03-22T09:04:14Z","author_association":"CONTRIBUTOR","body":"@adelapena I notice [here](https://github.com/apache/cassandra/commit/7ca806c60a3e080d740fb163c639bb76a520f6ab#diff-7284e8da2bb0ea3e0e965a8f728407b2326f982281d6b37ca0d7cad79039b70eL214), this is Mick's ticket moving trunk to be v5.0, he removes messaging version 41. So I think I have a bug in my PR where I added v41 and v42 tying the DB version bump to a messaging version bump. I should only add one more version correct? This area is a bit fuzzy for me apologies if I am missing sthg","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1479151926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1479476818","html_url":"https://github.com/apache/cassandra/pull/1891#issuecomment-1479476818","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1891","id":1479476818,"node_id":"IC_kwDOAAMmWM5YLwZS","user":{"login":"adelapena","id":5229055,"node_id":"MDQ6VXNlcjUyMjkwNTU=","avatar_url":"https://avatars.githubusercontent.com/u/5229055?v=4","gravatar_id":"","url":"https://api.github.com/users/adelapena","html_url":"https://github.com/adelapena","followers_url":"https://api.github.com/users/adelapena/followers","following_url":"https://api.github.com/users/adelapena/following{/other_user}","gists_url":"https://api.github.com/users/adelapena/gists{/gist_id}","starred_url":"https://api.github.com/users/adelapena/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adelapena/subscriptions","organizations_url":"https://api.github.com/users/adelapena/orgs","repos_url":"https://api.github.com/users/adelapena/repos","events_url":"https://api.github.com/users/adelapena/events{/privacy}","received_events_url":"https://api.github.com/users/adelapena/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-22T12:19:29Z","updated_at":"2023-03-22T12:19:29Z","author_association":"CONTRIBUTOR","body":"> @adelapena I notice [here](https://github.com/apache/cassandra/commit/7ca806c60a3e080d740fb163c639bb76a520f6ab#diff-7284e8da2bb0ea3e0e965a8f728407b2326f982281d6b37ca0d7cad79039b70eL214), this is Mick's ticket moving trunk to be v5.0, he removes messaging version 41. So I think I have a bug in my PR where I added v41 and v42 tying the DB version bump to a messaging version bump. I should only add one more version correct? This area is a bit fuzzy for me apologies if I am missing sthg\r\n\r\nI understand we would need a new `MessagingService.VERSION_50`. I think `VERSION_41` was briefly added to 4.1 but never really used, so it has been removed in 5.0.\r\n\r\nHowever, I see that `VERSION_41` is [still present on `cassandra-4.1`](https://github.com/apache/cassandra/blob/cassandra-4.1.1/src/java/org/apache/cassandra/net/MessagingService.java#L211), and [also in `cassandra-4.1.1`](https://github.com/apache/cassandra/blob/cassandra-4.1.1/src/java/org/apache/cassandra/net/MessagingService.java#L211). @michaelsembwever shouldn't we remove it also from `cassandra-4.1`?","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1479476818/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1479777744","html_url":"https://github.com/apache/cassandra/pull/1891#issuecomment-1479777744","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1891","id":1479777744,"node_id":"IC_kwDOAAMmWM5YM53Q","user":{"login":"michaelsembwever","id":559444,"node_id":"MDQ6VXNlcjU1OTQ0NA==","avatar_url":"https://avatars.githubusercontent.com/u/559444?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelsembwever","html_url":"https://github.com/michaelsembwever","followers_url":"https://api.github.com/users/michaelsembwever/followers","following_url":"https://api.github.com/users/michaelsembwever/following{/other_user}","gists_url":"https://api.github.com/users/michaelsembwever/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelsembwever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelsembwever/subscriptions","organizations_url":"https://api.github.com/users/michaelsembwever/orgs","repos_url":"https://api.github.com/users/michaelsembwever/repos","events_url":"https://api.github.com/users/michaelsembwever/events{/privacy}","received_events_url":"https://api.github.com/users/michaelsembwever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-22T15:26:46Z","updated_at":"2023-03-22T15:26:46Z","author_association":"MEMBER","body":">  I think VERSION_41 was briefly added to 4.1 but never really used, so it has been removed in 5.0.\r\n\r\nCorrect. There was a change in the tests that introduced _41, but it was agreed that _41 could be removed (that we didn't need to provide compatibility between test runs within a development cycle).\r\n\r\n\r\n> However, I see that VERSION_41 is [still present on cassandra-4.1](https://github.com/apache/cassandra/blob/cassandra-4.1.1/src/java/org/apache/cassandra/net/MessagingService.java#L211), and [also in cassandra-4.1.1](https://github.com/apache/cassandra/blob/cassandra-4.1.1/src/java/org/apache/cassandra/net/MessagingService.java#L211). @michaelsembwever shouldn't we remove it also from cassandra-4.1?\r\n\r\nBoth links are same. But yes, _41 should be removed from 4.1 too (my bad), you can see (in the same class) that it's not actually used.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1479777744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1480087661","html_url":"https://github.com/apache/cassandra/pull/1891#issuecomment-1480087661","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1891","id":1480087661,"node_id":"IC_kwDOAAMmWM5YOFht","user":{"login":"adelapena","id":5229055,"node_id":"MDQ6VXNlcjUyMjkwNTU=","avatar_url":"https://avatars.githubusercontent.com/u/5229055?v=4","gravatar_id":"","url":"https://api.github.com/users/adelapena","html_url":"https://github.com/adelapena","followers_url":"https://api.github.com/users/adelapena/followers","following_url":"https://api.github.com/users/adelapena/following{/other_user}","gists_url":"https://api.github.com/users/adelapena/gists{/gist_id}","starred_url":"https://api.github.com/users/adelapena/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adelapena/subscriptions","organizations_url":"https://api.github.com/users/adelapena/orgs","repos_url":"https://api.github.com/users/adelapena/repos","events_url":"https://api.github.com/users/adelapena/events{/privacy}","received_events_url":"https://api.github.com/users/adelapena/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-22T18:47:11Z","updated_at":"2023-03-22T18:47:11Z","author_association":"CONTRIBUTOR","body":"Thanks for the clarification. The first link was for [current `cassandra-4.1`](https://github.com/apache/cassandra/blob/cassandra-4.1/src/java/org/apache/cassandra/net/MessagingService.java#L211), apologies. So for this ticket we should add `VERSION_50` for the `oa` sstable version containing the extended deletion times.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1480087661/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1480666588","html_url":"https://github.com/apache/cassandra/pull/1891#issuecomment-1480666588","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1891","id":1480666588,"node_id":"IC_kwDOAAMmWM5YQS3c","user":{"login":"bereng","id":6973517,"node_id":"MDQ6VXNlcjY5NzM1MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6973517?v=4","gravatar_id":"","url":"https://api.github.com/users/bereng","html_url":"https://github.com/bereng","followers_url":"https://api.github.com/users/bereng/followers","following_url":"https://api.github.com/users/bereng/following{/other_user}","gists_url":"https://api.github.com/users/bereng/gists{/gist_id}","starred_url":"https://api.github.com/users/bereng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bereng/subscriptions","organizations_url":"https://api.github.com/users/bereng/orgs","repos_url":"https://api.github.com/users/bereng/repos","events_url":"https://api.github.com/users/bereng/events{/privacy}","received_events_url":"https://api.github.com/users/bereng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-23T06:32:15Z","updated_at":"2023-03-23T06:32:15Z","author_association":"CONTRIBUTOR","body":"Thanks for the clarification guys","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1480666588/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1480724258","html_url":"https://github.com/apache/cassandra/pull/2225#issuecomment-1480724258","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2225","id":1480724258,"node_id":"IC_kwDOAAMmWM5YQg8i","user":{"login":"rtib","id":9919763,"node_id":"MDQ6VXNlcjk5MTk3NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9919763?v=4","gravatar_id":"","url":"https://api.github.com/users/rtib","html_url":"https://github.com/rtib","followers_url":"https://api.github.com/users/rtib/followers","following_url":"https://api.github.com/users/rtib/following{/other_user}","gists_url":"https://api.github.com/users/rtib/gists{/gist_id}","starred_url":"https://api.github.com/users/rtib/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rtib/subscriptions","organizations_url":"https://api.github.com/users/rtib/orgs","repos_url":"https://api.github.com/users/rtib/repos","events_url":"https://api.github.com/users/rtib/events{/privacy}","received_events_url":"https://api.github.com/users/rtib/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-23T07:40:13Z","updated_at":"2023-03-23T07:40:13Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1480724258/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1481814022","html_url":"https://github.com/apache/cassandra/pull/2241#issuecomment-1481814022","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2241","id":1481814022,"node_id":"IC_kwDOAAMmWM5YUrAG","user":{"login":"maedhroz","id":630857,"node_id":"MDQ6VXNlcjYzMDg1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/630857?v=4","gravatar_id":"","url":"https://api.github.com/users/maedhroz","html_url":"https://github.com/maedhroz","followers_url":"https://api.github.com/users/maedhroz/followers","following_url":"https://api.github.com/users/maedhroz/following{/other_user}","gists_url":"https://api.github.com/users/maedhroz/gists{/gist_id}","starred_url":"https://api.github.com/users/maedhroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maedhroz/subscriptions","organizations_url":"https://api.github.com/users/maedhroz/orgs","repos_url":"https://api.github.com/users/maedhroz/repos","events_url":"https://api.github.com/users/maedhroz/events{/privacy}","received_events_url":"https://api.github.com/users/maedhroz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-23T19:59:23Z","updated_at":"2023-03-23T19:59:23Z","author_association":"CONTRIBUTOR","body":"https://app.circleci.com/pipelines/github/maedhroz/cassandra?branch=CASSANDRA-18355","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1481814022/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1485826207","html_url":"https://github.com/apache/cassandra/pull/2170#issuecomment-1485826207","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2170","id":1485826207,"node_id":"IC_kwDOAAMmWM5Yj-if","user":{"login":"aweisberg","id":1047741,"node_id":"MDQ6VXNlcjEwNDc3NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1047741?v=4","gravatar_id":"","url":"https://api.github.com/users/aweisberg","html_url":"https://github.com/aweisberg","followers_url":"https://api.github.com/users/aweisberg/followers","following_url":"https://api.github.com/users/aweisberg/following{/other_user}","gists_url":"https://api.github.com/users/aweisberg/gists{/gist_id}","starred_url":"https://api.github.com/users/aweisberg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aweisberg/subscriptions","organizations_url":"https://api.github.com/users/aweisberg/orgs","repos_url":"https://api.github.com/users/aweisberg/repos","events_url":"https://api.github.com/users/aweisberg/events{/privacy}","received_events_url":"https://api.github.com/users/aweisberg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-27T20:33:16Z","updated_at":"2023-03-27T20:33:16Z","author_association":"CONTRIBUTOR","body":"Replaced by https://github.com/apache/cassandra/pull/2237","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1485826207/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1487850389","html_url":"https://github.com/apache/cassandra/pull/2221#issuecomment-1487850389","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2221","id":1487850389,"node_id":"IC_kwDOAAMmWM5YrsuV","user":{"login":"ErickRamirezAU","id":7269283,"node_id":"MDQ6VXNlcjcyNjkyODM=","avatar_url":"https://avatars.githubusercontent.com/u/7269283?v=4","gravatar_id":"","url":"https://api.github.com/users/ErickRamirezAU","html_url":"https://github.com/ErickRamirezAU","followers_url":"https://api.github.com/users/ErickRamirezAU/followers","following_url":"https://api.github.com/users/ErickRamirezAU/following{/other_user}","gists_url":"https://api.github.com/users/ErickRamirezAU/gists{/gist_id}","starred_url":"https://api.github.com/users/ErickRamirezAU/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ErickRamirezAU/subscriptions","organizations_url":"https://api.github.com/users/ErickRamirezAU/orgs","repos_url":"https://api.github.com/users/ErickRamirezAU/repos","events_url":"https://api.github.com/users/ErickRamirezAU/events{/privacy}","received_events_url":"https://api.github.com/users/ErickRamirezAU/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T02:13:57Z","updated_at":"2023-03-29T02:13:57Z","author_association":"CONTRIBUTOR","body":"Note that I've reworded the commit message to comply with the required format. Cheers! 🍻","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1487850389/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1489129584","html_url":"https://github.com/apache/cassandra/pull/2225#issuecomment-1489129584","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2225","id":1489129584,"node_id":"IC_kwDOAAMmWM5YwlBw","user":{"login":"maulin-vasavada","id":15657482,"node_id":"MDQ6VXNlcjE1NjU3NDgy","avatar_url":"https://avatars.githubusercontent.com/u/15657482?v=4","gravatar_id":"","url":"https://api.github.com/users/maulin-vasavada","html_url":"https://github.com/maulin-vasavada","followers_url":"https://api.github.com/users/maulin-vasavada/followers","following_url":"https://api.github.com/users/maulin-vasavada/following{/other_user}","gists_url":"https://api.github.com/users/maulin-vasavada/gists{/gist_id}","starred_url":"https://api.github.com/users/maulin-vasavada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maulin-vasavada/subscriptions","organizations_url":"https://api.github.com/users/maulin-vasavada/orgs","repos_url":"https://api.github.com/users/maulin-vasavada/repos","events_url":"https://api.github.com/users/maulin-vasavada/events{/privacy}","received_events_url":"https://api.github.com/users/maulin-vasavada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T18:51:29Z","updated_at":"2023-03-29T18:51:29Z","author_association":"CONTRIBUTOR","body":"Will close this PR and raise another one with formatting fixes.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1489129584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1490031636","html_url":"https://github.com/apache/cassandra/pull/2199#issuecomment-1490031636","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2199","id":1490031636,"node_id":"IC_kwDOAAMmWM5Y0BQU","user":{"login":"Claudenw","id":2439838,"node_id":"MDQ6VXNlcjI0Mzk4Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2439838?v=4","gravatar_id":"","url":"https://api.github.com/users/Claudenw","html_url":"https://github.com/Claudenw","followers_url":"https://api.github.com/users/Claudenw/followers","following_url":"https://api.github.com/users/Claudenw/following{/other_user}","gists_url":"https://api.github.com/users/Claudenw/gists{/gist_id}","starred_url":"https://api.github.com/users/Claudenw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Claudenw/subscriptions","organizations_url":"https://api.github.com/users/Claudenw/orgs","repos_url":"https://api.github.com/users/Claudenw/repos","events_url":"https://api.github.com/users/Claudenw/events{/privacy}","received_events_url":"https://api.github.com/users/Claudenw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-30T10:02:19Z","updated_at":"2023-03-30T10:02:19Z","author_association":"CONTRIBUTOR","body":"I fixed the issues with the testing and have created a branch against trunk rather than 4.1.  Associated pull: https://github.com/apache/cassandra/pull/2254","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1490031636/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1490719768","html_url":"https://github.com/apache/cassandra/pull/2255#issuecomment-1490719768","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2255","id":1490719768,"node_id":"IC_kwDOAAMmWM5Y2pQY","user":{"login":"maedhroz","id":630857,"node_id":"MDQ6VXNlcjYzMDg1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/630857?v=4","gravatar_id":"","url":"https://api.github.com/users/maedhroz","html_url":"https://github.com/maedhroz","followers_url":"https://api.github.com/users/maedhroz/followers","following_url":"https://api.github.com/users/maedhroz/following{/other_user}","gists_url":"https://api.github.com/users/maedhroz/gists{/gist_id}","starred_url":"https://api.github.com/users/maedhroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maedhroz/subscriptions","organizations_url":"https://api.github.com/users/maedhroz/orgs","repos_url":"https://api.github.com/users/maedhroz/repos","events_url":"https://api.github.com/users/maedhroz/events{/privacy}","received_events_url":"https://api.github.com/users/maedhroz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-30T18:09:59Z","updated_at":"2023-03-30T18:09:59Z","author_association":"CONTRIBUTOR","body":"https://app.circleci.com/pipelines/github/maedhroz/cassandra?branch=CASSANDRA-18370","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1490719768/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1491487341","html_url":"https://github.com/apache/cassandra/pull/2031#issuecomment-1491487341","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2031","id":1491487341,"node_id":"IC_kwDOAAMmWM5Y5kpt","user":{"login":"maoling","id":11016631,"node_id":"MDQ6VXNlcjExMDE2NjMx","avatar_url":"https://avatars.githubusercontent.com/u/11016631?v=4","gravatar_id":"","url":"https://api.github.com/users/maoling","html_url":"https://github.com/maoling","followers_url":"https://api.github.com/users/maoling/followers","following_url":"https://api.github.com/users/maoling/following{/other_user}","gists_url":"https://api.github.com/users/maoling/gists{/gist_id}","starred_url":"https://api.github.com/users/maoling/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maoling/subscriptions","organizations_url":"https://api.github.com/users/maoling/orgs","repos_url":"https://api.github.com/users/maoling/repos","events_url":"https://api.github.com/users/maoling/events{/privacy}","received_events_url":"https://api.github.com/users/maoling/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T08:04:34Z","updated_at":"2023-03-31T08:04:34Z","author_association":"MEMBER","body":"So great work, C* really needs this static analysis tool. @dcapwell  are you still here?\r\nIf you're not free, I can pick up it and co-author with you","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1491487341/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1492271771","html_url":"https://github.com/apache/cassandra/pull/2255#issuecomment-1492271771","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2255","id":1492271771,"node_id":"IC_kwDOAAMmWM5Y8kKb","user":{"login":"maedhroz","id":630857,"node_id":"MDQ6VXNlcjYzMDg1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/630857?v=4","gravatar_id":"","url":"https://api.github.com/users/maedhroz","html_url":"https://github.com/maedhroz","followers_url":"https://api.github.com/users/maedhroz/followers","following_url":"https://api.github.com/users/maedhroz/following{/other_user}","gists_url":"https://api.github.com/users/maedhroz/gists{/gist_id}","starred_url":"https://api.github.com/users/maedhroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maedhroz/subscriptions","organizations_url":"https://api.github.com/users/maedhroz/orgs","repos_url":"https://api.github.com/users/maedhroz/repos","events_url":"https://api.github.com/users/maedhroz/events{/privacy}","received_events_url":"https://api.github.com/users/maedhroz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T17:02:27Z","updated_at":"2023-03-31T21:11:14Z","author_association":"CONTRIBUTOR","body":"Committed as https://github.com/apache/cassandra/commit/853ae8c84049be875921a40c9d5924724cc72792","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1492271771/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1493346968","html_url":"https://github.com/apache/cassandra/pull/2198#issuecomment-1493346968","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2198","id":1493346968,"node_id":"IC_kwDOAAMmWM5ZAqqY","user":{"login":"michaelsembwever","id":559444,"node_id":"MDQ6VXNlcjU1OTQ0NA==","avatar_url":"https://avatars.githubusercontent.com/u/559444?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelsembwever","html_url":"https://github.com/michaelsembwever","followers_url":"https://api.github.com/users/michaelsembwever/followers","following_url":"https://api.github.com/users/michaelsembwever/following{/other_user}","gists_url":"https://api.github.com/users/michaelsembwever/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelsembwever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelsembwever/subscriptions","organizations_url":"https://api.github.com/users/michaelsembwever/orgs","repos_url":"https://api.github.com/users/michaelsembwever/repos","events_url":"https://api.github.com/users/michaelsembwever/events{/privacy}","received_events_url":"https://api.github.com/users/michaelsembwever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-02T14:12:46Z","updated_at":"2023-04-02T14:12:46Z","author_association":"MEMBER","body":"How will \"Developing\" in the new structure (docs for users, vs operators) distinguish itself from \"Development\" (developers working on the project itself) ?","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1493346968/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1493426225","html_url":"https://github.com/apache/cassandra/pull/2198#issuecomment-1493426225","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2198","id":1493426225,"node_id":"IC_kwDOAAMmWM5ZA-Ax","user":{"login":"polandll","id":3915061,"node_id":"MDQ6VXNlcjM5MTUwNjE=","avatar_url":"https://avatars.githubusercontent.com/u/3915061?v=4","gravatar_id":"","url":"https://api.github.com/users/polandll","html_url":"https://github.com/polandll","followers_url":"https://api.github.com/users/polandll/followers","following_url":"https://api.github.com/users/polandll/following{/other_user}","gists_url":"https://api.github.com/users/polandll/gists{/gist_id}","starred_url":"https://api.github.com/users/polandll/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/polandll/subscriptions","organizations_url":"https://api.github.com/users/polandll/orgs","repos_url":"https://api.github.com/users/polandll/repos","events_url":"https://api.github.com/users/polandll/events{/privacy}","received_events_url":"https://api.github.com/users/polandll/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-02T19:55:50Z","updated_at":"2023-04-03T20:03:50Z","author_association":"CONTRIBUTOR","body":"The Developing section is all about CQL in the case of Apache C*. \r\nExamples of how to interact with the database are the meat of this section. \r\n\r\n-------- Original message --------\r\nFrom: mck ***@***.***> Date: 4/2/23  07:12  (GMT-08:00) \r\nTo: apache/cassandra ***@***.***> \r\nCc: Lorina Poland ***@***.***>, Author ***@***.***> \r\nSubject: Re: [apache/cassandra] CASS-18228 Reorganize doc files to new Info Arch standard (PR #2198) \r\nHow will \"Developing\" in the new structure (docs for users, vs operators) distinguish itself from \"Development\" (developers working on the project itself) ?\r\n----------End Original message ---------\r\n","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1493426225/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1494023177","html_url":"https://github.com/apache/cassandra/pull/2199#issuecomment-1494023177","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2199","id":1494023177,"node_id":"IC_kwDOAAMmWM5ZDPwJ","user":{"login":"smiklosovic","id":588603,"node_id":"MDQ6VXNlcjU4ODYwMw==","avatar_url":"https://avatars.githubusercontent.com/u/588603?v=4","gravatar_id":"","url":"https://api.github.com/users/smiklosovic","html_url":"https://github.com/smiklosovic","followers_url":"https://api.github.com/users/smiklosovic/followers","following_url":"https://api.github.com/users/smiklosovic/following{/other_user}","gists_url":"https://api.github.com/users/smiklosovic/gists{/gist_id}","starred_url":"https://api.github.com/users/smiklosovic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smiklosovic/subscriptions","organizations_url":"https://api.github.com/users/smiklosovic/orgs","repos_url":"https://api.github.com/users/smiklosovic/repos","events_url":"https://api.github.com/users/smiklosovic/events{/privacy}","received_events_url":"https://api.github.com/users/smiklosovic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-03T09:54:56Z","updated_at":"2023-04-03T09:54:56Z","author_association":"CONTRIBUTOR","body":"thank you @Claudenw , I will take a look shortly.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1494023177/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1494294437","html_url":"https://github.com/apache/cassandra/pull/1950#issuecomment-1494294437","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1950","id":1494294437,"node_id":"IC_kwDOAAMmWM5ZER-l","user":{"login":"Claudenw","id":2439838,"node_id":"MDQ6VXNlcjI0Mzk4Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2439838?v=4","gravatar_id":"","url":"https://api.github.com/users/Claudenw","html_url":"https://github.com/Claudenw","followers_url":"https://api.github.com/users/Claudenw/followers","following_url":"https://api.github.com/users/Claudenw/following{/other_user}","gists_url":"https://api.github.com/users/Claudenw/gists{/gist_id}","starred_url":"https://api.github.com/users/Claudenw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Claudenw/subscriptions","organizations_url":"https://api.github.com/users/Claudenw/orgs","repos_url":"https://api.github.com/users/Claudenw/repos","events_url":"https://api.github.com/users/Claudenw/events{/privacy}","received_events_url":"https://api.github.com/users/Claudenw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-03T13:08:25Z","updated_at":"2023-04-03T13:08:25Z","author_association":"CONTRIBUTOR","body":"@smiklosovic , @michaelsembwever  any further comments on this?","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1494294437/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1496274883","html_url":"https://github.com/apache/cassandra/pull/2259#issuecomment-1496274883","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2259","id":1496274883,"node_id":"IC_kwDOAAMmWM5ZL1fD","user":{"login":"dcapwell","id":1852601,"node_id":"MDQ6VXNlcjE4NTI2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/1852601?v=4","gravatar_id":"","url":"https://api.github.com/users/dcapwell","html_url":"https://github.com/dcapwell","followers_url":"https://api.github.com/users/dcapwell/followers","following_url":"https://api.github.com/users/dcapwell/following{/other_user}","gists_url":"https://api.github.com/users/dcapwell/gists{/gist_id}","starred_url":"https://api.github.com/users/dcapwell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcapwell/subscriptions","organizations_url":"https://api.github.com/users/dcapwell/orgs","repos_url":"https://api.github.com/users/dcapwell/repos","events_url":"https://api.github.com/users/dcapwell/events{/privacy}","received_events_url":"https://api.github.com/users/dcapwell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-04T16:32:38Z","updated_at":"2023-04-04T16:32:38Z","author_association":"CONTRIBUTOR","body":"Thanks for the feedback @Claudenw , pushed changes to address your feedback","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1496274883/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1497211877","html_url":"https://github.com/apache/cassandra/pull/2046#issuecomment-1497211877","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2046","id":1497211877,"node_id":"IC_kwDOAAMmWM5ZPaPl","user":{"login":"jacek-lewandowski","id":6516951,"node_id":"MDQ6VXNlcjY1MTY5NTE=","avatar_url":"https://avatars.githubusercontent.com/u/6516951?v=4","gravatar_id":"","url":"https://api.github.com/users/jacek-lewandowski","html_url":"https://github.com/jacek-lewandowski","followers_url":"https://api.github.com/users/jacek-lewandowski/followers","following_url":"https://api.github.com/users/jacek-lewandowski/following{/other_user}","gists_url":"https://api.github.com/users/jacek-lewandowski/gists{/gist_id}","starred_url":"https://api.github.com/users/jacek-lewandowski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jacek-lewandowski/subscriptions","organizations_url":"https://api.github.com/users/jacek-lewandowski/orgs","repos_url":"https://api.github.com/users/jacek-lewandowski/repos","events_url":"https://api.github.com/users/jacek-lewandowski/events{/privacy}","received_events_url":"https://api.github.com/users/jacek-lewandowski/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-05T09:46:37Z","updated_at":"2023-04-05T09:46:37Z","author_association":"CONTRIBUTOR","body":"@Mmuzaf please don't force push and apply changes in separate commits; you will rebase once we finish the review phase","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1497211877/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1497710061","html_url":"https://github.com/apache/cassandra/pull/2046#issuecomment-1497710061","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2046","id":1497710061,"node_id":"IC_kwDOAAMmWM5ZRT3t","user":{"login":"michaelsembwever","id":559444,"node_id":"MDQ6VXNlcjU1OTQ0NA==","avatar_url":"https://avatars.githubusercontent.com/u/559444?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelsembwever","html_url":"https://github.com/michaelsembwever","followers_url":"https://api.github.com/users/michaelsembwever/followers","following_url":"https://api.github.com/users/michaelsembwever/following{/other_user}","gists_url":"https://api.github.com/users/michaelsembwever/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelsembwever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelsembwever/subscriptions","organizations_url":"https://api.github.com/users/michaelsembwever/orgs","repos_url":"https://api.github.com/users/michaelsembwever/repos","events_url":"https://api.github.com/users/michaelsembwever/events{/privacy}","received_events_url":"https://api.github.com/users/michaelsembwever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-05T15:45:11Z","updated_at":"2023-04-05T15:45:11Z","author_association":"MEMBER","body":"> One more general idea is to have all those get/set methods in an interface as defaults and inherit them in CassandraRelevantProperties and the env counterpart\r\n\r\nDoesn't this go against our code style. We don't add get/set methods if there's not a reason to do so, and we don't add interfaces unless there's a reason to do so.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1497710061/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1497916054","html_url":"https://github.com/apache/cassandra/pull/2259#issuecomment-1497916054","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2259","id":1497916054,"node_id":"IC_kwDOAAMmWM5ZSGKW","user":{"login":"dcapwell","id":1852601,"node_id":"MDQ6VXNlcjE4NTI2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/1852601?v=4","gravatar_id":"","url":"https://api.github.com/users/dcapwell","html_url":"https://github.com/dcapwell","followers_url":"https://api.github.com/users/dcapwell/followers","following_url":"https://api.github.com/users/dcapwell/following{/other_user}","gists_url":"https://api.github.com/users/dcapwell/gists{/gist_id}","starred_url":"https://api.github.com/users/dcapwell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcapwell/subscriptions","organizations_url":"https://api.github.com/users/dcapwell/orgs","repos_url":"https://api.github.com/users/dcapwell/repos","events_url":"https://api.github.com/users/dcapwell/events{/privacy}","received_events_url":"https://api.github.com/users/dcapwell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-05T18:13:44Z","updated_at":"2023-04-05T18:13:44Z","author_association":"CONTRIBUTOR","body":"@Claudenw pushed feedback or commented addressing why I didn't make changes, let me know if this makes sense to you","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1497916054/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1497916273","html_url":"https://github.com/apache/cassandra/pull/2221#issuecomment-1497916273","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2221","id":1497916273,"node_id":"IC_kwDOAAMmWM5ZSGNx","user":{"login":"polandll","id":3915061,"node_id":"MDQ6VXNlcjM5MTUwNjE=","avatar_url":"https://avatars.githubusercontent.com/u/3915061?v=4","gravatar_id":"","url":"https://api.github.com/users/polandll","html_url":"https://github.com/polandll","followers_url":"https://api.github.com/users/polandll/followers","following_url":"https://api.github.com/users/polandll/following{/other_user}","gists_url":"https://api.github.com/users/polandll/gists{/gist_id}","starred_url":"https://api.github.com/users/polandll/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/polandll/subscriptions","organizations_url":"https://api.github.com/users/polandll/orgs","repos_url":"https://api.github.com/users/polandll/repos","events_url":"https://api.github.com/users/polandll/events{/privacy}","received_events_url":"https://api.github.com/users/polandll/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-05T18:13:57Z","updated_at":"2023-04-05T18:13:57Z","author_association":"CONTRIBUTOR","body":"Note that I've reworded the commit message to comply with the required format.\r\n\r\nThis PR will need to be merged to 3.11, 4.0, 4.1 and trunk branches. Cheers! 🍻","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1497916273/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1498555729","html_url":"https://github.com/apache/cassandra/pull/2046#issuecomment-1498555729","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2046","id":1498555729,"node_id":"IC_kwDOAAMmWM5ZUiVR","user":{"login":"jacek-lewandowski","id":6516951,"node_id":"MDQ6VXNlcjY1MTY5NTE=","avatar_url":"https://avatars.githubusercontent.com/u/6516951?v=4","gravatar_id":"","url":"https://api.github.com/users/jacek-lewandowski","html_url":"https://github.com/jacek-lewandowski","followers_url":"https://api.github.com/users/jacek-lewandowski/followers","following_url":"https://api.github.com/users/jacek-lewandowski/following{/other_user}","gists_url":"https://api.github.com/users/jacek-lewandowski/gists{/gist_id}","starred_url":"https://api.github.com/users/jacek-lewandowski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jacek-lewandowski/subscriptions","organizations_url":"https://api.github.com/users/jacek-lewandowski/orgs","repos_url":"https://api.github.com/users/jacek-lewandowski/repos","events_url":"https://api.github.com/users/jacek-lewandowski/events{/privacy}","received_events_url":"https://api.github.com/users/jacek-lewandowski/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-06T06:26:11Z","updated_at":"2023-04-06T06:26:11Z","author_association":"CONTRIBUTOR","body":"> > One more general idea is to have all those get/set methods in an interface as defaults and inherit them in CassandraRelevantProperties and the env counterpart\r\n> \r\n> Doesn't this go against our code style. We don't add get/set methods if there's not a reason to do so, and we don't add interfaces unless there's a reason to do so.\r\n\r\nI'm not suggesting adding any new methods, just moving the existing methods to the interface because they can not go to a superclass (enums). The only difference between `CassandraRelevantProperties` and `CassandraRelevantEnvs` is the method they use to get the raw string. Sorry for the confusion - no set methods to be moved, just get. \r\n","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1498555729/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1498866034","html_url":"https://github.com/apache/cassandra/pull/2262#issuecomment-1498866034","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2262","id":1498866034,"node_id":"IC_kwDOAAMmWM5ZVuFy","user":{"login":"smiklosovic","id":588603,"node_id":"MDQ6VXNlcjU4ODYwMw==","avatar_url":"https://avatars.githubusercontent.com/u/588603?v=4","gravatar_id":"","url":"https://api.github.com/users/smiklosovic","html_url":"https://github.com/smiklosovic","followers_url":"https://api.github.com/users/smiklosovic/followers","following_url":"https://api.github.com/users/smiklosovic/following{/other_user}","gists_url":"https://api.github.com/users/smiklosovic/gists{/gist_id}","starred_url":"https://api.github.com/users/smiklosovic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smiklosovic/subscriptions","organizations_url":"https://api.github.com/users/smiklosovic/orgs","repos_url":"https://api.github.com/users/smiklosovic/repos","events_url":"https://api.github.com/users/smiklosovic/events{/privacy}","received_events_url":"https://api.github.com/users/smiklosovic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-06T10:44:34Z","updated_at":"2023-04-06T10:44:34Z","author_association":"CONTRIBUTOR","body":"@lukechatfield thanks for the effort! btw could we spend a little bit more time on these virtual tables? There is also doc/modules/pages/new/virtualtables.adoc and I do not have a clue why it is there, should not that be just deleted? We might probably also add more virtual tables like system_views.system_logs (I think it is called like that).","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1498866034/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1500098848","html_url":"https://github.com/apache/cassandra/pull/2256#issuecomment-1500098848","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2256","id":1500098848,"node_id":"IC_kwDOAAMmWM5ZabEg","user":{"login":"iamaleksey","id":10309,"node_id":"MDQ6VXNlcjEwMzA5","avatar_url":"https://avatars.githubusercontent.com/u/10309?v=4","gravatar_id":"","url":"https://api.github.com/users/iamaleksey","html_url":"https://github.com/iamaleksey","followers_url":"https://api.github.com/users/iamaleksey/followers","following_url":"https://api.github.com/users/iamaleksey/following{/other_user}","gists_url":"https://api.github.com/users/iamaleksey/gists{/gist_id}","starred_url":"https://api.github.com/users/iamaleksey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iamaleksey/subscriptions","organizations_url":"https://api.github.com/users/iamaleksey/orgs","repos_url":"https://api.github.com/users/iamaleksey/repos","events_url":"https://api.github.com/users/iamaleksey/events{/privacy}","received_events_url":"https://api.github.com/users/iamaleksey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-07T09:08:19Z","updated_at":"2023-04-07T09:08:19Z","author_association":"MEMBER","body":"> Build fails\r\n> \r\n> ```\r\n> _build_java:\r\n>      [echo] Compiling for Java 1.8...\r\n>     [javac] Compiling 2327 source files to /Users/dcapwell/src/github/apache/cassandra/prs/cep-15-accord/build/classes/main\r\n>     [javac] Note: Processing compiler hints annotations\r\n>     [javac] Note: Processing compiler hints annotations\r\n>     [javac] Note: Writing compiler command file at META-INF/hotspot_compiler\r\n>     [javac] Note: Done processing compiler hints annotations\r\n>     [javac] /Users/dcapwell/src/github/apache/cassandra/prs/cep-15-accord/src/java/org/apache/cassandra/journal/ActiveSegment.java:96: error: incompatible types: Buffer cannot be converted to ByteBuffer\r\n>     [javac]         ByteBuffer duplicate = buffer.duplicate().position(offset).limit(buffer.capacity());\r\n>     [javac]                                                                         ^\r\n>     [javac] /Users/dcapwell/src/github/apache/cassandra/prs/cep-15-accord/src/java/org/apache/cassandra/journal/ActiveSegment.java:322: error: incompatible types: Buffer cannot be converted to ByteBuffer\r\n>     [javac]             return new Allocation(opGroup, buffer.duplicate().position(position).limit(position + totalSize));\r\n>     [javac]                                                                                       ^\r\n>     [javac] /Users/dcapwell/src/github/apache/cassandra/prs/cep-15-accord/src/java/org/apache/cassandra/journal/EntrySerializer.java:183: error: incompatible types: Buffer cannot be converted to ByteBuffer\r\n>     [javac]                            .limit(buffer.position());\r\n>     [javac]                                  ^\r\n>     [javac] /Users/dcapwell/src/github/apache/cassandra/prs/cep-15-accord/src/java/org/apache/cassandra/journal/StaticSegment.java:178: error: incompatible types: Buffer cannot be converted to ByteBuffer\r\n>     [javac]         ByteBuffer duplicate = buffer.duplicate().position(offset);\r\n>     [javac]                                                           ^\r\n>     [javac] /Users/dcapwell/src/github/apache/cassandra/prs/cep-15-accord/src/java/org/apache/cassandra/service/accord/AccordJournal.java:148: error: cannot infer type arguments for KeySupport<K>\r\n>     [javac]         static final KeySupport<Key> SUPPORT = new KeySupport<>()\r\n>     [javac]                                                              ^\r\n>     [javac]   reason: cannot use '<>' with anonymous inner classes\r\n>     [javac]   where K is a type-variable:\r\n>     [javac]     K extends Object declared in interface KeySupport\r\n>     [javac] /Users/dcapwell/src/github/apache/cassandra/prs/cep-15-accord/src/java/org/apache/cassandra/service/accord/AccordJournal.java:295: error: cannot infer type arguments for ValueSerializer<K,V>\r\n>     [javac]     static final ValueSerializer<Key, TxnRequest<?>> MESSAGE_SERIALIZER = new ValueSerializer<>()\r\n>     [javac]                                                                                              ^\r\n>     [javac]   reason: cannot use '<>' with anonymous inner classes\r\n>     [javac]   where K,V are type-variables:\r\n>     [javac]     K extends Object declared in interface ValueSerializer\r\n>     [javac]     V extends Object declared in interface ValueSerializer\r\n>     [javac] Note: Some input files use or override a deprecated API.\r\n>     [javac] Note: Recompile with -Xlint:deprecation for details.\r\n>     [javac] Note: Some input files use unchecked or unsafe operations.\r\n>     [javac] Note: Recompile with -Xlint:unchecked for details.\r\n>     [javac] Note: Some messages have been simplified; recompile with -Xdiags:verbose to get full output\r\n>     [javac] 6 errors\r\n> \r\n> BUILD FAILED\r\n> ```\r\n\r\nFails when building with JDK8, yes. I was hoping we would've dropped JDK8 by now in trunk by the time any of this goes in. Building for language level 8 but with JDK11 locally.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1500098848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1500526811","html_url":"https://github.com/apache/cassandra/pull/2221#issuecomment-1500526811","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2221","id":1500526811,"node_id":"IC_kwDOAAMmWM5ZcDjb","user":{"login":"polandll","id":3915061,"node_id":"MDQ6VXNlcjM5MTUwNjE=","avatar_url":"https://avatars.githubusercontent.com/u/3915061?v=4","gravatar_id":"","url":"https://api.github.com/users/polandll","html_url":"https://github.com/polandll","followers_url":"https://api.github.com/users/polandll/followers","following_url":"https://api.github.com/users/polandll/following{/other_user}","gists_url":"https://api.github.com/users/polandll/gists{/gist_id}","starred_url":"https://api.github.com/users/polandll/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/polandll/subscriptions","organizations_url":"https://api.github.com/users/polandll/orgs","repos_url":"https://api.github.com/users/polandll/repos","events_url":"https://api.github.com/users/polandll/events{/privacy}","received_events_url":"https://api.github.com/users/polandll/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-07T18:23:10Z","updated_at":"2023-04-07T18:23:10Z","author_association":"CONTRIBUTOR","body":"Committed and closed","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1500526811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1503020408","html_url":"https://github.com/apache/cassandra/pull/2254#issuecomment-1503020408","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2254","id":1503020408,"node_id":"IC_kwDOAAMmWM5ZlkV4","user":{"login":"Claudenw","id":2439838,"node_id":"MDQ6VXNlcjI0Mzk4Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2439838?v=4","gravatar_id":"","url":"https://api.github.com/users/Claudenw","html_url":"https://github.com/Claudenw","followers_url":"https://api.github.com/users/Claudenw/followers","following_url":"https://api.github.com/users/Claudenw/following{/other_user}","gists_url":"https://api.github.com/users/Claudenw/gists{/gist_id}","starred_url":"https://api.github.com/users/Claudenw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Claudenw/subscriptions","organizations_url":"https://api.github.com/users/Claudenw/orgs","repos_url":"https://api.github.com/users/Claudenw/repos","events_url":"https://api.github.com/users/Claudenw/events{/privacy}","received_events_url":"https://api.github.com/users/Claudenw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-11T09:53:54Z","updated_at":"2023-04-11T09:53:54Z","author_association":"CONTRIBUTOR","body":"@smiklosovic Please take a look at using this as the basis for the final patch.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1503020408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1503035868","html_url":"https://github.com/apache/cassandra/pull/2267#issuecomment-1503035868","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2267","id":1503035868,"node_id":"IC_kwDOAAMmWM5ZloHc","user":{"login":"Maxwell-Guo","id":4403275,"node_id":"MDQ6VXNlcjQ0MDMyNzU=","avatar_url":"https://avatars.githubusercontent.com/u/4403275?v=4","gravatar_id":"","url":"https://api.github.com/users/Maxwell-Guo","html_url":"https://github.com/Maxwell-Guo","followers_url":"https://api.github.com/users/Maxwell-Guo/followers","following_url":"https://api.github.com/users/Maxwell-Guo/following{/other_user}","gists_url":"https://api.github.com/users/Maxwell-Guo/gists{/gist_id}","starred_url":"https://api.github.com/users/Maxwell-Guo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Maxwell-Guo/subscriptions","organizations_url":"https://api.github.com/users/Maxwell-Guo/orgs","repos_url":"https://api.github.com/users/Maxwell-Guo/repos","events_url":"https://api.github.com/users/Maxwell-Guo/events{/privacy}","received_events_url":"https://api.github.com/users/Maxwell-Guo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-11T10:04:52Z","updated_at":"2023-04-11T10:04:52Z","author_association":"CONTRIBUTOR","body":"One more question , is it possible that one node have two sstable format (BIG and BIT)under one table ? if it is possible , and how is the compact done? BIT and BIG doing compaction for their own ? or mixed together ? and I think if it is possible ,we should add some compaction test case for this ","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1503035868/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1503036052","html_url":"https://github.com/apache/cassandra/pull/2267#issuecomment-1503036052","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2267","id":1503036052,"node_id":"IC_kwDOAAMmWM5ZloKU","user":{"login":"Maxwell-Guo","id":4403275,"node_id":"MDQ6VXNlcjQ0MDMyNzU=","avatar_url":"https://avatars.githubusercontent.com/u/4403275?v=4","gravatar_id":"","url":"https://api.github.com/users/Maxwell-Guo","html_url":"https://github.com/Maxwell-Guo","followers_url":"https://api.github.com/users/Maxwell-Guo/followers","following_url":"https://api.github.com/users/Maxwell-Guo/following{/other_user}","gists_url":"https://api.github.com/users/Maxwell-Guo/gists{/gist_id}","starred_url":"https://api.github.com/users/Maxwell-Guo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Maxwell-Guo/subscriptions","organizations_url":"https://api.github.com/users/Maxwell-Guo/orgs","repos_url":"https://api.github.com/users/Maxwell-Guo/repos","events_url":"https://api.github.com/users/Maxwell-Guo/events{/privacy}","received_events_url":"https://api.github.com/users/Maxwell-Guo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-11T10:04:58Z","updated_at":"2023-04-11T10:04:58Z","author_association":"CONTRIBUTOR","body":"One more question , is it possible that one node have two sstable format (BIG and BIT)under one table ? if it is possible , and how is the compact done? BIT and BIG doing compaction for their own ? or mixed together ? and I think if it is possible ,we should add some compaction test case for this ","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1503036052/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1503424458","html_url":"https://github.com/apache/cassandra/pull/2256#issuecomment-1503424458","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2256","id":1503424458,"node_id":"IC_kwDOAAMmWM5ZnG_K","user":{"login":"iamaleksey","id":10309,"node_id":"MDQ6VXNlcjEwMzA5","avatar_url":"https://avatars.githubusercontent.com/u/10309?v=4","gravatar_id":"","url":"https://api.github.com/users/iamaleksey","html_url":"https://github.com/iamaleksey","followers_url":"https://api.github.com/users/iamaleksey/followers","following_url":"https://api.github.com/users/iamaleksey/following{/other_user}","gists_url":"https://api.github.com/users/iamaleksey/gists{/gist_id}","starred_url":"https://api.github.com/users/iamaleksey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iamaleksey/subscriptions","organizations_url":"https://api.github.com/users/iamaleksey/orgs","repos_url":"https://api.github.com/users/iamaleksey/repos","events_url":"https://api.github.com/users/iamaleksey/events{/privacy}","received_events_url":"https://api.github.com/users/iamaleksey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-11T14:06:21Z","updated_at":"2023-04-11T14:06:21Z","author_association":"MEMBER","body":"> trying to figure out what's going on here, but touching the journal failed when using C*\r\n> \r\n> ```\r\n> ERROR [AccordJournal-allocator] 2023-04-06 14:38:46,445 Journal.java:617 - Failed allocating journal segments. Journal AccordJournal failure policy is STOP; terminating thread.\r\n> java.lang.NoClassDefFoundError: org/apache/commons/collections/set/UnmodifiableSet\r\n>         at org.apache.cassandra.journal.Metadata.<init>(Metadata.java:63)\r\n>         at org.apache.cassandra.journal.Metadata.create(Metadata.java:55)\r\n>         at org.apache.cassandra.journal.ActiveSegment.create(ActiveSegment.java:85)\r\n>         at org.apache.cassandra.journal.Journal.createSegment(Journal.java:452)\r\n>         at org.apache.cassandra.journal.Journal.access$200(Journal.java:77)\r\n>         at org.apache.cassandra.journal.Journal$AllocateRunnable.runNormal(Journal.java:394)\r\n>         at org.apache.cassandra.journal.Journal$AllocateRunnable.run(Journal.java:376)\r\n>         at org.apache.cassandra.concurrent.InfiniteLoopExecutor.loop(InfiniteLoopExecutor.java:121)\r\n>         at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n>         at java.base/java.lang.Thread.run(Thread.java:829)\r\n> Caused by: java.lang.ClassNotFoundException: org.apache.commons.collections.set.UnmodifiableSet\r\n>         at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n>         at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n>         at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n>         ... 10 common frames omitted\r\n> ```\r\n> \r\n> This is from commons-collection-3.2.1, which is there from build\r\n> \r\n> ```\r\n> $ ls build/lib/jars/commons-collections-3.2.1.jar\r\n> build/lib/jars/commons-collections-3.2.1.jar\r\n> ```\r\n> \r\n> build not at runtime\r\n> \r\n> ```\r\n> $ ls lib/commons-*\r\n> lib/commons-cli-1.1.jar         lib/commons-codec-1.9.jar       lib/commons-lang3-3.11.jar      lib/commons-math3-3.2.jar\r\n> ```\r\n> \r\n> Asking maven it looks like this is pulled in from Hadoop; which I thought was already removed\r\n> \r\n> ```\r\n>  $ mvn dependency:tree -f build/apache-cassandra-5.0-SNAPSHOT.pom\r\n> ...\r\n> [INFO] +- org.apache.hadoop:hadoop-core:jar:1.0.3:provided\r\n> [INFO] |  +- xmlenc:xmlenc:jar:0.52:provided\r\n> [INFO] |  +- commons-httpclient:commons-httpclient:jar:3.0.1:provided\r\n> [INFO] |  +- org.apache.commons:commons-math:jar:2.1:provided\r\n> [INFO] |  +- commons-configuration:commons-configuration:jar:1.6:provided\r\n> [INFO] |  |  +- commons-collections:commons-collections:jar:3.2.1:provided\r\n> ...\r\n> ```\r\n\r\nCommitted a fix to use `Collections.unmodifiableSet()` instead. (This was a somewhat recent change, not properly tested manually, but since commons is available in test, did in test).","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1503424458/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1503450660","html_url":"https://github.com/apache/cassandra/pull/2267#issuecomment-1503450660","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2267","id":1503450660,"node_id":"IC_kwDOAAMmWM5ZnNYk","user":{"login":"blambov","id":8417529,"node_id":"MDQ6VXNlcjg0MTc1Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/8417529?v=4","gravatar_id":"","url":"https://api.github.com/users/blambov","html_url":"https://github.com/blambov","followers_url":"https://api.github.com/users/blambov/followers","following_url":"https://api.github.com/users/blambov/following{/other_user}","gists_url":"https://api.github.com/users/blambov/gists{/gist_id}","starred_url":"https://api.github.com/users/blambov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blambov/subscriptions","organizations_url":"https://api.github.com/users/blambov/orgs","repos_url":"https://api.github.com/users/blambov/repos","events_url":"https://api.github.com/users/blambov/events{/privacy}","received_events_url":"https://api.github.com/users/blambov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-11T14:17:58Z","updated_at":"2023-04-11T14:17:58Z","author_association":"CONTRIBUTOR","body":"I think this applies all requested changes from the SAI branch, except removing `PageAware.pad` which is an implementation I see as belonging to the class.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1503450660/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1503455415","html_url":"https://github.com/apache/cassandra/pull/2267#issuecomment-1503455415","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2267","id":1503455415,"node_id":"IC_kwDOAAMmWM5ZnOi3","user":{"login":"blambov","id":8417529,"node_id":"MDQ6VXNlcjg0MTc1Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/8417529?v=4","gravatar_id":"","url":"https://api.github.com/users/blambov","html_url":"https://github.com/blambov","followers_url":"https://api.github.com/users/blambov/followers","following_url":"https://api.github.com/users/blambov/following{/other_user}","gists_url":"https://api.github.com/users/blambov/gists{/gist_id}","starred_url":"https://api.github.com/users/blambov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blambov/subscriptions","organizations_url":"https://api.github.com/users/blambov/orgs","repos_url":"https://api.github.com/users/blambov/repos","events_url":"https://api.github.com/users/blambov/events{/privacy}","received_events_url":"https://api.github.com/users/blambov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-11T14:20:03Z","updated_at":"2023-04-11T14:20:03Z","author_association":"CONTRIBUTOR","body":"> One more question , is it possible that one node have two sstable format (BIG and BIT)under one table ?\r\n\r\nThis is possible (e.g. after an upgrade where `upgradesstables` was not applied). The inputs are independently read (each by its format), and the output is created in the current write format.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1503455415/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1503992979","html_url":"https://github.com/apache/cassandra/pull/2237#issuecomment-1503992979","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2237","id":1503992979,"node_id":"IC_kwDOAAMmWM5ZpRyT","user":{"login":"aweisberg","id":1047741,"node_id":"MDQ6VXNlcjEwNDc3NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1047741?v=4","gravatar_id":"","url":"https://api.github.com/users/aweisberg","html_url":"https://github.com/aweisberg","followers_url":"https://api.github.com/users/aweisberg/followers","following_url":"https://api.github.com/users/aweisberg/following{/other_user}","gists_url":"https://api.github.com/users/aweisberg/gists{/gist_id}","starred_url":"https://api.github.com/users/aweisberg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aweisberg/subscriptions","organizations_url":"https://api.github.com/users/aweisberg/orgs","repos_url":"https://api.github.com/users/aweisberg/repos","events_url":"https://api.github.com/users/aweisberg/events{/privacy}","received_events_url":"https://api.github.com/users/aweisberg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-11T19:41:13Z","updated_at":"2023-04-11T19:41:13Z","author_association":"CONTRIBUTOR","body":"> I think we need a way to segregate normal and accord data for paxos->accord migration to work correctly. Otherwise the repair and coordinated read operations can replicate data from the future onto the local node.\r\n\r\nThere is definitely a problem here with coordinators and recovery coordinators. @dcapwell  just fixed [CASSANDRA-18422](https://issues.apache.org/jira/browse/CASSANDRA-18422?filter=-3) which is similar where two coordinators are concurrently reading and writing and one coordinator accidentally reads the writes of the other. The fix there was to invalidate any in-flight reads when committing a write.\r\n\r\nThe invalidation approach won't help with repair. Seem like for repair the data starts segregated, and we could keep it segregated, and then commit it into Accord in a range transaction?\r\n\r\n> The good news is that this would solve the problem of how to run data repairs in clusters where users are mixing normal and accord operations, and if this metadata was the accord execution epoch, it would be pretty useful in bootstrap/range movement/and extended failure recovery.\r\nCan you elaborate more on this stable component? What would it contain?\r\n\r\n\r\nFor coordinated reads. Maybe it makes sense to run those in Accord and route them through their respective command stores so invalidation works? I am not clear if that is better or worse than segregating Accord writes since I don't understand the thinking there yet.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1503992979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1504001601","html_url":"https://github.com/apache/cassandra/pull/2237#issuecomment-1504001601","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2237","id":1504001601,"node_id":"IC_kwDOAAMmWM5ZpT5B","user":{"login":"belliottsmith","id":5220766,"node_id":"MDQ6VXNlcjUyMjA3NjY=","avatar_url":"https://avatars.githubusercontent.com/u/5220766?v=4","gravatar_id":"","url":"https://api.github.com/users/belliottsmith","html_url":"https://github.com/belliottsmith","followers_url":"https://api.github.com/users/belliottsmith/followers","following_url":"https://api.github.com/users/belliottsmith/following{/other_user}","gists_url":"https://api.github.com/users/belliottsmith/gists{/gist_id}","starred_url":"https://api.github.com/users/belliottsmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/belliottsmith/subscriptions","organizations_url":"https://api.github.com/users/belliottsmith/orgs","repos_url":"https://api.github.com/users/belliottsmith/repos","events_url":"https://api.github.com/users/belliottsmith/events{/privacy}","received_events_url":"https://api.github.com/users/belliottsmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-11T19:49:38Z","updated_at":"2023-04-11T19:49:38Z","author_association":"CONTRIBUTOR","body":"I replied on slack. The problem found by David is quite distinct and only related to the local state. This problem is resolved in the bootstrap patch by disabling reads for txnid less than some point determined after the repair snapshot was taken. It might be we want to hook into that.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1504001601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1504044743","html_url":"https://github.com/apache/cassandra/pull/2267#issuecomment-1504044743","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2267","id":1504044743,"node_id":"IC_kwDOAAMmWM5ZpebH","user":{"login":"dcapwell","id":1852601,"node_id":"MDQ6VXNlcjE4NTI2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/1852601?v=4","gravatar_id":"","url":"https://api.github.com/users/dcapwell","html_url":"https://github.com/dcapwell","followers_url":"https://api.github.com/users/dcapwell/followers","following_url":"https://api.github.com/users/dcapwell/following{/other_user}","gists_url":"https://api.github.com/users/dcapwell/gists{/gist_id}","starred_url":"https://api.github.com/users/dcapwell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcapwell/subscriptions","organizations_url":"https://api.github.com/users/dcapwell/orgs","repos_url":"https://api.github.com/users/dcapwell/repos","events_url":"https://api.github.com/users/dcapwell/events{/privacy}","received_events_url":"https://api.github.com/users/dcapwell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-11T20:24:25Z","updated_at":"2023-04-11T20:24:25Z","author_association":"CONTRIBUTOR","body":"removed requested change in favor of [CASSANDRA-18441](https://issues.apache.org/jira/browse/CASSANDRA-18441).","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1504044743/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1504063466","html_url":"https://github.com/apache/cassandra/pull/2237#issuecomment-1504063466","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2237","id":1504063466,"node_id":"IC_kwDOAAMmWM5Zpi_q","user":{"login":"aweisberg","id":1047741,"node_id":"MDQ6VXNlcjEwNDc3NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1047741?v=4","gravatar_id":"","url":"https://api.github.com/users/aweisberg","html_url":"https://github.com/aweisberg","followers_url":"https://api.github.com/users/aweisberg/followers","following_url":"https://api.github.com/users/aweisberg/following{/other_user}","gists_url":"https://api.github.com/users/aweisberg/gists{/gist_id}","starred_url":"https://api.github.com/users/aweisberg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aweisberg/subscriptions","organizations_url":"https://api.github.com/users/aweisberg/orgs","repos_url":"https://api.github.com/users/aweisberg/repos","events_url":"https://api.github.com/users/aweisberg/events{/privacy}","received_events_url":"https://api.github.com/users/aweisberg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-11T20:42:30Z","updated_at":"2023-04-11T20:44:21Z","author_association":"CONTRIBUTOR","body":"> This problem is resolved in the bootstrap patch by disabling reads for txnid less than some point determined after the repair snapshot was taken. It might be we want to hook into that.\r\n\r\nThe pain point for coordinated reads is that they aren't a quorum of reads from Accord command stores they are a regular quorum read in Cassandra so there is no filtering there to prevent picking up data from other nodes that have moved on to later transactions.\r\n\r\nThere is no Accord transaction that starts the migration to Accord for a range that is after some snapshot. Migration uses repair and repair is unreliable so it starts after the migration to Accord begins and keys are migrating before the repair even starts.\r\n\r\nI think both repair and coordinated reads have to change.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1504063466/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1506847872","html_url":"https://github.com/apache/cassandra/pull/2254#issuecomment-1506847872","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2254","id":1506847872,"node_id":"IC_kwDOAAMmWM5Z0KyA","user":{"login":"Claudenw","id":2439838,"node_id":"MDQ6VXNlcjI0Mzk4Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2439838?v=4","gravatar_id":"","url":"https://api.github.com/users/Claudenw","html_url":"https://github.com/Claudenw","followers_url":"https://api.github.com/users/Claudenw/followers","following_url":"https://api.github.com/users/Claudenw/following{/other_user}","gists_url":"https://api.github.com/users/Claudenw/gists{/gist_id}","starred_url":"https://api.github.com/users/Claudenw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Claudenw/subscriptions","organizations_url":"https://api.github.com/users/Claudenw/orgs","repos_url":"https://api.github.com/users/Claudenw/repos","events_url":"https://api.github.com/users/Claudenw/events{/privacy}","received_events_url":"https://api.github.com/users/Claudenw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T12:03:45Z","updated_at":"2023-04-13T12:03:45Z","author_association":"CONTRIBUTOR","body":"@smiklosovic Please review this pull request.  I think it is complete and correct.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1506847872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1507274741","html_url":"https://github.com/apache/cassandra/pull/2256#issuecomment-1507274741","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2256","id":1507274741,"node_id":"IC_kwDOAAMmWM5Z1y_1","user":{"login":"dcapwell","id":1852601,"node_id":"MDQ6VXNlcjE4NTI2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/1852601?v=4","gravatar_id":"","url":"https://api.github.com/users/dcapwell","html_url":"https://github.com/dcapwell","followers_url":"https://api.github.com/users/dcapwell/followers","following_url":"https://api.github.com/users/dcapwell/following{/other_user}","gists_url":"https://api.github.com/users/dcapwell/gists{/gist_id}","starred_url":"https://api.github.com/users/dcapwell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcapwell/subscriptions","organizations_url":"https://api.github.com/users/dcapwell/orgs","repos_url":"https://api.github.com/users/dcapwell/repos","events_url":"https://api.github.com/users/dcapwell/events{/privacy}","received_events_url":"https://api.github.com/users/dcapwell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T16:43:06Z","updated_at":"2023-04-13T16:45:37Z","author_association":"CONTRIBUTOR","body":"Working on a simulator test and I see the following, `journal.shutdown()` hangs:\r\n\r\n```\r\n\"begin:1@2840\" prio=5 tid=0x10 nid=NA waiting for monitor entry\r\n  java.lang.Thread.State: BLOCKED\r\n\t waiting for AccordJournal-disk-flusher-group:1@4442 to release lock on <0x12b6> (a org.apache.cassandra.journal.Flusher$FlushRunnable)\r\n\t  at org.apache.cassandra.concurrent.InfiniteLoopExecutor.lambda$interruptHandler$0(InfiniteLoopExecutor.java:101)\r\n\t  at org.apache.cassandra.concurrent.InfiniteLoopExecutor$$Lambda$307.410057676.accept(Unknown Source:-1)\r\n\t  at org.apache.cassandra.concurrent.InfiniteLoopExecutor.shutdown(InfiniteLoopExecutor.java:155)\r\n\t  at org.apache.cassandra.journal.Flusher.shutdown(Flusher.java:97)\r\n\t  at org.apache.cassandra.journal.Journal.shutdown(Journal.java:165)\r\n\t  at org.apache.cassandra.service.accord.AccordJournal.shutdown(AccordJournal.java:82)\r\n```\r\n\r\nHere is the lock holder\r\n\r\n```\r\n\"AccordJournal-disk-flusher-group:1@4442\" prio=5 tid=0x1d nid=NA waiting\r\n  java.lang.Thread.State: WAITING\r\n\t blocks begin:1@2840\r\n\t  at java.lang.Object.wait(Object.java:-1)\r\n\t  at java.lang.Object.wait(Object.java:502)\r\n\t  at org.apache.cassandra.simulator.systems.InterceptibleThread$Parked.await(InterceptibleThread.java:154)\r\n\t  at org.apache.cassandra.simulator.systems.InterceptibleThread.park(InterceptibleThread.java:246)\r\n\t  at org.apache.cassandra.simulator.systems.InterceptibleThread.parkNanos(InterceptibleThread.java:517)\r\n\t  at org.apache.cassandra.simulator.systems.InterceptingMonitors.parkNanos(InterceptingMonitors.java:871)\r\n\t  at org.apache.cassandra.simulator.systems.InterceptorOfSystemMethods$Global.parkNanos(InterceptorOfSystemMethods.java:157)\r\n\t  at java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedNanos(AbstractQueuedSynchronizer.java:1039)\r\n\t  at java.util.concurrent.locks.AbstractQueuedSynchronizer.tryAcquireSharedNanos(AbstractQueuedSynchronizer.java:1332)\r\n\t  at java.util.concurrent.Semaphore.tryAcquire(Semaphore.java:582)\r\n\t  at org.apache.cassandra.utils.concurrent.Semaphore$Standard.tryAcquireUntil(Semaphore.java:143)\r\n\t  at org.apache.cassandra.journal.Flusher$FlushRunnable.doRun(Flusher.java:155)\r\n\t  - locked <0x12b6> (a org.apache.cassandra.journal.Flusher$FlushRunnable)\r\n\t  at org.apache.cassandra.journal.Flusher$FlushRunnable.run(Flusher.java:117)\r\n```\r\n\r\nLooks like we can't shutdown and deadlock due to `haveWork.tryAcquireUntil(1, wakeUpAt);` being in the lock?\r\n\r\nPatching this (just avoid the wait in the lock) and I hit another dead lock\r\n\r\n```\r\n\"begin:1@2834\" prio=5 tid=0x10 nid=NA waiting\r\n  java.lang.Thread.State: WAITING\r\n\t blocks AccordJournal-disk-flusher-group:1@4735\r\n\t  at java.lang.Object.wait(Object.java:-1)\r\n\t  at java.lang.Object.wait(Object.java:502)\r\n\t  at org.apache.cassandra.simulator.systems.NotInterceptedSyncCondition.await(NotInterceptedSyncCondition.java:44)\r\n\t  at org.apache.cassandra.simulator.systems.InterceptedWait$InterceptedConditionWait.awaitDeclaredUninterruptible(InterceptedWait.java:314)\r\n\t  at org.apache.cassandra.simulator.systems.InterceptingMonitors.preMonitorEnter(InterceptingMonitors.java:683)\r\n\t  at org.apache.cassandra.simulator.systems.InterceptorOfSystemMethods$Global.preMonitorEnter(InterceptorOfSystemMethods.java:115)\r\n\t  at org.apache.cassandra.utils.concurrent.OpOrder$Barrier.issue(OpOrder.java:395)\r\n\t  at org.apache.cassandra.utils.concurrent.OpOrder.awaitNewBarrier(OpOrder.java:134)\r\n\t  at org.apache.cassandra.journal.ActiveSegment.waitForModifications(ActiveSegment.java:256)\r\n\t  at org.apache.cassandra.journal.ActiveSegment.flush(ActiveSegment.java:230)\r\n\t  - locked <0x131c> (a org.apache.cassandra.journal.ActiveSegment)\r\n\t  at org.apache.cassandra.journal.ActiveSegment.close(ActiveSegment.java:125)\r\n\t  at org.apache.cassandra.journal.ActiveSegment.closeAndIfEmptyDiscard(ActiveSegment.java:144)\r\n\t  at org.apache.cassandra.journal.Journal.closeAllSegments(Journal.java:472)\r\n\t  at org.apache.cassandra.journal.Journal.shutdown(Journal.java:167)\r\n\t  at org.apache.cassandra.service.accord.AccordJournal.shutdown(AccordJournal.java:82)\r\n```\r\n\r\nThat blocks\r\n\r\n```\r\n\"AccordJournal-disk-flusher-group:1@4735\" prio=5 tid=0x1d nid=NA waiting for monitor entry\r\n  java.lang.Thread.State: BLOCKED\r\n\t waiting for begin:1@2834 to release lock on <0x131c> (a org.apache.cassandra.journal.ActiveSegment)\r\n\t  at org.apache.cassandra.journal.ActiveSegment.flush(ActiveSegment.java:227)\r\n\t  at org.apache.cassandra.journal.Journal.flush(Journal.java:464)\r\n\t  at org.apache.cassandra.journal.Flusher$FlushRunnable.doRun(Flusher.java:142)\r\n\t  - locked <0x131b> (a org.apache.cassandra.journal.Flusher$FlushRunnable)\r\n\t  at org.apache.cassandra.journal.Flusher$FlushRunnable.run(Flusher.java:117)\r\n\t  at org.apache.cassandra.concurrent.InfiniteLoopExecutor.loop(InfiniteLoopExecutor.java:121)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1507274741/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1507621651","html_url":"https://github.com/apache/cassandra/pull/2256#issuecomment-1507621651","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2256","id":1507621651,"node_id":"IC_kwDOAAMmWM5Z3HsT","user":{"login":"dcapwell","id":1852601,"node_id":"MDQ6VXNlcjE4NTI2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/1852601?v=4","gravatar_id":"","url":"https://api.github.com/users/dcapwell","html_url":"https://github.com/dcapwell","followers_url":"https://api.github.com/users/dcapwell/followers","following_url":"https://api.github.com/users/dcapwell/following{/other_user}","gists_url":"https://api.github.com/users/dcapwell/gists{/gist_id}","starred_url":"https://api.github.com/users/dcapwell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcapwell/subscriptions","organizations_url":"https://api.github.com/users/dcapwell/orgs","repos_url":"https://api.github.com/users/dcapwell/repos","events_url":"https://api.github.com/users/dcapwell/events{/privacy}","received_events_url":"https://api.github.com/users/dcapwell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T21:18:10Z","updated_at":"2023-04-13T21:18:10Z","author_association":"CONTRIBUTOR","body":"Pushed a change to my feedback branch that removes all mmap... I do not think we should apply my change, this was done to get a simulation test running...\r\n\r\nThe simulation test is rather simple, we write 100 events concurrently, wait for everything to be durable, then try to read... this test is failing as we see the wrong key returned","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1507621651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1507638514","html_url":"https://github.com/apache/cassandra/pull/1466#issuecomment-1507638514","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1466","id":1507638514,"node_id":"IC_kwDOAAMmWM5Z3Lzy","user":{"login":"maedhroz","id":630857,"node_id":"MDQ6VXNlcjYzMDg1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/630857?v=4","gravatar_id":"","url":"https://api.github.com/users/maedhroz","html_url":"https://github.com/maedhroz","followers_url":"https://api.github.com/users/maedhroz/followers","following_url":"https://api.github.com/users/maedhroz/following{/other_user}","gists_url":"https://api.github.com/users/maedhroz/gists{/gist_id}","starred_url":"https://api.github.com/users/maedhroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maedhroz/subscriptions","organizations_url":"https://api.github.com/users/maedhroz/orgs","repos_url":"https://api.github.com/users/maedhroz/repos","events_url":"https://api.github.com/users/maedhroz/events{/privacy}","received_events_url":"https://api.github.com/users/maedhroz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T21:35:27Z","updated_at":"2023-04-13T21:35:27Z","author_association":"CONTRIBUTOR","body":"https://app.circleci.com/pipelines/github/maedhroz/cassandra/714/workflows/d9bdde53-2fe7-4b06-bd89-13bf4166ec10","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1507638514/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1508297691","html_url":"https://github.com/apache/cassandra/pull/1978#issuecomment-1508297691","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1978","id":1508297691,"node_id":"IC_kwDOAAMmWM5Z5svb","user":{"login":"masokol","id":97948057,"node_id":"U_kgDOBdaRmQ","avatar_url":"https://avatars.githubusercontent.com/u/97948057?v=4","gravatar_id":"","url":"https://api.github.com/users/masokol","html_url":"https://github.com/masokol","followers_url":"https://api.github.com/users/masokol/followers","following_url":"https://api.github.com/users/masokol/following{/other_user}","gists_url":"https://api.github.com/users/masokol/gists{/gist_id}","starred_url":"https://api.github.com/users/masokol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masokol/subscriptions","organizations_url":"https://api.github.com/users/masokol/orgs","repos_url":"https://api.github.com/users/masokol/repos","events_url":"https://api.github.com/users/masokol/events{/privacy}","received_events_url":"https://api.github.com/users/masokol/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-14T10:30:15Z","updated_at":"2023-04-14T10:30:15Z","author_association":"CONTRIBUTOR","body":"Commited in https://github.com/apache/cassandra/commit/2fce3025c448316720d9cf7447fe7d1d34e17625","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1508297691/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1509245174","html_url":"https://github.com/apache/cassandra/pull/2267#issuecomment-1509245174","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2267","id":1509245174,"node_id":"IC_kwDOAAMmWM5Z9UD2","user":{"login":"maedhroz","id":630857,"node_id":"MDQ6VXNlcjYzMDg1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/630857?v=4","gravatar_id":"","url":"https://api.github.com/users/maedhroz","html_url":"https://github.com/maedhroz","followers_url":"https://api.github.com/users/maedhroz/followers","following_url":"https://api.github.com/users/maedhroz/following{/other_user}","gists_url":"https://api.github.com/users/maedhroz/gists{/gist_id}","starred_url":"https://api.github.com/users/maedhroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maedhroz/subscriptions","organizations_url":"https://api.github.com/users/maedhroz/orgs","repos_url":"https://api.github.com/users/maedhroz/repos","events_url":"https://api.github.com/users/maedhroz/events{/privacy}","received_events_url":"https://api.github.com/users/maedhroz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-14T20:50:04Z","updated_at":"2023-04-14T20:51:43Z","author_association":"CONTRIBUTOR","body":"We've already talked about this a bit, but my feedback for changes to the `o.a.c.io.tries`, `o.a.c.io.util`, and `o.a.c.utils.concurrent` packages is mostly to make sure we keep things in sync w/ the SAI patch for string/literal indexes at https://github.com/apache/cassandra/commit/b45f47d7097b2c9fbf6abe1c10ae60543b0068cb.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1509245174/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1514364495","html_url":"https://github.com/apache/cassandra/pull/1891#issuecomment-1514364495","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1891","id":1514364495,"node_id":"IC_kwDOAAMmWM5aQ15P","user":{"login":"bereng","id":6973517,"node_id":"MDQ6VXNlcjY5NzM1MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6973517?v=4","gravatar_id":"","url":"https://api.github.com/users/bereng","html_url":"https://github.com/bereng","followers_url":"https://api.github.com/users/bereng/followers","following_url":"https://api.github.com/users/bereng/following{/other_user}","gists_url":"https://api.github.com/users/bereng/gists{/gist_id}","starred_url":"https://api.github.com/users/bereng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bereng/subscriptions","organizations_url":"https://api.github.com/users/bereng/orgs","repos_url":"https://api.github.com/users/bereng/repos","events_url":"https://api.github.com/users/bereng/events{/privacy}","received_events_url":"https://api.github.com/users/bereng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T08:48:58Z","updated_at":"2023-04-19T09:18:01Z","author_association":"CONTRIBUTOR","body":"@adelapena I just committed:\r\n- [fce297e](https://github.com/apache/cassandra/pull/1891/commits/fce297e17d5c7ad337912dad6bc6964c4b300b4f) to add the right 5.0 version\r\n- [575f809](https://github.com/apache/cassandra/pull/1891/commits/575f809b57dde4c19ca682b0f06315a38d11f6c5) makes the code behave in 'compatibility mode': nc, MV 4.0, etc It [passes](https://app.circleci.com/pipelines/github/bereng/cassandra/913/workflows/8ec1fa9a-1c45-436a-8c22-2f20675fce5f) all tests. The only 2 dtest failures are bc on dtests we can't detect when we run in one mode or the other, sthg CASSANDRA-18301 should address. The tests would pass if that condition was detected. I also copied a data folder into a 4.1 install and it works where the only errors were related to other tickets that again CASSANDRA-18301 should address\r\n- [45aec2c](https://github.com/apache/cassandra/pull/1891/commits/45aec2cc5be195643b90ab61b95316ffdd19fda3) Switches the code back to a 5.0 config and all tests [pass](https://app.circleci.com/pipelines/github/bereng/cassandra/914/workflows/a2e9babe-8231-4ef9-9785-fc72ab887c31)\r\n\r\nCASSANDRA-18301 should only toggle those versions and the codebase now behaves with the old or new behavior accordingly.\r\n\r\nNote: The test runs are on another branch I use to keep noise here down. But they are the same SHAs","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1514364495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1514862369","html_url":"https://github.com/apache/cassandra/pull/1891#issuecomment-1514862369","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1891","id":1514862369,"node_id":"IC_kwDOAAMmWM5aSvch","user":{"login":"adelapena","id":5229055,"node_id":"MDQ6VXNlcjUyMjkwNTU=","avatar_url":"https://avatars.githubusercontent.com/u/5229055?v=4","gravatar_id":"","url":"https://api.github.com/users/adelapena","html_url":"https://github.com/adelapena","followers_url":"https://api.github.com/users/adelapena/followers","following_url":"https://api.github.com/users/adelapena/following{/other_user}","gists_url":"https://api.github.com/users/adelapena/gists{/gist_id}","starred_url":"https://api.github.com/users/adelapena/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adelapena/subscriptions","organizations_url":"https://api.github.com/users/adelapena/orgs","repos_url":"https://api.github.com/users/adelapena/repos","events_url":"https://api.github.com/users/adelapena/events{/privacy}","received_events_url":"https://api.github.com/users/adelapena/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T14:41:03Z","updated_at":"2023-04-19T14:47:40Z","author_association":"CONTRIBUTOR","body":"So there is no boolean feature flag to control this. The behaviour rather depends on the sstable version, which is hardcoded on `BigFormat.BigVersion#current_version`. The hardcoded sstable version is the new `oa`, and it should work with other formats set by [CASSANDRA-18301](https://issues.apache.org/jira/browse/CASSANDRA-18301). We don't have tools to test this automatically on CI, so it has been tested by manually changing the hardcoded sstable version. Is this correct?\r\n\r\nIs the plan to block this on CASSANDRA-18301? Or is it to commit this with the new major sstable version and make CASSANDRA-18301 a release blocker? IIUC the latter would involve merging with a couple of broken dtests and without full CI runs for sstable versions older than `oa`.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1514862369/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]