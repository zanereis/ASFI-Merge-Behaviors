[{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620811813","html_url":"https://github.com/apache/pulsar/issues/6834#issuecomment-620811813","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6834","id":620811813,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDgxMTgxMw==","user":{"login":"kjaggann","id":59704044,"node_id":"MDQ6VXNlcjU5NzA0MDQ0","avatar_url":"https://avatars.githubusercontent.com/u/59704044?v=4","gravatar_id":"","url":"https://api.github.com/users/kjaggann","html_url":"https://github.com/kjaggann","followers_url":"https://api.github.com/users/kjaggann/followers","following_url":"https://api.github.com/users/kjaggann/following{/other_user}","gists_url":"https://api.github.com/users/kjaggann/gists{/gist_id}","starred_url":"https://api.github.com/users/kjaggann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kjaggann/subscriptions","organizations_url":"https://api.github.com/users/kjaggann/orgs","repos_url":"https://api.github.com/users/kjaggann/repos","events_url":"https://api.github.com/users/kjaggann/events{/privacy}","received_events_url":"https://api.github.com/users/kjaggann/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-28T19:35:11Z","updated_at":"2020-04-28T19:46:20Z","author_association":"NONE","body":"I have already added org.apache.pulsar.client.impl.crypto.MessageCryptoBc version 2.5.1 \r\nshould i make any more changes to my code ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620811813/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620825539","html_url":"https://github.com/apache/pulsar/issues/6834#issuecomment-620825539","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6834","id":620825539,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDgyNTUzOQ==","user":{"login":"kjaggann","id":59704044,"node_id":"MDQ6VXNlcjU5NzA0MDQ0","avatar_url":"https://avatars.githubusercontent.com/u/59704044?v=4","gravatar_id":"","url":"https://api.github.com/users/kjaggann","html_url":"https://github.com/kjaggann","followers_url":"https://api.github.com/users/kjaggann/followers","following_url":"https://api.github.com/users/kjaggann/following{/other_user}","gists_url":"https://api.github.com/users/kjaggann/gists{/gist_id}","starred_url":"https://api.github.com/users/kjaggann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kjaggann/subscriptions","organizations_url":"https://api.github.com/users/kjaggann/orgs","repos_url":"https://api.github.com/users/kjaggann/repos","events_url":"https://api.github.com/users/kjaggann/events{/privacy}","received_events_url":"https://api.github.com/users/kjaggann/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-28T20:04:16Z","updated_at":"2020-04-28T20:04:16Z","author_association":"NONE","body":"But how is it related to MessageCrypto should i add any method related to messagecryptobc to encrypt","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620825539/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620941170","html_url":"https://github.com/apache/pulsar/issues/6833#issuecomment-620941170","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6833","id":620941170,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDk0MTE3MA==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-29T01:32:54Z","updated_at":"2020-04-29T01:32:54Z","author_association":"MEMBER","body":"@lookhua Currently if you are looking for solutions to deploy Pulsar in kubernetes, you can use Helm chart - https://github.com/apache/pulsar-helm-chart. We are also developing operators and will open-source them at some time.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620941170/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620942360","html_url":"https://github.com/apache/pulsar/issues/6834#issuecomment-620942360","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6834","id":620942360,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDk0MjM2MA==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-29T01:37:29Z","updated_at":"2020-04-29T01:37:29Z","author_association":"MEMBER","body":"In 2.5.1, we made a few changes regarding to FIPS support. This class has been moved to a separated module and the client already depends on it. So ideally if you are using maven, you should be able to resolve all the dependencies. \r\n\r\n@kjaggann how did you run your code?\r\n\r\n@trexinc are you using maven to build your project?\r\n\r\n@jiazhai please take a look at this issue.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620942360/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620942678","html_url":"https://github.com/apache/pulsar/issues/6836#issuecomment-620942678","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6836","id":620942678,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDk0MjY3OA==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-29T01:38:56Z","updated_at":"2020-04-29T01:38:56Z","author_association":"MEMBER","body":"@frankjkelly if you are running the process in foreground, it will not generate any pid file. The pid file is only generated only when you run the components using `bin/pulsar-daemon`.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620942678/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620983763","html_url":"https://github.com/apache/pulsar/pull/6764#issuecomment-620983763","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6764","id":620983763,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDk4Mzc2Mw==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-29T04:35:09Z","updated_at":"2020-04-29T04:35:09Z","author_association":"MEMBER","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620983763/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620984369","html_url":"https://github.com/apache/pulsar/pull/6825#issuecomment-620984369","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6825","id":620984369,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDk4NDM2OQ==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-29T04:38:04Z","updated_at":"2020-04-29T04:38:04Z","author_association":"MEMBER","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/620984369/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621013264","html_url":"https://github.com/apache/pulsar/issues/4857#issuecomment-621013264","issue_url":"https://api.github.com/repos/apache/pulsar/issues/4857","id":621013264,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTAxMzI2NA==","user":{"login":"FFC-SystemAdmin","id":49019331,"node_id":"MDQ6VXNlcjQ5MDE5MzMx","avatar_url":"https://avatars.githubusercontent.com/u/49019331?v=4","gravatar_id":"","url":"https://api.github.com/users/FFC-SystemAdmin","html_url":"https://github.com/FFC-SystemAdmin","followers_url":"https://api.github.com/users/FFC-SystemAdmin/followers","following_url":"https://api.github.com/users/FFC-SystemAdmin/following{/other_user}","gists_url":"https://api.github.com/users/FFC-SystemAdmin/gists{/gist_id}","starred_url":"https://api.github.com/users/FFC-SystemAdmin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FFC-SystemAdmin/subscriptions","organizations_url":"https://api.github.com/users/FFC-SystemAdmin/orgs","repos_url":"https://api.github.com/users/FFC-SystemAdmin/repos","events_url":"https://api.github.com/users/FFC-SystemAdmin/events{/privacy}","received_events_url":"https://api.github.com/users/FFC-SystemAdmin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-29T06:23:39Z","updated_at":"2020-04-29T06:28:47Z","author_association":"NONE","body":"Hello, I have the same problem with 2.4.2\r\n\r\nI am running pulsar standalone and is writing a function to listen for input on a topic set with a schema:\r\n`\r\n\"schemaInfo\": {\r\n    \"name\": \"ffc-liveoccupancydata\",\r\n    \"schema\": {\r\n      \"type\": \"record\",\r\n      \"name\": \"LIVEOCCUPANCYDATA\",\r\n      \"namespace\": \"public.default\",\r\n      \"fields\": [\r\n        {\r\n          \"name\": \"DataID\",\r\n          \"type\": \"long\"\r\n        },\r\n        {\r\n          \"name\": \"CameraSerial\",\r\n          \"type\": [\r\n            \"null\",\r\n            \"string\"\r\n          ]\r\n        },\r\n        {\r\n          \"name\": \"Timestamp\",\r\n          \"type\": \"long\"\r\n        },\r\n        {\r\n          \"name\": \"OutValue\",\r\n          \"type\": \"long\"\r\n        },\r\n        {\r\n          \"name\": \"Create_at\",\r\n          \"type\": [\r\n            \"null\",\r\n            \"string\"\r\n          ]\r\n        },\r\n        {\r\n          \"name\": \"BranchCode\",\r\n          \"type\": [\r\n            \"null\",\r\n            \"string\"\r\n          ]\r\n        },\r\n        {\r\n          \"name\": \"UploadedLocalDateTime\",\r\n          \"type\": [\r\n            \"null\",\r\n            \"string\"\r\n          ]\r\n        },\r\n        {\r\n          \"name\": \"UploadedUTCDateTime\",\r\n          \"type\": [\r\n            \"null\",\r\n            \"string\"\r\n          ]\r\n        },\r\n        {\r\n          \"name\": \"UtcDateTime\",\r\n          \"type\": [\r\n            \"null\",\r\n            \"string\"\r\n          ]\r\n        },\r\n        {\r\n          \"name\": \"InValue\",\r\n          \"type\": \"long\"\r\n        },\r\n        {\r\n          \"name\": \"Serial\",\r\n          \"type\": [\r\n            \"null\",\r\n            \"string\"\r\n          ]\r\n        }\r\n      ]\r\n    },\r\n    \"type\": \"JSON\",\r\n    \"properties\": {}\r\n  }\r\n`\r\nand when i run the function with localrunner, i get the following exception:\r\n\r\n`[public/default/occupancy-func-0] ERROR org.apache.pulsar.functions.instance.JavaInstanceRunnable - Source open produced uncaught exception:\r\njava.util.concurrent.CompletionException: org.apache.pulsar.client.api.PulsarClientException$IncompatibleSchemaException: Trying to subscribe with incompatible schema\r\n        at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)\r\n        at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)\r\n        at java.util.concurrent.CompletableFuture.uniRun(CompletableFuture.java:714)\r\n        at java.util.concurrent.CompletableFuture$UniRun.tryFire(CompletableFuture.java:701)\r\n        at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)\r\n        at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)\r\n        at org.apache.pulsar.client.impl.ClientCnx.handleError(ClientCnx.java:598)\r\n        at org.apache.pulsar.common.protocol.PulsarDecoder.channelRead(PulsarDecoder.java:157)\r\n        at org.apache.pulsar.shade.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\r\n        at org.apache.pulsar.shade.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\r\n        at org.apache.pulsar.shade.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\r\n        at org.apache.pulsar.shade.io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:323)\r\n        at org.apache.pulsar.shade.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:297)\r\n        at org.apache.pulsar.shade.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\r\n        at org.apache.pulsar.shade.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\r\n        at org.apache.pulsar.shade.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\r\n        at org.apache.pulsar.shade.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1434)\r\n        at org.apache.pulsar.shade.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\r\n        at org.apache.pulsar.shade.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\r\n        at org.apache.pulsar.shade.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:965)\r\n        at org.apache.pulsar.shade.io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799)\r\n        at org.apache.pulsar.shade.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:433)\r\n        at org.apache.pulsar.shade.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:330)\r\n        at org.apache.pulsar.shade.io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:909)\r\n        at org.apache.pulsar.shade.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n        at java.lang.Thread.run(Thread.java:748)\r\nCaused by: org.apache.pulsar.client.api.PulsarClientException$IncompatibleSchemaException: Trying to subscribe with incompatible schema\r\n        at org.apache.pulsar.client.impl.ClientCnx.getPulsarClientException(ClientCnx.java:913)\r\n        ... 20 more\r\n[public/default/occupancy-func-0] ERROR org.apache.pulsar.functions.instance.JavaInstanceRunnable - [public/default/occupancy-func:0] Uncaught exception in Java Instance\r\njava.util.concurrent.CompletionException: org.apache.pulsar.client.api.PulsarClientException$IncompatibleSchemaException: Trying to subscribe with incompatible schema\r\n        at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)\r\n        at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)\r\n        at java.util.concurrent.CompletableFuture.uniRun(CompletableFuture.java:714)\r\n        at java.util.concurrent.CompletableFuture$UniRun.tryFire(CompletableFuture.java:701)\r\n        at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)\r\n        at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)\r\n        at org.apache.pulsar.client.impl.ClientCnx.handleError(ClientCnx.java:598)\r\n        at org.apache.pulsar.common.protocol.PulsarDecoder.channelRead(PulsarDecoder.java:157)\r\n        at org.apache.pulsar.shade.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\r\n        at org.apache.pulsar.shade.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\r\n        at org.apache.pulsar.shade.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\r\n        at org.apache.pulsar.shade.io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:323)\r\n        at org.apache.pulsar.shade.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:297)\r\n        at org.apache.pulsar.shade.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\r\n        at org.apache.pulsar.shade.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\r\n        at org.apache.pulsar.shade.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\r\n        at org.apache.pulsar.shade.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1434)\r\n        at org.apache.pulsar.shade.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\r\n        at org.apache.pulsar.shade.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\r\n        at org.apache.pulsar.shade.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:965)\r\n        at org.apache.pulsar.shade.io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799)\r\n        at org.apache.pulsar.shade.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:433)\r\n        at org.apache.pulsar.shade.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:330)\r\n        at org.apache.pulsar.shade.io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:909)\r\n        at org.apache.pulsar.shade.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n        at java.lang.Thread.run(Thread.java:748)\r\nCaused by: org.apache.pulsar.client.api.PulsarClientException$IncompatibleSchemaException: Trying to subscribe with incompatible schema\r\n        at org.apache.pulsar.client.impl.ClientCnx.getPulsarClientException(ClientCnx.java:913)\r\n        ... 20 more\r\n[public/default/occupancy-func-0] INFO org.apache.pulsar.functions.instance.JavaInstanceRunnable - Closing instance\r\n[public/default/occupancy-func-0] INFO org.apache.pulsar.functions.instance.JavaInstanceRunnable - Unloading JAR files for function InstanceConfig(instanceId=0, functionId=9344e5d2-14f0-4970-b837-730808abd846, functionVersion=65a3a001-8bbb-4ed2-b3a3-a779ba636372, functionDetails=tenant: \"public\"\r\nnamespace: \"default\"\r\nname: \"occupancy-func\"\r\nclassName: \"pulsar.FFCLiveOccupancySerialFunc\"\r\nautoAck: true\r\nparallelism: 1\r\nsource {\r\n  typeClassName: \"java.lang.String\"\r\n  inputSpecs {\r\n    key: \"ffc-liveoccupancydata\"\r\n    value {\r\n    }\r\n  }\r\n  cleanupSubscription: true\r\n}\r\nsink {\r\n  typeClassName: \"java.lang.Void\"\r\n}\r\nresources {\r\n  cpu: 1.0\r\n  ram: 1073741824\r\n  disk: 10737418240\r\n}\r\n`\r\n\r\nPlease advice, thanks.\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621013264/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621040785","html_url":"https://github.com/apache/pulsar/issues/6599#issuecomment-621040785","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6599","id":621040785,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTA0MDc4NQ==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-29T07:40:34Z","updated_at":"2020-04-29T07:40:34Z","author_association":"MEMBER","body":"Glad that you have resolved the problem. Close the issue now.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621040785/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621041250","html_url":"https://github.com/apache/pulsar/issues/6154#issuecomment-621041250","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6154","id":621041250,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTA0MTI1MA==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-29T07:41:35Z","updated_at":"2020-04-29T07:41:35Z","author_association":"MEMBER","body":"@Lanayx Have checked my previous comment to see if that addressed your problem?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621041250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621041669","html_url":"https://github.com/apache/pulsar/issues/6307#issuecomment-621041669","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6307","id":621041669,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTA0MTY2OQ==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-29T07:42:27Z","updated_at":"2020-04-29T07:42:27Z","author_association":"MEMBER","body":"Close this issue since there is no activity. Please reopen it if there are more investigations needed from us.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621041669/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621059720","html_url":"https://github.com/apache/pulsar/issues/6154#issuecomment-621059720","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6154","id":621059720,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTA1OTcyMA==","user":{"login":"Lanayx","id":3329606,"node_id":"MDQ6VXNlcjMzMjk2MDY=","avatar_url":"https://avatars.githubusercontent.com/u/3329606?v=4","gravatar_id":"","url":"https://api.github.com/users/Lanayx","html_url":"https://github.com/Lanayx","followers_url":"https://api.github.com/users/Lanayx/followers","following_url":"https://api.github.com/users/Lanayx/following{/other_user}","gists_url":"https://api.github.com/users/Lanayx/gists{/gist_id}","starred_url":"https://api.github.com/users/Lanayx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Lanayx/subscriptions","organizations_url":"https://api.github.com/users/Lanayx/orgs","repos_url":"https://api.github.com/users/Lanayx/repos","events_url":"https://api.github.com/users/Lanayx/events{/privacy}","received_events_url":"https://api.github.com/users/Lanayx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-29T08:21:55Z","updated_at":"2020-04-29T08:21:55Z","author_association":"CONTRIBUTOR","body":"@sijie Thank you for the response, I'll check the fix next week, busy with other tasks at the moment","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621059720/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621098034","html_url":"https://github.com/apache/pulsar/pull/6775#issuecomment-621098034","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6775","id":621098034,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTA5ODAzNA==","user":{"login":"zplinuxlover","id":23027077,"node_id":"MDQ6VXNlcjIzMDI3MDc3","avatar_url":"https://avatars.githubusercontent.com/u/23027077?v=4","gravatar_id":"","url":"https://api.github.com/users/zplinuxlover","html_url":"https://github.com/zplinuxlover","followers_url":"https://api.github.com/users/zplinuxlover/followers","following_url":"https://api.github.com/users/zplinuxlover/following{/other_user}","gists_url":"https://api.github.com/users/zplinuxlover/gists{/gist_id}","starred_url":"https://api.github.com/users/zplinuxlover/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zplinuxlover/subscriptions","organizations_url":"https://api.github.com/users/zplinuxlover/orgs","repos_url":"https://api.github.com/users/zplinuxlover/repos","events_url":"https://api.github.com/users/zplinuxlover/events{/privacy}","received_events_url":"https://api.github.com/users/zplinuxlover/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-29T09:45:58Z","updated_at":"2020-04-29T09:45:58Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621098034/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621169665","html_url":"https://github.com/apache/pulsar/issues/6834#issuecomment-621169665","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6834","id":621169665,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTE2OTY2NQ==","user":{"login":"kjaggann","id":59704044,"node_id":"MDQ6VXNlcjU5NzA0MDQ0","avatar_url":"https://avatars.githubusercontent.com/u/59704044?v=4","gravatar_id":"","url":"https://api.github.com/users/kjaggann","html_url":"https://github.com/kjaggann","followers_url":"https://api.github.com/users/kjaggann/followers","following_url":"https://api.github.com/users/kjaggann/following{/other_user}","gists_url":"https://api.github.com/users/kjaggann/gists{/gist_id}","starred_url":"https://api.github.com/users/kjaggann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kjaggann/subscriptions","organizations_url":"https://api.github.com/users/kjaggann/orgs","repos_url":"https://api.github.com/users/kjaggann/repos","events_url":"https://api.github.com/users/kjaggann/events{/privacy}","received_events_url":"https://api.github.com/users/kjaggann/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-29T12:26:20Z","updated_at":"2020-04-29T12:26:20Z","author_association":"NONE","body":"I used maven to develop a sample producer and consumer class using java. I am able to send the messages with out encryption. But for this topic i have enabled encryption.\r\nI followed the same steps from the apache pulsar document, generated a public key and private key, used it as the document said.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621169665/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621177056","html_url":"https://github.com/apache/pulsar/issues/6836#issuecomment-621177056","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6836","id":621177056,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTE3NzA1Ng==","user":{"login":"frankjkelly","id":62910985,"node_id":"MDQ6VXNlcjYyOTEwOTg1","avatar_url":"https://avatars.githubusercontent.com/u/62910985?v=4","gravatar_id":"","url":"https://api.github.com/users/frankjkelly","html_url":"https://github.com/frankjkelly","followers_url":"https://api.github.com/users/frankjkelly/followers","following_url":"https://api.github.com/users/frankjkelly/following{/other_user}","gists_url":"https://api.github.com/users/frankjkelly/gists{/gist_id}","starred_url":"https://api.github.com/users/frankjkelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/frankjkelly/subscriptions","organizations_url":"https://api.github.com/users/frankjkelly/orgs","repos_url":"https://api.github.com/users/frankjkelly/repos","events_url":"https://api.github.com/users/frankjkelly/events{/privacy}","received_events_url":"https://api.github.com/users/frankjkelly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-29T12:39:53Z","updated_at":"2020-04-29T12:41:57Z","author_association":"CONTRIBUTOR","body":"@sijie  - Thanks - Gotcha - for use cases like Kubernetes health checks or waiting until Pulsar is up to run tests is there some mechanism to check that Pulsar is up-and-running 100% e.g. \"Server - Started\" in the log file? Thanks!","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621177056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621177254","html_url":"https://github.com/apache/pulsar/issues/6839#issuecomment-621177254","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6839","id":621177254,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTE3NzI1NA==","user":{"login":"laxpio","id":767085,"node_id":"MDQ6VXNlcjc2NzA4NQ==","avatar_url":"https://avatars.githubusercontent.com/u/767085?v=4","gravatar_id":"","url":"https://api.github.com/users/laxpio","html_url":"https://github.com/laxpio","followers_url":"https://api.github.com/users/laxpio/followers","following_url":"https://api.github.com/users/laxpio/following{/other_user}","gists_url":"https://api.github.com/users/laxpio/gists{/gist_id}","starred_url":"https://api.github.com/users/laxpio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/laxpio/subscriptions","organizations_url":"https://api.github.com/users/laxpio/orgs","repos_url":"https://api.github.com/users/laxpio/repos","events_url":"https://api.github.com/users/laxpio/events{/privacy}","received_events_url":"https://api.github.com/users/laxpio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-29T12:40:11Z","updated_at":"2020-04-29T12:40:11Z","author_association":"NONE","body":"fix it, because org.apache.pulsar.functions.worker.rest.api.v3.FunctionsApiV3Resource.java miss listFunctions function.\r\nadd the listFunctions to support cmd \"functions list\".","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621177254/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621221348","html_url":"https://github.com/apache/pulsar/issues/6834#issuecomment-621221348","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6834","id":621221348,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTIyMTM0OA==","user":{"login":"trexinc","id":3585208,"node_id":"MDQ6VXNlcjM1ODUyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/3585208?v=4","gravatar_id":"","url":"https://api.github.com/users/trexinc","html_url":"https://github.com/trexinc","followers_url":"https://api.github.com/users/trexinc/followers","following_url":"https://api.github.com/users/trexinc/following{/other_user}","gists_url":"https://api.github.com/users/trexinc/gists{/gist_id}","starred_url":"https://api.github.com/users/trexinc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trexinc/subscriptions","organizations_url":"https://api.github.com/users/trexinc/orgs","repos_url":"https://api.github.com/users/trexinc/repos","events_url":"https://api.github.com/users/trexinc/events{/privacy}","received_events_url":"https://api.github.com/users/trexinc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-29T13:49:55Z","updated_at":"2020-04-29T13:49:55Z","author_association":"CONTRIBUTOR","body":"@sijie I use gradle.\r\nIf I do not add the pulsar-client-messagecrypto-bc dependency manually it fails at runtime with \r\njava.util.concurrent.ExecutionException: java.lang.NoClassDefFoundError: org/apache/pulsar/client/impl/crypto/MessageCryptoBc","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621221348/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621248014","html_url":"https://github.com/apache/pulsar/issues/6834#issuecomment-621248014","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6834","id":621248014,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTI0ODAxNA==","user":{"login":"kjaggann","id":59704044,"node_id":"MDQ6VXNlcjU5NzA0MDQ0","avatar_url":"https://avatars.githubusercontent.com/u/59704044?v=4","gravatar_id":"","url":"https://api.github.com/users/kjaggann","html_url":"https://github.com/kjaggann","followers_url":"https://api.github.com/users/kjaggann/followers","following_url":"https://api.github.com/users/kjaggann/following{/other_user}","gists_url":"https://api.github.com/users/kjaggann/gists{/gist_id}","starred_url":"https://api.github.com/users/kjaggann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kjaggann/subscriptions","organizations_url":"https://api.github.com/users/kjaggann/orgs","repos_url":"https://api.github.com/users/kjaggann/repos","events_url":"https://api.github.com/users/kjaggann/events{/privacy}","received_events_url":"https://api.github.com/users/kjaggann/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-29T14:29:01Z","updated_at":"2020-04-29T14:29:01Z","author_association":"NONE","body":"do you have any sample python script encryption for producer and consumer","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621248014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621328591","html_url":"https://github.com/apache/pulsar/issues/5417#issuecomment-621328591","issue_url":"https://api.github.com/repos/apache/pulsar/issues/5417","id":621328591,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTMyODU5MQ==","user":{"login":"digi691","id":1645548,"node_id":"MDQ6VXNlcjE2NDU1NDg=","avatar_url":"https://avatars.githubusercontent.com/u/1645548?v=4","gravatar_id":"","url":"https://api.github.com/users/digi691","html_url":"https://github.com/digi691","followers_url":"https://api.github.com/users/digi691/followers","following_url":"https://api.github.com/users/digi691/following{/other_user}","gists_url":"https://api.github.com/users/digi691/gists{/gist_id}","starred_url":"https://api.github.com/users/digi691/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/digi691/subscriptions","organizations_url":"https://api.github.com/users/digi691/orgs","repos_url":"https://api.github.com/users/digi691/repos","events_url":"https://api.github.com/users/digi691/events{/privacy}","received_events_url":"https://api.github.com/users/digi691/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-29T16:41:11Z","updated_at":"2020-04-29T16:41:11Z","author_association":"NONE","body":"Know this issue is stale though we are still having this issue on our bare metal clusters.  I recently setup Pulsar in Kubernetes and I'm not seeing this behavior.  Is there any kind of miss-configuration of the brokers and zookeepers that could cause the broker just to swallow these type of requests, not respond, and not log any errors about it?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621328591/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621342768","html_url":"https://github.com/apache/pulsar/issues/5847#issuecomment-621342768","issue_url":"https://api.github.com/repos/apache/pulsar/issues/5847","id":621342768,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTM0Mjc2OA==","user":{"login":"complex64","id":63771,"node_id":"MDQ6VXNlcjYzNzcx","avatar_url":"https://avatars.githubusercontent.com/u/63771?v=4","gravatar_id":"","url":"https://api.github.com/users/complex64","html_url":"https://github.com/complex64","followers_url":"https://api.github.com/users/complex64/followers","following_url":"https://api.github.com/users/complex64/following{/other_user}","gists_url":"https://api.github.com/users/complex64/gists{/gist_id}","starred_url":"https://api.github.com/users/complex64/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/complex64/subscriptions","organizations_url":"https://api.github.com/users/complex64/orgs","repos_url":"https://api.github.com/users/complex64/repos","events_url":"https://api.github.com/users/complex64/events{/privacy}","received_events_url":"https://api.github.com/users/complex64/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-29T17:07:18Z","updated_at":"2020-04-29T17:11:10Z","author_association":"NONE","body":"Running into this issue with the image `apachepulsar/pulsar-dashboard:2.5.1` and the following error:\r\n\r\n```\r\nStarting Pulsar dasboard\r\n+ /pulsar/init-postgres.sh\r\n+ rm -rf '/data/*'\r\n+ chown -R postgres: /data\r\n+ chmod 700 /data\r\n+ sudo -u postgres /usr/lib/postgresql/11/bin/initdb /data/\r\nsudo: /usr/lib/postgresql/11/bin/initdb: command not found\r\n```\r\n\r\nInspecting the docker image, it appears `/usr/lib/postgresql/9.6/bin/initdb` exists but `/usr/lib/postgresql/11/bin/initdb` does not.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621342768/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621346012","html_url":"https://github.com/apache/pulsar/issues/6834#issuecomment-621346012","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6834","id":621346012,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTM0NjAxMg==","user":{"login":"kjaggann","id":59704044,"node_id":"MDQ6VXNlcjU5NzA0MDQ0","avatar_url":"https://avatars.githubusercontent.com/u/59704044?v=4","gravatar_id":"","url":"https://api.github.com/users/kjaggann","html_url":"https://github.com/kjaggann","followers_url":"https://api.github.com/users/kjaggann/followers","following_url":"https://api.github.com/users/kjaggann/following{/other_user}","gists_url":"https://api.github.com/users/kjaggann/gists{/gist_id}","starred_url":"https://api.github.com/users/kjaggann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kjaggann/subscriptions","organizations_url":"https://api.github.com/users/kjaggann/orgs","repos_url":"https://api.github.com/users/kjaggann/repos","events_url":"https://api.github.com/users/kjaggann/events{/privacy}","received_events_url":"https://api.github.com/users/kjaggann/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-29T17:13:22Z","updated_at":"2020-04-29T17:13:22Z","author_association":"NONE","body":"I don't see any document in apache pulsar at-least to try python encryption and decryption","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621346012/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621395527","html_url":"https://github.com/apache/pulsar/pull/6846#issuecomment-621395527","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6846","id":621395527,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTM5NTUyNw==","user":{"login":"addisonj","id":636291,"node_id":"MDQ6VXNlcjYzNjI5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/636291?v=4","gravatar_id":"","url":"https://api.github.com/users/addisonj","html_url":"https://github.com/addisonj","followers_url":"https://api.github.com/users/addisonj/followers","following_url":"https://api.github.com/users/addisonj/following{/other_user}","gists_url":"https://api.github.com/users/addisonj/gists{/gist_id}","starred_url":"https://api.github.com/users/addisonj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/addisonj/subscriptions","organizations_url":"https://api.github.com/users/addisonj/orgs","repos_url":"https://api.github.com/users/addisonj/repos","events_url":"https://api.github.com/users/addisonj/events{/privacy}","received_events_url":"https://api.github.com/users/addisonj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-29T18:48:42Z","updated_at":"2020-04-29T18:48:42Z","author_association":"CONTRIBUTOR","body":"This looks good to me. I will hotfix this into my clusters at some point in the next few days and will confirm the fix as well. \r\n\r\nThanks for the quick turn around!","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621395527/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621407940","html_url":"https://github.com/apache/pulsar/pull/6767#issuecomment-621407940","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6767","id":621407940,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTQwNzk0MA==","user":{"login":"cdbartholomew","id":22917476,"node_id":"MDQ6VXNlcjIyOTE3NDc2","avatar_url":"https://avatars.githubusercontent.com/u/22917476?v=4","gravatar_id":"","url":"https://api.github.com/users/cdbartholomew","html_url":"https://github.com/cdbartholomew","followers_url":"https://api.github.com/users/cdbartholomew/followers","following_url":"https://api.github.com/users/cdbartholomew/following{/other_user}","gists_url":"https://api.github.com/users/cdbartholomew/gists{/gist_id}","starred_url":"https://api.github.com/users/cdbartholomew/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdbartholomew/subscriptions","organizations_url":"https://api.github.com/users/cdbartholomew/orgs","repos_url":"https://api.github.com/users/cdbartholomew/repos","events_url":"https://api.github.com/users/cdbartholomew/events{/privacy}","received_events_url":"https://api.github.com/users/cdbartholomew/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-29T19:12:48Z","updated_at":"2020-04-29T19:12:48Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621407940/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621444103","html_url":"https://github.com/apache/pulsar/issues/4857#issuecomment-621444103","issue_url":"https://api.github.com/repos/apache/pulsar/issues/4857","id":621444103,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTQ0NDEwMw==","user":{"login":"devinbost","id":7418031,"node_id":"MDQ6VXNlcjc0MTgwMzE=","avatar_url":"https://avatars.githubusercontent.com/u/7418031?v=4","gravatar_id":"","url":"https://api.github.com/users/devinbost","html_url":"https://github.com/devinbost","followers_url":"https://api.github.com/users/devinbost/followers","following_url":"https://api.github.com/users/devinbost/following{/other_user}","gists_url":"https://api.github.com/users/devinbost/gists{/gist_id}","starred_url":"https://api.github.com/users/devinbost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devinbost/subscriptions","organizations_url":"https://api.github.com/users/devinbost/orgs","repos_url":"https://api.github.com/users/devinbost/repos","events_url":"https://api.github.com/users/devinbost/events{/privacy}","received_events_url":"https://api.github.com/users/devinbost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-29T20:26:11Z","updated_at":"2020-04-29T20:26:11Z","author_association":"CONTRIBUTOR","body":"@FFC-SystemAdmin \r\nWe've noticed that it seems like this issue may occur depending on the order in which subscriptions are made (e.g. from sink to source vs source to sink.) We've had more success going from sink to source (meaning connecting the sink to the upstream function, then connecting that function to the function upstream from it . . . until you connect an upstream function to the source.) \r\nI don't know what your flow looks like though.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621444103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621445978","html_url":"https://github.com/apache/pulsar/issues/4937#issuecomment-621445978","issue_url":"https://api.github.com/repos/apache/pulsar/issues/4937","id":621445978,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTQ0NTk3OA==","user":{"login":"devinbost","id":7418031,"node_id":"MDQ6VXNlcjc0MTgwMzE=","avatar_url":"https://avatars.githubusercontent.com/u/7418031?v=4","gravatar_id":"","url":"https://api.github.com/users/devinbost","html_url":"https://github.com/devinbost","followers_url":"https://api.github.com/users/devinbost/followers","following_url":"https://api.github.com/users/devinbost/following{/other_user}","gists_url":"https://api.github.com/users/devinbost/gists{/gist_id}","starred_url":"https://api.github.com/users/devinbost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devinbost/subscriptions","organizations_url":"https://api.github.com/users/devinbost/orgs","repos_url":"https://api.github.com/users/devinbost/repos","events_url":"https://api.github.com/users/devinbost/events{/privacy}","received_events_url":"https://api.github.com/users/devinbost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-29T20:30:01Z","updated_at":"2020-04-29T20:30:25Z","author_association":"CONTRIBUTOR","body":"At a glance, I wonder if this issue is related to this other one: https://github.com/apache/pulsar/issues/4857","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621445978/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621574013","html_url":"https://github.com/apache/pulsar/issues/6842#issuecomment-621574013","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6842","id":621574013,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTU3NDAxMw==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-30T02:23:27Z","updated_at":"2020-04-30T02:23:27Z","author_association":"MEMBER","body":"@Persi the default `pulsar-client` shades all dependencies. You can use `pulsar-client-original` with unshaded dependencies.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621574013/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621574099","html_url":"https://github.com/apache/pulsar/issues/6843#issuecomment-621574099","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6843","id":621574099,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTU3NDA5OQ==","user":{"login":"jiazhai","id":6348208,"node_id":"MDQ6VXNlcjYzNDgyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/6348208?v=4","gravatar_id":"","url":"https://api.github.com/users/jiazhai","html_url":"https://github.com/jiazhai","followers_url":"https://api.github.com/users/jiazhai/followers","following_url":"https://api.github.com/users/jiazhai/following{/other_user}","gists_url":"https://api.github.com/users/jiazhai/gists{/gist_id}","starred_url":"https://api.github.com/users/jiazhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiazhai/subscriptions","organizations_url":"https://api.github.com/users/jiazhai/orgs","repos_url":"https://api.github.com/users/jiazhai/repos","events_url":"https://api.github.com/users/jiazhai/events{/privacy}","received_events_url":"https://api.github.com/users/jiazhai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-30T02:23:44Z","updated_at":"2020-04-30T02:23:44Z","author_association":"MEMBER","body":"@liudezhi2098 Thanks for the help on it.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621574099/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621576745","html_url":"https://github.com/apache/pulsar/pull/4946#issuecomment-621576745","issue_url":"https://api.github.com/repos/apache/pulsar/issues/4946","id":621576745,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTU3Njc0NQ==","user":{"login":"gh777777","id":48472723,"node_id":"MDQ6VXNlcjQ4NDcyNzIz","avatar_url":"https://avatars.githubusercontent.com/u/48472723?v=4","gravatar_id":"","url":"https://api.github.com/users/gh777777","html_url":"https://github.com/gh777777","followers_url":"https://api.github.com/users/gh777777/followers","following_url":"https://api.github.com/users/gh777777/following{/other_user}","gists_url":"https://api.github.com/users/gh777777/gists{/gist_id}","starred_url":"https://api.github.com/users/gh777777/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gh777777/subscriptions","organizations_url":"https://api.github.com/users/gh777777/orgs","repos_url":"https://api.github.com/users/gh777777/repos","events_url":"https://api.github.com/users/gh777777/events{/privacy}","received_events_url":"https://api.github.com/users/gh777777/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-30T02:32:35Z","updated_at":"2020-04-30T02:32:35Z","author_association":"NONE","body":"@sijie thank you for making this example works! I'm learning pulsar functions dev in python. About this example (custom_object_function.py), how can I build and send a custom object in producer, so that I can get it back like that from the input in CustomObjectFunction.process(self, input, context)? Do I have to use schema?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621576745/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621584874","html_url":"https://github.com/apache/pulsar/issues/5847#issuecomment-621584874","issue_url":"https://api.github.com/repos/apache/pulsar/issues/5847","id":621584874,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTU4NDg3NA==","user":{"login":"tuteng","id":1907867,"node_id":"MDQ6VXNlcjE5MDc4Njc=","avatar_url":"https://avatars.githubusercontent.com/u/1907867?v=4","gravatar_id":"","url":"https://api.github.com/users/tuteng","html_url":"https://github.com/tuteng","followers_url":"https://api.github.com/users/tuteng/followers","following_url":"https://api.github.com/users/tuteng/following{/other_user}","gists_url":"https://api.github.com/users/tuteng/gists{/gist_id}","starred_url":"https://api.github.com/users/tuteng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tuteng/subscriptions","organizations_url":"https://api.github.com/users/tuteng/orgs","repos_url":"https://api.github.com/users/tuteng/repos","events_url":"https://api.github.com/users/tuteng/events{/privacy}","received_events_url":"https://api.github.com/users/tuteng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-30T03:04:22Z","updated_at":"2020-04-30T03:04:22Z","author_association":"MEMBER","body":"You can try http://pulsar.apache.org/docs/en/administration-pulsar-manager/ first. https://github.com/apache/pulsar-manager is a better management tool. Let's take a look at this problem next. @complex64 ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621584874/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621596809","html_url":"https://github.com/apache/pulsar/pull/6849#issuecomment-621596809","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6849","id":621596809,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTU5NjgwOQ==","user":{"login":"shustsud","id":51769018,"node_id":"MDQ6VXNlcjUxNzY5MDE4","avatar_url":"https://avatars.githubusercontent.com/u/51769018?v=4","gravatar_id":"","url":"https://api.github.com/users/shustsud","html_url":"https://github.com/shustsud","followers_url":"https://api.github.com/users/shustsud/followers","following_url":"https://api.github.com/users/shustsud/following{/other_user}","gists_url":"https://api.github.com/users/shustsud/gists{/gist_id}","starred_url":"https://api.github.com/users/shustsud/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shustsud/subscriptions","organizations_url":"https://api.github.com/users/shustsud/orgs","repos_url":"https://api.github.com/users/shustsud/repos","events_url":"https://api.github.com/users/shustsud/events{/privacy}","received_events_url":"https://api.github.com/users/shustsud/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-30T03:52:09Z","updated_at":"2020-04-30T05:10:18Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621596809/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621601193","html_url":"https://github.com/apache/pulsar/issues/6818#issuecomment-621601193","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6818","id":621601193,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTYwMTE5Mw==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-30T04:11:38Z","updated_at":"2020-04-30T04:11:38Z","author_association":"MEMBER","body":"@guyv currently pulsar client is using a customized protobuf-2.4 version for processing the requests. It is used for avoiding generating a lot of objects and reducing the frequency of garbage collection. It is pretty hard for us to upgrade. We will look into how to address it in future releases.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621601193/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621609045","html_url":"https://github.com/apache/pulsar/issues/6850#issuecomment-621609045","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6850","id":621609045,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTYwOTA0NQ==","user":{"login":"rueian","id":2727535,"node_id":"MDQ6VXNlcjI3Mjc1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/2727535?v=4","gravatar_id":"","url":"https://api.github.com/users/rueian","html_url":"https://github.com/rueian","followers_url":"https://api.github.com/users/rueian/followers","following_url":"https://api.github.com/users/rueian/following{/other_user}","gists_url":"https://api.github.com/users/rueian/gists{/gist_id}","starred_url":"https://api.github.com/users/rueian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rueian/subscriptions","organizations_url":"https://api.github.com/users/rueian/orgs","repos_url":"https://api.github.com/users/rueian/repos","events_url":"https://api.github.com/users/rueian/events{/privacy}","received_events_url":"https://api.github.com/users/rueian/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-30T04:43:06Z","updated_at":"2020-04-30T04:43:06Z","author_association":"NONE","body":"I run into the same issue.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621609045/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621618631","html_url":"https://github.com/apache/pulsar/pull/6849#issuecomment-621618631","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6849","id":621618631,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTYxODYzMQ==","user":{"login":"shustsud","id":51769018,"node_id":"MDQ6VXNlcjUxNzY5MDE4","avatar_url":"https://avatars.githubusercontent.com/u/51769018?v=4","gravatar_id":"","url":"https://api.github.com/users/shustsud","html_url":"https://github.com/shustsud","followers_url":"https://api.github.com/users/shustsud/followers","following_url":"https://api.github.com/users/shustsud/following{/other_user}","gists_url":"https://api.github.com/users/shustsud/gists{/gist_id}","starred_url":"https://api.github.com/users/shustsud/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shustsud/subscriptions","organizations_url":"https://api.github.com/users/shustsud/orgs","repos_url":"https://api.github.com/users/shustsud/repos","events_url":"https://api.github.com/users/shustsud/events{/privacy}","received_events_url":"https://api.github.com/users/shustsud/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-30T05:20:07Z","updated_at":"2020-04-30T05:20:07Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621618631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621642156","html_url":"https://github.com/apache/pulsar/issues/6845#issuecomment-621642156","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6845","id":621642156,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTY0MjE1Ng==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-30T06:36:19Z","updated_at":"2020-04-30T06:36:19Z","author_association":"CONTRIBUTOR","body":"@itaross Can you provide more details about the bug? what version are you using and how to reproduce it. This will help to troubleshoot this issue.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621642156/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621651699","html_url":"https://github.com/apache/pulsar/issues/6842#issuecomment-621651699","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6842","id":621651699,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTY1MTY5OQ==","user":{"login":"Persi","id":707093,"node_id":"MDQ6VXNlcjcwNzA5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/707093?v=4","gravatar_id":"","url":"https://api.github.com/users/Persi","html_url":"https://github.com/Persi","followers_url":"https://api.github.com/users/Persi/followers","following_url":"https://api.github.com/users/Persi/following{/other_user}","gists_url":"https://api.github.com/users/Persi/gists{/gist_id}","starred_url":"https://api.github.com/users/Persi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Persi/subscriptions","organizations_url":"https://api.github.com/users/Persi/orgs","repos_url":"https://api.github.com/users/Persi/repos","events_url":"https://api.github.com/users/Persi/events{/privacy}","received_events_url":"https://api.github.com/users/Persi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-30T07:00:54Z","updated_at":"2020-04-30T08:20:06Z","author_association":"CONTRIBUTOR","body":"**UPDATE:** Using `pulsar-client-original` does not work either... seems like the ObjectMapper instance of JSONSchema does not load/use available Jackson extensions. Which brings me back to my second point (which actually don't even has to do with Spring Boot). \r\n\r\nAs there is currently no way to configure or provide an ObjectMapper instance, it is impossible to reuse already configured ObjectMapper instances.\r\n\r\nI would suggest to add a provider interface for ObjectMapper with the current implementation from JSONSchema as default implementation. That would allow to provide other ObjectMapper instances independent of the environment.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621651699/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621656984","html_url":"https://github.com/apache/pulsar/pull/6827#issuecomment-621656984","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6827","id":621656984,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTY1Njk4NA==","user":{"login":"BewareMyPower","id":18204803,"node_id":"MDQ6VXNlcjE4MjA0ODAz","avatar_url":"https://avatars.githubusercontent.com/u/18204803?v=4","gravatar_id":"","url":"https://api.github.com/users/BewareMyPower","html_url":"https://github.com/BewareMyPower","followers_url":"https://api.github.com/users/BewareMyPower/followers","following_url":"https://api.github.com/users/BewareMyPower/following{/other_user}","gists_url":"https://api.github.com/users/BewareMyPower/gists{/gist_id}","starred_url":"https://api.github.com/users/BewareMyPower/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BewareMyPower/subscriptions","organizations_url":"https://api.github.com/users/BewareMyPower/orgs","repos_url":"https://api.github.com/users/BewareMyPower/repos","events_url":"https://api.github.com/users/BewareMyPower/events{/privacy}","received_events_url":"https://api.github.com/users/BewareMyPower/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-30T07:13:58Z","updated_at":"2020-04-30T07:13:58Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621656984/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621700480","html_url":"https://github.com/apache/pulsar/issues/6834#issuecomment-621700480","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6834","id":621700480,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTcwMDQ4MA==","user":{"login":"jiazhai","id":6348208,"node_id":"MDQ6VXNlcjYzNDgyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/6348208?v=4","gravatar_id":"","url":"https://api.github.com/users/jiazhai","html_url":"https://github.com/jiazhai","followers_url":"https://api.github.com/users/jiazhai/followers","following_url":"https://api.github.com/users/jiazhai/following{/other_user}","gists_url":"https://api.github.com/users/jiazhai/gists{/gist_id}","starred_url":"https://api.github.com/users/jiazhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiazhai/subscriptions","organizations_url":"https://api.github.com/users/jiazhai/orgs","repos_url":"https://api.github.com/users/jiazhai/repos","events_url":"https://api.github.com/users/jiazhai/events{/privacy}","received_events_url":"https://api.github.com/users/jiazhai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-30T08:46:12Z","updated_at":"2020-04-30T08:46:12Z","author_association":"MEMBER","body":"Cpp and python client is not involved in the FIPS provider support. We may need to confirm this feature is supported, and provide an example.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621700480/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621711182","html_url":"https://github.com/apache/pulsar/issues/6845#issuecomment-621711182","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6845","id":621711182,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTcxMTE4Mg==","user":{"login":"itaross","id":695970,"node_id":"MDQ6VXNlcjY5NTk3MA==","avatar_url":"https://avatars.githubusercontent.com/u/695970?v=4","gravatar_id":"","url":"https://api.github.com/users/itaross","html_url":"https://github.com/itaross","followers_url":"https://api.github.com/users/itaross/followers","following_url":"https://api.github.com/users/itaross/following{/other_user}","gists_url":"https://api.github.com/users/itaross/gists{/gist_id}","starred_url":"https://api.github.com/users/itaross/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itaross/subscriptions","organizations_url":"https://api.github.com/users/itaross/orgs","repos_url":"https://api.github.com/users/itaross/repos","events_url":"https://api.github.com/users/itaross/events{/privacy}","received_events_url":"https://api.github.com/users/itaross/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-30T09:07:34Z","updated_at":"2020-04-30T09:07:34Z","author_association":"NONE","body":"I am currently using version 2.5.1\r\nI think you can reproduce it even with a builting connector.\r\nCreate it from the coommand line, using --topics-pattern and use a non-persistent:// based pattern.\r\nYou will see that no data is received in the write method.\r\n\r\nThis has been highlighted also in the previous cited issued, but it has not been addressed in sinks. Everything works if you you use persistent topics.\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621711182/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621822923","html_url":"https://github.com/apache/pulsar/issues/6852#issuecomment-621822923","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6852","id":621822923,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTgyMjkyMw==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-30T13:07:08Z","updated_at":"2020-04-30T13:07:29Z","author_association":"CONTRIBUTOR","body":"@gaoran10 could you please help take a look at this issue?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621822923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621828763","html_url":"https://github.com/apache/pulsar/issues/5847#issuecomment-621828763","issue_url":"https://api.github.com/repos/apache/pulsar/issues/5847","id":621828763,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTgyODc2Mw==","user":{"login":"complex64","id":63771,"node_id":"MDQ6VXNlcjYzNzcx","avatar_url":"https://avatars.githubusercontent.com/u/63771?v=4","gravatar_id":"","url":"https://api.github.com/users/complex64","html_url":"https://github.com/complex64","followers_url":"https://api.github.com/users/complex64/followers","following_url":"https://api.github.com/users/complex64/following{/other_user}","gists_url":"https://api.github.com/users/complex64/gists{/gist_id}","starred_url":"https://api.github.com/users/complex64/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/complex64/subscriptions","organizations_url":"https://api.github.com/users/complex64/orgs","repos_url":"https://api.github.com/users/complex64/repos","events_url":"https://api.github.com/users/complex64/events{/privacy}","received_events_url":"https://api.github.com/users/complex64/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-30T13:16:32Z","updated_at":"2020-04-30T13:16:32Z","author_association":"NONE","body":"> You can try http://pulsar.apache.org/docs/en/administration-pulsar-manager/ first. https://github.com/apache/pulsar-manager is a better management tool. Let's take a look at this problem next. @complex64\r\n\r\nThanks for the pointer to the manager, we'll give that project a try :+1: ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621828763/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621842927","html_url":"https://github.com/apache/pulsar/issues/6824#issuecomment-621842927","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6824","id":621842927,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTg0MjkyNw==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-30T13:31:56Z","updated_at":"2020-04-30T13:31:56Z","author_association":"CONTRIBUTOR","body":"close via #6825 ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621842927/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621884283","html_url":"https://github.com/apache/pulsar/issues/6837#issuecomment-621884283","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6837","id":621884283,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTg4NDI4Mw==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-30T14:21:24Z","updated_at":"2020-04-30T14:21:24Z","author_association":"CONTRIBUTOR","body":"@gaoran10 Could you please help take a look at this issue?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621884283/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621885024","html_url":"https://github.com/apache/pulsar/issues/6852#issuecomment-621885024","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6852","id":621885024,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTg4NTAyNA==","user":{"login":"gaoran10","id":15029908,"node_id":"MDQ6VXNlcjE1MDI5OTA4","avatar_url":"https://avatars.githubusercontent.com/u/15029908?v=4","gravatar_id":"","url":"https://api.github.com/users/gaoran10","html_url":"https://github.com/gaoran10","followers_url":"https://api.github.com/users/gaoran10/followers","following_url":"https://api.github.com/users/gaoran10/following{/other_user}","gists_url":"https://api.github.com/users/gaoran10/gists{/gist_id}","starred_url":"https://api.github.com/users/gaoran10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaoran10/subscriptions","organizations_url":"https://api.github.com/users/gaoran10/orgs","repos_url":"https://api.github.com/users/gaoran10/repos","events_url":"https://api.github.com/users/gaoran10/events{/privacy}","received_events_url":"https://api.github.com/users/gaoran10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-30T14:22:28Z","updated_at":"2020-04-30T16:17:20Z","author_association":"CONTRIBUTOR","body":"@KannarFr @codelipenghui  Hi, currently, the method `getZkServers()` of the class `org.apache.bookkeeper.conf.ClientConfiguration` is not suited for Pulsar SQL's config component. I'll fix it.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621885024/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621887325","html_url":"https://github.com/apache/pulsar/issues/6837#issuecomment-621887325","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6837","id":621887325,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTg4NzMyNQ==","user":{"login":"gaoran10","id":15029908,"node_id":"MDQ6VXNlcjE1MDI5OTA4","avatar_url":"https://avatars.githubusercontent.com/u/15029908?v=4","gravatar_id":"","url":"https://api.github.com/users/gaoran10","html_url":"https://github.com/gaoran10","followers_url":"https://api.github.com/users/gaoran10/followers","following_url":"https://api.github.com/users/gaoran10/following{/other_user}","gists_url":"https://api.github.com/users/gaoran10/gists{/gist_id}","starred_url":"https://api.github.com/users/gaoran10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaoran10/subscriptions","organizations_url":"https://api.github.com/users/gaoran10/orgs","repos_url":"https://api.github.com/users/gaoran10/repos","events_url":"https://api.github.com/users/gaoran10/events{/privacy}","received_events_url":"https://api.github.com/users/gaoran10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-30T14:25:54Z","updated_at":"2020-04-30T14:25:54Z","author_association":"CONTRIBUTOR","body":"OK, I'll have a look.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/621887325/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/622010332","html_url":"https://github.com/apache/pulsar/pull/6853#issuecomment-622010332","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6853","id":622010332,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMjAxMDMzMg==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-30T17:59:13Z","updated_at":"2020-04-30T18:14:03Z","author_association":"CONTRIBUTOR","body":"I haven't gone through with the entire change but it seems it touches many different files and I think supporting multiple CA trust stores can be done in an easier way and might not need this big change.\r\nwe can always bundle multiple CA trust store in one file and it can be provided to pulsar-broker. We also have similar kind of requirement and we are going to bundle multiple certs into one to support multiple ca usecase.\r\nhttps://alvinalexander.com/java/java-using-keytool-import-certificate-keystore/\r\nWe can also add script in the repo for reference which can allow user to bundle multiple certs.\r\n\r\n\r\n@merlimat can you also please review this PR.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/622010332/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/622123559","html_url":"https://github.com/apache/pulsar/pull/6848#issuecomment-622123559","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6848","id":622123559,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMjEyMzU1OQ==","user":{"login":"vzhikserg","id":7816474,"node_id":"MDQ6VXNlcjc4MTY0NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7816474?v=4","gravatar_id":"","url":"https://api.github.com/users/vzhikserg","html_url":"https://github.com/vzhikserg","followers_url":"https://api.github.com/users/vzhikserg/followers","following_url":"https://api.github.com/users/vzhikserg/following{/other_user}","gists_url":"https://api.github.com/users/vzhikserg/gists{/gist_id}","starred_url":"https://api.github.com/users/vzhikserg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vzhikserg/subscriptions","organizations_url":"https://api.github.com/users/vzhikserg/orgs","repos_url":"https://api.github.com/users/vzhikserg/repos","events_url":"https://api.github.com/users/vzhikserg/events{/privacy}","received_events_url":"https://api.github.com/users/vzhikserg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-30T21:27:28Z","updated_at":"2020-04-30T21:27:28Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/622123559/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/622183172","html_url":"https://github.com/apache/pulsar/pull/6853#issuecomment-622183172","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6853","id":622183172,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMjE4MzE3Mg==","user":{"login":"jiazhai","id":6348208,"node_id":"MDQ6VXNlcjYzNDgyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/6348208?v=4","gravatar_id":"","url":"https://api.github.com/users/jiazhai","html_url":"https://github.com/jiazhai","followers_url":"https://api.github.com/users/jiazhai/followers","following_url":"https://api.github.com/users/jiazhai/following{/other_user}","gists_url":"https://api.github.com/users/jiazhai/gists{/gist_id}","starred_url":"https://api.github.com/users/jiazhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiazhai/subscriptions","organizations_url":"https://api.github.com/users/jiazhai/orgs","repos_url":"https://api.github.com/users/jiazhai/repos","events_url":"https://api.github.com/users/jiazhai/events{/privacy}","received_events_url":"https://api.github.com/users/jiazhai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-01T00:05:19Z","updated_at":"2020-05-01T16:47:30Z","author_association":"MEMBER","body":"@rdhabalia Thanks for the comments. The name of the PR seems be a little misleading.  Changed the name to align with the main changes.  It mainly want to support keystore configs. and make multi ca easy config is one result of it. \r\nThis change tries to keep the original tls settings untouched, and add new config in needed path, so it changed number of files. Maybe we could make the supporting work aligned in the future.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/622183172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/622268694","html_url":"https://github.com/apache/pulsar/issues/6828#issuecomment-622268694","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6828","id":622268694,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMjI2ODY5NA==","user":{"login":"equanz","id":12148992,"node_id":"MDQ6VXNlcjEyMTQ4OTky","avatar_url":"https://avatars.githubusercontent.com/u/12148992?v=4","gravatar_id":"","url":"https://api.github.com/users/equanz","html_url":"https://github.com/equanz","followers_url":"https://api.github.com/users/equanz/followers","following_url":"https://api.github.com/users/equanz/following{/other_user}","gists_url":"https://api.github.com/users/equanz/gists{/gist_id}","starred_url":"https://api.github.com/users/equanz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/equanz/subscriptions","organizations_url":"https://api.github.com/users/equanz/orgs","repos_url":"https://api.github.com/users/equanz/repos","events_url":"https://api.github.com/users/equanz/events{/privacy}","received_events_url":"https://api.github.com/users/equanz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-01T06:29:34Z","updated_at":"2020-05-01T06:29:34Z","author_association":"CONTRIBUTOR","body":"Currently, pulsar-client-node isn't built and published pre-built binaries in release flow. If you use, you should install C++ library, and build binary in \"falling back to source compile with node-gyp\" step(automatically run).\r\n\r\nSee details at https://pulsar.apache.org/docs/en/client-libraries-node/#requirements\r\n\r\nCurrently, C++ library isn't support Windows platform. Is your environment Windows? If so, you can't use pulsar-client-node correctly now.\r\nhttps://pulsar.apache.org/docs/en/client-libraries-cpp/#supported-platforms","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/622268694/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/622332112","html_url":"https://github.com/apache/pulsar/issues/6828#issuecomment-622332112","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6828","id":622332112,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMjMzMjExMg==","user":{"login":"TolulopeAwode","id":54535768,"node_id":"MDQ6VXNlcjU0NTM1NzY4","avatar_url":"https://avatars.githubusercontent.com/u/54535768?v=4","gravatar_id":"","url":"https://api.github.com/users/TolulopeAwode","html_url":"https://github.com/TolulopeAwode","followers_url":"https://api.github.com/users/TolulopeAwode/followers","following_url":"https://api.github.com/users/TolulopeAwode/following{/other_user}","gists_url":"https://api.github.com/users/TolulopeAwode/gists{/gist_id}","starred_url":"https://api.github.com/users/TolulopeAwode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TolulopeAwode/subscriptions","organizations_url":"https://api.github.com/users/TolulopeAwode/orgs","repos_url":"https://api.github.com/users/TolulopeAwode/repos","events_url":"https://api.github.com/users/TolulopeAwode/events{/privacy}","received_events_url":"https://api.github.com/users/TolulopeAwode/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-01T10:20:22Z","updated_at":"2020-05-01T10:20:22Z","author_association":"NONE","body":"I got the same error on linux. Including this in a pre-build step when running from docker is the challege.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/622332112/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/622382965","html_url":"https://github.com/apache/pulsar/issues/6451#issuecomment-622382965","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6451","id":622382965,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMjM4Mjk2NQ==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-01T13:14:03Z","updated_at":"2020-05-01T13:14:03Z","author_association":"CONTRIBUTOR","body":"@pouledodue thanks for the reminder, I will look at this issue in detail later.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/622382965/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/622457038","html_url":"https://github.com/apache/pulsar/pull/6814#issuecomment-622457038","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6814","id":622457038,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMjQ1NzAzOA==","user":{"login":"hangc0276","id":5436568,"node_id":"MDQ6VXNlcjU0MzY1Njg=","avatar_url":"https://avatars.githubusercontent.com/u/5436568?v=4","gravatar_id":"","url":"https://api.github.com/users/hangc0276","html_url":"https://github.com/hangc0276","followers_url":"https://api.github.com/users/hangc0276/followers","following_url":"https://api.github.com/users/hangc0276/following{/other_user}","gists_url":"https://api.github.com/users/hangc0276/gists{/gist_id}","starred_url":"https://api.github.com/users/hangc0276/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hangc0276/subscriptions","organizations_url":"https://api.github.com/users/hangc0276/orgs","repos_url":"https://api.github.com/users/hangc0276/repos","events_url":"https://api.github.com/users/hangc0276/events{/privacy}","received_events_url":"https://api.github.com/users/hangc0276/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-01T16:24:32Z","updated_at":"2020-05-01T16:24:32Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/622457038/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/622493739","html_url":"https://github.com/apache/pulsar/pull/6810#issuecomment-622493739","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6810","id":622493739,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMjQ5MzczOQ==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-01T17:57:08Z","updated_at":"2020-05-01T17:57:08Z","author_association":"MEMBER","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/622493739/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/622652398","html_url":"https://github.com/apache/pulsar/pull/6814#issuecomment-622652398","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6814","id":622652398,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMjY1MjM5OA==","user":{"login":"hangc0276","id":5436568,"node_id":"MDQ6VXNlcjU0MzY1Njg=","avatar_url":"https://avatars.githubusercontent.com/u/5436568?v=4","gravatar_id":"","url":"https://api.github.com/users/hangc0276","html_url":"https://github.com/hangc0276","followers_url":"https://api.github.com/users/hangc0276/followers","following_url":"https://api.github.com/users/hangc0276/following{/other_user}","gists_url":"https://api.github.com/users/hangc0276/gists{/gist_id}","starred_url":"https://api.github.com/users/hangc0276/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hangc0276/subscriptions","organizations_url":"https://api.github.com/users/hangc0276/orgs","repos_url":"https://api.github.com/users/hangc0276/repos","events_url":"https://api.github.com/users/hangc0276/events{/privacy}","received_events_url":"https://api.github.com/users/hangc0276/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-02T01:57:38Z","updated_at":"2020-05-02T01:57:38Z","author_association":"CONTRIBUTOR","body":"> Just out of curiosity, why do you implement a new StatsProvider? BookKeeper already has the prometheus data provider. Why not re-use it?\r\n\r\nThe reasons of implementing a new prometheus statsProvider as follows:\r\n1. bookkeeper's prometheus statsProvider will open an individual ip:port to provide http service, which can't be integrated into pulsar's now available prometheus http service which is just concat metric string into prometheus format.\r\n2. some components of bookkeeper's prometheus statsProvider dependent on are package private, which can't be accessed out of `org.apache.bookkeeper.stats.prometheus` package, \r\n    - `PrometheusStatsLogger` has package private constructor\r\n    - `SimpleGauge` has package private `getSample` method\r\n    - `PrometheusTextFormatUtil` has package private `writeGauge`, `writeCounter`, `writeOpStat` method\r\n    - `DataSketchesOpStatsLogger` has package private constructor\r\n\r\nwhether have other new ways to reuse bookkeeper's prometheus statsProvider?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/622652398/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/622666358","html_url":"https://github.com/apache/pulsar/pull/6814#issuecomment-622666358","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6814","id":622666358,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMjY2NjM1OA==","user":{"login":"hangc0276","id":5436568,"node_id":"MDQ6VXNlcjU0MzY1Njg=","avatar_url":"https://avatars.githubusercontent.com/u/5436568?v=4","gravatar_id":"","url":"https://api.github.com/users/hangc0276","html_url":"https://github.com/hangc0276","followers_url":"https://api.github.com/users/hangc0276/followers","following_url":"https://api.github.com/users/hangc0276/following{/other_user}","gists_url":"https://api.github.com/users/hangc0276/gists{/gist_id}","starred_url":"https://api.github.com/users/hangc0276/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hangc0276/subscriptions","organizations_url":"https://api.github.com/users/hangc0276/orgs","repos_url":"https://api.github.com/users/hangc0276/repos","events_url":"https://api.github.com/users/hangc0276/events{/privacy}","received_events_url":"https://api.github.com/users/hangc0276/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-02T04:19:51Z","updated_at":"2020-05-02T04:19:51Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/622666358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/622666376","html_url":"https://github.com/apache/pulsar/pull/6856#issuecomment-622666376","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6856","id":622666376,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMjY2NjM3Ng==","user":{"login":"hangc0276","id":5436568,"node_id":"MDQ6VXNlcjU0MzY1Njg=","avatar_url":"https://avatars.githubusercontent.com/u/5436568?v=4","gravatar_id":"","url":"https://api.github.com/users/hangc0276","html_url":"https://github.com/hangc0276","followers_url":"https://api.github.com/users/hangc0276/followers","following_url":"https://api.github.com/users/hangc0276/following{/other_user}","gists_url":"https://api.github.com/users/hangc0276/gists{/gist_id}","starred_url":"https://api.github.com/users/hangc0276/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hangc0276/subscriptions","organizations_url":"https://api.github.com/users/hangc0276/orgs","repos_url":"https://api.github.com/users/hangc0276/repos","events_url":"https://api.github.com/users/hangc0276/events{/privacy}","received_events_url":"https://api.github.com/users/hangc0276/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-02T04:20:05Z","updated_at":"2020-05-02T04:20:05Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/622666376/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/622926218","html_url":"https://github.com/apache/pulsar/pull/6835#issuecomment-622926218","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6835","id":622926218,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMjkyNjIxOA==","user":{"login":"vzhikserg","id":7816474,"node_id":"MDQ6VXNlcjc4MTY0NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7816474?v=4","gravatar_id":"","url":"https://api.github.com/users/vzhikserg","html_url":"https://github.com/vzhikserg","followers_url":"https://api.github.com/users/vzhikserg/followers","following_url":"https://api.github.com/users/vzhikserg/following{/other_user}","gists_url":"https://api.github.com/users/vzhikserg/gists{/gist_id}","starred_url":"https://api.github.com/users/vzhikserg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vzhikserg/subscriptions","organizations_url":"https://api.github.com/users/vzhikserg/orgs","repos_url":"https://api.github.com/users/vzhikserg/repos","events_url":"https://api.github.com/users/vzhikserg/events{/privacy}","received_events_url":"https://api.github.com/users/vzhikserg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-02T09:34:18Z","updated_at":"2020-05-02T09:34:18Z","author_association":"CONTRIBUTOR","body":"@sijie could you please comment on this pull request? Do you think that it is a right approach? Shall I continue working on it and change/add docs? Did I miss something?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/622926218/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/622955883","html_url":"https://github.com/apache/pulsar/pull/6860#issuecomment-622955883","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6860","id":622955883,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMjk1NTg4Mw==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-02T13:43:52Z","updated_at":"2020-05-02T13:43:52Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/622955883/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/622956310","html_url":"https://github.com/apache/pulsar/pull/6857#issuecomment-622956310","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6857","id":622956310,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMjk1NjMxMA==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-02T13:47:03Z","updated_at":"2020-05-02T13:47:03Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/622956310/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/623005726","html_url":"https://github.com/apache/pulsar/issues/402#issuecomment-623005726","issue_url":"https://api.github.com/repos/apache/pulsar/issues/402","id":623005726,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMzAwNTcyNg==","user":{"login":"yangou","id":1667326,"node_id":"MDQ6VXNlcjE2NjczMjY=","avatar_url":"https://avatars.githubusercontent.com/u/1667326?v=4","gravatar_id":"","url":"https://api.github.com/users/yangou","html_url":"https://github.com/yangou","followers_url":"https://api.github.com/users/yangou/followers","following_url":"https://api.github.com/users/yangou/following{/other_user}","gists_url":"https://api.github.com/users/yangou/gists{/gist_id}","starred_url":"https://api.github.com/users/yangou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yangou/subscriptions","organizations_url":"https://api.github.com/users/yangou/orgs","repos_url":"https://api.github.com/users/yangou/repos","events_url":"https://api.github.com/users/yangou/events{/privacy}","received_events_url":"https://api.github.com/users/yangou/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-02T19:57:53Z","updated_at":"2020-05-02T19:57:53Z","author_association":"NONE","body":"I know this is probably considered implemented but as this [PIP](https://github.com/apache/pulsar/wiki/PIP-3:-Message-dispatch-throttling#dispatch-throttling-per-topic) mentioned, and suggested by @bradtm, are we supporting the regex-based per topic rate limit yet? Cause I don't see how to dynamically configure it with the admin tool. \r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/623005726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/623013826","html_url":"https://github.com/apache/pulsar/issues/6528#issuecomment-623013826","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6528","id":623013826,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMzAxMzgyNg==","user":{"login":"kindofwhat","id":798034,"node_id":"MDQ6VXNlcjc5ODAzNA==","avatar_url":"https://avatars.githubusercontent.com/u/798034?v=4","gravatar_id":"","url":"https://api.github.com/users/kindofwhat","html_url":"https://github.com/kindofwhat","followers_url":"https://api.github.com/users/kindofwhat/followers","following_url":"https://api.github.com/users/kindofwhat/following{/other_user}","gists_url":"https://api.github.com/users/kindofwhat/gists{/gist_id}","starred_url":"https://api.github.com/users/kindofwhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kindofwhat/subscriptions","organizations_url":"https://api.github.com/users/kindofwhat/orgs","repos_url":"https://api.github.com/users/kindofwhat/repos","events_url":"https://api.github.com/users/kindofwhat/events{/privacy}","received_events_url":"https://api.github.com/users/kindofwhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-02T21:12:29Z","updated_at":"2020-05-02T21:12:29Z","author_association":"NONE","body":"as a workaround: supply default values for all properties. this of course is not \"proper\" support for data classes,,,","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/623013826/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/623054781","html_url":"https://github.com/apache/pulsar/pull/6856#issuecomment-623054781","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6856","id":623054781,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMzA1NDc4MQ==","user":{"login":"hangc0276","id":5436568,"node_id":"MDQ6VXNlcjU0MzY1Njg=","avatar_url":"https://avatars.githubusercontent.com/u/5436568?v=4","gravatar_id":"","url":"https://api.github.com/users/hangc0276","html_url":"https://github.com/hangc0276","followers_url":"https://api.github.com/users/hangc0276/followers","following_url":"https://api.github.com/users/hangc0276/following{/other_user}","gists_url":"https://api.github.com/users/hangc0276/gists{/gist_id}","starred_url":"https://api.github.com/users/hangc0276/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hangc0276/subscriptions","organizations_url":"https://api.github.com/users/hangc0276/orgs","repos_url":"https://api.github.com/users/hangc0276/repos","events_url":"https://api.github.com/users/hangc0276/events{/privacy}","received_events_url":"https://api.github.com/users/hangc0276/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-03T05:06:23Z","updated_at":"2020-05-03T05:06:23Z","author_association":"CONTRIBUTOR","body":"> @hangc0276 Is it possible to remove the ownership check for update partitions? I'm not sure why to update partitions need to check topic ownership.\r\n\r\nMaybe not, the broker should own the topic-bundle before update partitions. When the topic-bundle unloaded, the broker should ask the leader to find candidate broker and authoritative the candidate broker to own the topic-bundle.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/623054781/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/623071920","html_url":"https://github.com/apache/pulsar/pull/6856#issuecomment-623071920","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6856","id":623071920,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMzA3MTkyMA==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-03T08:05:44Z","updated_at":"2020-05-03T08:05:44Z","author_association":"CONTRIBUTOR","body":"> Maybe not, the broker should own the topic-bundle before update partitions.\r\n\r\nThis is also where I doubt. Update partitions we just need to update the partitioned topic metadata in Zookeeper, to own a namespace bundle happens when the client sends a lookup request. ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/623071920/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/623125727","html_url":"https://github.com/apache/pulsar/issues/4942#issuecomment-623125727","issue_url":"https://api.github.com/repos/apache/pulsar/issues/4942","id":623125727,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMzEyNTcyNw==","user":{"login":"feeblefakie","id":1052473,"node_id":"MDQ6VXNlcjEwNTI0NzM=","avatar_url":"https://avatars.githubusercontent.com/u/1052473?v=4","gravatar_id":"","url":"https://api.github.com/users/feeblefakie","html_url":"https://github.com/feeblefakie","followers_url":"https://api.github.com/users/feeblefakie/followers","following_url":"https://api.github.com/users/feeblefakie/following{/other_user}","gists_url":"https://api.github.com/users/feeblefakie/gists{/gist_id}","starred_url":"https://api.github.com/users/feeblefakie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/feeblefakie/subscriptions","organizations_url":"https://api.github.com/users/feeblefakie/orgs","repos_url":"https://api.github.com/users/feeblefakie/repos","events_url":"https://api.github.com/users/feeblefakie/events{/privacy}","received_events_url":"https://api.github.com/users/feeblefakie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-03T15:18:00Z","updated_at":"2020-05-03T15:18:00Z","author_association":"NONE","body":"I think this is a must-have feature for stateful systems but why is this regarded as nice to have feature ? \r\nWhat would users do to recover from a disk failure in bookie node ?\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/623125727/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/623406238","html_url":"https://github.com/apache/pulsar/pull/6796#issuecomment-623406238","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6796","id":623406238,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMzQwNjIzOA==","user":{"login":"BewareMyPower","id":18204803,"node_id":"MDQ6VXNlcjE4MjA0ODAz","avatar_url":"https://avatars.githubusercontent.com/u/18204803?v=4","gravatar_id":"","url":"https://api.github.com/users/BewareMyPower","html_url":"https://github.com/BewareMyPower","followers_url":"https://api.github.com/users/BewareMyPower/followers","following_url":"https://api.github.com/users/BewareMyPower/following{/other_user}","gists_url":"https://api.github.com/users/BewareMyPower/gists{/gist_id}","starred_url":"https://api.github.com/users/BewareMyPower/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BewareMyPower/subscriptions","organizations_url":"https://api.github.com/users/BewareMyPower/orgs","repos_url":"https://api.github.com/users/BewareMyPower/repos","events_url":"https://api.github.com/users/BewareMyPower/events{/privacy}","received_events_url":"https://api.github.com/users/BewareMyPower/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-04T11:22:23Z","updated_at":"2020-05-04T11:22:23Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/623406238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/623414917","html_url":"https://github.com/apache/pulsar/issues/6869#issuecomment-623414917","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6869","id":623414917,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMzQxNDkxNw==","user":{"login":"lhotari","id":66864,"node_id":"MDQ6VXNlcjY2ODY0","avatar_url":"https://avatars.githubusercontent.com/u/66864?v=4","gravatar_id":"","url":"https://api.github.com/users/lhotari","html_url":"https://github.com/lhotari","followers_url":"https://api.github.com/users/lhotari/followers","following_url":"https://api.github.com/users/lhotari/following{/other_user}","gists_url":"https://api.github.com/users/lhotari/gists{/gist_id}","starred_url":"https://api.github.com/users/lhotari/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lhotari/subscriptions","organizations_url":"https://api.github.com/users/lhotari/orgs","repos_url":"https://api.github.com/users/lhotari/repos","events_url":"https://api.github.com/users/lhotari/events{/privacy}","received_events_url":"https://api.github.com/users/lhotari/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-04T11:43:27Z","updated_at":"2020-05-04T11:43:27Z","author_association":"MEMBER","body":"I wonder if issue #5969 is related.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/623414917/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/623535664","html_url":"https://github.com/apache/pulsar/pull/6796#issuecomment-623535664","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6796","id":623535664,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMzUzNTY2NA==","user":{"login":"BewareMyPower","id":18204803,"node_id":"MDQ6VXNlcjE4MjA0ODAz","avatar_url":"https://avatars.githubusercontent.com/u/18204803?v=4","gravatar_id":"","url":"https://api.github.com/users/BewareMyPower","html_url":"https://github.com/BewareMyPower","followers_url":"https://api.github.com/users/BewareMyPower/followers","following_url":"https://api.github.com/users/BewareMyPower/following{/other_user}","gists_url":"https://api.github.com/users/BewareMyPower/gists{/gist_id}","starred_url":"https://api.github.com/users/BewareMyPower/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BewareMyPower/subscriptions","organizations_url":"https://api.github.com/users/BewareMyPower/orgs","repos_url":"https://api.github.com/users/BewareMyPower/repos","events_url":"https://api.github.com/users/BewareMyPower/events{/privacy}","received_events_url":"https://api.github.com/users/BewareMyPower/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-04T15:33:07Z","updated_at":"2020-05-04T15:33:07Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/623535664/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/623594221","html_url":"https://github.com/apache/pulsar/issues/6239#issuecomment-623594221","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6239","id":623594221,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMzU5NDIyMQ==","user":{"login":"psilos","id":277239,"node_id":"MDQ6VXNlcjI3NzIzOQ==","avatar_url":"https://avatars.githubusercontent.com/u/277239?v=4","gravatar_id":"","url":"https://api.github.com/users/psilos","html_url":"https://github.com/psilos","followers_url":"https://api.github.com/users/psilos/followers","following_url":"https://api.github.com/users/psilos/following{/other_user}","gists_url":"https://api.github.com/users/psilos/gists{/gist_id}","starred_url":"https://api.github.com/users/psilos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psilos/subscriptions","organizations_url":"https://api.github.com/users/psilos/orgs","repos_url":"https://api.github.com/users/psilos/repos","events_url":"https://api.github.com/users/psilos/events{/privacy}","received_events_url":"https://api.github.com/users/psilos/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-04T17:20:14Z","updated_at":"2020-05-04T17:20:14Z","author_association":"NONE","body":"Are there any workaround this? We really need to test locally and LocalRunner was very helpful. Thanks! ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/623594221/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/623677664","html_url":"https://github.com/apache/pulsar/issues/6239#issuecomment-623677664","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6239","id":623677664,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMzY3NzY2NA==","user":{"login":"psilos","id":277239,"node_id":"MDQ6VXNlcjI3NzIzOQ==","avatar_url":"https://avatars.githubusercontent.com/u/277239?v=4","gravatar_id":"","url":"https://api.github.com/users/psilos","html_url":"https://github.com/psilos","followers_url":"https://api.github.com/users/psilos/followers","following_url":"https://api.github.com/users/psilos/following{/other_user}","gists_url":"https://api.github.com/users/psilos/gists{/gist_id}","starred_url":"https://api.github.com/users/psilos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psilos/subscriptions","organizations_url":"https://api.github.com/users/psilos/orgs","repos_url":"https://api.github.com/users/psilos/repos","events_url":"https://api.github.com/users/psilos/events{/privacy}","received_events_url":"https://api.github.com/users/psilos/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-04T20:06:08Z","updated_at":"2020-05-04T20:06:08Z","author_association":"NONE","body":"Ok, you can get around it by using `pulsar-functions-local-runner-original` instead which doesn't include shaded dependencies. ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/623677664/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/623750937","html_url":"https://github.com/apache/pulsar/pull/6874#issuecomment-623750937","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6874","id":623750937,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMzc1MDkzNw==","user":{"login":"addisonj","id":636291,"node_id":"MDQ6VXNlcjYzNjI5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/636291?v=4","gravatar_id":"","url":"https://api.github.com/users/addisonj","html_url":"https://github.com/addisonj","followers_url":"https://api.github.com/users/addisonj/followers","following_url":"https://api.github.com/users/addisonj/following{/other_user}","gists_url":"https://api.github.com/users/addisonj/gists{/gist_id}","starred_url":"https://api.github.com/users/addisonj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/addisonj/subscriptions","organizations_url":"https://api.github.com/users/addisonj/orgs","repos_url":"https://api.github.com/users/addisonj/repos","events_url":"https://api.github.com/users/addisonj/events{/privacy}","received_events_url":"https://api.github.com/users/addisonj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-04T22:57:07Z","updated_at":"2020-05-04T22:57:07Z","author_association":"CONTRIBUTOR","body":"few minor comments, overall looks sane to me","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/623750937/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/623751409","html_url":"https://github.com/apache/pulsar/pull/6874#issuecomment-623751409","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6874","id":623751409,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMzc1MTQwOQ==","user":{"login":"addisonj","id":636291,"node_id":"MDQ6VXNlcjYzNjI5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/636291?v=4","gravatar_id":"","url":"https://api.github.com/users/addisonj","html_url":"https://github.com/addisonj","followers_url":"https://api.github.com/users/addisonj/followers","following_url":"https://api.github.com/users/addisonj/following{/other_user}","gists_url":"https://api.github.com/users/addisonj/gists{/gist_id}","starred_url":"https://api.github.com/users/addisonj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/addisonj/subscriptions","organizations_url":"https://api.github.com/users/addisonj/orgs","repos_url":"https://api.github.com/users/addisonj/repos","events_url":"https://api.github.com/users/addisonj/events{/privacy}","received_events_url":"https://api.github.com/users/addisonj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-04T22:58:45Z","updated_at":"2020-05-04T22:58:45Z","author_association":"CONTRIBUTOR","body":"oh one more thing, if you want to get this really in a good place, you can add the docs in `site2/docs/io-connectors.md` and a new doc probably in `site2/docs/io-dynamodb-streams.md`\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/623751409/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/623849407","html_url":"https://github.com/apache/pulsar/issues/6871#issuecomment-623849407","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6871","id":623849407,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMzg0OTQwNw==","user":{"login":"rueian","id":2727535,"node_id":"MDQ6VXNlcjI3Mjc1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/2727535?v=4","gravatar_id":"","url":"https://api.github.com/users/rueian","html_url":"https://github.com/rueian","followers_url":"https://api.github.com/users/rueian/followers","following_url":"https://api.github.com/users/rueian/following{/other_user}","gists_url":"https://api.github.com/users/rueian/gists{/gist_id}","starred_url":"https://api.github.com/users/rueian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rueian/subscriptions","organizations_url":"https://api.github.com/users/rueian/orgs","repos_url":"https://api.github.com/users/rueian/repos","events_url":"https://api.github.com/users/rueian/events{/privacy}","received_events_url":"https://api.github.com/users/rueian/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-05T04:19:52Z","updated_at":"2020-05-05T04:19:52Z","author_association":"NONE","body":"Forget to mention that I am using the 2.5.1 pulsar-all docker image.\r\n\r\nIt seems that if one bookie was restarted, the brokers would stop serving related topics until restart the brokers.\r\n\r\nI have total 3 bookies, and 3 brokers having the following setting:\r\n```\r\nmanagedLedgerDefaultAckQuorum: '2'\r\nmanagedLedgerDefaultEnsembleSize: '2'\r\nmanagedLedgerDefaultWriteQuorum: '2'\r\n```\r\n\r\nmore logs:\r\n```\r\n03:42:02.374 [BookKeeperClientWorker-OrderedExecutor-0-0] INFO  org.apache.bookkeeper.client.PendingReadOp - Error: Bookie handle is not available while reading L535 E20000 from bookie: pulsar-bookie-2.pulsar-bookie.default.svc.cluster.local:3181\r\n03:42:02.403 [bookkeeper-io-14-2] WARN  org.apache.bookkeeper.proto.PerChannelBookieClient - Could not connect to bookie: [id: 0x5a7463c4]/pulsar-bookie-2.pulsar-bookie.default.svc.cluster.local:3181, current state CONNECTING : pulsar-bookie-2.pulsar-bookie.default.svc.cluster.local\r\n03:42:02.415 [bookkeeper-io-14-1] WARN  org.apache.bookkeeper.proto.PerChannelBookieClient - Could not connect to bookie: [id: 0x574931fa]/pulsar-bookie-2.pulsar-bookie.default.svc.cluster.local:3181, current state CONNECTING : pulsar-bookie-2.pulsar-bookie.default.svc.cluster.local\r\n03:42:02.416 [BookKeeperClientWorker-OrderedExecutor-0-0] WARN  org.apache.bookkeeper.client.PendingAddOp - Failed to write entry (535, 20000): Bookie handle is not available\r\n03:42:02.449 [BookKeeperClientWorker-OrderedExecutor-0-0] ERROR org.apache.bookkeeper.common.util.SafeRunnable - Unexpected throwable caught \r\njava.lang.NullPointerException: null\r\n\tat org.apache.bookkeeper.net.NetUtils.resolveNetworkLocation(NetUtils.java:77) ~[org.apache.bookkeeper-bookkeeper-server-4.10.0.jar:4.10.0]\r\n\tat org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy.resolveNetworkLocation(TopologyAwareEnsemblePlacementPolicy.java:779) ~[org.apache.bookkeeper-bookkeeper-server-4.10.0.jar:4.10.0]\r\n\tat org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy.createBookieNode(TopologyAwareEnsemblePlacementPolicy.java:775) ~[org.apache.bookkeeper-bookkeeper-server-4.10.0.jar:4.10.0]\r\n\tat org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.replaceBookie(RackawareEnsemblePlacementPolicyImpl.java:450) ~[org.apache.bookkeeper-bookkeeper-server-4.10.0.jar:4.10.0]\r\n\tat org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicy.replaceBookie(RackawareEnsemblePlacementPolicy.java:117) ~[org.apache.bookkeeper-bookkeeper-server-4.10.0.jar:4.10.0]\r\n\tat org.apache.bookkeeper.client.BookieWatcherImpl.replaceBookie(BookieWatcherImpl.java:289) ~[org.apache.bookkeeper-bookkeeper-server-4.10.0.jar:4.10.0]\r\n\tat org.apache.bookkeeper.client.EnsembleUtils.replaceBookiesInEnsemble(EnsembleUtils.java:71) ~[org.apache.bookkeeper-bookkeeper-server-4.10.0.jar:4.10.0]\r\n\tat org.apache.bookkeeper.client.ReadOnlyLedgerHandle.handleBookieFailure(ReadOnlyLedgerHandle.java:226) ~[org.apache.bookkeeper-bookkeeper-server-4.10.0.jar:4.10.0]\r\n\tat org.apache.bookkeeper.client.PendingAddOp.writeComplete(PendingAddOp.java:377) ~[org.apache.bookkeeper-bookkeeper-server-4.10.0.jar:4.10.0]\r\n\tat org.apache.bookkeeper.proto.BookieClientImpl$1.safeRun(BookieClientImpl.java:292) ~[org.apache.bookkeeper-bookkeeper-server-4.10.0.jar:4.10.0]\r\n\tat org.apache.bookkeeper.common.util.SafeRunnable.run(SafeRunnable.java:36) [org.apache.bookkeeper-bookkeeper-common-4.10.0.jar:4.10.0]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_242]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_242]\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [io.netty-netty-common-4.1.45.Final.jar:4.1.45.Final]\r\n\tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_242]\r\n03:42:02.487 [bookkeeper-io-14-2] WARN  org.apache.bookkeeper.proto.PerChannelBookieClient - Could not connect to bookie: [id: 0x29f028a9]/pulsar-bookie-2.pulsar-bookie.default.svc.cluster.local:3181, current state CONNECTING : pulsar-bookie-2.pulsar-bookie.default.svc.cluster.local\r\n03:42:02.488 [BookKeeperClientWorker-OrderedExecutor-0-0] INFO  org.apache.bookkeeper.client.PendingReadOp - Error: Bookie handle is not available while reading L535 E20002 from bookie: pulsar-bookie-2.pulsar-bookie.default.svc.cluster.local:3181\r\n03:42:02.490 [BookKeeperClientWorker-OrderedExecutor-0-0] WARN  org.apache.bookkeeper.client.PendingAddOp - Failed to write entry (535, 20001): Bookie handle is not available\r\n03:42:02.491 [BookKeeperClientWorker-OrderedExecutor-0-0] ERROR org.apache.bookkeeper.common.util.SafeRunnable - Unexpected throwable caught \r\njava.lang.NullPointerException: null\r\n\tat org.apache.bookkeeper.net.NetUtils.resolveNetworkLocation(NetUtils.java:77) ~[org.apache.bookkeeper-bookkeeper-server-4.10.0.jar:4.10.0]\r\n\tat org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy.resolveNetworkLocation(TopologyAwareEnsemblePlacementPolicy.java:779) ~[org.apache.bookkeeper-bookkeeper-server-4.10.0.jar:4.10.0]\r\n\tat org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy.createBookieNode(TopologyAwareEnsemblePlacementPolicy.java:775) ~[org.apache.bookkeeper-bookkeeper-server-4.10.0.jar:4.10.0]\r\n\tat org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.replaceBookie(RackawareEnsemblePlacementPolicyImpl.java:450) ~[org.apache.bookkeeper-bookkeeper-server-4.10.0.jar:4.10.0]\r\n\tat org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicy.replaceBookie(RackawareEnsemblePlacementPolicy.java:117) ~[org.apache.bookkeeper-bookkeeper-server-4.10.0.jar:4.10.0]\r\n\tat org.apache.bookkeeper.client.BookieWatcherImpl.replaceBookie(BookieWatcherImpl.java:289) ~[org.apache.bookkeeper-bookkeeper-server-4.10.0.jar:4.10.0]\r\n\tat org.apache.bookkeeper.client.EnsembleUtils.replaceBookiesInEnsemble(EnsembleUtils.java:71) ~[org.apache.bookkeeper-bookkeeper-server-4.10.0.jar:4.10.0]\r\n\tat org.apache.bookkeeper.client.ReadOnlyLedgerHandle.handleBookieFailure(ReadOnlyLedgerHandle.java:226) ~[org.apache.bookkeeper-bookkeeper-server-4.10.0.jar:4.10.0]\r\n\tat org.apache.bookkeeper.client.PendingAddOp.writeComplete(PendingAddOp.java:377) ~[org.apache.bookkeeper-bookkeeper-server-4.10.0.jar:4.10.0]\r\n\tat org.apache.bookkeeper.proto.BookieClientImpl$1.safeRun(BookieClientImpl.java:292) ~[org.apache.bookkeeper-bookkeeper-server-4.10.0.jar:4.10.0]\r\n\tat org.apache.bookkeeper.common.util.SafeRunnable.run(SafeRunnable.java:36) [org.apache.bookkeeper-bookkeeper-common-4.10.0.jar:4.10.0]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_242]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_242]\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [io.netty-netty-common-4.1.45.Final.jar:4.1.45.Final]\r\n\tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_242]\r\n03:42:02.499 [bookkeeper-io-14-1] WARN  org.apache.bookkeeper.proto.PerChannelBookieClient - Could not connect to bookie: [id: 0x7601fba1]/pulsar-bookie-2.pulsar-bookie.default.svc.cluster.local:3181, current state CONNECTING : pulsar-bookie-2.pulsar-bookie.default.svc.cluster.local\r\n03:42:02.507 [bookkeeper-io-14-2] WARN  org.apache.bookkeeper.proto.PerChannelBookieClient - Could not connect to bookie: [id: 0x31edef11]/pulsar-bookie-2.pulsar-bookie.default.svc.cluster.local:3181, current state CONNECTING : pulsar-bookie-2.pulsar-bookie.default.svc.cluster.local\r\n03:42:02.508 [BookKeeperClientWorker-OrderedExecutor-0-0] WARN  org.apache.bookkeeper.client.PendingAddOp - Failed to write entry (535, 20002): Bookie handle is not available\r\n03:42:02.510 [BookKeeperClientWorker-OrderedExecutor-0-0] ERROR org.apache.bookkeeper.common.util.SafeRunnable - Unexpected throwable caught \r\njava.lang.NullPointerException: null\r\n\tat org.apache.bookkeeper.net.NetUtils.resolveNetworkLocation(NetUtils.java:77) ~[org.apache.bookkeeper-bookkeeper-server-4.10.0.jar:4.10.0]\r\n\tat org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy.resolveNetworkLocation(TopologyAwareEnsemblePlacementPolicy.java:779) ~[org.apache.bookkeeper-bookkeeper-server-4.10.0.jar:4.10.0]\r\n\tat org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy.createBookieNode(TopologyAwareEnsemblePlacementPolicy.java:775) ~[org.apache.bookkeeper-bookkeeper-server-4.10.0.jar:4.10.0]\r\n\tat org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.replaceBookie(RackawareEnsemblePlacementPolicyImpl.java:450) ~[org.apache.bookkeeper-bookkeeper-server-4.10.0.jar:4.10.0]\r\n\tat org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicy.replaceBookie(RackawareEnsemblePlacementPolicy.java:117) ~[org.apache.bookkeeper-bookkeeper-server-4.10.0.jar:4.10.0]\r\n\tat org.apache.bookkeeper.client.BookieWatcherImpl.replaceBookie(BookieWatcherImpl.java:289) ~[org.apache.bookkeeper-bookkeeper-server-4.10.0.jar:4.10.0]\r\n\tat org.apache.bookkeeper.client.EnsembleUtils.replaceBookiesInEnsemble(EnsembleUtils.java:71) ~[org.apache.bookkeeper-bookkeeper-server-4.10.0.jar:4.10.0]\r\n\tat org.apache.bookkeeper.client.ReadOnlyLedgerHandle.handleBookieFailure(ReadOnlyLedgerHandle.java:226) ~[org.apache.bookkeeper-bookkeeper-server-4.10.0.jar:4.10.0]\r\n\tat org.apache.bookkeeper.client.PendingAddOp.writeComplete(PendingAddOp.java:377) ~[org.apache.bookkeeper-bookkeeper-server-4.10.0.jar:4.10.0]\r\n\tat org.apache.bookkeeper.proto.BookieClientImpl$1.safeRun(BookieClientImpl.java:292) ~[org.apache.bookkeeper-bookkeeper-server-4.10.0.jar:4.10.0]\r\n\tat org.apache.bookkeeper.common.util.SafeRunnable.run(SafeRunnable.java:36) [org.apache.bookkeeper-bookkeeper-common-4.10.0.jar:4.10.0]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_242]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_242]\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [io.netty-netty-common-4.1.45.Final.jar:4.1.45.Final]\r\n\tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_242]\r\n03:42:02.526 [bookkeeper-io-14-1] WARN  org.apache.bookkeeper.proto.PerChannelBookieClient - Could not connect to bookie: [id: 0x3d328dcc]/pulsar-bookie-2.pulsar-bookie.default.svc.cluster.local:3181, current state CONNECTING : pulsar-bookie-2.pulsar-bookie.default.svc.cluster.local\r\n03:42:02.526 [BookKeeperClientWorker-OrderedExecutor-0-0] INFO  org.apache.bookkeeper.client.PendingReadOp - Error: Bookie handle is not available while reading L535 E20004 from bookie: pulsar-bookie-2.pulsar-bookie.default.svc.cluster.local:3181\r\n03:42:02.527 [BookKeeperClientWorker-OrderedExecutor-0-0] WARN  org.apache.bookkeeper.client.PendingAddOp - Failed to write entry (535, 20003): Bookie handle is not available\r\n03:42:02.531 [BookKeeperClientWorker-OrderedExecutor-0-0] ERROR org.apache.bookkeeper.common.util.SafeRunnable - Unexpected throwable caught \r\njava.lang.NullPointerException: null\r\n\tat org.apache.bookkeeper.net.NetUtils.resolveNetworkLocation(NetUtils.java:77) ~[org.apache.bookkeeper-bookkeeper-server-4.10.0.jar:4.10.0]\r\n\tat org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy.resolveNetworkLocation(TopologyAwareEnsemblePlacementPolicy.java:779) ~[org.apache.bookkeeper-bookkeeper-server-4.10.0.jar:4.10.0]\r\n\tat org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy.createBookieNode(TopologyAwareEnsemblePlacementPolicy.java:775) ~[org.apache.bookkeeper-bookkeeper-server-4.10.0.jar:4.10.0]\r\n\tat org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.replaceBookie(RackawareEnsemblePlacementPolicyImpl.java:450) ~[org.apache.bookkeeper-bookkeeper-server-4.10.0.jar:4.10.0]\r\n\tat org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicy.replaceBookie(RackawareEnsemblePlacementPolicy.java:117) ~[org.apache.bookkeeper-bookkeeper-server-4.10.0.jar:4.10.0]\r\n\tat org.apache.bookkeeper.client.BookieWatcherImpl.replaceBookie(BookieWatcherImpl.java:289) ~[org.apache.bookkeeper-bookkeeper-server-4.10.0.jar:4.10.0]\r\n\tat org.apache.bookkeeper.client.EnsembleUtils.replaceBookiesInEnsemble(EnsembleUtils.java:71) ~[org.apache.bookkeeper-bookkeeper-server-4.10.0.jar:4.10.0]\r\n\tat org.apache.bookkeeper.client.ReadOnlyLedgerHandle.handleBookieFailure(ReadOnlyLedgerHandle.java:226) ~[org.apache.bookkeeper-bookkeeper-server-4.10.0.jar:4.10.0]\r\n\tat org.apache.bookkeeper.client.PendingAddOp.writeComplete(PendingAddOp.java:377) ~[org.apache.bookkeeper-bookkeeper-server-4.10.0.jar:4.10.0]\r\n\tat org.apache.bookkeeper.proto.BookieClientImpl$1.safeRun(BookieClientImpl.java:292) ~[org.apache.bookkeeper-bookkeeper-server-4.10.0.jar:4.10.0]\r\n\tat org.apache.bookkeeper.common.util.SafeRunnable.run(SafeRunnable.java:36) [org.apache.bookkeeper-bookkeeper-common-4.10.0.jar:4.10.0]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_242]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_242]\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [io.netty-netty-common-4.1.45.Final.jar:4.1.45.Final]\r\n\tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_242]\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/623849407/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/623971007","html_url":"https://github.com/apache/pulsar/issues/4530#issuecomment-623971007","issue_url":"https://api.github.com/repos/apache/pulsar/issues/4530","id":623971007,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMzk3MTAwNw==","user":{"login":"psilos","id":277239,"node_id":"MDQ6VXNlcjI3NzIzOQ==","avatar_url":"https://avatars.githubusercontent.com/u/277239?v=4","gravatar_id":"","url":"https://api.github.com/users/psilos","html_url":"https://github.com/psilos","followers_url":"https://api.github.com/users/psilos/followers","following_url":"https://api.github.com/users/psilos/following{/other_user}","gists_url":"https://api.github.com/users/psilos/gists{/gist_id}","starred_url":"https://api.github.com/users/psilos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psilos/subscriptions","organizations_url":"https://api.github.com/users/psilos/orgs","repos_url":"https://api.github.com/users/psilos/repos","events_url":"https://api.github.com/users/psilos/events{/privacy}","received_events_url":"https://api.github.com/users/psilos/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-05T10:16:25Z","updated_at":"2020-05-05T10:16:25Z","author_association":"NONE","body":"@ambition119 did you find out the root of this issue? I'm getting the same exception now as well","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/623971007/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624002982","html_url":"https://github.com/apache/pulsar/pull/6875#issuecomment-624002982","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6875","id":624002982,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDAwMjk4Mg==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-05T11:37:36Z","updated_at":"2020-05-05T11:37:36Z","author_association":"CONTRIBUTOR","body":"@lukestephenson Thanks for your contribution.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624002982/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624004363","html_url":"https://github.com/apache/pulsar/pull/6877#issuecomment-624004363","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6877","id":624004363,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDAwNDM2Mw==","user":{"login":"liudezhi2098","id":33149602,"node_id":"MDQ6VXNlcjMzMTQ5NjAy","avatar_url":"https://avatars.githubusercontent.com/u/33149602?v=4","gravatar_id":"","url":"https://api.github.com/users/liudezhi2098","html_url":"https://github.com/liudezhi2098","followers_url":"https://api.github.com/users/liudezhi2098/followers","following_url":"https://api.github.com/users/liudezhi2098/following{/other_user}","gists_url":"https://api.github.com/users/liudezhi2098/gists{/gist_id}","starred_url":"https://api.github.com/users/liudezhi2098/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liudezhi2098/subscriptions","organizations_url":"https://api.github.com/users/liudezhi2098/orgs","repos_url":"https://api.github.com/users/liudezhi2098/repos","events_url":"https://api.github.com/users/liudezhi2098/events{/privacy}","received_events_url":"https://api.github.com/users/liudezhi2098/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-05T11:41:17Z","updated_at":"2020-05-05T11:41:17Z","author_association":"CONTRIBUTOR","body":"> Could you help also fix the problem in the standalone.conf?\r\n\r\nOK","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624004363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624007410","html_url":"https://github.com/apache/pulsar/issues/6872#issuecomment-624007410","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6872","id":624007410,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDAwNzQxMA==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-05T11:48:39Z","updated_at":"2020-05-05T11:48:39Z","author_association":"CONTRIBUTOR","body":"@zyllt Looks the problem is related to https://github.com/apache/pulsar/issues/6416 and \r\n @addisonj pushed a PR https://github.com/apache/pulsar/pull/6489 for fixing this problem and released it in version 2.5.1. You can try out 2.5.1 and If you have any news about this issue, we can discuss it here.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624007410/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624090531","html_url":"https://github.com/apache/pulsar/issues/6872#issuecomment-624090531","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6872","id":624090531,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDA5MDUzMQ==","user":{"login":"zyllt","id":8822016,"node_id":"MDQ6VXNlcjg4MjIwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/8822016?v=4","gravatar_id":"","url":"https://api.github.com/users/zyllt","html_url":"https://github.com/zyllt","followers_url":"https://api.github.com/users/zyllt/followers","following_url":"https://api.github.com/users/zyllt/following{/other_user}","gists_url":"https://api.github.com/users/zyllt/gists{/gist_id}","starred_url":"https://api.github.com/users/zyllt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyllt/subscriptions","organizations_url":"https://api.github.com/users/zyllt/orgs","repos_url":"https://api.github.com/users/zyllt/repos","events_url":"https://api.github.com/users/zyllt/events{/privacy}","received_events_url":"https://api.github.com/users/zyllt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-05T14:30:47Z","updated_at":"2020-05-05T14:30:47Z","author_association":"NONE","body":"@codelipenghui  thx,i also think the reason is dangling `ProducerFuture`.I rechecked the log by #6416 and found that the thread outputting `Creating producer` at\r\nhttps://github.com/apache/pulsar/blob/f2afad353795f70c00910b6dcce5df8c62b94a67/pulsar-broker/src/main/java/org/apache/pulsar/broker/service/ServerCnx.java#L900\r\nis not the same as the thread for `Namespace bundle for topic` at \r\nhttps://github.com/apache/pulsar/blob/f2afad353795f70c00910b6dcce5df8c62b94a67/pulsar-broker/src/main/java/org/apache/pulsar/broker/service/BrokerService.java#L1210\r\nwhich makes me confused.\r\n![image](https://user-images.githubusercontent.com/8822016/81077540-ac8e8180-8f1f-11ea-992f-77f818f97147.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624090531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624131492","html_url":"https://github.com/apache/pulsar/issues/5144#issuecomment-624131492","issue_url":"https://api.github.com/repos/apache/pulsar/issues/5144","id":624131492,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDEzMTQ5Mg==","user":{"login":"marinedabare","id":52958291,"node_id":"MDQ6VXNlcjUyOTU4Mjkx","avatar_url":"https://avatars.githubusercontent.com/u/52958291?v=4","gravatar_id":"","url":"https://api.github.com/users/marinedabare","html_url":"https://github.com/marinedabare","followers_url":"https://api.github.com/users/marinedabare/followers","following_url":"https://api.github.com/users/marinedabare/following{/other_user}","gists_url":"https://api.github.com/users/marinedabare/gists{/gist_id}","starred_url":"https://api.github.com/users/marinedabare/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marinedabare/subscriptions","organizations_url":"https://api.github.com/users/marinedabare/orgs","repos_url":"https://api.github.com/users/marinedabare/repos","events_url":"https://api.github.com/users/marinedabare/events{/privacy}","received_events_url":"https://api.github.com/users/marinedabare/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-05T15:40:10Z","updated_at":"2020-05-05T15:40:10Z","author_association":"NONE","body":"Thanks @RAbraham ! For me, it works only with the 3 steps (with openjdk8).","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624131492/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624139824","html_url":"https://github.com/apache/pulsar/issues/6872#issuecomment-624139824","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6872","id":624139824,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDEzOTgyNA==","user":{"login":"addisonj","id":636291,"node_id":"MDQ6VXNlcjYzNjI5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/636291?v=4","gravatar_id":"","url":"https://api.github.com/users/addisonj","html_url":"https://github.com/addisonj","followers_url":"https://api.github.com/users/addisonj/followers","following_url":"https://api.github.com/users/addisonj/following{/other_user}","gists_url":"https://api.github.com/users/addisonj/gists{/gist_id}","starred_url":"https://api.github.com/users/addisonj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/addisonj/subscriptions","organizations_url":"https://api.github.com/users/addisonj/orgs","repos_url":"https://api.github.com/users/addisonj/repos","events_url":"https://api.github.com/users/addisonj/events{/privacy}","received_events_url":"https://api.github.com/users/addisonj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-05T15:54:38Z","updated_at":"2020-05-05T17:27:52Z","author_association":"CONTRIBUTOR","body":"@codelipenghui @zyllt I should update those issues, but will put some context here as well.\r\n\r\nI am still experiencing this same issue with 2.5.1.  I am currently knee deep in trying to track it down. I still see producerFutures that are \"stuck\" and not being cleaned up. ~~From what I can tell, this only occurs if unloads happen in somewhat quick succession, where the producerFuture is not completed before another unload happens OR we are seeing issues with ownership, with multiple brokers have ownership of a bundle (still trying to dig through logs to determine which).~~ EDIT: I had misinterpreted some logs, this is wrong\r\n\r\nRegardless, I think this is exacerbated by certain patterns that cause creation of producers to be delayed or where the number of producers/subscriptions places heavy load on metadata. In my case, I am writing a pulsar source which writes to hundred of different topics but at a somewhat low rate.  ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624139824/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624159046","html_url":"https://github.com/apache/pulsar/issues/6154#issuecomment-624159046","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6154","id":624159046,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDE1OTA0Ng==","user":{"login":"t0gre","id":38429468,"node_id":"MDQ6VXNlcjM4NDI5NDY4","avatar_url":"https://avatars.githubusercontent.com/u/38429468?v=4","gravatar_id":"","url":"https://api.github.com/users/t0gre","html_url":"https://github.com/t0gre","followers_url":"https://api.github.com/users/t0gre/followers","following_url":"https://api.github.com/users/t0gre/following{/other_user}","gists_url":"https://api.github.com/users/t0gre/gists{/gist_id}","starred_url":"https://api.github.com/users/t0gre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/t0gre/subscriptions","organizations_url":"https://api.github.com/users/t0gre/orgs","repos_url":"https://api.github.com/users/t0gre/repos","events_url":"https://api.github.com/users/t0gre/events{/privacy}","received_events_url":"https://api.github.com/users/t0gre/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-05T16:28:33Z","updated_at":"2020-05-05T16:28:33Z","author_association":"NONE","body":"I am having the same (or very similar) issue. The cluster runs fine for a bit and then brokers start failing and refusing connections. If I do a health-check on the broker I get\r\n\r\nAn unexpected error occurred in the server --- Message: org.apache.pulsar.broker.service.BrokerServiceException$PersistenceException: org.apache.bookkeeper.mledger.ManagedLedgerException: Not enough non-faulty bookies available Stacktrace: java.util.concurrent.ExecutionException: org.apache.pulsar.broker.service.BrokerServiceException$PersistenceException: org.apache.bookkeeper.mledger.ManagedLedgerException: Not enough non-faulty bookies available at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357) at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1908) at org.apache.pulsar.broker.admin.impl.BrokersBase.healthcheck(BrokersBase.java:267) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:498) at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:76) at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:148) at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:191) at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$VoidOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:183) at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:103) at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:493) at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:415) at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:104) at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:277) at org.glassfish.jersey.internal.Errors$1.call(Errors.java:272) at org.glassfish.jersey.internal.Errors$1.call(Errors.java:268) at org.glassfish.jersey.internal.Errors.process(Errors.java:316) at org.glassfish.jersey.internal.Errors.process(Errors.java:298) at org.glassfish.jersey.internal.Errors.process(Errors.java:268) at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:289) at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:256) at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:703) at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:416) at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:370) at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:389) at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:342) at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:229) at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:852) at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604) at org.apache.pulsar.broker.web.ResponseHandlerFilter.doFilter(ResponseHandlerFilter.java:53) at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1591) at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:542) at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233) at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1581) at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233) at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1307) at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188) at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:482) at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1549) at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186) at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1204) at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141) at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:221) at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:146) at org.eclipse.jetty.server.handler.StatisticsHandler.handle(StatisticsHandler.java:173) at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127) at org.eclipse.jetty.server.Server.handle(Server.java:494) at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:374) at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:268) at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311) at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103) at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117) at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336) at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313) at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171) at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129) at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:367) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) at java.lang.Thread.run(Thread.java:748) Caused by: org.apache.pulsar.broker.service.BrokerServiceException$PersistenceException: org.apache.bookkeeper.mledger.ManagedLedgerException: Not enough non-faulty bookies available at org.apache.pulsar.broker.service.BrokerService$2.openLedgerFailed(BrokerService.java:895) at org.apache.bookkeeper.mledger.impl.ManagedLedgerFactoryImpl.lambda$asyncOpen$8(ManagedLedgerFactoryImpl.java:343) at java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:884) at java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:866) at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488) at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990) at org.apache.bookkeeper.mledger.impl.ManagedLedgerFactoryImpl$2.initializeFailed(ManagedLedgerFactoryImpl.java:336) at org.apache.bookkeeper.mledger.impl.ManagedLedgerImpl.lambda$null$1(ManagedLedgerImpl.java:402) at org.apache.bookkeeper.mledger.util.SafeRun$1.safeRun(SafeRun.java:32) at org.apache.bookkeeper.common.util.SafeRunnable.run(SafeRunnable.java:36) ... 4 more Caused by: org.apache.bookkeeper.mledger.ManagedLedgerException: Not enough non-faulty bookies available\r\n\r\nI deployed last friday, and then again yesterday, using the latest helm chart","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624159046/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624161086","html_url":"https://github.com/apache/pulsar/pull/6878#issuecomment-624161086","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6878","id":624161086,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDE2MTA4Ng==","user":{"login":"vzhikserg","id":7816474,"node_id":"MDQ6VXNlcjc4MTY0NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7816474?v=4","gravatar_id":"","url":"https://api.github.com/users/vzhikserg","html_url":"https://github.com/vzhikserg","followers_url":"https://api.github.com/users/vzhikserg/followers","following_url":"https://api.github.com/users/vzhikserg/following{/other_user}","gists_url":"https://api.github.com/users/vzhikserg/gists{/gist_id}","starred_url":"https://api.github.com/users/vzhikserg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vzhikserg/subscriptions","organizations_url":"https://api.github.com/users/vzhikserg/orgs","repos_url":"https://api.github.com/users/vzhikserg/repos","events_url":"https://api.github.com/users/vzhikserg/events{/privacy}","received_events_url":"https://api.github.com/users/vzhikserg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-05T16:32:22Z","updated_at":"2020-05-05T16:32:22Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624161086/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624184445","html_url":"https://github.com/apache/pulsar/pull/6874#issuecomment-624184445","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6874","id":624184445,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDE4NDQ0NQ==","user":{"login":"maths22","id":3067361,"node_id":"MDQ6VXNlcjMwNjczNjE=","avatar_url":"https://avatars.githubusercontent.com/u/3067361?v=4","gravatar_id":"","url":"https://api.github.com/users/maths22","html_url":"https://github.com/maths22","followers_url":"https://api.github.com/users/maths22/followers","following_url":"https://api.github.com/users/maths22/following{/other_user}","gists_url":"https://api.github.com/users/maths22/gists{/gist_id}","starred_url":"https://api.github.com/users/maths22/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maths22/subscriptions","organizations_url":"https://api.github.com/users/maths22/orgs","repos_url":"https://api.github.com/users/maths22/repos","events_url":"https://api.github.com/users/maths22/events{/privacy}","received_events_url":"https://api.github.com/users/maths22/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-05T17:09:12Z","updated_at":"2020-05-05T17:09:12Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624184445/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624204832","html_url":"https://github.com/apache/pulsar/issues/6872#issuecomment-624204832","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6872","id":624204832,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDIwNDgzMg==","user":{"login":"addisonj","id":636291,"node_id":"MDQ6VXNlcjYzNjI5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/636291?v=4","gravatar_id":"","url":"https://api.github.com/users/addisonj","html_url":"https://github.com/addisonj","followers_url":"https://api.github.com/users/addisonj/followers","following_url":"https://api.github.com/users/addisonj/following{/other_user}","gists_url":"https://api.github.com/users/addisonj/gists{/gist_id}","starred_url":"https://api.github.com/users/addisonj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/addisonj/subscriptions","organizations_url":"https://api.github.com/users/addisonj/orgs","repos_url":"https://api.github.com/users/addisonj/repos","events_url":"https://api.github.com/users/addisonj/events{/privacy}","received_events_url":"https://api.github.com/users/addisonj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-05T17:42:47Z","updated_at":"2020-05-05T17:42:47Z","author_association":"CONTRIBUTOR","body":"Okay, I have logs that I think show what is exactly going on here, this is a sample from a single broker for a single topic that illustrates the problem:\r\n\r\n```\r\n[persistent://canvas-cdc/prod-iad/cluster96-canvas.cluster44_shard_14377.assessment_question_banks-partition-0] Unloading topic\r\nDisconnecting producer: Producer{topic=PersistentTopic{topic=persistent://canvas-cdc/prod-iad/cluster96-canvas.cluster44_shard_14377.assessment_question_banks-partition-0}, client=/10.9.26.114:53504, producerName=pulsar-prod-iad-418-15948, producerId=69}\r\n[/10.9.26.114:53504][persistent://canvas-cdc/prod-iad/cluster96-canvas.cluster44_shard_14377.assessment_question_banks-partition-0] Creating producer. producerId=69\r\n[persistent://canvas-cdc/prod-iad/cluster96-canvas.cluster44_shard_14377.assessment_question_banks-partition-0] Topic closed\r\n[/10.9.26.114:53504] persistent://canvas-cdc/prod-iad/cluster96-canvas.cluster44_shard_14377.assessment_question_banks-partition-0 configured with schema false\r\nNamespace bundle for topic (persistent://canvas-cdc/prod-iad/cluster96-canvas.cluster44_shard_14377.assessment_question_banks-partition-0) not served by this instance. Please redo the lookup. Request is denied: namespace=canvas-cdc/prod-iad\r\n```\r\nThe most interesting bit here is that a producer is re-created after the topic starts unloading and is able to proceed down to where it tries to load a schema (which indicates it was able to load the topic)\r\n\r\nOn the client, we see the following:\r\n\r\n```\r\n[persistent://canvas-cdc/prod-iad/cluster96-canvas.cluster44_shard_14377.assessment_question_banks-partition-0] [pulsar-prod-iad-418-15948] Creating producer on cnx [id: 0xfe4078a0, L:/10.9.26.114:53504 - R:pulsar-prod-broker-4.pulsar-prod-broker.pulsar.svc.cluster.local/10.9.62.180:6651]\r\n[persistent://canvas-cdc/prod-iad/cluster96-canvas.cluster44_shard_14377.assessment_question_banks-partition-0] [pulsar-prod-iad-418-15948] Failed to create producer: 164795 lookup request timedout after ms 30000\r\n```\r\n\r\nAfter the lookup timeout, the client retries, which now properly gets routed to the new broker, and succeeds.\r\n\r\nHowever, some hours later, after the topic is getting reloaded back onto the same broker, the very first message we see, even before a ledger is opened is the following:\r\n\r\n```\r\n[/10.9.26.114:53504][69] Producer with id persistent://canvas-cdc/prod-iad/cluster96-canvas.cluster44_shard_14377.assessment_question_banks-partition-0 is already present on the connection\r\n```\r\n\r\nFrom these logs and the code we can assuming the following:\r\n1. the topic starts unloading\r\n2. during unload, the producer quickly tries to reconnect. It does so and is NOT rejected, and is able to get through all this chunk of code:\r\nhttps://github.com/apache/pulsar/blob/f2afad353795f70c00910b6dcce5df8c62b94a67/pulsar-broker/src/main/java/org/apache/pulsar/broker/service/ServerCnx.java#L902-L945\r\n3. It calls into `topics.addProducer` which rechecks the namespace ownership. This throws a RuntimeException (at https://github.com/apache/pulsar/blob/f2afad353795f70c00910b6dcce5df8c62b94a67/pulsar-broker/src/main/java/org/apache/pulsar/broker/service/BrokerService.java#L1211) , however in https://github.com/apache/pulsar/blob/f2afad353795f70c00910b6dcce5df8c62b94a67/pulsar-broker/src/main/java/org/apache/pulsar/broker/service/ServerCnx.java#L971 we ONLY catch a BrokerServiceException, since the exception is un-handled, it also doesn't hit the final chunk to remove the producer\r\n4. the client times out as it never gets a response and the producer just stays in the cache","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624204832/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624204982","html_url":"https://github.com/apache/pulsar/issues/6872#issuecomment-624204982","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6872","id":624204982,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDIwNDk4Mg==","user":{"login":"addisonj","id":636291,"node_id":"MDQ6VXNlcjYzNjI5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/636291?v=4","gravatar_id":"","url":"https://api.github.com/users/addisonj","html_url":"https://github.com/addisonj","followers_url":"https://api.github.com/users/addisonj/followers","following_url":"https://api.github.com/users/addisonj/following{/other_user}","gists_url":"https://api.github.com/users/addisonj/gists{/gist_id}","starred_url":"https://api.github.com/users/addisonj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/addisonj/subscriptions","organizations_url":"https://api.github.com/users/addisonj/orgs","repos_url":"https://api.github.com/users/addisonj/repos","events_url":"https://api.github.com/users/addisonj/events{/privacy}","received_events_url":"https://api.github.com/users/addisonj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-05T17:43:05Z","updated_at":"2020-05-05T17:43:05Z","author_association":"CONTRIBUTOR","body":"Now that I see the real problem here I think i can get a patch in real quick\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624204982/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624211084","html_url":"https://github.com/apache/pulsar/issues/6154#issuecomment-624211084","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6154","id":624211084,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDIxMTA4NA==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-05T17:54:57Z","updated_at":"2020-05-05T17:54:57Z","author_association":"MEMBER","body":"@tomgreenwood1 \r\n\r\n> Not enough non-faulty bookies available\r\n\r\nIt usually means that there are not enough bookies available. Can you confirm the followings:\r\n\r\n- Can you use `kubectl` to check if you have enough bookies available? How many bookies are you running and what is the ensemble size configured?\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624211084/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624212268","html_url":"https://github.com/apache/pulsar/pull/6874#issuecomment-624212268","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6874","id":624212268,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDIxMjI2OA==","user":{"login":"maths22","id":3067361,"node_id":"MDQ6VXNlcjMwNjczNjE=","avatar_url":"https://avatars.githubusercontent.com/u/3067361?v=4","gravatar_id":"","url":"https://api.github.com/users/maths22","html_url":"https://github.com/maths22","followers_url":"https://api.github.com/users/maths22/followers","following_url":"https://api.github.com/users/maths22/following{/other_user}","gists_url":"https://api.github.com/users/maths22/gists{/gist_id}","starred_url":"https://api.github.com/users/maths22/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maths22/subscriptions","organizations_url":"https://api.github.com/users/maths22/orgs","repos_url":"https://api.github.com/users/maths22/repos","events_url":"https://api.github.com/users/maths22/events{/privacy}","received_events_url":"https://api.github.com/users/maths22/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-05T17:57:13Z","updated_at":"2020-05-05T17:57:13Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624212268/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624213250","html_url":"https://github.com/apache/pulsar/issues/6154#issuecomment-624213250","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6154","id":624213250,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDIxMzI1MA==","user":{"login":"Lanayx","id":3329606,"node_id":"MDQ6VXNlcjMzMjk2MDY=","avatar_url":"https://avatars.githubusercontent.com/u/3329606?v=4","gravatar_id":"","url":"https://api.github.com/users/Lanayx","html_url":"https://github.com/Lanayx","followers_url":"https://api.github.com/users/Lanayx/followers","following_url":"https://api.github.com/users/Lanayx/following{/other_user}","gists_url":"https://api.github.com/users/Lanayx/gists{/gist_id}","starred_url":"https://api.github.com/users/Lanayx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Lanayx/subscriptions","organizations_url":"https://api.github.com/users/Lanayx/orgs","repos_url":"https://api.github.com/users/Lanayx/repos","events_url":"https://api.github.com/users/Lanayx/events{/privacy}","received_events_url":"https://api.github.com/users/Lanayx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-05T17:59:06Z","updated_at":"2020-05-05T17:59:06Z","author_association":"CONTRIBUTOR","body":"@tomgreenwood1 I suspect that your case is different, `Not enough non-faulty bookies available` tells that bookies are not healthy rather than connection fails","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624213250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624223650","html_url":"https://github.com/apache/pulsar/issues/6154#issuecomment-624223650","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6154","id":624223650,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDIyMzY1MA==","user":{"login":"t0gre","id":38429468,"node_id":"MDQ6VXNlcjM4NDI5NDY4","avatar_url":"https://avatars.githubusercontent.com/u/38429468?v=4","gravatar_id":"","url":"https://api.github.com/users/t0gre","html_url":"https://github.com/t0gre","followers_url":"https://api.github.com/users/t0gre/followers","following_url":"https://api.github.com/users/t0gre/following{/other_user}","gists_url":"https://api.github.com/users/t0gre/gists{/gist_id}","starred_url":"https://api.github.com/users/t0gre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/t0gre/subscriptions","organizations_url":"https://api.github.com/users/t0gre/orgs","repos_url":"https://api.github.com/users/t0gre/repos","events_url":"https://api.github.com/users/t0gre/events{/privacy}","received_events_url":"https://api.github.com/users/t0gre/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-05T18:18:39Z","updated_at":"2020-05-05T18:18:39Z","author_association":"NONE","body":"kubectl seemed to think that all the bookies were healthy, that's the strange thing. kuberenetes dashboard was all green for pulsar. I went with the official helm chart default, which I think is 3? It seemed to be triggered by me scaling up some other pods I had on the cluster.. but that could be a coincidence. I'm re-deploying again now, so I can gather more bookie logs if that would help? It's happened twice so far, and both times seems to be trigger by me scaling up/out my application pods..  One other thing I realised I that I hadn't been closing client connections properly in client code, and I was getting a lot of error messages from the clients about stale connections, already deleted connections..","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624223650/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624284428","html_url":"https://github.com/apache/pulsar/issues/6880#issuecomment-624284428","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6880","id":624284428,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDI4NDQyOA==","user":{"login":"sandeep-kotagiri","id":9256320,"node_id":"MDQ6VXNlcjkyNTYzMjA=","avatar_url":"https://avatars.githubusercontent.com/u/9256320?v=4","gravatar_id":"","url":"https://api.github.com/users/sandeep-kotagiri","html_url":"https://github.com/sandeep-kotagiri","followers_url":"https://api.github.com/users/sandeep-kotagiri/followers","following_url":"https://api.github.com/users/sandeep-kotagiri/following{/other_user}","gists_url":"https://api.github.com/users/sandeep-kotagiri/gists{/gist_id}","starred_url":"https://api.github.com/users/sandeep-kotagiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sandeep-kotagiri/subscriptions","organizations_url":"https://api.github.com/users/sandeep-kotagiri/orgs","repos_url":"https://api.github.com/users/sandeep-kotagiri/repos","events_url":"https://api.github.com/users/sandeep-kotagiri/events{/privacy}","received_events_url":"https://api.github.com/users/sandeep-kotagiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-05T20:19:50Z","updated_at":"2020-05-05T20:23:31Z","author_association":"NONE","body":"I had a chance to look at the broker logs once again after restarting all broker per my instructions above. \r\n\r\nIt does look like there is an attempt to re-create the function with the correct Broker pod IP Address. However, since a Statefulset with the same name exists, creation of the new Statefulset fails with a WARN message. \r\n\r\n17:37:01.420 [main] INFO  org.apache.pulsar.client.impl.ConsumerImpl - [persistent://public/functions/assignments][reader-6eff432ebd] Get topic last message Id\r\n17:37:01.430 [pulsar-client-io-51-1] INFO  org.apache.pulsar.client.impl.ConsumerImpl - [persistent://public/functions/assignments][reader-6eff432ebd] Successfully getLastMessageId 82:0\r\n17:37:01.431 [main] INFO  org.apache.pulsar.functions.worker.FunctionAssignmentTailer - Received assignment update: instance {\r\n  functionMetaData {\r\n    functionDetails {\r\n      tenant: \"public\"\r\n      namespace: \"default\"\r\n      name: \"first-function\"\r\n      className: \"org.apache.pulsar.functions.api.examples.ExclamationFunction\"\r\n      autoAck: true\r\n      parallelism: 1\r\n      source {\r\n        typeClassName: \"java.lang.String\"\r\n        inputSpecs {\r\n          key: \"persistent://public/default/topicAIn\"\r\n          value {\r\n          }\r\n        }\r\n        cleanupSubscription: true\r\n      }\r\n      sink {\r\n        topic: \"persistent://public/default/topicAOut\"\r\n        typeClassName: \"java.lang.String\"\r\n      }\r\n      resources {\r\n        cpu: 1.0\r\n        ram: 1073741824\r\n        disk: 10737418240\r\n      }\r\n      componentType: FUNCTION\r\n      customRuntimeOptions: \"{\\\"cosoDataVolumeClaim\\\":\\\"helm-data-vol\\\",\\\"cosoDataVolume\\\":\\\"coso-functions\\\"}\"\r\n    }\r\n    packageLocation {\r\n      packagePath: \"public/default/first-function/9f17b0ae-bf92-47ae-aa9a-fad94cf6dc45-api-examples.jar\"\r\n      originalFileName: \"api-examples.jar\"\r\n    }\r\n    createTime: 1588699700863\r\n  }\r\n  instanceId: -1\r\n}\r\nworkerId: \"c-itomdipulsar-fw-172.16.17.183-8080\"\r\n\r\n17:37:01.664 [main] INFO  org.apache.pulsar.client.impl.ConsumerImpl - [persistent://public/functions/assignments][reader-6eff432ebd] Get topic last message Id\r\n17:37:01.676 [pulsar-client-io-51-1] INFO  org.apache.pulsar.client.impl.ConsumerImpl - [persistent://public/functions/assignments][reader-6eff432ebd] Successfully getLastMessageId 82:0\r\n17:37:01.683 [main] INFO  org.apache.pulsar.functions.worker.FunctionRuntimeManager - infos: {}\r\n17:37:01.684 [main] INFO  org.apache.pulsar.functions.worker.FunctionActioner - public/default/first-function--1 Starting function ...\r\n17:37:01.693 [main] INFO  org.apache.pulsar.functions.runtime.RuntimeSpawner - public/default/first-function--1 RuntimeSpawner starting function\r\n17:37:01.776 [main] INFO  org.apache.pulsar.functions.runtime.kubernetes.KubernetesRuntime - Submitting the following service to k8 {\"metadata\":{\"labels\":{\"component\":\"function\",\"namespace\":\"default\",\"name\":\"first-function\",\"tenant\":\"public\"},\"name\":\"pf-public-default-first-function\",\"namespace\":\"sandeep-sandbox\"},\"spec\":{\"clusterIP\":\"None\",\"ports\":[{\"name\":\"grpc\",\"port\":9093,\"protocol\":\"TCP\"}],\"selector\":{\"component\":\"function\",\"namespace\":\"default\",\"name\":\"first-function\",\"tenant\":\"public\"}}}\r\n17:37:02.041 [main] WARN  org.apache.pulsar.functions.runtime.kubernetes.KubernetesRuntime - Service already present for function public/default/first-function\r\n17:37:02.055 [main] INFO  org.apache.pulsar.functions.utils.Actions - Sucessfully completed action [ Submitting service for function public/default/first-function ]\r\n17:37:02.196 [main] INFO  org.apache.pulsar.functions.runtime.kubernetes.KubernetesRuntime - Submitting the following spec to k8 {\"metadata\":{\"labels\":{\"app\":\"itomdipulsar\",\"component\":\"function\",\"app.kubernetes.io/managed-by\":\"pulsar\",\"app.kubernetes.io/name\":\"itomdipulsar\",\"release\":\"pulsar\",\"namespace\":\"default\",\"name\":\"first-function\",\"heritage\":\"Helm\",\"tire.backend\":\"backend\",\"capability\":\"pulsar\",\"tenant\":\"public\",\"app.kubernetes.io/version\":\"2.5.1-97\"},\"name\":\"pf-public-default-first-function\",\"namespace\":\"sandeep-sandbox\"},\"spec\":{\"podManagementPolicy\":\"Parallel\",\"replicas\":1,\"selector\":{\"matchLabels\":{\"component\":\"function\",\"namespace\":\"default\",\"name\":\"first-function\",\"tenant\":\"public\"}},\"serviceName\":\"pf-public-default-first-function\",\"template\":{\"metadata\":{\"annotations\":{\"pod.boostport.com/vault-approle\":\"sandeep-sandbox-default\",\"prometheus.io/port\":\"9094\",\"pod.boostport.com/vault-init-container\":\"generate-certificates\",\"prometheus.io/scrape\":\"true\"},\"labels\":{\"app\":\"itomdipulsar\",\"component\":\"function\",\"app.kubernetes.io/managed-by\":\"pulsar\",\"app.kubernetes.io/name\":\"itomdipulsar\",\"namespace\":\"default\",\"name\":\"first-function\",\"tenant\":\"public\"}},\"spec\":{\"containers\":[{\"image\":\"localhost:5000/hpeswitom/kubernetes-vault-renew:0.9.0-002\",\"imagePullPolicy\":\"IfNotPresent\",\"name\":\"certificate-renew\",\"resources\":{},\"terminationMessagePath\":\"/dev/termination-log\",\"terminationMessagePolicy\":\"File\",\"volumeMounts\":[{\"mountPath\":\"/var/run/secrets/boostport.com\",\"name\":\"vault-token\"}]},{\"command\":[\"sh\",\"-c\",\"mkdir /pulsar/conf \\u0026\\u0026 cp -R /pulsar/stage-conf/* /pulsar/conf/ \\u0026\\u0026 source /pulsar/bin/mcf-pulsar-init.sh \\u0026\\u0026 /pulsar/bin/apply-config-from-env.py /pulsar/conf/client.conf \\u0026\\u0026 /pulsar/bin/pulsar-admin --admin-url https://172.16.17.183:8443 functions download --tenant public --namespace default --name first-function --destination-file /pulsar/api-examples.jar \\u0026\\u0026 SHARD_ID\\u003d${POD_NAME##*-} \\u0026\\u0026 echo shardId\\u003d${SHARD_ID} \\u0026\\u0026 exec java -cp /pulsar/instances/java-instance.jar:/pulsar/instances/deps/* -Dpulsar.functions.extra.dependencies.dir\\u003d/pulsar/instances/deps -Dpulsar.functions.instance.classpath\\u003d/pulsar/conf:::/pulsar/lib/*: -Dlog4j.configurationFile\\u003dkubernetes_instance_log4j2.xml -Dpulsar.function.log.dir\\u003dlogs/functions/public/default/first-function -Dpulsar.function.log.file\\u003dfirst-function-$SHARD_ID -Xmx1073741824 org.apache.pulsar.functions.instance.JavaInstanceMain --jar /pulsar/api-examples.jar --instance_id $SHARD_ID --function_id 02eef5d3-7da5-4e08-badc-7d4da40f3cd0 --function_version b4df2772-328c-413c-9874-40d5416b44de --function_details \\u0027{\\\"tenant\\\":\\\"public\\\",\\\"namespace\\\":\\\"default\\\",\\\"name\\\":\\\"first-function\\\",\\\"className\\\":\\\"org.apache.pulsar.functions.api.examples.ExclamationFunction\\\",\\\"autoAck\\\":true,\\\"parallelism\\\":1,\\\"source\\\":{\\\"typeClassName\\\":\\\"java.lang.String\\\",\\\"inputSpecs\\\":{\\\"persistent://public/default/topicAIn\\\":{}},\\\"cleanupSubscription\\\":true},\\\"sink\\\":{\\\"topic\\\":\\\"persistent://public/default/topicAOut\\\",\\\"typeClassName\\\":\\\"java.lang.String\\\"},\\\"resources\\\":{\\\"cpu\\\":1.0,\\\"ram\\\":\\\"1073741824\\\",\\\"disk\\\":\\\"10737418240\\\"},\\\"componentType\\\":\\\"FUNCTION\\\",\\\"customRuntimeOptions\\\":\\\"{\\\\\\\"cosoDataVolumeClaim\\\\\\\":\\\\\\\"helm-data-vol\\\\\\\",\\\\\\\"cosoDataVolume\\\\\\\":\\\\\\\"coso-functions\\\\\\\"}\\\"}\\u0027 --pulsar_serviceurl pulsar+ssl://172.16.17.183:6651 --client_auth_plugin org.apache.pulsar.client.impl.auth.AuthenticationTls --client_auth_params tlsCertFile:/var/run/secrets/boostport.com/server.crt,tlsKeyFile:/var/run/secrets/boostport.com/server.key --use_tls true --tls_allow_insecure false --hostname_verification_enabled false --tls_trust_cert_path /var/run/secrets/boostport.com/trustedCAs/RID_ca.crt --max_buffered_tuples 1024 --port 9093 --metrics_port 9094 --state_storage_serviceurl bk://itomdipulsar-bookkeeper:4181 --expected_healthcheck_interval -1 --secrets_provider org.apache.pulsar.functions.secretsprovider.ClearTextSecretsProvider --cluster_name itomdipulsar\"],\"env\":[{\"name\":\"POD_NAME\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"metadata.name\"}}}],\"envFrom\":[{\"configMapRef\":{\"name\":\"itomdipulsar-broker\"}}],\"image\":\"localhost:5000/hpeswitom/itom-pulsar-core:2.5.1-97\",\"imagePullPolicy\":\"Always\",\"name\":\"pulsarfunction\",\"ports\":[{\"containerPort\":9093,\"name\":\"grpc\"}],\"resources\":{\"limits\":{\"memory\":\"1181116006\",\"cpu\":\"1\"},\"requests\":{\"memory\":\"1181116006\",\"cpu\":\"1\"}},\"volumeMounts\":[{\"mountPath\":\"/var/run/secrets/boostport.com\",\"name\":\"vault-token\"},{\"mountPath\":\"first-function\",\"name\":\"cosodata\",\"subPath\":\"coso-functions/public/default\"}]}],\"dnsPolicy\":\"ClusterFirst\",\"initContainers\":[{\"env\":[{\"name\":\"CERT_COMMON_NAME\",\"value\":\"itomdipulsar-broker\"}],\"image\":\"localhost:5000/hpeswitom/kubernetes-vault-init:0.9.0-002\",\"imagePullPolicy\":\"IfNotPresent\",\"name\":\"generate-certificates\",\"resources\":{},\"terminationMessagePath\":\"/dev/termination-log\",\"terminationMessagePolicy\":\"File\",\"volumeMounts\":[{\"mountPath\":\"/var/run/secrets/boostport.com\",\"name\":\"vault-token\"}]}],\"terminationGracePeriodSeconds\":0,\"tolerations\":[{\"effect\":\"NoExecute\",\"key\":\"node.kubernetes.io/not-ready\",\"operator\":\"Exists\",\"tolerationSeconds\":10},{\"effect\":\"NoExecute\",\"key\":\"node.alpha.kubernetes.io/notReady\",\"operator\":\"Exists\",\"tolerationSeconds\":10},{\"effect\":\"NoExecute\",\"key\":\"node.alpha.kubernetes.io/unreachable\",\"operator\":\"Exists\",\"tolerationSeconds\":10}],\"volumes\":[{\"emptyDir\":{},\"name\":\"vault-token\"},{\"name\":\"cosodata\",\"persistentVolumeClaim\":{\"claimName\":\"helm-data-vol\"}}]}}}}\r\n17:37:02.218 [main] WARN  org.apache.pulsar.functions.runtime.kubernetes.KubernetesRuntime - Statefulset already present for function public/default/first-function","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624284428/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624288649","html_url":"https://github.com/apache/pulsar/pull/6801#issuecomment-624288649","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6801","id":624288649,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDI4ODY0OQ==","user":{"login":"addisonj","id":636291,"node_id":"MDQ6VXNlcjYzNjI5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/636291?v=4","gravatar_id":"","url":"https://api.github.com/users/addisonj","html_url":"https://github.com/addisonj","followers_url":"https://api.github.com/users/addisonj/followers","following_url":"https://api.github.com/users/addisonj/following{/other_user}","gists_url":"https://api.github.com/users/addisonj/gists{/gist_id}","starred_url":"https://api.github.com/users/addisonj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/addisonj/subscriptions","organizations_url":"https://api.github.com/users/addisonj/orgs","repos_url":"https://api.github.com/users/addisonj/repos","events_url":"https://api.github.com/users/addisonj/events{/privacy}","received_events_url":"https://api.github.com/users/addisonj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-05T20:28:43Z","updated_at":"2020-05-05T20:28:43Z","author_association":"CONTRIBUTOR","body":"@sijie I reworked this a fair bit and also expanded scope so you can get the prometheus metrics","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624288649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624296318","html_url":"https://github.com/apache/pulsar/pull/6750#issuecomment-624296318","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6750","id":624296318,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDI5NjMxOA==","user":{"login":"addisonj","id":636291,"node_id":"MDQ6VXNlcjYzNjI5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/636291?v=4","gravatar_id":"","url":"https://api.github.com/users/addisonj","html_url":"https://github.com/addisonj","followers_url":"https://api.github.com/users/addisonj/followers","following_url":"https://api.github.com/users/addisonj/following{/other_user}","gists_url":"https://api.github.com/users/addisonj/gists{/gist_id}","starred_url":"https://api.github.com/users/addisonj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/addisonj/subscriptions","organizations_url":"https://api.github.com/users/addisonj/orgs","repos_url":"https://api.github.com/users/addisonj/repos","events_url":"https://api.github.com/users/addisonj/events{/privacy}","received_events_url":"https://api.github.com/users/addisonj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-05T20:45:16Z","updated_at":"2020-05-05T20:45:16Z","author_association":"CONTRIBUTOR","body":"@sijie @codelipenghui added the option, let me know if there is anything else!","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624296318/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624307856","html_url":"https://github.com/apache/pulsar/pull/6881#issuecomment-624307856","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6881","id":624307856,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDMwNzg1Ng==","user":{"login":"addisonj","id":636291,"node_id":"MDQ6VXNlcjYzNjI5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/636291?v=4","gravatar_id":"","url":"https://api.github.com/users/addisonj","html_url":"https://github.com/addisonj","followers_url":"https://api.github.com/users/addisonj/followers","following_url":"https://api.github.com/users/addisonj/following{/other_user}","gists_url":"https://api.github.com/users/addisonj/gists{/gist_id}","starred_url":"https://api.github.com/users/addisonj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/addisonj/subscriptions","organizations_url":"https://api.github.com/users/addisonj/orgs","repos_url":"https://api.github.com/users/addisonj/repos","events_url":"https://api.github.com/users/addisonj/events{/privacy}","received_events_url":"https://api.github.com/users/addisonj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-05T21:10:01Z","updated_at":"2020-05-05T21:10:01Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624307856/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624308318","html_url":"https://github.com/apache/pulsar/pull/6801#issuecomment-624308318","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6801","id":624308318,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDMwODMxOA==","user":{"login":"addisonj","id":636291,"node_id":"MDQ6VXNlcjYzNjI5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/636291?v=4","gravatar_id":"","url":"https://api.github.com/users/addisonj","html_url":"https://github.com/addisonj","followers_url":"https://api.github.com/users/addisonj/followers","following_url":"https://api.github.com/users/addisonj/following{/other_user}","gists_url":"https://api.github.com/users/addisonj/gists{/gist_id}","starred_url":"https://api.github.com/users/addisonj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/addisonj/subscriptions","organizations_url":"https://api.github.com/users/addisonj/orgs","repos_url":"https://api.github.com/users/addisonj/repos","events_url":"https://api.github.com/users/addisonj/events{/privacy}","received_events_url":"https://api.github.com/users/addisonj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-05T21:11:00Z","updated_at":"2020-05-05T21:11:00Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624308318/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624326475","html_url":"https://github.com/apache/pulsar/pull/6801#issuecomment-624326475","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6801","id":624326475,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDMyNjQ3NQ==","user":{"login":"addisonj","id":636291,"node_id":"MDQ6VXNlcjYzNjI5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/636291?v=4","gravatar_id":"","url":"https://api.github.com/users/addisonj","html_url":"https://github.com/addisonj","followers_url":"https://api.github.com/users/addisonj/followers","following_url":"https://api.github.com/users/addisonj/following{/other_user}","gists_url":"https://api.github.com/users/addisonj/gists{/gist_id}","starred_url":"https://api.github.com/users/addisonj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/addisonj/subscriptions","organizations_url":"https://api.github.com/users/addisonj/orgs","repos_url":"https://api.github.com/users/addisonj/repos","events_url":"https://api.github.com/users/addisonj/events{/privacy}","received_events_url":"https://api.github.com/users/addisonj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-05T21:52:56Z","updated_at":"2020-05-05T21:52:56Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624326475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624326582","html_url":"https://github.com/apache/pulsar/pull/6750#issuecomment-624326582","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6750","id":624326582,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDMyNjU4Mg==","user":{"login":"addisonj","id":636291,"node_id":"MDQ6VXNlcjYzNjI5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/636291?v=4","gravatar_id":"","url":"https://api.github.com/users/addisonj","html_url":"https://github.com/addisonj","followers_url":"https://api.github.com/users/addisonj/followers","following_url":"https://api.github.com/users/addisonj/following{/other_user}","gists_url":"https://api.github.com/users/addisonj/gists{/gist_id}","starred_url":"https://api.github.com/users/addisonj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/addisonj/subscriptions","organizations_url":"https://api.github.com/users/addisonj/orgs","repos_url":"https://api.github.com/users/addisonj/repos","events_url":"https://api.github.com/users/addisonj/events{/privacy}","received_events_url":"https://api.github.com/users/addisonj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-05T21:53:11Z","updated_at":"2020-05-05T21:53:11Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624326582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624368395","html_url":"https://github.com/apache/pulsar/pull/6870#issuecomment-624368395","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6870","id":624368395,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDM2ODM5NQ==","user":{"login":"KannarFr","id":7518245,"node_id":"MDQ6VXNlcjc1MTgyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/7518245?v=4","gravatar_id":"","url":"https://api.github.com/users/KannarFr","html_url":"https://github.com/KannarFr","followers_url":"https://api.github.com/users/KannarFr/followers","following_url":"https://api.github.com/users/KannarFr/following{/other_user}","gists_url":"https://api.github.com/users/KannarFr/gists{/gist_id}","starred_url":"https://api.github.com/users/KannarFr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KannarFr/subscriptions","organizations_url":"https://api.github.com/users/KannarFr/orgs","repos_url":"https://api.github.com/users/KannarFr/repos","events_url":"https://api.github.com/users/KannarFr/events{/privacy}","received_events_url":"https://api.github.com/users/KannarFr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-06T00:02:42Z","updated_at":"2020-05-06T00:02:42Z","author_association":"CONTRIBUTOR","body":"@sijie can you review it? Do it cover all cases?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624368395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624397523","html_url":"https://github.com/apache/pulsar/pull/6758#issuecomment-624397523","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6758","id":624397523,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDM5NzUyMw==","user":{"login":"zplinuxlover","id":23027077,"node_id":"MDQ6VXNlcjIzMDI3MDc3","avatar_url":"https://avatars.githubusercontent.com/u/23027077?v=4","gravatar_id":"","url":"https://api.github.com/users/zplinuxlover","html_url":"https://github.com/zplinuxlover","followers_url":"https://api.github.com/users/zplinuxlover/followers","following_url":"https://api.github.com/users/zplinuxlover/following{/other_user}","gists_url":"https://api.github.com/users/zplinuxlover/gists{/gist_id}","starred_url":"https://api.github.com/users/zplinuxlover/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zplinuxlover/subscriptions","organizations_url":"https://api.github.com/users/zplinuxlover/orgs","repos_url":"https://api.github.com/users/zplinuxlover/repos","events_url":"https://api.github.com/users/zplinuxlover/events{/privacy}","received_events_url":"https://api.github.com/users/zplinuxlover/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-06T01:29:35Z","updated_at":"2020-05-06T01:29:35Z","author_association":"CONTRIBUTOR","body":"/pulsarbot run-failure-checks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624397523/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624401104","html_url":"https://github.com/apache/pulsar/issues/6850#issuecomment-624401104","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6850","id":624401104,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDQwMTEwNA==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-06T01:46:00Z","updated_at":"2020-05-06T01:46:00Z","author_association":"MEMBER","body":"@rueian @MarvinCai I think the change is related to: https://github.com/apache/pulsar/blob/master/conf/bkenv.sh#L36\r\n\r\nYou might need to add both `BOOKIE_ME` and `PULSAR_ME` to make it work. (https://github.com/apache/pulsar/blob/master/conf/bkenv.sh#L36)\r\n\r\nAlso I think we have removed the out-of-date kubernetes deployment scripts and the documentation. But it seems that 2.5.1 brought the documentation back. We need to fix the documentation issue.\r\n\r\nAt the same time, please follow the latest helm documentation for installing Pulsar on Kubernetes.\r\nhttps://pulsar.apache.org/docs/en/next/kubernetes-helm/\r\nhttps://pulsar.apache.org/docs/en/next/helm-overview/\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624401104/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624402872","html_url":"https://github.com/apache/pulsar/issues/6858#issuecomment-624402872","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6858","id":624402872,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDQwMjg3Mg==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-06T01:54:08Z","updated_at":"2020-05-06T01:54:08Z","author_association":"MEMBER","body":"@tuteng I remembered that we fix the protobuf generation issue in 2.5.1. Can you take a look at why this issue still happens in 2.5.1?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624402872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624403084","html_url":"https://github.com/apache/pulsar/issues/6864#issuecomment-624403084","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6864","id":624403084,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDQwMzA4NA==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-06T01:55:07Z","updated_at":"2020-05-06T01:55:07Z","author_association":"MEMBER","body":"@phemmer are you using cgo or native-go client?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624403084/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624406102","html_url":"https://github.com/apache/pulsar/pull/6870#issuecomment-624406102","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6870","id":624406102,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDQwNjEwMg==","user":{"login":"jiazhai","id":6348208,"node_id":"MDQ6VXNlcjYzNDgyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/6348208?v=4","gravatar_id":"","url":"https://api.github.com/users/jiazhai","html_url":"https://github.com/jiazhai","followers_url":"https://api.github.com/users/jiazhai/followers","following_url":"https://api.github.com/users/jiazhai/following{/other_user}","gists_url":"https://api.github.com/users/jiazhai/gists{/gist_id}","starred_url":"https://api.github.com/users/jiazhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiazhai/subscriptions","organizations_url":"https://api.github.com/users/jiazhai/orgs","repos_url":"https://api.github.com/users/jiazhai/repos","events_url":"https://api.github.com/users/jiazhai/events{/privacy}","received_events_url":"https://api.github.com/users/jiazhai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-06T02:09:21Z","updated_at":"2020-05-06T02:09:21Z","author_association":"MEMBER","body":"@KannarFr Thanks for the fix. Seems there is no test cover this case, Would you please also help provide a test for this case?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/624406102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]