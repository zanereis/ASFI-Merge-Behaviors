[{"url":"https://api.github.com/repos/apache/druid/issues/comments/439566031","html_url":"https://github.com/apache/druid/pull/6639#issuecomment-439566031","issue_url":"https://api.github.com/repos/apache/druid/issues/6639","id":439566031,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTU2NjAzMQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-17T00:09:53Z","updated_at":"2018-11-17T00:09:53Z","author_association":"CONTRIBUTOR","body":"Thanks @jsun98!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/439566031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/439594868","html_url":"https://github.com/apache/druid/issues/6442#issuecomment-439594868","issue_url":"https://api.github.com/repos/apache/druid/issues/6442","id":439594868,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTU5NDg2OA==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-17T07:13:48Z","updated_at":"2018-11-17T07:13:48Z","author_association":"CONTRIBUTOR","body":"@glasser FYI - we discovered a critical bug hours after RC2 was published, so there is now an RC3. Maven artifacts for RC3 are here: https://repository.apache.org/content/repositories/orgapachedruid-1001/","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/439594868/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/439654225","html_url":"https://github.com/apache/druid/pull/6638#issuecomment-439654225","issue_url":"https://api.github.com/repos/apache/druid/issues/6638","id":439654225,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTY1NDIyNQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-17T23:06:42Z","updated_at":"2018-11-17T23:06:42Z","author_association":"MEMBER","body":"What are the differences with existing histogram aggregator(s)?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/439654225/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/439659127","html_url":"https://github.com/apache/druid/pull/6638#issuecomment-439659127","issue_url":"https://api.github.com/repos/apache/druid/issues/6638","id":439659127,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTY1OTEyNw==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-18T00:56:53Z","updated_at":"2018-11-18T00:56:53Z","author_association":"CONTRIBUTOR","body":"Also it is hard to make sense of the benchmarks without touching on the accuracy of the estimate, in the end of the day one would expect to see what it the tradeoff between how much accurate is the estimate vs compute/aggregate/merge time.\r\nAlso any reason this is not a separate extension i do not see why it is merged together. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/439659127/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/439668705","html_url":"https://github.com/apache/druid/pull/6638#issuecomment-439668705","issue_url":"https://api.github.com/repos/apache/druid/issues/6638","id":439668705,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTY2ODcwNQ==","user":{"login":"leerho","id":12941506,"node_id":"MDQ6VXNlcjEyOTQxNTA2","avatar_url":"https://avatars.githubusercontent.com/u/12941506?v=4","gravatar_id":"","url":"https://api.github.com/users/leerho","html_url":"https://github.com/leerho","followers_url":"https://api.github.com/users/leerho/followers","following_url":"https://api.github.com/users/leerho/following{/other_user}","gists_url":"https://api.github.com/users/leerho/gists{/gist_id}","starred_url":"https://api.github.com/users/leerho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leerho/subscriptions","organizations_url":"https://api.github.com/users/leerho/orgs","repos_url":"https://api.github.com/users/leerho/repos","events_url":"https://api.github.com/users/leerho/events{/privacy}","received_events_url":"https://api.github.com/users/leerho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-18T05:20:12Z","updated_at":"2018-11-18T05:20:12Z","author_association":"CONTRIBUTOR","body":"@leventov\r\n\r\nI haven't been following this thread or examined very closely the code that is being put into druid but at a high level and from a practical and historical perspective streaming histogram algorithms fall into basically 3 types: fixed-bin, heuristic/empirical and quantile sketch algorithms.\r\n\r\nI should point out that for comparable data (like numerics), histogram algorithms and quantile algorithms are closely related.  If you know the quantiles of a distribution you can create a PMF, CDF or histogram from the quantiles.\r\n\r\n- Fixed-bin algorithms: This is the simplest, and most primitive approach, but requires the user to know, up-front, a great deal about the data that they want to collect.  The user must make assumptions about the min and max values, and about how the data is likely distributed. The user then decides how many bins to define between the min and the max and assigns specific split-point values for the boundaries of all the bins. This can be very tricky because the resulting accuracy will depend greatly on how the actual data is distributed. Linear, Gaussian, log-normal, and power-law distributions require very different bin spacings. If the input data has gaps (missing values), zeros, spikes or jumps, or exceeds the user's assumed min and max values, the resulting histogram could be useless. Each bin is a simple counter that records how many events fell within the range of that bin.  The code is very simple as well, it just performs a simple search or lookup for each value and increments the appropriate counter. \r\n\r\nThis approach is nearly always the fastest but space could be a problem. In the attempt to achieve high resolution of the result, the user may just increase the number and density of the bins. This can lead to a huge amount of space consumed. 100,000 bins would consume way more space than the heuristic and sketch algorithms.  Because the fixed bin approach is so dependent on the actual data it is the least reliable in terms of accuracy and generally should be avoided except in very specific applications where the input data is well understood beforehand.\r\n\r\n- Heuristic/empirical algorithms: There many types in this category, but I think the main ones are centroid-based, moment-based, and dynamic-bin-based.  I'm sure there are others, but they all have various dependencies on the input data stream, but not quite as severe as the fixed-bin algorithms.  \r\n\r\nThey also can be divided into two groups based on whether the input data covers a narrow or wide dynamic range:  If the input data ranges over many orders of magnitude, then log-based approaches should be used, where the log of each item is computed prior to further processing. This is only useful for data that is always greater than zero (although zero itself can be handled with simple substitution). Excellent candidates include response time or latency data, file sizes, city populations, pebble sizes, geographic or astronomical distances, etc. For this kind of data the above algorithms become log-centroid-based, log-moment-based, and dynamic, log-bin-based.  \r\n\r\nI don't want to go into depth about this class of algorithms except to point out that none of them can make rank-accuracy guarantees without making some assumptions about the input data stream.  (value-accuracy guarantees are nearly impossible to make without some assumption about the input data) The best that they can do is something like \"if the input data is relatively well-behaved and smooth in its distribution, the the accuracy can be pretty good.\"  \r\n\r\nA [recently published paper](https://arxiv.org/abs/1803.01969) on moment-quantiles was able to establish upper bounds on its rank-accuracy, but only for the \"L1\" measurement of error, which, unfortunately, is not a practical measure of error for most users. (The \"L1\" error is the area between the true distribution and the mathematically computed distribution based on k moments computed from the input stream. If the two distributions fit each other like a glove for the full range of the distribution everything is wonderful. But there is no guarantee that the actual fit is not like a square peg in a round hole.  So depending on where along the distribution the user makes his query, the error could be great or horrible.  And the user has no idea or warning if this is happening.)\r\n\r\nThese heuristic/empirical algorithms can be quite small in size and perform quite well in terms of merge speed, but their dependence on the input data is their biggest weakness.\r\n\r\n- Sketch algorithms: True sketch algorithms (like the quantiles algorithm in the DataSketches library) are the only algorithms that can claim independence of the input data. In other words, the user does not need to know, beforehand, the min or max of the stream. The input stream can contain, negative values, zeros, gaps, spikes, humps and bumps in its distribution and the values can range over multiple orders of magnitude. The DS-quantiles algorithm (of those benchmarked) is the only one that claim (mathematically) _data independence_, that the rank accuracy guarantees of the sketch will hold with a specified statistical confidence.  The  DS-quantiles sketch defines its error in terms of \"L-infinity\" error, which applies to each and all quantile (or rank) queries against the sketch anywhere along the distribution, which is what most users would like to be the case.\r\n\r\nWell designed sketch algorithms can be small in size and fast, (but not as small and fast as a well designed moments quantiles algorithm, for example).\r\n\r\nAs for this particular PR, benchmarking accuracy, size and speed of these various sketches can be fraught with problems:\r\n\r\n- The tester must make some assumption about the input distributions streamed into each of the algorithms. The attached benchmarks in this PR mention a random uniform distribution and a gaussian distribution -- neither of which are common in most data. They are also very smooth and well behaved. This kind of input data can perform well for all the algorithms including the fixed-bin and Heuristic/empirical algorithms with proper setup.  So it is hardly a test at all as these input distributions will not provide meaningful separation between the test subjects. It is kinda like using a simple arithmetic problem to determine whether a student is ready for an advanced calculus class.\r\n\r\n- Performing benchmark accuracy tests can be tricky and it is critical that the tester be very clear about how the algorithm error is being measured: was it relative or absolute error? was the error based on value or rank? How many trials per measurement were used? (It appears that the number of trials was 25 -- it should be about 2500!) How was the error computed from the trials? RMSE, MSE, SE, RSE, average, average-absolute-error, etc.  It is not clear. If multiple trials are performed, what about the variance? It is the error variance that says more about the accuracy properties of an algorithm than just the average. Was the error distribution biased? All of these questions should be documented. The user should not have to dig through the benchmark test code to figure it out.\r\n\r\n- What error guarantees, if any, is the algorithm under test able to provide given the chosen configuration? Did the algorithm meet its guarantee? Note that if one algorithm specifies an L1 error guarantee and another specifies an L-infinity guarantee, the tester needs to understand how to discriminate between those guarantees in his/her tests because it is like comparing apples and oranges.\r\n\r\n- It is the tester's responsibility, when publishing benchmarks like this to use input data distributions that actually will discriminate between the algorithms and document what those are.  Then the user can make the decision whether those distributions apply to his/her application. I don't feel that that was done in this particular case so I find these benchmarks uninformative and potentially misleading to a user.\r\n\r\n***\r\nI don't believe that Druid benefits by having all of these histogram variants, it can be very confusing to users. Having the moments-quantiles algorithm and the DataSketches quantiles sketch should be sufficient. Then document those two thoroughly in how they should be used and when. The fixed bin and other heuristic/empirical algorithms just add confusion, in spite of decades of their misuse and abuse in the analysis of data.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/439668705/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/439698214","html_url":"https://github.com/apache/druid/pull/6575#issuecomment-439698214","issue_url":"https://api.github.com/repos/apache/druid/issues/6575","id":439698214,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTY5ODIxNA==","user":{"login":"zhaojiandong","id":5977839,"node_id":"MDQ6VXNlcjU5Nzc4Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/5977839?v=4","gravatar_id":"","url":"https://api.github.com/users/zhaojiandong","html_url":"https://github.com/zhaojiandong","followers_url":"https://api.github.com/users/zhaojiandong/followers","following_url":"https://api.github.com/users/zhaojiandong/following{/other_user}","gists_url":"https://api.github.com/users/zhaojiandong/gists{/gist_id}","starred_url":"https://api.github.com/users/zhaojiandong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhaojiandong/subscriptions","organizations_url":"https://api.github.com/users/zhaojiandong/orgs","repos_url":"https://api.github.com/users/zhaojiandong/repos","events_url":"https://api.github.com/users/zhaojiandong/events{/privacy}","received_events_url":"https://api.github.com/users/zhaojiandong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-18T14:46:16Z","updated_at":"2018-11-18T14:46:16Z","author_association":"CONTRIBUTOR","body":"> Would it make sense to just emit nothing if there is no gap known? To me, that makes the most sense -- we don't know the value yet, so treat it like a null and don't emit it.\r\n> \r\n> @kaijianding, @zhaojiandong what do you think?\r\n\r\n![image](https://user-images.githubusercontent.com/5977839/48672446-f7bca500-eb70-11e8-961d-80499466df68.png)\r\n\r\nI thought about it carefully, there are two special periods: warning up period and window period.\r\nit's easy to report null at warming up period, but it's a little difficult to process at window period.\r\nI will rethink this issue. @gianm ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/439698214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/439721110","html_url":"https://github.com/apache/druid/issues/6643#issuecomment-439721110","issue_url":"https://api.github.com/repos/apache/druid/issues/6643","id":439721110,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTcyMTExMA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-18T20:01:05Z","updated_at":"2018-11-18T20:01:05Z","author_association":"CONTRIBUTOR","body":"#6644 adds a warning to the docs, at least.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/439721110/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/439733038","html_url":"https://github.com/apache/druid/pull/6644#issuecomment-439733038","issue_url":"https://api.github.com/repos/apache/druid/issues/6644","id":439733038,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTczMzAzOA==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-18T22:47:34Z","updated_at":"2018-11-18T22:47:34Z","author_association":"CONTRIBUTOR","body":"👍 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/439733038/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/439797717","html_url":"https://github.com/apache/druid/pull/6510#issuecomment-439797717","issue_url":"https://api.github.com/repos/apache/druid/issues/6510","id":439797717,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTc5NzcxNw==","user":{"login":"Guadrado","id":11554068,"node_id":"MDQ6VXNlcjExNTU0MDY4","avatar_url":"https://avatars.githubusercontent.com/u/11554068?v=4","gravatar_id":"","url":"https://api.github.com/users/Guadrado","html_url":"https://github.com/Guadrado","followers_url":"https://api.github.com/users/Guadrado/followers","following_url":"https://api.github.com/users/Guadrado/following{/other_user}","gists_url":"https://api.github.com/users/Guadrado/gists{/gist_id}","starred_url":"https://api.github.com/users/Guadrado/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Guadrado/subscriptions","organizations_url":"https://api.github.com/users/Guadrado/orgs","repos_url":"https://api.github.com/users/Guadrado/repos","events_url":"https://api.github.com/users/Guadrado/events{/privacy}","received_events_url":"https://api.github.com/users/Guadrado/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-19T07:36:49Z","updated_at":"2018-11-19T07:36:49Z","author_association":"CONTRIBUTOR","body":"> @Guadrado sorry for delayed review. The latest change looks good to me. Would you please fix the conflict?\r\n\r\n@jihoonson, yes, of course.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/439797717/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/439903073","html_url":"https://github.com/apache/druid/pull/6605#issuecomment-439903073","issue_url":"https://api.github.com/repos/apache/druid/issues/6605","id":439903073,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTkwMzA3Mw==","user":{"login":"deiwin","id":2261897,"node_id":"MDQ6VXNlcjIyNjE4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/2261897?v=4","gravatar_id":"","url":"https://api.github.com/users/deiwin","html_url":"https://github.com/deiwin","followers_url":"https://api.github.com/users/deiwin/followers","following_url":"https://api.github.com/users/deiwin/following{/other_user}","gists_url":"https://api.github.com/users/deiwin/gists{/gist_id}","starred_url":"https://api.github.com/users/deiwin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deiwin/subscriptions","organizations_url":"https://api.github.com/users/deiwin/orgs","repos_url":"https://api.github.com/users/deiwin/repos","events_url":"https://api.github.com/users/deiwin/events{/privacy}","received_events_url":"https://api.github.com/users/deiwin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-19T14:04:17Z","updated_at":"2018-11-19T14:04:17Z","author_association":"CONTRIBUTOR","body":"Updated to also fix conflicts with master.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/439903073/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/439999710","html_url":"https://github.com/apache/druid/pull/6510#issuecomment-439999710","issue_url":"https://api.github.com/repos/apache/druid/issues/6510","id":439999710,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTk5OTcxMA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-19T18:46:08Z","updated_at":"2018-11-19T18:46:08Z","author_association":"CONTRIBUTOR","body":"@Guadrado thanks for the quick update! Unfortunately, the build failed because of the recent change which prohibits `String.replace()` (https://github.com/apache/incubator-druid/pull/6607). You might use `StringUtils.replace()` instead. Would you please fix it?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/439999710/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/440002615","html_url":"https://github.com/apache/druid/issues/6519#issuecomment-440002615","issue_url":"https://api.github.com/repos/apache/druid/issues/6519","id":440002615,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDAwMjYxNQ==","user":{"login":"yurmix","id":1529282,"node_id":"MDQ6VXNlcjE1MjkyODI=","avatar_url":"https://avatars.githubusercontent.com/u/1529282?v=4","gravatar_id":"","url":"https://api.github.com/users/yurmix","html_url":"https://github.com/yurmix","followers_url":"https://api.github.com/users/yurmix/followers","following_url":"https://api.github.com/users/yurmix/following{/other_user}","gists_url":"https://api.github.com/users/yurmix/gists{/gist_id}","starred_url":"https://api.github.com/users/yurmix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurmix/subscriptions","organizations_url":"https://api.github.com/users/yurmix/orgs","repos_url":"https://api.github.com/users/yurmix/repos","events_url":"https://api.github.com/users/yurmix/events{/privacy}","received_events_url":"https://api.github.com/users/yurmix/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-19T18:54:53Z","updated_at":"2018-11-19T18:55:32Z","author_association":"CONTRIBUTOR","body":"I've done some initial initial investigation. In addition to extending `apply()`, it will also require a change to `MapLookupExtractor` and `MapLookupExtractorFactory` and places where these classes are being used (such as `NamespaceLookupExtractorFactory`):\r\n```java\r\npublic class MapLookupExtractor extends LookupExtractor\r\n{\r\n  private final Map<String, String> map;\r\n//...\r\n//...\r\n  public Map<String, String> getMap()\r\n  {\r\n    return ImmutableMap.copyOf(map);\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/440002615/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/440007055","html_url":"https://github.com/apache/druid/issues/6519#issuecomment-440007055","issue_url":"https://api.github.com/repos/apache/druid/issues/6519","id":440007055,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDAwNzA1NQ==","user":{"login":"yurmix","id":1529282,"node_id":"MDQ6VXNlcjE1MjkyODI=","avatar_url":"https://avatars.githubusercontent.com/u/1529282?v=4","gravatar_id":"","url":"https://api.github.com/users/yurmix","html_url":"https://github.com/yurmix","followers_url":"https://api.github.com/users/yurmix/followers","following_url":"https://api.github.com/users/yurmix/following{/other_user}","gists_url":"https://api.github.com/users/yurmix/gists{/gist_id}","starred_url":"https://api.github.com/users/yurmix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurmix/subscriptions","organizations_url":"https://api.github.com/users/yurmix/orgs","repos_url":"https://api.github.com/users/yurmix/repos","events_url":"https://api.github.com/users/yurmix/events{/privacy}","received_events_url":"https://api.github.com/users/yurmix/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-19T19:08:58Z","updated_at":"2018-11-27T21:04:35Z","author_association":"CONTRIBUTOR","body":"One thing to note is that `GroupByQueryEngineV2` will aggregate multi-valued dimensions in a different path than single-valued (`aggregateMultiValueDims` VS `aggregateSingleValueDims`). Since this path is chosen based on columnCapabilities.hasMultipleValues(), which always defaults to false for non-dimensions, there is a need to add extra logic for multi-valued lookups.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/440007055/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/440020816","html_url":"https://github.com/apache/druid/pull/6543#issuecomment-440020816","issue_url":"https://api.github.com/repos/apache/druid/issues/6543","id":440020816,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDAyMDgxNg==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-19T19:52:58Z","updated_at":"2018-11-19T19:52:58Z","author_association":"MEMBER","body":"This PR has an approve from @QiuMM who is now a committer, so I merge.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/440020816/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/440025681","html_url":"https://github.com/apache/druid/pull/6638#issuecomment-440025681","issue_url":"https://api.github.com/repos/apache/druid/issues/6638","id":440025681,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDAyNTY4MQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-19T20:09:31Z","updated_at":"2018-11-19T20:09:31Z","author_association":"CONTRIBUTOR","body":"I've removed the comparison benchmarks between the fixed bins and approx/sketch aggs, since they were flawed/insufficient. \r\n\r\nI've kept the benchmarks for just the fixed bins to give an idea of its performance (without regards to accuracy), since its performance would be pretty consistent across various distributions and mainly depends on the number of buckets used.\r\n\r\n(PS: The add performance could be roughly twice as fast without locking (needed for realtime indexing), perhaps a way to allow aggregators to know when they're running within a context that requires synchronization would be useful in general, as a subject for another PR)\r\n\r\n------------------\r\n@leerho Thanks for the detailed commentary and feedback!\r\n\r\n@b-slim \r\n\r\n> Also any reason this is not a separate extension i do not see why it is merged together.\r\n\r\nMainly, the aggregator works with the min/max/quantile/quantiles post-aggs that are provided by the druid-histogram extension, so it's simpler to have them be in the same extension. The name \"druid-histogram\" also doesn't preclude a fixed bins implementation, so I felt it was reasonable to keep them in the same extension.\r\n\r\n@b-slim \r\n\r\n> Also it is hard to make sense of the benchmarks without touching on the accuracy of the estimate, in the end of the day one would expect to see what it the tradeoff between how much accurate is the estimate vs compute/aggregate/merge time.\r\n\r\nRe: accuracy and when to use the fixed bins, I think @leerho gave an excellent breakdown:\r\n\r\n> Fixed-bin algorithms: This is the simplest, and most primitive approach, but requires the user to know, up-front, a great deal about the data that they want to collect. The user must make assumptions about the min and max values, and about how the data is likely distributed. The user then decides how many bins to define between the min and the max and assigns specific split-point values for the boundaries of all the bins. This can be very tricky because the resulting accuracy will depend greatly on how the actual data is distributed. Linear, Gaussian, log-normal, and power-law distributions require very different bin spacings. If the input data has gaps (missing values), zeros, spikes or jumps, or exceeds the user's assumed min and max values, the resulting histogram could be useless. Each bin is a simple counter that records how many events fell within the range of that bin. The code is very simple as well, it just performs a simple search or lookup for each value and increments the appropriate counter.\r\n\r\n> This approach is nearly always the fastest but space could be a problem. In the attempt to achieve high resolution of the result, the user may just increase the number and density of the bins. This can lead to a huge amount of space consumed. 100,000 bins would consume way more space than the heuristic and sketch algorithms. Because the fixed bin approach is so dependent on the actual data it is the least reliable in terms of accuracy and generally should be avoided except in very specific applications where the input data is well understood beforehand.\r\n\r\nFixed bins would be a \"special case\", for general use, the sketch aggregators are going to be a better choice.\r\n\r\nIn addition, a major motivation for this PR is to support users who already have fixed bin histograms from elsewhere and want to import those into Druid.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/440025681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/440030803","html_url":"https://github.com/apache/druid/pull/6592#issuecomment-440030803","issue_url":"https://api.github.com/repos/apache/druid/issues/6592","id":440030803,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDAzMDgwMw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-19T20:28:06Z","updated_at":"2018-11-19T20:28:06Z","author_association":"CONTRIBUTOR","body":"> @seoeun25 Auditlog has been deprecated, not tasklogs.\r\n\r\n@QiuMM, it's quite confusing, but @seoeun25 is correct. `tasklogs` is the table for task audit logging which is deprecated now. The `audit` table is for auditing rule changes.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/440030803/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/440107052","html_url":"https://github.com/apache/druid/pull/6633#issuecomment-440107052","issue_url":"https://api.github.com/repos/apache/druid/issues/6633","id":440107052,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDEwNzA1Mg==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-20T01:49:10Z","updated_at":"2018-11-20T01:49:10Z","author_association":"MEMBER","body":"> @clintropolis is this #3878?\r\n\r\nI think it's trying to achieve the same goal, though this PR is very primitive and manually controlled. \r\n\r\n> I think figuring whether to use a bitmap index or not, would be bit too much for the clients sending the queries for making an optimal decision on.\r\n\r\nYeah, I made the parameter optional and defaulting to skipping indexes to err on the side of likely better performance, but yeah I think you're probably right that it's not useful unless the user is deeply familiar with both the data and the implications of using them or not during query processing.\r\n\r\nI was planning on following this up with investigation on what a good threshold would be to automatically set this value, so that way at least a way to control this behavior would be out sooner than later and since I think adaptively using bitmaps or not based on cardinality is probably useful for a lot of filters beyond the bloom filter, but I think I will go ahead and begin to look into it and think about a general solution for #3878 as soon as I have a chance based on feedback so far.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/440107052/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/440118420","html_url":"https://github.com/apache/druid/pull/6592#issuecomment-440118420","issue_url":"https://api.github.com/repos/apache/druid/issues/6592","id":440118420,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDExODQyMA==","user":{"login":"QiuMM","id":15156517,"node_id":"MDQ6VXNlcjE1MTU2NTE3","avatar_url":"https://avatars.githubusercontent.com/u/15156517?v=4","gravatar_id":"","url":"https://api.github.com/users/QiuMM","html_url":"https://github.com/QiuMM","followers_url":"https://api.github.com/users/QiuMM/followers","following_url":"https://api.github.com/users/QiuMM/following{/other_user}","gists_url":"https://api.github.com/users/QiuMM/gists{/gist_id}","starred_url":"https://api.github.com/users/QiuMM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/QiuMM/subscriptions","organizations_url":"https://api.github.com/users/QiuMM/orgs","repos_url":"https://api.github.com/users/QiuMM/repos","events_url":"https://api.github.com/users/QiuMM/events{/privacy}","received_events_url":"https://api.github.com/users/QiuMM/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-20T02:50:57Z","updated_at":"2018-11-20T02:50:57Z","author_association":"MEMBER","body":"@jihoonson @seoeun25 oops, I had not checked it carefully, sorry.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/440118420/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/440162306","html_url":"https://github.com/apache/druid/pull/6592#issuecomment-440162306","issue_url":"https://api.github.com/repos/apache/druid/issues/6592","id":440162306,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDE2MjMwNg==","user":{"login":"seoeun25","id":764939,"node_id":"MDQ6VXNlcjc2NDkzOQ==","avatar_url":"https://avatars.githubusercontent.com/u/764939?v=4","gravatar_id":"","url":"https://api.github.com/users/seoeun25","html_url":"https://github.com/seoeun25","followers_url":"https://api.github.com/users/seoeun25/followers","following_url":"https://api.github.com/users/seoeun25/following{/other_user}","gists_url":"https://api.github.com/users/seoeun25/gists{/gist_id}","starred_url":"https://api.github.com/users/seoeun25/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seoeun25/subscriptions","organizations_url":"https://api.github.com/users/seoeun25/orgs","repos_url":"https://api.github.com/users/seoeun25/repos","events_url":"https://api.github.com/users/seoeun25/events{/privacy}","received_events_url":"https://api.github.com/users/seoeun25/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-20T06:43:53Z","updated_at":"2018-11-20T06:43:53Z","author_association":"CONTRIBUTOR","body":"@QiuMM @surekhasaharan @jihoonson @gianm Thanks for the review. Addressed comments and updated doc more detailed.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/440162306/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/440178149","html_url":"https://github.com/apache/druid/pull/6510#issuecomment-440178149","issue_url":"https://api.github.com/repos/apache/druid/issues/6510","id":440178149,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDE3ODE0OQ==","user":{"login":"Guadrado","id":11554068,"node_id":"MDQ6VXNlcjExNTU0MDY4","avatar_url":"https://avatars.githubusercontent.com/u/11554068?v=4","gravatar_id":"","url":"https://api.github.com/users/Guadrado","html_url":"https://github.com/Guadrado","followers_url":"https://api.github.com/users/Guadrado/followers","following_url":"https://api.github.com/users/Guadrado/following{/other_user}","gists_url":"https://api.github.com/users/Guadrado/gists{/gist_id}","starred_url":"https://api.github.com/users/Guadrado/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Guadrado/subscriptions","organizations_url":"https://api.github.com/users/Guadrado/orgs","repos_url":"https://api.github.com/users/Guadrado/repos","events_url":"https://api.github.com/users/Guadrado/events{/privacy}","received_events_url":"https://api.github.com/users/Guadrado/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-20T07:58:37Z","updated_at":"2018-11-20T07:58:37Z","author_association":"CONTRIBUTOR","body":"> @Guadrado thanks for the quick update! Unfortunately, the build failed because of the recent change which prohibits `String.replace()` (#6607). You might use `StringUtils.replace()` instead. Would you please fix it?\r\n@jihoonson yes, sure.\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/440178149/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/440307954","html_url":"https://github.com/apache/druid/issues/6500#issuecomment-440307954","issue_url":"https://api.github.com/repos/apache/druid/issues/6500","id":440307954,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDMwNzk1NA==","user":{"login":"Stephan3555","id":2537072,"node_id":"MDQ6VXNlcjI1MzcwNzI=","avatar_url":"https://avatars.githubusercontent.com/u/2537072?v=4","gravatar_id":"","url":"https://api.github.com/users/Stephan3555","html_url":"https://github.com/Stephan3555","followers_url":"https://api.github.com/users/Stephan3555/followers","following_url":"https://api.github.com/users/Stephan3555/following{/other_user}","gists_url":"https://api.github.com/users/Stephan3555/gists{/gist_id}","starred_url":"https://api.github.com/users/Stephan3555/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Stephan3555/subscriptions","organizations_url":"https://api.github.com/users/Stephan3555/orgs","repos_url":"https://api.github.com/users/Stephan3555/repos","events_url":"https://api.github.com/users/Stephan3555/events{/privacy}","received_events_url":"https://api.github.com/users/Stephan3555/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-20T15:13:11Z","updated_at":"2018-11-20T15:13:11Z","author_association":"NONE","body":"We found the cause for our problem. For us the problem was the amount of segments we had in our cluster. We had around 21k segments distributed on three historicals. After some debugging we found out that the problem was the connection pool size:\r\n\r\n![image](https://user-images.githubusercontent.com/2537072/48782627-e691a680-ecde-11e8-9938-369ea32aa917.png)\r\n\r\nWe merged the incredible small segments to larger segments and now the error disappeared.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/440307954/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/440387772","html_url":"https://github.com/apache/druid/issues/6647#issuecomment-440387772","issue_url":"https://api.github.com/repos/apache/druid/issues/6647","id":440387772,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDM4Nzc3Mg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-20T18:47:38Z","updated_at":"2018-11-20T18:47:38Z","author_association":"CONTRIBUTOR","body":"> I'm not familiar with curator, can curator only watch a particular leaf path? Thus we can implement a simpler Announcer for these two paths to reduce watch number in zookeeper to avoid zk OOM. \r\n\r\nIt sounds possible, but I wonder what your solution is. Would you elaborate more details? What is the simpler implementation of Announcer you think?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/440387772/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/440398554","html_url":"https://github.com/apache/druid/issues/6647#issuecomment-440398554","issue_url":"https://api.github.com/repos/apache/druid/issues/6647","id":440398554,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDM5ODU1NA==","user":{"login":"kaijianding","id":8663725,"node_id":"MDQ6VXNlcjg2NjM3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/8663725?v=4","gravatar_id":"","url":"https://api.github.com/users/kaijianding","html_url":"https://github.com/kaijianding","followers_url":"https://api.github.com/users/kaijianding/followers","following_url":"https://api.github.com/users/kaijianding/following{/other_user}","gists_url":"https://api.github.com/users/kaijianding/gists{/gist_id}","starred_url":"https://api.github.com/users/kaijianding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaijianding/subscriptions","organizations_url":"https://api.github.com/users/kaijianding/orgs","repos_url":"https://api.github.com/users/kaijianding/repos","events_url":"https://api.github.com/users/kaijianding/events{/privacy}","received_events_url":"https://api.github.com/users/kaijianding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-20T19:21:27Z","updated_at":"2018-11-20T19:21:27Z","author_association":"CONTRIBUTOR","body":"My thought is that only watch the leaf path instead of watching all the child paths under the base path.\r\nRather than use childEvent, watch the path itself, I don't know whether it is possible, I'm not familiar with curator.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/440398554/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/440411202","html_url":"https://github.com/apache/druid/issues/6442#issuecomment-440411202","issue_url":"https://api.github.com/repos/apache/druid/issues/6442","id":440411202,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDQxMTIwMg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-20T20:02:55Z","updated_at":"2018-11-20T20:04:08Z","author_association":"CONTRIBUTOR","body":"@dclim I noticed in testing that with the switch to the AWS S3 SDK instead of jets3t, a non-EC2 cluster that is using S3 as deep storage fails to start up properly. The issue is that you need to have an AWS region set (unlike jets3t, it won't default to us-east-1).\r\n\r\nOne way to work around this is:\r\n\r\n- Add `-Daws.region=us-east-1` to all jvm.configs.\r\n- And, add `-Daws.region=us-east-1` to druid.indexer.runner.javaOpts in middleManager/runtime.properties.\r\n\r\nProbably setting the AWS_REGION=us-east-1 environment variable would help too, but I haven't tested that. I believe this is only an issue if you are not running on EC2. On EC2 it seems to pick up the current region as the default region.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/440411202/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/440419278","html_url":"https://github.com/apache/druid/issues/6442#issuecomment-440419278","issue_url":"https://api.github.com/repos/apache/druid/issues/6442","id":440419278,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDQxOTI3OA==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-20T20:31:28Z","updated_at":"2018-11-20T20:31:28Z","author_association":"CONTRIBUTOR","body":"@gianm thank you, I can add this to the release notes. I suppose this should also be added to the S3 extension documentation, but I'm not clear on whether that would necessitate another release candidate (since the documentation is packaged in the release artifacts).","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/440419278/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/440439505","html_url":"https://github.com/apache/druid/pull/6510#issuecomment-440439505","issue_url":"https://api.github.com/repos/apache/druid/issues/6510","id":440439505,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDQzOTUwNQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-20T21:41:48Z","updated_at":"2018-11-20T21:41:48Z","author_association":"CONTRIBUTOR","body":"@Guadrado thank you! I'm merging this PR shortly.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/440439505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/440439718","html_url":"https://github.com/apache/druid/pull/6510#issuecomment-440439718","issue_url":"https://api.github.com/repos/apache/druid/issues/6510","id":440439718,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDQzOTcxOA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-20T21:42:38Z","updated_at":"2018-11-20T21:42:38Z","author_association":"CONTRIBUTOR","body":"I also changed the title to be more clear.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/440439718/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/440498864","html_url":"https://github.com/apache/druid/pull/6592#issuecomment-440498864","issue_url":"https://api.github.com/repos/apache/druid/issues/6592","id":440498864,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDQ5ODg2NA==","user":{"login":"seoeun25","id":764939,"node_id":"MDQ6VXNlcjc2NDkzOQ==","avatar_url":"https://avatars.githubusercontent.com/u/764939?v=4","gravatar_id":"","url":"https://api.github.com/users/seoeun25","html_url":"https://github.com/seoeun25","followers_url":"https://api.github.com/users/seoeun25/followers","following_url":"https://api.github.com/users/seoeun25/following{/other_user}","gists_url":"https://api.github.com/users/seoeun25/gists{/gist_id}","starred_url":"https://api.github.com/users/seoeun25/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seoeun25/subscriptions","organizations_url":"https://api.github.com/users/seoeun25/orgs","repos_url":"https://api.github.com/users/seoeun25/repos","events_url":"https://api.github.com/users/seoeun25/events{/privacy}","received_events_url":"https://api.github.com/users/seoeun25/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-21T01:52:02Z","updated_at":"2018-11-21T01:52:02Z","author_association":"CONTRIBUTOR","body":"@jihoonson @surekhasaharan Thanks for the review. remove redundant log and update doc more detailed.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/440498864/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/440499190","html_url":"https://github.com/apache/druid/pull/6502#issuecomment-440499190","issue_url":"https://api.github.com/repos/apache/druid/issues/6502","id":440499190,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDQ5OTE5MA==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-21T01:53:49Z","updated_at":"2018-11-21T01:53:49Z","author_association":"MEMBER","body":"I have removed the specialized context variable lookup function from this PR, in favor of investigating how to implement parameter binding correctly, e.g. \r\n\r\n```\r\nSELECT COUNT(*) AS cnt FROM druid.foo WHERE dim1 = ?\r\n```\r\nwhich does not belong in this PR.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/440499190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/440509379","html_url":"https://github.com/apache/druid/pull/5099#issuecomment-440509379","issue_url":"https://api.github.com/repos/apache/druid/issues/5099","id":440509379,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDUwOTM3OQ==","user":{"login":"zhouyuanchao","id":38806828,"node_id":"MDQ6VXNlcjM4ODA2ODI4","avatar_url":"https://avatars.githubusercontent.com/u/38806828?v=4","gravatar_id":"","url":"https://api.github.com/users/zhouyuanchao","html_url":"https://github.com/zhouyuanchao","followers_url":"https://api.github.com/users/zhouyuanchao/followers","following_url":"https://api.github.com/users/zhouyuanchao/following{/other_user}","gists_url":"https://api.github.com/users/zhouyuanchao/gists{/gist_id}","starred_url":"https://api.github.com/users/zhouyuanchao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhouyuanchao/subscriptions","organizations_url":"https://api.github.com/users/zhouyuanchao/orgs","repos_url":"https://api.github.com/users/zhouyuanchao/repos","events_url":"https://api.github.com/users/zhouyuanchao/events{/privacy}","received_events_url":"https://api.github.com/users/zhouyuanchao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-21T02:49:41Z","updated_at":"2018-11-21T02:49:41Z","author_association":"NONE","body":"@jon-wei internalClientPassword can not use EnvironmentVariablePasswordProvider in master branch\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/440509379/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/440551275","html_url":"https://github.com/apache/druid/pull/6510#issuecomment-440551275","issue_url":"https://api.github.com/repos/apache/druid/issues/6510","id":440551275,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDU1MTI3NQ==","user":{"login":"Guadrado","id":11554068,"node_id":"MDQ6VXNlcjExNTU0MDY4","avatar_url":"https://avatars.githubusercontent.com/u/11554068?v=4","gravatar_id":"","url":"https://api.github.com/users/Guadrado","html_url":"https://github.com/Guadrado","followers_url":"https://api.github.com/users/Guadrado/followers","following_url":"https://api.github.com/users/Guadrado/following{/other_user}","gists_url":"https://api.github.com/users/Guadrado/gists{/gist_id}","starred_url":"https://api.github.com/users/Guadrado/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Guadrado/subscriptions","organizations_url":"https://api.github.com/users/Guadrado/orgs","repos_url":"https://api.github.com/users/Guadrado/repos","events_url":"https://api.github.com/users/Guadrado/events{/privacy}","received_events_url":"https://api.github.com/users/Guadrado/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-21T06:28:46Z","updated_at":"2018-11-21T06:28:46Z","author_association":"CONTRIBUTOR","body":"> @Guadrado thank you! I'm merging this PR shortly.\r\n\r\n@jihoonson thank you for your help!\r\nI'm glad, that I can take a part in this project.\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/440551275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/440570968","html_url":"https://github.com/apache/druid/issues/5025#issuecomment-440570968","issue_url":"https://api.github.com/repos/apache/druid/issues/5025","id":440570968,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDU3MDk2OA==","user":{"login":"david-benes","id":5094562,"node_id":"MDQ6VXNlcjUwOTQ1NjI=","avatar_url":"https://avatars.githubusercontent.com/u/5094562?v=4","gravatar_id":"","url":"https://api.github.com/users/david-benes","html_url":"https://github.com/david-benes","followers_url":"https://api.github.com/users/david-benes/followers","following_url":"https://api.github.com/users/david-benes/following{/other_user}","gists_url":"https://api.github.com/users/david-benes/gists{/gist_id}","starred_url":"https://api.github.com/users/david-benes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/david-benes/subscriptions","organizations_url":"https://api.github.com/users/david-benes/orgs","repos_url":"https://api.github.com/users/david-benes/repos","events_url":"https://api.github.com/users/david-benes/events{/privacy}","received_events_url":"https://api.github.com/users/david-benes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-21T07:59:28Z","updated_at":"2018-11-21T07:59:28Z","author_association":"NONE","body":"Hi, I'm experiencing the same issue except that I use mysql.\r\nRace conditions seems as reasonable explanation due to random nature of the error occurrence.\r\nIn my case, this started happening after I increased task.replicants in tranquility from 1 to 2.\r\n\r\nNow we have two worker tasks for each hour.\r\n\r\nDruid version: druid-0.9.1.1\r\n\r\nAnyone else experiencing this or have a solution?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/440570968/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/440589283","html_url":"https://github.com/apache/druid/issues/6651#issuecomment-440589283","issue_url":"https://api.github.com/repos/apache/druid/issues/6651","id":440589283,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDU4OTI4Mw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-21T09:08:36Z","updated_at":"2018-11-21T09:08:36Z","author_association":"CONTRIBUTOR","body":"Hey @zhaojiandong,\r\n\r\nWhat result _do_ you get when you run this query? And what do you get if you add \"EXPLAIN PLAN FOR\" to the front of it?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/440589283/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/440682526","html_url":"https://github.com/apache/druid/issues/3562#issuecomment-440682526","issue_url":"https://api.github.com/repos/apache/druid/issues/3562","id":440682526,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDY4MjUyNg==","user":{"login":"Shimi","id":218553,"node_id":"MDQ6VXNlcjIxODU1Mw==","avatar_url":"https://avatars.githubusercontent.com/u/218553?v=4","gravatar_id":"","url":"https://api.github.com/users/Shimi","html_url":"https://github.com/Shimi","followers_url":"https://api.github.com/users/Shimi/followers","following_url":"https://api.github.com/users/Shimi/following{/other_user}","gists_url":"https://api.github.com/users/Shimi/gists{/gist_id}","starred_url":"https://api.github.com/users/Shimi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Shimi/subscriptions","organizations_url":"https://api.github.com/users/Shimi/orgs","repos_url":"https://api.github.com/users/Shimi/repos","events_url":"https://api.github.com/users/Shimi/events{/privacy}","received_events_url":"https://api.github.com/users/Shimi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-21T14:33:46Z","updated_at":"2018-11-21T14:33:46Z","author_association":"CONTRIBUTOR","body":"hi @leventov \r\njust making sure you saw the comment above ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/440682526/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/440692367","html_url":"https://github.com/apache/druid/issues/3562#issuecomment-440692367","issue_url":"https://api.github.com/repos/apache/druid/issues/3562","id":440692367,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDY5MjM2Nw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-21T14:56:21Z","updated_at":"2018-11-21T14:56:21Z","author_association":"MEMBER","body":"Feel free to submit a PR.\r\n\r\nI don't think it's very important for the benchmark performance, but I think it's a good idea to follow the right pattern everywhere, including tests, in the spirit of the broken windows theory.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/440692367/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/440709068","html_url":"https://github.com/apache/druid/issues/6646#issuecomment-440709068","issue_url":"https://api.github.com/repos/apache/druid/issues/6646","id":440709068,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDcwOTA2OA==","user":{"login":"Stephan3555","id":2537072,"node_id":"MDQ6VXNlcjI1MzcwNzI=","avatar_url":"https://avatars.githubusercontent.com/u/2537072?v=4","gravatar_id":"","url":"https://api.github.com/users/Stephan3555","html_url":"https://github.com/Stephan3555","followers_url":"https://api.github.com/users/Stephan3555/followers","following_url":"https://api.github.com/users/Stephan3555/following{/other_user}","gists_url":"https://api.github.com/users/Stephan3555/gists{/gist_id}","starred_url":"https://api.github.com/users/Stephan3555/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Stephan3555/subscriptions","organizations_url":"https://api.github.com/users/Stephan3555/orgs","repos_url":"https://api.github.com/users/Stephan3555/repos","events_url":"https://api.github.com/users/Stephan3555/events{/privacy}","received_events_url":"https://api.github.com/users/Stephan3555/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-21T15:37:47Z","updated_at":"2018-11-21T15:37:47Z","author_association":"NONE","body":"We figured out the problem with the count metrics:\r\n\r\nThe service names \"coordinator-segment/count\" and \"historical-segment/count\" in the \"defaultMetricDimensions.json\" are not correct if you set up Druid with the default service names for the Nodes:\r\n\r\nhttps://github.com/apache/incubator-druid/blob/0.12.3/examples/conf/druid/coordinator/runtime.properties\r\n\r\nhttps://github.com/apache/incubator-druid/blob/0.12.3/examples/conf/druid/historical/runtime.properties\r\n\r\nThe real names of the services are:\r\n\r\n`\"druid/coordinator-segment/count\" : { \"dimensions\" : [\"dataSource\"], \"type\" : \"gauge\" },\r\n  \"druid/historical-segment/count\" : { \"dimensions\" : [\"dataSource\", \"tier\", \"priority\"], \"type\" : \"gauge\" }`\r\n\r\nIn my humble opinion this should be changed in the \"defaultMetricDimensions.json\" to fit with the default values for the service names.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/440709068/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/440737028","html_url":"https://github.com/apache/druid/issues/5935#issuecomment-440737028","issue_url":"https://api.github.com/repos/apache/druid/issues/5935","id":440737028,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDczNzAyOA==","user":{"login":"danc","id":306555,"node_id":"MDQ6VXNlcjMwNjU1NQ==","avatar_url":"https://avatars.githubusercontent.com/u/306555?v=4","gravatar_id":"","url":"https://api.github.com/users/danc","html_url":"https://github.com/danc","followers_url":"https://api.github.com/users/danc/followers","following_url":"https://api.github.com/users/danc/following{/other_user}","gists_url":"https://api.github.com/users/danc/gists{/gist_id}","starred_url":"https://api.github.com/users/danc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danc/subscriptions","organizations_url":"https://api.github.com/users/danc/orgs","repos_url":"https://api.github.com/users/danc/repos","events_url":"https://api.github.com/users/danc/events{/privacy}","received_events_url":"https://api.github.com/users/danc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-21T16:54:33Z","updated_at":"2018-11-21T16:54:33Z","author_association":"CONTRIBUTOR","body":"Hi, \r\nBtw the mentioned documentation is also very confusing, because it mentions the following  \r\n\r\n      \"field\"  : <post aggregator that refers to a DoublesSketch (fieldAccess or another post aggregator)>\r\n\r\nwhile it seems, by your example than you refer an **aggregator** (and not a post aggregator), i.e. \"value\" in your example.\r\nAm I interpreting right ?\r\n\r\nIt is **very** confusing to use the same name for the original metric and the aggregator using it, making impossible to read most examples (including the few ones in the docs) without ambiguity.\r\n\r\nAt this time, I have not been able to use quantilesDoublesSketchToQuantiles to compute medians for example :\r\n```\r\n\"aggregations\":[  \r\n {\r\n\t\t \"type\" : \"quantilesDoublesSketch\",\r\n\t\t\"name\" : \"datasketch_duration\",\r\n\t\t\"fieldName\" : \"duration\",\r\n\t\t\"k\": 256\r\n\t\t}\r\n]\r\n....\r\n \"postAggregations\":[\r\n{\r\n\t\t  \"type\"  : \"quantilesDoublesSketchToQuantile\",\r\n\t\t  \"name\": \"medianDurationDataSketches\",\r\n\t\t  \"field\"  :  {  \t\r\n                     \"fieldName\":\"datasketch_duration\",\r\n                     \"type\":\"fieldAccess\"\r\n                  },\r\n\t\t  \"fraction\" : 0.5\r\n\t\t}\r\n]\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/440737028/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/440821806","html_url":"https://github.com/apache/druid/pull/6649#issuecomment-440821806","issue_url":"https://api.github.com/repos/apache/druid/issues/6649","id":440821806,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDgyMTgwNg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-21T21:50:17Z","updated_at":"2018-11-21T21:50:17Z","author_association":"CONTRIBUTOR","body":"@clintropolis thanks for the review. I added a javadoc for `throwIfPossible`. Does it help to reduce confusion?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/440821806/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/440858906","html_url":"https://github.com/apache/druid/pull/6592#issuecomment-440858906","issue_url":"https://api.github.com/repos/apache/druid/issues/6592","id":440858906,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDg1ODkwNg==","user":{"login":"seoeun25","id":764939,"node_id":"MDQ6VXNlcjc2NDkzOQ==","avatar_url":"https://avatars.githubusercontent.com/u/764939?v=4","gravatar_id":"","url":"https://api.github.com/users/seoeun25","html_url":"https://github.com/seoeun25","followers_url":"https://api.github.com/users/seoeun25/followers","following_url":"https://api.github.com/users/seoeun25/following{/other_user}","gists_url":"https://api.github.com/users/seoeun25/gists{/gist_id}","starred_url":"https://api.github.com/users/seoeun25/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seoeun25/subscriptions","organizations_url":"https://api.github.com/users/seoeun25/orgs","repos_url":"https://api.github.com/users/seoeun25/repos","events_url":"https://api.github.com/users/seoeun25/events{/privacy}","received_events_url":"https://api.github.com/users/seoeun25/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-22T00:12:44Z","updated_at":"2018-11-22T00:12:44Z","author_association":"CONTRIBUTOR","body":"@QiuMM Thanks for the comments! updated doc.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/440858906/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/440894684","html_url":"https://github.com/apache/druid/issues/6651#issuecomment-440894684","issue_url":"https://api.github.com/repos/apache/druid/issues/6651","id":440894684,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDg5NDY4NA==","user":{"login":"zhaojiandong","id":5977839,"node_id":"MDQ6VXNlcjU5Nzc4Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/5977839?v=4","gravatar_id":"","url":"https://api.github.com/users/zhaojiandong","html_url":"https://github.com/zhaojiandong","followers_url":"https://api.github.com/users/zhaojiandong/followers","following_url":"https://api.github.com/users/zhaojiandong/following{/other_user}","gists_url":"https://api.github.com/users/zhaojiandong/gists{/gist_id}","starred_url":"https://api.github.com/users/zhaojiandong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhaojiandong/subscriptions","organizations_url":"https://api.github.com/users/zhaojiandong/orgs","repos_url":"https://api.github.com/users/zhaojiandong/repos","events_url":"https://api.github.com/users/zhaojiandong/events{/privacy}","received_events_url":"https://api.github.com/users/zhaojiandong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-22T02:34:45Z","updated_at":"2018-11-22T02:44:55Z","author_association":"CONTRIBUTOR","body":"> Hey @zhaojiandong,\r\n> \r\n> What result _do_ you get when you run this query? And what do you get if you add \"EXPLAIN PLAN FOR\" to the front of it?\r\n\r\nFor example, the inner SQL\r\n```\r\nSELECT\r\n    TIME_FLOOR(__time, 'PT1M') as t,\r\n    host,\r\n    sum(sum_value) as v\r\nFROM druid_metric_default\r\n```\r\n\r\nWe got:  \r\n\r\n| t | host | v  |\r\n| :------| :------ | :------ |\r\n| 2018-11-22T10:00:00.000Z   | druid-host1  | 100 |\r\n| 2018-11-22T10:00:00.000Z   | druid-host2  | 10 |\r\n| 2018-11-22T10:01:00.000Z    | druid-host1   |150 |\r\n| 2018-11-22T10:01:00.000Z    | druid-host2  | 12 |\r\n\r\n\r\nWe expect to  get when run the whole sql：\r\n\r\n| t | tps_host1 | tps_host2  |\r\n| :------| :------ | :------ |\r\n| 2018-11-22T10:00:00.000Z | 100 | 10 |\r\n| 2018-11-22T10:01:00.000Z  | 150 | 12 |\r\n\r\nActually We get:\r\n\r\n| t | tps_host1 | tps_host2  |\r\n| :------| :------ | :------ |\r\n|2018-11-22T10:00:00.000Z  |  0     |     0    |\r\n|2018-11-22T10:01:00.000Z   |  0      |    0    | \r\n\r\n@gianm \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/440894684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/441193988","html_url":"https://github.com/apache/druid/issues/6648#issuecomment-441193988","issue_url":"https://api.github.com/repos/apache/druid/issues/6648","id":441193988,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTE5Mzk4OA==","user":{"login":"pantaoran","id":7800702,"node_id":"MDQ6VXNlcjc4MDA3MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7800702?v=4","gravatar_id":"","url":"https://api.github.com/users/pantaoran","html_url":"https://github.com/pantaoran","followers_url":"https://api.github.com/users/pantaoran/followers","following_url":"https://api.github.com/users/pantaoran/following{/other_user}","gists_url":"https://api.github.com/users/pantaoran/gists{/gist_id}","starred_url":"https://api.github.com/users/pantaoran/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pantaoran/subscriptions","organizations_url":"https://api.github.com/users/pantaoran/orgs","repos_url":"https://api.github.com/users/pantaoran/repos","events_url":"https://api.github.com/users/pantaoran/events{/privacy}","received_events_url":"https://api.github.com/users/pantaoran/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-23T09:42:03Z","updated_at":"2018-11-23T09:42:03Z","author_association":"NONE","body":"> Failed status doesn't make sense for killed tasks. Their last status should be stopped or killed.\r\n\r\nYes, please do this. We trigger email alerts for failed tasks, and such a distinction would allow us to make that much less verbose.\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/441193988/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/441221917","html_url":"https://github.com/apache/druid/issues/6583#issuecomment-441221917","issue_url":"https://api.github.com/repos/apache/druid/issues/6583","id":441221917,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTIyMTkxNw==","user":{"login":"QiuMM","id":15156517,"node_id":"MDQ6VXNlcjE1MTU2NTE3","avatar_url":"https://avatars.githubusercontent.com/u/15156517?v=4","gravatar_id":"","url":"https://api.github.com/users/QiuMM","html_url":"https://github.com/QiuMM","followers_url":"https://api.github.com/users/QiuMM/followers","following_url":"https://api.github.com/users/QiuMM/following{/other_user}","gists_url":"https://api.github.com/users/QiuMM/gists{/gist_id}","starred_url":"https://api.github.com/users/QiuMM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/QiuMM/subscriptions","organizations_url":"https://api.github.com/users/QiuMM/orgs","repos_url":"https://api.github.com/users/QiuMM/repos","events_url":"https://api.github.com/users/QiuMM/events{/privacy}","received_events_url":"https://api.github.com/users/QiuMM/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-23T11:50:25Z","updated_at":"2018-11-23T11:50:25Z","author_association":"MEMBER","body":"@gianm do you have any comments? I have implemented it and it worked fine in production, but the implementation wasn't perfect since the way I solved #6578 wasn't elegant.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/441221917/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/441243502","html_url":"https://github.com/apache/druid/issues/6169#issuecomment-441243502","issue_url":"https://api.github.com/repos/apache/druid/issues/6169","id":441243502,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTI0MzUwMg==","user":{"login":"John-Athan","id":19330942,"node_id":"MDQ6VXNlcjE5MzMwOTQy","avatar_url":"https://avatars.githubusercontent.com/u/19330942?v=4","gravatar_id":"","url":"https://api.github.com/users/John-Athan","html_url":"https://github.com/John-Athan","followers_url":"https://api.github.com/users/John-Athan/followers","following_url":"https://api.github.com/users/John-Athan/following{/other_user}","gists_url":"https://api.github.com/users/John-Athan/gists{/gist_id}","starred_url":"https://api.github.com/users/John-Athan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/John-Athan/subscriptions","organizations_url":"https://api.github.com/users/John-Athan/orgs","repos_url":"https://api.github.com/users/John-Athan/repos","events_url":"https://api.github.com/users/John-Athan/events{/privacy}","received_events_url":"https://api.github.com/users/John-Athan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-23T13:38:53Z","updated_at":"2018-11-23T13:38:53Z","author_association":"NONE","body":"Hi @pdeva \r\nWe are experiencing the same issue. We are running Druid 0.12.3. Have you solved the issue yet?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/441243502/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/441417405","html_url":"https://github.com/apache/druid/issues/6660#issuecomment-441417405","issue_url":"https://api.github.com/repos/apache/druid/issues/6660","id":441417405,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTQxNzQwNQ==","user":{"login":"dragonls","id":2565118,"node_id":"MDQ6VXNlcjI1NjUxMTg=","avatar_url":"https://avatars.githubusercontent.com/u/2565118?v=4","gravatar_id":"","url":"https://api.github.com/users/dragonls","html_url":"https://github.com/dragonls","followers_url":"https://api.github.com/users/dragonls/followers","following_url":"https://api.github.com/users/dragonls/following{/other_user}","gists_url":"https://api.github.com/users/dragonls/gists{/gist_id}","starred_url":"https://api.github.com/users/dragonls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dragonls/subscriptions","organizations_url":"https://api.github.com/users/dragonls/orgs","repos_url":"https://api.github.com/users/dragonls/repos","events_url":"https://api.github.com/users/dragonls/events{/privacy}","received_events_url":"https://api.github.com/users/dragonls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-25T05:52:37Z","updated_at":"2018-11-25T05:52:37Z","author_association":"CONTRIBUTOR","body":"I think the `druid.zk.paths.base` in common configuration is what you need.\r\nhttp://druid.io/docs/latest/configuration/index.html#zookeper","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/441417405/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/441417551","html_url":"https://github.com/apache/druid/issues/6660#issuecomment-441417551","issue_url":"https://api.github.com/repos/apache/druid/issues/6660","id":441417551,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTQxNzU1MQ==","user":{"login":"Tagar","id":3013418,"node_id":"MDQ6VXNlcjMwMTM0MTg=","avatar_url":"https://avatars.githubusercontent.com/u/3013418?v=4","gravatar_id":"","url":"https://api.github.com/users/Tagar","html_url":"https://github.com/Tagar","followers_url":"https://api.github.com/users/Tagar/followers","following_url":"https://api.github.com/users/Tagar/following{/other_user}","gists_url":"https://api.github.com/users/Tagar/gists{/gist_id}","starred_url":"https://api.github.com/users/Tagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Tagar/subscriptions","organizations_url":"https://api.github.com/users/Tagar/orgs","repos_url":"https://api.github.com/users/Tagar/repos","events_url":"https://api.github.com/users/Tagar/events{/privacy}","received_events_url":"https://api.github.com/users/Tagar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-25T05:56:52Z","updated_at":"2018-11-25T05:56:52Z","author_association":"NONE","body":"Thank you. Yep, that's the one I was looking for.\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/441417551/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/441424598","html_url":"https://github.com/apache/druid/pull/6658#issuecomment-441424598","issue_url":"https://api.github.com/repos/apache/druid/issues/6658","id":441424598,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTQyNDU5OA==","user":{"login":"dkhwangbo","id":13585249,"node_id":"MDQ6VXNlcjEzNTg1MjQ5","avatar_url":"https://avatars.githubusercontent.com/u/13585249?v=4","gravatar_id":"","url":"https://api.github.com/users/dkhwangbo","html_url":"https://github.com/dkhwangbo","followers_url":"https://api.github.com/users/dkhwangbo/followers","following_url":"https://api.github.com/users/dkhwangbo/following{/other_user}","gists_url":"https://api.github.com/users/dkhwangbo/gists{/gist_id}","starred_url":"https://api.github.com/users/dkhwangbo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dkhwangbo/subscriptions","organizations_url":"https://api.github.com/users/dkhwangbo/orgs","repos_url":"https://api.github.com/users/dkhwangbo/repos","events_url":"https://api.github.com/users/dkhwangbo/events{/privacy}","received_events_url":"https://api.github.com/users/dkhwangbo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-25T08:42:39Z","updated_at":"2018-11-25T08:42:39Z","author_association":"CONTRIBUTOR","body":"@hellobabygogo \r\nHi. it would be great if you can write some documentation for this extension. For example, here's the documentation for Kafka emitter\r\n - https://github.com/apache/incubator-druid/blob/master/docs/content/development/extensions-contrib/kafka-emitter.md","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/441424598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/441429724","html_url":"https://github.com/apache/druid/issues/6661#issuecomment-441429724","issue_url":"https://api.github.com/repos/apache/druid/issues/6661","id":441429724,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTQyOTcyNA==","user":{"login":"erankor","id":4777488,"node_id":"MDQ6VXNlcjQ3Nzc0ODg=","avatar_url":"https://avatars.githubusercontent.com/u/4777488?v=4","gravatar_id":"","url":"https://api.github.com/users/erankor","html_url":"https://github.com/erankor","followers_url":"https://api.github.com/users/erankor/followers","following_url":"https://api.github.com/users/erankor/following{/other_user}","gists_url":"https://api.github.com/users/erankor/gists{/gist_id}","starred_url":"https://api.github.com/users/erankor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erankor/subscriptions","organizations_url":"https://api.github.com/users/erankor/orgs","repos_url":"https://api.github.com/users/erankor/repos","events_url":"https://api.github.com/users/erankor/events{/privacy}","received_events_url":"https://api.github.com/users/erankor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-25T10:20:33Z","updated_at":"2018-11-25T10:20:33Z","author_association":"NONE","body":"One more comment - I'm also seeing this behavior with segmentMetadata, this query took 34 sec -\r\n```\r\n{\r\n\t\"queryType\": \"segmentMetadata\",\r\n\t\"dataSource\": {\r\n\t\t\"type\": \"table\",\r\n\t\t\"name\": \"player-events-historical\"\r\n\t},\r\n\t\"intervals\": {\r\n\t\t\"type\": \"intervals\",\r\n\t\t\"intervals\": [\"-146136543-09-08T08:23:32.096Z/146140482-04-24T15:36:27.903Z \"]\r\n\t},\r\n\t\"toInclude\": {\r\n\t\t\"type\": \"all\"\r\n\t},\r\n\t\"merge\": true,\r\n\t\"context\": {\r\n\t\t\"queryId\": \"1b7f84f3-17f6-48d1-b04b-c7c295b4a3af\",\r\n\t\t\"timeout\": 40000\r\n\t},\r\n\t\"analysisTypes\": [\"aggregators\"],\r\n\t\"usingDefaultInterval\": true,\r\n\t\"lenientAggregatorMerge\": true,\r\n\t\"descending\": false\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/441429724/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/441437775","html_url":"https://github.com/apache/druid/pull/6658#issuecomment-441437775","issue_url":"https://api.github.com/repos/apache/druid/issues/6658","id":441437775,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTQzNzc3NQ==","user":{"login":"hellobabygogo","id":8693129,"node_id":"MDQ6VXNlcjg2OTMxMjk=","avatar_url":"https://avatars.githubusercontent.com/u/8693129?v=4","gravatar_id":"","url":"https://api.github.com/users/hellobabygogo","html_url":"https://github.com/hellobabygogo","followers_url":"https://api.github.com/users/hellobabygogo/followers","following_url":"https://api.github.com/users/hellobabygogo/following{/other_user}","gists_url":"https://api.github.com/users/hellobabygogo/gists{/gist_id}","starred_url":"https://api.github.com/users/hellobabygogo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hellobabygogo/subscriptions","organizations_url":"https://api.github.com/users/hellobabygogo/orgs","repos_url":"https://api.github.com/users/hellobabygogo/repos","events_url":"https://api.github.com/users/hellobabygogo/events{/privacy}","received_events_url":"https://api.github.com/users/hellobabygogo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-25T12:42:46Z","updated_at":"2018-11-25T12:42:46Z","author_association":"NONE","body":"> @hellobabygogo\r\n> Hi. it would be great if you can write some documentation for this extension. For example, here's the documentation for Kafka emitter\r\n> \r\n> * https://github.com/apache/incubator-druid/blob/master/docs/content/development/extensions-contrib/kafka-emitter.md\r\n\r\nok","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/441437775/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/441471913","html_url":"https://github.com/apache/druid/pull/6581#issuecomment-441471913","issue_url":"https://api.github.com/repos/apache/druid/issues/6581","id":441471913,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTQ3MTkxMw==","user":{"login":"edgan8","id":2577963,"node_id":"MDQ6VXNlcjI1Nzc5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/2577963?v=4","gravatar_id":"","url":"https://api.github.com/users/edgan8","html_url":"https://github.com/edgan8","followers_url":"https://api.github.com/users/edgan8/followers","following_url":"https://api.github.com/users/edgan8/following{/other_user}","gists_url":"https://api.github.com/users/edgan8/gists{/gist_id}","starred_url":"https://api.github.com/users/edgan8/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edgan8/subscriptions","organizations_url":"https://api.github.com/users/edgan8/orgs","repos_url":"https://api.github.com/users/edgan8/repos","events_url":"https://api.github.com/users/edgan8/events{/privacy}","received_events_url":"https://api.github.com/users/edgan8/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-25T20:48:39Z","updated_at":"2018-11-25T20:48:39Z","author_association":"CONTRIBUTOR","body":"Thanks for the review @jon-wei, @leventov, I'll make the changes and add the min/max post-aggregators.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/441471913/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/441496663","html_url":"https://github.com/apache/druid/issues/6583#issuecomment-441496663","issue_url":"https://api.github.com/repos/apache/druid/issues/6583","id":441496663,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTQ5NjY2Mw==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-26T01:56:16Z","updated_at":"2018-11-26T01:56:16Z","author_association":"CONTRIBUTOR","body":"Just wanted to add my 2c: but I had added that feature in https://github.com/implydata/plyql (see `--rollup` flag). It was very useful but was not on by default.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/441496663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/441506589","html_url":"https://github.com/apache/druid/issues/6583#issuecomment-441506589","issue_url":"https://api.github.com/repos/apache/druid/issues/6583","id":441506589,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTUwNjU4OQ==","user":{"login":"QiuMM","id":15156517,"node_id":"MDQ6VXNlcjE1MTU2NTE3","avatar_url":"https://avatars.githubusercontent.com/u/15156517?v=4","gravatar_id":"","url":"https://api.github.com/users/QiuMM","html_url":"https://github.com/QiuMM","followers_url":"https://api.github.com/users/QiuMM/followers","following_url":"https://api.github.com/users/QiuMM/following{/other_user}","gists_url":"https://api.github.com/users/QiuMM/gists{/gist_id}","starred_url":"https://api.github.com/users/QiuMM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/QiuMM/subscriptions","organizations_url":"https://api.github.com/users/QiuMM/orgs","repos_url":"https://api.github.com/users/QiuMM/repos","events_url":"https://api.github.com/users/QiuMM/events{/privacy}","received_events_url":"https://api.github.com/users/QiuMM/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-26T03:11:09Z","updated_at":"2018-11-26T03:11:09Z","author_association":"MEMBER","body":"@vogievetsky I known that plyql support `COUNT() -> SUM(count)`, but not everyone who use Druid would use the plyql, besides plyql is just a CLI program. IMO support this feature inside of Druid would be great.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/441506589/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/441508832","html_url":"https://github.com/apache/druid/issues/6537#issuecomment-441508832","issue_url":"https://api.github.com/repos/apache/druid/issues/6537","id":441508832,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTUwODgzMg==","user":{"login":"dragonls","id":2565118,"node_id":"MDQ6VXNlcjI1NjUxMTg=","avatar_url":"https://avatars.githubusercontent.com/u/2565118?v=4","gravatar_id":"","url":"https://api.github.com/users/dragonls","html_url":"https://github.com/dragonls","followers_url":"https://api.github.com/users/dragonls/followers","following_url":"https://api.github.com/users/dragonls/following{/other_user}","gists_url":"https://api.github.com/users/dragonls/gists{/gist_id}","starred_url":"https://api.github.com/users/dragonls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dragonls/subscriptions","organizations_url":"https://api.github.com/users/dragonls/orgs","repos_url":"https://api.github.com/users/dragonls/repos","events_url":"https://api.github.com/users/dragonls/events{/privacy}","received_events_url":"https://api.github.com/users/dragonls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-26T03:28:23Z","updated_at":"2018-11-26T03:28:23Z","author_association":"CONTRIBUTOR","body":"Are you using local mr and start lots of jobs at the same time?\r\nIf yes, it is cased by the local mr instead of Druid. (Local mr will store the files and folders with a unix timestamp which may case FileAlreadyExistsException.)\r\nMy solution is to start the job one by one and add some retry logic.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/441508832/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/441693567","html_url":"https://github.com/apache/druid/pull/6656#issuecomment-441693567","issue_url":"https://api.github.com/repos/apache/druid/issues/6656","id":441693567,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTY5MzU2Nw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-26T16:03:02Z","updated_at":"2018-11-26T16:03:02Z","author_association":"MEMBER","body":"@QiuMM please don't specify milestones for any non-bug PRs. I know that a lot of people do this, but it's a bad practice. See https://groups.google.com/d/msg/druid-development/QPZUIzLtZ2I/eZyw8BoVCgAJ.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/441693567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/441698159","html_url":"https://github.com/apache/druid/pull/6656#issuecomment-441698159","issue_url":"https://api.github.com/repos/apache/druid/issues/6656","id":441698159,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTY5ODE1OQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-26T16:14:09Z","updated_at":"2018-11-26T16:14:09Z","author_association":"CONTRIBUTOR","body":"@leventov strongly disagree. I think where possible we should try to assign milestones to PRs we want to get in and aim to have the PR reviewed and merged before then. If the PR needs to be pushed back to a future release we can always do that.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/441698159/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/441724592","html_url":"https://github.com/apache/druid/pull/6656#issuecomment-441724592","issue_url":"https://api.github.com/repos/apache/druid/issues/6656","id":441724592,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTcyNDU5Mg==","user":{"login":"QiuMM","id":15156517,"node_id":"MDQ6VXNlcjE1MTU2NTE3","avatar_url":"https://avatars.githubusercontent.com/u/15156517?v=4","gravatar_id":"","url":"https://api.github.com/users/QiuMM","html_url":"https://github.com/QiuMM","followers_url":"https://api.github.com/users/QiuMM/followers","following_url":"https://api.github.com/users/QiuMM/following{/other_user}","gists_url":"https://api.github.com/users/QiuMM/gists{/gist_id}","starred_url":"https://api.github.com/users/QiuMM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/QiuMM/subscriptions","organizations_url":"https://api.github.com/users/QiuMM/orgs","repos_url":"https://api.github.com/users/QiuMM/repos","events_url":"https://api.github.com/users/QiuMM/events{/privacy}","received_events_url":"https://api.github.com/users/QiuMM/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-26T17:25:53Z","updated_at":"2018-11-26T17:25:53Z","author_association":"MEMBER","body":"@leventov although this PR did not fix bug in the code, it fixed the docs. There is no effect when specify value for `druid.peon.defaultSegmentWriteOutMediumFactory` unless set value for `druid.peon.defaultSegmentWriteOutMediumFactory.@type`, but people do not know it. So this PR fixed this thing and because `@type` looks strange then I modified it.  Since this PR is important(I think), I added this to the 0.13.1 milestone.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/441724592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442001119","html_url":"https://github.com/apache/druid/issues/6574#issuecomment-442001119","issue_url":"https://api.github.com/repos/apache/druid/issues/6574","id":442001119,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjAwMTExOQ==","user":{"login":"dragonls","id":2565118,"node_id":"MDQ6VXNlcjI1NjUxMTg=","avatar_url":"https://avatars.githubusercontent.com/u/2565118?v=4","gravatar_id":"","url":"https://api.github.com/users/dragonls","html_url":"https://github.com/dragonls","followers_url":"https://api.github.com/users/dragonls/followers","following_url":"https://api.github.com/users/dragonls/following{/other_user}","gists_url":"https://api.github.com/users/dragonls/gists{/gist_id}","starred_url":"https://api.github.com/users/dragonls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dragonls/subscriptions","organizations_url":"https://api.github.com/users/dragonls/orgs","repos_url":"https://api.github.com/users/dragonls/repos","events_url":"https://api.github.com/users/dragonls/events{/privacy}","received_events_url":"https://api.github.com/users/dragonls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-27T10:07:44Z","updated_at":"2018-11-27T10:07:44Z","author_association":"CONTRIBUTOR","body":"Usually, if the historical nodes share the same host, why not just start one historical node with higher memory and more threads? I just wonder that.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442001119/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442080308","html_url":"https://github.com/apache/druid/pull/6664#issuecomment-442080308","issue_url":"https://api.github.com/repos/apache/druid/issues/6664","id":442080308,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjA4MDMwOA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-27T14:36:27Z","updated_at":"2018-11-27T14:36:27Z","author_association":"MEMBER","body":"An issue about reader/writer race: https://github.com/apache/incubator-druid/issues/6665","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442080308/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442083343","html_url":"https://github.com/apache/druid/pull/6664#issuecomment-442083343","issue_url":"https://api.github.com/repos/apache/druid/issues/6664","id":442083343,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjA4MzM0Mw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-27T14:44:47Z","updated_at":"2018-11-27T14:44:47Z","author_association":"MEMBER","body":"This issue might be a tip of an iceberg: https://github.com/apache/incubator-druid/issues/6666","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442083343/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442106127","html_url":"https://github.com/apache/druid/issues/6574#issuecomment-442106127","issue_url":"https://api.github.com/repos/apache/druid/issues/6574","id":442106127,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjEwNjEyNw==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-27T15:44:06Z","updated_at":"2018-11-27T15:44:06Z","author_association":"CONTRIBUTOR","body":"I suspect this has the greatest likelihood of showing up in a containerized environment where you may or may not have guarantees over isolation at the network level. In the world of \"make one config you know *works* and stamp it out with only superficial care for what the underlying hardware looks like\" (aka: the promise of containers), a scenario can easily arise where you have multiple JVMs on the same network interface, but different ports. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442106127/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442114967","html_url":"https://github.com/apache/druid/issues/6667#issuecomment-442114967","issue_url":"https://api.github.com/repos/apache/druid/issues/6667","id":442114967,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjExNDk2Nw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-27T16:06:10Z","updated_at":"2018-11-27T16:06:10Z","author_association":"MEMBER","body":"This issue belongs to https://github.com/alibaba/druid","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442114967/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442115590","html_url":"https://github.com/apache/druid/issues/5447#issuecomment-442115590","issue_url":"https://api.github.com/repos/apache/druid/issues/5447","id":442115590,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjExNTU5MA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-27T16:07:49Z","updated_at":"2018-11-27T16:07:49Z","author_association":"MEMBER","body":"@nishantmonu51 it's an entirely different project.\r\n\r\n@yaodwwy this issue belongs to https://github.com/alibaba/druid","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442115590/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442115726","html_url":"https://github.com/apache/druid/issues/5168#issuecomment-442115726","issue_url":"https://api.github.com/repos/apache/druid/issues/5168","id":442115726,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjExNTcyNg==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-27T16:08:08Z","updated_at":"2018-11-27T16:08:08Z","author_association":"MEMBER","body":"This issue belongs to https://github.com/alibaba/druid","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442115726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442115939","html_url":"https://github.com/apache/druid/issues/4864#issuecomment-442115939","issue_url":"https://api.github.com/repos/apache/druid/issues/4864","id":442115939,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjExNTkzOQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-27T16:08:43Z","updated_at":"2018-11-27T16:08:43Z","author_association":"MEMBER","body":"This issue belongs to https://github.com/alibaba/druid","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442115939/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442161311","html_url":"https://github.com/apache/druid/issues/6666#issuecomment-442161311","issue_url":"https://api.github.com/repos/apache/druid/issues/6666","id":442161311,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjE2MTMxMQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-27T18:13:53Z","updated_at":"2018-11-27T18:13:53Z","author_association":"MEMBER","body":"`AWSCredentialsConfig` is confirmed to be a subject for a race.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442161311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442208872","html_url":"https://github.com/apache/druid/pull/6538#issuecomment-442208872","issue_url":"https://api.github.com/repos/apache/druid/issues/6538","id":442208872,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjIwODg3Mg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-27T20:39:54Z","updated_at":"2018-11-27T20:39:54Z","author_association":"CONTRIBUTOR","body":"Hi @quode, I'm going to close this for now - please reopen if you are interested in working on it some more, or if you have some thoughts on my comment: https://github.com/apache/incubator-druid/pull/6538#issuecomment-435224421","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442208872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442211549","html_url":"https://github.com/apache/druid/issues/6668#issuecomment-442211549","issue_url":"https://api.github.com/repos/apache/druid/issues/6668","id":442211549,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjIxMTU0OQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-27T20:48:44Z","updated_at":"2018-11-27T20:48:44Z","author_association":"CONTRIBUTOR","body":"Hi @anuprk, thank you for reporting this. It seems that recent versions of maven can handle this properly (https://github.com/kongchen/swagger-maven-plugin/issues/441#issuecomment-283072599). I tried 3.6.0 and it works. Would you try again with the latest version of maven?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442211549/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442213636","html_url":"https://github.com/apache/druid/pull/6669#issuecomment-442213636","issue_url":"https://api.github.com/repos/apache/druid/issues/6669","id":442213636,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjIxMzYzNg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-27T20:55:35Z","updated_at":"2018-11-27T20:55:35Z","author_association":"CONTRIBUTOR","body":"@leventov I've just double checked and confirmed there's no missing tests.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442213636/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442238071","html_url":"https://github.com/apache/druid/pull/6654#issuecomment-442238071","issue_url":"https://api.github.com/repos/apache/druid/issues/6654","id":442238071,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjIzODA3MQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-27T22:14:08Z","updated_at":"2018-11-27T22:14:08Z","author_association":"CONTRIBUTOR","body":"Thanks @asdf2014 for reviewing!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442238071/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442250920","html_url":"https://github.com/apache/druid/pull/6505#issuecomment-442250920","issue_url":"https://api.github.com/repos/apache/druid/issues/6505","id":442250920,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjI1MDkyMA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-27T22:58:54Z","updated_at":"2018-11-27T22:58:54Z","author_association":"CONTRIBUTOR","body":"Hi @a2l007 - this patch looks good, but it should have a test. Could you please add one? GroupByQueryRunnerTest is probably the right test file to add it to.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442250920/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442252632","html_url":"https://github.com/apache/druid/pull/5871#issuecomment-442252632","issue_url":"https://api.github.com/repos/apache/druid/issues/5871","id":442252632,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjI1MjYzMg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-27T23:05:22Z","updated_at":"2018-11-27T23:05:22Z","author_association":"CONTRIBUTOR","body":"Hi @hellobabygogo, do you still think this PR is worth?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442252632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442253426","html_url":"https://github.com/apache/druid/pull/6360#issuecomment-442253426","issue_url":"https://api.github.com/repos/apache/druid/issues/6360","id":442253426,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjI1MzQyNg==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-27T23:08:39Z","updated_at":"2018-11-27T23:08:39Z","author_association":"CONTRIBUTOR","body":"Change to index spec inputFormat (org.apache.druid.data.input.parquet.simple.DruidParquetInputFormat) should be called out in release notes","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442253426/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442255679","html_url":"https://github.com/apache/druid/pull/6663#issuecomment-442255679","issue_url":"https://api.github.com/repos/apache/druid/issues/6663","id":442255679,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjI1NTY3OQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-27T23:17:58Z","updated_at":"2018-11-27T23:17:58Z","author_association":"CONTRIBUTOR","body":"Thanks @QiuMM! Looks good to me.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442255679/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442265103","html_url":"https://github.com/apache/druid/pull/6656#issuecomment-442265103","issue_url":"https://api.github.com/repos/apache/druid/issues/6656","id":442265103,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjI2NTEwMw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-27T23:59:54Z","updated_at":"2018-11-27T23:59:54Z","author_association":"CONTRIBUTOR","body":"LGTM. I'm merging this PR.\r\n\r\nRegarding milestone, @leventov started a thread on our dev mailing list (http://mail-archives.apache.org/mod_mbox/druid-dev/201811.mbox/%3CCAAMLo=Y_d1tXtgWpt_E7uD7zwh6=rDop-B_3O73HnQwBMRo2TQ@mail.gmail.com%3E), and so we can continue discussion there. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442265103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442290014","html_url":"https://github.com/apache/druid/pull/5871#issuecomment-442290014","issue_url":"https://api.github.com/repos/apache/druid/issues/5871","id":442290014,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjI5MDAxNA==","user":{"login":"hellobabygogo","id":8693129,"node_id":"MDQ6VXNlcjg2OTMxMjk=","avatar_url":"https://avatars.githubusercontent.com/u/8693129?v=4","gravatar_id":"","url":"https://api.github.com/users/hellobabygogo","html_url":"https://github.com/hellobabygogo","followers_url":"https://api.github.com/users/hellobabygogo/followers","following_url":"https://api.github.com/users/hellobabygogo/following{/other_user}","gists_url":"https://api.github.com/users/hellobabygogo/gists{/gist_id}","starred_url":"https://api.github.com/users/hellobabygogo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hellobabygogo/subscriptions","organizations_url":"https://api.github.com/users/hellobabygogo/orgs","repos_url":"https://api.github.com/users/hellobabygogo/repos","events_url":"https://api.github.com/users/hellobabygogo/events{/privacy}","received_events_url":"https://api.github.com/users/hellobabygogo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-28T02:01:33Z","updated_at":"2018-11-28T02:01:33Z","author_association":"NONE","body":"> Hi @hellobabygogo, do you still think this PR is worth?\r\n\r\nhi @jihoonson, it works in my product env, we still not found another better way.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442290014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442291156","html_url":"https://github.com/apache/druid/pull/5871#issuecomment-442291156","issue_url":"https://api.github.com/repos/apache/druid/issues/5871","id":442291156,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjI5MTE1Ng==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-28T02:07:31Z","updated_at":"2018-11-28T02:07:31Z","author_association":"CONTRIBUTOR","body":"@hellobabygogo thanks for checking. Would you please check my last comment?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442291156/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442294376","html_url":"https://github.com/apache/druid/pull/6654#issuecomment-442294376","issue_url":"https://api.github.com/repos/apache/druid/issues/6654","id":442294376,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjI5NDM3Ng==","user":{"login":"asdf2014","id":8108788,"node_id":"MDQ6VXNlcjgxMDg3ODg=","avatar_url":"https://avatars.githubusercontent.com/u/8108788?v=4","gravatar_id":"","url":"https://api.github.com/users/asdf2014","html_url":"https://github.com/asdf2014","followers_url":"https://api.github.com/users/asdf2014/followers","following_url":"https://api.github.com/users/asdf2014/following{/other_user}","gists_url":"https://api.github.com/users/asdf2014/gists{/gist_id}","starred_url":"https://api.github.com/users/asdf2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asdf2014/subscriptions","organizations_url":"https://api.github.com/users/asdf2014/orgs","repos_url":"https://api.github.com/users/asdf2014/repos","events_url":"https://api.github.com/users/asdf2014/events{/privacy}","received_events_url":"https://api.github.com/users/asdf2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-28T02:23:56Z","updated_at":"2018-11-28T02:23:56Z","author_association":"MEMBER","body":"@gianm You are welcome.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442294376/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442310118","html_url":"https://github.com/apache/druid/pull/5871#issuecomment-442310118","issue_url":"https://api.github.com/repos/apache/druid/issues/5871","id":442310118,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjMxMDExOA==","user":{"login":"hellobabygogo","id":8693129,"node_id":"MDQ6VXNlcjg2OTMxMjk=","avatar_url":"https://avatars.githubusercontent.com/u/8693129?v=4","gravatar_id":"","url":"https://api.github.com/users/hellobabygogo","html_url":"https://github.com/hellobabygogo","followers_url":"https://api.github.com/users/hellobabygogo/followers","following_url":"https://api.github.com/users/hellobabygogo/following{/other_user}","gists_url":"https://api.github.com/users/hellobabygogo/gists{/gist_id}","starred_url":"https://api.github.com/users/hellobabygogo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hellobabygogo/subscriptions","organizations_url":"https://api.github.com/users/hellobabygogo/orgs","repos_url":"https://api.github.com/users/hellobabygogo/repos","events_url":"https://api.github.com/users/hellobabygogo/events{/privacy}","received_events_url":"https://api.github.com/users/hellobabygogo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-28T03:52:15Z","updated_at":"2018-11-28T05:21:05Z","author_association":"NONE","body":"> @hellobabygogo sorry for the delayed review.. I think I still don't fully understand what the fundamental problem is. My questions are:\r\n> \r\n> 1. task2 looks suspicious to me. Why was task2 started even though task1 was running?\r\n> 2. with this PR, the overlord can reject starting the supervisor with a new spec if pendingTaskGroup is not empty. Then, what happens if stream data is continuously ingested and there are always some running and publish pending tasks? Is it possible that this solution can work without pausing stream ingestion?\r\n> \r\n> Probably #6001 can fix this as well. #6001 is to preserve the order of publishing segments, so that early task always publishes its segments earlier than later tasks.\r\nhi, @jihoonson \r\n1. task2 started when task1 is PUBLISHING status.\r\n2. with this PR, if stream data is continuously ingested and there are always some running and publish pending tasks, we shouldn't starting  the supervisor with a new spec. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442310118/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442310824","html_url":"https://github.com/apache/druid/issues/6001#issuecomment-442310824","issue_url":"https://api.github.com/repos/apache/druid/issues/6001","id":442310824,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjMxMDgyNA==","user":{"login":"hellobabygogo","id":8693129,"node_id":"MDQ6VXNlcjg2OTMxMjk=","avatar_url":"https://avatars.githubusercontent.com/u/8693129?v=4","gravatar_id":"","url":"https://api.github.com/users/hellobabygogo","html_url":"https://github.com/hellobabygogo","followers_url":"https://api.github.com/users/hellobabygogo/followers","following_url":"https://api.github.com/users/hellobabygogo/following{/other_user}","gists_url":"https://api.github.com/users/hellobabygogo/gists{/gist_id}","starred_url":"https://api.github.com/users/hellobabygogo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hellobabygogo/subscriptions","organizations_url":"https://api.github.com/users/hellobabygogo/orgs","repos_url":"https://api.github.com/users/hellobabygogo/repos","events_url":"https://api.github.com/users/hellobabygogo/events{/privacy}","received_events_url":"https://api.github.com/users/hellobabygogo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-28T03:56:55Z","updated_at":"2018-11-28T03:56:55Z","author_association":"NONE","body":"> In Kafka indexing service, the overlord does a sanity check that the start offsets of partitions of current publishing segments are same with the ones stored in metastore, so that it guarantees that all segments are published in order. Because of this check, some tasks might fail in this scenario.\r\n> \r\n> 1. The supervisor created a task (`T1`) with a start offset `O1`.\r\n> 2. Somehow, the supervisor couldn't send an endOffset `O2` to `T1` in `taskDuration`. Instead, it sent an endOffset `O3` to `T1` after `taskDuration * 10`. (In our case, supervisor couldn't send because of too frequent HTTP connection refused errors.)\r\n> 3. `T1` started to merge, push, and publish segments.\r\n> 4. The supervisor created a new task, `T2`, with a start offset `O3`.\r\n> 5. After `taskDuration`, it sent an endOffset `O4` to `T2`.\r\n> 6. `T2` started to merge, push, and publish segments.\r\n> 7. Since `T1` had run for a much longer time, it had much more segments to publish than `T2`. As a result, `T2` tried to publish before `T1` complete publishing.\r\n> 8. `T2` failed to publish because of the sanity check when updating metastore.\r\n> \r\n> So, I think the supervisor should be able to guarantee segment publishing order across all running tasks like below.\r\n> \r\n> ```\r\n> T1: indexing ===> pushing ===> publishing ===> handoff\r\n>               T2: indexing ===> pushing ===> publishing ===> handoff\r\n>                             T3: indexing ===> pushing ===> publishing ===> handoff\r\n>                                           ...\r\n> ```\r\n> To do so, I suppose the supervisor should be able to send pushing signals to kafka tasks as well as publishing signals.\r\n\r\ngood idea!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442310824/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442328947","html_url":"https://github.com/apache/druid/issues/6668#issuecomment-442328947","issue_url":"https://api.github.com/repos/apache/druid/issues/6668","id":442328947,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjMyODk0Nw==","user":{"login":"anuprk","id":833601,"node_id":"MDQ6VXNlcjgzMzYwMQ==","avatar_url":"https://avatars.githubusercontent.com/u/833601?v=4","gravatar_id":"","url":"https://api.github.com/users/anuprk","html_url":"https://github.com/anuprk","followers_url":"https://api.github.com/users/anuprk/followers","following_url":"https://api.github.com/users/anuprk/following{/other_user}","gists_url":"https://api.github.com/users/anuprk/gists{/gist_id}","starred_url":"https://api.github.com/users/anuprk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuprk/subscriptions","organizations_url":"https://api.github.com/users/anuprk/orgs","repos_url":"https://api.github.com/users/anuprk/repos","events_url":"https://api.github.com/users/anuprk/events{/privacy}","received_events_url":"https://api.github.com/users/anuprk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-28T05:53:31Z","updated_at":"2018-11-28T05:53:31Z","author_association":"NONE","body":"Thanks @jihoonson. Maven 3.6.0 seems to be working. But I am getting below compilation error with JDK8. \r\n\r\nsrc/main/java/org/apache/druid/segment/StringDimensionMergerV9.java:[141,50] incompatible types: inferred type does not conform to upper bound(s)\r\n[ERROR]     inferred: org.apache.druid.segment.data.CloseableIndexed<T>\r\n[ERROR]     upper bound(s): org.apache.druid.segment.data.Indexed<java.lang.String>,java.io.Closeable\r\n[ERROR]","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442328947/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442332269","html_url":"https://github.com/apache/druid/issues/3594#issuecomment-442332269","issue_url":"https://api.github.com/repos/apache/druid/issues/3594","id":442332269,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjMzMjI2OQ==","user":{"login":"Tagar","id":3013418,"node_id":"MDQ6VXNlcjMwMTM0MTg=","avatar_url":"https://avatars.githubusercontent.com/u/3013418?v=4","gravatar_id":"","url":"https://api.github.com/users/Tagar","html_url":"https://github.com/Tagar","followers_url":"https://api.github.com/users/Tagar/followers","following_url":"https://api.github.com/users/Tagar/following{/other_user}","gists_url":"https://api.github.com/users/Tagar/gists{/gist_id}","starred_url":"https://api.github.com/users/Tagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Tagar/subscriptions","organizations_url":"https://api.github.com/users/Tagar/orgs","repos_url":"https://api.github.com/users/Tagar/repos","events_url":"https://api.github.com/users/Tagar/events{/privacy}","received_events_url":"https://api.github.com/users/Tagar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-28T06:13:13Z","updated_at":"2018-11-28T06:13:13Z","author_association":"NONE","body":"I just submitted similar issue https://github.com/apache/incubator-druid/issues/6673 \r\n\r\n@yanf820, @rahulsingh303 did you guys solve this ?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442332269/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442333290","html_url":"https://github.com/apache/druid/issues/6651#issuecomment-442333290","issue_url":"https://api.github.com/repos/apache/druid/issues/6651","id":442333290,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjMzMzI5MA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-28T06:19:11Z","updated_at":"2018-11-28T06:19:11Z","author_association":"CONTRIBUTOR","body":"Hi @zhaojiandong,\r\n\r\nI tried a similar query on master and got a correct result. It is possible something has been fixed here since the version you're using. Could you tell if this query works in master (or even in the latest 0.13.0 RC, available at https://dist.apache.org/repos/dist/dev/incubator/druid/0.13.0-incubating-rc3/)?\r\n\r\nIf you still find issues in master, could you please write a unit test that shows the problem, in CalciteQueryTest?\r\n\r\nThanks!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442333290/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442341347","html_url":"https://github.com/apache/druid/issues/6673#issuecomment-442341347","issue_url":"https://api.github.com/repos/apache/druid/issues/6673","id":442341347,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjM0MTM0Nw==","user":{"login":"Tagar","id":3013418,"node_id":"MDQ6VXNlcjMwMTM0MTg=","avatar_url":"https://avatars.githubusercontent.com/u/3013418?v=4","gravatar_id":"","url":"https://api.github.com/users/Tagar","html_url":"https://github.com/Tagar","followers_url":"https://api.github.com/users/Tagar/followers","following_url":"https://api.github.com/users/Tagar/following{/other_user}","gists_url":"https://api.github.com/users/Tagar/gists{/gist_id}","starred_url":"https://api.github.com/users/Tagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Tagar/subscriptions","organizations_url":"https://api.github.com/users/Tagar/orgs","repos_url":"https://api.github.com/users/Tagar/repos","events_url":"https://api.github.com/users/Tagar/events{/privacy}","received_events_url":"https://api.github.com/users/Tagar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-28T07:01:52Z","updated_at":"2018-11-28T07:01:52Z","author_association":"NONE","body":"Error happens here \r\nhttps://github.com/apache/incubator-druid/blob/0.12.3/services/src/main/java/io/druid/cli/CliInternalHadoopIndexer.java#L97\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442341347/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442342142","html_url":"https://github.com/apache/druid/issues/6673#issuecomment-442342142","issue_url":"https://api.github.com/repos/apache/druid/issues/6673","id":442342142,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjM0MjE0Mg==","user":{"login":"Tagar","id":3013418,"node_id":"MDQ6VXNlcjMwMTM0MTg=","avatar_url":"https://avatars.githubusercontent.com/u/3013418?v=4","gravatar_id":"","url":"https://api.github.com/users/Tagar","html_url":"https://github.com/Tagar","followers_url":"https://api.github.com/users/Tagar/followers","following_url":"https://api.github.com/users/Tagar/following{/other_user}","gists_url":"https://api.github.com/users/Tagar/gists{/gist_id}","starred_url":"https://api.github.com/users/Tagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Tagar/subscriptions","organizations_url":"https://api.github.com/users/Tagar/orgs","repos_url":"https://api.github.com/users/Tagar/repos","events_url":"https://api.github.com/users/Tagar/events{/privacy}","received_events_url":"https://api.github.com/users/Tagar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-28T07:05:47Z","updated_at":"2018-11-28T07:05:47Z","author_association":"NONE","body":"NPE probably happens because `metadataSpec` is null returned by \r\nhttps://github.com/apache/incubator-druid/blob/0.12.3/services/src/main/java/io/druid/cli/CliInternalHadoopIndexer.java#L91\r\n(my json file doesn't have `metadataUpdateSpec` ) - I thought it is optional.\r\n\r\nHopefully this would be captured and reported better, and hopefully documented too.\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442342142/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442342688","html_url":"https://github.com/apache/druid/issues/6673#issuecomment-442342688","issue_url":"https://api.github.com/repos/apache/druid/issues/6673","id":442342688,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjM0MjY4OA==","user":{"login":"Tagar","id":3013418,"node_id":"MDQ6VXNlcjMwMTM0MTg=","avatar_url":"https://avatars.githubusercontent.com/u/3013418?v=4","gravatar_id":"","url":"https://api.github.com/users/Tagar","html_url":"https://github.com/Tagar","followers_url":"https://api.github.com/users/Tagar/followers","following_url":"https://api.github.com/users/Tagar/following{/other_user}","gists_url":"https://api.github.com/users/Tagar/gists{/gist_id}","starred_url":"https://api.github.com/users/Tagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Tagar/subscriptions","organizations_url":"https://api.github.com/users/Tagar/orgs","repos_url":"https://api.github.com/users/Tagar/repos","events_url":"https://api.github.com/users/Tagar/events{/privacy}","received_events_url":"https://api.github.com/users/Tagar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-28T07:08:28Z","updated_at":"2018-11-28T07:08:28Z","author_association":"NONE","body":"I found it is documented here http://druid.io/docs/latest/ingestion/command-line-hadoop-indexer.html \r\nbut the error still should be reported better. \r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442342688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442357056","html_url":"https://github.com/apache/druid/issues/6675#issuecomment-442357056","issue_url":"https://api.github.com/repos/apache/druid/issues/6675","id":442357056,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjM1NzA1Ng==","user":{"login":"Tagar","id":3013418,"node_id":"MDQ6VXNlcjMwMTM0MTg=","avatar_url":"https://avatars.githubusercontent.com/u/3013418?v=4","gravatar_id":"","url":"https://api.github.com/users/Tagar","html_url":"https://github.com/Tagar","followers_url":"https://api.github.com/users/Tagar/followers","following_url":"https://api.github.com/users/Tagar/following{/other_user}","gists_url":"https://api.github.com/users/Tagar/gists{/gist_id}","starred_url":"https://api.github.com/users/Tagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Tagar/subscriptions","organizations_url":"https://api.github.com/users/Tagar/orgs","repos_url":"https://api.github.com/users/Tagar/repos","events_url":"https://api.github.com/users/Tagar/events{/privacy}","received_events_url":"https://api.github.com/users/Tagar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-28T08:12:07Z","updated_at":"2018-11-28T08:12:07Z","author_association":"NONE","body":"Was missing /etc/hadoop/conf in classpath\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442357056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442364014","html_url":"https://github.com/apache/druid/issues/6666#issuecomment-442364014","issue_url":"https://api.github.com/repos/apache/druid/issues/6666","id":442364014,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjM2NDAxNA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-28T08:38:12Z","updated_at":"2018-11-28T08:38:12Z","author_association":"CONTRIBUTOR","body":"What's the race that could be abused?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442364014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442364514","html_url":"https://github.com/apache/druid/issues/6665#issuecomment-442364514","issue_url":"https://api.github.com/repos/apache/druid/issues/6665","id":442364514,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjM2NDUxNA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-28T08:40:04Z","updated_at":"2018-11-28T08:40:04Z","author_association":"CONTRIBUTOR","body":"Are you talking about Druid possibly reading partially-written content from a file? If so, then in general, the right way to update a file on a POSIX system that might have concurrent readers is to write a tmp file on the same filesystem, and then rename the new file over the old one. If you need the file's data to be durable after a system crash, you should fsync the file too, and the directory entry for the parent directory. The file updater external to Druid should be doing all of that, and if it does, then Druid can get a consistent read of the file.\r\n\r\nMandatory locking is supported in Linux but frowned upon (https://lwn.net/Articles/667210/).\r\n\r\nSee FileUtils.writeAtomically for an example of code in Druid that gets it (mostly) right. Although it's not fsyncing the containing directory entry, and it should be. That should be fixed.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442364514/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442380852","html_url":"https://github.com/apache/druid/issues/6665#issuecomment-442380852","issue_url":"https://api.github.com/repos/apache/druid/issues/6665","id":442380852,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjM4MDg1Mg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-28T09:34:09Z","updated_at":"2018-11-28T09:34:09Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/incubator-druid/pull/6677 adds fsyncing of the directory entry to FileUtils.writeAtomically.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442380852/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442390851","html_url":"https://github.com/apache/druid/pull/6587#issuecomment-442390851","issue_url":"https://api.github.com/repos/apache/druid/issues/6587","id":442390851,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjM5MDg1MQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-28T10:05:51Z","updated_at":"2018-11-28T10:05:51Z","author_association":"CONTRIBUTOR","body":"@QiuMM Sure, that sounds ok to me. Thanks for describing your reasoning.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442390851/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442398341","html_url":"https://github.com/apache/druid/pull/6493#issuecomment-442398341","issue_url":"https://api.github.com/repos/apache/druid/issues/6493","id":442398341,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjM5ODM0MQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-28T10:30:21Z","updated_at":"2018-11-28T10:30:26Z","author_association":"CONTRIBUTOR","body":"By the way, apologies for the delay in picking review back up on this PR.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442398341/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442402067","html_url":"https://github.com/apache/druid/pull/6503#issuecomment-442402067","issue_url":"https://api.github.com/repos/apache/druid/issues/6503","id":442402067,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjQwMjA2Nw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-28T10:42:45Z","updated_at":"2018-11-28T10:42:45Z","author_association":"CONTRIBUTOR","body":"Hi @elloooooo, I think I agree with @clintropolis - it makes more sense to me for the random balancer to be as close to totally random as possible. More 'smart' approaches make more sense to me in other strategy classes. It's good to hear you got the caching cost balancer working well in your case. Beyond what you already did, setting balancer threads higher could speed it up more.\r\n\r\nIt looks like we won't merge this change, but, thanks for the discussion it sparked.\r\n\r\nIf you have any more issues with balancing please do bring them to the attention of the community!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442402067/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442430139","html_url":"https://github.com/apache/druid/pull/6678#issuecomment-442430139","issue_url":"https://api.github.com/repos/apache/druid/issues/6678","id":442430139,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjQzMDEzOQ==","user":{"login":"QiuMM","id":15156517,"node_id":"MDQ6VXNlcjE1MTU2NTE3","avatar_url":"https://avatars.githubusercontent.com/u/15156517?v=4","gravatar_id":"","url":"https://api.github.com/users/QiuMM","html_url":"https://github.com/QiuMM","followers_url":"https://api.github.com/users/QiuMM/followers","following_url":"https://api.github.com/users/QiuMM/following{/other_user}","gists_url":"https://api.github.com/users/QiuMM/gists{/gist_id}","starred_url":"https://api.github.com/users/QiuMM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/QiuMM/subscriptions","organizations_url":"https://api.github.com/users/QiuMM/orgs","repos_url":"https://api.github.com/users/QiuMM/repos","events_url":"https://api.github.com/users/QiuMM/events{/privacy}","received_events_url":"https://api.github.com/users/QiuMM/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-28T12:29:20Z","updated_at":"2018-11-28T12:29:20Z","author_association":"MEMBER","body":"@yunwan can you explain why to do this, I want to know the reason.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442430139/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442462341","html_url":"https://github.com/apache/druid/issues/6666#issuecomment-442462341","issue_url":"https://api.github.com/repos/apache/druid/issues/6666","id":442462341,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjQ2MjM0MQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-28T14:18:58Z","updated_at":"2018-11-28T14:18:58Z","author_association":"MEMBER","body":"`PasswordProvider` abstraction allows (and actually is designed for) to be able to return different values over time. So in `AWSCredentialsConfig` and `ConfigDrivenAwsCredentialsConfigProvider`, `accessKey` and `secreteKey` are managed as separate PasswordProviders => allows the same kind of race as #6665.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442462341/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442463451","html_url":"https://github.com/apache/druid/issues/6666#issuecomment-442463451","issue_url":"https://api.github.com/repos/apache/druid/issues/6666","id":442463451,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjQ2MzQ1MQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-28T14:22:15Z","updated_at":"2018-11-28T14:22:42Z","author_association":"MEMBER","body":"I would suggest to replace it with an abstraction like this:\r\n```\r\ninterface AbstractCredentialsProvider {\r\n  List<String> getCredentials();\r\n}\r\n```\r\nWhere the implementation is responsible for making the values returned in the list to be consistent. On the user side, `list.get(0)` could be interpreted as \"accessKey\" or \"username\" or whatever, `list.get(1)` as \"secretKey\" or \"password\", etc.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442463451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442464240","html_url":"https://github.com/apache/druid/issues/6665#issuecomment-442464240","issue_url":"https://api.github.com/repos/apache/druid/issues/6665","id":442464240,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjQ2NDI0MA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-28T14:24:43Z","updated_at":"2018-11-28T14:24:56Z","author_association":"MEMBER","body":"Is update of `sessionCredentialsFile` outside of the control of Druid? Then probably we couldn't do much, except maybe add note in documentation (for Druid operators) that the file should be updated in the atomic manner as you described.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442464240/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442510689","html_url":"https://github.com/apache/druid/issues/6665#issuecomment-442510689","issue_url":"https://api.github.com/repos/apache/druid/issues/6665","id":442510689,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjUxMDY4OQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-28T16:27:56Z","updated_at":"2018-11-28T16:27:56Z","author_association":"CONTRIBUTOR","body":"It looks to me like the intention is that the session credentials file would be updated by some external, not-Druid process.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442510689/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442572301","html_url":"https://github.com/apache/druid/pull/5871#issuecomment-442572301","issue_url":"https://api.github.com/repos/apache/druid/issues/5871","id":442572301,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjU3MjMwMQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-28T19:23:57Z","updated_at":"2018-11-28T19:23:57Z","author_association":"CONTRIBUTOR","body":"@hellobabygogo thanks for checking! Couple of more questions.\r\n\r\n> 1. task2 started when task1 is PUBLISHING status.\r\n\r\nI guess you're saying task3. task2 is not supposed to start since it has the same startOffset with that of task1. Any tasks shouldn't have the same startOffsets with others except replicas. Is task2 a replica task of task1?\r\n\r\n> 2. with this PR, if stream data is continuously ingested and there are always some running and publish pending tasks, we shouldn't starting the supervisor with a new spec.\r\n\r\nIf so, I don't think this is a good solution. In most stream applications, data will be ingested continuously and it's not really desired to pause or stop data ingestion just for updating the supervisor spec. It only adds more operation burdens like pausing streams or waiting for all pending tasks to be published.\r\n\r\nSo, to find a better solution, I think it's important why task1 and task2 started even though they have the same startOffset. Do you have more contexts about this? It would be great if you have overlord logs and tasks logs.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442572301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442573596","html_url":"https://github.com/apache/druid/issues/6668#issuecomment-442573596","issue_url":"https://api.github.com/repos/apache/druid/issues/6668","id":442573596,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjU3MzU5Ng==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-28T19:27:48Z","updated_at":"2018-11-28T19:27:48Z","author_association":"CONTRIBUTOR","body":"Hmm what version of jdk are you using? I'm using `1.8.0_161` and it works.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442573596/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442573624","html_url":"https://github.com/apache/druid/pull/6674#issuecomment-442573624","issue_url":"https://api.github.com/repos/apache/druid/issues/6674","id":442573624,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjU3MzYyNA==","user":{"login":"Tagar","id":3013418,"node_id":"MDQ6VXNlcjMwMTM0MTg=","avatar_url":"https://avatars.githubusercontent.com/u/3013418?v=4","gravatar_id":"","url":"https://api.github.com/users/Tagar","html_url":"https://github.com/Tagar","followers_url":"https://api.github.com/users/Tagar/followers","following_url":"https://api.github.com/users/Tagar/following{/other_user}","gists_url":"https://api.github.com/users/Tagar/gists{/gist_id}","starred_url":"https://api.github.com/users/Tagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Tagar/subscriptions","organizations_url":"https://api.github.com/users/Tagar/orgs","repos_url":"https://api.github.com/users/Tagar/repos","events_url":"https://api.github.com/users/Tagar/events{/privacy}","received_events_url":"https://api.github.com/users/Tagar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-28T19:27:52Z","updated_at":"2018-11-28T19:27:52Z","author_association":"NONE","body":"@leventov I don't think maven build failure from Travis logs is related to this change?\r\n\r\n> [37905.922230] [15057] 296714 15057    38315      569      55       3        0             0 postgres\r\n> [37905.922252] Memory cgroup out of memory: Kill process 5421 (stack) score 234 or sacrifice child\r\n> [37905.927919] Killed process 73317 (Cabal-simple_mP) total-vm:1073884164kB, anon-rss:9568kB, file-rss:0kB, shmem-rss:0kB\r\n> [37917.669611] docker0: port 6(vethe610343) entered disabled state\r\n> \r\n\r\nWould it be possible to retest this?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442573624/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/442574023","html_url":"https://github.com/apache/druid/pull/6674#issuecomment-442574023","issue_url":"https://api.github.com/repos/apache/druid/issues/6674","id":442574023,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjU3NDAyMw==","user":{"login":"Tagar","id":3013418,"node_id":"MDQ6VXNlcjMwMTM0MTg=","avatar_url":"https://avatars.githubusercontent.com/u/3013418?v=4","gravatar_id":"","url":"https://api.github.com/users/Tagar","html_url":"https://github.com/Tagar","followers_url":"https://api.github.com/users/Tagar/followers","following_url":"https://api.github.com/users/Tagar/following{/other_user}","gists_url":"https://api.github.com/users/Tagar/gists{/gist_id}","starred_url":"https://api.github.com/users/Tagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Tagar/subscriptions","organizations_url":"https://api.github.com/users/Tagar/orgs","repos_url":"https://api.github.com/users/Tagar/repos","events_url":"https://api.github.com/users/Tagar/events{/privacy}","received_events_url":"https://api.github.com/users/Tagar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-28T19:29:05Z","updated_at":"2018-11-28T19:29:05Z","author_association":"NONE","body":"retest this please ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/442574023/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]